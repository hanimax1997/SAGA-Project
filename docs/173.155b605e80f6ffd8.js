(self.webpackChunkcoreSystem=self.webpackChunkcoreSystem||[]).push([[173],{4479:(co,wn,B)=>{"use strict";B.d(wn,{t:()=>me});var Se=B(3238),K=B(8277),Ge=B(5439),ee=B(4650);let me=(()=>{class Le extends K.t7{constructor(w){super(w)}createDate(w,o,e){if(o<0||o>11)throw Error(`Invalid month index "${o}". Month index has to be between 0 and 11.`);if(e<1)throw Error(`Invalid date "${e}". Date has to be greater than 0.`);const xe=Ge.utc({year:w,month:o,date:e}).locale(this.locale);if(!xe.isValid())throw Error(`Invalid date "${e}" for month with index "${o}".`);return xe}}return Le.\u0275fac=function(w){return new(w||Le)(ee.LFG(Se.Ad,8))},Le.\u0275prov=ee.Yz7({token:Le,factory:Le.\u0275fac}),Le})()},7470:(co,wn,B)=>{"use strict";B.d(wn,{q2:()=>Ge});let Ge={agence:{idAgence:47,codeAgence:"71616",idPersonneMorale:{idClient:12357,adressesList:[{idAdresse:7848,description:"Cit\xe9 29 logement alger"}],contactList:[{idContact:2594,description:"badsi.idir@yahoo.fr"}],raisonSocial:"Idir Badsi"}},auditDate:"2023-01-29T14:26:45.842+00:00",auditUser:null,canal:{idParam:100,description:"devis web"},dateExpiration:"2023-02-28",duree:{id_duree:3,type_duree:"Ann\xe9e",duree:1,description:"1 ann\xe9e"},email:"dif@gmail.com",idDevis:84,nom:"naila",paramDevisList:[{idGarantie:1,description:"RC",prime:"",sousGarantieList:[],categorieList:[]},{idGarantie:4,description:"Vol",prime:"",sousGarantieList:[],categorieList:[{idCategorie:29,description:"plafond",valeur:"0",sousCategorieList:{idSousCategorie:10,description:"plafond par acte",valeur:"1200000"}}]},{idGarantie:5,description:"Incendie v\xe9hicule terrestre",prime:"",sousGarantieList:[],categorieList:[{idCategorie:29,description:"plafond",valeur:"0",sousCategorieList:{idSousCategorie:10,description:"plafond par acte",valeur:"1200000"}}]},{idGarantie:6,description:"Vol Auto-Radio",prime:"",sousGarantieList:[],categorieList:[{idCategorie:19,description:"forumule",valeur:"80000",sousCategorieList:{idSousCategorie:8,description:"formule par acte",valeur:"80000"}},{idCategorie:29,description:"plafond",valeur:"1500",sousCategorieList:{idSousCategorie:10,description:"plafond par acte",valeur:"1500"}}]},{idGarantie:9,description:"D\xe9fense et recours",prime:"",sousGarantieList:[],categorieList:[]},{idGarantie:10,description:"Protection juridique",prime:"",sousGarantieList:[],categorieList:[]},{idGarantie:11,description:"Protection financi\xe8re",prime:"",sousGarantieList:[],categorieList:[]},{idGarantie:12,description:"Assistance",prime:"",sousGarantieList:[],categorieList:[{idCategorie:19,description:"forumule",valeur:"15",sousCategorieList:{idSousCategorie:8,description:"formule par acte",valeur:"15"}}]},{idGarantie:14,description:"Dommage Collision Valeur V\xe9nale",prime:"",sousGarantieList:[],categorieList:[{idCategorie:29,description:"plafond",valeur:"0",sousCategorieList:{idSousCategorie:10,description:"plafond par acte",valeur:"1200000"}}]}],prenom:"dif",primeList:[{idPrime:158,typePrime:{idParam:101,description:"prime net"},prime:"1200"},{idPrime:159,typePrime:{idParam:102,description:"prime fractionnement"},prime:"500"},{idPrime:160,typePrime:{idParam:103,description:"prime avec taxe"},prime:"2000"},{idPrime:161,typePrime:{idParam:104,description:"prime sans taxe"},prime:"2000"},{idPrime:162,typePrime:{idParam:105,description:"prime commercial"},prime:"2000"}],produit:{idCodeProduit:150,codeProduit:"45",description:"Automono"},raisonSocial:"",risqueList:[{idRisque:140,paramRisque:{idParamRisque:24,libelle:"Genre",descriptionChamp:"Genre"},valeur:""},{idRisque:141,paramRisque:{idParamRisque:28,libelle:"Ann\xe9e de mise en circulation",descriptionChamp:"Ann\xe9e"},valeur:"2023-01-11T23:00:00.000Z"},{idRisque:142,paramRisque:{idParamRisque:29,libelle:"Remorque",descriptionChamp:"Remorque"},valeur:""},{idRisque:143,paramRisque:{idParamRisque:31,libelle:"Type V\xe9hicule (Carrosserie)",descriptionChamp:"Type V\xe9hicule (Carrosserie)"},valeur:""},{idRisque:144,paramRisque:{idParamRisque:34,libelle:"Puissance",descriptionChamp:"Puissance"},valeur:""},{idRisque:145,paramRisque:{idParamRisque:38,libelle:"N\xb0 d'Immatriculation",descriptionChamp:"N\xb0 d'Immatriculation"},valeur:"123456789"},{idRisque:146,paramRisque:{idParamRisque:40,libelle:"Valeur V\xe9nal",descriptionChamp:"Valeur Assur\xe9"},valeur:"1200000"},{idRisque:147,paramRisque:{idParamRisque:41,libelle:"Valeur auto radio",descriptionChamp:"Valeur auto radio"},valeur:"250000"},{idRisque:148,paramRisque:{idParamRisque:56,libelle:"Wilaya d\xe9livrence",descriptionChamp:"Wilaya d\xe9livrence"},valeur:"2"},{idRisque:149,paramRisque:{idParamRisque:54,libelle:"Date d\xe9livrance",descriptionChamp:"Date d\xe9livrance"},valeur:"2023-01-24T23:00:00.000Z"},{idRisque:150,paramRisque:{idParamRisque:55,libelle:"date Naissance",descriptionChamp:"date naissance"},valeur:"2023-01-25T23:00:00.000Z"},{idRisque:151,paramRisque:{idParamRisque:52,libelle:"Usage",descriptionChamp:"Usage"},valeur:""}],statue:{idParam:109,description:"Active"},taxeList:[{idDevisTaxe:83,taxe:{idTaxe:1,idNational:"1",description:"Cout de police"},prime:"1200"},{idDevisTaxe:84,taxe:{idTaxe:2,idNational:"2",description:"Droit de timbre gradu\xe9"},prime:"500"}],telephone:"0559468465",typeClient:{idParam:107,description:"personne morale"}}},6666:(co,wn,B)=>{"use strict";B.d(wn,{E:()=>Se,P:()=>K});let Se={nomReduction:"",codeReduction:"",idReduction:"",dateDebut:"",dateFin:"",idProduit:0,typeReduction:0,tauxReduction:0,appAutomatique:0,mouvementPolice:0,param:[],agences:[],canalDistributions:[],segment:0,pack:[{}],utilisateurs:[],isAllAgences:!1,isAllUtilisateurs:!1,isAllCanalDistro:!1},K={idReduction:0,codeReduction:null,nomReduction:null,typeReduction:0,produit:0,dateFin:null}},2768:(co,wn,B)=>{"use strict";B.d(wn,{X:()=>K});var Se=B(4650);let K=(()=>{class Ge{transform(ee,...me){return null!=ee?ee.toString().replace(/,/g,"."):""}}return Ge.\u0275fac=function(ee){return new(ee||Ge)},Ge.\u0275pipe=Se.Yjl({name:"money",type:Ge,pure:!0}),Ge})()},6944:(co,wn,B)=>{"use strict";B.d(wn,{e:()=>Le});var Se=B(529),K=B(8505),Ge=B(262),h=B(2843),ee=B(7550),me=B(4650);let Le=(()=>{class Q{constructor(o){this.http=o}createAgence(o){const e={headers:new Se.WM({"Content-Type":"application/json"})};return this.http.post(`${ee.g.API_ENDPOINT_AGENCE}`,o,e).pipe((0,K.b)(xe=>this.logs(xe)),(0,Ge.K)(xe=>(0,h._)(xe.error)))}getAllAgenceDetails(){const o={headers:new Se.WM({"Content-Type":"application/json"})};return this.http.get(`${ee.g.API_ENDPOINT_DETAIL_AGENCE}`,o).pipe((0,K.b)(e=>this.logs(e)),(0,Ge.K)(e=>(0,h._)(e.error)))}getAllAgence(){const o={headers:new Se.WM({"Content-Type":"application/json"})};return this.http.get(`${ee.g.API_ENDPOINT_GETALL_AGENCE}`,o).pipe((0,K.b)(e=>this.logs(e)),(0,Ge.K)(e=>(0,h._)(e.error)))}uploadAgenceToSapBP(o){const e={headers:new Se.WM({"Content-Type":"application/json"}),responseType:"blob"};return this.http.post(`${ee.g.API_ENDPOINT_AGENCE_SAP_BP}`,o,e)}uploadAgenceToSapCC(o){const e={headers:new Se.WM({"Content-Type":"application/json"}),responseType:"blob"};return this.http.post(`${ee.g.API_ENDPOINT_AGENCE_SAP_CC}`,o,e)}uploadAgenceToSapCO(o){const e={headers:new Se.WM({"Content-Type":"application/json"}),responseType:"blob"};return this.http.post(`${ee.g.API_ENDPOINT_AGENCE_SAP_CO}`,o,e)}editAgence(o,e){const xe={headers:new Se.WM({"Content-Type":"application/json"})};return this.http.put(`${ee.g.API_ENDPOINT_AGENCE}/${e}`,o,xe).pipe((0,K.b)(n=>this.logs(n)),(0,Ge.K)(n=>(0,h._)(n.error)))}DesactAgence(o,e){const xe={headers:new Se.WM({"Content-Type":"application/json"})};return this.http.put(`${ee.g.API_ENDPOINT_DESACTIVE_AGENCE}/${o}`,e,xe).pipe((0,K.b)(n=>this.logs(n)),(0,Ge.K)(n=>(0,h._)(n.error)))}getAgenceById(o){const e={headers:new Se.WM({"Content-Type":"application/json"})};return this.http.get(`${ee.g.API_ENDPOINT_AGENCE}/${o}`,e).pipe((0,K.b)(xe=>this.logs(xe)),(0,Ge.K)(xe=>(0,h._)(xe.error)))}filterAgence(o){const e={headers:new Se.WM({"Content-Type":"application/json"})};return this.http.post(`${ee.g.API_ENDPOINT_FILTRE_AGENCE}`,o,e).pipe((0,K.b)(xe=>this.logs(xe)),(0,Ge.K)(xe=>(0,h._)(xe.error)))}logs(o){}}return Q.\u0275fac=function(o){return new(o||Q)(me.LFG(Se.eN))},Q.\u0275prov=me.Yz7({token:Q,factory:Q.\u0275fac,providedIn:"root"}),Q})()},5210:(co,wn,B)=>{"use strict";B.d(wn,{n:()=>i});var Se=B(5861),K=B(529),Ge=B(8505),h=B(262),ee=B(2843),me=B(9646),Le=B(7550),Q=B(4641),o=B(5439),xe=B(3906),n=B(4650);let i=(()=>{class Z{constructor(J){this.http=J,this.sousExit=!1}getTypeAvenant(){return this.http.get(`${Le.g.API_ENDPOINT_TYPE_AVENANT}`).pipe((0,Ge.b)(J=>this.logs(J)),(0,h.K)(J=>this.handleEroor(J,J.error)))}getTypeAvenantbyAvenantPrecedent(J){const he={headers:new K.WM({"Content-Type":"application/json","Access-Control-Allow-Origin":"*"})};return this.http.post(`${Le.g.API_ENDPOINT_TYPE_AVENANT}/all`,J,he).pipe((0,Ge.b)(Ze=>this.logs(Ze)),(0,h.K)(Ze=>(0,ee._)(Ze.error)))}getContratPrev(J,he){return this.http.get(`${Le.g.API_ENDPOINT_CONTRAT}/historique/${J}/mouvement/${he}`).pipe((0,Ge.b)(Ze=>this.logs(Ze)),(0,h.K)(Ze=>this.handleEroor(Ze,Ze.error)))}getAttributsAvenant(J){return this.http.get(`${Le.g.API_ENDPOINT_avenants}/${J}`).pipe((0,Ge.b)(he=>this.logs(he)),(0,h.K)(he=>this.handleEroor(he,he.error)))}getAvenantById(J){return this.http.get(`${Le.g.API_ENDPOINT_TYPE_AVENANT}/${J}`).pipe((0,Ge.b)(he=>this.logs(he)),(0,h.K)(he=>this.handleEroor(he,he.error)))}getAvenantByContrat(J){return this.http.get(`${Le.g.API_ENDPOINT_avenants}/all/${J}`).pipe((0,Ge.b)(he=>this.logs(he)),(0,h.K)(he=>this.handleEroor(he,he.error)))}submitAvenant(J){const he={headers:new K.WM({"Content-Type":"application/json","Access-Control-Allow-Origin":"*"})};return this.http.post(`${Le.g.API_ENDPOINT_avenants}`,J,he).pipe((0,Ge.b)(Ze=>this.logs(Ze)),(0,h.K)(Ze=>(0,ee._)(Ze.error)))}getDateExpiration(J){const he={headers:new K.WM({"Content-Type":"application/json","Access-Control-Allow-Origin":"*"})};return this.http.post(`${Le.g.API_ENDPOINT_AVENANT_EXPIRATIONDATE}`,J,he).pipe((0,Ge.b)(Ze=>Ze),(0,h.K)(Ze=>(0,ee._)(Ze.error)))}calculAvenant(J){const he={headers:new K.WM({"Content-Type":"application/json","Access-Control-Allow-Origin":"*"})};return this.http.post(`${Le.g.API_ENDPOINT_avenant_tarification}`,J,he).pipe((0,Ge.b)(Ze=>this.logs(Ze)),(0,h.K)(Ze=>(0,ee._)(Ze.error)))}approbationAvenant(J){const he={headers:new K.WM({"Content-Type":"application/json","Access-Control-Allow-Origin":"*"})};return this.http.post(`${Le.g.API_ENDPOINT_avenants}/approbation`,J,he).pipe((0,Ge.b)(Ze=>this.logs(Ze)),(0,h.K)(Ze=>(0,ee._)(Ze.error)))}controleDevisMulti(J,he){const Ze={headers:new K.WM({"Content-Type":"application/json",skip:""})};return this.http.post(`${Le.g.API_ENDPOINT_CONTROLE_FILE}/${he}`,J,Ze).pipe((0,Ge.b)(l=>this.logs(l)),(0,h.K)(l=>(0,ee._)(l.error)))}generateTarif(J){const he={headers:new K.WM({"Content-Type":"application/json","Access-Control-Allow-Origin":"*"})};return this.http.post(`${Le.g.API_ENDPOINT_TARIF_RENOUVELLEMENT}`,J,he).pipe((0,Ge.b)(Ze=>this.logs(Ze)),(0,h.K)(Ze=>(0,ee._)(Ze.error)))}generateTarifProprietaire(J){const he={headers:new K.WM({"Content-Type":"application/json","Access-Control-Allow-Origin":"*"})};return this.http.post(`${Le.g.API_ENDPOINT_TARIF_PROPRIETAIRE}`,J,he).pipe((0,Ge.b)(Ze=>this.logs(Ze)),(0,h.K)(Ze=>(0,ee._)(Ze.error)))}outputAvenant(J,he,Ze,l){var t=this;return(0,Se.Z)(function*(){let mn,Ft=0,ln=[],ut=["Garanties"],ot=[],tt={},Zt={},nn={},_n=[],xn=0,Ri=o(J?.dateEffet).format("DD-MM-YYYY"),Xn=o(J?.dateExpiration).format("DD-MM-YYYY"),Mt=J?.risqueList?.find(oe=>"P182"===oe?.codeRisque)?.reponse?.description,Lt=0,xt="";const ht="20A"===J.produit.codeProduit?["*","*","*","*"]:["*","*","*","*","*","*"];mn="A22"!=he?.typeAvenant.code?J?.paramContratList:Ze?.risqueList[0]?.garantieListco;let Yn=[],Jn=[];const pi=J.personnesList;pi.find(oe=>"CP234"===oe.role.code||"CP236"===oe.role.code)?(t.souscripteur01=pi.find(oe=>"CP234"===oe.role.code||"CP236"===oe.role.code),t.sousExit=!0):(t.souscripteur01=null,t.sousExit=!1);let Qn=[],Kn=[],tn=J.risqueList.find(oe=>"P40"==oe.codeRisque)?.reponse?.valeur,Kt=J.personnesList.find(oe=>"CP235"===oe?.role?.code),hi=J.personnesList.find(oe=>oe?.personne?.nom)?.personne?.nom,$i=J.personnesList.find(oe=>oe?.personne?.prenom1)?.personne?.prenom1;if("A172"==he.typeAvenant.code){const oe=he.avenantOrganismeList.filter(Zi=>Zi.typePerte.description).sort((Zi,Ai)=>parseInt(Zi.classementOrganisme,10)-parseInt(Ai.classementOrganisme,10)),pn=[...new Set(he.avenantOrganismeList.map(Zi=>Zi.typePerte.description))];return void(1===pn.length&&"Perte totale"===pn[0]?Sn("Perte totale",oe):1===pn.length&&"Perte totale et partielle"===pn[0]?Sn("Perte totale et partielle",oe):2===pn.length&&pn.includes("Perte totale")&&pn.includes("Perte totale et partielle")&&(Sn("Perte totale",oe),Sn("Perte totale et partielle",oe)))}function Sn(oe,pn){const Ai=J.dateExpiration,Di={content:[{columns:[{stack:[{text:"\n \n",alignment:"right"}]}],margin:[0,0,0,10]},{columns:[{stack:[{text:"Notice de Subrogation",alignment:"right"},{text:"Assurance Automobile \n\n\n",alignment:"right"}]}],margin:[0,0,0,10]},{columns:[{text:"ASSUR\xc9(E)",bold:!0,margin:[10,0,0,0]},{text:"REFERENCES DU CONTRAT",bold:!0,margin:[65,0,0,0]}],columnGap:10,margin:[0,0,0,10]},{columns:[{width:"auto",margin:[10,0,0,0],stack:[{text:Kt?`Raison Sociale : ${Kt.personne.raisonSocial}`:`Nom : ${hi}`},{text:Kt?" ":`Pr\xe9nom: ${$i}`},{text:`Adresse : ${J.personnesList[0].personne.adressesList[0].commune.description} ${J.personnesList[0].personne.adressesList[0].wilaya.description}`},{text:`Valeur v\xe9nale : ${tn} DA`}]},{width:"auto",margin:[168.5,0,0,0],stack:[{text:`N\xb0 de police : ${J.idContrat}`},{text:`Date d\u2019effet : ${o(J.dateEffet).format("DD-MM-YYYY")}`},{text:`Date d\u2019\xe9ch\xe9ance : ${o(Ai).format("DD-MM-YYYY")}`},{text:`Formule : ${J.pack.description}`}]}],margin:[0,0,0,10]},{table:{widths:["*","*","*"],body:[[{text:"Organisme de cr\xe9dit"},{text:"Montant du cr\xe9dit"},{text:"Type de perte"}],...pn.map(Nn=>[{text:Nn.organisme||""},{text:Nn.montant||""},{text:Nn.typePerte?.description||""}])]},margin:[0,10,0,10]},{text:"Le pr\xe9sent contrat est r\xe9gi par le Code Civil, l'ordonnance n\xb095/07 du 25 Janvier 1995 modifi\xe9e par la loi n\xb006/04 du 20 F\xe9vrier 2006, relative aux Assurances.",fontSize:10,margin:[0,10,0,10]},{text:[{text:"Monsieur,\n\n",bold:!0},`En cas de ${oe.toLowerCase()} du bien assur\xe9 ayant \xe9t\xe9 achet\xe9 \xe0 cr\xe9dit, l\u2019indemnit\xe9 ne saurait \xeatre effectu\xe9e qu\u2019entre les mains d\u2019un repr\xe9sentant de l\u2019organisme de cr\xe9dit hors de la pr\xe9sence et sans le concours de l\u2019assur\xe9(e).\n\n`,"Le droit pour la compagnie d\u2019assurance de r\xe9silier le contrat lors de toute infraction constat\xe9e demeure entier, mais en ce qui concerne l\u2019assur\xe9 (cr\xe9ancier susnomm\xe9), cette r\xe9siliation ne prendra effet qu\u2019un mois apr\xe8s la notification qui lui sera destin\xe9e par lettre recommand\xe9e \xe0 son domicile d\xe9sign\xe9 dans le contrat."],fontSize:10,margin:[0,10,0,10]},{text:"DECLARATION DU SOUSCRIPTEUR",bold:!0,fontSize:10,margin:[0,10,0,5]},{text:"Je reconnais avoir \xe9t\xe9 inform\xe9(e), au moment de la collecte d'informations que les cons\xe9quences qui pourraient r\xe9sulter d\u2019une omission ou d\u2019une d\xe9claration inexacte sont celles pr\xe9vues par l'article 19 de l'ordonnance n\xb095/07 du 25 janvier 1995 relative aux assurances modifi\xe9e et compl\xe9t\xe9e par la loi n\xb006/04 du 20 f\xe9vrier 2006.",fontSize:10,alignment:"justify"},{columns:[{text:` \n \nFait \xe0 :                              Le : ${o(he.dateAvenant).format("DD-MM-YYYY")}     \n\nEn trois exemplaires \n\n\n`,fontSize:10,bold:!0},{text:"",width:"auto"}],columnGap:15,margin:[0,30,0,0]},{columns:[{text:"Signature de l\u2019assur\xe9(e) :",fontSize:10,decoration:"underline",bold:!0},{text:"Signature de l\u2019assureur:",alignment:"center",fontSize:10,decoration:"underline",bold:!0}]},{columns:[{text:" Pr\xe9c\xe9d\xe9e de la mention \xab Lu et approuv\xe9 \xbb",fontSize:8}]},{stack:[{text:" \n \n \n \n \n"}]},{text:"Signature de l\u2019organisme de cr\xe9dit:",alignment:"center",fontSize:10,decoration:"underline",bold:!0}],styles:{header:{fontSize:14,bold:!0},tableHeader:{bold:!0,fontSize:10,color:"black"}}},Mn=`Avenant_${J?.idContrat}_${oe.replace(/\s+/g,"_")}.pdf`;Q.createPdf(Di).download(Mn)}let vt=[{text:"Garanties ",style:"headerTable"},{text:"Sous Garanties",style:"headerTable"},{text:"Plafonds ",style:"headerTable"},{text:"Franchises ",style:"headerTable"}];switch(_n=J?.risqueList.filter(oe=>"vehicule"==oe.categorieParamRisque),xn=J?.risqueList.find(oe=>"P40"==oe.paramRisque?.codeParam)?.valeur,Jn=J?.risqueList.filter(oe=>"vehicule"!=oe.categorieParamRisque),J?.pack?.codePack){case"V01":xt="Monde entier sauf USA, Canada, Japon, Singapour";break;case"V02":xt="Monde entier";break;case"V04":xt="Tunisie";break;case"V03":xt="Turquie"}if(Ri&&Xn){const oe=o(Ri,"DD/MM/YYYY");Lt=o(Xn,"DD/MM/YYYY").add(1,"day").diff(oe,"days")}const bn=J?.groupesList?.[0]?.risques?.map(oe=>[{text:oe?.idRisque,fontSize:"8",alignment:"center"},{text:(oe?.risque.find(pn=>"Nom"==pn.colonne)?.valeur||"")+" "+(oe?.risque.find(pn=>"Pr\xe9nom"==pn.colonne)?.valeur||""),fontSize:"8",alignment:"center"},{text:o(oe?.risque.find(pn=>"DateDeNaissance"==pn.colonne)?.valeur).format("DD/MM/YYYY")||"",fontSize:"8",alignment:"center"},{text:Ze?.risqueList?.find(pn=>pn.risque===oe?.idRisque)?.primeList?.find(pn=>"CP101"===pn.typePrime.code).primeProrata??0,fontSize:"8",alignment:"center"}])||[];for(Ft=0;Ft<Jn?.length;)Yn.push({text1:[{text:Jn[Ft].libelle+": ",bold:!0,fontSize:"8"},{text:"Liste of values"==Jn[Ft].typeChamp?Jn[Ft].reponse?.idParamReponse?.description:"From Table"==Jn[Ft].typeChamp?Jn[Ft].reponse?.description:"Number"==Jn[Ft].typeChamp?Number(Jn[Ft].reponse?.valeur).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}):Jn[Ft].reponse?.valeur,fontSize:"8"}],text2:[{text:Jn[Ft+1]?Jn[Ft+1].libelle+": ":"",bold:!0,fontSize:"8"},{text:Jn[Ft+1]?"Liste of values"==Jn[Ft+1].typeChamp?Jn[Ft+1].reponse?.idParamReponse?.description:"From Table"==Jn[Ft+1].typeChamp?Jn[Ft+1].reponse?.description:"Number"==Jn[Ft+1].typeChamp?Number(Jn[Ft+1].reponse?.valeur).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}):Jn[Ft+1].reponse?.valeur:"",fontSize:"8"}]}),Ft+=2;for(J?.personnesList?.forEach(oe=>{switch(oe?.role?.idParam){case 233:Zt=oe?.personne;break;case 234:nn=oe?.personne;break;case 235:tt=oe?.personne;break;case 236:nn=oe?.personne,tt=oe?.personne;break;case 237:nn=oe?.personne,Zt=oe?.personne;break;case 280:tt=oe?.personne,Zt=oe?.personne;break;case 238:nn=oe?.personne,tt=oe?.personne,Zt=oe?.personne}}),Ft=0;Ft<mn?.length;)mn[Ft].categorieList?.map(oe=>{ut.push(oe?.description.charAt(0).toUpperCase()+oe?.description.slice(1))}),Ft++;if(ut=ut.filter((oe,pn)=>ut.indexOf(oe)===pn),ut.push("Primes nettes"),ut.map(oe=>{ot.push("*")}),"96"==J?.produit.codeProduit){let oe=[];oe=J?.paramContratList?.filter(pn=>"J01"===pn.codeGarantie)||[],Qn.push(oe[0]),Kn=J?.paramContratList?.filter(pn=>"J01"!=pn.codeGarantie)||[]}for(Ft=0;Ft<mn?.length;){let oe={Garanties:[{text:mn[Ft].description,fontSize:"8"}],Plafond:[{text:"",fontSize:"8",alignment:"center"}],Formule:[{text:"",fontSize:"8",alignment:"center"}],Franchise:[{text:"",fontSize:"8",alignment:"center"}],"Primes nettes":[{text:Number(mn[Ft].primeProrata).toFixed(2).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")+" DZD",fontSize:"8",alignment:"center"}]};mn[Ft].categorieList?.map(pn=>{switch(pn.description){case"plafond":oe.Plafond[0].text=Number(pn.valeur).toLocaleString("en-US").replace(/\B(?=(\d{3})+(?!\d))/g,",");break;case"formule":oe.Formule[0].text=Number(pn.valeur).toLocaleString("en-US").replace(/\B(?=(\d{3})+(?!\d))/g,",");break;case"franchise":oe.Franchise[0].text=Number(pn.valeur).toLocaleString("en-US").replace(/\B(?=(\d{3})+(?!\d))/g,",")}}),ln.push(oe),Ft++}let Vt="",Gn="",ei=0,vi=0;switch(J?.produit.codeProduit){case"45A":Gn=yield(0,xe.Z)(t.http,"assets/signature-auto.png"),ei=222,vi=124,Vt="https://www.axa.dz/wp-content/uploads/2023/10/Conditions-generales-Assurance-Automobile.pdf";break;case"96":Gn=yield(0,xe.Z)(t.http,"assets/signature-mrp-mrh.png"),ei=336,vi=143,Vt="https://www.axa.dz/wp-content/uploads/2023/10/Conditions-Generales-Habitation.pdf";break;case"95":Gn=yield(0,xe.Z)(t.http,"assets/signature-mrp-mrh.png"),ei=336,vi=143,Vt="https://www.axa.dz/wp-content/uploads/2023/11/Conditions-Generales-Multirisque-professionnelle.pdf";break;case"20A":case"20G":Gn=yield(0,xe.Z)(t.http,"assets/signature-voyage-gav.png"),ei=336,vi=143;break;default:Gn=""}const uo=yield(0,xe.Z)(t.http,"assets/axalogo.png"),bo={watermark:{text:"",color:"blue",opacity:.1},pageMargins:sessionStorage.getItem("roles")?.includes("COURTIER")?[35,10,120,95]:[35,10,35,95],border:[!1,!1,!1,!1],footer:function(oe,pn){return sessionStorage.getItem("roles")?.includes("COURTIER")?[{text:"AXA Assurances Alg\xe9rie Vie - Lotissement 11 d\xe9cembre 1960 lots 08 et 12, 16030 El Biar Alger\n                  Telephone: + +213 21 37 01 78 \u2013 www.axa.dz",fontSize:8,color:"#00008F",margin:[20,50,10,0]},{text:"\n"},{text:"AXA Assurances Alg\xe9rie Vie, Soci\xe9t\xe9 Par Actions au capital de 2.250.000.000,00 DZD. Entreprise r\xe9gie par la Loi n\xb006/04 du 20 F\xe9vrier 2006 modifiant et compl\xe9tant l\u2019ordonnance n\xb095/07 du 25 Janvier 1995, relative aux Assurances. \n                  Si\xe8ge social : Lotissement 11 d\xe9cembre 1960 lots 08 et 12, 16030 El Biar Alger. Registre de Commerce N\xb016/00 - 1005275 B 11. Agr\xe9ment N\xb079 du 02 novembre 2011.\n                  ",fontSize:6,color:"#00008F",margin:[20,0,10,20]}]:{}},content:[{columns:[sessionStorage.getItem("roles")?.includes("COURTIER")?{image:uo,width:60,height:60,alignment:"left"}:{width:120,text:""},""!==Vt?{qr:Vt,fit:"70",width:"auto",margin:sessionStorage.getItem("roles")?.includes("COURTIER")?[10,20,20,0]:[0,0,20,0],alignment:"bottom"}:{},{width:"*",alignment:"bottom",stack:["96"==J?.produit.codeProduit?{text:"AXA  MultiRisque Habitation",style:"sectionHeader"}:{text:"AXA "+J?.produit?.description.toUpperCase(),style:"sectionHeader"},{text:"Conditions Particuli\xe8res",style:"sectionHeader",color:"black"},{text:J?.pack?.description,style:"sectionHeader",color:"black"},null!=J?.convention?{text:"Convention: "+J?.descriptionConvention,style:"sectionHeader",color:"black"}:{},null!=J?.reduction?{text:"R\xe9duction: "+J?.descriptionReduction,style:"sectionHeader",color:"black"}:{}]}]},{columns:[{style:"table",table:{widths:["*"],alignment:"left",body:[[{text:"Agence",style:"headerTable"}]]}},{style:"table",table:{widths:["*"],alignment:"right",body:[[{text:"R\xe9f\xe9rence du contrat",style:"headerTable"}]]}}]},{columns:[{table:{widths:["*"],alignment:"left",body:[[{text:[{text:"Nom et code agence : ",bold:!0,fontSize:"8"},{text:he?.agence?.codeAgence+" "+he?.agence?.raisonSocial,fontSize:"8"}]}]]}},{table:{widths:["*"],alignment:"right",body:[[{text:[{text:"N\xb0 Police: ",bold:!0,fontSize:"8"},{text:J?.idContrat,fontSize:"8"}]}]]}}]},{columns:[{table:{widths:["*"],alignment:"left",body:[[{text:[{text:"Adresse agence : ",bold:!0,fontSize:"8"},{text:J?.agence?.adresse,fontSize:"8"}]}]]}},{table:{widths:["*"],alignment:"right",body:[[{text:[{text:"Type de contrat : ",bold:!0,fontSize:"8"},{text:"Dur\xe9e Ferme",fontSize:"8"}]}]]}}]},{columns:[{table:{widths:["*"],alignment:"left",body:[[{text:[{text:"T\xe9l\xe9phone agence : ",bold:!0,fontSize:"8"},{text:J?.agence?.telephone,fontSize:"8"}]}]]}},{table:{widths:["*"],alignment:"right",body:[[{text:[{text:"20A"===J.produit.codeProduit?"Date effet contrat :":"Date effet : ",bold:!0,fontSize:"8"},{text:"20A"===J.produit.codeProduit?Ri:he?.dateAvenant.split("T")[0],fontSize:"8"}]}]]}}]},{columns:[{table:{widths:["*"],alignment:"left",body:[[{text:[{text:"E-mail agence : ",bold:!0,fontSize:"8"},{text:J?.agence?.email,fontSize:"8"}]}]]}},{table:{widths:["*"],alignment:"right",body:[[{text:"A22"!=he?.typeAvenant.code?[{text:"Date expiration contrat : ",bold:!0,fontSize:"8"},{text:"20A"===J.produit.codeProduit?Xn:o(J?.dateExpiration).format("DD-MM-YYYY"),fontSize:"8"}]:[{text:"Date expiration carte orange : ",bold:!0,fontSize:"8"},{text:he?.dateExpirationAvenant?.split("T")[0],fontSize:"8"}]}]]}}]},"20A"===J.produit.codeProduit?[{text:"\n"},{table:{widths:["*","*"],body:[[{text:"Avenant",colSpan:2,alignment:"center",style:"headerTable"},{}],[{text:`Avenant N\xb0 : ${l}`,fontSize:8},{text:"Date d\u2019\xe9dition : "+o(he.dateAvenant).format("DD-MM-YYYY"),fontSize:8}]]}},{style:"table",table:{widths:["*"],alignment:"left",body:[[{text:"Souscripteur",style:"headerTable",alignment:"left"}]]}},{table:{widths:["*"],alignment:"left",body:[[{text:[{text:null!=nn.raisonSocial?"Raison Sociale : ":"Nom & Pr\xe9nom : ",bold:!0,fontSize:"8"},{text:null!=nn.raisonSocial?nn?.raisonSocial:nn?.nom+" "+nn?.prenom1,fontSize:"8"}]}]]}},{table:{widths:["*"],alignment:"left",body:[[{text:[{text:"T\xe9l\xe9phone : ",bold:!0,fontSize:"8"},{text:nn?.contactList?.find(oe=>7==oe.typeContact?.idParam)?.description,fontSize:"8"}]}]]}},{table:{widths:["*"],alignment:"left",body:[[{text:[{text:"E-mail : ",bold:!0,fontSize:"8"},{text:nn?.contactList?.find(oe=>8==oe.typeContact?.idParam)?.description,fontSize:"8"}]}]]}}]:[{columns:[{style:"table",table:{widths:["*"],alignment:"left",body:[[{text:"Souscripteur",style:"headerTable"}]]}},{style:"table",table:{widths:["*"],alignment:"right",body:[[{text:"Assur\xe9(e)",style:"headerTable"}]]}}]},{columns:[{table:{widths:["*"],alignment:"left",body:[[{text:[{text:t.sousExit&&null!=nn.raisonSocial?"Raison Sociale : ":"Nom & Pr\xe9nom : ",bold:!0,fontSize:"8"},{text:t.sousExit&&null!=nn.raisonSocial?nn?.raisonSocial:nn?.nom+" "+nn?.prenom1,fontSize:"8"}]}]]}},{table:{widths:["*"],alignment:"right",body:[[{text:[{text:J?.personnesList?.find(oe=>null!=oe?.raisonSocial)?"Raison Sociale : ":"Nom & Pr\xe9nom : ",bold:!0,fontSize:"8"},{text:J?.personnesList?.find(oe=>null!=oe?.personne?.raisonSocial)?J?.personnesList?.find(oe=>oe?.personne?.raisonSocial)?.personne?.raisonSocial:tt?.nom+" "+tt?.prenom1,fontSize:"8"}]}]]}}]},{columns:[{table:{widths:["*"],alignment:"left",body:[[{text:[{text:"N\xe9(e) le : ",bold:!0,fontSize:"8"},{text:nn?.dateNaissance?.split("T")[0],fontSize:"8"}]}]]}},{table:{widths:["*"],alignment:"right",body:[[{text:[{text:"N\xe9(e) le : ",bold:!0,fontSize:"8"},{text:tt?.dateNaissance?.split("T")[0],fontSize:"8"}]}]]}}]},{columns:[{table:{widths:["*"],alignment:"left",body:[[{text:[{text:"E-mail : ",bold:!0,fontSize:"8"},{text:nn?.contactList?.find(oe=>8==oe.typeContact?.idParam)?.description,fontSize:"8"}]}]]}},{table:{widths:["*"],alignment:"right",body:[[{text:[{text:"E-mail : ",bold:!0,fontSize:"8"},{text:tt?.contactList?.find(oe=>8==oe.typeContact?.idParam)?.description,fontSize:"8"}]}]]}}]},{columns:[{table:{widths:["*"],alignment:"left",body:[[{text:[{text:"T\xe9l\xe9phone : ",bold:!0,fontSize:"8"},{text:nn?.contactList?.find(oe=>7==oe.typeContact?.idParam)?.description,fontSize:"8"}]}]]}},{table:{widths:["*"],alignment:"right",body:[[{text:[{text:"T\xe9l\xe9phone : ",bold:!0,fontSize:"8"},{text:tt?.contactList?.find(oe=>7==oe.typeContact?.idParam)?.description,fontSize:"8"}]}]]}}]}],"20A"===J.produit.codeProduit?[{columns:[{style:"table",table:{widths:["*"],alignment:"left",body:[[{text:"Assure(es)",style:"headerTable",alignment:"left"}]]}}]},{table:{widths:["*","*","*","*"],body:[[{text:"Num\xe9ro d\u2019assur\xe9 ",style:"headerTable"},{text:"Nom et Pr\xe9nom",style:"headerTable"},{text:"Date de naissance",style:"headerTable"},{text:"Prime nette",style:"headerTable"}],...bn]}},{text:"\n"},{table:{widths:["*","*"],body:[[{text:"Informations du voyage",style:"headerTable",colSpan:2,alignment:"center"},""],[{text:`Formule : ${J?.pack?.description}`,fontSize:"8"},{text:`Dur\xe9e : ${Lt} Jour(s)`,fontSize:"8"}],[{text:`Zone : ${xt}`,fontSize:"8"},{text:`Date depart : ${Ri}`,fontSize:"8"}],[{text:`Pays destination : ${J.isShengen?Mt+" (Schengen)":Mt}`,fontSize:"8"},{text:`Date retour : ${Xn}`,fontSize:"8"}]]}},{text:"\n"}]:[0!=_n?.length?{columns:[{style:"table",table:{widths:["*"],alignment:"left",body:[[{text:"Conducteur principal",style:"headerTable"}]]}},{style:"table",table:{widths:["*"],alignment:"right",body:[[{text:"V\xe9hicule",style:"headerTable"}]]}}]}:{},0!=_n?.length?{columns:[{table:{widths:["*"],alignment:"left",body:[[{text:[{text:"Nom & Pr\xe9nom : ",bold:!0,fontSize:"8"},{text:Zt?.nom+" "+Zt?.prenom1,fontSize:"8"}]}]]}},{table:{widths:["*"],alignment:"right",body:[[{columns:[{text:[{text:"Marque : ",bold:!0,fontSize:"8"},{text:_n.find(oe=>"P25"==oe.codeRisque)?.reponse?.idParamReponse?.description,fontSize:"8"}]},{text:[{text:"Mod\xe8le : ",bold:!0,fontSize:"8"},{text:_n.find(oe=>"P26"==oe.codeRisque)?.reponse?.idParamReponse?.description,fontSize:"8"}]}]}]]}}]}:{},0!=_n?.length?{columns:[{table:{widths:["*"],alignment:"left",body:[[{text:[{text:"E-mail : ",bold:!0,fontSize:"8"},{text:Zt?.contactList?.find(oe=>8==oe.typeContact?.idParam)?.description,fontSize:"8"}]}]]}},{table:{widths:["*"],alignment:"right",body:[[{text:[{text:"N\xb0 de Ch\xe2ssis :  ",bold:!0,fontSize:"8"},{text:_n.find(oe=>"P30"==oe.codeRisque)?.reponse?.valeur,fontSize:"8"}]}]]}}]}:{},0!=_n?.length?{columns:[{table:{widths:["*"],alignment:"left",body:[[{text:[{text:"T\xe9l\xe9phone : ",bold:!0,fontSize:"8"},{text:Zt?.contactList?.find(oe=>7==oe.typeContact?.idParam)?.description,fontSize:"8"}]}]]}},{table:{widths:["*"],alignment:"right",body:[[{text:[{text:"Immatriculation :  ",bold:!0,fontSize:"8"},{text:_n.find(oe=>"P38"==oe.codeRisque)?.reponse?.valeur,fontSize:"8"}]}]]}}]}:{},0!=_n?.length?{columns:[{table:{widths:["*"],alignment:"left",body:[[{text:[{text:"N\xe9(e) le : ",bold:!0,fontSize:"8"},{text:Zt?.dateNaissance?.split("T")[0],fontSize:"8"}]}]]}},{table:{widths:["*"],alignment:"right",body:[[{text:[{text:"Date de mise en circulation : ",bold:!0,fontSize:"8"},{text:_n.find(oe=>"P28"==oe.codeRisque)?.reponse?.valeur?.split("T")[0],fontSize:"8"}]}]]}}]}:{},0!=_n?.length?{columns:[{table:{widths:["*"],alignment:"left",body:[[{text:[{text:"Cat\xe9gorie de permis : ",bold:!0,fontSize:"8"},{text:Zt?.documentList?.find(oe=>5==oe.typeDocument?.idParam)?.sousCategorie,fontSize:"8"}]}]]}},{table:{widths:["*"],alignment:"right",body:[[{text:[{text:"Valeur V\xe9nale : ",bold:!0,fontSize:"8"},{text:_n.find(oe=>"P40"==oe.codeRisque)?.reponse?.valeur+" DZD",fontSize:"8"}]}]]}}]}:{},0!=_n?.length?{columns:[{table:{widths:["*"],alignment:"left",body:[[{text:[{text:"Obtenu le : ",bold:!0,fontSize:"8"},{text:Zt?.documentList?.find(oe=>5==oe.typeDocument?.idParam)?.dateDelivrance?.split("T")[0],fontSize:"8"}]}]]}},{table:{widths:["*"],alignment:"right",body:[[{columns:[{text:[{text:"Genre : ",bold:!0,fontSize:"8"},{text:_n.find(oe=>"P31"==oe.codeRisque)?.reponse?.idParamReponse?.description,fontSize:"8"}]},{text:[{text:"Usage : ",bold:!0,fontSize:"8"},{text:_n.find(oe=>"P52"==oe.codeRisque)?.reponse?.idParamReponse?.description,fontSize:"8"}]}]}]]}}]}:{},0!=_n?.length?{}:{style:"table",table:{widths:["*"],alignment:"right",body:[[{text:"Caract\xe9ristiques du risque assur\xe9",style:"headerTable"}]]}},0!=_n?.length?{}:t.table(Yn,["text1","text2"])],{text:"\n"},0!=_n?.length&&0!=ln.length?t.table(ln,ut):{},0!=_n?.length?{columns:[{style:"table",table:{widths:["*","*","*","*","*","*"],body:[[{text:"Prime nette",style:"headerTable"},"A12"==he?.typeAvenant.code||"A13"==he?.typeAvenant.code||"A18"==he?.typeAvenant.code?{text:"Co\xfbt de police",style:"headerTable"}:{text:"Frais de gestion",style:"headerTable"},{text:"T.V.A",style:"headerTable"},0!=_n?.length?{text:"F.G.A",style:"headerTable"}:{},{text:"Timbre de dimension",style:"headerTable"},0!=_n?.length?{text:"Timbre gradu\xe9",style:"headerTable"}:{}],[{text:Number(Ze?.primeList?.find(oe=>"CP101"==oe?.typePrime?.code)?.primeProrata).toFixed(2).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")+" DZD",fontSize:10},"A12"==he?.typeAvenant.code||"A13"==he?.typeAvenant.code||"A18"==he?.typeAvenant.code?{text:Ze.taxeList?.find(oe=>"T01"==oe?.taxe?.code)?Number(Ze?.taxeList?.find(oe=>"T01"==oe?.taxe?.code)?.primeProrata).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})+" DZD":"/",alignment:"center",fontSize:10}:{text:Ze.taxeList?.find(oe=>"T08"==oe?.taxe?.code)?Number(Ze?.taxeList?.find(oe=>"T08"==oe?.taxe?.code)?.primeProrata).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})+" DZD":"/",alignment:"center",fontSize:10},{text:Number(Ze?.taxeList?.find(oe=>"T04"==oe?.taxe?.code)?.primeProrata).toFixed(2).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")+" DZD",fontSize:10},0!=_n?.length?{text:Number(Ze?.taxeList?.find(oe=>"T07"==oe?.taxe?.code)?.primeProrata).toFixed(2).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")+" DZD",fontSize:10}:{},{text:Number(Ze?.taxeList?.find(oe=>"T03"==oe?.taxe?.code)?.primeProrata).toFixed(2).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")+" DZD",fontSize:10},0!=_n?.length?{text:Number(Ze?.taxeList?.find(oe=>"T02"==oe?.taxe?.code)?.primeProrata).toFixed(2).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")+".DZD",fontSize:10}:{}],[{text:"",colSpan:4},{},{},{},{text:"Prime Totale",style:"headerTable"},{text:Number(Ze?.primeList?.find(oe=>"CP186"==oe?.typePrime?.code)?.primeProrata).toFixed(2).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")+" DZD",fontSize:10}]]}}]}:{columns:[{style:"table",table:{widths:ht,body:["20A"===J.produit.codeProduit?[{text:"Prime nette",style:"headerTable"},{text:"Frais de gestion",style:"headerTable"},{text:"Droit de timbre",style:"headerTable"},{text:"Prime TTC",style:"headerTable"}]:[{text:"Prime nette",style:"headerTable"},{text:"Prime sans r\xe9duction",style:"headerTable"},"A12"==he?.typeAvenant.code||"A18"==he?.typeAvenant.code?{text:"Co\xfbt de police",style:"headerTable"}:{text:"Frais de gestion",style:"headerTable"},{text:"T.V.A",style:"headerTable"},{text:"Timbre de dimension",style:"headerTable"},{text:"Prime Totale",style:"headerTable"}],"20A"===J.produit.codeProduit?[{text:Number(Ze?.primeList?.find(oe=>"CP101"==oe?.typePrime?.code)?.primeProrata).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})+" DZD",fontSize:10,alignment:"center"},{text:Ze.taxeList?.find(oe=>"T08"==oe?.taxe?.code)?Number(Ze?.taxeList?.find(oe=>"T08"==oe?.taxe?.code)?.primeProrata).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})+" DZD":"/",alignment:"center",fontSize:10},{text:Ze.taxeList?.find(oe=>"T03"==oe?.taxe?.code)?Number(Ze?.taxeList?.find(oe=>"T03"==oe?.taxe?.code)?.primeProrata).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})+" DZD":"/",alignment:"center",fontSize:10},{text:Ze.primeList?.find(oe=>"CP186"==oe?.typePrime?.code)?Number(Ze?.primeList?.find(oe=>"CP186"==oe?.typePrime?.code)?.primeProrata).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})+" DZD":"/",alignment:"center",fontSize:10}]:[{text:Number(Ze?.primeList?.find(oe=>"CP101"==oe?.typePrime?.code)?.primeProrata).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})+" DZD",fontSize:10},{text:Number(Ze?.primeList?.find(oe=>"CP264"==oe?.typePrime?.code)?.primeProrata).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})+" DZD",fontSize:10},"A12"==he?.typeAvenant.code||"A18"==he?.typeAvenant.code?{text:Ze.taxeList?.find(oe=>"T01"==oe?.taxe?.code)?Number(Ze?.taxeList?.find(oe=>"T01"==oe?.taxe?.code)?.primeProrata).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})+" DZD":"/",alignment:"center",fontSize:10}:{text:Ze.taxeList?.find(oe=>"T08"==oe?.taxe?.code)?Number(Ze?.taxeList?.find(oe=>"T08"==oe?.taxe?.code)?.primeProrata).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})+" DZD":"/",alignment:"center",fontSize:10},{text:Ze.taxeList?.find(oe=>"T04"==oe?.taxe?.code)?Number(Ze?.taxeList?.find(oe=>"T04"==oe?.taxe?.code)?.primeProrata).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})+" DZD":"/",alignment:"center",fontSize:10},{text:Ze.taxeList?.find(oe=>"T03"==oe?.taxe?.code)?Number(Ze?.taxeList?.find(oe=>"T03"==oe?.taxe?.code)?.primeProrata).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})+" DZD":"/",alignment:"center",fontSize:10},{text:Ze.primeList?.find(oe=>"CP186"==oe?.typePrime?.code)?Number(Ze?.primeList?.find(oe=>"CP186"==oe?.typePrime?.code)?.primeProrata).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})+" DZD":"/",alignment:"center",fontSize:10}]]}}]},{text:"\n"}],styles:{sectionHeader:{bold:!0,color:"#d14723",fontSize:10,alignment:"right"},BG:{fontSize:8},table:{margin:[0,10,0,0]},headerTable:{alignment:"center",bold:!0,fontSize:10,color:"#00008F"}}};"A21"==he?.typeAvenant.code||"A12"==he?.typeAvenant.code||"A10"==he?.typeAvenant.code||"A06"==he?.typeAvenant.code||"A03"==he?.typeAvenant.code||"A11"==he?.typeAvenant.code||"A17"==he?.typeAvenant.code||"A13"==he?.typeAvenant.code?bo.content.push("20A"===J.produit.codeProduit?{}:{text:"Le pr\xe9sent contrat est r\xe9gi par le Code Civil, l'ordonnance n\xb095/07 du 25 Janvier 1995 modifi\xe9e par la loi n\xb006/04 du 20 F\xe9vrier 2006, relative aux Assurances, l'ordonnance n\xb074/15 du 30 Janvier 1974 modifi\xe9e et compl\xe9t\xe9e par la loi n\xb088/31 du 19/07/1988 et les d\xe9crets n\xb080/34 - n\xb080/35 - n\xb080/36 et n\xb080/37 du 16 F\xe9vrier 1980.",fontSize:"8",color:"black",pageBreak:"after"},"95"==J?.produit.codeProduit?{style:"table",text:"Tableau des garanties",fontSize:14,color:"black",bold:!0,alignment:"center"}:{},"95"==J?.produit.codeProduit?{style:"table",table:{widths:[95,175,120,45,60],headerRows:1,body:[vt].concat(Kn.map(oe=>{let pn,Zi=[],Ai=[],Di=[],Mn=[],vn=0;switch(pn=oe.description,oe?.sousGarantieList?.map(Et=>{Zi.push({text:Et.description,fontSize:8,lineHeight:1.25}),Ai[vn]="SG98"!=Et.codeSousGarantie?"SG87"!=Et.codeSousGarantie&&"SG89"!=Et.codeSousGarantie?"SG84"!=Et.codeSousGarantie&&"SG85"!=Et.codeSousGarantie&&"SG86"!=Et.codeSousGarantie?"SG82"!=Et.codeSousGarantie?"SG81"!=Et.codeSousGarantie?"SG68"!=Et.codeSousGarantie?"SG64"!=Et.codeSousGarantie&&"SG65"!=Et.codeSousGarantie?"SG79"!=Et.codeSousGarantie?"SG52"!=Et.codeSousGarantie&&"SG53"!=Et.codeSousGarantie&&"SG70"!=Et.codeSousGarantie&&"SG71"!=Et.codeSousGarantie?"SG50"!=Et.codeSousGarantie?"SG72"!=Et.codeSousGarantie&&"SG12"!=Et.codeSousGarantie&&"SG35"!=Et.codeSousGarantie&&"SG22"!=Et.codeSousGarantie&&"SG44"!=Et.codeSousGarantie&&"SG37"!=Et.codeSousGarantie&&"SG39"!=Et.codeSousGarantie&&"SG54"!=Et.codeSousGarantie&&"SG55"!=Et.codeSousGarantie&&"SG72"!=Et.codeSousGarantie?Et.categorieList?.find(mo=>"plafond"==mo?.description)?0!=Et.categorieList?.find(mo=>"plafond"==mo?.description).valeur?{text:Number(Et.categorieList?.find(mo=>"plafond"==mo?.description).valeur).toString().replace(/\B(?=(\d{3})+(?!\d))/g," ")+" DZD",fontSize:"8",lineHeight:1.25,alignment:"center"}:{text:"A concurrence des frais engag\xe9s",fontSize:"8",lineHeight:1.5,alignment:"center"}:" ":{text:"5% de l'indemnit\xe9 avec un max de 1 000 000 DZD",fontSize:"5",lineHeight:2,alignment:"center"}:{text:Number(Et.categorieList?.find(mo=>"plafond"==mo?.description).valeur).toString().replace(/\B(?=(\d{3})+(?!\d))/g," ")+" DZD  /sinistre ",fontSize:"8",lineHeight:1.25,alignment:"center"}:{text:"Valeur locative annuelle des locaux avec un maximum de 1 000 000 DZD",fontSize:"5",lineHeight:1,alignment:"center"}:{text:"Frais engag\xe9s max \xe0 50 000 DZD",fontSize:"8",lineHeight:1.25,alignment:"center"}:{text:"2 500 000 DZD/ Ann\xe9e d'assurance",fontSize:"7",lineHeight:1.25,alignment:"center"}:{text:"1 000 000 DZD/ Ann\xe9e d'assurance",fontSize:"7",lineHeight:1.25,alignment:"center"}:{text:"Limit\xe9 \xe0 50 000 DZD",fontSize:"8",lineHeight:1.25,alignment:"center"}:{text:"50 000 DZD / sinistre",fontSize:"8",lineHeight:1.25,alignment:"center"}:{text:Number(Et.categorieList?.find(mo=>"plafond"==mo?.description).valeur).toString().replace(/\B(?=(\d{3})+(?!\d))/g," ")+" DZD/ Ann\xe9e d'assurance ",fontSize:"8",lineHeight:2,alignment:"center"}:{text:Number(Et.categorieList?.find(mo=>"plafond"==mo?.description).valeur/2).toString().replace(/\B(?=(\d{3})+(?!\d))/g," ")+" DZD/  /sinistre ",fontSize:"8",lineHeight:1.25,alignment:"center"}:{text:"Limit\xe9 \xe0 1 000 000 DZD",fontSize:"8",lineHeight:1.25,alignment:"center"},"Honoraires d\u2019experts"==Et.description&&(Ai[vn]={text:"Selon bar\xe8me UAR",fontSize:"8",lineHeight:1.5,alignment:"center"}),Mn[vn]={text:null!=Et.prime&&"0"!=Et.prime?Number(Et.prime).toFixed(2).toString().replace(/\B(?=(\d{3})+(?!\d))/g," ")+" DZD":" ",lineHeight:1.25,fontSize:"8"},vn++}),oe.codeGarantie){case"G47":case"null":Di={text:oe.categorieList?.find(Et=>"franchise"==Et?.description)?"5% des dommages nets":"",fontSize:"8",valign:"middle"};break;case"G45":case"G53":Di={text:"20 000 DZD sur dommages mat\xe9riels uniquement",fontSize:"8",valign:"middle"};break;case"G51":Di={text:"7 Jours",fontSize:"8",valign:"middle"};break;case"G46":Di={text:"10% des dommages avec un minimum de 20000 DZD",fontSize:"8",valign:"middle"};break;default:Di={text:oe.categorieList?.find(Et=>"franchise"==Et?.description)?"10% des dommages avec un minimum de "+Number(oe.categorieList?.find(Et=>"franchise"==Et?.description)?.valeur)+" DZD":"",fontSize:"8",valign:"middle"}}return 0==oe?.sousGarantieList?.length&&0!=oe?.categorieList?.length&&(Ai[vn]={text:oe.categorieList?.find(Et=>"plafond"==Et?.description)?Number(oe.categorieList?.find(Et=>"plafond"==Et?.description)?.valeur).toString().replace(/\B(?=(\d{3})+(?!\d))/g," ")+" DZD":"",fontSize:"8",lineHeight:1.25,alignment:"center"},Mn[vn]={text:null!=oe.prime&&"0"!=oe.prime?Number(oe.prime).toFixed(2).toString().replace(/\B(?=(\d{3})+(?!\d))/g," ")+" DZD":" ",lineHeight:1.25,fontSize:"8"}),[[{text:pn,fontSize:"8",verticalAlignment:"middle",colSpan:4}],[Zi||null],[Ai||null],[Di],[Mn||null]]}))}}:{},0!=_n?.length?{style:"table",text:"\n \nClauses Assurance Automobile AXA Alg\xe9rie",fontSize:14,color:"black",bold:!0,alignment:"center"}:{},0!=_n?.length?{style:"table",table:{widths:["*","*"],body:[[{stack:[{text:"Etendue g\xe9ographique \n \n",bold:!0,fontSize:"8"},{text:"L'assurance du pr\xe9sent contrat produit ses effets exclusivement sur le territoire Alg\xe9rien. \n \n",fontSize:"6",alignment:"justify"},{text:"Usages \n \n",bold:!0,fontSize:"8"},{text:"100"==J?.risqueList?.find(oe=>"P52"==oe?.codeParam)?.reponse?.idParamReponse?.code||"101"==J?.risqueList?.find(oe=>"P52"==oe?.codeParam)?.reponse?.idParamReponse?.code?"Clauses U1 - Usage \xabaffaire - fonctionnaire\xbb \n":"",bold:!0,fontSize:"6",alignment:"justify"},{text:"100"==J?.risqueList?.find(oe=>"P52"==oe?.codeParam)?.reponse?.idParamReponse?.code||"101"==J?.risqueList?.find(oe=>"P52"==oe?.codeParam)?.idParamReponse?.code?"Le souscripteur d\xe9clare express\xe9ment que le v\xe9hicule, objet de l'assurance n'est pas utilis\xe9 commercialement, m\xeame \xe0 titre exceptionnel pour le transport ou la livraison de produits ou de marchandises ou pour le transport on\xe9reux de personnes. \n \n":"",fontSize:"6",alignment:"justify"},{text:"107"==J?.risqueList?.find(oe=>"P52"==oe?.codeParam)?.reponse?.idParamReponse?.code?"Clause U2 - Usage \xabtransport public de marchandises\xbb \n":"",bold:!0,fontSize:"6",alignment:"justify"},{text:"107"==J?.risqueList?.find(oe=>"P52"==oe?.codeParam)?.reponse?.idParamReponse?.code?"Le souscripteur d\xe9clare express\xe9ment que le v\xe9hicule, objet de l'assurance, sert au transport de produits ou de marchandises. \n \n":"",fontSize:"6",alignment:"justify"},{text:"108"==J?.risqueList?.find(oe=>"P52"==oe?.codeParam)?.reponse?.idParamReponse?.code?"Clause U3 - Usage \xabtransport public de voyageurs\xbb \n":"",bold:!0,fontSize:"6",alignment:"justify"},{text:"108"==J?.risqueList?.find(oe=>"P52"==oe?.codeParam)?.reponse?.idParamReponse?.code?"Le souscripteur d\xe9clare express\xe9ment utiliser le v\xe9hicule, objet de l'assurance pour le transport de voyageurs et que ce v\xe9hicule est \xe9quip\xe9 de places r\xe9guli\xe8rement am\xe9nag\xe9es pour le transport des voyageurs, le nombre de places figurant sur la carte grise du v\xe9hicule. \n \n":"",fontSize:"6",alignment:"justify"},{text:"105"==J?.reponse?.risqueList?.find(oe=>"P52"==oe?.codeParam)?.reponse?.idParamReponse?.code?"Clause U4 - Usage \xablocation-auto\xbb \n":"",bold:!0,fontSize:"6",alignment:"justify"},{text:"105"==J?.risqueList?.find(oe=>"P52"==oe?.codeParam)?.reponse?.idParamReponse?.code?"Le souscripteur d\xe9clare express\xe9ment que le v\xe9hicule objet de l'assurance est lou\xe9, avec ou sans chauffeur, qu'il sert \xe0 la promenade, au tourisme ou \xe0 l'exercice d'une profession. \n \n":"",fontSize:"6",alignment:"justify"},{text:"103"==J?.risqueList?.find(oe=>"P52"==oe?.codeParam)?.reponse?.idParamReponse?.code?"Clause U5 - Usage \xabauto-\xe9cole\xbb \n":"",bold:!0,fontSize:"6",alignment:"justify"},{text:"103"==J?.risqueList?.find(oe=>"P52"==oe?.codeParam)?.reponse?.idParamReponse?.code?"Le souscripteur d\xe9clare express\xe9ment que le v\xe9hicule d\xe9sign\xe9 au contrat sert \xe0 donner des le\xe7ons de conduite et qu'il est muni d'une double commande. \n \n":"",fontSize:"6",alignment:"justify"},{text:"104"==J?.risqueList?.find(oe=>"P52"==oe?.codeParam)?.reponse?.idParamReponse?.code?"Clause U6 - Usage \xabtaxi\xbb \n":"",bold:!0,fontSize:"6",alignment:"justify"},{text:"104"==J?.risqueList?.find(oe=>"P52"==oe?.codeParam)?.reponse?.idParamReponse?.code?"Le souscripteur d\xe9clare express\xe9ment que le v\xe9hicule est utilis\xe9 pour des besoins de transport de personnes \xe0 titre on\xe9reux. \n \n":"",fontSize:"6",alignment:"justify"},{text:"102"==J?.risqueList?.find(oe=>"P52"==oe?.codeParam)?.reponse?.idParamReponse?.code?"Clause U7 - Usage \xabcommerce & commerce-cbis\xbb \n":"",bold:!0,fontSize:"6",alignment:"justify"},{text:"102"==J?.risqueList?.find(oe=>"P52"==oe?.codeParam)?.reponse?.idParamReponse?.code?"Le souscripteur d\xe9clare express\xe9ment que le v\xe9hicule est utilis\xe9 pour les besoins d'une activit\xe9 commerciale. \n \n":"",fontSize:"6",alignment:"justify"},{text:"109"==J?.risqueList?.find(oe=>"P52"==oe?.codeParam)?.reponse?.idParamReponse?.code?"Clause U9 - Usage \xabv\xe9hicules sp\xe9ciaux\xbb \n":"",bold:!0,fontSize:"6",alignment:"justify"},{text:"109"==J?.risqueList?.find(oe=>"P52"==oe?.codeParam)?.reponse?.idParamReponse?.code?"Le souscripteur d\xe9clare express\xe9ment que le v\xe9hicule, objet de l'assurance, est utilis\xe9 pour des besoins priv\xe9s ou pour les besoins d'une profession ou d'une activit\xe9, \xe0 l'exclusion du transport de personnes \xe0 titre on\xe9reux. \n \n":"",fontSize:"6",alignment:"justify"},{text:"B2"!=J?.pack?.codePack?"Franchises \n \n":"",bold:!0,fontSize:"8"},{text:"B2"!=J?.pack?.codePack?"Est le montant qui reste \xe0 la charge de l'assur\xe9 en cas de sinistre. \n \n":"",fontSize:"6"},{text:"S2"==J?.pack?.codePack||"SV"==J?.pack?.codePack?"Clause F1 - Franchises sur le risque \xabdommages collision\xbb \n":"",bold:!0,fontSize:"6",alignment:"justify"},{text:"S2"==J?.pack?.codePack||"SV"==J?.pack?.codePack?"Cette garantie comporte une franchise mentionn\xe9e dans le tableau des garanties. L'indemnit\xe9, franchise d\xe9duite, ne peut \xeatre sup\xe9rieure \xe0 la valeur assur\xe9e qui constitue l'engagement maximum de la Compagnie.\n                              En cas de r\xe8glement de sinistre, cette franchise reste obligatoirement \xe0 la charge de l'assur\xe9(e) et sera d\xe9duite de l'indemnit\xe9 d\xe9finitive. \n\n":"",fontSize:"6",alignment:"justify"},{text:"F2"==J?.pack?.codePack?"Clause F2- Franchises sur le risque \xabdommages tous accidents \xbb \n":"",bold:!0,fontSize:"6",alignment:"justify"},{text:"F2"==J?.pack?.codePack?"La garantie \xab Dommages Tous Accidents \xbb comporte une franchise mentionn\xe9e dans le tableau des garanties L'indemnit\xe9, franchise d\xe9duite, ne peut \xeatre sup\xe9rieure \xe0 la valeur assur\xe9e qui constitue l'engagement maximum de la Compagnie.\n                              En cas de r\xe8glement de sinistre, cette franchise reste obligatoirement \xe0 la charge de l'assur\xe9(e) et sera d\xe9duite de l'indemnit\xe9 d\xe9finitive.\n                              Il est entendu que l'assur\xe9 est redevable de la moiti\xe9 du montant de la franchise convenue au tableau des garanties au cas o\xf9 il communique, sur le constat amiable, toutes les informations du (des) tiers associ\xe9 (s) \xe0 son accident. \n\n":"",fontSize:"6",alignment:"justify"},{text:"FL"==J?.pack?.codePack?"Clause F3- Franchises sur le risque \xab Dommages Tous Accidents Limit\xe9e \xbb \n":"",bold:!0,fontSize:"6",alignment:"justify"},{text:"FL"==J?.pack?.codePack?"La garantie \xab Dommages Tous Accidents Limit\xe9e \xbb comporte une franchise mentionn\xe9e dans le tableau des garanties L'indemnit\xe9, franchise d\xe9duite, ne peut \xeatre sup\xe9rieure \xe0 la valeur assur\xe9e qui constitue l'engagement maximum de la Compagnie.\n                              En cas de r\xe8glement de sinistre, cette franchise reste obligatoirement \xe0 la charge de l'assur\xe9(e) et sera d\xe9duite de l'indemnit\xe9 d\xe9finitive.\n                              Il est entendu que l'assur\xe9 est redevable de la moiti\xe9 du montant de la franchise convenue au tableau des garanties au cas o\xf9 il communique, sur le constat amiable, toutes les informations du (des) tiers associ\xe9 (s) \xe0 son accident. \n\n":"",fontSize:"6",alignment:"justify"},{text:"Divers \n \n",bold:!0,fontSize:"8"},{text:"Clause D2- D\xe9l\xe9gation \n",bold:!0,fontSize:"6"},{text:"En cas de perte totale du v\xe9hicule assur\xe9 ayant \xe9t\xe9 achet\xe9 \xe0 cr\xe9dit, l'indemnit\xe9 ne saurait \xeatre effectu\xe9 qu'entre les mains d'un repr\xe9sentant de l'organisme de cr\xe9dit hors de la pr\xe9sence et sans le concours de l'assur\xe9(e).\n                              Le droit pour la compagnie d'assurance de r\xe9silier le contrat lors de toute infraction constat\xe9e demeure entier, mais en ce qui concerne l'assur\xe9 (cr\xe9ancier susnomm\xe9), cette r\xe9siliation ne prendra effet qu'un mois apr\xe8s la notification qui lui sera destin\xe9e par lettre recommand\xe9e \xe0 son domicile d\xe9sign\xe9 dans le contrat \n\n",fontSize:"6"},{text:"Clause D3 -Dur\xe9e ferme \n",bold:!0,fontSize:"6"},{text:"Le pr\xe9sent contrat est souscrit pour la dur\xe9e ferme indiqu\xe9e aux conditions particuli\xe8res. Il expire de plein droit et sans autre avis \xe0 la date mentionn\xe9e dans la rubrique \xab d'expiration \xbb \xe0 minuit. \n\n",fontSize:"6",alignment:"justify"},{text:J?.paramContratList?.find(oe=>"G05"==oe?.codeGarantie)?"Clause D4 - Vol d'autoradio \n":"",bold:!0,fontSize:"6"},{text:J?.paramContratList?.find(oe=>"G05"==oe?.codeGarantie)?"Moyennant une prime additionnelle, la garantie s'exerce en cas de vol d'autoradio \xe0 concurrence de sa valeur d\xe9clar\xe9e. La garantie ne pourra s'appliquer qu'\xe0 condition qu'il y ait effraction du v\xe9hicule.\n                              La valeur de l'autoradio du v\xe9hicule est \xe9gale \xe0 la valeur d\xe9clarative \xe0 la souscription avec un montant maximum mentionn\xe9e dans le tableau des garanties. \n\n":"",fontSize:"6",alignment:"justify"},{text:J?.paramContratList?.find(oe=>"G10"==oe?.codeGarantie)?"Clause D5 - Protection Financi\xe8re \n":"",bold:!0,fontSize:"6"},{text:J?.paramContratList?.find(oe=>"G10"==oe?.codeGarantie)?"Cette garantie couvre le pr\xe9judice subi en pertes directes et indirectes, d\xe9passant la valeur v\xe9nale en cas de perte totale ou v\xe9hicule irr\xe9parable. Cette indemnit\xe9 est plafonn\xe9e \xe0 hauteur du capital mentionn\xe9. \n\n":"",fontSize:"6",alignment:"justify"},{text:J?.paramContratList?.find(oe=>"G09"==oe?.codeGarantie)?"Clause D6 - Protection Juridique \n":"",bold:!0,fontSize:"6"},{text:J?.paramContratList?.find(oe=>"G09"==oe?.codeGarantie)?"En cas de conflit engageant le v\xe9hicule assur\xe9, l'assur\xe9(e) dispose de l'assistance d'un avocat ou d'un cabinet agr\xe9\xe9 par la Compagnie afin de le conseiller et essayer de r\xe9soudre \xe0 l'amiable ou judiciairement tout conflit li\xe9 aux transactions commerciales de son v\xe9hicule. Les frais des honoraires du cabinet agr\xe9\xe9 seront pris en charge par la Compagnie \xe0 hauteur la limit\xe9 mentionn\xe9e dans le tableau des garanties. \n\n":"",fontSize:"6",alignment:"justify"},{text:"Clause D9 - D\xe9fense et Recours \n",bold:!0,fontSize:"6",alignment:"justify"},{text:"Au titre de la garantie d\xe9fense et recours , l'assureur n'engage aucun recours aupr\xe8s du tiers responsable dans le cas o\xf9 les dommages ne d\xe9passent pas le montant de 5000 DA. \n\n",fontSize:"6",alignment:"justify"},{text:"Clause D10 - Limite annuelle d'indemnisation \n",bold:!0,fontSize:"6",alignment:"justify"},{text:"Au titre des garanties suivantes : Bris de glaces, Protection du conducteur & des passagers, le total annuel des indemnisations ne peut exc\xe9der 1,5 fois la limite maximum par sinistre.\n                                                Au titre de la garantie Dommages Collision, le total annuel des indemnisations ne peut exc\xe9der le plafond mentionn\xe9 dans le tableau des garanties\n\n",fontSize:"6",alignment:"justify"},{text:"Clause D11 - bonus malus : \n",bold:!0,fontSize:"6"},{text:"Conform\xe9ment aux dispositions de l'article 25 des conditions g\xe9n\xe9rales, la clause de bonus-malus dite aussi r\xe9duction- majoration, consiste \xe0 appliquer un coefficient sur la prime de r\xe9f\xe9rence en fonction des accidents que vous occasionnez et/ou d\xe9clarez.\n                                Quand et comment \xe9volue votre coefficient de bonus-malus ?\n                                - Il \xe9volue chaque ann\xe9e, \xe0 l'\xe9ch\xe9ance anniversaire de votre contrat ; \n                                - C'est un coefficient appliqu\xe9 sur plusieurs garanties (hors garantie responsabilit\xe9 civile ou garanties dont la prime est r\xe9glement\xe9e)\n                                - Il est initialement \xe9gal \xe0 (01) pour un conducteur qui n'a jamais \xe9t\xe9 assur\xe9 ou dont l'historique de sinistralit\xe9 est inconnu\n                                - Il est inf\xe9rieur \xe0 (01) si vous avez du bonus et sup\xe9rieur \xe0 (01) si vous avez du malus\n                                Vous avez \xe9t\xe9 responsable d'un accident ou avez d\xe9clar\xe9 plusieurs sinistres ?\n                                - Un malus (majoration) qui ne peut d\xe9passer 200% s'applique sur le tarif en vigueur.\n                                Une ann\xe9e sans accident responsable et sous r\xe9serve des dispositions r\xe9gissant le malus ?\n                                - Vous b\xe9n\xe9ficiez d'un bonus qui ne peut d\xe9passer 10% du tarif en vigueur.\n\n",fontSize:"6",alignment:"justify"},{text:J?.paramContratList?.find(oe=>"G17"==oe?.codeGarantie)?"R\xe8gles d'indemnisation \n \n":"",bold:!0,fontSize:"8"},{text:J?.paramContratList?.find(oe=>"G17"==oe?.codeGarantie)?"Clause R1 -Indemnisations au titre de la garantie \xabProtection du Conducteur & des Passagers\xbb \n":"",bold:!0,fontSize:"6",alignment:"justify"},{text:J?.paramContratList?.find(oe=>"G17"==oe?.codeGarantie)?"En cas d'Incapacit\xe9 Permanente Partielle (IPP) du conducteur et/ou des passagers du v\xe9hicule assur\xe9, un capital est vers\xe9 \xe0 chacun des bless\xe9s proportionnellement \xe0 son taux d'IPP arr\xeat\xe9 par le m\xe9decin conseil avec un plafond maximum mentionn\xe9e dans le tableau des garanties par victime et sinistre.\n                              Si le total des indemnit\xe9s calcul\xe9es est sup\xe9rieur \xe0 la pr\xe9c\xe9dente limite, une r\xe8gle proportionnelle est applicable pour chacune des victimes dans la limite mentionn\xe9e dans le tableau des garanties.\n                              Une franchise de 15% est d\xe9duite du taux d'incapacit\xe9 arr\xeat\xe9 avant calcul de l'indemnit\xe9.\n                              Les frais m\xe9dicaux et d'hospitalisation sont limit\xe9s selon la limit\xe9 mentionn\xe9e dans le tableau des garanties par sinistre.":"",fontSize:"6"}]},{stack:[{text:J?.paramContratList?.find(oe=>"G17"==oe?.codeGarantie)?"":"R\xe8gles d'indemnisation \n \n",bold:!0,fontSize:"8"},{text:J?.paramContratList?.find(oe=>"G17"==oe?.codeGarantie)?"Le nombre de personnes transport\xe9es dans le v\xe9hicule assur\xe9 ne doit pas exc\xe9der le nombre de places pr\xe9vues par le constructeur. Dans le cas contraire, la Compagnie prendra en charge, en cas d'accident, toutes les victimes transport\xe9es par le v\xe9hicule assur\xe9, proportionnellement au nombre de places autoris\xe9es.\n                              Les indemnit\xe9s vers\xe9es au titre de la garantie \xab Responsabilit\xe9 Civile \xbb par la Compagnie ou par les Compagnies adverses seront d\xe9duites des indemnit\xe9s dues au titre des frais m\xe9dicaux et d'hospitalisation.\n                              En cas de D\xe9c\xe8s ou d'Invalidit\xe9 Absolue ou D\xe9finitive (IAD) de l'assur\xe9(e) et/ou des passagers du v\xe9hicule assur\xe9 \xe0 la suite d'un accident, un capital mentionn\xe9 dans le tableau des garanties est vers\xe9 dans la limit\xe9 mentionn\xe9e dans le tableau des garanties aux ayants droits pr\xe9vus par la Fr\xe9dha ou au(x) b\xe9n\xe9ficiaire(s), \xe0 parts \xe9gales, d\xe9sign\xe9(s) par le souscripteur. \n\n":"",fontSize:"6"},{text:J?.paramContratList?.find(oe=>"G15"==oe?.codeGarantie)?"Clause R2 -Indemnisations au titre de la garantie \xab Protection Famille \xbb \n":"",bold:!0,fontSize:"6",alignment:"justify"},{text:J?.paramContratList?.find(oe=>"G15"==oe?.codeGarantie)?"En cas de D\xe9c\xe8s ou d'IAD \xe0 la suite d'un accident, la Compagnie indemnise l'assur\xe9 au titre de la garantie \xab Protection Famille \xbb d'un capital mentionn\xe9 dans le tableau des garanties, sera r\xe9parti \xe0 parts \xe9gales au(x) b\xe9n\xe9ficiaire(s) d\xe9sign\xe9(s) par l'assur\xe9(e) lors de la souscription du contrat ou \xe0 ses ayants droits pr\xe9vus par la Fr\xe9dha. Ce capital est cumulable \xe0 tout autre capital ayant \xe9t\xe9 vers\xe9 au titre du pr\xe9sent contrat\n                              Cas ou l'assur\xe9 serait une personne morale\n                              Dans le cas o\xf9 l'assur\xe9 est une personne morale, les indemnisations relatives \xe0 la garantie \xab Protection famille \xbb, s'appliquent aux ayants droit du conducteur principal mentionn\xe9 dans le contrat d'assurance. \n\n":"",fontSize:"6"},{text:J?.paramContratList?.find(oe=>"G07"==oe?.codeGarantie)||J?.paramContratList?.find(oe=>"G13"==oe?.codeGarantie)?"Conditions de prise en charge dans le cadre de la garantie \xabDommages Collision\xbb \n":"",bold:!0,fontSize:"6",alignment:"justify"},{text:J?.paramContratList?.find(oe=>"G07"==oe?.codeGarantie)||J?.paramContratList?.find(oe=>"G13"==oe?.codeGarantie)?"Les parties conviennent que la prise en charge du sinistre ne peut se faire qu'\xe0 condition de l'identification du tiers comme le pr\xe9voit les conditions g\xe9n\xe9rales. Nonobstant toute disposition contraire, les parties conviennent aussi que le remboursement du montant du dommage s'effectue selon les conditions suivantes :\n                              (i) \xe0 hauteur de la limite de garantie fix\xe9e aux pr\xe9sentes conditions particuli\xe8res dans les d\xe9lais fix\xe9s dans les conditions g\xe9n\xe9rales et (ii) au-del\xe0 de ce montant, le compl\xe9ment sera vers\xe9 apr\xe8s r\xe9ception de ce dit compl\xe9ment du montant du sinistre de la soci\xe9t\xe9 d'assurance adverse suite \xe0 la proc\xe9dure de recours en vigueur au niveau du secteur des assurances. \n\n":"",fontSize:"6"},{text:J?.paramContratList?.find(oe=>"G11"==oe?.codeGarantie)?"Assistance \n \n":"",bold:!0,fontSize:"8"},{text:J?.paramContratList?.find(oe=>"G11"==oe?.codeGarantie)?"Clause A1 - Etendue g\xe9ographique et v\xe9hicule garanti \n":"",bold:!0,fontSize:"6",alignment:"justify"},{text:J?.paramContratList?.find(oe=>"G11"==oe?.codeGarantie)?"Etendue g\xe9ographique : Les garanties Assistance aux v\xe9hicules et Assistance aux personnes du pr\xe9sent contrat produisent leurs effets exclusivement sur le territoire Alg\xe9rien.\n                              V\xe9hicule Garanti : Le v\xe9hicule destin\xe9 au transport de personnes et de marchandises dont le poids total autoris\xe9 en charge est inf\xe9rieur \xe0 3,5 tonnes, \xe2g\xe9 de moins de 12 ans pour les cas de panne et sans limite d'\xe2ge pour les accidents, vols et incendies, \n                              D\xe9finition de la franchise Kilom\xe9trique :\n                              Distance mentionn\xe9e aux Conditions Particuli\xe8res corres\xacpondant \xe0 un rayon \xe0 partir du p\xe9rim\xe8tre urbain de la ville de r\xe9sidence de l4assur\xe9, sur laquelle la garantie remor\xacquage ou d\xe9pannage sur place ne s4applique pas. \n\n":"",fontSize:"6"},{text:"25"==J?.paramContratList?.find(oe=>"G11"==oe?.codeGarantie)?.categorieList[0]?.valeur?"Clause A2 - Limites de garanties : \n\n":"",bold:!0,fontSize:"6",alignment:"justify"},{fontSize:"6",ul:[{text:"25"==J?.paramContratList?.find(oe=>"G11"==oe?.codeGarantie)?.categorieList[0]?.valeur?"Formule Assistance Basic":"",bold:!0,fontSize:"6"}]},"25"==J?.paramContratList?.find(oe=>"G11"==oe?.codeGarantie)?.categorieList[0]?.valeur?{style:"table",table:{widths:["*","*"],alignment:"left",body:[[{text:"Assistance aux v\xe9hicules",colSpan:2,fontSize:"6",style:"headerTable"},{}],[{text:"Franchise kilom\xe9trique en cas de panne (en km)",fontSize:"6"},{text:"25",fontSize:"6",alignment:"center"}],[{text:"1. D\xe9pannage/remorquage en cas de panne ou d'accident (en dinars)",fontSize:"6"},{text:"7 000",fontSize:"6",alignment:"center"}],[{text:"2. Extraction du v\xe9hicule assur\xe9 \xe0 l'aide d'une grue (en dinars)",fontSize:"6"},{text:"7 000",fontSize:"6",alignment:"center"}],[{text:"3. Retour des b\xe9n\xe9ficiaires/poursuite de voyage",fontSize:"6"},{text:"Inclus",fontSize:"6",alignment:"center"}],[{text:"4. Prise en charge des frais d'h\xe9bergement \xe0 l'h\xf4tel (02 nuit\xe9es maximum/personne)",fontSize:"6"},{text:"5 000/nuit\xe9e",fontSize:"6",alignment:"center"}],[{text:"5. S\xe9jour et d\xe9placement des b\xe9n\xe9ficiaires par suite du vol du v\xe9hicule (02 nuit\xe9es maximum/personne)",fontSize:"6"},{text:"5 000",fontSize:"6",alignment:"center"}],[{text:"6. Gardiennage et r\xe9cup\xe9ration du v\xe9hicule apr\xe8s r\xe9paration (en dinars)",fontSize:"6"},{text:"3 000",fontSize:"6",alignment:"center"}],[{text:"7. Service d'un chauffeur professionnel",fontSize:"6"},{text:"Inclus",fontSize:"6",alignment:"center"}],[{text:"8. Perte ou Vol des cl\xe9s",fontSize:"6"},{text:"Non Inclus",fontSize:"6",alignment:"center"}],[{text:"9. Remplacement de roue en cas de crevaison",fontSize:"6"},{text:"Non Inclus",fontSize:"6",alignment:"center"}],[{text:"Assistance aux Personnes",fontSize:"6",colSpan:2,style:"headerTable"},{}],[{text:"Franchise Kilom\xe9trique (en Km)",fontSize:"6"},{text:"Non Inclus",fontSize:"6",alignment:"center"}],[{text:"1. Transport sanitaire",fontSize:"6"},{text:"Non Inclus",fontSize:"6",alignment:"center"}],[{text:"2. Transport des b\xe9n\xe9ficiaires accompagnateurs",fontSize:"6"},{text:"Non Inclus",fontSize:"6",alignment:"center"}],[{text:"3. Rapatriement de corps",fontSize:"6"},{text:"Non Inclus",fontSize:"6",alignment:"center"}],[{text:"4. Visite d'un proche parent en cas d'hospitalisation de plus de sept jours du b\xe9n\xe9ficiaire (02 nuit\xe9es maximum/personne)",fontSize:"6"},{text:"Non Inclus",fontSize:"6",alignment:"center"}],[{text:"5. Interruption de voyage \xe0 la suite du d\xe9c\xe8s d'un proche parent en Alg\xe9rie",fontSize:"6"},{text:"Non Inclus",fontSize:"6",alignment:"center"}],[{text:"6. Transmission de messages urgents",fontSize:"6"},{text:"Non Inclus",fontSize:"6",alignment:"center"}]]}}:{},{text:"15"==J?.paramContratList?.find(oe=>"G11"==oe?.codeGarantie)?.categorieList[0]?.valeur?"Clause A2 - Limites de garanties : \n\n":"",bold:!0,fontSize:"6",alignment:"justify"},{fontSize:"6",ul:[{text:"15"==J?.paramContratList?.find(oe=>"G11"==oe?.codeGarantie)?.categorieList[0]?.valeur?"Formule Assistance Classic":"",bold:!0,fontSize:"6"}]},"15"==J?.paramContratList?.find(oe=>"G11"==oe?.codeGarantie)?.categorieList[0]?.valeur?{style:"table",table:{widths:["*","*"],alignment:"left",body:[[{text:"Assistance aux v\xe9hicules",colSpan:2,fontSize:"6",style:"headerTable"},{}],[{text:"Franchise kilom\xe9trique en cas de panne (en km)",fontSize:"6"},{text:"15",fontSize:"6",alignment:"center"}],[{text:"1. D\xe9pannage/remorquage en cas de panne ou d'accident (en dinars)",fontSize:"6"},{text:"10 000",fontSize:"6",alignment:"center"}],[{text:"2. Extraction du v\xe9hicule assur\xe9 \xe0 l'aide d'une grue (en dinars)",fontSize:"6"},{text:"7 000",fontSize:"6",alignment:"center"}],[{text:"3. Retour des b\xe9n\xe9ficiaires/poursuite de voyage",fontSize:"6"},{text:"Inclus",fontSize:"6",alignment:"center"}],[{text:"4. Prise en charge des frais d'h\xe9bergement \xe0 l'h\xf4tel (02 nuit\xe9es maximum/personne)",fontSize:"6"},{text:"5 000/nuit\xe9e",fontSize:"6",alignment:"center"}],[{text:"5. S\xe9jour et d\xe9placement des b\xe9n\xe9ficiaires par suite du vol du v\xe9hicule (02 nuit\xe9es maximum/personne)",fontSize:"6"},{text:"5 000",fontSize:"6",alignment:"center"}],[{text:"6. Gardiennage et r\xe9cup\xe9ration du v\xe9hicule apr\xe8s r\xe9paration (en dinars)",fontSize:"6"},{text:"3 000",fontSize:"6",alignment:"center"}],[{text:"7. Service d'un chauffeur professionnel",fontSize:"6"},{text:"Inclus",fontSize:"6",alignment:"center"}],[{text:"8. Perte ou Vol des cl\xe9s",fontSize:"6"},{text:"Non Inclus",fontSize:"6",alignment:"center"}],[{text:"9. Remplacement de roue en cas de crevaison",fontSize:"6"},{text:"Non Inclus",fontSize:"6",alignment:"center"}],[{text:"Assistance aux Personnes",fontSize:"6",colSpan:2,style:"headerTable"},{}],[{text:"Franchise Kilom\xe9trique (en Km)",fontSize:"6"},{text:"Non Inclus",fontSize:"6",alignment:"center"}],[{text:"1. Transport sanitaire",fontSize:"6"},{text:"Non Inclus",fontSize:"6",alignment:"center"}],[{text:"2. Transport des b\xe9n\xe9ficiaires accompagnateurs",fontSize:"6"},{text:"Non Inclus",fontSize:"6",alignment:"center"}],[{text:"3. Rapatriement de corps",fontSize:"6"},{text:"Non Inclus",fontSize:"6",alignment:"center"}],[{text:"4. Visite d'un proche parent en cas d'hospitalisation de plus de sept jours du b\xe9n\xe9ficiaire (02 nuit\xe9es maximum/personne)",fontSize:"6"},{text:"Non Inclus",fontSize:"6",alignment:"center"}],[{text:"5. Interruption de voyage \xe0 la suite du d\xe9c\xe8s d'un proche parent en Alg\xe9rie",fontSize:"6"},{text:"Non Inclus",fontSize:"6",alignment:"center"}],[{text:"6. Transmission de messages urgents",fontSize:"6"},{text:"Non Inclus",fontSize:"6",alignment:"center"}]]}}:{},{text:"5"==J?.paramContratList?.find(oe=>"G11"==oe?.codeGarantie)?.categorieList[0]?.valeur?"Clause A2 - Limites de garanties : \n\n":"",bold:!0,fontSize:"6",alignment:"justify"},{fontSize:"6",ul:[{text:"5"==J?.paramContratList?.find(oe=>"G11"==oe?.codeGarantie)?.categorieList[0]?.valeur?"Formule Assistance Essentiel":"",bold:!0,fontSize:"6"}]},"5"==J?.paramContratList?.find(oe=>"G11"==oe?.codeGarantie)?.categorieList[0]?.valeur?{style:"table",table:{widths:["*","*"],alignment:"left",body:[[{text:"Assistance aux v\xe9hicules",colSpan:2,fontSize:"6",style:"headerTable"},{}],[{text:"Franchise kilom\xe9trique en cas de panne (en km)",fontSize:"6"},{text:"5",fontSize:"6",alignment:"center"}],[{text:"1. D\xe9pannage/remorquage en cas de panne ou d'accident (en dinars)",fontSize:"6"},{text:"15 000",fontSize:"6",alignment:"center"}],[{text:"2. Extraction du v\xe9hicule assur\xe9 \xe0 l'aide d'une grue (en dinars)",fontSize:"6"},{text:"7 000",fontSize:"6",alignment:"center"}],[{text:"3. Retour des b\xe9n\xe9ficiaires/poursuite de voyage",fontSize:"6"},{text:"Inclus",fontSize:"6",alignment:"center"}],[{text:"4. Prise en charge des frais d'h\xe9bergement \xe0 l'h\xf4tel (02 nuit\xe9es maximum/personne)",fontSize:"6"},{text:"10 000/nuit\xe9e",fontSize:"6",alignment:"center"}],[{text:"5. S\xe9jour et d\xe9placement des b\xe9n\xe9ficiaires par suite du vol du v\xe9hicule (02 nuit\xe9es maximum/personne)",fontSize:"6"},{text:"10 000",fontSize:"6",alignment:"center"}],[{text:"6. Gardiennage et r\xe9cup\xe9ration du v\xe9hicule apr\xe8s r\xe9paration (en dinars)",fontSize:"6"},{text:"3 000",fontSize:"6",alignment:"center"}],[{text:"7. Service d'un chauffeur professionnel",fontSize:"6"},{text:"Inclus",fontSize:"6",alignment:"center"}],[{text:"8. Perte ou Vol des cl\xe9s",fontSize:"6"},{text:"Non Inclus",fontSize:"6",alignment:"center"}],[{text:"9. Remplacement de roue en cas de crevaison",fontSize:"6"},{text:"Non Inclus",fontSize:"6",alignment:"center"}],[{text:"Assistance aux Personnes",fontSize:"6",colSpan:2,style:"headerTable"},{}],[{text:"Franchise Kilom\xe9trique (en Km)",fontSize:"6"},{text:"50",fontSize:"6",alignment:"center"}],[{text:"1. Transport sanitaire",fontSize:"6"},{text:"Inclus",fontSize:"6",alignment:"center"}],[{text:"2. Transport des b\xe9n\xe9ficiaires accompagnateurs",fontSize:"6"},{text:"Inclus",fontSize:"6",alignment:"center"}],[{text:"3. Rapatriement de corps",fontSize:"6"},{text:"40 000",fontSize:"6",alignment:"center"}],[{text:"4. Visite d'un proche parent en cas d'hospitalisation de plus de sept jours du b\xe9n\xe9ficiaire (02 nuit\xe9es maximum/personne)",fontSize:"6"},{text:"10 000",fontSize:"6",alignment:"center"}],[{text:"5. Interruption de voyage \xe0 la suite du d\xe9c\xe8s d'un proche parent en Alg\xe9rie",fontSize:"6"},{text:"Non Inclus",fontSize:"6",alignment:"center"}],[{text:"6. Transmission de messages urgents",fontSize:"6"},{text:"Non Inclus",fontSize:"6",alignment:"center"}]]}}:{},{text:"0"==J?.paramContratList?.find(oe=>"G11"==oe?.codeGarantie)?.categorieList[0]?.valeur?"Clause A2 - Limites de garanties : \n\n":"",bold:!0,fontSize:"6",alignment:"justify"},{fontSize:"6",ul:[{text:"0"==J?.paramContratList?.find(oe=>"G11"==oe?.codeGarantie)?.categorieList[0]?.valeur&&"R17"!=J?.risqueList?.find(oe=>"P24"==oe?.codeParam)?.reponse?.idParamReponse.code?"Formule Assistance Plus":"",bold:!0,fontSize:"6"}]},"0"==J?.paramContratList?.find(oe=>"G11"==oe?.codeGarantie)?.categorieList[0]?.valeur&&"R17"!=J?.risqueList?.find(oe=>"P24"==oe?.codeParam)?.reponse?.idParamReponse.code?{style:"table",table:{widths:["*","*"],alignment:"left",body:[[{text:"Assistance aux v\xe9hicules",colSpan:2,fontSize:"6",style:"headerTable"},{}],[{text:"Franchise kilom\xe9trique en cas de panne (en km)",fontSize:"6"},{text:"0",fontSize:"6",alignment:"center"}],[{text:"1. D\xe9pannage/remorquage en cas de panne ou d'accident (en dinars)",fontSize:"6"},{text:"15 000",fontSize:"6",alignment:"center"}],[{text:"2. Extraction du v\xe9hicule assur\xe9 \xe0 l'aide d'une grue (en dinars)",fontSize:"6"},{text:"7 000",fontSize:"6",alignment:"center"}],[{text:"3. Retour des b\xe9n\xe9ficiaires/poursuite de voyage",fontSize:"6"},{text:"Inclus",fontSize:"6",alignment:"center"}],[{text:"4. Prise en charge des frais d'h\xe9bergement \xe0 l'h\xf4tel (02 nuit\xe9es maximum/personne)",fontSize:"6"},{text:"10 000/nuit\xe9e",fontSize:"6",alignment:"center"}],[{text:"5. S\xe9jour et d\xe9placement des b\xe9n\xe9ficiaires par suite du vol du v\xe9hicule (02 nuit\xe9es maximum/personne)",fontSize:"6"},{text:"10 000",fontSize:"6",alignment:"center"}],[{text:"6. Gardiennage et r\xe9cup\xe9ration du v\xe9hicule apr\xe8s r\xe9paration (en dinars)",fontSize:"6"},{text:"3 000",fontSize:"6",alignment:"center"}],[{text:"7. Service d'un chauffeur professionnel",fontSize:"6"},{text:"Inclus",fontSize:"6",alignment:"center"}],[{text:"8. Perte ou Vol des cl\xe9s",fontSize:"6"},{text:"Non Inclus",fontSize:"6",alignment:"center"}],[{text:"9. Remplacement de roue en cas de crevaison",fontSize:"6"},{text:"Non Inclus",fontSize:"6",alignment:"center"}],[{text:"Assistance aux Personnes",fontSize:"6",colSpan:2,style:"headerTable"},{}],[{text:"Franchise Kilom\xe9trique (en Km)",fontSize:"6"},{text:"50",fontSize:"6",alignment:"center"}],[{text:"1. Transport sanitaire",fontSize:"6"},{text:"Inclus",fontSize:"6",alignment:"center"}],[{text:"2. Transport des b\xe9n\xe9ficiaires accompagnateurs",fontSize:"6"},{text:"Inclus",fontSize:"6",alignment:"center"}],[{text:"3. Rapatriement de corps",fontSize:"6"},{text:"60 000",fontSize:"6",alignment:"center"}],[{text:"4. Visite d'un proche parent en cas d'hospitalisation de plus de sept jours du b\xe9n\xe9ficiaire (02 nuit\xe9es maximum/personne)",fontSize:"6"},{text:"20 000",fontSize:"6",alignment:"center"}],[{text:"5. Interruption de voyage \xe0 la suite du d\xe9c\xe8s d'un proche parent en Alg\xe9rie",fontSize:"6"},{text:"Inclus",fontSize:"6",alignment:"center"}],[{text:"6. Transmission de messages urgents",fontSize:"6"},{text:"Inclus",fontSize:"6",alignment:"center"}]]}}:{},{fontSize:"6",ul:[{text:"F2"==J?.pack?.codePack&&"R17"==J?.risqueList?.find(oe=>"P24"==oe?.paramRisque?.codeParam)?.idParamReponse?.code&&"0"==J?.paramContratList?.find(oe=>"G11"==oe?.codeGarantie)?.categorieList[0]?.valeur?"Formule Assistance Assur'ELLE":"",bold:!0,fontSize:"6"}]},"F2"==J?.pack?.codePack&&"R17"==J?.risqueList?.find(oe=>"P24"==oe?.paramRisque?.codeParam)?.idParamReponse?.code?{style:"table",table:{widths:["*","*"],alignment:"left",body:[[{text:"Assistance aux v\xe9hicules",colSpan:2,fontSize:"6",style:"headerTable"},{}],[{text:"Franchise kilom\xe9trique en cas de panne (en km)",fontSize:"6"},{text:"0",fontSize:"6",alignment:"center"}],[{text:"1. D\xe9pannage/remorquage en cas de panne ou d'accident (en dinars)",fontSize:"6"},{text:"15 000",fontSize:"6",alignment:"center"}],[{text:"2. Extraction du v\xe9hicule assur\xe9 \xe0 l'aide d'une grue (en dinars)",fontSize:"6"},{text:"7 000",fontSize:"6",alignment:"center"}],[{text:"3. Retour des b\xe9n\xe9ficiaires/poursuite de voyage",fontSize:"6"},{text:"Inclus",fontSize:"6",alignment:"center"}],[{text:"4. Prise en charge des frais d'h\xe9bergement \xe0 l'h\xf4tel (02 nuit\xe9es maximum/personne)",fontSize:"6"},{text:"10 000/nuit\xe9e",fontSize:"6",alignment:"center"}],[{text:"5. S\xe9jour et d\xe9placement des b\xe9n\xe9ficiaires par suite du vol du v\xe9hicule (02 nuit\xe9es maximum/personne)",fontSize:"6"},{text:"10 000",fontSize:"6",alignment:"center"}],[{text:"6. Gardiennage et r\xe9cup\xe9ration du v\xe9hicule apr\xe8s r\xe9paration (en dinars)",fontSize:"6"},{text:"3 000",fontSize:"6",alignment:"center"}],[{text:"7. Service d'un chauffeur professionnel",fontSize:"6"},{text:"Inclus",fontSize:"6",alignment:"center"}],[{text:"8. Perte ou Vol des cl\xe9s",fontSize:"6"},{text:"Inclus",fontSize:"6",alignment:"center"}],[{text:"9. Remplacement de roue en cas de crevaison",fontSize:"6"},{text:"Inclus",fontSize:"6",alignment:"center"}],[{text:"Assistance aux Personnes",fontSize:"6",colSpan:2,style:"headerTable"},{}],[{text:"Franchise Kilom\xe9trique (en Km)",fontSize:"6"},{text:"50",fontSize:"6",alignment:"center"}],[{text:"1. Transport sanitaire",fontSize:"6"},{text:"Inclus",fontSize:"6",alignment:"center"}],[{text:"2. Transport des b\xe9n\xe9ficiaires accompagnateurs",fontSize:"6"},{text:"Inclus",fontSize:"6",alignment:"center"}],[{text:"3. Rapatriement de corps",fontSize:"6"},{text:"60 000",fontSize:"6",alignment:"center"}],[{text:"4. Visite d'un proche parent en cas d'hospitalisation de plus de sept jours du b\xe9n\xe9ficiaire (02 nuit\xe9es maximum/personne)",fontSize:"6"},{text:"20 000",fontSize:"6",alignment:"center"}],[{text:"5. Interruption de voyage \xe0 la suite du d\xe9c\xe8s d'un proche parent en Alg\xe9rie",fontSize:"6"},{text:"Inclus",fontSize:"6",alignment:"center"}],[{text:"6. Transmission de messages urgents",fontSize:"6"},{text:"Inclus",fontSize:"6",alignment:"center"}]]}}:{},{text:"\n\n Les clauses pr\xe9vues dans le pr\xe9sent contrat et qui ne sont pas mentionn\xe9es dans le champ \xab clauses particuli\xe8res \xbb ne s'appliquent pas au pr\xe9sent contrat et ne peuvent en aucun cas \xeatre invoqu\xe9es par le souscripteur et/ou l'assur\xe9",bold:!0,fontSize:"6",alignment:"justify"}]}]]},layout:"noBorders"}:{},"20A"===J.produit.codeProduit?{}:[{text:"\nD\xc9CLARATION DU SOUSCRIPTEUR \n",bold:!0,fontSize:"8",alignment:"justify",pageBreak:"before"},{text:"Je reconnais avoir re\xe7u un exemplaire des Conditions G\xe9n\xe9rales et des pr\xe9sentes Conditions Particuli\xe8res et d\xe9clare avoir pris connaissance des textes y figurant.\n              Je reconnais que les pr\xe9sentes Conditions Particuli\xe8res ont \xe9t\xe9 \xe9tablies conform\xe9ment aux r\xe9ponses que j'ai donn\xe9es aux questions pos\xe9es par la Compagnie lors de la souscription du contrat.\n              Je reconnais avoir \xe9t\xe9 inform\xe9(e), au moment de la collecte d'informations que les cons\xe9quences qui pourraient r\xe9sulter d'une omission ou d'une d\xe9claration inexacte sont celles pr\xe9vues par l'article 19 de l'ordonnance n\xb095/07 du 25 janvier 1995 relative aux assurances modifi\xe9e et compl\xe9t\xe9e par la loi n\xb006/04 du 20 f\xe9vrier 2006.\n              Je reconnais \xe9galement avoir \xe9t\xe9 inform\xe9(e), que les informations saisies dans ce document soient, utilis\xe9es, exploit\xe9es, trait\xe9es par AXA Assurances Alg\xe9rie Dommage, transf\xe9r\xe9es \xe0 l'\xe9tranger et \xe0 ses sous-traitants, dans le cadre de l'ex\xe9cution des finalit\xe9s de la relation commerciale, conform\xe9ment \xe0 la Loi n\xb0 18-07 du 10 juin 2018 relative \xe0 la protection des personnes physiques dans le traitement des donn\xe9es \xe0 caract\xe8re personnel.\n              En signant ce document, j'accepte que les informations saisies dans ce document soient, utilis\xe9e, exploit\xe9es, trait\xe9es par AXA Assurances Alg\xe9rie, transf\xe9r\xe9es \xe0 l'\xe9tranger et \xe0 ses sous-traitants, dans le cadre de l'ex\xe9cution des finalit\xe9s de la relation commerciale, conform\xe9ment \xe0 la Loi n\xb0 18-07 du 10 juin 2018 relative \xe0 la protection des personnes physiques dans le traitement des donn\xe9es \xe0 caract\xe8re personnel. \n              J'autorise, \xe9galement AXA Assurances Alg\xe9rie de m'envoyer des messages et des appels de prospections commerciales quel qu'en soit le support ou la nature.\n              Pour toute demande concernant le traitement et vos droits relatifs \xe0 vos donn\xe9es \xe0 caract\xe8re personnel, merci de nous contacter sur l'adresse : dpo@axa.dz \n\n",fontSize:"8",alignment:"justify"},sessionStorage.getItem("roles")?.includes("COURTIER")?{text:["Je donne par le pr\xe9sent mandat \xe0 ",{text:`${J?.agence?.raisonSocial}`,bold:!0}," En tant que Soci\xe9t\xe9 de Courtage en assurances, \xe0 l\u2019effet de n\xe9gocier et g\xe9rer pour mon compte aupr\xe8s des compagnies d\u2019assurances aux meilleures conditions de garanties et de tarifs, en veillant \xe0 la d\xe9fense de mes int\xe9r\xeats pendant toute la dur\xe9e de l\u2019assurance depuis la confection du contrat, qu\u2019\xe0 l\u2019occasion des r\xe8glements des sinistres. Le pr\xe9sent mandat prend effet \xe0 la date de signature du pr\xe9sent, et demeure valable tant qu\u2019il n\u2019a pas \xe9t\xe9 d\xe9nonc\xe9 express\xe9ment par mes soins conform\xe9ment \xe0 la l\xe9gislation en vigueur \n\n"],fontSize:8,alignment:"justify"}:{},0!=_n?.length?{text:"B\xc9N\xc9FICIAIRES DESIGNES EN CAS DE D\xc9C\xc8S \n\n",bold:!0,fontSize:"8",alignment:"justify"}:{},0!=_n?.length?{text:"Noms et Pr\xe9noms des b\xe9n\xe9ficiaires",bold:!0,fontSize:"8",alignment:"justify"}:{text:"Etant assur\xe9(e) je d\xe9clare ce qui suit :",bold:!0,fontSize:"8",alignment:"justify"},0!=_n?.length?{style:"table",table:{widths:["*","*"],body:[[{text:[{text:"B\xe9n\xe9ficiaire A :  ________________________\n",fontSize:"8"},{text:"B\xe9n\xe9ficiaire B :  ________________________\n",fontSize:"8"},{text:"B\xe9n\xe9ficiaire C :  ________________________\n",fontSize:"8"},{text:"B\xe9n\xe9ficiaire D :  ________________________",fontSize:"8"}]},{text:[{text:"B\xe9n\xe9ficiaire E :   ________________________\n",fontSize:"8"},{text:"B\xe9n\xe9ficiaire F :   ________________________\n",fontSize:"8"},{text:"B\xe9n\xe9ficiaire G :   ________________________\n",fontSize:"8"},{text:"B\xe9n\xe9ficiaire H :   ________________________",fontSize:"8"}]}]]},layout:"noBorders"}:"95"==J?.produit.codeProduit?{text:"\u2022 Les locaux assur\xe9s sont exclusivement \xe0 usage d\u2019activit\xe9.\n                    \u2022 La dur\xe9e d\u2019inoccupation des locaux durant l\u2019ann\xe9e est inf\xe9rieure \xe0 45 jours (en une ou plusieurs p\xe9riodes).\n                    \u2022 Les locaux sont construits et couverts pour plus de 75% en mat\xe9riaux durs.\n                    \u2022 La superficie des locaux assur\xe9s n\u2019exc\xe8de pas 2500 m\xb2.\n                    \u2022 Dans les locaux assur\xe9s, il n\u2019est pas entrepos\xe9 plus de 500 litres de liquides inflammables ou de gaz combustibles.\n                    \u2022 Le nombre d\u2019employ\xe9s ne d\xe9passe pas quarante-neuf (49) personnes, y compris le chef d\u2019entreprise.\n                    \u2022 Les marchandises entrepos\xe9es ne sont pas constitu\xe9es de produits dangereux ou hautement inflammables.\n                    NB : Tout sinistre jug\xe9 ant\xe9rieur \xe0 la souscription \xe0 dire de notre expert, sera soit exclu de l\u2019indemnit\xe9, soit r\xe9gl\xe9 proportionnellement aux\n                    dommages caus\xe9s ult\xe9rieurement \xe0 la date d\u2019effet du contrat.",fontSize:"8",color:"black"}:"97"!=J?.produit.codeProduit?{text:"\n\u2022 Les locaux assur\xe9s sont exclusivement \xe0 usage d'habitation.\n \u2022 La dur\xe9e d'inoccupation des locaux durant l'ann\xe9e est inf\xe9rieure \xe0 90 jours (en une ou plusieurs p\xe9riodes).\n  \u2022 Les locaux sont construits et couverts pour plus de 85% en mat\xe9riaux durs.\n NB : Tout sinistre jug\xe9 ant\xe9rieur \xe0 la souscription \xe0 la suite d'une expertise \xe9tablie par un expert mandat\xe9 par la compagnie , sera soit exclu de l'indemnit\xe9, soit r\xe9gl\xe9 proportionnellement aux dommages caus\xe9s ult\xe9rieurement \xe0 la date d'effet du contrat.",fontSize:"8",color:"black"}:{}],{text:`\n\n\nFait \xe0 ${J?.agence?.wilaya} Le ${o(he?.auditDate).format("DD-MM-YYYY")}\n\n`,bold:!0,fontSize:"8"},{layout:"noBorders",table:{widths:["*","*"],alignment:"center",body:[[{text:[{text:"20A"===J.produit.codeProduit&&"A03"===he.typeAvenant.code?"Signature du souscripteur(trice)\n":"Signature de l'assur\xe9(e)\n",bold:!0,fontSize:"8"},{text:"Pr\xe9c\xe9d\xe9e de la mention \xab Lu et approuv\xe9 \xbb\n",fontSize:"8"}],alignment:"left"},{text:"Pour la Compagnie:",bold:!0,fontSize:"8",alignment:"right"}]]}},sessionStorage.getItem("roles")?.includes("COURTIER")?{image:Gn,alignment:"right",width:ei,height:vi}:{}):"A07"==he?.typeAvenant.code||"A18"==he?.typeAvenant.code||"A12"==he?.typeAvenant.code?bo.content.push({text:"Le pr\xe9sent contrat est r\xe9gi par le Code Civil, l'ordonnance n\xb095/07 du 25 Janvier 1995 modifi\xe9e par la loi n\xb006/04 du 20 F\xe9vrier 2006, relative aux Assurances, l'ordonnance n\xb074/15 du 30 Janvier 1974 modifi\xe9e et compl\xe9t\xe9e par la loi n\xb088/31 du 19/07/1988 et les d\xe9crets n\xb080/34 - n\xb080/35 - n\xb080/36 et n\xb080/37 du 16 F\xe9vrier 1980.",fontSize:"8",color:"black",pageBreak:"after"},"96"==J?.produit.codeProduit?{style:"table",text:"Tableau des garanties",fontSize:14,color:"black",bold:!0,alignment:"center"}:{},{text:"\n"},"96"==J?.produit.codeProduit&&J?.paramContratList?.filter(oe=>"J01"!=oe.codeGarantie)?{style:"table",table:{widths:[95,215,120,60],headerRows:1,body:[vt].concat(Kn.map(oe=>{let pn,Zi=[],Ai=[],Di=[];if("J01"!=oe.codeGarantie){let Nn=0;pn=oe.description,oe?.sousGarantieList?.map(vn=>{Zi.push({text:vn.description,fontSize:10,lineHeight:1.25}),Ai[Nn]="SG23"!=vn.codeSousGarantie?"SG20"!=vn.codeSousGarantie?"SG07"!=vn.codeSousGarantie&&"SG08"!=vn.codeSousGarantie&&"SG108"!=vn.codeSousGarantie&&"SG109"!=vn.codeSousGarantie?"SG12"!=vn.codeSousGarantie&&"SG35"!=vn.codeSousGarantie&&"SG22"!=vn.codeSousGarantie&&"SG44"!=vn.codeSousGarantie&&"SG37"!=vn.codeSousGarantie&&"SG39"!=vn.codeSousGarantie?0!=vn.categorieList?.find(Et=>"plafond"==Et?.description)?.valeur?vn.categorieList?.find(Et=>"plafond"==Et?.description)?{text:Number(vn.categorieList?.find(Et=>"plafond"==Et?.description).valeur).toString().replace(/\B(?=(\d{3})+(?!\d))/g," ")+" DZD",fontSize:"10",lineHeight:1.25,alignment:"center"}:{text:"A concurrence des frais engag\xe9s",fontSize:"8",lineHeight:1.25,alignment:"center"}:{text:"/",fontSize:"10",alignment:"center"}:{text:"5% de l'indemnit\xe9",fontSize:"10",lineHeight:1.25,alignment:"center"}:{text:" Valeur locative annuelle de 'l'habitation avec un maximum de 1 000 000 DZD",fontSize:"6",lineHeight:1,alignment:"center"}:{text:"250 000 DZD par sinistre par ann\xe9e d\u2019assurance",fontSize:"6",lineHeight:1,alignment:"center"}:{text:"15 000 DZD par ann\xe9e d\u2019assurance",fontSize:"7",lineHeight:1.25,alignment:"center"},Di="D04"!=oe.codeGarantie&&"D05"!=oe.codeGarantie?{text:"5% des dommages avec un minimum de 5000 DZD ",fontSize:"9",valign:"middle"}:{text:"5% des dommages avec un minimum de 5000 DZD et un d\xe9lai de carrance d\u2019un mois \xe0 compter de la date d\u2019effet",fontSize:"8",valign:"middle"},Nn++}),0==oe?.sousGarantieList.length&&0!=oe?.categorieList.length&&(Ai[Nn]={text:oe.categorieList?.find(vn=>"plafond"==vn?.description)?Number(oe.categorieList?.find(vn=>"plafond"==vn?.description)?.valeur).toString().replace(/\B(?=(\d{3})+(?!\d))/g," ")+" DZD":"",fontSize:"10",lineHeight:1.25,alignment:"center"},Di={text:oe.categorieList?.find(vn=>"franchise"==vn?.description)?"5% des dommages avec un minimum de 5000 DZD":"",fontSize:"9",valign:"middle"})}return[[{text:pn,fontSize:"10",verticalAlignment:"middle",colSpan:4}],[Zi||null],[Ai||null],[Di]]}))}}:{},{text:"\n"},"96"==J?.produit.codeProduit&&J?.paramContratList?.filter(oe=>"J01"===oe.codeGarantie)?{style:"table",table:{widths:[80,185,50,90,80],headerRows:1,body:[[{text:"Garanties ",style:"headerTable"},{text:"Sous Garanties",style:"headerTable"},{text:"Limites de garanties ",style:"headerTable"},{text:"Limite par an ",style:"headerTable"},{text:"Franchises ",style:"headerTable"}]].concat(Qn.map(oe=>{let pn,Zi=[],Ai=[],Di=[];if("J01"==oe.codeGarantie){let Mn=0;oe?.sousGarantieList?.map(Nn=>{pn=oe.description,Zi[Mn]={text:Nn.description,fontSize:"10",lineHeight:1.25},Ai[Mn]=Nn.categorieList?.find(vn=>"plafond"==vn?.description)?{text:Nn.categorieList?.find(vn=>"plafond"==vn?.description).valeur+" DZD",fontSize:"10",lineHeight:1.25}:" ",Di={text:Nn.categorieList?.find(vn=>"franchise"==vn?.description).valeur?Nn.categorieList?.find(vn=>"franchise"==vn?.description).valeur+" DZD":" "},Mn++})}return[[{text:pn,fontSize:"10",colSpan:4}],[Zi],[Ai],[{text:"03 interventions / garantie / An",fontSize:"10"}],[{text:"Un d\xe9lai de carence d\u2019un mois \xe0 compter de la date d\u2019effet du contrat",fontSize:"10"}]]}))}}:{},{text:"\n\n\n\nD\xc9CLARATION DU SOUSCRIPTEUR \n",bold:!0,fontSize:"8",alignment:"justify"},{text:"Je reconnais avoir re\xe7u un exemplaire des Conditions G\xe9n\xe9rales et des pr\xe9sentes Conditions Particuli\xe8res et d\xe9clare avoir pris connaissance des textes y figurant.\n              Je reconnais que les pr\xe9sentes Conditions Particuli\xe8res ont \xe9t\xe9 \xe9tablies conform\xe9ment aux r\xe9ponses que j'ai donn\xe9es aux questions pos\xe9es par la Compagnie lors de la souscription du contrat.\n              Je reconnais avoir \xe9t\xe9 inform\xe9(e), au moment de la collecte d'informations que les cons\xe9quences qui pourraient r\xe9sulter d'une omission ou d'une d\xe9claration inexacte sont celles pr\xe9vues par l'article 19 de l'ordonnance n\xb095/07 du 25 janvier 1995 relative aux assurances modifi\xe9e et compl\xe9t\xe9e par la loi n\xb006/04 du 20 f\xe9vrier 2006.\n              Je reconnais \xe9galement avoir \xe9t\xe9 inform\xe9(e), que les informations saisies dans ce document soient, utilis\xe9es, exploit\xe9es, trait\xe9es par AXA Assurances Alg\xe9rie Dommage, transf\xe9r\xe9es \xe0 l'\xe9tranger et \xe0 ses sous-traitants, dans le cadre de l'ex\xe9cution des finalit\xe9s de la relation commerciale, conform\xe9ment \xe0 la Loi n\xb0 18-07 du 10 juin 2018 relative \xe0 la protection des personnes physiques dans le traitement des donn\xe9es \xe0 caract\xe8re personnel.\n              En signant ce document, j'accepte que les informations saisies dans ce document soient, utilis\xe9e, exploit\xe9es, trait\xe9es par AXA Assurances Alg\xe9rie, transf\xe9r\xe9es \xe0 l'\xe9tranger et \xe0 ses sous-traitants, dans le cadre de l'ex\xe9cution des finalit\xe9s de la relation commerciale, conform\xe9ment \xe0 la Loi n\xb0 18-07 du 10 juin 2018 relative \xe0 la protection des personnes physiques dans le traitement des donn\xe9es \xe0 caract\xe8re personnel. \n              J'autorise, \xe9galement AXA Assurances Alg\xe9rie de m'envoyer des messages et des appels de prospections commerciales quel qu'en soit le support ou la nature.\n              Pour toute demande concernant le traitement et vos droits relatifs \xe0 vos donn\xe9es \xe0 caract\xe8re personnel, merci de nous contacter sur l'adresse : dpo@axa.dz \n\n",fontSize:"8",alignment:"justify"},sessionStorage.getItem("roles")?.includes("COURTIER")?{text:["Je donne par le pr\xe9sent mandat \xe0 ",{text:`${J?.agence?.raisonSocial}`,bold:!0}," En tant que Soci\xe9t\xe9 de Courtage en assurances, \xe0 l\u2019effet de n\xe9gocier et g\xe9rer pour mon compte aupr\xe8s des compagnies d\u2019assurances aux meilleures conditions de garanties et de tarifs, en veillant \xe0 la d\xe9fense de mes int\xe9r\xeats pendant toute la dur\xe9e de l\u2019assurance depuis la confection du contrat, qu\u2019\xe0 l\u2019occasion des r\xe8glements des sinistres. Le pr\xe9sent mandat prend effet \xe0 la date de signature du pr\xe9sent, et demeure valable tant qu\u2019il n\u2019a pas \xe9t\xe9 d\xe9nonc\xe9 express\xe9ment par mes soins conform\xe9ment \xe0 la l\xe9gislation en vigueur \n\n"],fontSize:8,alignment:"justify"}:{},0!=_n?.length?{text:"B\xc9N\xc9FICIAIRES DESIGNES EN CAS DE D\xc9C\xc8S \n\n",bold:!0,fontSize:"8",alignment:"justify"}:{},0!=_n?.length?{text:"Noms et Pr\xe9noms des b\xe9n\xe9ficiaires",bold:!0,fontSize:"8",alignment:"justify"}:{text:"Etant assur\xe9(e) je d\xe9clare ce qui suit :",bold:!0,fontSize:"8",alignment:"justify"},0!=_n?.length?{style:"table",table:{widths:["*","*"],body:[[{text:[{text:"B\xe9n\xe9ficiaire A :  ________________________\n",fontSize:"8"},{text:"B\xe9n\xe9ficiaire B :  ________________________\n",fontSize:"8"},{text:"B\xe9n\xe9ficiaire C :  ________________________\n",fontSize:"8"},{text:"B\xe9n\xe9ficiaire D :  ________________________",fontSize:"8"}]},{text:[{text:"B\xe9n\xe9ficiaire E :   ________________________\n",fontSize:"8"},{text:"B\xe9n\xe9ficiaire F :   ________________________\n",fontSize:"8"},{text:"B\xe9n\xe9ficiaire G :   ________________________\n",fontSize:"8"},{text:"B\xe9n\xe9ficiaire H :   ________________________",fontSize:"8"}]}]]},layout:"noBorders"}:"95"==J?.produit.codeProduit?{text:"\u2022 Les locaux assur\xe9s sont exclusivement \xe0 usage d\u2019activit\xe9.\n                    \u2022 La dur\xe9e d\u2019inoccupation des locaux durant l\u2019ann\xe9e est inf\xe9rieure \xe0 45 jours (en une ou plusieurs p\xe9riodes).\n                    \u2022 Les locaux sont construits et couverts pour plus de 75% en mat\xe9riaux durs.\n                    \u2022 La superficie des locaux assur\xe9s n\u2019exc\xe8de pas 2500 m\xb2.\n                    \u2022 Dans les locaux assur\xe9s, il n\u2019est pas entrepos\xe9 plus de 500 litres de liquides inflammables ou de gaz combustibles.\n                    \u2022 Le nombre d\u2019employ\xe9s ne d\xe9passe pas quarante-neuf (49) personnes, y compris le chef d\u2019entreprise.\n                    \u2022 Les marchandises entrepos\xe9es ne sont pas constitu\xe9es de produits dangereux ou hautement inflammables.\n                    NB : Tout sinistre jug\xe9 ant\xe9rieur \xe0 la souscription \xe0 dire de notre expert, sera soit exclu de l\u2019indemnit\xe9, soit r\xe9gl\xe9 proportionnellement aux\n                    dommages caus\xe9s ult\xe9rieurement \xe0 la date d\u2019effet du contrat.",fontSize:"8",color:"black"}:{text:"\n\u2022 Les locaux assur\xe9s sont exclusivement \xe0 usage d'habitation.\n \u2022 La dur\xe9e d'inoccupation des locaux durant l'ann\xe9e est inf\xe9rieure \xe0 90 jours (en une ou plusieurs p\xe9riodes).\n  \u2022 Les locaux sont construits et couverts pour plus de 85% en mat\xe9riaux durs.\n NB : Tout sinistre jug\xe9 ant\xe9rieur \xe0 la souscription \xe0 la suite d'une expertise \xe9tablie par un expert mandat\xe9 par la compagnie , sera soit exclu de l'indemnit\xe9, soit r\xe9gl\xe9 proportionnellement aux dommages caus\xe9s ult\xe9rieurement \xe0 la date d'effet du contrat.",fontSize:"8",color:"black"},{text:`\n\n\nFait \xe0 ${J?.agence?.wilaya} Le ${o(he?.auditDate).format("DD-MM-YYYY")}\n\n`,bold:!0,fontSize:"8"},{layout:"noBorders",table:{widths:["*","*"],alignment:"center",body:[[{text:[{text:"Signature de l'assur\xe9(e)\n",bold:!0,fontSize:"8"},{text:"Pr\xe9c\xe9d\xe9e de la mention \xab Lu et approuv\xe9 \xbb\n",fontSize:"8"}],alignment:"left"},{text:"Pour la Compagnie:",bold:!0,fontSize:"8",alignment:"right"}]]}},sessionStorage.getItem("roles")?.includes("COURTIER")?{image:Gn,alignment:"right",width:ei,height:vi}:{}):"20A"===J.produit.codeProduit?bo.content.push("A03"!==he.typeAvenant.code||"A04"!==he.typeAvenant.code?[{text:"NB :",bold:!0,margin:[0,0,0,7],fontSize:8},{ul:["En cas d\u2019accident, de maladie inopin\xe9e ou afin d\u2019invoquer les autres garanties d\u2019assistance, vous devez contacter l\u2019assiteur dans un d\xe9lai maximum de 48h avant d\u2019engager toute d\xe9pense.","Toute modification de dates devra \xeatre demand\xe9e \xe0 l\u2019assureur par le souscripteur, au moins 72 heures avant la prise d\u2019effet du contrat."],fontSize:8,bold:!0},{text:"\n"}]:{},{text:"Clause Sanction :\n",bold:!0,fontSize:10,color:"#00008F"},{text:"Les garanties d\xe9finies dans le pr\xe9sent contrat sont r\xe9put\xe9es sans effet et l\u2019assureur n\u2019est pas tenu de fournir une couverture ou de verser une\n                indemnit\xe9 ou d\u2019ex\xe9cuter une prestation en vertu des pr\xe9sentes dans la mesure o\xf9 la fourniture d'une telle couverture, le paiement d\u2019une telle\n                indemnit\xe9 ou l\u2019ex\xe9cution de telles prestations exposerait l\u2019assureur \xe0 toute sanction, interdiction ou restriction en vertu des r\xe9solutions des Nations\n                Unies ou des sanctions commerciales ou \xe9conomiques, des lois et/ou des r\xe8glements applicables en Alg\xe9rie et \xe0 l\u2019international notamment les\n                lois/r\xe8glements de l'Union europ\xe9enne, Royaume-Uni ou \xc9tats-Unis d'Am\xe9rique en la mati\xe8re ou toute loi applicable.",alignment:"justify",fontSize:"8"},{text:`\n\n\nFait \xe0 ${J?.agence?.wilaya} Le ${o(he?.auditDate).format("DD-MM-YYYY")}\n\n`,bold:!0,fontSize:"8"},{layout:"noBorders",table:{widths:["*","*"],alignment:"center",body:[[{text:[{text:"Signature de l'assur\xe9(e)\n",bold:!0,fontSize:"8"},{text:"Pr\xe9c\xe9d\xe9e de la mention \xab Lu et approuv\xe9 \xbb\n",fontSize:"8"}],alignment:"left"},{text:"Pour la Compagnie:",bold:!0,fontSize:"8",alignment:"right"}]]}},sessionStorage.getItem("roles")?.includes("COURTIER")?{image:Gn,alignment:"right",width:ei,height:vi}:{}):bo.content.push({text:"\n\nD\xc9CLARATION DU SOUSCRIPTEUR \n",bold:!0,fontSize:"8",alignment:"justify",pageBreak:"before"},{text:"Je reconnais avoir re\xe7u un exemplaire des Conditions G\xe9n\xe9rales et des pr\xe9sentes Conditions Particuli\xe8res et d\xe9clare avoir pris connaissance des textes y figurant.\n            Je reconnais que les pr\xe9sentes Conditions Particuli\xe8res ont \xe9t\xe9 \xe9tablies conform\xe9ment aux r\xe9ponses que j'ai donn\xe9es aux questions pos\xe9es par la Compagnie lors de la souscription du contrat.\n            Je reconnais avoir \xe9t\xe9 inform\xe9(e), au moment de la collecte d'informations que les cons\xe9quences qui pourraient r\xe9sulter d'une omission ou d'une d\xe9claration inexacte sont celles pr\xe9vues par l'article 19 de l'ordonnance n\xb095/07 du 25 janvier 1995 relative aux assurances modifi\xe9e et compl\xe9t\xe9e par la loi n\xb006/04 du 20 f\xe9vrier 2006.\n            Je reconnais \xe9galement avoir \xe9t\xe9 inform\xe9(e), que les informations saisies dans ce document soient, utilis\xe9es, exploit\xe9es, trait\xe9es par AXA Assurances Alg\xe9rie Dommage, transf\xe9r\xe9es \xe0 l'\xe9tranger et \xe0 ses sous-traitants, dans le cadre de l'ex\xe9cution des finalit\xe9s de la relation commerciale, conform\xe9ment \xe0 la Loi n\xb0 18-07 du 10 juin 2018 relative \xe0 la protection des personnes physiques dans le traitement des donn\xe9es \xe0 caract\xe8re personnel.\n            En signant ce document, j'accepte que les informations saisies dans ce document soient, utilis\xe9e, exploit\xe9es, trait\xe9es par AXA Assurances Alg\xe9rie, transf\xe9r\xe9es \xe0 l'\xe9tranger et \xe0 ses sous-traitants, dans le cadre de l'ex\xe9cution des finalit\xe9s de la relation commerciale, conform\xe9ment \xe0 la Loi n\xb0 18-07 du 10 juin 2018 relative \xe0 la protection des personnes physiques dans le traitement des donn\xe9es \xe0 caract\xe8re personnel. \n            J'autorise, \xe9galement AXA Assurances Alg\xe9rie de m'envoyer des messages et des appels de prospections commerciales quel qu'en soit le support ou la nature.\n            Pour toute demande concernant le traitement et vos droits relatifs \xe0 vos donn\xe9es \xe0 caract\xe8re personnel, merci de nous contacter sur l'adresse : dpo@axa.dz \n\n",fontSize:"8",alignment:"justify"},sessionStorage.getItem("roles")?.includes("COURTIER")?{text:["Je donne par le pr\xe9sent mandat \xe0 ",{text:`${J?.agence?.raisonSocial}`,bold:!0}," En tant que Soci\xe9t\xe9 de Courtage en assurances, \xe0 l\u2019effet de n\xe9gocier et g\xe9rer pour mon compte aupr\xe8s des compagnies d\u2019assurances aux meilleures conditions de garanties et de tarifs, en veillant \xe0 la d\xe9fense de mes int\xe9r\xeats pendant toute la dur\xe9e de l\u2019assurance depuis la confection du contrat, qu\u2019\xe0 l\u2019occasion des r\xe8glements des sinistres. Le pr\xe9sent mandat prend effet \xe0 la date de signature du pr\xe9sent, et demeure valable tant qu\u2019il n\u2019a pas \xe9t\xe9 d\xe9nonc\xe9 express\xe9ment par mes soins conform\xe9ment \xe0 la l\xe9gislation en vigueur \n\n"],fontSize:8,alignment:"justify"}:{},{text:"B\xc9N\xc9FICIAIRES DESIGNES EN CAS DE D\xc9C\xc8S \n\n",bold:!0,fontSize:"8",alignment:"justify"},{text:"Noms et Pr\xe9noms des b\xe9n\xe9ficiaires",bold:!0,fontSize:"8",alignment:"justify"},{style:"table",table:{widths:["*","*"],body:[[{text:[{text:"B\xe9n\xe9ficiaire A :  ________________________\n",fontSize:"8"},{text:"B\xe9n\xe9ficiaire B :  ________________________\n",fontSize:"8"},{text:"B\xe9n\xe9ficiaire C :  ________________________\n",fontSize:"8"},{text:"B\xe9n\xe9ficiaire D :  ________________________",fontSize:"8"}]},{text:[{text:"B\xe9n\xe9ficiaire E :   ________________________\n",fontSize:"8"},{text:"B\xe9n\xe9ficiaire F :   ________________________\n",fontSize:"8"},{text:"B\xe9n\xe9ficiaire G :   ________________________\n",fontSize:"8"},{text:"B\xe9n\xe9ficiaire H :   ________________________",fontSize:"8"}]}]]},layout:"noBorders"},sessionStorage.getItem("roles")?.includes("COURTIER")&&{text:["Je donne par le pr\xe9sent mandat \xe0 ",{text:`${J?.agence?.raisonSocial}`,bold:!0}," En tant que Soci\xe9t\xe9 de Courtage en assurances, \xe0 l\u2019effet de n\xe9gocier et g\xe9rer pour mon compte aupr\xe8s des compagnies d\u2019assurances aux meilleures conditions de garanties et de tarifs, en veillant \xe0 la d\xe9fense de mes int\xe9r\xeats pendant toute la dur\xe9e de l\u2019assurance depuis la confection du contrat, qu\u2019\xe0 l\u2019occasion des r\xe8glements des sinistres. Le pr\xe9sent mandat prend effet \xe0 la date de signature du pr\xe9sent, et demeure valable tant qu\u2019il n\u2019a pas \xe9t\xe9 d\xe9nonc\xe9 express\xe9ment par mes soins conform\xe9ment \xe0 la l\xe9gislation en vigueur \n\n"],fontSize:8,alignment:"justify"},{text:`\n\n\nFait \xe0 ${J?.agence?.wilaya} Le ${o(he?.auditDate).format("DD-MM-YYYY")}\n\n`,bold:!0,fontSize:"8"},{layout:"noBorders",table:{widths:["*","*"],alignment:"center",body:[[{text:[{text:"Signature de l'assur\xe9(e)\n",bold:!0,fontSize:"8"},{text:"Pr\xe9c\xe9d\xe9e de la mention \xab Lu et approuv\xe9 \xbb\n",fontSize:"8"}],alignment:"left"},{text:"Pour la Compagnie:",bold:!0,fontSize:"8",alignment:"right"}]]}},sessionStorage.getItem("roles")?.includes("COURTIER")?{image:Gn,alignment:"right",width:ei,height:vi}:{}),Q.createPdf(bo).download("Avenant_"+J?.idContrat)})()}outputAvenantFlotte(J,he,Ze,l,t){let Xn,Mt,Lt,xt,Ft=[],ln=[],ut=[],ot=[],tt=[],Zt=[],nn=[],_n=[],xn=[],mn=[],Ri=[],ht=[],Yn=["N\xba ORDRE","Prime_RC","Prime_DR","Prime_DTA","Prime_DCVV","Prime_DC","Prime_Vol","Prime_Vol_Auo_radio","Prime_Incendie","Prime_BDG","Prime_Assistance","Prime_PCP","Prime_Nette"];ot="A19"==he?.typeAvenant.code?["MARQUE","IMMATRICULATION","CHASSIS","VALEUR_VENALE"]:["N\xba ORDRE","MARQUE","IMMATRICULATION","CHASSIS","VALEUR_VENALE"],J.risqueList.find(tn=>"P40"==tn.codeRisque),J.personnesList?.find(tn=>"CP235"===tn.role.code||"CP238"===tn.role.code),"A19"==he?.typeAvenant?.code||"A22"==he?.typeAvenant?.code?(he?.risqueList.map(tn=>{ht.push(tn.idRisque)}),Ft=t?.groupesList?.filter(tn=>tn?.risques),t?.groupesList?.filter(tn=>{tn?.risques?.map(Kt=>{ht.includes(Kt?.idRisque)&&ln.push(Kt)})})):("A20"==he?.typeAvenant?.code||"A03"==he?.typeAvenant?.code||"A06"==he?.typeAvenant?.code||"A08"==he?.typeAvenant?.code?he?.risqueList?.map(tn=>{J?.groupesList?.map(Kt=>{Kt?.risques?.map(hi=>{tn.idRisque==hi.idRisque&&ln.push(hi)})})}):Ft=J?.groupesList?.filter(tn=>tn?.risques),Ft?.forEach(tn=>{tn?.risques&&tn?.risques?.forEach(Kt=>{ln.push(Kt)})}));let Kn=0;for(;Kn<ln?.length;){let tn={"N\xba ORDRE":[{text:ln[Kn].idRisque+"/"+ln?.length,fontSize:"8"}],MARQUE:[{text:"",fontSize:"8"}],IMMATRICULATION:[{text:"",fontSize:"8"}],CHASSIS:[{text:"",fontSize:"8"}],VALEUR_VENALE:[{text:"",fontSize:"8"}]};ln[Kn].risque?.map(Kt=>{switch(Kt.colonne){case"Marque":tn.MARQUE[0].text=Kt.valeur;break;case"N\xb0 d'Immatriculation":tn.IMMATRICULATION[0].text=Kt.valeur;break;case"Ch\xe2ssis ":tn.CHASSIS[0].text=Kt.valeur;break;case"Valeur Assur\xe9":tn.VALEUR_VENALE[0].text=Number(Kt.valeur).toFixed(2).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")+" DZD"}}),ut.push(tn),Kn+=1}for("A19"==he?.typeAvenant?.code?(tt=t?.groupesList?.filter(tn=>tn?.garantieList),tt?.forEach(tn=>{for(Zt.push(tn.garantieList),Kn=0;Kn<Zt?.length-1;)Zt?.forEach(Kt=>{Kt.forEach(hi=>{nn.push(hi[Kn])})}),Kn++})):(tt=J?.groupesList?.filter(tn=>tn?.garantieList),tt?.forEach(tn=>{Zt.push(tn.garantieList)})),Kn=0;Kn<Zt?.length-1;)Zt?.forEach(tn=>{nn.push(tn[Kn])}),Kn++;for(Kn=0;Kn<l?.length;){let tn={"N\xba ORDRE":[{text:l[Kn].risque+"/"+l?.length,fontSize:"8"}],Prime_RC:[{text:"",fontSize:"8"}],Prime_DR:[{text:"",fontSize:"8"}],Prime_DTA:[{text:"",fontSize:"8"}],Prime_DCVV:[{text:"",fontSize:"8"}],Prime_DC:[{text:"",fontSize:"8"}],Prime_Vol:[{text:"",fontSize:"8"}],Prime_Vol_Auo_radio:[{text:"",fontSize:"8"}],Prime_Incendie:[{text:"",fontSize:"8"}],Prime_BDG:[{text:"",fontSize:"8"}],Prime_Assistance:[{text:"",fontSize:"8"}],Prime_PCP:[{text:"",fontSize:"8"}],Prime_Nette:[{text:l[Kn].primeList.find(Kt=>Kt.risque==l[Kn].risque)?.primeProrata.toLocaleString("fi-FI",{minimumFractionDigits:2,maximumFractionDigits:2}),fontSize:"8"}]};l[Kn].garantieList?.map(Kt=>{switch(Kt.codeGarantie){case"G00":tn.Prime_RC[0].text=Number(Kt.primeProrata).toLocaleString("fi-FI",{minimumFractionDigits:2,maximumFractionDigits:2});break;case"G08":tn.Prime_DR[0].text=Number(Kt.primeProrata).toLocaleString("fi-FI",{minimumFractionDigits:2,maximumFractionDigits:2});break;case"G02":tn.Prime_DTA[0].text=Number(Kt.primeProrata).toLocaleString("fi-FI",{minimumFractionDigits:2,maximumFractionDigits:2});break;case"G13":tn.Prime_DCVV[0].text=Number(Kt.primeProrata).toLocaleString("fi-FI",{minimumFractionDigits:2,maximumFractionDigits:2});break;case"G07":tn.Prime_DC[0].text=Number(Kt.primeProrata).toLocaleString("fi-FI",{minimumFractionDigits:2,maximumFractionDigits:2});break;case"G03":tn.Prime_Vol[0].text=Number(Kt.primeProrata).toLocaleString("fi-FI",{minimumFractionDigits:2,maximumFractionDigits:2});break;case"G05":tn.Prime_Vol_Auo_radio[0].text=Number(Kt.primeProrata).toLocaleString("fi-FI",{minimumFractionDigits:2,maximumFractionDigits:2});break;case"G04":tn.Prime_Incendie[0].text=Number(Kt.primeProrata).toLocaleString("fi-FI",{minimumFractionDigits:2,maximumFractionDigits:2});break;case"G06":tn.Prime_BDG[0].text=Number(Kt.primeProrata).toLocaleString("fi-FI",{minimumFractionDigits:2,maximumFractionDigits:2});break;case"G11":tn.Prime_Assistance[0].text=Number(Kt.primeProrata).toLocaleString("fi-FI",{minimumFractionDigits:2,maximumFractionDigits:2});break;case"G18":let hi=l[Kn].garantieList?.find(vt=>"G17"==vt?.codeGarantie)?.primeProrata,$i=l[Kn].garantieList?.find(vt=>"G16"==vt?.codeGarantie)?.primeProrata,Sn=l[Kn].garantieList?.find(vt=>"G18"==vt?.codeGarantie)?.primeProrata;tn.Prime_PCP[0].text=(Number(hi)+Number($i)+Number(Sn)).toLocaleString("fi-FI",{minimumFractionDigits:2,maximumFractionDigits:2})}}),_n.push(tn),Kn+=1}"A06"!=he?.typeAvenant?.code&&"A19"!=he?.typeAvenant?.code&&(xn=l?.map(Kt=>Kt?.garantieList?.some(hi=>"G02"==hi?.codeGarantie))[0]?l?.find(Kt=>Kt.garantieList?.find(hi=>"G02"==hi?.codeGarantie)).garantieList:[],mn=l?.map(Kt=>Kt?.garantieList?.some(hi=>"G13"==hi?.codeGarantie))[0]?l.find(Kt=>Kt.garantieList?.find(hi=>"G13"==hi?.codeGarantie)).garantieList:[],l?.map(Kt=>Kt?.garantieList?.some(hi=>"G07"==hi?.codeGarantie))[0]?Ri=l?.find(Kt=>Kt?.garantieList?.find(hi=>"G07"==hi?.codeGarantie)).garantieList:mn=[],l?.map(Kt=>Kt?.garantieList?.find(hi=>"G11"==hi?.codeGarantie))?.filter(Kt=>"G11"==Kt?.codeGarantie)?.map(Kt=>{Kt?.categorieList?.some(hi=>"0"==hi?.valeur)&&(Xn=!0),Kt?.categorieList?.some(hi=>"5"==hi?.valeur)&&(Mt=!0),Kt?.categorieList?.some(hi=>"15"==hi?.valeur)&&(Lt=!0),Kt?.categorieList?.some(hi=>"25"==hi?.valeur)&&(xt=!0)}));const xi={watermark:{text:"",color:"blue",opacity:.1},pageMargins:[35,110,35,90],border:[!1,!1,!1,!1],header:function(tn,Kt){const hi={text:"Police N\xb0000 : "+J?.idContrat,style:"sectionHeader",margin:[0,30],color:"black"};return 1==tn?{stack:[{columns:[{stack:[{},{text:"Agence: "+he?.agence.raisonSocial,alignment:"left",style:"sectionHeader",color:"black"},{text:"Code Agence: "+he?.agence.codeAgence,alignment:"left",style:"sectionHeader",color:"black"},{text:"Adresse: "+he?.agence.adresse,alignment:"left",style:"sectionHeader",color:"black"},{text:"T\xe9l\xe9phone: "+he?.agence.telephone,alignment:"left",style:"sectionHeader",color:"black"}],width:"40%",margin:[0,0,20,0]},{stack:[{text:"AXA "+J?.produit?.description.toUpperCase(),style:"sectionHeader"},{text:he?.typeAvenant?.libelle,style:"sectionHeader",color:"black"},{text:"Police N\xb0 : "+J?.idContrat,style:"sectionHeader",color:"black"},{text:"Avenant N\xb0 : "+he?.idContratAvenant,style:"sectionHeader",color:"black"},{qr:"https://www.axa.dz/wp-content/uploads/2023/10/Conditions-generales-Assurance-Automobile.pdf",alignment:"right",fit:"65"}],width:"60%"}]}],margin:[35,30,35,0]}:{stack:[hi],margin:[35,10,35,0]}},content:[{text:"Le pr\xe9sent avenant est \xe9tabli entre les contractants suivants :",bold:!0,color:"black",fontSize:10},{text:"D'une part :  AXA Assurances Alg\xe9rie Dommage SPA, soci\xe9t\xe9 de droit alg\xe9rien inscrite au registre de commerce d\u2019Alger sous le num\xe9ro 16/00- 1005172 B 11 au capital de 3.150.000.000,00 de Dinars Alg\xe9riens, dont le si\xe8ge social est sis au lotissement 11 d\xe9cembre 1960 lots 08 et 12, 16030 El Biar Alger",color:"black",fontSize:10},{text:"\nRepr\xe9sent\xe9e par son directeur g\xe9n\xe9ral, ayant tous pouvoirs \xe0 l\u2019effet des pr\xe9sentes.",color:"black",fontSize:10},{text:"Ci-apr\xe8s d\xe9nomm\xe9e \xab L\u2019Assureur \xbb",color:"black",fontSize:10},{text:"\nEt\n ",color:"black",fontSize:10},{text:"D\u2019autre part, La soci\xe9t\xe9 :  "+J?.personnesList?.map(tn=>tn?.personne?.raisonSocial)[0]+", dont le si\xe8ge est situ\xe9 \xe0 : "+J?.personnesList.map(tn=>tn?.personne.adressesList[0].description),color:"black",fontSize:10},{text:"\nRepr\xe9sent\xe9e par son g\xe9rant (indiquer la qualit\xe9 et nom du signataire) . Ayant tous pouvoirs \xe0 l\u2019effet des pr\xe9sentes",color:"black",fontSize:10},{text:"\nCi-apr\xe8s d\xe9nomm\xe9e \xab L\u2019assur\xe9 \xbb. ",color:"black",fontSize:10},{text:"\nREFERENCE DU CONTRAT\n",bold:!0,color:"#00008F",fontSize:12,alignment:"justify"},{text:"\nN\xb0 de Police d\u2019Origine :  "+J?.idContrat,color:"black",bold:!0,fontSize:10},{text:"N\xb0 d\u2019Avenant : "+he?.idContratAvenant,color:"black",bold:!0,fontSize:10},"A22"!=he?.typeAvenant?.code?{text:"Date d\u2019expiration :"+J?.dateExpiration?.split("T")[0],color:"black",bold:!0,fontSize:10}:{},{text:"Date d\u2019effet  :"+he?.dateAvenant?.split("T")[0],color:"black",bold:!0,fontSize:10},"A22"==he?.typeAvenant?.code?{text:"Date d\u2019expiration avenant:"+he?.dateExpirationAvenant,color:"black",bold:!0,fontSize:10}:{},{text:"\nARTICLE 1 : OBJECT DE L\u2019AVENANT\n",bold:!0,color:"#00008F",fontSize:12,alignment:"justify"},{text:"Le pr\xe9sent avenant a pour objet d'incorporer \xe0 la flotte automobile d\xe9clar\xe9e initialement par l'assur\xe9, le v\xe9hicule identifi\xe9 \xe0 l'annexe A.",color:"black",bold:!0,fontSize:10},{text:"\nARTICLE 2 : MONTANT DE LA PRIME\n",bold:!0,color:"#00008F",fontSize:12,alignment:"justify"},{text:"Le d\xe9tail des primes par garanties en ANNEXE B \u2013 D\xe9tail des primes et garanties.",color:"black",bold:!0,fontSize:10},"Chengement de formule"!=he?.typeAvenant?.description?{text:"",color:"black",bold:!0,fontSize:10}:{},{columns:[{style:"table",table:{widths:["*","*","*","*","*","*"],body:[[{text:"Prime nette",style:"headerTable"},"A12"==he?.typeAvenant?.code||"A168"==he?.typeAvenant?.code?{text:"Co\xfbt de police",style:"headerTable"}:{text:"Frais de gestion",style:"headerTable"},{text:"T.V.A",style:"headerTable"},{text:"F.G.A",style:"headerTable"},{text:"Timbre de dimension",style:"headerTable"},{text:"Timbre gradu\xe9",style:"headerTable"}],...Ze.risqueList.map(tn=>[{text:Number(tn.primeList?.find(Kt=>"CP101"==Kt?.typePrime?.code)?.primeProrata||0).toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g,",")+" DZD",fontSize:8},"A12"==he?.typeAvenant?.code||"A168"==he?.typeAvenant?.code?{text:Ze.taxeList?.find(Kt=>"T01"==Kt?.taxe?.code)?Number(Ze.taxeList.find(Kt=>"T01"==Kt.taxe.code).primeProrata).toLocaleString("en-US",{minimumFractionDigits:2})+" DZD":"/",alignment:"center",fontSize:8}:{text:tn.taxeList?.find(Kt=>"T08"==Kt?.taxe?.code)?Number(tn.taxeList.find(Kt=>"T08"==Kt.taxe.code).primeProrata).toLocaleString("en-US",{minimumFractionDigits:2})+" DZD":"/",alignment:"center",fontSize:8},{text:Number(tn.taxeList?.find(Kt=>"T04"==Kt?.taxe?.code)?.primeProrata||0).toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g,",")+" DZD",fontSize:8},{text:Number(tn.taxeList?.find(Kt=>"T07"==Kt?.taxe?.code)?.primeProrata||0).toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g,",")+" DZD",fontSize:8},{text:Number(tn.taxeList?.find(Kt=>"T03"==Kt?.taxe?.code)?.primeProrata||0).toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g,",")+" DZD",fontSize:8},{text:Number(tn.taxeList?.find(Kt=>"T02"==Kt?.taxe?.code)?.primeProrata||0).toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g,",")+" DZD",fontSize:8}]),[{text:"",colSpan:4},{},{},{},{text:"Prime Totale",style:"headerTable"},{text:Number(Ze?.primeList?.find(tn=>"CP186"==tn?.typePrime?.code)?.primeProrata||0).toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g,",")+" DZD",fontSize:8}]]}}]},{text:"\n",pageBreak:"after"},{text:"\nARTICLE 3 : DATE D\u2019EFFET DE L\u2019AVENANT\n",bold:!0,color:"#00008F",fontSize:12,alignment:"justify"},{text:"Le pr\xe9sent avenant prend effet \xe0 compter du "+he?.dateAvenant?.split("T")[0],color:"black",bold:!0,fontSize:10},{text:"\nARTICLE 4 : DIVERS\n",bold:!0,color:"#00008F",fontSize:12,alignment:"justify"},{text:"Il n'est rien chang\xe9 aux autres clauses et conditions de la police cit\xe9e ci-dessus.",color:"black",bold:!0,fontSize:10},{text:"\nARTICLE 5 : D\xc9CLARATION DE L\u2019ASSURE\n",bold:!0,color:"#00008F",fontSize:12,alignment:"justify"},{text:"L\u2019assur\xe9  reconnait avoir re\xe7u un exemplaire du pr\xe9sente avenant  et d\xe9clare avoir pris connaissance des textes y figurant.\nL\u2019assur\xe9 reconnais que le pr\xe9sente avenant a  \xe9t\xe9 \xe9tablie conform\xe9ment aux r\xe9ponses donn\xe9es par l\u2019assur\xe9 aux questions pos\xe9es par la Compagnie lors de la souscription du contrat.\nL\u2019assur\xe9 reconnais \xe9galement avoir \xe9t\xe9 pr\xe9alablement inform\xe9(e) du montant de la prime et des garanties du pr\xe9sent contrat.\nL\u2019assur\xe9 reconnais avoir \xe9t\xe9 inform\xe9(e), au moment de la collecte d\u2019informations que les cons\xe9quences qui pourraient r\xe9sulter d\u2019une omission ou d\u2019une d\xe9claration inexacte sont celles pr\xe9vues par l\u2019article 19 de l\u2019ordonnance n\xb095/07 du 25 janvier 1995 relative aux assurances modifi\xe9e et compl\xe9t\xe9e par la loi n\xb006/04 du 20 f\xe9vrier 2006.",color:"black",alignment:"justify",bold:!0,fontSize:10},{layout:"noBorders",table:{widths:["*","*"],alignment:"center",body:[[{text:[{text:"\nFait en deux exemplaires",bold:!0,fontSize:"8"}],alignment:"left"},{text:`\n\xe0 ${J?.agence?.commune} - ${J?.agence?.wilaya} Le ${J?.auditDate?.split("T")[0]}\n\n`,bold:!0,fontSize:"8",alignment:"right"}]]}},{layout:"noBorders",table:{widths:["*","*"],alignment:"center",body:[[{text:[{text:"\nP/L\u2019assur\xe9 \n",bold:!0,fontSize:"8"}],alignment:"left"},{text:"\nP/L\u2019assureur",bold:!0,fontSize:"8",alignment:"right",pageBreak:"after"}]]}},{columns:[{style:"table",table:{widths:["*"],alignment:"left",body:[[{text:"ANNEXE A - D\xe9tail des v\xe9hicules assur\xe9s",style:"headerTable"}]]}}]},0!=ut.length?this.table(ut,ot):{},"A06"==he?.typeAvenant?.code?{pageBreak:"before",text:""}:{},"A06"==he?.typeAvenant?.code?{columns:[{style:"table",table:{widths:["*"],alignment:"left",body:[[{text:"ANNEXE B \u2013 D\xe9tail des garanties",style:"headerTable"}]]}}]}:{},"A06"==he?.typeAvenant?.code?{text:"\nGaranties Souscrites\n",bold:!0,color:"#00008F",fontSize:12,alignment:"justify"}:{},"A06"==he?.typeAvenant?.code?{columns:[{style:"table",table:{widths:["*","*","*","*"],body:[[{text:"Garanties Souscrites",fontSize:8,style:"headerTable"},{text:"Limites des Garanties par Sinistre / DA",fontSize:8,style:"headerTable"},{text:"Franchise ",fontSize:8,style:"headerTable"},{text:"R\xe8gle Proportionnelle ",fontSize:8,style:"headerTable"}],[{text:"Responsabilit\xe9 Civile en et hors circulation (article 4 des conditions g\xe9n\xe9rales)",fontSize:"8"},{text:"Illimit\xe9s",fontSize:"8"},{text:"Sans Franchise",fontSize:"8"},{text:"Non applicable",fontSize:"8"}],[{text:"Dommages Tous Accident (DTA) (article 13 des conditions g\xe9n\xe9rales)",alignment:"justify",fontSize:"8"},{text:"En cas de perte totale : Valeur de remplacement estim\xe9e par l'expert sans exc\xe9der la valeur v\xe9nale du v\xe9hicule d\xe9clar\xe9e par l'assur\xe9 figurant dans l'ANNEXE C.\nEn cas de dommages partiels : Co\xfbt des r\xe9parations ou de remplacement des pi\xe8ces d\xe9t\xe9rior\xe9es dans la limite de la valeur de remplacement estim\xe9e par l'expert en application du bar\xe8me de l'UAR pour le cout de la main d'\u0153uvre.",fontSize:"8",alignment:"justify"},{text:xn?.find(tn=>"G02"==tn?.codeGarantie)?.categorieList?.find(tn=>"C15"==tn?.code)?.valeur?Number(xn?.find(tn=>"G02"==tn?.codeGarantie)?.categorieList?.find(tn=>"C15"==tn?.code)?.valeur).toLocaleString("fi-FI",{minimumFractionDigits:2,maximumFractionDigits:2}):"/",fontSize:"8"},{text:"",fontSize:"8"}],[{text:"Dommages Collision a valeur v\xe9nale (article 15 des conditions g\xe9n\xe9rales)",fontSize:"8",alignment:"justify"},{text:"En cas de dommages partiels : Co\xfbt des r\xe9parations ou de remplacement des pi\xe8ces d\xe9t\xe9rior\xe9es dans la limite de la valeur de remplacement estim\xe9e par l\u2019expert en application du bar\xe8me de l'UAR pour le cout de la main d'\u0153uvre.\n\nLa DC VV est accord\xe9e pour les v\xe9hicules \xe2g\xe9s de 9 \xe0 10 ans.",fontSize:"8",alignment:"justify"},{text:mn?.find(tn=>"G13"==tn?.codeGarantie)?.categorieList?.find(tn=>"C15"==tn?.code)?.valeur?Number(mn?.find(tn=>"G13"==tn?.codeGarantie)?.categorieList?.find(tn=>"C15"==tn?.code)?.valeur).toLocaleString("fi-FI",{minimumFractionDigits:2,maximumFractionDigits:2}):"/",fontSize:"8"},{text:"Applicable",fontSize:"8"}],[{text:"Dommages Collision \xe0 hauteur de 100 000.00 DA",fontSize:"8",alignment:"justify"},{text:"En cas de perte totale ou de dommages partiels : la valeur de remplacement estim\xe9e par l\u2019expert est plafonn\xe9e \xe0 100 000.00 DA.\n\nLa DC 100 000 DA est accord\xe9e pour les v\xe9hicules \xe2g\xe9s de 11 \xe0 14 ans.",fontSize:"8",alignment:"justify"},{text:Ri?.find(tn=>"G07"==tn?.codeGarantie)?.categorieList?.find(tn=>"C15"==tn?.code)?.valeur?Number(Ri?.find(tn=>"G07"==tn?.codeGarantie)?.categorieList?.find(tn=>"C15"==tn?.code)?.valeur).toLocaleString("fi-FI",{minimumFractionDigits:2,maximumFractionDigits:2}):"/",fontSize:"8"},{text:"Applicable",fontSize:"8"}],[{text:"Bris de Glaces (article 21 des conditions g\xe9n\xe9rales)",fontSize:"8"},{text:"Co\xfbt des r\xe9parations ou de remplacement des glaces sans toutefois d\xe9passer le plafond de 70 000.00 DA",alignment:"justify",fontSize:"8"},{text:xn?.find(tn=>"G07"==tn?.codeGarantie)?.categorieList?.find(tn=>"C15"==tn?.code)?.valeur?Number(xn?.find(tn=>"G07"==tn?.codeGarantie)?.categorieList?.find(tn=>"C15"==tn?.code)?.valeur).toLocaleString("fi-FI",{minimumFractionDigits:2,maximumFractionDigits:2}):"/"},{text:"",fontSize:"8"}],[{text:"Vol de v\xe9hicules (article 19 des conditions g\xe9n\xe9rales)",alignment:"justify",fontSize:"8"},{text:"En cas de perte totale : Valeur de remplacement estim\xe9e par l'expert sans exc\xe9der la valeur v\xe9nale du v\xe9hicule d\xe9clar\xe9e par l'assur\xe9 figurant dans l'ANNEXE C. En cas de dommages partiels : Co\xfbt des r\xe9parations ou de remplacement des pi\xe8ces d\xe9t\xe9rior\xe9es dans la limite de la valeur de remplacement estim\xe9e par l'expert en application du bar\xe8me de l'UAR pour le cout de la main d'\u0153uvre.",fontSize:"8",alignment:"justify"},{text:"Sans Franchise",fontSize:"8"},{text:"Applicable",fontSize:"8"}],[{text:"Incendie (article 17 des conditions g\xe9n\xe9rales)",fontSize:"8"},{text:"En cas de perte totale : Valeur de remplacement estim\xe9e par l'expert sans exc\xe9der la valeur v\xe9nale du v\xe9hicule d\xe9clar\xe9e par l'assur\xe9 figurant dans l'ANNEXE C.\nEn cas de dommages partiels : Co\xfbt des r\xe9parations ou de remplacement des pi\xe8ces d\xe9t\xe9rior\xe9es dans la limite de la valeur de remplacement estim\xe9e par l'expert en application du bar\xe8me de l'UAR pour le cout de la main d'\u0153uvre.",fontSize:"8",alignment:"justify"},{text:"Sans Franchise",fontSize:"8"},{text:"Applicable",fontSize:"8"}],[{text:"Vol Auto Radio",fontSize:"8"},{text:"",fontSize:"8"},{text:"Sans Franchise",fontSize:"8"},{text:"Non applicable",fontSize:"8"}],[{text:"Protection du conducteur et des passagers",fontSize:"8",alignment:"justify"},{text:"D\xe9c\xe8s- invalidit\xe9 absolue et d\xe9finitive / Limite :\n\n2 000 000 DA \n\nI.P.P (Incapacit\xe9 Permanente partielle) / Limite :\n\n2 000 000 DA\n\nFrais m\xe9dicaux et d\u2019hospitalisation / Limite : \n\n300 000 DA",fontSize:"8",alignment:"justify"},{text:"Sans Franchise",fontSize:"8"},{text:"Non applicable",fontSize:"8"}]]}}]}:{},"A06"==he?.typeAvenant?.code&&Xn?{columns:[{style:"table",table:{widths:["*","*","*","*"],alignment:"left",body:[[{text:"Assistance automobile \u2013 Plus Auto",fontSize:"8",border:[!0,!0,!1,!0]},{text:"Assistance aux v\xe9hicules\n1. D\xe9pannage / Remorquage en cas de panne ou d'accident dans la limite de 15 000.00 DZD. \n2. Extraction du v\xe9hicule assur\xe9 \xe0 l'aide d'une grue dans la limite de 7 000.00 DZD. \n3. Retour des b\xe9n\xe9ficiaires / Poursuite du voyage : inclus. \n4. Prise en charge des frais d'h\xe9bergement \xe0 l'h\xf4tel (par nuit\xe9e et par personne) dans la limite de 10 000.00 DZD/nuit\xe9e, sans d\xe9passer 02 nuit\xe9es par personne. \n5. S\xe9jour et d\xe9placement des b\xe9n\xe9ficiaires suite au vol du v\xe9hicule assur\xe9 dans la limite de 10 000.00 DZD/nuit\xe9e sans d\xe9passer 02 nuit\xe9es par personne. \n6. Gardiennage et r\xe9cup\xe9ration du v\xe9hicule apr\xe8s r\xe9paration dans la limite de 3 000.00 DZD. \n7. Service d'un chauffeur professionnel : Inclus\nAssistance aux Personnes\nFranchise Kilom\xe9trique : 50 Kilom\xe8tres\n1. Transport sanitaire : Inclus\n2. Transport des b\xe9n\xe9ficiaires accompagnateurs: Inclus\n3. Rapatriement de corps : 60 000 DZD\n4. Visite d'un proche parent en cas d'hospitalisation de plus de sept jours du b\xe9n\xe9ficiaire (02 nuit\xe9es maximum/personne) : 20 000 DZD\n5. Interruption de voyage \xe0 la suite du d\xe9c\xe8s d'un proche parent en Alg\xe9rie : Inclus\n6. Transmission de messages urgents : Inclus",fontSize:"8",border:[!0,!0,!0,!0]},{text:"25 Kilom\xe8tres",fontSize:"8",border:[!0,!0,!0,!0]},{text:"Non applicable",fontSize:"8",border:[!0,!0,!0,!0]}]]}}]}:{},"A06"==he?.typeAvenant?.code&&Mt?{columns:[{style:"table",table:{widths:["*","*","*","*"],alignment:"left",body:[[{text:"Assistance automobile \u2013 Essentiel Auto",fontSize:"8",border:[!0,!0,!0,!0]},{text:"Assistance aux v\xe9hicules\n1. D\xe9pannage / Remorquage en cas de panne ou d'accident dans la limite de 15 000.00 DZD. \n2. Extraction du v\xe9hicule assur\xe9 \xe0 l'aide d'une grue dans la limite de 7 000.00 DZD. \n3. Retour des b\xe9n\xe9ficiaires / Poursuite du voyage : inclus. \n4. Prise en charge des frais d'h\xe9bergement \xe0 l'h\xf4tel (par nuit\xe9e et par personne) dans la limite de 10 000.00 DZD/nuit\xe9e, sans d\xe9passer 02 nuit\xe9es par personne. \n5. S\xe9jour et d\xe9placement des b\xe9n\xe9ficiaires suite au vol du v\xe9hicule assur\xe9 dans la limite de 10 000.00 DZD/nuit\xe9e sans d\xe9passer 02 nuit\xe9es par personne. \n6. Gardiennage et r\xe9cup\xe9ration du v\xe9hicule apr\xe8s r\xe9paration dans la limite de 3 000.00 DZD. \n7. Service d'un chauffeur professionnel : Inclus\nAssistance aux Personnes\nFranchise Kilom\xe9trique : 50 Kilom\xe8tres\n1. Transport sanitaire : Inclus\n2. Transport des b\xe9n\xe9ficiaires accompagnateurs: Inclus\n3. Rapatriement de corps : 40 000 DZD\n4. Visite d'un proche parent en cas d'hospitalisation de plus de sept jours du b\xe9n\xe9ficiaire (02 nuit\xe9es maximum/personne) : 10 000 DZD",fontSize:"8",border:[!0,!0,!0,!0]},{text:"5 Kilom\xe8tres",fontSize:"8",border:[!0,!0,!0,!0]},{text:"Non applicable",fontSize:"8",border:[!0,!0,!0,!0]}]]}}]}:{},"A06"==he?.typeAvenant?.code&&Lt?{columns:[{style:"table",table:{widths:["*","*","*","*"],alignment:"left",body:[[{text:"Assistance automobile - Classic Auto",fontSize:"8",border:[!0,!0,!0,!0]},{text:"Assistance aux v\xe9hicules1. D\xe9pannage / Remorquage en cas de panne ou d'accident dans la limite de 10 000.00 DZD. 2. Extraction du v\xe9hicule assur\xe9 \xe0 l'aide d'une grue dans la limite de 7 000.00 DZD. 3. Retour des b\xe9n\xe9ficiaires / Poursuite du voyage : inclus. 4. Prise en charge des frais d'h\xe9bergement \xe0 l'h\xf4tel (par nuit\xe9e et par personne) dans la limite de 5 000.00 DZD/nuit\xe9e, sans d\xe9passer 02 nuit\xe9es par personne. 5. S\xe9jour et d\xe9placement des b\xe9n\xe9ficiaires suite au vol du v\xe9hicule assur\xe9 dans la limite de 5 000.00 DZD/nuit\xe9e sans d\xe9passer 02 nuit\xe9es par personne. 6. Gardiennage et r\xe9cup\xe9ration du v\xe9hicule apr\xe8s r\xe9paration dans la limite de 3 000.00 DZD. 7. Service d'un chauffeur professionnel : Inclus",fontSize:"8",border:[!0,!0,!0,!0]},{text:"15 Kilom\xe8tres",fontSize:"8",border:[!0,!0,!0,!0]},{text:"Non applicable",fontSize:"8",border:[!0,!0,!0,!0]}]]}}]}:{},"A06"==he?.typeAvenant?.code&&xt?{columns:[{style:"table",table:{widths:["*","*","*","*"],alignment:"left",body:[[{text:"Assistance automobile - Basic Auto",fontSize:"8",border:[!0,!0,!0,!0]},{text:"Assistance aux v\xe9hicules1. D\xe9pannage / Remorquage en cas de panne ou d'accident dans la limite de 7 000.00 DZD. 2. Extraction du v\xe9hicule assur\xe9 \xe0 l'aide d'une grue dans la limite de 7 000.00 DZD. 3. Retour des b\xe9n\xe9ficiaires / Poursuite du voyage : inclus. 4. Prise en charge des frais d'h\xe9bergement \xe0 l'h\xf4tel (par nuit\xe9e et par personne) dans la limite de 5 000.00 DZD/nuit\xe9e, sans d\xe9passer 02 nuit\xe9es par personne. 5. S\xe9jour et d\xe9placement des b\xe9n\xe9ficiaires suite au vol du v\xe9hicule assur\xe9 dans la limite de 5 000.00 DZD/nuit\xe9e sans d\xe9passer 02 nuit\xe9es par personne. 6. Gardiennage et r\xe9cup\xe9ration du v\xe9hicule apr\xe8s r\xe9paration dans la limite de 3 000.00 DZD 7. Service d'un chauffeur professionnel : Inclus",fontSize:"8",border:[!0,!0,!0,!0]},{text:"25 Kilom\xe8tres",fontSize:"8",border:[!0,!0,!0,!0]},{text:"Non applicable",fontSize:"8",border:[!0,!0,!0,!0]}]]}}]}:{}],styles:{sectionHeader:{bold:!0,color:"#d14723",fontSize:10,alignment:"right"},BG:{fontSize:8},table:{margin:[0,10,0,0]},headerTable:{alignment:"center",bold:!0,fontSize:10,color:"#00008F"}}};if("A19"!=he?.typeAvenant?.code&&"A04"!=he?.typeAvenant?.code&&"A08"!=he?.typeAvenant?.code){const tn={watermark:{text:"",color:"blue",opacity:.1},pageMargins:[35,110,35,90],border:[!1,!1,!1,!1],pageOrientation:"landscape",header:function(Kt,hi){if(1==Kt)return{stack:[[{text:"Police N\xb0 : "+J?.idContrat,style:"sectionHeader",color:"black"},{text:"Avenant N\xb0 : "+he?.idContratAvenant,style:"sectionHeader",color:"black"}]],margin:[35,10,35,0]}},content:[{columns:[{style:"table",table:{widths:["*"],alignment:"left",body:[[{text:"ANNEXE B \u2013 D\xe9tail des primes et garanties",style:"headerTable"}]]}}]},{text:"\n"},0!=_n.length?this.table(_n,Yn):{}],styles:{sectionHeader:{bold:!0,color:"#d14723",fontSize:10,alignment:"right"},BG:{fontSize:8},table:{margin:[0,10,0,0]},headerTable:{alignment:"center",bold:!0,fontSize:10,color:"#00008F"}}};"A22"!==he?.typeAvenant?.code&&Q.createPdf(tn).download("AvenantGaranties_"+J?.idContrat),Q.createPdf(xi).download("Avenant_"+J?.idContrat)}else Q.createPdf(xi).download("Avenant_"+J?.idContrat)}outputAvenantLeasing(J,he,Ze,l){let t=[],Ft=[],ln=["Garantie(s)","Primes"];t=l?.risqueList.filter(ot=>ot?.risque),t?.forEach(ot=>{Ft.push(ot)});const ut={watermark:{text:"",color:"blue",opacity:.1},pageMargins:[35,110,35,90],border:[!1,!1,!1,!1],header:function(ot,tt){const Zt={text:"Police N\xb0 : "+J?.idContrat,style:"sectionHeader",margin:[0,30],color:"black"};return 1==ot?{stack:[{text:"AXA "+J?.produit?.description.toUpperCase(),style:"sectionHeader"},{text:"Police N\xb0 : "+J?.idContrat,style:"sectionHeader",color:"black"},{qr:"https://www.axa.dz/wp-content/uploads/2023/10/Conditions-generales-Assurance-Automobile.pdf",alignment:"right",fit:"65"}],margin:[35,30,35,0]}:{stack:[Zt],margin:[35,10,35,0]}},content:Ft.map(ot=>({stack:[{style:"table",table:{widths:["*"],alignment:"left",body:[[{text:"D\xe9compte de Prime Flotte Automobile",style:"headerTable"}]]}},{style:"table",table:{widths:["*"],alignment:"left",body:[[{text:"R\xe9f\xe9rence du contrat",style:"headerTable"}]]}},{style:"table",table:{widths:["*","*"],alignment:"left",body:[[{text:"Client : ",fontSize:"8",color:"black"},{text:J?.personnesList.map(tt=>tt?.personne.raisonSocial)[0],fontSize:"8",color:"black"}],[{text:"Cr\xe9dit Preneur :",fontSize:"8",color:"black"},{text:ot?.risque.find(tt=>"Nom & Pr\xe9nom Cr\xe9dit Preneur/Raison Social"==tt.colonne)?.valeur,fontSize:"8",color:"black"}],[{text:"Adresse du Cr\xe9dit Preneur : ",fontSize:"8",color:"black"},{text:ot?.risque.find(tt=>"Adresse Cr\xe9dit Preneur"==tt.colonne)?.valeur,fontSize:"8",color:"black"}],[{text:"Date d'effet  ",fontSize:"8",color:"black"},{text:l?.dateAvenant?.split("T")[0],fontSize:"8",color:"black"}],[{text:"Date d\u2019\xe9ch\xe9ance  ",fontSize:"8",color:"black"},{text:J?.dateExpiration?.split("T")[0],fontSize:"8",color:"black"}],[{text:"Agence : ",fontSize:"8",color:"black"},{text:ot?.risque.find(tt=>"Code Agence"==tt.colonne)?.valeur,fontSize:"8",color:"black"}],[{text:"Contrat N\xb0 : ",fontSize:"8",color:"black"},{text:ot?.risque.find(tt=>"Numero de contrat"==tt.colonne)?.valeur,fontSize:"8",color:"black"}],[{text:"Mat\xe9riel N\xb0 : ",fontSize:"8",color:"black"},{text:ot?.risque.find(tt=>"Num\xe9ro de Mat\xe9riel"==tt.colonne)?.valeur,fontSize:"8",color:"black"}]]}},{style:"table",table:{widths:["*"],alignment:"left",body:[[{text:"V\xe9hicule",style:"headerTable"}]]}},{style:"table",table:{widths:["*","*"],alignment:"left",body:[[{text:"Marque  : ",fontSize:"8",color:"black"},{text:ot?.risque.find(tt=>"Marque"==tt.colonne)?.valeur,fontSize:"8",color:"black"}],[{text:"mod\xe8le  : ",fontSize:"8",color:"black"},{text:ot?.risque.find(tt=>"Mod\xe8le"==tt.colonne)?.valeur,fontSize:"8",color:"black"}],[{text:"classe de v\xe9hicule  : ",fontSize:"8",color:"black"},{text:ot?.risque.find(tt=>"classe de vehicule"==tt.colonne)?.valeur,fontSize:"8",color:"black"}],[{text:"Genre  : ",fontSize:"8",color:"black"},{text:ot?.risque.find(tt=>"Genre V\xe9hicule"==tt.colonne)?.valeur,fontSize:"8",color:"black"}],[{text:"Immatriculation  : ",fontSize:"8",color:"black"},{text:ot?.risque.find(tt=>"N\xb0 d'Immatriculation"==tt.colonne)?.valeur,fontSize:"8",color:"black"}],[{text:" La valeur v\xe9nale du v\xe9hicule  : ",fontSize:"8",color:"black"},{text:ot?.risque.find(tt=>"Valeur Assur\xe9"==tt.colonne)?.valeur,fontSize:"8",color:"black"}],[{text:"  Le ch\xe2ssis du v\xe9hicule : ",fontSize:"8",color:"black"},{text:ot?.risque.find(tt=>"Ch\xe2ssis "==tt.colonne)?.valeur,fontSize:"8",color:"black"}]]}},{style:"table",table:{widths:["*"],alignment:"left",body:[[{text:"Primes nettes",style:"headerTable"}]]}},{style:"table",table:{widths:["*","*"],body:[ln].concat(he?.risqueList?.find(tt=>tt.risque==ot?.idRisque)?.garantieList?.map(tt=>{let Zt,nn=[];return Zt=tt.description,nn=tt.primeProrata,[{text:Zt,fontSize:"8"},{text:Number(nn).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})+" DZD",fontSize:"8"}]}))}},{columns:[{style:"table",table:{widths:["*","*","*","*","*","*"],body:[[{text:"Prime nette",style:"headerTable"},{text:"Frais de gestion",style:"headerTable"},{text:"T.V.A",style:"headerTable"},{text:"F.G.A",style:"headerTable"},{text:"Timbre de dimension",style:"headerTable"},{text:"Timbre gradu\xe9",style:"headerTable"}],[{text:Number(he?.risqueList?.find(tt=>tt.risque==ot.idRisque)?.primeList?.find(tt=>"CP101"==tt?.typePrime?.code)?.primeProrata)?.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})+" DZD",fontSize:10},null==J?.idHistorique?{text:Number(he?.taxeList?.find(tt=>"T01"==tt?.taxe?.code)?.primeProrata).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})+" DZD",fontSize:10}:{text:Number(he?.risqueList?.find(tt=>tt.risque==ot.idRisque)?.taxeList?.find(tt=>"T08"==tt?.taxe?.code)?.primeProrata).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})+" DZD",fontSize:10},{text:Number(he?.risqueList?.find(tt=>tt.risque==ot.idRisque)?.taxeList?.find(tt=>"T04"==tt?.taxe?.code)?.primeProrata).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})+" DZD",fontSize:10},{text:Number(he?.risqueList?.find(tt=>tt.risque==ot.idRisque)?.taxeList?.find(tt=>"T07"==tt?.taxe?.code)?.primeProrata).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})+" DZD",fontSize:10},{text:Number(he?.risqueList?.find(tt=>tt.risque==ot.idRisque)?.taxeList?.find(tt=>"T03"==tt?.taxe?.code)?.primeProrata).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})+" DZD",fontSize:10},{text:Number(he?.risqueList?.find(tt=>tt.risque==ot.idRisque)?.taxeList?.find(tt=>"T02"==tt?.taxe?.code)?.primeProrata).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})+" DZD",fontSize:10}],[{text:"",colSpan:4},{},{},{},{text:"Prime Totale",style:"headerTable"},{text:Number(he?.risqueList?.find(tt=>tt.risque==ot.idRisque)?.primeList?.find(tt=>"CP186"==tt?.typePrime?.code)?.primeProrata).toFixed(2).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")+".DZD",fontSize:10}]]}}]}],pageBreak:Ft.length>1?"after":void 0})),styles:{sectionHeader:{bold:!0,color:"#d14723",fontSize:10,alignment:"right"},BG:{fontSize:8},table:{margin:[0,10,0,0]},headerTable:{alignment:"center",bold:!0,fontSize:10,color:"#00008F"}}};Q.createPdf(ut).download("CP_"+J?.idContrat)}buildTableBody(J,he){var Ze=[];if(he.includes("text1"))Ze.push();else if(he.includes("prime"))he=he.map(l=>{l.text=l,l.style="headerTable"}),Ze.push(he);else{let l=[];he.map(t=>{let Ft={text:"",style:""};Ft.text=t.replace(/_/g," "),Ft.style="headerTable",l.push(Ft)}),Ze.push(l)}return J.forEach(function(l){const t=[];he.forEach(function(Ft){t.push(l[Ft])}),Ze.push(t)}),Ze}table(J,he){let Ze=100/he?.length,l=[];return he.map(t=>{l.push(Ze+"%")}),[{layout:"",table:{headerRows:1,widths:l,body:this.buildTableBody(J,he)}}]}logs(J){}handleEroor(J,he){return(0,me.of)(he)}}return Z.\u0275fac=function(J){return new(J||Z)(n.LFG(K.eN))},Z.\u0275prov=n.Yz7({token:Z,factory:Z.\u0275fac,providedIn:"root"}),Z})()},7179:(co,wn,B)=>{"use strict";B.d(wn,{H:()=>n});var Se=B(5861),K=B(529),Ge=B(8505),h=B(262),ee=B(2843),me=B(7550),Le=B(4641),w=B(5439),e=B(3906),xe=B(4650);let n=(()=>{class i{constructor(O){this.http=O,this.sousExit=!1}getByLien(O){const J={headers:new K.WM({"Content-Type":"application/json","Access-Control-Allow-Origin":"*"})};return this.http.get(`${me.g.API_ENDPOINT_TEST_GET_BY_LIEN}/${O}`,J).pipe((0,Ge.b)(he=>he),(0,h.K)(he=>(0,ee._)(he.error)))}getAllContrat(){const O={headers:new K.WM({"Content-Type":"application/json","Access-Control-Allow-Origin":"*"})};return this.http.get(`${me.g.API_ENDPOINT_CONTRAT}`,O).pipe((0,Ge.b)(J=>this.logs(J)),(0,h.K)(J=>(0,ee._)(J.error)))}getRisquesByContrat(O,J){return this.http.get(`${me.g.API_ENDPOINT_CONTRAT}/${O}/produit/${J}/risques`).pipe((0,Ge.b)(he=>this.logs(he)),(0,h.K)(he=>(0,ee._)(he.error)))}getContratByProduit(O,J,he){const Ze={headers:new K.WM({"Content-Type":"application/json","Access-Control-Allow-Origin":"*"})};return this.http.get(`${me.g.API_ENDPOINT_CONTRAT_BY_PRODUIT}/${O}?pageNumber=${he}&pageSize=${J}`,Ze).pipe((0,Ge.b)(l=>this.logs(l)),(0,h.K)(l=>(0,ee._)(l.error)))}getQuittanceById(O){const J={headers:new K.WM({"Content-Type":"application/json","Access-Control-Allow-Origin":"*"})};return this.http.get(`${me.g.API_ENDPOINT_QUITTANCE}/${O}`,J).pipe((0,Ge.b)(he=>this.logs(he)),(0,h.K)(he=>(0,ee._)(he.error)))}getContratById(O){const J={headers:new K.WM({"Content-Type":"application/json","Access-Control-Allow-Origin":"*"})};return this.http.get(`${me.g.API_ENDPOINT_CONTRAT}/${O}`,J).pipe((0,Ge.b)(he=>this.logs(he)),(0,h.K)(he=>(0,ee._)(he.error)))}getFichierExcel(O,J){const he={headers:new K.WM({"Content-Type":"application/json","Access-Control-Allow-Origin":"*"}),responseType:"blob"};return this.http.get(`${me.g.API_ENDPOINT_Extraire_Excel}/${O}/codeProduit/${J}`,he).pipe((0,Ge.b)(Ze=>{console.log("R\xe9ponse du fichier Excel",Ze)}))}addGroupe(O){let J={description:O};const he={headers:new K.WM({"Content-Type":"application/json","Access-Control-Allow-Origin":"*"})};return this.http.post(`${me.g.API_ENDPOINT_CONTRAT_ADD_GROUPE}`,J,he).pipe((0,Ge.b)(Ze=>this.logs(Ze)),(0,h.K)(Ze=>(0,ee._)(Ze.error)))}getContratHistoriqueById(O){const J={headers:new K.WM({"Content-Type":"application/json","Access-Control-Allow-Origin":"*"})};return this.http.get(`${me.g.API_ENDPOINT_CONTRAT}/historique/${O}`,J).pipe((0,Ge.b)(he=>this.logs(he)),(0,h.K)(he=>(0,ee._)(he.error)))}getParamHistoByIdRisque(O,J,he){const Ze={headers:new K.WM({"Content-Type":"application/json","Access-Control-Allow-Origin":"*"})};return this.http.get(`${me.g.API_ENDPOINT_CONTRAT_HISTORIQUE}/${O}/groupe/${J}/risque/${he}`,Ze).pipe((0,Ge.b)(l=>this.logs(l)),(0,h.K)(l=>(0,ee._)(l.error)))}getHistoriqueStatus(O){const J={headers:new K.WM({"Content-Type":"application/json","Access-Control-Allow-Origin":"*"})};return this.http.post(`${me.g.API_ENDPOINT_CONTRAT}/historique/status`,O,J).pipe((0,Ge.b)(he=>this.logs(he)),(0,h.K)(he=>(0,ee._)(he.error)))}Migration(O){const J={headers:new K.WM({"Content-Type":"application/json","Access-Control-Allow-Origin":"*"})};return this.http.post(`${me.g.API_ENDPOINT_CONTRAT}/migration/${O}`,{},J).pipe((0,Ge.b)(he=>this.logs(he)),(0,h.K)(he=>(0,ee._)(he.error)))}filtresContrat(O,J,he){const Ze={headers:new K.WM({"Content-Type":"application/json","Access-Control-Allow-Origin":"*"})};return this.http.post(`${me.g.API_ENDPOINT_CONTRAT_FILTRE}?pageNumber=${J}&pageSize=${he}`,O,Ze).pipe((0,Ge.b)(l=>this.logs(l)),(0,h.K)(l=>(0,ee._)(l.error)))}createSiteComercial(O){const J={headers:new K.WM({"Content-Type":"application/json","Access-Control-Allow-Origin":"*"})};return this.http.post(`${me.g.API_ENDPOINT_CONTRAT_COMEMRCIAL_LINE_SITE}`,O,J).pipe((0,Ge.b)(he=>this.logs(he)),(0,h.K)(he=>(0,ee._)(he.error)))}createContrat(O){const J={headers:new K.WM({"Content-Type":"application/json","Access-Control-Allow-Origin":"*"})};return this.http.post(`${me.g.API_ENDPOINT_CONTRAT}`,O,J).pipe((0,Ge.b)(he=>this.logs(he)),(0,h.K)(he=>(0,ee._)(he.error)))}getPolicyExist(O){const J={headers:new K.WM({"Content-Type":"application/json","Access-Control-Allow-Origin":"*"})};return this.http.get(`${me.g.API_ENDPOINT_CONTRAT}/${O}/exist`,J).pipe((0,Ge.b)(he=>this.logs(he)),(0,h.K)(he=>(0,ee._)(he.error)))}getMatricule(O){const J={headers:new K.WM({"Content-Type":"application/json","Access-Control-Allow-Origin":"*"})};return this.http.post(`${me.g.API_ENDPOINT_CONTRAT}/historique/matricule`,O,J).pipe((0,Ge.b)(he=>this.logs(he)),(0,h.K)(he=>(0,ee._)(he.error)))}outputQuittance(O,J,he){let Ze={},l={},t={};O?.personnesList?.forEach(ot=>{switch(ot?.role?.idParam){case 233:l=ot?.personne;break;case 234:t=ot?.personne;break;case 235:Ze=ot?.personne;break;case 236:t=ot?.personne,Ze=ot?.personne;break;case 237:t=ot?.personne,l=ot?.personne;break;case 280:Ze=ot?.personne,l=ot?.personne;break;case 238:t=ot?.personne,Ze=ot?.personne,l=ot?.personne}});let Ft=w(O?.dateEffet).format("DD-MM-YYYY"),ln="";switch(O?.produit.codeProduit){case"45A":ln="https://www.axa.dz/wp-content/uploads/2023/10/Conditions-generales-Assurance-Automobile.pdf";break;case"96":ln="https://www.axa.dz/wp-content/uploads/2023/10/Conditions-Generales-Habitation.pdf";break;case"95":ln="https://www.axa.dz/wp-content/uploads/2023/11/Conditions-Generales-Multirisque-professionnelle.pdf";break;case"20A":ln="https://www.axa.dz/wp-content/uploads/2023/10/Conditions-Generales-Assurance-Voyage.pdf"}const ut={watermark:{text:"",color:"blue",opacity:.1},pageMargins:[35,110,35,90],border:[!1,!1,!1,!1],header:function(ot,tt,Zt){if(1==ot)return{stack:[{text:J?.auditDate?.split("T")[0],style:"sectionHeader",color:"black"},{text:"\nQuittance de prime\n\n",style:"sectionHeader",color:"black"}],margin:[35,30,35,0]}},content:[""!=ln?{columns:[{},{qr:ln,fit:"70",alignment:"right",style:"sectionHeader"}]}:{},{columns:[{style:"table",table:{widths:["*"],alignment:"left",body:[[{text:"Agence",style:"headerTable"}]]}},{style:"table",table:{widths:["*"],alignment:"right",body:[[{text:"Reference",style:"headerTable"}]]}}]},{columns:[{table:{widths:["*"],alignment:"left",body:[[{text:[{text:"Nom et code agence : ",bold:!0,fontSize:"10"},{text:O?.agence?.codeAgence+" "+O?.agence?.raisonSocial,fontSize:"10"}]}]]}},{table:{widths:["*"],alignment:"right",body:[[{text:[{text:"N\xb0 Police: ",bold:!0,fontSize:"10"},{text:O?.idContrat,fontSize:"10"}]}]]}}]},{columns:[{table:{widths:["*"],alignment:"left",body:[[{text:[{text:"Adresse agence : ",bold:!0,fontSize:"10"},{text:O?.agence?.adresse,fontSize:"10"}]}]]}},{table:{widths:["*"],alignment:"right",body:[[{text:[{text:"Date effet : ",bold:!0,fontSize:"10"},{text:null!=he?Ft:O?.dateEffet?.split("T")[0],fontSize:"10"}]}]]}}]},{columns:[{table:{widths:["*"],alignment:"left",body:[[{text:[{text:"T\xe9l\xe9phone agence : ",bold:!0,fontSize:"10"},{text:O?.agence?.telephone,fontSize:"10"}]}]]}},{table:{widths:["*"],alignment:"right",body:[[{text:[{text:"Date expiration contrat : ",bold:!0,fontSize:"10"},{text:O?.dateExpiration?.split("T")[0],fontSize:"10"}]}]]}}]},{columns:[{table:{widths:["*"],alignment:"left",body:[[{text:[{text:"E-mail agence : ",bold:!0,fontSize:"10"},{text:O?.agence?.email,fontSize:"10"}]}]]}},{table:{widths:["*"],alignment:"right",body:[[{text:[{text:"N\xb0 Quittance : ",bold:!0,fontSize:"10"},{text:null==O?.idQuittance?O?.quittanceList[O?.quittanceList.length-1]:O?.idQuittance,fontSize:"10"}]}]]}}]},"45A"==O?.produit?.codeProduit||"45F"==O?.produit?.codeProduit||"45L"==O?.produit?.codeProduit?{columns:[{style:"table",table:{widths:["*","*","*","*","*","*"],body:[[{text:"Prime nette",style:"headerTable"},null==O?.idHistorique||"A12"==he?.typeAvenant?.code||"A13"==he?.typeAvenant?.code||"A18"==he?.typeAvenant?.code?{text:"Co\xfbt de police",style:"headerTable"}:{text:"Frais de gestion",style:"headerTable"},{text:"T.V.A",style:"headerTable"},{text:"F.G.A",style:"headerTable"},{text:"Timbre de dimension",style:"headerTable"},{text:"Timbre gradu\xe9",style:"headerTable"}],[{text:Number(J?.primeList?.find(ot=>"CP101"==ot?.typePrime?.code)?.primeProrata).toLocaleString("fi-FI",{minimumFractionDigits:2,maximumFractionDigits:2})+" DZD",fontSize:10},null==O?.idHistorique||"A12"==he?.typeAvenant?.code||"A13"==he?.typeAvenant?.code||"A18"==he?.typeAvenant?.code?{text:Number(J?.taxeList?.find(ot=>"T01"==ot?.taxe?.code)?.primeProrata).toLocaleString("fi-FI",{minimumFractionDigits:2,maximumFractionDigits:2})+" DZD",fontSize:10}:{text:Number(J?.taxeList?.find(ot=>"T08"==ot?.taxe?.code)?.primeProrata).toLocaleString("fi-FI",{minimumFractionDigits:2,maximumFractionDigits:2})+" DZD",fontSize:10},{text:Number(J?.taxeList?.find(ot=>"T04"==ot?.taxe?.code)?.primeProrata).toLocaleString("fi-FI",{minimumFractionDigits:2,maximumFractionDigits:2})+" DZD",fontSize:10},{text:Number(J?.taxeList?.find(ot=>"T07"==ot?.taxe?.code)?.primeProrata).toLocaleString("fi-FI",{minimumFractionDigits:2,maximumFractionDigits:2})+" DZD",fontSize:10},{text:Number(J?.taxeList?.find(ot=>"T03"==ot?.taxe?.code)?.primeProrata).toLocaleString("fi-FI",{minimumFractionDigits:2,maximumFractionDigits:2})+" DZD",fontSize:10},{text:Number(J?.taxeList?.find(ot=>"T02"==ot?.taxe?.code)?.primeProrata).toLocaleString("fi-FI",{minimumFractionDigits:2,maximumFractionDigits:2})+" DZD",fontSize:10}],[{text:"",colSpan:4},{},{},{},{text:"Prime Totale",style:"headerTable"},{text:Number(J?.primeList?.find(ot=>"CP186"==ot?.typePrime?.code)?.primeProrata).toLocaleString("fi-FI",{minimumFractionDigits:2,maximumFractionDigits:2})+" DZD",fontSize:10}]]}}]}:"20A"===O?.produit?.codeProduit||"20G"==O.produit.codeProduit?{columns:[{style:"table",table:{widths:["*","*","*","*"],body:[[{text:"Prime nette",style:"headerTable"},null==O?.idHistorique||"A12"==he?.typeAvenant?.code||"A13"==he?.typeAvenant?.code||"A18"==he?.typeAvenant?.code?{text:"Co\xfbt de police",style:"headerTable"}:{text:"Frais de gestion",style:"headerTable"},{text:"Timbre de dimension",style:"headerTable"},{text:"Prime Totale",style:"headerTable"}],[{text:Number(J?.primeList?.find(ot=>"CP101"==ot?.typePrime?.code)?.primeProrata).toLocaleString("fi-FI",{minimumFractionDigits:2,maximumFractionDigits:2})+" DZD",fontSize:10,alignment:"center"},null==O?.idHistorique||"A12"==he?.typeAvenant?.code||"A13"==he?.typeAvenant?.code||"A18"==he?.typeAvenant?.code?{text:Number(J?.taxeList?.find(ot=>"T01"==ot?.taxe?.code)?.primeProrata).toLocaleString("fi-FI",{minimumFractionDigits:2,maximumFractionDigits:2})+" DZD",fontSize:10}:{text:Number(J?.taxeList?.find(ot=>"T08"==ot?.taxe?.code)?.primeProrata).toLocaleString("fi-FI",{minimumFractionDigits:2,maximumFractionDigits:2})+" DZD",fontSize:10},{text:Number(J?.taxeList?.find(ot=>"T03"==ot?.taxe?.code)?.primeProrata).toLocaleString("fi-FI",{minimumFractionDigits:2,maximumFractionDigits:2})+" DZD",fontSize:10,alignment:"center"},{text:Number(J?.primeList?.find(ot=>"CP186"==ot?.typePrime?.code)?.primeProrata).toLocaleString("fi-FI",{minimumFractionDigits:2,maximumFractionDigits:2})+" DZD",fontSize:10,alignment:"center"}]]}}]}:{columns:[{style:"table",table:{widths:["*","*","*","*","*"],body:[[{text:"Prime nette",style:"headerTable"},null==O?.idHistorique||"A12"==he?.typeAvenant?.code||"A13"==he?.typeAvenant?.code||"A18"==he?.typeAvenant?.code?{text:"Co\xfbt de police",style:"headerTable"}:{text:"Frais de gestion",style:"headerTable"},{text:"T.V.A",style:"headerTable"},{text:"Timbre de dimension",style:"headerTable"},{text:"Prime Totale",style:"headerTable"}],[{text:Number(J?.primeList?.find(ot=>"CP101"==ot?.typePrime?.code)?.primeProrata).toLocaleString("fi-FI",{minimumFractionDigits:2,maximumFractionDigits:2})+" DZD",fontSize:10,alignment:"center"},null==O?.idHistorique||"A12"==he?.typeAvenant?.code||"A13"==he?.typeAvenant?.code||"A18"==he?.typeAvenant?.code?{text:Number(J?.taxeList?.find(ot=>"T01"==ot?.taxe?.code)?.primeProrata).toLocaleString("fi-FI",{minimumFractionDigits:2,maximumFractionDigits:2})+" DZD",fontSize:10,alignment:"center"}:{text:Number(J?.taxeList?.find(ot=>"T08"==ot?.taxe?.code)?.primeProrata).toLocaleString("fi-FI",{minimumFractionDigits:2,maximumFractionDigits:2})+" DZD",fontSize:10,alignment:"center"},"97"==O.produit.codeProduit?{text:"  0.00 DZD",fontSize:10,alignment:"center"}:{text:Number(J?.taxeList?.find(ot=>"T04"==ot?.taxe?.code)?.primeProrata).toLocaleString("fi-FI",{minimumFractionDigits:2,maximumFractionDigits:2})+" DZD",fontSize:10,alignment:"center"},{text:Number(J?.taxeList?.find(ot=>"T03"==ot?.taxe?.code)?.primeProrata).toLocaleString("fi-FI",{minimumFractionDigits:2,maximumFractionDigits:2})+" DZD",fontSize:10,alignment:"center"},{text:Number(J?.primeList?.find(ot=>"CP186"==ot?.typePrime?.code)?.primeProrata).toLocaleString("fi-FI",{minimumFractionDigits:2,maximumFractionDigits:2})+" DZD",fontSize:10,alignment:"center"}]]}}]},{margin:[0,50,0,0],table:{widths:["*"],body:[[" "],[" "]]},layout:{hLineWidth:function(ot,tt){return 0===ot||ot===tt.table.body.length?0:2},vLineWidth:function(ot,tt){return 0},hLineStyle:function(ot,tt){return 0===ot||ot===tt.table.body.length?null:{dash:{length:4,space:2}}},vLineStyle:function(ot,tt){return 0}}},{style:"table",table:{widths:["*"],alignment:"right",body:[[{text:"SOUCHE DE QUITTANCE DE PRIME",style:"headerTable"}]]}},"20A"===O?.produit?.codeProduit||"20G"==O.produit.codeProduit?{table:{widths:["*","*","*","*"],alignment:"right",body:[[{text:[{text:"Assur\xe9(e) :",bold:!0,fontSize:"10"},{text:O?.personnesList?.find(ot=>null!=ot?.personne?.raisonSocial)?O?.personnesList?.find(ot=>ot?.personne?.raisonSocial)?.personne?.raisonSocial:Ze?.nom+" "+Ze?.prenom1,fontSize:"10"}],colSpan:4,alignment:"left"},{},{},{}],[{text:[{text:"N\xba Quittance :",bold:!0,fontSize:"10"},{text:J.idQuittance,fontSize:"10"}],colSpan:2,alignment:"left"},{text:[{text:"N\xba de Police :",bold:!0,fontSize:"10"},{text:O?.idContrat,fontSize:"10"}],alignment:"left"},{},{text:[{text:"Produit :",bold:!0,fontSize:"10"},{text:O?.produit?.description,fontSize:"10"}],alignment:"left"}],[{text:"Ech\xe9ance",bold:!0,alignment:"center"},{text:"Commissions",bold:!0,alignment:"center"},{text:"Prime Nette",bold:!0,alignment:"center"},{text:"Prime Totale",bold:!0,alignment:"center"}],[{text:[{text:"Du :",bold:!0,fontSize:"10"},{text:null!=he?he.dateAvenant?.split("T")[0]:O?.dateEffet?.split("T")[0],fontSize:"10"},{text:"\nAu :",bold:!0,fontSize:"10"},{text:O?.dateExpiration?.split("T")[0],fontSize:"10"}],alignment:"left"},{text:"0,00",bold:!0,alignment:"center"},{text:Number(J?.primeList?.find(ot=>"CP101"==ot?.typePrime?.code)?.primeProrata).toLocaleString("fi-FI",{minimumFractionDigits:2,maximumFractionDigits:2})+" DZD",bold:!0,alignment:"center"},{text:Number(J?.primeList?.find(ot=>"CP186"==ot?.typePrime?.code)?.primeProrata).toLocaleString("fi-FI",{minimumFractionDigits:2,maximumFractionDigits:2})+" DZD",bold:!0,alignment:"center"}]]}}:{table:{widths:["*","*","*","*","*"],alignment:"right",body:[[{text:[{text:"Assur\xe9(e) :",bold:!0,fontSize:"10"},{text:O?.personnesList?.find(ot=>null!=ot?.personne?.raisonSocial)?O?.personnesList?.find(ot=>ot?.personne?.raisonSocial)?.personne?.raisonSocial:Ze?.nom+" "+Ze?.prenom1,fontSize:"10"}],colSpan:5,alignment:"left"},{},{},{},{}],[{text:[{text:"N\xba Quittance :",bold:!0,fontSize:"10"},{text:J?.idQuittance,fontSize:"10"}],colSpan:2,alignment:"left"},{},{text:[{text:"N\xba de Police :",bold:!0,fontSize:"10"},{text:O?.idContrat,fontSize:"10"}],colSpan:2,alignment:"left"},{},{text:[{text:"Produit :",bold:!0,fontSize:"10"},{text:O?.produit?.description,fontSize:"10"}],alignment:"left"}],[{text:"Ech\xe9ance",bold:!0,alignment:"center"},{text:"Commissions",bold:!0,alignment:"center"},{text:"T.V.A",bold:!0,alignment:"center"},{text:"Prime Nette",bold:!0,alignment:"center"},{text:"Prime Totale",bold:!0,alignment:"center"}],[{text:[{text:"Du :",bold:!0,fontSize:"10"},{text:null!=he?he.dateAvenant?.split("T")[0]:O?.dateEffet?.split("T")[0],fontSize:"10"},{text:"\nAu :",bold:!0,fontSize:"10"},{text:O?.dateExpiration?.split("T")[0],fontSize:"10"}],alignment:"left"},{text:"0,00",bold:!0,alignment:"center"},"97"==O.produit.codeProduit?{text:"  0.00 DZD",bold:!0,alignment:"center"}:{text:Number(J?.taxeList?.find(ot=>"T04"==ot?.taxe?.code)?.primeProrata).toLocaleString("fi-FI",{minimumFractionDigits:2,maximumFractionDigits:2})+" DZD",bold:!0,alignment:"center"},{text:Number(J?.primeList?.find(ot=>"CP101"==ot?.typePrime?.code)?.primeProrata).toLocaleString("fi-FI",{minimumFractionDigits:2,maximumFractionDigits:2})+" DZD",bold:!0,alignment:"center"},{text:Number(J?.primeList?.find(ot=>"CP186"==ot?.typePrime?.code)?.primeProrata).toLocaleString("fi-FI",{minimumFractionDigits:2,maximumFractionDigits:2})+" DZD",bold:!0,alignment:"center"}]]}},{layout:"noBorders",style:"table",table:{widths:["*","*"],alignment:"center",body:[[{text:[{text:"DATE RETOUR :\n\n",bold:!0,fontSize:"10"},{text:"N\xba BORDEREAU : \n",bold:!0,fontSize:"10"}],alignment:"left"},{text:[{text:"DATE ENCAISSEMENT :\n\n",bold:!0,fontSize:"10"},{text:"MOTIF DE RETOUR : \n",bold:!0,fontSize:"10"}],alignment:"left"}]]}}],styles:{sectionHeader:{bold:!0,color:"#d14723",fontSize:10,alignment:"right"},BG:{fontSize:8},table:{margin:[0,10,0,0]},headerTable:{alignment:"center",bold:!0,fontSize:10,color:"#00008F"}}};Le.createPdf(ut).download(null==O?.idQuittance?"Quittance_"+O?.quittanceList[O?.quittanceList.length-1]:"Quittance_"+O?.idQuittance)}outputAttestation(O,J,he){let Ze={},l={},t={},Ft=O?.agence?.commune||null!=O?.agence?.commune?O?.agence?.commune+" - ":""+O?.agence?.wilaya;O?.personnesList?.forEach(ut=>{switch(ut?.role?.idParam){case 233:l=ut?.personne;break;case 234:t=ut?.personne;break;case 235:Ze=ut?.personne;break;case 236:t=ut?.personne,Ze=ut?.personne;break;case 237:t=ut?.personne,l=ut?.personne;break;case 280:Ze=ut?.personne,l=ut?.personne;break;case 238:t=ut?.personne,Ze=ut?.personne,l=ut?.personne}});const ln={pageMargins:[10,5,10,50],border:[!1,!1,!1,!1],content:[{text:[{text:O?.idContrat,fontSize:"8"}],fontSize:"8",absolutePosition:{x:5,y:11}},{text:[{text:O?.risqueList.filter(ut=>"vehicule"==ut.paramRisque?.categorieParamRisque?.description).find(ut=>"P38"==ut.paramRisque.codeParam)?.valeur,fontSize:"8"}],fontSize:"8",absolutePosition:{x:5,y:41}},{text:[{text:`Ce pr\xe9sent contrat est valide ${O?.duree?.duree} ${O?.duree?.type_duree}`,fontSize:"8"}],fontSize:"8",absolutePosition:{x:5,y:71}},{text:[{text:O?.personnesList?.find(ut=>null!=ut?.personne?.raisonSocial)?O?.personnesList?.find(ut=>ut?.personne?.raisonSocial)?.personne?.raisonSocial:Ze?.nom+" "+Ze?.prenom1,fontSize:"8"}],fontSize:"8",absolutePosition:{x:373,y:70}},{text:[{text:O?.dateExpiration?.split("T")[0],fontSize:"8"}],fontSize:"8",absolutePosition:{x:373,y:92}},{text:[{text:0!=O?.quittanceList.length?O?.quittanceList[O?.quittanceList.length-1]:"",fontSize:"8"}],fontSize:"8",absolutePosition:{x:383,y:113}},{text:[{text:Number(J?.taxeList?.find(ut=>"T02"==ut.taxe.code)?.primeProrata).toFixed(2),fontSize:"8"}],fontSize:"8",absolutePosition:{x:320,y:160}},{text:[{text:Number(J?.taxeList?.find(ut=>"T03"==ut.taxe.code)?.primeProrata).toFixed(2),fontSize:"8"}],fontSize:"8",absolutePosition:{x:370,y:160}},{text:[{text:Number(J?.taxeList?.find(ut=>"T01"==ut.taxe.code||"T08"==ut?.taxe?.code)?.primeProrata).toFixed(2),fontSize:"8"}],fontSize:"8",absolutePosition:{x:415,y:160}},{text:[{text:"0.00",fontSize:"8"}],fontSize:"8",absolutePosition:{x:467,y:160}},{text:[{text:Number(J?.taxeList?.find(ut=>"T04"==ut.taxe.code)?.primeProrata).toFixed(2),fontSize:"8"}],fontSize:"8",absolutePosition:{x:522,y:160}},{text:[{text:Number(J?.taxeList?.find(ut=>"T07"==ut.taxe.code)?.primeProrata).toFixed(2),fontSize:"8"}],fontSize:"8",absolutePosition:{x:567,y:160}},{text:[{text:Number(J?.primeList?.find(ut=>"CP101"==ut.typePrime.code)?.primeProrata).toFixed(2),fontSize:"8"}],fontSize:"8",absolutePosition:{x:325,y:225}},{text:[{text:Number(J?.primeList?.find(ut=>"CP186"==ut.typePrime.code)?.primeProrata).toFixed(2),fontSize:"8"}],fontSize:"8",absolutePosition:{x:390,y:225}},{text:[{text:O?.agence?.wilaya,fontSize:"8"}],fontSize:"8",absolutePosition:{x:352,y:262}},{text:[{text:J?.auditDate?.split("T")[0],fontSize:"8"}],fontSize:"8",absolutePosition:{x:342,y:287}},{table:{widths:["20%"],body:[[{text:O?.agence?.raisonSocial+"\n"+O?.agence?.adresse+"\n"+Ft,fontSize:"8"}]]},absolutePosition:{x:15,y:489},layout:"noBorders"},{text:[{text:he?.numAttestation,fontSize:"8"}],fontSize:"8",absolutePosition:{x:147,y:489}},{text:[{text:O?.personnesList?.find(ut=>null!=ut?.personne?.raisonSocial)?O?.personnesList?.find(ut=>ut?.personne?.raisonSocial)?.personne?.raisonSocial+"\n":Ze?.nom+" "+Ze?.prenom1+"\n",fontSize:"8"},{text:Ze?.adressesList[0].description+"\n",fontSize:"8"},{text:Ze?.adressesList[0].commune?.description+" - "+Ze?.adressesList[0].wilaya?.description,fontSize:"8"}],fontSize:"8",absolutePosition:{x:15,y:559}},{text:[{text:O?.idContrat,fontSize:"8"}],fontSize:"8",absolutePosition:{x:78,y:615}},{text:[{text:null!=he?he.dateAvenant?.split("T")[0]+" au "+O?.dateExpiration?.split("T")[0]:O?.dateEffet?.split("T")[0]+" au "+O?.dateExpiration?.split("T")[0],fontSize:"8"}],fontSize:"8",absolutePosition:{x:78,y:625}},{text:[{text:O?.risqueList?.find(ut=>"P38"==ut.codeRisque)?.reponse?.valeur,fontSize:"8"}],fontSize:"8",absolutePosition:{x:20,y:683}},{text:[{text:O?.risqueList?.find(ut=>"P25"==ut.codeRisque)?.reponse?.idParamReponse?.description,fontSize:"8"}],fontSize:"8",absolutePosition:{x:130,y:683}},{table:{widths:["20%"],body:[[{text:O?.risqueList?.find(ut=>"P50"==ut.codeRisque)?.reponse?.idParamReponse?.description,fontSize:"8"}]]},absolutePosition:{x:192,y:683},layout:"noBorders"},"R184"!=O?.risqueList?.find(ut=>"P31"==ut.codeRisque)?.reponse?.idParamReponse?.code?{text:[{text:O?.risqueList?.find(ut=>"P38"==ut.codeRisque)?.reponse?.valeur,fontSize:"8"}],fontSize:"8",absolutePosition:{x:20,y:748}}:{},"R184"!=O?.risqueList?.find(ut=>"P31"==ut.codeRisque)?.reponse?.idParamReponse?.code?{text:[{text:O?.risqueList?.find(ut=>"P25"==ut.codeRisque)?.reponse?.idParamReponse?.description,fontSize:"8"}],fontSize:"8",absolutePosition:{x:130,y:748}}:{},"R184"!=O?.risqueList?.find(ut=>"P31"==ut.codeRisque)?.reponse?.idParamReponse?.code?{table:{widths:["20%"],body:[[{text:O?.risqueList?.find(ut=>"P50"==ut.codeRisque)?.reponse?.idParamReponse?.description,fontSize:"8"}]]},absolutePosition:{x:192,y:748},layout:"noBorders"}:{},{text:[{text:O?.agence?.raisonSocial+"\n",fontSize:"8"},{text:O?.agence?.adresse+"\n",fontSize:"8"},{text:O?.agence?.commune||null!=O?.agence?.commune?O?.agence?.commune+" - ":""+O?.agence?.wilaya,fontSize:"8"}],fontSize:"8",absolutePosition:{x:338,y:490}},{text:[{text:"",fontSize:"8"}],fontSize:"8",absolutePosition:{x:470,y:490}},{text:[{text:O?.personnesList?.find(ut=>null!=ut?.personne?.raisonSocial)?O?.personnesList?.find(ut=>ut?.personne?.raisonSocial)?.personne?.raisonSocial+"\n":Ze?.nom+" "+Ze?.prenom1+"\n",fontSize:"8"},{text:Ze?.adressesList[0]?.description+"\n",fontSize:"8"},{text:Ze?.adressesList[0]?.commune?.description+" - "+Ze?.adressesList[0]?.wilaya?.description,fontSize:"8"}],fontSize:"8",absolutePosition:{x:338,y:560}},{text:[{text:O?.idContrat,fontSize:"8"}],fontSize:"8",absolutePosition:{x:403,y:615}},{text:[{text:null!=he?he.dateAvenant?.split("T")[0]+" au "+O?.dateExpiration?.split("T")[0]:O?.dateEffet?.split("T")[0]+" au "+O?.dateExpiration?.split("T")[0],fontSize:"8"}],fontSize:"8",absolutePosition:{x:403,y:625}},{text:[{text:O?.risqueList?.find(ut=>"P38"==ut.codeRisque)?.reponse?.valeur,fontSize:"8"}],fontSize:"8",absolutePosition:{x:340,y:685}},{text:[{text:O?.risqueList?.find(ut=>"P25"==ut.codeRisque)?.reponse?.idParamReponse?.description,fontSize:"8"}],fontSize:"8",absolutePosition:{x:450,y:685}},{text:[{text:O?.risqueList?.find(ut=>"P50"==ut.codeRisque)?.reponse?.idParamReponse?.description,fontSize:"8"}],fontSize:"8",absolutePosition:{x:515,y:685}},"R184"!=O?.risqueList?.find(ut=>"P31"==ut.codeRisque)?.reponse?.idParamReponse?.code?{text:[{text:O?.risqueList?.find(ut=>"P38"==ut.codeRisque)?.reponse?.valeur,fontSize:"8"}],fontSize:"8",absolutePosition:{x:340,y:748}}:{},"R184"!=O?.risqueList?.find(ut=>"P31"==ut.codeRisque)?.reponse?.idParamReponse?.code?{text:[{text:O?.risqueList?.find(ut=>"P25"==ut.codeRisque)?.reponse?.idParamReponse?.description,fontSize:"8"}],fontSize:"8",absolutePosition:{x:450,y:748}}:{},"R184"!=O?.risqueList?.find(ut=>"P31"==ut.codeRisque)?.reponse?.idParamReponse?.code?{text:[{text:O?.risqueList?.find(ut=>"P50"==ut.codeRisque)?.reponse?.idParamReponse?.description,fontSize:"8"}],fontSize:"8",absolutePosition:{x:515,y:748}}:{}]};Le.createPdf(ln).download("Attestation_"+O?.idContrat)}getPaysList(){const O={headers:new K.WM({"Access-Control-Allow-Origin":"*"})};return this.http.get(`${me.g.API_ENDPOINT_pays}`,O).pipe((0,Ge.b)(J=>this.logs(J)),(0,h.K)(J=>(0,ee._)(J.error)))}outputAttestationFlotte(O,J){if("45L"==O.produit.codeProduit&&"A27"==J?.typeAvenant.code){let ot;ot=J.risqueList,O.risqueList=ot}let he={},Ze={},l={},t=[],Ft=[],ln=O?.agence?.commune||null!=O?.agence?.commune?O?.agence?.commune+" - ":""+O?.agence?.wilaya;O?.personnesList?.forEach(ot=>{switch(ot?.role?.idParam){case 233:Ze=ot?.personne;break;case 234:l=ot?.personne;break;case 235:he=ot?.personne;break;case 236:l=ot?.personne,he=ot?.personne;break;case 237:l=ot?.personne,Ze=ot?.personne;break;case 280:he=ot?.personne,Ze=ot?.personne;break;case 238:l=ot?.personne,he=ot?.personne,Ze=ot?.personne}}),void 0!==J?.typeAvenant&&0!=J?.risqueList.length?("A20"==J?.typeAvenant?.code||"A27"==J?.typeAvenant?.code||"A168"==J?.typeAvenant?.code||"A08"==J?.typeAvenant?.code||"A11"==J?.typeAvenant?.code||"A26"==J?.typeAvenant?.code||"A18"==J.typeAvenant.code)&&J?.risqueList.map(ot=>{Ft.push(ot)}):(console.log("333333"),t=O.groupesList.filter(ot=>ot?.risques),t?.forEach(ot=>{ot?.risques&&ot.risques.map(tt=>{Ft.push(tt)})}));const ut={pageMargins:[10,5,10,50],border:[!1,!1,!1,!1],content:Ft.map(ot=>({stack:[{text:[{text:"45L"==O.produit.codeProduit?O?.idContrat+" / "+ot?.risque.find(tt=>"Numero de contrat"==tt.colonne)?.valeur:O?.idContrat,fontSize:"8"}],fontSize:"8",absolutePosition:{x:5,y:11}},{text:[{text:ot?.risque.find(tt=>"N\xb0 d'Immatriculation"==tt.colonne)?.valeur,bold:!0,fontSize:"8"}],fontSize:"8",absolutePosition:{x:5,y:41}},{text:[{text:`Ce pr\xe9sent contrat est valide ${O?.duree?.duree} ${O?.duree?.type_duree}`,fontSize:"8"}],fontSize:"8",absolutePosition:{x:5,y:71}},{table:{widths:["20%"],body:[[{text:O?.agence?.raisonSocial+"\n"+O?.agence?.adresse+"\n"+ln,fontSize:"8"}]]},absolutePosition:{x:15,y:489},layout:"noBorders"},{text:[{text:"",fontSize:"8"}],fontSize:"8",absolutePosition:{x:147,y:489}},{text:[{text:O?.personnesList[0].personne?.raisonSocial?"45L"==O.produit.codeProduit?O?.personnesList[0].personne.raisonSocial+" LOC "+ot?.risque.find(tt=>"Nom & Pr\xe9nom Cr\xe9dit Preneur/Raison Social"==tt.colonne)?.valeur:O?.personnesList[0].personne.raisonSocial:O?.personnesList[0].personne.nom+"\n",fontSize:"8"},{text:"\n",fontSize:"8"},{text:O?.personnesList[0].personne?.adressesList[0].description+"\n",fontSize:"8"},{text:O?.personnesList[0].personne?.adressesList[0]?.commune?.description+" - "+O?.personnesList[0].personne?.adressesList[0]?.wilaya?.description+"\n",width:"40%",fontSize:"8"}],fontSize:"8",absolutePosition:{x:15,y:559}},{text:[{text:"45L"==O.produit.codeProduit?O?.idContrat+" / "+ot?.risque.find(tt=>"Numero de contrat"==tt.colonne)?.valeur:O?.idContrat,fontSize:"8"}],fontSize:"8",absolutePosition:{x:78,y:615}},{text:[{text:("A168"==J.typeAvenant.code||"A27"==J.typeAvenant.code||"A20"==J.typeAvenant.code?J?.dateAvenant?.split("T")[0]:O?.dateEffet?.split("T")[0])+" au "+O?.dateExpiration?.split("T")[0],fontSize:"8"}],fontSize:"8",absolutePosition:{x:78,y:625}},{text:[{text:ot?.risque.find(tt=>"N\xb0 d'Immatriculation"==tt.colonne)?.valeur,bold:!0,fontSize:"8"}],fontSize:"8",absolutePosition:{x:20,y:683}},{text:[{text:ot?.risque.find(tt=>"Marque"==tt.colonne)?.valeur,bold:!0,fontSize:"8"}],fontSize:"8",absolutePosition:{x:130,y:683}},{text:[{text:ot?.risque.find(tt=>"classe de vehicule"==tt.colonne)?.valeur,bold:!0,fontSize:"8"}],fontSize:"8",absolutePosition:{x:192,y:683}},{text:[{text:O?.agence?.raisonSocial+"\n",fontSize:"8"},{text:O?.agence?.adresse+"\n",fontSize:"8"},{text:O?.agence?.commune||null!=O?.agence?.commune?O?.agence?.commune+" - ":""+O?.agence?.wilaya,fontSize:"8"}],fontSize:"8",absolutePosition:{x:338,y:490}},{text:[{text:"",fontSize:"8"}],fontSize:"8",absolutePosition:{x:470,y:490}},{text:[{text:O?.personnesList[0].personne.raisonSocial?"45L"==O.produit.codeProduit?O?.personnesList[0].personne.raisonSocial+" LOC "+ot?.risque.find(tt=>"Nom & Pr\xe9nom Cr\xe9dit Preneur/Raison Social"==tt.colonne)?.valeur:O?.personnesList[0].personne.raisonSocial:O?.personnesList[0].personne.nom+"\n",fontSize:"8"},{text:"\n",fontSize:"8"},{text:he?.adressesList[0].description+"\n",fontSize:"8"},{text:he?.adressesList[0].commune?.description+" - "+he?.adressesList[0].wilaya?.description,fontSize:"8"}],fontSize:"8",absolutePosition:{x:338,y:560}},{text:[{text:"45L"==O.produit.codeProduit?O?.idContrat+" / "+ot?.risque.find(tt=>"Numero de contrat"==tt.colonne)?.valeur:O?.idContrat,fontSize:"8"}],fontSize:"8",absolutePosition:{x:403,y:615}},{text:[{text:("A168"==J.typeAvenant.code||"A27"==J.typeAvenant.code||"A20"==J.typeAvenant.code?J?.dateAvenant?.split("T")[0]:O?.dateEffet?.split("T")[0])+" au "+O?.dateExpiration?.split("T")[0],fontSize:"8"}],fontSize:"8",absolutePosition:{x:403,y:625}},{text:[{text:ot?.risque.find(tt=>"N\xb0 d'Immatriculation"==tt.colonne)?.valeur,bold:!0,fontSize:"8"}],fontSize:"8",absolutePosition:{x:340,y:683}},{text:[{text:ot?.risque.find(tt=>"Marque"==tt.colonne)?.valeur,bold:!0,fontSize:"8"}],fontSize:"8",absolutePosition:{x:450,y:683}},{text:[{text:ot?.risque.find(tt=>"classe de vehicule"==tt.colonne)?.valeur,bold:!0,fontSize:"8"}],fontSize:"8",absolutePosition:{x:515,y:683},pageBreak:ot.idRisque!=Ft[Ft.length-1].idRisque?"after":null}]}))};Le.createPdf(ut).download("Attestation_"+O?.idContrat)}getPackIdRisque(O,J){const he={headers:new K.WM({"Content-Type":"application/json","Access-Control-Allow-Origin":"*"})};return this.http.get(`${me.g.API_ENDPOINT_CONTRAT}/${O}/pack/risque/${J}`,he).pipe((0,Ge.b)(Ze=>this.logs(Ze)),(0,h.K)(Ze=>(0,ee._)(Ze.error)))}getPackIdRisqueHistorique(O,J){const he={headers:new K.WM({"Content-Type":"application/json","Access-Control-Allow-Origin":"*"})};return this.http.get(`${me.g.API_ENDPOINT_CONTRAT_HISTORIQUE}/${O}/pack/risque/${J}`,he).pipe((0,Ge.b)(Ze=>this.logs(Ze)),(0,h.K)(Ze=>(0,ee._)(Ze.error)))}getPackIdRisques(O,J){const he={headers:new K.WM({"Content-Type":"application/json","Access-Control-Allow-Origin":"*",skip:""})};return this.http.post(`${me.g.API_ENDPOINT_CONTRAT}/${O}/pack`,J,he).pipe((0,Ge.b)(Ze=>this.logs(Ze)),(0,h.K)(Ze=>(0,ee._)(Ze.error)))}getParamContratByIdRisque(O,J,he){const Ze={headers:new K.WM({"Content-Type":"application/json","Access-Control-Allow-Origin":"*"})};return this.http.get(`${me.g.API_ENDPOINT_CONTRAT}/${O}/groupe/${J}/risque/${he}`,Ze).pipe((0,Ge.b)(l=>this.logs(l)),(0,h.K)(l=>(0,ee._)(l.error)))}getParamContratByIdRisqueHisto(O,J,he){const Ze={headers:new K.WM({"Content-Type":"application/json","Access-Control-Allow-Origin":"*"})};return this.http.get(`${me.g.API_ENDPOINT_CONTRAT_HISTORIQUE}/${O}/groupe/${J}/risque/${he}`,Ze).pipe((0,Ge.b)(l=>this.logs(l)),(0,h.K)(l=>(0,ee._)(l.error)))}getParamContratFlotteByIdRisque(O,J){const he={headers:new K.WM({"Access-Control-Allow-Origin":"*",skip:""})};return this.http.post(`${me.g.API_ENDPOINT_CONTRAT}/${O}/pack`,J,he).pipe((0,Ge.b)(Ze=>this.logs(Ze)),(0,h.K)(Ze=>(0,ee._)(Ze.error)))}getAllContratsCommercialLine(O,J){const he={headers:new K.WM({"Access-Control-Allow-Origin":"*"})};return this.http.get(`${me.g.API_ENDPOINT_CONTRAT_COMEMRCIAL_LINE}?pageNumber=${O}&pageSize=${J}`,he).pipe((0,Ge.b)(Ze=>this.logs(Ze)),(0,h.K)(Ze=>(0,ee._)(Ze.error)))}getContratCommercialLine(O){const J={headers:new K.WM({"Access-Control-Allow-Origin":"*"})};return this.http.get(`${me.g.API_ENDPOINT_CONTRAT_COMEMRCIAL_LINE}/${O}`,J).pipe((0,Ge.b)(he=>this.logs(he)),(0,h.K)(he=>(0,ee._)(he.error)))}addContratCommercialLine(O){const J={headers:new K.WM({"Access-Control-Allow-Origin":"*"})};return this.http.post(`${me.g.API_ENDPOINT_CONTRAT_COMEMRCIAL_LINE}`,O,J).pipe((0,Ge.b)(he=>this.logs(he)),(0,h.K)(he=>(0,ee._)(he.error)))}outputContrat(O){var J=this;return(0,Se.Z)(function*(){let $i,l=0,t=[],Ft=["Garanties"],ln=[],ut={},ot={},tt={},Zt=[],nn=0,_n=[],xn=[],mn="",Ri=w(O?.risqueList?.find(oe=>"P211"===oe?.codeRisque)?.reponse?.valeur).format("DD/MM/YYYY"),Xn=w(O?.dateExpiration).format("DD/MM/YYYY"),Mt=O?.risqueList?.find(oe=>"P182"===oe?.codeRisque)?.reponse?.description,Lt=0,xt=[],ht=[],Yn=[],Jn=[80,215,125,75],pi="20G"===O.produit.codeProduit?["*","*","*","*","*"]:["*","*","*","*"],Qn=[],Kn=[],xi=[{text:"Garanties",style:"headerTable"}],tn=["*"],hi=!1;O?.taxeList?.find(oe=>"T01"==oe?.taxe?.code);const vt=O.personnesList;vt.find(oe=>"CP234"===oe.role.code||"CP236"===oe.role.code)?(J.souscripteur01=vt.find(oe=>"CP234"===oe.role.code||"CP236"===oe.role.code),J.sousExit=!0):(J.souscripteur01=null,J.sousExit=!1);const $e="20A"===O?.produit?.codeProduit;switch(Qn="20G"===O.produit.codeProduit?[{text:"Num\xe9ro d\u2019assur\xe9 ",style:"headerTable"},{text:"Nom et Pr\xe9nom",style:"headerTable"},{text:"Date de naissance",style:"headerTable"},{text:"Pack",style:"headerTable"},{text:"Prime nette",style:"headerTable"}]:[{text:"Num\xe9ro d\u2019assur\xe9 ",style:"headerTable"},{text:"Nom et Pr\xe9nom",style:"headerTable"},{text:"Date de naissance",style:"headerTable"},{text:"Prime nette",style:"headerTable"}],console.log("contrat.gavGarantieTable",O.gavGarantieTable),"20G"===O.produit.codeProduit?(O?.groupeList.forEach(oe=>{xi.push({text:oe.pack.description,style:"headerTable"}),tn.push("*"),"G03"==oe.pack.codePack?hi=!0:O.gavGarantieTable=O.gavGarantieTable.filter(pn=>"Bris de lunettes en cas d\u2019accident"!==pn[0].text&&"Proth\xe8se dentaire en cas d\u2019accident"!==pn[0].text)}),O.gavGarantieTable.unshift(xi),$i=O?.groupeList?.flatMap(oe=>oe?.risques?.map(pn=>[{text:pn?.idRisque,fontSize:"8",alignment:"center"},{text:(pn?.risque.find(Zi=>"Nom"==Zi.colonne)?.valeur||"")+" "+(pn?.risque.find(Zi=>"Pr\xe9nom"==Zi.colonne)?.valeur||""),fontSize:"8",alignment:"center"},{text:w(pn?.risque.find(Zi=>"DateDeNaissance"==Zi.colonne)?.valeur).format("DD/MM/YYYY")||"",fontSize:"8",alignment:"center"},{text:oe.pack.description,fontSize:"8",alignment:"center"},{text:O?.primeListRisques?.find(Zi=>Zi.id===pn?.idRisque)?.prime||"",fontSize:"8",alignment:"center"}]))||[]):($i=O?.groupeList?.[0]?.risques?.map(oe=>[{text:oe?.idRisque,fontSize:"8",alignment:"center"},{text:(oe?.risque.find(pn=>"Nom"==pn.colonne)?.valeur||"")+" "+(oe?.risque.find(pn=>"Pr\xe9nom"==pn.colonne)?.valeur||""),fontSize:"8",alignment:"center"},{text:w(oe?.risque.find(pn=>"DateDeNaissance"==pn.colonne)?.valeur).format("DD/MM/YYYY")||"",fontSize:"8",alignment:"center"},{text:O?.primeListRisques?.find(pn=>pn.id===oe?.idRisque)?.prime,fontSize:"8",alignment:"center"}])||[],Kn=O?.paramContratList?.map((oe,pn)=>[{text:oe?.description,fontSize:"8"},{text:1!==pn?"-":"15%",alignment:"center",fontSize:"8"},{text:2===pn?"Voir conditions au verso":`${O?.garantiePlafond?.[oe?.description]} DZD`,alignment:"center",fontSize:"8"}])||[]),O?.pack?.codePack){case"V01":mn="Monde entier sauf USA, Canada, Japon, Singapour";break;case"V02":mn="Monde entier";break;case"V04":mn="Tunisie";break;case"V03":mn="Turquie"}if(Ri&&Xn){const oe=w(Ri,"DD/MM/YYYY");Lt=w(Xn,"DD/MM/YYYY").add(1,"day").diff(oe,"days")}switch($e&&(Jn=["60%","25%","15%"]),Yn="95"==O?.produit.codeProduit?[{text:"Garanties ",fontSize:8,style:"headerTable"},{text:"Sous Garanties",fontSize:8,style:"headerTable"},{text:"Plafonds ",fontSize:8,style:"headerTable"},{text:"Franchise ",fontSize:8,style:"headerTable"},{text:"Primes ",fontSize:8,style:"headerTable"}]:$e?[{text:"Garanties ",style:"headerTable"},{text:"Limites & plafonds ",style:"headerTable"},{text:"Franchise ",style:"headerTable"}]:[{text:"Garanties ",style:"headerTable"},{text:"Sous Garanties",style:"headerTable"},{text:"Plafonds ",style:"headerTable"},{text:"Franchise ",style:"headerTable"}],Zt=O?.risqueList.filter(oe=>"vehicule"==oe?.categorieParamRisque),nn=O?.risqueList.find(oe=>"P40"==oe.codeRisque)?.reponse?.valeur,xn=O?.risqueList.filter(oe=>"vehicule"!=oe.categorieParamRisque),l=0,O.produit.codeProduit){case"97":{const oe=xn?.findIndex(Zi=>"P245"===Zi?.codeRisque);-1!==oe&&xn.splice(oe,1),xn=function Vt(oe,pn){return[...oe.filter(Di=>pn.includes(Di.codeRisque)).sort((Di,Mn)=>pn.indexOf(Di.codeRisque)-pn.indexOf(Mn.codeRisque)),...oe.filter(Di=>!pn.includes(Di.codeRisque))]}(xn,["P222","P264","P263","P223","P224","P318"]);break}}for(console.log("risqueList ",xn);l<xn?.length;)_n.push({text1:[{text:xn[l].libelle+": ",bold:!0,fontSize:"8"},{text:"Liste of values"==xn[l].typeChamp?xn[l].reponse?.idParamReponse?.description:"From Table"==xn[l].typeChamp?xn[l].reponse?.description:"Number"==xn[l].typeChamp?Number(xn[l].reponse?.valeur).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}):xn[l].reponse?.valeur,fontSize:"8"}],text2:[{text:xn[l+1]?xn[l+1].libelle+": ":"",bold:!0,fontSize:"8"},{text:xn[l+1]?"Liste of values"==xn[l+1].typeChamp?xn[l+1].reponse?.idParamReponse?.description:"From Table"==xn[l+1].typeChamp?xn[l+1].reponse?.description:"Number"==xn[l+1].typeChamp?Number(xn[l+1].reponse?.valeur).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}):xn[l+1].reponse?.valeur:"",fontSize:"8"}]}),l+=2;for(O?.personnesList?.forEach(oe=>{switch(oe?.role?.idParam){case 233:ot=oe?.personne;break;case 234:tt=oe?.personne;break;case 235:ut=oe?.personne;break;case 236:tt=oe?.personne,ut=oe?.personne;break;case 237:tt=oe?.personne,ot=oe?.personne;break;case 280:ut=oe?.personne,ot=oe?.personne;break;case 238:tt=oe?.personne,ut=oe?.personne,ot=oe?.personne}}),l=0;l<O?.paramContratList?.length;)(O?.paramContratList[l].prime&&"0"!=O?.paramContratList[l].prime||"95"!=O?.produit?.codeProduit)&&O?.paramContratList[l].categorieList?.map(oe=>{Ft.push(oe?.description)}),l++;if(Ft=Ft.filter((oe,pn)=>Ft.indexOf(oe)===pn),Ft.push("Primes nettes"),Ft.map(oe=>{ln.push("*")}),"96"==O?.produit.codeProduit||"95"==O?.produit.codeProduit){let oe=[];oe=O?.paramContratList?.find(pn=>"J01"===pn.codeGarantie),xt.push(oe),ht=O?.paramContratList?.filter(pn=>"J01"!=pn.codeGarantie)||[]}if($e&&(ht=[{description:"D\xe9c\xe8s",franchise:"",plafond:O.paramContratList?.find(oe=>"G42"===oe?.codeGarantie)?.categorieList?.[0]?.valeur+" DZD"},{description:"Incapacit\xe9 Permanente Totale / Partielle",franchise:"15%",plafond:O.paramContratList?.find(oe=>"G43"===oe?.codeGarantie)?.categorieList?.[0]?.valeur+" DZD"},{description:"Rapatriement de corps en cas de d\xe9c\xe8s",franchise:"",plafond:"Frais r\xe9els",plafondInfo:"(2)"},{description:"Rapatriement des autres b\xe9n\xe9ficiaires",franchise:"",plafond:"Frais r\xe9els",plafondInfo:"(4)"},{description:"Assistance : Prise en charge des frais m\xe9dicaux",franchise:"40\u20ac",plafond:"V01"===O?.pack?.codePack?"30 000 \u20ac":"V02"===O?.pack?.codePack?"50 000 \u20ac":"V03"===O?.pack?.codePack?"10 000 \u20ac":"5 000 \u20ac"},{description:"Transport Sanitaire",franchise:"",plafond:"Frais r\xe9els",plafondInfo:"(1)"},{description:"Visite d\u2019un proche parent si l\u2019hospitalisation du b\xe9n\xe9ficiaire est sup\xe9rieure \xe0 10 jours",franchise:"",plafond:"Frais r\xe9els",plafondInfo:"(3)"},{description:"Prolongation de s\xe9jour",franchise:"",plafond:"80 Euros/ nuit, Max 7 nuit\xe9es"},{description:"Prise en charge des soins dentaires d\u2019urgence",franchise:"25\u20ac",plafond:"160 Euros"},{description:"Retour pr\xe9matur\xe9 du B\xe9n\xe9ficiaire",franchise:"",plafond:"Frais r\xe9els",plafondInfo:"(5)"},{description:"Frais de secours et sauvetage",franchise:"",plafond:"2 500 Euros"},{description:"Assistance juridique",franchise:"",plafond:"4 000 Euros"},{description:"Avance de caution p\xe9nale",franchise:"",plafond:"10 000 Euros"},{description:"Perte de bagage, max = 40 kg",franchise:"",plafond:"20 Euros /kg"},{description:"Retard de vol de plus de 12 heures",franchise:"",plafond:"150 Euros"},{description:"Retard de livraison bagages de plus 48 heures",franchise:"",plafond:"300 Euros"},{description:"Transmission de message urgent",franchise:"",plafond:"Illimit\xe9"}]),"97"==O?.produit?.codeProduit){if("CTH"==O.sousProduit.code){const oe=O?.risqueList.find(pn=>"P152"===pn.codeRisque);J.valas=.8*oe.reponse.valeur}if("CTI"==O.sousProduit.code){const oe=O?.risqueList.find(pn=>"P270"===pn.codeRisque);J.valtot=.5*oe.reponse.valeur}}for(l=0;l<O?.paramContratList?.length;){if(O?.paramContratList[l].prime&&"0"!=O?.paramContratList[l].prime||"95"!=O?.produit?.codeProduit){let oe={Garanties:[{text:O?.paramContratList[l].description,fontSize:"8"}],plafond:[{text:"",fontSize:"8"}],formule:[{text:"",fontSize:"8"}],franchise:[{text:"",fontSize:"8"}],"Primes nettes":[{text:Number(O?.paramContratList[l].prime).toFixed(2),fontSize:"8"}]};O?.paramContratList[l].categorieList?.map(pn=>{switch(pn.description){case"plafond":console.log("cat descr",pn.description),"0"==pn.valeur&&(pn.valeur=nn),oe.plafond[0].text=pn.valeur,console.log("catval",oe.plafond);break;case"formule":console.log("cat descr",pn.description),oe.formule[0].text=pn.valeur,console.log("tempformule",oe.formule);break;case"franchise":console.log("cat descr",pn.description),oe.franchise[0].text=pn.valeur,console.log(" tmp.franchise",oe.franchise[0].text)}}),t.push(oe)}l++}let Gn="",ei="",vi=0,uo=0;switch(O?.produit.codeProduit){case"45A":ei=yield(0,e.Z)(J.http,"assets/signature-auto.png"),vi=222,uo=124,Gn="https://www.axa.dz/wp-content/uploads/2023/10/Conditions-generales-Assurance-Automobile.pdf";break;case"96":ei=yield(0,e.Z)(J.http,"assets/signature-mrp-mrh.png"),vi=336,uo=143,Gn="https://www.axa.dz/wp-content/uploads/2023/10/Conditions-Generales-Habitation.pdf";break;case"95":ei=yield(0,e.Z)(J.http,"assets/signature-mrp-mrh.png"),vi=336,uo=143,Gn="https://www.axa.dz/wp-content/uploads/2023/11/Conditions-Generales-Multirisque-professionnelle.pdf";break;case"20A":ei=yield(0,e.Z)(J.http,"assets/signature-voyage-gav.png"),vi=336,uo=143,Gn="https://www.axa.dz/wp-content/uploads/2023/10/Conditions-Generales-Assurance-Voyage.pdf";break;case"20G":ei=yield(0,e.Z)(J.http,"assets/signature-voyage-gav.png"),vi=336,uo=143;break;default:ei=""}const bo={watermark:{text:"",color:"blue",opacity:.1},pageMargins:$e?[44,40,40,40]:[35,10,35,30],border:[!1,!1,!1,!1],content:[{columns:[{width:120,text:""},""!==Gn?{qr:Gn,fit:"70",width:"auto",margin:[0,0,20,0]}:{},{width:"*",stack:["96"==O?.produit.codeProduit?{text:"AXA  MultiRisque Habitation",style:"sectionHeader"}:{text:"AXA "+O?.produit?.description.toUpperCase(),style:"sectionHeader"},{text:"Conditions Particuli\xe8res",style:"sectionHeader",color:"black"},O.isAvenant?{text:O?.avenantName,style:"sectionHeader",color:"black"}:{},{text:"97"==O.produit.codeProduit&&"CTI"==O.sousProduit.code?"Bien industriel et commercial":"97"==O.produit.codeProduit&&"CTH"==O.sousProduit.code?"Bien immobilier":O?.pack?.description,style:"sectionHeader",color:"black"},null!=O?.convention?{text:"Convention: "+O?.descriptionConvention==null?O?.convention:O?.descriptionConvention,style:"sectionHeader",color:"black"}:{},null!=O?.reduction?{text:"R\xe9duction: "+O?.descriptionReduction==null?O?.reduction:O?.descriptionReduction,style:"sectionHeader",color:"black"}:{}]}]},{columns:[{style:"table",table:{widths:["*"],alignment:"left",body:[[{text:"Agence",style:"headerTable"}]]}},{style:"table",table:{widths:["*"],alignment:"right",body:[[{text:"R\xe9f\xe9rence du contrat",style:"headerTable"}]]}}]},{columns:[{table:{widths:["*"],alignment:"left",body:[[{text:[{text:"Nom et code agence : ",bold:!0,fontSize:"8"},{text:O?.agence?.codeAgence+" "+O?.agence?.raisonSocial,fontSize:"8"}]}]]}},{table:{widths:["*"],alignment:"right",body:[[{text:[{text:"N\xb0 Police: ",bold:!0,fontSize:"8"},{text:O?.idContrat,fontSize:"8"}]}]]}}]},{columns:[{table:{widths:["*"],alignment:"left",body:[[{text:[{text:"Adresse agence : ",bold:!0,fontSize:"8"},{text:O?.agence?.adresse,fontSize:"8"}]}]]}},$e?{table:{widths:["*"],alignment:"right",body:[[{text:[{text:"Dur\xe9e : ",bold:!0,fontSize:"8"},{text:`${Lt}`,fontSize:"8"}]}]]}}:{table:{widths:["*"],alignment:"right",body:[[{text:[{text:"Type de contrat : ",bold:!0,fontSize:"8"},{text:"Dur\xe9e Ferme",fontSize:"8"}]}]]}}]},{columns:[{table:{widths:["*"],alignment:"left",body:[[{text:[{text:"T\xe9l\xe9phone agence : ",bold:!0,fontSize:"8"},{text:O?.agence?.telephone,fontSize:"8"}]}]]}},{table:{widths:["*"],alignment:"right",body:[[{text:[{text:"Date effet : ",bold:!0,fontSize:"8"},{text:O?.dateEffet?.split("T")[0],fontSize:"8"}]}]]}}]},{columns:[{table:{widths:["*"],alignment:"left",body:[[{text:[{text:"E-mail agence : ",bold:!0,fontSize:"8"},{text:O?.agence?.email,fontSize:"8"}]}]]}},{table:{widths:["*"],alignment:"right",body:[[{text:[{text:"Date d'\xe9ch\xe9ance contrat : ",bold:!0,fontSize:"8"},{text:O?.dateExpiration?.split("T")[0],fontSize:"8"}]}]]}}]},$e||"20G"==O.produit.codeProduit?[{style:"table",table:{widths:["*"],alignment:"left",body:[[{text:"Souscripteur",style:"headerTable",alignment:"left"}]]}},{table:{widths:["*"],alignment:"left",body:[[{text:[{text:"personne morale"==O?.typeClient?.description?"Raison Sociale : ":"Nom & Pr\xe9nom : ",bold:!0,fontSize:"8"},{text:"DV"==O?.canal?.code?O?.userResponse?.nom+" "+O?.userResponse?.prenom:"DS"!=O?.canal?.code?tt?.nom+" "+tt?.prenom1:"personne morale"==O?.typeClient?.description?tt?.raisonSocial:tt?.nom+" "+tt?.prenom1,fontSize:"8"}]}]]}},{table:{widths:["*"],alignment:"left",body:[[{text:[{text:"T\xe9l\xe9phone : ",bold:!0,fontSize:"8"},{text:"DV"==O?.canal?.code?O?.userResponse?.telephone:tt?.contactList?.find(oe=>"CNT1"==oe?.typeContact?.code)?.description,fontSize:"8"}]}]]}},{table:{widths:["*"],alignment:"left",body:[[{text:[{text:"E-mail : ",bold:!0,fontSize:"8"},{text:"DV"==O?.canal?.code?O?.userResponse?.email:tt?.contactList?.find(oe=>"CNT2"==oe?.typeContact?.code)?.description,fontSize:"8"}]}]]}}]:[{columns:[{style:"table",table:{widths:["*"],alignment:"left",body:[[{text:"Souscripteur",style:"headerTable"}]]}},{style:"table",table:{widths:["*"],alignment:"right",body:[[{text:"Assur\xe9(e)",style:"headerTable"}]]}}]},{columns:[{table:{widths:["*"],alignment:"left",body:[[{text:[{text:J.sousExit&&null!=tt.raisonSocial?"Raison Sociale : ":"Nom & Pr\xe9nom : ",bold:!0,fontSize:"8"},{text:J.sousExit&&null!=tt.raisonSocial?tt?.raisonSocial:tt?.nom+" "+tt?.prenom1,fontSize:"8"}]}]]}},{table:{widths:["*"],alignment:"right",body:[[{text:[{text:null!=ut.raisonSocial?"Raison Sociale : ":"Nom & Pr\xe9nom : ",bold:!0,fontSize:"8"},{text:null!=ut.raisonSocial?ut?.raisonSocial:ut?.nom+" "+ut?.prenom1,fontSize:"8"}]}]]}}]},{columns:[{table:{widths:["*"],alignment:"left",body:[[{text:[{text:"N\xe9(e) le : ",bold:!0,fontSize:"8"},{text:tt?.dateNaissance?.split("T")[0],fontSize:"8"}]}]]}},{table:{widths:["*"],alignment:"right",body:[[{text:[{text:"N\xe9(e) le : ",bold:!0,fontSize:"8"},{text:ut?.dateNaissance?.split("T")[0],fontSize:"8"}]}]]}}]},{columns:[{table:{widths:["*"],alignment:"left",body:[[{text:[{text:"E-mail : ",bold:!0,fontSize:"8"},{text:tt?.contactList?.find(oe=>8==oe.typeContact?.idParam)?.description,fontSize:"8"}]}]]}},{table:{widths:["*"],alignment:"right",body:[[{text:[{text:"E-mail : ",bold:!0,fontSize:"8"},{text:ut?.contactList?.find(oe=>8==oe.typeContact?.idParam)?.description,fontSize:"8"}]}]]}}]},{columns:[{table:{widths:["*"],alignment:"left",body:[[{text:[{text:"T\xe9l\xe9phone : ",bold:!0,fontSize:"8"},{text:tt?.contactList?.find(oe=>7==oe.typeContact?.idParam)?.description,fontSize:"8"}]}]]}},{table:{widths:["*"],alignment:"right",body:[[{text:[{text:"T\xe9l\xe9phone : ",bold:!0,fontSize:"8"},{text:ut?.contactList?.find(oe=>7==oe.typeContact?.idParam)?.description,fontSize:"8"}]}]]}}]}],0!=Zt?.length?{columns:[{style:"table",table:{widths:["*"],alignment:"left",body:[[{text:"Conducteur principal",style:"headerTable"}]]}},{style:"table",table:{widths:["*"],alignment:"right",body:[[{text:"V\xe9hicule",style:"headerTable"}]]}}]}:{},0!=Zt?.length?{columns:[{table:{widths:["*"],alignment:"left",body:[[{text:[{text:"Nom & Pr\xe9nom : ",bold:!0,fontSize:"8"},{text:ot?.nom+" "+ot?.prenom1,fontSize:"8"}]}]]}},{table:{widths:["*"],alignment:"right",body:[[{columns:[{text:[{text:"Marque : ",bold:!0,fontSize:"8"},{text:Zt.find(oe=>"P25"==oe.codeRisque)?.reponse?.idParamReponse?.description,fontSize:"8"}]},{border:[!1,!0,!0,!0],text:[{text:"Mod\xe8le : ",bold:!0,fontSize:"8"},{text:Zt.find(oe=>"P26"==oe.codeRisque)?.reponse?.idParamReponse?.description,fontSize:"8"}]}]}]]}}]}:{},0!=Zt?.length?{columns:[{table:{widths:["*"],alignment:"left",body:[[{text:[{text:"E-mail : ",bold:!0,fontSize:"8"},{text:ot?.contactList?.find(oe=>8==oe.typeContact?.idParam)?.description,fontSize:"8"}]}]]}},{table:{widths:["*"],alignment:"right",body:[[{text:[{text:"N\xb0 de Ch\xe2ssis :  ",bold:!0,fontSize:"8"},{text:Zt.find(oe=>"P30"==oe.codeRisque)?.reponse?.valeur,fontSize:"8"}]}]]}}]}:{},0!=Zt?.length?{columns:[{table:{widths:["*"],alignment:"left",body:[[{text:[{text:"T\xe9l\xe9phone : ",bold:!0,fontSize:"8"},{text:ot?.contactList?.find(oe=>7==oe.typeContact?.idParam)?.description,fontSize:"8"}]}]]}},{table:{widths:["*"],alignment:"right",body:[[{text:[{text:"Immatriculation :  ",bold:!0,fontSize:"8"},{text:Zt.find(oe=>"P38"==oe.codeRisque)?.reponse?.valeur,fontSize:"8"}]}]]}}]}:{},0!=Zt?.length?{columns:[{table:{widths:["*"],alignment:"left",body:[[{text:[{text:"N\xe9(e) le : ",bold:!0,fontSize:"8"},{text:ot?.dateNaissance?.split("T")[0],fontSize:"8"}]}]]}},{table:{widths:["*"],alignment:"right",body:[[{text:[{text:"Date de mise en circulation : ",bold:!0,fontSize:"8"},{text:Zt.find(oe=>"P28"==oe.codeRisque)?.reponse?.valeur,fontSize:"8"}]}]]}}]}:{},0!=Zt?.length?{columns:[{table:{widths:["*"],alignment:"left",body:[[{text:[{text:"Cat\xe9gorie de permis : ",bold:!0,fontSize:"8"},{text:ot?.documentList?.find(oe=>5==oe.typeDocument?.idParam)?.sousCategorie,fontSize:"8"}]}]]}},{table:{widths:["*"],alignment:"right",body:[[{text:[{text:"Valeur V\xe9nale : ",bold:!0,fontSize:"8"},{text:Zt.find(oe=>"P40"==oe.codeRisque)?.reponse?.valeur+" DZD",fontSize:"8"}]}]]}}]}:{},0!=Zt?.length?{columns:[{table:{widths:["*"],alignment:"left",body:[[{text:[{text:"Obtenu le : ",bold:!0,fontSize:"8"},{text:ot?.documentList?.find(oe=>5==oe.typeDocument?.idParam)?.dateDelivrance?.split("T")[0],fontSize:"8"}]}]]}},{table:{widths:["*"],alignment:"right",body:[[{columns:[{text:[{text:"Genre : ",bold:!0,fontSize:"8"},{text:Zt.find(oe=>"P31"==oe.codeRisque)?.reponse?.idParamReponse?.description,fontSize:"8"}]},{text:[{text:"Usage : ",bold:!0,fontSize:"8"},{text:Zt.find(oe=>"P52"==oe.codeRisque)?.reponse?.idParamReponse?.description,fontSize:"8"}]}]}]]}}]}:{},$e||"20G"==O.produit.codeProduit?[{columns:[{style:"table",table:{widths:["*"],alignment:"left",body:[[{text:"Assure(es)",style:"headerTable",alignment:"left"}]]}}]},{table:{widths:pi,body:[Qn,...$i]}},{text:"\n"},"20G"==O.produit.codeProduit?[{table:{headerRows:1,widths:tn,body:hi?O.gavGarantieTable.slice(0,6):O.gavGarantieTable}},{text:"(*) : D\xe9c\xe8s accidentel 4 \u2013 13 ans Pas de capital d\xe9c\xe8s                 (*) : D\xe9c\xe8s accidentel 13 \u2013 18 ans",fontSize:6}]:[{table:{widths:["*","*"],body:[[{text:"Informations du voyage",style:"headerTable",colSpan:2,alignment:"center"},""],[{text:`Formule : ${O?.pack?.description}`,fontSize:"8"},{text:`Dur\xe9e : ${Lt} Jour(s)`,fontSize:"8"}],[{text:`Zone : ${mn}`,fontSize:"8"},{text:`Date d\u2019effet : ${Ri}`,fontSize:"8"}],[{text:`Pays destination : ${O.isShengen?Mt+" (Schengen)":Mt}`,fontSize:"8"},{text:`Date d\u2019\xe9ch\xe9ance : ${Xn}`,fontSize:"8"}]]}},{text:"\n"},{table:{widths:["55%","15%","*"],body:[[{text:"Garanties",style:"headerTable",colSpan:3,alignment:"center"},"",""],[{text:"Garanties accord\xe9es",style:"headerTable"},{text:"Franchise",style:"headerTable"},{text:"Capitaux",style:"headerTable"}],...Kn]}}]]:[0!=Zt?.length?{}:{style:"table",table:{widths:["*"],alignment:"right",body:[[{text:"Caracteristique du risque assur\xe9",style:"headerTable"}]]}},0!=Zt?.length?{}:J.table(_n,["text1","text2"])],{text:"\n"},"97"==O?.produit?.codeProduit&&"CTH"==O.sousProduit.code?[{style:"table",table:{widths:["50%","50%"],body:[[{text:"Limite de garantie 80%",style:"headerTable"},{text:`${J.valas}`,fontSize:8}],[{text:"Franchise",style:"headerTable"},{text:"2 % des dommages, Minimum 30.000 DZD",fontSize:8}]]}}]:"97"==O?.produit?.codeProduit&&"CTI"==O.sousProduit.code?[{style:"table",table:{widths:["50%","50%"],body:[[{text:"Limite de garantie 50%",style:"headerTable"},{text:`${J.valtot} DZD`,fontSize:8}],[{text:"Franchise",style:"headerTable"},{text:"10 % des dommages",fontSize:8}]]}}]:{text:"\n"},0!=Zt?.length&&0!=t.length?J.table(t,Ft):{},0!=Zt?.length?{columns:[{style:"table",table:{widths:["*","*","*","*","*","*"],body:[[{text:"Prime nette",style:"headerTable"},null==O?.idHistorique||0==O?.nmouvement?{text:"Co\xfbt de police ",style:"headerTable"}:{text:"Frais de gestion",style:"headerTable"},{text:"T.V.A",style:"headerTable"},0!=Zt?.length?{text:"F.G.A",style:"headerTable"}:{},{text:"Timbre de dimension",style:"headerTable"},0!=Zt?.length?{text:"Timbre gradu\xe9",style:"headerTable"}:{}],[{text:Number(O?.primeList?.find(oe=>"CP101"==oe?.typePrime?.code)?.primeProrata).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})+" DZD",fontSize:10},null==O?.idHistorique||0==O?.nmouvement?{text:Number(O?.taxeList?.find(oe=>"T01"==oe?.taxe?.code)?.primeProrata).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})+" DZD",fontSize:10}:{text:Number(O?.taxeList?.find(oe=>"T08"==oe?.taxe?.code)?.primeProrata).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})+" DZD",fontSize:10},{text:Number(O?.taxeList?.find(oe=>"T04"==oe?.taxe?.code)?.primeProrata).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})+" DZD",fontSize:10},0!=Zt?.length?{text:Number(O?.taxeList?.find(oe=>"T07"==oe?.taxe?.code)?.primeProrata).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})+" DZD",fontSize:10}:{},{text:Number(O?.taxeList?.find(oe=>"T03"==oe?.taxe?.code)?.primeProrata).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})+" DZD",fontSize:10},0!=Zt?.length?{text:Number(O?.taxeList?.find(oe=>"T02"==oe?.taxe?.code)?.primeProrata).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})+" DZD",fontSize:10}:{}],[{text:"",colSpan:4},{},{},{},{text:"Prime Totale",style:"headerTable"},{text:Number(O?.primeList?.find(oe=>"CP186"==oe?.typePrime?.code)?.primeProrata).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})+" DZD",fontSize:10}]]}}]}:$e||"20G"==O.produit.codeProduit?{table:{widths:["*","*","*","*"],body:[[{text:"Prime nette",style:"headerTable"},{text:"Frais de gestion",style:"headerTable"},{text:"Droit de timbres",style:"headerTable"},{text:"Prime TTC",style:"headerTable"}],[{text:Number(O?.primeList?.find(oe=>"CP101"==oe?.typePrime?.code)?.primeProrata).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})+" DZD",bold:!0,alignment:"center",fontSize:"8"},{text:Number(O?.taxeList?.find(oe=>"T01"==oe?.taxe?.code)?.primeProrata).toFixed(2).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")+" DZD",bold:!0,alignment:"center",fontSize:"8"},{text:Number(O?.taxeList?.find(oe=>"T03"==oe?.taxe?.code)?.primeProrata).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})+" DZD",bold:!0,alignment:"center",fontSize:"8"},{text:Number(O?.primeList?.find(oe=>"CP186"==oe?.typePrime?.code)?.primeProrata).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})+" DZD",bold:!0,alignment:"center",fontSize:"8"}]]}}:{columns:[{style:"table",table:{widths:["*","*","*","*","*","*"],body:[[{text:"Prime nette",style:"headerTable"},{text:"Prime sans r\xe9duction",style:"headerTable"},null==O?.idHistorique||0==O?.nmouvement?{text:"Co\xfbt de police",style:"headerTable"}:{text:"Frais de gestion",style:"headerTable"},{text:"T.V.A",style:"headerTable"},{text:"Timbre de dimension",style:"headerTable"},{text:"Prime Totale",style:"headerTable"}],[{text:Number(O?.primeList?.find(oe=>"CP101"==oe?.typePrime?.code)?.primeProrata).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})+" DZD",fontSize:10},{text:Number(O?.primeList?.find(oe=>"CP264"==oe?.typePrime?.code)?.primeProrata).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})+" DZD",fontSize:10},null==O?.idHistorique||0==O?.nmouvement?{text:Number(O?.taxeList?.find(oe=>"T01"==oe?.taxe?.code)?.primeProrata)+" DZD",fontSize:10}:{text:Number(O?.taxeList?.find(oe=>"T08"==oe?.taxe?.code)?.primeProrata).toFixed(2).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")+" DZD",fontSize:10},"97"==O.produit.codeProduit?{text:"  0.00 DZD",fontSize:10}:{text:Number(O?.taxeList?.find(oe=>"T04"==oe?.taxe?.code)?.primeProrata).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})+" DZD",fontSize:10},{text:Number(O?.taxeList?.find(oe=>"T03"==oe?.taxe?.code)?.primeProrata).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})+" DZD",fontSize:10},{text:Number(O?.primeList?.find(oe=>"CP186"==oe?.typePrime?.code)?.primeProrata).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})+" DZD",fontSize:10}]]}}]},{text:"\n"},$e?[{text:"NB :",bold:!0,margin:[0,0,0,7],fontSize:8},{ul:["Toute modification de dates devra \xeatre demand\xe9e \xe0 l\u2019assureur par le souscripteur, au moins 72 heures avant la prise d\u2019effet du contrat.","La r\xe9siliation d\u2019un contrat groupe ne peut se faire que pour la totalit\xe9 des assur\xe9s mentionn\xe9s dans ce dernier.","En cas d\u2019accident, de maladie inopin\xe9e ou afin d\u2019invoquer les autres garanties d\u2019assistance, vous devez contacter l\u2019assisteur dans un d\xe9lai maximum de 48h avant d\u2019engager toute d\xe9pense."],fontSize:8,bold:!0},{text:"\n"}]:{},{text:"Le pr\xe9sent contrat est r\xe9gi par le Code Civil, l'ordonnance n\xb095/07 du 25 Janvier 1995 modifi\xe9e par la loi n\xb006/04 du 20 F\xe9vrier 2006, relative aux Assurances , l'ordonnance n\xb074/15 du 30 Janvier 1974 modifi\xe9e et compl\xe9t\xe9e par la loi n\xb088/31 du 19/07/1988 et les d\xe9crets n\xb080/34 - n\xb080/35 - n\xb080/36 et n\xb080/37 du 16 F\xe9vrier 1980.",fontSize:"8",color:"black",pageBreak:"after"},"96"==O?.produit.codeProduit||"95"==O?.produit.codeProduit||$e?{style:"table",text:$e?`Tableau des garanties - Formule : ${O?.pack?.description}`:"Tableau des garanties",fontSize:14,color:"black",bold:!0,alignment:"center"}:{},"96"==O?.produit.codeProduit||$e?O?.paramContratList?.filter(oe=>"J01"!=oe.codeGarantie)||$e?{style:"table",table:{widths:Jn,headerRows:1,body:[Yn].concat(ht.map(oe=>{let pn,Zi=[],Ai=[],Di=[];if("J01"!=oe.codeGarantie){let Nn=0;pn=oe.description,oe?.sousGarantieList?.map(vn=>{Zi.push({text:vn.description,fontSize:10,lineHeight:1.25}),Ai[Nn]="SG23"!=vn.codeSousGarantie?"SG20"!=vn.codeSousGarantie?"SG07"!=vn.codeSousGarantie&&"SG08"!=vn.codeSousGarantie&&"SG108"!=vn.codeSousGarantie&&"SG109"!=vn.codeSousGarantie?"SG12"!=vn.codeSousGarantie&&"SG35"!=vn.codeSousGarantie&&"SG22"!=vn.codeSousGarantie&&"SG44"!=vn.codeSousGarantie&&"SG37"!=vn.codeSousGarantie&&"SG39"!=vn.codeSousGarantie?0!=vn.categorieList?.find(Et=>"plafond"==Et?.description)?.valeur?vn.categorieList?.find(Et=>"plafond"==Et?.description)?{text:Number(vn.categorieList?.find(Et=>"plafond"==Et?.description).valeur).toString().replace(/\B(?=(\d{3})+(?!\d))/g," ")+" DZD",fontSize:"10",lineHeight:1.25,alignment:"center"}:{text:"A concurrence des frais engag\xe9s",fontSize:"8",lineHeight:1.25,alignment:"center"}:{text:"/",fontSize:"10",alignment:"center"}:{text:"5% de l'indemnit\xe9",fontSize:"10",lineHeight:1.25,alignment:"center"}:{text:" Valeur locative annuelle de 'l'habitation avec un maximum de 1 000 000 DZD",fontSize:"6",lineHeight:1,alignment:"center"}:{text:"250 000 DZD par sinistre par ann\xe9e d\u2019assurance",fontSize:"6",lineHeight:1,alignment:"center"}:{text:"15 000 DZD par ann\xe9e d\u2019assurance",fontSize:"7",lineHeight:1.25,alignment:"center"},Di="D04"!=oe.codeGarantie&&"D05"!=oe.codeGarantie?{text:"5% des dommages avec un minimum de 5000 DZD ",fontSize:"9",valign:"middle"}:{text:"5% des dommages avec un minimum de 5000 DZD et un d\xe9lai de carrance d\u2019un mois \xe0 compter de la date d\u2019effet",fontSize:"8",valign:"middle"},Nn++}),0==oe?.sousGarantieList?.length&&0!=oe?.categorieList?.length&&(Ai[Nn]={text:oe.categorieList?.find(vn=>"plafond"==vn?.description)?Number(oe.categorieList?.find(vn=>"plafond"==vn?.description)?.valeur).toString().replace(/\B(?=(\d{3})+(?!\d))/g," ")+" DZD":"",fontSize:"10",lineHeight:1.25,alignment:"center"},Di={text:oe.categorieList?.find(vn=>"franchise"==vn?.description)?"5% des dommages avec un minimum de 5000 DZD":"",fontSize:"9",valign:"middle"})}return $e?(pn=oe.description,Ai=[oe.plafondInfo?{text:[oe.plafond+" ",{text:oe.plafondInfo,sup:!0}],fontSize:8,alignment:"center"}:{text:oe.plafond,fontSize:"8",alignment:"center"}],Di={text:oe.franchise,fontSize:"8",alignment:"center"},[[{text:pn,fontSize:"8",verticalAlignment:"middle",colSpan:4}],[Ai||null],Di]):[[{text:pn,fontSize:"10",verticalAlignment:"middle",colSpan:4}],$e?null:[Zi||null],[Ai||null],Di]}))}}:{}:"95"==O?.produit.codeProduit?{style:"table",table:{widths:[95,175,120,45,60],headerRows:1,body:[Yn].concat(ht.map(oe=>{let pn,Zi=[],Ai=[],Di=[],Mn=[],vn=0;switch(pn=oe.description,oe?.sousGarantieList?.map(Et=>{Zi.push({text:Et.description,fontSize:8,lineHeight:1.25}),Ai[vn]="SG98"!=Et.codeSousGarantie?"SG87"!=Et.codeSousGarantie&&"SG89"!=Et.codeSousGarantie?"SG84"!=Et.codeSousGarantie&&"SG85"!=Et.codeSousGarantie&&"SG86"!=Et.codeSousGarantie?"SG82"!=Et.codeSousGarantie?"SG81"!=Et.codeSousGarantie?"SG68"!=Et.codeSousGarantie?"SG64"!=Et.codeSousGarantie&&"SG65"!=Et.codeSousGarantie?"SG79"!=Et.codeSousGarantie?"SG52"!=Et.codeSousGarantie&&"SG53"!=Et.codeSousGarantie&&"SG70"!=Et.codeSousGarantie&&"SG71"!=Et.codeSousGarantie?"SG50"!=Et.codeSousGarantie?"SG72"!=Et.codeSousGarantie&&"SG12"!=Et.codeSousGarantie&&"SG35"!=Et.codeSousGarantie&&"SG22"!=Et.codeSousGarantie&&"SG44"!=Et.codeSousGarantie&&"SG37"!=Et.codeSousGarantie&&"SG39"!=Et.codeSousGarantie&&"SG54"!=Et.codeSousGarantie&&"SG55"!=Et.codeSousGarantie&&"SG72"!=Et.codeSousGarantie?Et.categorieList?.find(mo=>"plafond"==mo?.description)?0!=Et.categorieList?.find(mo=>"plafond"==mo?.description).valeur?{text:Number(Et.categorieList?.find(mo=>"plafond"==mo?.description).valeur).toString().replace(/\B(?=(\d{3})+(?!\d))/g," ")+" DZD",fontSize:"8",lineHeight:1.25,alignment:"center"}:{text:"A concurrence des frais engag\xe9s",fontSize:"8",lineHeight:1.5,alignment:"center"}:" ":{text:"5% de l'indemnit\xe9 avec un max de 1 000 000 DZD",fontSize:"5",lineHeight:2,alignment:"center"}:{text:Number(Et.categorieList?.find(mo=>"plafond"==mo?.description).valeur).toString().replace(/\B(?=(\d{3})+(?!\d))/g," ")+" DZD  /sinistre ",fontSize:"8",lineHeight:1.25,alignment:"center"}:{text:"Valeur locative annuelle des locaux avec un maximum de 1 000 000 DZD",fontSize:"5",lineHeight:1,alignment:"center"}:{text:"Frais engag\xe9s max \xe0 50 000 DZD",fontSize:"8",lineHeight:1.25,alignment:"center"}:{text:"2 500 000 DZD/ Ann\xe9e d'assurance",fontSize:"7",lineHeight:1.25,alignment:"center"}:{text:"1 000 000 DZD/ Ann\xe9e d'assurance",fontSize:"7",lineHeight:1.25,alignment:"center"}:{text:"Limit\xe9 \xe0 50 000 DZD",fontSize:"8",lineHeight:1.25,alignment:"center"}:{text:"50 000 DZD / sinistre",fontSize:"8",lineHeight:1.25,alignment:"center"}:{text:Number(Et.categorieList?.find(mo=>"plafond"==mo?.description).valeur).toString().replace(/\B(?=(\d{3})+(?!\d))/g," ")+" DZD/ Ann\xe9e d'assurance ",fontSize:"8",lineHeight:2,alignment:"center"}:{text:Number(Et.categorieList?.find(mo=>"plafond"==mo?.description).valeur/2).toString().replace(/\B(?=(\d{3})+(?!\d))/g," ")+" DZD/  /sinistre ",fontSize:"8",lineHeight:1.25,alignment:"center"}:{text:"Limit\xe9 \xe0 1 000 000 DZD",fontSize:"8",lineHeight:1.25,alignment:"center"},"Honoraires d\u2019experts"==Et.description&&(Ai[vn]={text:"Selon bar\xe8me UAR",fontSize:"8",lineHeight:1.5,alignment:"center"}),Mn[vn]={text:null!=Et.prime&&"0"!=Et.prime?Number(Et.prime).toFixed(2).toString().replace(/\B(?=(\d{3})+(?!\d))/g," ")+" DZD":" ",lineHeight:1.25,fontSize:"8"},vn++}),oe.codeGarantie){case"G47":case"G52":Di={text:oe.categorieList?.find(Et=>"franchise"==Et?.description)?"5% des dommages nets":"",fontSize:"8",valign:"middle"};break;case"G45":case"G53":Di={text:"20 000 DZD sur dommages mat\xe9riels uniquement",fontSize:"8",valign:"middle"};break;case"G46":Di={text:"10% des dommages avec un minimum de 20000 DZD",fontSize:"8",valign:"middle"};break;case"G51":Di={text:"7 Jours",fontSize:"8",valign:"middle"};break;default:Di={text:oe.categorieList?.find(Et=>"franchise"==Et?.description)?"10% des dommages avec un minimum de "+Number(oe.categorieList?.find(Et=>"franchise"==Et?.description)?.valeur)+" DZD":"",fontSize:"8",valign:"middle"}}return 0==oe?.sousGarantieList?.length&&0!=oe?.categorieList?.length&&(Ai[vn]={text:oe.categorieList?.find(Et=>"plafond"==Et?.description)?Number(oe.categorieList?.find(Et=>"plafond"==Et?.description)?.valeur).toString().replace(/\B(?=(\d{3})+(?!\d))/g," ")+" DZD":"",fontSize:"8",lineHeight:1.25,alignment:"center"},Mn[vn]={text:null!=oe.prime&&"0"!=oe.prime?Number(oe.prime).toFixed(2).toString().replace(/\B(?=(\d{3})+(?!\d))/g," ")+" DZD":" ",lineHeight:1.25,fontSize:"8"}),[[{text:pn,fontSize:"8",verticalAlignment:"middle",colSpan:4}],[Zi||null],[Ai||null],[Di],[Mn||null]]}))}}:{},$e?{table:{widths:["60%","*"],body:[[{text:"(1) : Couts r\xe9els, avion sanitaire sur vols intracontinentaux uniquement.",fontSize:7},{text:"(2) : Cercueil minimum + frais d'inhumation",fontSize:7}],[{text:"(3) : Billet aller/retour classe \xe9conomique.",fontSize:7},{text:"(4) : Billet aller/retour classe \xe9conomique.",fontSize:7}],[{text:"(5) : Billet retour classe \xe9conomique.",fontSize:7,colSpan:2},{}]]},layout:{hLineWidth:function(oe,pn){return oe===pn.table.body.length?1:0},vLineWidth:function(oe,pn){return 0===oe||oe===pn.table.widths.length?1:0},hLineColor:"black",vLineColor:"black"}}:{},{text:"\n"},"96"==O?.produit.codeProduit&&null!=xt?{style:"table",table:{widths:[80,165,70,90,80],headerRows:1,body:[[{text:"Garanties ",style:"headerTable"},{text:"Sous Garanties",style:"headerTable"},{text:"Limites de garanties ",style:"headerTable"},{text:"Limite par an ",style:"headerTable"},{text:"Franchises ",style:"headerTable"}]].concat(xt.map(oe=>{let pn,Zi=[],Ai=[],Di=[];if(null!=oe&&"J01"==oe.codeGarantie){let Mn=0;pn=oe.description,oe?.sousGarantieList?.map(Nn=>{Zi[Mn]={text:Nn.description,fontSize:"10",lineHeight:1.25},Ai[Mn]=Nn.categorieList?.find(vn=>"plafond"==vn?.description)?{text:Nn.categorieList?.find(vn=>"plafond"==vn?.description).valeur.toString().replace(/\B(?=(\d{3})+(?!\d))/g," ")+" DZD",fontSize:"10",lineHeight:1.25}:" ",Di={text:Nn.categorieList?.find(vn=>"franchise"==vn?.description).valeur?Nn.categorieList?.find(vn=>"franchise"==vn?.description).valeur+" DZD":" "},Mn++})}return[[{text:pn,fontSize:"10",colSpan:4}],[Zi||null],[Ai||null],[{text:"03 interventions / garantie / An",fontSize:"10"}],[{text:"Un d\xe9lai de carence d'un mois \xe0 compter de la date d'effet du contrat",fontSize:"10"}]]}))}}:{},0!=Zt?.length?{style:"table",table:{widths:["*","*"],body:[[{stack:[{text:"Etendue g\xe9ographique \n \n",bold:!0,fontSize:"8"},{text:"L'assurance du pr\xe9sent contrat produit ses effets exclusivement sur le territoire Alg\xe9rien. \n \n",fontSize:"6",alignment:"justify"},{text:"Usages \n \n",bold:!0,fontSize:"8"},{text:"100"==O?.risqueList?.find(oe=>"P52"==oe?.codeRisque)?.reponse?.idParamReponse?.code||"101"==O?.risqueList?.find(oe=>"P52"==oe?.codeRisque)?.reponse?.idParamReponse?.code?"Clauses U1 - Usage \xabaffaire - fonctionnaire\xbb \n":"",bold:!0,fontSize:"6",alignment:"justify"},{text:"100"==O?.risqueList?.find(oe=>"P52"==oe?.codeRisque)?.reponse?.idParamReponse?.code||"101"==O?.risqueList?.find(oe=>"P52"==oe?.codeRisque)?.reponse?.idParamReponse?.code?"Le souscripteur d\xe9clare express\xe9ment que le v\xe9hicule, objet de l'assurance n'est pas utilis\xe9 commercialement, m\xeame \xe0 titre exceptionnel pour le transport ou la livraison de produits ou de marchandises ou pour le transport on\xe9reux de personnes. \n \n":"",fontSize:"6",alignment:"justify"},{text:"107"==O?.risqueList?.find(oe=>"P52"==oe?.codeRisque)?.reponse?.idParamReponse?.code?"Clause U2 - Usage \xabtransport public de marchandises\xbb \n":"",bold:!0,fontSize:"6",alignment:"justify"},{text:"107"==O?.risqueList?.find(oe=>"P52"==oe?.codeRisque)?.reponse?.idParamReponse?.code?"Le souscripteur d\xe9clare express\xe9ment que le v\xe9hicule, objet de l'assurance, sert au transport de produits ou de marchandises. \n \n":"",fontSize:"6",alignment:"justify"},{text:"108"==O?.risqueList?.find(oe=>"P52"==oe?.codeRisque)?.reponse?.idParamReponse?.code?"Clause U3 - Usage \xabtransport public de voyageurs\xbb \n":"",bold:!0,fontSize:"6",alignment:"justify"},{text:"108"==O?.risqueList?.find(oe=>"P52"==oe?.codeRisque)?.reponse?.idParamReponse?.code?"Le souscripteur d\xe9clare express\xe9ment utiliser le v\xe9hicule, objet de l'assurance pour le transport de voyageurs et que ce v\xe9hicule est \xe9quip\xe9 de places r\xe9guli\xe8rement am\xe9nag\xe9es pour le transport des voyageurs, le nombre de places figurant sur la carte grise du v\xe9hicule. \n \n":"",fontSize:"6",alignment:"justify"},{text:"105"==O?.risqueList?.find(oe=>"P52"==oe?.codeRisque)?.reponse?.idParamReponse?.code?"Clause U4 - Usage \xablocation-auto\xbb \n":"",bold:!0,fontSize:"6",alignment:"justify"},{text:"105"==O?.risqueList?.find(oe=>"P52"==oe?.codeRisque)?.reponse?.idParamReponse?.code?"Le souscripteur d\xe9clare express\xe9ment que le v\xe9hicule objet de l'assurance est lou\xe9, avec ou sans chauffeur, qu'il sert \xe0 la promenade, au tourisme ou \xe0 l'exercice d'une profession. \n \n":"",fontSize:"6",alignment:"justify"},{text:"103"==O?.risqueList?.find(oe=>"P52"==oe?.codeRisque)?.reponse?.idParamReponse?.code?"Clause U5 - Usage \xabauto-\xe9cole\xbb \n":"",bold:!0,fontSize:"6",alignment:"justify"},{text:"103"==O?.risqueList?.find(oe=>"P52"==oe?.codeRisque)?.reponse?.idParamReponse?.code?"Le souscripteur d\xe9clare express\xe9ment que le v\xe9hicule d\xe9sign\xe9 au contrat sert \xe0 donner des le\xe7ons de conduite et qu'il est muni d'une double commande. \n \n":"",fontSize:"6",alignment:"justify"},{text:"104"==O?.risqueList?.find(oe=>"P52"==oe?.codeRisque)?.reponse?.idParamReponse?.code?"Clause U6 - Usage \xabtaxi\xbb \n":"",bold:!0,fontSize:"6",alignment:"justify"},{text:"104"==O?.risqueList?.find(oe=>"P52"==oe?.codeRisque)?.reponse?.idParamReponse?.code?"Le souscripteur d\xe9clare express\xe9ment que le v\xe9hicule est utilis\xe9 pour des besoins de transport de personnes \xe0 titre on\xe9reux. \n \n":"",fontSize:"6",alignment:"justify"},{text:"102"==O?.risqueList?.find(oe=>"P52"==oe?.codeRisque)?.reponse?.idParamReponse?.code?"Clause U7 - Usage \xabcommerce & commerce-cbis\xbb \n":"",bold:!0,fontSize:"6",alignment:"justify"},{text:"102"==O?.risqueList?.find(oe=>"P52"==oe?.codeRisque)?.reponse?.idParamReponse?.code?"Le souscripteur d\xe9clare express\xe9ment que le v\xe9hicule est utilis\xe9 pour les besoins d'une activit\xe9 commerciale. \n \n":"",fontSize:"6",alignment:"justify"},{text:"109"==O?.risqueList?.find(oe=>"P52"==oe?.codeRisque)?.reponse?.idParamReponse?.code?"Clause U9 - Usage \xabv\xe9hicules sp\xe9ciaux\xbb \n":"",bold:!0,fontSize:"6",alignment:"justify"},{text:"109"==O?.risqueList?.find(oe=>"P52"==oe?.codeRisque)?.reponse?.idParamReponse?.code?"Le souscripteur d\xe9clare express\xe9ment que le v\xe9hicule, objet de l'assurance, est utilis\xe9 pour des besoins priv\xe9s ou pour les besoins d'une profession ou d'une activit\xe9, \xe0 l'exclusion du transport de personnes \xe0 titre on\xe9reux. \n \n":"",fontSize:"6",alignment:"justify"},{text:"B2"!=O?.pack?.codePack?"Franchises \n \n":"",bold:!0,fontSize:"8"},{text:"B2"!=O?.pack?.codePack?"Est le montant qui reste \xe0 la charge de l'assur\xe9 en cas de sinistre. \n \n":"",fontSize:"6"},{text:"S2"==O?.pack?.codePack||"SV"==O?.pack?.codePack?"Clause F1 - Franchises sur le risque \xabdommages collision\xbb \n":"",bold:!0,fontSize:"6",alignment:"justify"},{text:"S2"==O?.pack?.codePack||"SV"==O?.pack?.codePack?"Cette garantie comporte une franchise mentionn\xe9e dans le tableau des garanties. L'indemnit\xe9, franchise d\xe9duite, ne peut \xeatre sup\xe9rieure \xe0 la valeur assur\xe9e qui constitue l'engagement maximum de la Compagnie.\n                                En cas de r\xe8glement de sinistre, cette franchise reste obligatoirement \xe0 la charge de l'assur\xe9(e) et sera d\xe9duite de l'indemnit\xe9 d\xe9finitive. \n\n":"",fontSize:"6",alignment:"justify"},{text:"F2"==O?.pack?.codePack?"Clause F2- Franchises sur le risque \xabdommages tous accidents \xbb \n":"",bold:!0,fontSize:"6",alignment:"justify"},{text:"F2"==O?.pack?.codePack?"La garantie \xab Dommages Tous Accidents \xbb comporte une franchise mentionn\xe9e dans le tableau des garanties L'indemnit\xe9, franchise d\xe9duite, ne peut \xeatre sup\xe9rieure \xe0 la valeur assur\xe9e qui constitue l'engagement maximum de la Compagnie.\n                                En cas de r\xe8glement de sinistre, cette franchise reste obligatoirement \xe0 la charge de l'assur\xe9(e) et sera d\xe9duite de l'indemnit\xe9 d\xe9finitive.\n                                Il est entendu que l'assur\xe9 est redevable de la moiti\xe9 du montant de la franchise convenue au tableau des garanties au cas o\xf9 il communique, sur le constat amiable, toutes les informations du (des) tiers associ\xe9 (s) \xe0 son accident. \n\n":"",fontSize:"6",alignment:"justify"},{text:"FL"==O?.pack?.codePack?"Clause F3- Franchises sur le risque \xab Dommages Tous Accidents Limit\xe9e \xbb \n":"",bold:!0,fontSize:"6",alignment:"justify"},{text:"FL"==O?.pack?.codePack?"La garantie \xab Dommages Tous Accidents Limit\xe9e \xbb comporte une franchise mentionn\xe9e dans le tableau des garanties L'indemnit\xe9, franchise d\xe9duite, ne peut \xeatre sup\xe9rieure \xe0 la valeur assur\xe9e qui constitue l'engagement maximum de la Compagnie.\n                                En cas de r\xe8glement de sinistre, cette franchise reste obligatoirement \xe0 la charge de l'assur\xe9(e) et sera d\xe9duite de l'indemnit\xe9 d\xe9finitive.\n                                Il est entendu que l'assur\xe9 est redevable de la moiti\xe9 du montant de la franchise convenue au tableau des garanties au cas o\xf9 il communique, sur le constat amiable, toutes les informations du (des) tiers associ\xe9 (s) \xe0 son accident. \n\n":"",fontSize:"6",alignment:"justify"},{text:"Divers \n \n",bold:!0,fontSize:"8"},{text:"Clause D2- D\xe9l\xe9gation \n",bold:!0,fontSize:"6"},{text:"En cas de perte totale du v\xe9hicule assur\xe9 ayant \xe9t\xe9 achet\xe9 \xe0 cr\xe9dit, l'indemnit\xe9 ne saurait \xeatre effectu\xe9 qu'entre les mains d'un repr\xe9sentant de l'organisme de cr\xe9dit hors de la pr\xe9sence et sans le concours de l'assur\xe9(e).\n                                Le droit pour la compagnie d'assurance de r\xe9silier le contrat lors de toute infraction constat\xe9e demeure entier, mais en ce qui concerne l'assur\xe9 (cr\xe9ancier susnomm\xe9), cette r\xe9siliation ne prendra effet qu'un mois apr\xe8s la notification qui lui sera destin\xe9e par lettre recommand\xe9e \xe0 son domicile d\xe9sign\xe9 dans le contrat \n\n",fontSize:"6"},{text:"Clause D3 -Dur\xe9e ferme \n",bold:!0,fontSize:"6"},{text:"Le pr\xe9sent contrat est souscrit pour la dur\xe9e ferme indiqu\xe9e aux conditions particuli\xe8res. Il expire de plein droit et sans autre avis \xe0 la date mentionn\xe9e dans la rubrique \xab d'expiration \xbb \xe0 minuit. \n\n",fontSize:"6",alignment:"justify"},{text:O?.paramContratList?.find(oe=>"G05"==oe?.codeGarantie)?"Clause D4 - Vol d'autoradio \n":"",bold:!0,fontSize:"6"},{text:O?.paramContratList?.find(oe=>"G05"==oe?.codeGarantie)?"Moyennant une prime additionnelle, la garantie s'exerce en cas de vol d'autoradio \xe0 concurrence de sa valeur d\xe9clar\xe9e. La garantie ne pourra s'appliquer qu'\xe0 condition qu'il y ait effraction du v\xe9hicule.\n                                La valeur de l'autoradio du v\xe9hicule est \xe9gale \xe0 la valeur d\xe9clarative \xe0 la souscription avec un montant maximum mentionn\xe9e dans le tableau des garanties. \n\n":"",fontSize:"6",alignment:"justify"},{text:O?.paramContratList?.find(oe=>"G10"==oe?.codeGarantie)?"Clause D5 - Protection Financi\xe8re \n":"",bold:!0,fontSize:"6"},{text:O?.paramContratList?.find(oe=>"G10"==oe?.codeGarantie)?"Cette garantie couvre le pr\xe9judice subi en pertes directes et indirectes, d\xe9passant la valeur v\xe9nale en cas de perte totale ou v\xe9hicule irr\xe9parable. Cette indemnit\xe9 est plafonn\xe9e \xe0 hauteur du capital mentionn\xe9. \n\n":"",fontSize:"6",alignment:"justify"},{text:O?.paramContratList?.find(oe=>"G09"==oe?.codeGarantie)?"Clause D6 - Protection Juridique \n":"",bold:!0,fontSize:"6"},{text:O?.paramContratList?.find(oe=>"G09"==oe?.codeGarantie)?"En cas de conflit engageant le v\xe9hicule assur\xe9, l'assur\xe9(e) dispose de l'assistance d'un avocat ou d'un cabinet agr\xe9\xe9 par la Compagnie afin de le conseiller et essayer de r\xe9soudre \xe0 l'amiable ou judiciairement tout conflit li\xe9 aux transactions commerciales de son v\xe9hicule. Les frais des honoraires du cabinet agr\xe9\xe9 seront pris en charge par la Compagnie \xe0 hauteur la limit\xe9 mentionn\xe9e dans le tableau des garanties. \n\n":"",fontSize:"6",alignment:"justify"},{text:"Clause D9 - D\xe9fense et Recours \n",bold:!0,fontSize:"6",alignment:"justify"},{text:"Au titre de la garantie d\xe9fense et recours , l'assureur n'engage aucun recours aupr\xe8s du tiers responsable dans le cas o\xf9 les dommages ne d\xe9passent pas le montant de 5000 DA. \n\n",fontSize:"6",alignment:"justify"},{text:"Clause D10 - Limite annuelle d'indemnisation \n",bold:!0,fontSize:"6",alignment:"justify"},{text:"Au titre des garanties suivantes : Bris de glaces, Protection du conducteur & des passagers, le total annuel des indemnisations ne peut exc\xe9der 1,5 fois la limite maximum par sinistre.\n                                                Au titre de la garantie Dommages Collision, le total annuel des indemnisations ne peut exc\xe9der le plafond mentionn\xe9 dans le tableau des garanties\n\n",fontSize:"6",alignment:"justify"},{text:"Clause D11 - bonus malus : \n",bold:!0,fontSize:"6"},{text:"Conform\xe9ment aux dispositions de l'article 25 des conditions g\xe9n\xe9rales, la clause de bonus-malus dite aussi r\xe9duction- majoration, consiste \xe0 appliquer un coefficient sur la prime de r\xe9f\xe9rence en fonction des accidents que vous occasionnez et/ou d\xe9clarez.\n                                Quand et comment \xe9volue votre coefficient de bonus-malus ?\n                                - Il \xe9volue chaque ann\xe9e, \xe0 l'\xe9ch\xe9ance anniversaire de votre contrat ; \n                                - C'est un coefficient appliqu\xe9 sur plusieurs garanties (hors garantie responsabilit\xe9 civile ou garanties dont la prime est r\xe9glement\xe9e)\n                                - Il est initialement \xe9gal \xe0 (01) pour un conducteur qui n'a jamais \xe9t\xe9 assur\xe9 ou dont l'historique de sinistralit\xe9 est inconnu\n                                - Il est inf\xe9rieur \xe0 (01) si vous avez du bonus et sup\xe9rieur \xe0 (01) si vous avez du malus\n                                Vous avez \xe9t\xe9 responsable d'un accident ou avez d\xe9clar\xe9 plusieurs sinistres ?\n                                - Un malus (majoration) qui ne peut d\xe9passer 200% s'applique sur le tarif en vigueur.\n                                Une ann\xe9e sans accident responsable et sous r\xe9serve des dispositions r\xe9gissant le malus ?\n                                - Vous b\xe9n\xe9ficiez d'un bonus qui ne peut d\xe9passer 10% du tarif en vigueur.\n\n",fontSize:"6",alignment:"justify"},{text:O?.paramContratList?.find(oe=>"G17"==oe?.codeGarantie)?"R\xe8gles d'indemnisation \n \n":"",bold:!0,fontSize:"8"},{text:O?.paramContratList?.find(oe=>"G17"==oe?.codeGarantie)?"Clause R1 -Indemnisations au titre de la garantie \xabProtection du Conducteur & des Passagers\xbb \n":"",bold:!0,fontSize:"6",alignment:"justify"},{text:O?.paramContratList?.find(oe=>"G17"==oe?.codeGarantie)?"En cas d'Incapacit\xe9 Permanente Partielle (IPP) du conducteur et/ou des passagers du v\xe9hicule assur\xe9, un capital est vers\xe9 \xe0 chacun des bless\xe9s proportionnellement \xe0 son taux d'IPP arr\xeat\xe9 par le m\xe9decin conseil avec un plafond maximum mentionn\xe9e dans le tableau des garanties par victime et sinistre.\n                                Si le total des indemnit\xe9s calcul\xe9es est sup\xe9rieur \xe0 la pr\xe9c\xe9dente limite, une r\xe8gle proportionnelle est applicable pour chacune des victimes dans la limite mentionn\xe9e dans le tableau des garanties.\n                                Une franchise de 15% est d\xe9duite du taux d'incapacit\xe9 arr\xeat\xe9 avant calcul de l'indemnit\xe9.\n                                Les frais m\xe9dicaux et d'hospitalisation sont limit\xe9s selon la limit\xe9 mentionn\xe9e dans le tableau des garanties par sinistre.":"",fontSize:"6"}]},{stack:[{text:O?.paramContratList?.find(oe=>"G17"==oe?.codeGarantie)?"":"R\xe8gles d'indemnisation \n \n",bold:!0,fontSize:"8"},{text:O?.paramContratList?.find(oe=>"G17"==oe?.codeGarantie)?"Le nombre de personnes transport\xe9es dans le v\xe9hicule assur\xe9 ne doit pas exc\xe9der le nombre de places pr\xe9vues par le constructeur. Dans le cas contraire, la Compagnie prendra en charge, en cas d'accident, toutes les victimes transport\xe9es par le v\xe9hicule assur\xe9, proportionnellement au nombre de places autoris\xe9es.\n                                Les indemnit\xe9s vers\xe9es au titre de la garantie \xab Responsabilit\xe9 Civile \xbb par la Compagnie ou par les Compagnies adverses seront d\xe9duites des indemnit\xe9s dues au titre des frais m\xe9dicaux et d'hospitalisation.\n                                En cas de D\xe9c\xe8s ou d'Invalidit\xe9 Absolue ou D\xe9finitive (IAD) de l'assur\xe9(e) et/ou des passagers du v\xe9hicule assur\xe9 \xe0 la suite d'un accident, un capital mentionn\xe9 dans le tableau des garanties est vers\xe9 dans la limit\xe9 mentionn\xe9e dans le tableau des garanties aux ayants droits pr\xe9vus par la Fr\xe9dha ou au(x) b\xe9n\xe9ficiaire(s), \xe0 parts \xe9gales, d\xe9sign\xe9(s) par le souscripteur. \n\n":"",fontSize:"6"},{text:O?.paramContratList?.find(oe=>"G15"==oe?.codeGarantie)?"Clause R2 -Indemnisations au titre de la garantie \xab Protection Famille \xbb \n":"",bold:!0,fontSize:"6",alignment:"justify"},{text:O?.paramContratList?.find(oe=>"G15"==oe?.codeGarantie)?"En cas de D\xe9c\xe8s ou d'IAD \xe0 la suite d'un accident, la Compagnie indemnise l'assur\xe9 au titre de la garantie \xab Protection Famille \xbb d'un capital mentionn\xe9 dans le tableau des garanties, sera r\xe9parti \xe0 parts \xe9gales au(x) b\xe9n\xe9ficiaire(s) d\xe9sign\xe9(s) par l'assur\xe9(e) lors de la souscription du contrat ou \xe0 ses ayants droits pr\xe9vus par la Fr\xe9dha. Ce capital est cumulable \xe0 tout autre capital ayant \xe9t\xe9 vers\xe9 au titre du pr\xe9sent contrat\n                                Cas ou l'assur\xe9 serait une personne morale\n                                Dans le cas o\xf9 l'assur\xe9 est une personne morale, les indemnisations relatives \xe0 la garantie \xab Protection famille \xbb, s'appliquent aux ayants droit du conducteur principal mentionn\xe9 dans le contrat d'assurance. \n\n":"",fontSize:"6"},{text:O?.paramContratList?.find(oe=>"G07"==oe?.codeGarantie)||O?.paramContratList?.find(oe=>"G13"==oe?.codeGarantie)?"Conditions de prise en charge dans le cadre de la garantie \xabDommages Collision\xbb \n":"",bold:!0,fontSize:"6",alignment:"justify"},{text:O?.paramContratList?.find(oe=>"G07"==oe?.codeGarantie)||O?.paramContratList?.find(oe=>"G13"==oe?.codeGarantie)?"Les parties conviennent que la prise en charge du sinistre ne peut se faire qu'\xe0 condition de l'identification du tiers comme le pr\xe9voit les conditions g\xe9n\xe9rales. Nonobstant toute disposition contraire, les parties conviennent aussi que le remboursement du montant du dommage s'effectue selon les conditions suivantes :\n                                (i) \xe0 hauteur de la limite de garantie fix\xe9e aux pr\xe9sentes conditions particuli\xe8res dans les d\xe9lais fix\xe9s dans les conditions g\xe9n\xe9rales et (ii) au-del\xe0 de ce montant, le compl\xe9ment sera vers\xe9 apr\xe8s r\xe9ception de ce dit compl\xe9ment du montant du sinistre de la soci\xe9t\xe9 d'assurance adverse suite \xe0 la proc\xe9dure de recours en vigueur au niveau du secteur des assurances. \n\n":"",fontSize:"6"},{text:O?.paramContratList?.find(oe=>"G11"==oe?.codeGarantie)?"Assistance \n \n":"",bold:!0,fontSize:"8"},{text:O?.paramContratList?.find(oe=>"G11"==oe?.codeGarantie)?"Clause A1 - Etendue g\xe9ographique et v\xe9hicule garanti \n":"",bold:!0,fontSize:"6",alignment:"justify"},{text:O?.paramContratList?.find(oe=>"G11"==oe?.codeGarantie)?"Etendue g\xe9ographique : Les garanties Assistance aux v\xe9hicules et Assistance aux personnes du pr\xe9sent contrat produisent leurs effets exclusivement sur le territoire Alg\xe9rien.\n                                V\xe9hicule Garanti : Le v\xe9hicule destin\xe9 au transport de personnes et de marchandises dont le poids total autoris\xe9 en charge est inf\xe9rieur \xe0 3,5 tonnes, \xe2g\xe9 de moins de 12 ans pour les cas de panne et sans limite d'\xe2ge pour les accidents, vols et incendies, \n                                D\xe9finition de la franchise Kilom\xe9trique :\n                                Distance mentionn\xe9e aux Conditions Particuli\xe8res corres\xacpondant \xe0 un rayon \xe0 partir du p\xe9rim\xe8tre urbain de la ville de r\xe9sidence de l4assur\xe9, sur laquelle la garantie remor\xacquage ou d\xe9pannage sur place ne s4applique pas. \n\n":"",fontSize:"6"},{text:"25"==O?.paramContratList?.find(oe=>"G11"==oe?.codeGarantie)?.categorieList[0]?.valeur?"Clause A2 - Limites de garanties : \n\n":"",bold:!0,fontSize:"6",alignment:"justify"},{fontSize:"6",ul:[{text:"25"==O?.paramContratList?.find(oe=>"G11"==oe?.codeGarantie)?.categorieList[0]?.valeur?"Formule Assistance Basic":"",bold:!0,fontSize:"6"}]},"25"==O?.paramContratList?.find(oe=>"G11"==oe?.codeGarantie)?.categorieList[0]?.valeur?{style:"table",table:{widths:["*","*"],alignment:"left",body:[[{text:"Assistance aux v\xe9hicules",colSpan:2,fontSize:"6",style:"headerTable"},{}],[{text:"Franchise kilom\xe9trique en cas de panne (en km)",fontSize:"6"},{text:"25",fontSize:"6",alignment:"center"}],[{text:"1. D\xe9pannage/remorquage en cas de panne ou d'accident (en dinars)",fontSize:"6"},{text:"7 000",fontSize:"6",alignment:"center"}],[{text:"2. Extraction du v\xe9hicule assur\xe9 \xe0 l'aide d'une grue (en dinars)",fontSize:"6"},{text:"7 000",fontSize:"6",alignment:"center"}],[{text:"3. Retour des b\xe9n\xe9ficiaires/poursuite de voyage",fontSize:"6"},{text:"Inclus",fontSize:"6",alignment:"center"}],[{text:"4. Prise en charge des frais d'h\xe9bergement \xe0 l'h\xf4tel (02 nuit\xe9es maximum/personne)",fontSize:"6"},{text:"5 000/nuit\xe9e",fontSize:"6",alignment:"center"}],[{text:"5. S\xe9jour et d\xe9placement des b\xe9n\xe9ficiaires par suite du vol du v\xe9hicule (02 nuit\xe9es maximum/personne)",fontSize:"6"},{text:"5 000",fontSize:"6",alignment:"center"}],[{text:"6. Gardiennage et r\xe9cup\xe9ration du v\xe9hicule apr\xe8s r\xe9paration (en dinars)",fontSize:"6"},{text:"3 000",fontSize:"6",alignment:"center"}],[{text:"7. Service d'un chauffeur professionnel",fontSize:"6"},{text:"Inclus",fontSize:"6",alignment:"center"}],[{text:"8. Perte ou Vol des cl\xe9s",fontSize:"6"},{text:"Non Inclus",fontSize:"6",alignment:"center"}],[{text:"9. Remplacement de roue en cas de crevaison",fontSize:"6"},{text:"Non Inclus",fontSize:"6",alignment:"center"}],[{text:"Assistance aux Personnes",fontSize:"6",colSpan:2,style:"headerTable"},{}],[{text:"Franchise Kilom\xe9trique (en Km)",fontSize:"6"},{text:"Non Inclus",fontSize:"6",alignment:"center"}],[{text:"1. Transport sanitaire",fontSize:"6"},{text:"Non Inclus",fontSize:"6",alignment:"center"}],[{text:"2. Transport des b\xe9n\xe9ficiaires accompagnateurs",fontSize:"6"},{text:"Non Inclus",fontSize:"6",alignment:"center"}],[{text:"3. Rapatriement de corps",fontSize:"6"},{text:"Non Inclus",fontSize:"6",alignment:"center"}],[{text:"4. Visite d'un proche parent en cas d'hospitalisation de plus de sept jours du b\xe9n\xe9ficiaire (02 nuit\xe9es maximum/personne)",fontSize:"6"},{text:"Non Inclus",fontSize:"6",alignment:"center"}],[{text:"5. Interruption de voyage \xe0 la suite du d\xe9c\xe8s d'un proche parent en Alg\xe9rie",fontSize:"6"},{text:"Non Inclus",fontSize:"6",alignment:"center"}],[{text:"6. Transmission de messages urgents",fontSize:"6"},{text:"Non Inclus",fontSize:"6",alignment:"center"}]]}}:{},{text:"15"==O?.paramContratList?.find(oe=>"G11"==oe?.codeGarantie)?.categorieList[0]?.valeur?"Clause A2 - Limites de garanties : \n\n":"",bold:!0,fontSize:"6",alignment:"justify"},{fontSize:"6",ul:[{text:"15"==O?.paramContratList?.find(oe=>"G11"==oe?.codeGarantie)?.categorieList[0]?.valeur?"Formule Assistance Classic":"",bold:!0,fontSize:"6"}]},"15"==O?.paramContratList?.find(oe=>"G11"==oe?.codeGarantie)?.categorieList[0]?.valeur?{style:"table",table:{widths:["*","*"],alignment:"left",body:[[{text:"Assistance aux v\xe9hicules",colSpan:2,fontSize:"6",style:"headerTable"},{}],[{text:"Franchise kilom\xe9trique en cas de panne (en km)",fontSize:"6"},{text:"15",fontSize:"6",alignment:"center"}],[{text:"1. D\xe9pannage/remorquage en cas de panne ou d'accident (en dinars)",fontSize:"6"},{text:"10 000",fontSize:"6",alignment:"center"}],[{text:"2. Extraction du v\xe9hicule assur\xe9 \xe0 l'aide d'une grue (en dinars)",fontSize:"6"},{text:"7 000",fontSize:"6",alignment:"center"}],[{text:"3. Retour des b\xe9n\xe9ficiaires/poursuite de voyage",fontSize:"6"},{text:"Inclus",fontSize:"6",alignment:"center"}],[{text:"4. Prise en charge des frais d'h\xe9bergement \xe0 l'h\xf4tel (02 nuit\xe9es maximum/personne)",fontSize:"6"},{text:"5 000/nuit\xe9e",fontSize:"6",alignment:"center"}],[{text:"5. S\xe9jour et d\xe9placement des b\xe9n\xe9ficiaires par suite du vol du v\xe9hicule (02 nuit\xe9es maximum/personne)",fontSize:"6"},{text:"5 000",fontSize:"6",alignment:"center"}],[{text:"6. Gardiennage et r\xe9cup\xe9ration du v\xe9hicule apr\xe8s r\xe9paration (en dinars)",fontSize:"6"},{text:"3 000",fontSize:"6",alignment:"center"}],[{text:"7. Service d'un chauffeur professionnel",fontSize:"6"},{text:"Inclus",fontSize:"6",alignment:"center"}],[{text:"8. Perte ou Vol des cl\xe9s",fontSize:"6"},{text:"Non Inclus",fontSize:"6",alignment:"center"}],[{text:"9. Remplacement de roue en cas de crevaison",fontSize:"6"},{text:"Non Inclus",fontSize:"6",alignment:"center"}],[{text:"Assistance aux Personnes",fontSize:"6",colSpan:2,style:"headerTable"},{}],[{text:"Franchise Kilom\xe9trique (en Km)",fontSize:"6"},{text:"Non Inclus",fontSize:"6",alignment:"center"}],[{text:"1. Transport sanitaire",fontSize:"6"},{text:"Non Inclus",fontSize:"6",alignment:"center"}],[{text:"2. Transport des b\xe9n\xe9ficiaires accompagnateurs",fontSize:"6"},{text:"Non Inclus",fontSize:"6",alignment:"center"}],[{text:"3. Rapatriement de corps",fontSize:"6"},{text:"Non Inclus",fontSize:"6",alignment:"center"}],[{text:"4. Visite d'un proche parent en cas d'hospitalisation de plus de sept jours du b\xe9n\xe9ficiaire (02 nuit\xe9es maximum/personne)",fontSize:"6"},{text:"Non Inclus",fontSize:"6",alignment:"center"}],[{text:"5. Interruption de voyage \xe0 la suite du d\xe9c\xe8s d'un proche parent en Alg\xe9rie",fontSize:"6"},{text:"Non Inclus",fontSize:"6",alignment:"center"}],[{text:"6. Transmission de messages urgents",fontSize:"6"},{text:"Non Inclus",fontSize:"6",alignment:"center"}]]}}:{},{text:"5"==O?.paramContratList?.find(oe=>"G11"==oe?.codeGarantie)?.categorieList[0]?.valeur?"Clause A2 - Limites de garanties : \n\n":"",bold:!0,fontSize:"6",alignment:"justify"},{fontSize:"6",ul:[{text:"5"==O?.paramContratList?.find(oe=>"G11"==oe?.codeGarantie)?.categorieList[0]?.valeur?"Formule Assistance Essentiel":"",bold:!0,fontSize:"6"}]},"5"==O?.paramContratList?.find(oe=>"G11"==oe?.codeGarantie)?.categorieList[0]?.valeur?{style:"table",table:{widths:["*","*"],alignment:"left",body:[[{text:"Assistance aux v\xe9hicules",colSpan:2,fontSize:"6",style:"headerTable"},{}],[{text:"Franchise kilom\xe9trique en cas de panne (en km)",fontSize:"6"},{text:"5",fontSize:"6",alignment:"center"}],[{text:"1. D\xe9pannage/remorquage en cas de panne ou d'accident (en dinars)",fontSize:"6"},{text:"15 000",fontSize:"6",alignment:"center"}],[{text:"2. Extraction du v\xe9hicule assur\xe9 \xe0 l'aide d'une grue (en dinars)",fontSize:"6"},{text:"7 000",fontSize:"6",alignment:"center"}],[{text:"3. Retour des b\xe9n\xe9ficiaires/poursuite de voyage",fontSize:"6"},{text:"Inclus",fontSize:"6",alignment:"center"}],[{text:"4. Prise en charge des frais d'h\xe9bergement \xe0 l'h\xf4tel (02 nuit\xe9es maximum/personne)",fontSize:"6"},{text:"10 000/nuit\xe9e",fontSize:"6",alignment:"center"}],[{text:"5. S\xe9jour et d\xe9placement des b\xe9n\xe9ficiaires par suite du vol du v\xe9hicule (02 nuit\xe9es maximum/personne)",fontSize:"6"},{text:"10 000",fontSize:"6",alignment:"center"}],[{text:"6. Gardiennage et r\xe9cup\xe9ration du v\xe9hicule apr\xe8s r\xe9paration (en dinars)",fontSize:"6"},{text:"3 000",fontSize:"6",alignment:"center"}],[{text:"7. Service d'un chauffeur professionnel",fontSize:"6"},{text:"Inclus",fontSize:"6",alignment:"center"}],[{text:"8. Perte ou Vol des cl\xe9s",fontSize:"6"},{text:"Non Inclus",fontSize:"6",alignment:"center"}],[{text:"9. Remplacement de roue en cas de crevaison",fontSize:"6"},{text:"Non Inclus",fontSize:"6",alignment:"center"}],[{text:"Assistance aux Personnes",fontSize:"6",colSpan:2,style:"headerTable"},{}],[{text:"Franchise Kilom\xe9trique (en Km)",fontSize:"6"},{text:"50",fontSize:"6",alignment:"center"}],[{text:"1. Transport sanitaire",fontSize:"6"},{text:"Inclus",fontSize:"6",alignment:"center"}],[{text:"2. Transport des b\xe9n\xe9ficiaires accompagnateurs",fontSize:"6"},{text:"Inclus",fontSize:"6",alignment:"center"}],[{text:"3. Rapatriement de corps",fontSize:"6"},{text:"40 000",fontSize:"6",alignment:"center"}],[{text:"4. Visite d'un proche parent en cas d'hospitalisation de plus de sept jours du b\xe9n\xe9ficiaire (02 nuit\xe9es maximum/personne)",fontSize:"6"},{text:"10 000",fontSize:"6",alignment:"center"}],[{text:"5. Interruption de voyage \xe0 la suite du d\xe9c\xe8s d'un proche parent en Alg\xe9rie",fontSize:"6"},{text:"Non Inclus",fontSize:"6",alignment:"center"}],[{text:"6. Transmission de messages urgents",fontSize:"6"},{text:"Non Inclus",fontSize:"6",alignment:"center"}]]}}:{},{text:"0"==O?.paramContratList?.find(oe=>"G11"==oe?.codeGarantie)?.categorieList[0]?.valeur?"Clause A2 - Limites de garanties : \n\n":"",bold:!0,fontSize:"6",alignment:"justify"},{fontSize:"6",ul:[{text:"0"==O?.paramContratList?.find(oe=>"G11"==oe?.codeGarantie)?.categorieList[0]?.valeur&&"R17"!=O?.risqueList?.find(oe=>"P24"==oe?.codeRisque)?.reponse?.idParamReponse?.code?"Formule Assistance Plus":"",bold:!0,fontSize:"6"}]},"0"==O?.paramContratList?.find(oe=>"G11"==oe?.codeGarantie)?.categorieList[0]?.valeur&&"R17"!=O?.risqueList?.find(oe=>"P24"==oe?.codeRisque)?.reponse?.idParamReponse?.code?{style:"table",table:{widths:["*","*"],alignment:"left",body:[[{text:"Assistance aux v\xe9hicules",colSpan:2,fontSize:"6",style:"headerTable"},{}],[{text:"Franchise kilom\xe9trique en cas de panne (en km)",fontSize:"6"},{text:"0",fontSize:"6",alignment:"center"}],[{text:"1. D\xe9pannage/remorquage en cas de panne ou d'accident (en dinars)",fontSize:"6"},{text:"15 000",fontSize:"6",alignment:"center"}],[{text:"2. Extraction du v\xe9hicule assur\xe9 \xe0 l'aide d'une grue (en dinars)",fontSize:"6"},{text:"7 000",fontSize:"6",alignment:"center"}],[{text:"3. Retour des b\xe9n\xe9ficiaires/poursuite de voyage",fontSize:"6"},{text:"Inclus",fontSize:"6",alignment:"center"}],[{text:"4. Prise en charge des frais d'h\xe9bergement \xe0 l'h\xf4tel (02 nuit\xe9es maximum/personne)",fontSize:"6"},{text:"10 000/nuit\xe9e",fontSize:"6",alignment:"center"}],[{text:"5. S\xe9jour et d\xe9placement des b\xe9n\xe9ficiaires par suite du vol du v\xe9hicule (02 nuit\xe9es maximum/personne)",fontSize:"6"},{text:"10 000",fontSize:"6",alignment:"center"}],[{text:"6. Gardiennage et r\xe9cup\xe9ration du v\xe9hicule apr\xe8s r\xe9paration (en dinars)",fontSize:"6"},{text:"3 000",fontSize:"6",alignment:"center"}],[{text:"7. Service d'un chauffeur professionnel",fontSize:"6"},{text:"Inclus",fontSize:"6",alignment:"center"}],[{text:"8. Perte ou Vol des cl\xe9s",fontSize:"6"},{text:"Non Inclus",fontSize:"6",alignment:"center"}],[{text:"9. Remplacement de roue en cas de crevaison",fontSize:"6"},{text:"Non Inclus",fontSize:"6",alignment:"center"}],[{text:"Assistance aux Personnes",fontSize:"6",colSpan:2,style:"headerTable"},{}],[{text:"Franchise Kilom\xe9trique (en Km)",fontSize:"6"},{text:"50",fontSize:"6",alignment:"center"}],[{text:"1. Transport sanitaire",fontSize:"6"},{text:"Inclus",fontSize:"6",alignment:"center"}],[{text:"2. Transport des b\xe9n\xe9ficiaires accompagnateurs",fontSize:"6"},{text:"Inclus",fontSize:"6",alignment:"center"}],[{text:"3. Rapatriement de corps",fontSize:"6"},{text:"60 000",fontSize:"6",alignment:"center"}],[{text:"4. Visite d'un proche parent en cas d'hospitalisation de plus de sept jours du b\xe9n\xe9ficiaire (02 nuit\xe9es maximum/personne)",fontSize:"6"},{text:"20 000",fontSize:"6",alignment:"center"}],[{text:"5. Interruption de voyage \xe0 la suite du d\xe9c\xe8s d'un proche parent en Alg\xe9rie",fontSize:"6"},{text:"Inclus",fontSize:"6",alignment:"center"}],[{text:"6. Transmission de messages urgents",fontSize:"6"},{text:"Inclus",fontSize:"6",alignment:"center"}]]}}:{},{fontSize:"6",ul:[{text:"F2"==O?.pack?.codePack&&"R17"==O?.risqueList?.find(oe=>"P24"==oe?.codeRisque)?.reponse?.idParamReponse?.code&&"0"==O?.paramContratList?.find(oe=>"G11"==oe?.codeGarantie)?.categorieList[0]?.valeur?"Formule Assistance Assur'ELLE":"",bold:!0,fontSize:"6"}]},"F2"==O?.pack?.codePack&&"R17"==O?.risqueList?.find(oe=>"P24"==oe?.codeRisque)?.reponse?.idParamReponse?.code&&"0"==O?.paramContratList?.find(oe=>"G11"==oe?.codeGarantie)?.categorieList[0]?.valeur?{style:"table",table:{widths:["*","*"],alignment:"left",body:[[{text:"Assistance aux v\xe9hicules",colSpan:2,fontSize:"6",style:"headerTable"},{}],[{text:"Franchise kilom\xe9trique en cas de panne (en km)",fontSize:"6"},{text:"0",fontSize:"6",alignment:"center"}],[{text:"1. D\xe9pannage/remorquage en cas de panne ou d'accident (en dinars)",fontSize:"6"},{text:"15 000",fontSize:"6",alignment:"center"}],[{text:"2. Extraction du v\xe9hicule assur\xe9 \xe0 l'aide d'une grue (en dinars)",fontSize:"6"},{text:"7 000",fontSize:"6",alignment:"center"}],[{text:"3. Retour des b\xe9n\xe9ficiaires/poursuite de voyage",fontSize:"6"},{text:"Inclus",fontSize:"6",alignment:"center"}],[{text:"4. Prise en charge des frais d'h\xe9bergement \xe0 l'h\xf4tel (02 nuit\xe9es maximum/personne)",fontSize:"6"},{text:"10 000/nuit\xe9e",fontSize:"6",alignment:"center"}],[{text:"5. S\xe9jour et d\xe9placement des b\xe9n\xe9ficiaires par suite du vol du v\xe9hicule (02 nuit\xe9es maximum/personne)",fontSize:"6"},{text:"10 000",fontSize:"6",alignment:"center"}],[{text:"6. Gardiennage et r\xe9cup\xe9ration du v\xe9hicule apr\xe8s r\xe9paration (en dinars)",fontSize:"6"},{text:"3 000",fontSize:"6",alignment:"center"}],[{text:"7. Service d'un chauffeur professionnel",fontSize:"6"},{text:"Inclus",fontSize:"6",alignment:"center"}],[{text:"8. Perte ou Vol des cl\xe9s",fontSize:"6"},{text:"Inclus",fontSize:"6",alignment:"center"}],[{text:"9. Remplacement de roue en cas de crevaison",fontSize:"6"},{text:"Inclus",fontSize:"6",alignment:"center"}],[{text:"Assistance aux Personnes",fontSize:"6",colSpan:2,style:"headerTable"},{}],[{text:"Franchise Kilom\xe9trique (en Km)",fontSize:"6"},{text:"50",fontSize:"6",alignment:"center"}],[{text:"1. Transport sanitaire",fontSize:"6"},{text:"Inclus",fontSize:"6",alignment:"center"}],[{text:"2. Transport des b\xe9n\xe9ficiaires accompagnateurs",fontSize:"6"},{text:"Inclus",fontSize:"6",alignment:"center"}],[{text:"3. Rapatriement de corps",fontSize:"6"},{text:"60 000",fontSize:"6",alignment:"center"}],[{text:"4. Visite d'un proche parent en cas d'hospitalisation de plus de sept jours du b\xe9n\xe9ficiaire (02 nuit\xe9es maximum/personne)",fontSize:"6"},{text:"20 000",fontSize:"6",alignment:"center"}],[{text:"5. Interruption de voyage \xe0 la suite du d\xe9c\xe8s d'un proche parent en Alg\xe9rie",fontSize:"6"},{text:"Inclus",fontSize:"6",alignment:"center"}],[{text:"6. Transmission de messages urgents",fontSize:"6"},{text:"Inclus",fontSize:"6",alignment:"center"}]]}}:{},{text:"\n\n Les clauses pr\xe9vues dans le pr\xe9sent contrat et qui ne sont pas mentionn\xe9es dans le champ \xab clauses particuli\xe8res \xbb ne s'appliquent pas au pr\xe9sent contrat et ne peuvent en aucun cas \xeatre invoqu\xe9es par le souscripteur et/ou l'assur\xe9",bold:!0,fontSize:"6",alignment:"justify"}]}]]},layout:"noBorders"}:{},{text:"\n\nD\xc9CLARATION DU SOUSCRIPTEUR \n",bold:!0,fontSize:"8",alignment:"justify",pageBreak:$e||O.produit.codeProduit?"":"before"},"95"==O?.produit.codeProduit?{text:"Je reconnais avoir re\xe7u un exemplaire des Conditions G\xe9n\xe9rales et des pr\xe9sentes Conditions Particuli\xe8res et d\xe9clare avoir pris connaissance des textes y figurant.\n                Je reconnais que les pr\xe9sentes Conditions Particuli\xe8res ont \xe9t\xe9 \xe9tablies conform\xe9ment aux r\xe9ponses que j\u2019ai donn\xe9es aux questions pos\xe9es par la Compagnie lors de la souscription du contrat.\n                Je reconnais avoir \xe9t\xe9 pr\xe9alablement inform\xe9(e) du montant de la prime et des garanties du pr\xe9sent contrat.\n                Je reconnais avoir \xe9t\xe9 inform\xe9(e), au moment de la collecte d\u2019informations que les cons\xe9quences qui pourraient r\xe9sulter d\u2019une omission ou d\u2019une d\xe9claration inexacte sont celles pr\xe9vues par l\u2019article 19 de l\u2019ordonnance n\xb095/07 du 25 janvier 1995 relative aux assurances modifi\xe9e et compl\xe9t\xe9e par la loi n\xb006/04 du 20 f\xe9vrier 2006.\n                Je reconnais \xe9galement avoir \xe9t\xe9 inform\xe9(e), que les informations saisies dans ce document soient, utilis\xe9es, exploit\xe9es, trait\xe9es par AXA Assurances Alg\xe9rie Dommage, transf\xe9r\xe9es \xe0 l\u2019\xe9tranger et \xe0 ses sous-traitants, dans le cadre de l'ex\xe9cution des finalit\xe9s de la relation commerciale, conform\xe9ment \xe0 la Loi n\xb0 18-07 du 10 juin 2018 relative \xe0 la protection des personnes physiques dans le traitement des donn\xe9es \xe0 caract\xe8re personnel.\n                J\u2019autorise, \xe9galement AXA Assurances Alg\xe9rie de m\u2019envoyer des messages et des appels de prospections commerciales quel qu\u2019en soit le support ou la nature.\n                Pour toute demande concernant le traitement et vos droits relatifs \xe0 vos donn\xe9es \xe0 caract\xe8re personnel, merci de nous contacter sur l\u2019adresse : dpo@axa.dz \n\n",fontSize:"8",alignment:"justify"}:"97"==O?.produit.codeProduit?{text:"Je reconnais que les pr\xe9sentes Conditions Particuli\xe8res ont \xe9t\xe9 \xe9tablies conform\xe9ment aux r\xe9ponses que j\u2019ai donn\xe9es aux questions pos\xe9es par\n                 la Compagnie lors de la souscription du contrat.\n \n                   Je reconnais \xe9galement avoir \xe9t\xe9 pr\xe9alablement inform\xe9(e) du montant de la prime et des garanties du pr\xe9sent contrat.\n                 J\u2019autorise AXA Assurances Alg\xe9rie Dommage \xe0 communiquer ces informations \xe0 ses mandataires, r\xe9assureurs, organismes professionnels \n                 habilit\xe9s et sous-traitants missionn\xe9s.\n\n                  Je reconnais avoir \xe9t\xe9 inform\xe9(e), au moment de la collecte d\u2019informations, des cons\xe9quences qui pourraient r\xe9sulter d\u2019une omission \n                  ou d\u2019une d\xe9claration inexacte. Application de l\u2019article 19 de l\u2019ordonnance n\xb095/07 du 25 janvier 1995 relative aux assurances modifi\xe9e et compl\xe9t\xe9e par la loi \n                  n\xb006/04 du 20 f\xe9vrier 2006. \n\n                 En signant ce document, j\u2019accepte que les informations saisies dans ce document soient, utilis\xe9e, exploit\xe9es, trait\xe9es par AXA Assurances Alg\xe9rie Dommage, transf\xe9r\xe9es \xe0 l\u2019\xe9tranger et \xe0 ses sous-traitants, dans le cadre de l\u2019ex\xe9cution des finalit\xe9s de la relation commerciale, conform\xe9ment \xe0 la Loi n\xb0 18-07 du 10 juin 2018 relative \xe0 la protection des personnes physiques dans le traitement des donn\xe9es \xe0 caract\xe8re personnel. J\u2019autorise, \xe9galement AXA Assurances Alg\xe9rie Dommage de m\u2019envoyer des messages et des appels de prospections commerciales quel qu\u2019en soit le support ou la nature. Pour toute demande concernant le traitement de vos donn\xe9es \xe0 caract\xe8re personnel, merci de nous contacter sur l\u2019adresse : \n                   : dpo@axa.dz \n\n",fontSize:"8",alignment:"justify"}:$e?[{text:"Je reconnais avoir re\xe7u un exemplaire des Conditions G\xe9n\xe9rales et des pr\xe9sentes Conditions Particuli\xe8res.\n                        Je reconnais que les pr\xe9sentes Conditions Particuli\xe8res ont \xe9t\xe9 \xe9tablies conform\xe9ment aux r\xe9ponses que j\u2019ai donn\xe9es aux questions pos\xe9es par la Compagnie lors de la souscription du contrat.\n                        Je reconnais \xe9galement avoir \xe9t\xe9 pr\xe9alablement inform\xe9(e) du montant de la prime et des garanties du pr\xe9sent contrat.\n                        J\u2019autorise AXA Assurances Alg\xe9rie Vie \xe0 communiquer ces informations \xe0 ses mandataires, r\xe9assureurs, organismes professionnels habilit\xe9s et sous-traitants missionn\xe9s.\n                        Je reconnais enfin avoir \xe9t\xe9 inform\xe9(e), au moment de la collecte d\u2019informations, que les cons\xe9quences qui pourraient r\xe9sulter d\u2019une omission ou d\u2019une d\xe9claration inexacte sont celles pr\xe9vues par l\u2019article 19 de l\u2019ordonnance n\xb095/07 du 25 janvier 1995 relative aux assurances modifi\xe9e et compl\xe9t\xe9e par la loi n\xb006/04 du 20 f\xe9vrier 2006. \n                        \n                        En signant ce document, j\u2019accepte que les informations saisies dans ce document soient, utilis\xe9e, exploit\xe9es, trait\xe9es par AXA Assurances Alg\xe9rie, transf\xe9r\xe9es \xe0 l\u2019\xe9tranger et \xe0 ses sous-traitants, dans le cadre de l'ex\xe9cution des finalit\xe9s de la relation commerciale, conform\xe9ment \xe0 la Loi n\xb0 18-07 du 10 juin 2018 relative \xe0 la protection des personnes physiques dans le traitement des donn\xe9es \xe0 caract\xe8re personnel. J\u2019autorise, \xe9galement AXA Assurances Alg\xe9rie de m\u2019envoyer des messages et des appels de prospections commerciales quel qu\u2019en soit le support ou la nature. Pour toute demande concernant le traitement de vos donn\xe9es \xe0 caract\xe8re personnel, merci de nous contacter sur l\u2019adresse : dpo@axa.dz.\n                         \n",fontSize:8,alignment:"justify"},"97"==O?.produit.codeProduit?{text:"CLAUSE SANCTION  : ",style:"axaBold"}:{text:"Dispositif des Sanction : ",style:"axaBold"},"97"==O?.produit.codeProduit?{text:"Les garanties d\xe9finies dans le pr\xe9sent contrat sont r\xe9put\xe9es sans effet et l\u2019assureur n\u2019est pas tenu de fournir une couverture ou de verser une \n                        indemnit\xe9 ou d\u2019ex\xe9cuter une prestation en vertu des pr\xe9sentes dans la mesure o\xf9 la fourniture d'une telle couverture, le paiement d\u2019une telle indemnit\xe9\n                         ou l\u2019ex\xe9cution de telles prestations exposerait l\u2019assureur \xe0 toute sanction, interdiction ou restriction en vertu des r\xe9solutions des Nations Unies ou\n                          des sanctions commerciales ou \xe9conomiques, des lois et/ou des r\xe8glements applicables en Alg\xe9rie et \xe0 l\u2019international notamment les lois/r\xe8glements de\n                           l'Union europ\xe9enne, Royaume-Uni ou \xc9tats-Unis d'Am\xe9rique en la mati\xe8re ou toute loi applicable. \n\n",fontSize:"8",alignment:"justify"}:{text:"Les garanties d\xe9finies dans le pr\xe9sent contrat sont r\xe9put\xe9es sans effet et l\u2019assureur n\u2019est pas tenu de fournir une couverture ou de verser une indemnit\xe9 ou d\u2019ex\xe9cuter une prestation en vertu des pr\xe9sentes dans la mesure o\xf9 la fourniture d'une telle couverture, le paiement d\u2019une telle indemnit\xe9 ou l\u2019ex\xe9cution de telles prestations exposerait l\u2019assureur \xe0 toute sanction, interdiction ou restriction en vertu des r\xe9solutions des Nations Unies ou des sanctions commerciales ou \xe9conomiques, des lois et/ou des r\xe8glements applicables en Alg\xe9rie et \xe0 l\u2019international notamment les lois/r\xe8glements de l'Union europ\xe9enne, Royaume-Uni ou \xc9tats-Unis d'Am\xe9rique en la mati\xe8re ou toute loi applicable\n",alignment:"justify",fontSize:8},{text:"IMPORTANT :\n",bold:!0,fontSize:8,decoration:"underline"},{text:"LE BENEFICIAIRE EST COUVERT DANS LES MEMES CONDITIONS ET LIMITES, EN CAS DE MALADIE D\u2019ORIGINE INFECTIEUSE, DONT LA COVID 19, SOUS RESERVE DES EXCLUSIONS SPECIFIQUES PREVUES DANS LES CONDITIONS GENERALES. \n",fontSize:8},{text:"LE B\xc9N\xc9FICIARE NE POURRA PR\xc9TENDRE \xc0 AUCUN REMBOURSEMENT DE FRAIS S'IL N'A PAS, AU PR\xc9ALABLE, RE\xc7U L'ACCORD EXPRESS DE L'ASSISTEUR (COMMUNICATION D'UN NUM\xc9RO DE DOSSIER). \n                    TOUTE ANNULATION DANS UN DELAI INFERIEUR A 72 HEURES AVANT LA PRISE D\u2019EFFET DU CONTRAT ENGENDRERA UNE PENALITE EQUIVALENTE A 25% DU MONTANT DE LA PRIME NETTE.\n                    \n",bold:!0,fontSize:8}]:{text:"Je reconnais avoir re\xe7u un exemplaire des Conditions G\xe9n\xe9rales et des pr\xe9sentes Conditions Particuli\xe8res et d\xe9clare avoir pris connaissance des textes y figurant.\n                Je reconnais que les pr\xe9sentes Conditions Particuli\xe8res ont \xe9t\xe9 \xe9tablies conform\xe9ment aux r\xe9ponses que j'ai donn\xe9es aux questions pos\xe9es par la Compagnie lors de la souscription du contrat.\n                Je reconnais avoir \xe9t\xe9 inform\xe9(e), au moment de la collecte d'informations que les cons\xe9quences qui pourraient r\xe9sulter d'une omission ou d'une d\xe9claration inexacte sont celles pr\xe9vues par l'article 19 de l'ordonnance n\xb095/07 du 25 janvier 1995 relative aux assurances modifi\xe9e et compl\xe9t\xe9e par la loi n\xb006/04 du 20 f\xe9vrier 2006.\n                Je reconnais \xe9galement avoir \xe9t\xe9 inform\xe9(e), que les informations saisies dans ce document soient, utilis\xe9es, exploit\xe9es, trait\xe9es par AXA Assurances Alg\xe9rie Dommage, transf\xe9r\xe9es \xe0 l'\xe9tranger et \xe0 ses sous-traitants, dans le cadre de l'ex\xe9cution des finalit\xe9s de la relation commerciale, conform\xe9ment \xe0 la Loi n\xb0 18-07 du 10 juin 2018 relative \xe0 la protection des personnes physiques dans le traitement des donn\xe9es \xe0 caract\xe8re personnel.\n                En signant ce document, j'accepte que les informations saisies dans ce document soient, utilis\xe9e, exploit\xe9es, trait\xe9es par AXA Assurances Alg\xe9rie, transf\xe9r\xe9es \xe0 l'\xe9tranger et \xe0 ses sous-traitants, dans le cadre de l'ex\xe9cution des finalit\xe9s de la relation commerciale, conform\xe9ment \xe0 la Loi n\xb0 18-07 du 10 juin 2018 relative \xe0 la protection des personnes physiques dans le traitement des donn\xe9es \xe0 caract\xe8re personnel. \n                J'autorise, \xe9galement AXA Assurances Alg\xe9rie de m'envoyer des messages et des appels de prospections commerciales quel qu'en soit le support ou la nature.\n                Pour toute demande concernant le traitement et vos droits relatifs \xe0 vos donn\xe9es \xe0 caract\xe8re personnel, merci de nous contacter sur l'adresse : dpo@axa.dz \n\n",fontSize:"8",alignment:"justify"},sessionStorage.getItem("roles")?.includes("COURTIER")?{text:["Je donne par le pr\xe9sent mandat \xe0 ",{text:`${O.agence.raisonSocial}`,bold:!0}," En tant que Soci\xe9t\xe9 de Courtage en assurances, \xe0 l\u2019effet de n\xe9gocier et g\xe9rer pour mon compte aupr\xe8s des compagnies d\u2019assurances aux meilleures conditions de garanties et de tarifs, en veillant \xe0 la d\xe9fense de mes int\xe9r\xeats pendant toute la dur\xe9e de l\u2019assurance depuis la confection du contrat, qu\u2019\xe0 l\u2019occasion des r\xe8glements des sinistres. Le pr\xe9sent mandat prend effet \xe0 la date de signature du pr\xe9sent, et demeure valable tant qu\u2019il n\u2019a pas \xe9t\xe9 d\xe9nonc\xe9 express\xe9ment par mes soins conform\xe9ment \xe0 la l\xe9gislation en vigueur \n\n"],fontSize:8,alignment:"justify"}:{},0!=Zt?.length?{text:"B\xc9N\xc9FICIAIRES DESIGNES EN CAS DE D\xc9C\xc8S \n\n",bold:!0,fontSize:"8",alignment:"justify"}:{},$e||"20G"==O.produit.codeProduit?{}:0!=Zt?.length?{text:"Noms et Pr\xe9noms des b\xe9n\xe9ficiaires",bold:!0,fontSize:"8",alignment:"justify"}:{text:"Etant assur\xe9(e) je d\xe9clare ce qui suit :",bold:!0,fontSize:"8",alignment:"justify"},$e||"20G"==O.produit.codeProduit?{}:0!=Zt?.length?{style:"table",table:{widths:["*","*"],body:[[{text:[{text:"B\xe9n\xe9ficiaire A :  ________________________\n",fontSize:"8"},{text:"B\xe9n\xe9ficiaire B :  ________________________\n",fontSize:"8"},{text:"B\xe9n\xe9ficiaire C :  ________________________\n",fontSize:"8"},{text:"B\xe9n\xe9ficiaire D :  ________________________",fontSize:"8"}]},{text:[{text:"B\xe9n\xe9ficiaire E :   ________________________\n",fontSize:"8"},{text:"B\xe9n\xe9ficiaire F :   ________________________\n",fontSize:"8"},{text:"B\xe9n\xe9ficiaire G :   ________________________\n",fontSize:"8"},{text:"B\xe9n\xe9ficiaire H :   ________________________",fontSize:"8"}]}]]},layout:"noBorders"}:"95"==O?.produit.codeProduit?{text:"\u2022 Les locaux assur\xe9s sont exclusivement \xe0 usage d\u2019activit\xe9.\n                    \u2022 La dur\xe9e d\u2019inoccupation des locaux durant l\u2019ann\xe9e est inf\xe9rieure \xe0 45 jours (en une ou plusieurs p\xe9riodes).\n                    \u2022 Les locaux sont construits et couverts pour plus de 75% en mat\xe9riaux durs.\n                    \u2022 La superficie des locaux assur\xe9s n\u2019exc\xe8de pas 2500 m\xb2.\n                    \u2022 Dans les locaux assur\xe9s, il n\u2019est pas entrepos\xe9 plus de 500 litres de liquides inflammables ou de gaz combustibles.\n                    \u2022 Le nombre d\u2019employ\xe9s ne d\xe9passe pas quarante-neuf (49) personnes, y compris le chef d\u2019entreprise.\n                    \u2022 Les marchandises entrepos\xe9es ne sont pas constitu\xe9es de produits dangereux ou hautement inflammables.\n                    NB : Tout sinistre jug\xe9 ant\xe9rieur \xe0 la souscription \xe0 dire de notre expert, sera soit exclu de l\u2019indemnit\xe9, soit r\xe9gl\xe9 proportionnellement aux\n                    dommages caus\xe9s ult\xe9rieurement \xe0 la date d\u2019effet du contrat.",fontSize:"8",color:"black"}:"97"!=O?.produit.codeProduit?{text:"\u2022 Les locaux assur\xe9s sont exclusivement \xe0 usage d'habitation.\n \u2022 La dur\xe9e d'inoccupation des locaux durant l'ann\xe9e est inf\xe9rieure \xe0 90 jours (en une ou plusieurs p\xe9riodes).\n  \u2022 Les locaux sont construits et couverts pour plus de 85% en mat\xe9riaux durs.\n NB : Tout sinistre jug\xe9 ant\xe9rieur \xe0 la souscription \xe0 la suite d'une expertise \xe9tablie par un expert mandat\xe9 par la compagnie , sera soit exclu de l'indemnit\xe9, soit r\xe9gl\xe9 proportionnellement aux dommages caus\xe9s ult\xe9rieurement \xe0 la date d'effet du contrat.",fontSize:"8",color:"black"}:{},{text:"97"==O?.produit.codeProduit?"CLAUSE SANCTION :\n\n                                Les garanties d\xe9finies dans le pr\xe9sent contrat sont r\xe9put\xe9es sans effet et l\u2019assureur n\u2019est pas tenu de fournir une couverture ou de\n                                verser une indemnit\xe9 ou d\u2019ex\xe9cuter une prestation en vertu des pr\xe9sentes dans la mesure o\xf9 la fourniture d'une telle couverture, le\n                                paiement d\u2019une telle indemnit\xe9 ou l\u2019ex\xe9cution de telles prestations exposerait l\u2019assureur \xe0 toute sanction, interdiction ou restriction\n                                en vertu des r\xe9solutions des Nations Unies ou des sanctions commerciales ou \xe9conomiques, des lois et/ou des r\xe8glements\n                                applicables en Alg\xe9rie et \xe0 l\u2019international notamment les lois/r\xe8glements de l'Union europ\xe9enne, Royaume-Uni ou \xc9tats-Unis\n                                d'Am\xe9rique en la mati\xe8re ou toute loi applicable.\n\n":"",fontSize:"8",color:"black"},{text:`\n\nFait \xe0 ${O?.agence?.wilaya} Le ${w(O?.auditDate)?.format("DD/MM/YYYY")}\n\n`,bold:!0,fontSize:"8"},{layout:"noBorders",table:{widths:["*","*"],alignment:"center",body:[["97"==O?.produit.codeProduit?{text:[{text:$e?"Signature du souscripteur(trice) : \n":"\n",bold:!0,fontSize:"8"},{text:"Pr\xe9c\xe9d\xe9e de la mention \xab Lu et approuv\xe9 \xbb\n",fontSize:"8"}],alignment:"left"}:{text:[{text:$e?"Signature du souscripteur(trice) : \n":"Signature de l'assur\xe9(e)\n",bold:!0,fontSize:"8"},{text:"Pr\xe9c\xe9d\xe9e de la mention \xab Lu et approuv\xe9 \xbb\n",fontSize:"8"}],alignment:"left"},"97"==O?.produit.codeProduit?{text:"Pour l'agence:",bold:!0,fontSize:"8",alignment:"right"}:{text:"Pour la Compagnie:",bold:!0,fontSize:"8",alignment:"right"}]]}},sessionStorage.getItem("roles")?.includes("COURTIER")?{image:ei,alignment:"right",width:vi,height:uo}:{}],styles:{sectionHeader:{bold:!0,color:"#d14723",fontSize:10,alignment:"right"},BG:{fontSize:8},table:{margin:[0,10,0,0]},axaBold:{alignment:"left",bold:!0,fontSize:10,color:"#00008F"},headerTable:{alignment:"center",bold:!0,fontSize:10,color:"#00008F"}}};Le.createPdf(bo).download("CP_"+O?.idContrat)})()}outputContratFlotte(O,J){let he=[],Ze=[],l=[],t=[],Ft=[],ln=[],ut=[],ot=[],tt=[],Zt=[],xn=!1,mn=!1,Ri=!1,Xn=!1,Mt=!1,Lt=!1,xt=!1;const ht=O?.dateEffet,Yn=new Date(ht),Jn=Yn.getUTCHours(),pi=Yn.getUTCMinutes(),Qn=O?.dateEffet,Kn=new Date(Qn);Kn.getUTCHours(),Kn.getUTCMinutes(),t=O&&null!=O.groupeList?O?.groupeList.filter(vt=>vt?.garantieList):O?.groupesList.filter(vt=>vt?.garantieList),t.forEach(vt=>{ot.push(vt.garantieList)});let Kt=0;for(;Kt<ot?.length-1;)ot?.forEach(vt=>{tt.push(vt[Kt])}),Kt++;for(Kt=0;Kt<J?.length;){let vt={"N\xba ORDRE":[{text:J[Kt].risque+"/"+J?.length,fontSize:"8"}],Prime_RC:[{text:"",fontSize:"8"}],Prime_DR:[{text:"",fontSize:"8"}],Prime_DTA:[{text:"",fontSize:"8"}],Prime_DCVV:[{text:"",fontSize:"8"}],Prime_DC:[{text:"",fontSize:"8"}],Prime_Vol:[{text:"",fontSize:"8"}],Prime_Vol_Auo_radio:[{text:"",fontSize:"8"}],Prime_Incendie:[{text:"",fontSize:"8"}],Prime_BDG:[{text:"",fontSize:"8"}],Prime_Assistance:[{text:"",fontSize:"8"}],Prime_PCP:[{text:"",fontSize:"8"}],Prime_Nette:[{text:J[Kt].primeList.find($e=>$e.risque==J[Kt].risque)?.prime.toLocaleString("fi-FI",{minimumFractionDigits:2,maximumFractionDigits:2})+" DZD",fontSize:"8"}]};J[Kt].garantieList?.map($e=>{switch($e.codeGarantie){case"G00":vt.Prime_RC[0].text=Number($e.prime).toLocaleString("fi-FI",{minimumFractionDigits:2,maximumFractionDigits:2})+" DZD";break;case"G08":vt.Prime_DR[0].text=Number($e.prime).toLocaleString("fi-FI",{minimumFractionDigits:2,maximumFractionDigits:2})+" DZD";break;case"G02":vt.Prime_DTA[0].text=Number($e.prime).toLocaleString("fi-FI",{minimumFractionDigits:2,maximumFractionDigits:2})+" DZD";break;case"G13":vt.Prime_DCVV[0].text=Number($e.prime).toLocaleString("fi-FI",{minimumFractionDigits:2,maximumFractionDigits:2})+" DZD";break;case"G07":vt.Prime_DC[0].text=Number($e.prime).toLocaleString("fi-FI",{minimumFractionDigits:2,maximumFractionDigits:2})+" DZD";break;case"G03":vt.Prime_Vol[0].text=Number($e.prime).toLocaleString("fi-FI",{minimumFractionDigits:2,maximumFractionDigits:2})+" DZD";break;case"G05":vt.Prime_Vol_Auo_radio[0].text=Number($e.prime).toLocaleString("fi-FI",{minimumFractionDigits:2,maximumFractionDigits:2})+" DZD";break;case"G04":vt.Prime_Incendie[0].text=Number($e.prime).toLocaleString("fi-FI",{minimumFractionDigits:2,maximumFractionDigits:2})+" DZD";break;case"G06":vt.Prime_BDG[0].text=Number($e.prime).toLocaleString("fi-FI",{minimumFractionDigits:2,maximumFractionDigits:2})+" DZD";break;case"G11":vt.Prime_Assistance[0].text=Number($e.prime).toLocaleString("fi-FI",{minimumFractionDigits:2,maximumFractionDigits:2})+" DZD";break;case"G18":let bn=J[Kt].garantieList?.find(ei=>"G17"==ei.codeGarantie)?.prime,Vt=J[Kt].garantieList?.find(ei=>"G16"==ei.codeGarantie)?.prime,Gn=J[Kt].garantieList?.find(ei=>"G18"==ei.codeGarantie)?.prime;vt.Prime_PCP[0].text=(Number(bn)+Number(Vt)+Number(Gn)).toLocaleString("fi-FI",{minimumFractionDigits:2,maximumFractionDigits:2})+" DZD"}}),Zt.push(vt),Kt+=1}for(he=O&&null!=O.groupeList?O?.groupeList.filter(vt=>vt?.risques):O?.groupesList.filter(vt=>vt?.risques),he?.forEach(vt=>{vt?.risques&&vt.risques.forEach($e=>{Ze.push($e)})}),Kt=0;Kt<Ze?.length;){let vt={"N\xba ORDRE":[{text:Ze[Kt].idRisque+"/"+Ze?.length,fontSize:"8"}],MARQUE:[{text:"",fontSize:"8"}],IMMATRICULATION:[{text:"",fontSize:"8"}],CHASSIS:[{text:"",fontSize:"8"}],VALEUR_VENALE:[{text:"",fontSize:"8"}]};Ze[Kt].risque?.map($e=>{switch($e.colonne){case"Marque":vt.MARQUE[0].text=$e.valeur;break;case"N\xb0 d'Immatriculation":vt.IMMATRICULATION[0].text=$e.valeur;break;case"Ch\xe2ssis ":vt.CHASSIS[0].text=$e.valeur;break;case"Valeur Assur\xe9":vt.VALEUR_VENALE[0].text=isNaN(Number($e.valeur))?$e.valeur+" DZD":Number($e.valeur).toLocaleString("fi-FI",{minimumFractionDigits:2,maximumFractionDigits:2})+" DZD"}}),l.push(vt),Kt+=1}Ft=J.map(vt=>vt.garantieList?.some($e=>"G02"==$e?.codeGarantie))[0]?J.find(vt=>vt.garantieList?.find($e=>"G02"==$e?.codeGarantie)).garantieList:[],ln=J.map(vt=>vt.garantieList?.some($e=>"G13"==$e?.codeGarantie))[0]?J.find(vt=>vt.garantieList?.find($e=>"G13"==$e?.codeGarantie)).garantieList:[],J.map(vt=>vt.garantieList?.some($e=>"G07"==$e?.codeGarantie))[0]?ut=J.find(vt=>vt.garantieList?.find($e=>"G07"==$e?.codeGarantie)).garantieList:ln=[],J.map(vt=>vt.garantieList?.find($e=>"G11"==$e?.codeGarantie)).filter(vt=>"G11"==vt?.codeGarantie)?.map(vt=>{vt.categorieList?.some($e=>"0"==$e?.valeur)&&(xn=!0),vt.categorieList?.some($e=>"5"==$e?.valeur)&&(mn=!0),vt.categorieList?.some($e=>"15"==$e?.valeur)&&(Ri=!0),vt.categorieList?.some($e=>"25"==$e?.valeur)&&(Xn=!0),vt.categorieList?.some($e=>"100"==$e?.valeur)&&(Mt=!0),vt.categorieList?.some($e=>"200"==$e?.valeur)&&(Lt=!0),vt.categorieList?.some($e=>"300"==$e?.valeur)&&(xt=!0)});const $i={watermark:{text:"",color:"blue",opacity:.1},pageMargins:[35,110,35,90],border:[!1,!1,!1,!1],header:function(vt,$e){const bn={text:"Police N\xb0 : "+O?.idContrat,style:"sectionHeader",margin:[0,30],color:"black"};return 1==vt?{stack:[{text:"AXA "+O?.produit?.description.toUpperCase(),style:"sectionHeader"},{text:"Police N\xb0 : "+O?.idContrat,style:"sectionHeader",color:"black"},null!=O?.convention&&"45F"!=O.produit.codeProduit?{text:"Convention: "+O?.convention,style:"sectionHeader",color:"black"}:null!=O?.reduction&&"45F"!=O.produit.codeProduit?{text:"R\xe9duction: "+O?.reduction,style:"sectionHeader",color:"black"}:{},{qr:"https://www.axa.dz/wp-content/uploads/2023/10/Conditions-generales-Assurance-Automobile.pdf",alignment:"right",fit:"65"}],margin:[35,30,35,0]}:{stack:[bn],margin:[35,10,35,0]}},content:[{text:"Contrat FLOTTE AUTOMOBILE",bold:!0,color:"#00008F",fontSize:60,alignment:"center",margin:[0,150]},{text:O?.personnesList.map(vt=>vt?.personne.raisonSocial)[0],bold:!0,color:"#00008F",fontSize:30,alignment:"center",pageBreak:"after"},{text:"\n\nCONDITIONS PARTICULIERES\n",bold:!0,color:"#00008F",fontSize:12,alignment:"justify"},{text:"Le pr\xe9sent contrat est conclu entre :",color:"black",fontSize:10},{text:"AXA Assurances Alg\xe9rie Dommage SPA, soci\xe9t\xe9 de droit alg\xe9rien inscrite au registre de commerce d\u2019Alger sous le num\xe9ro 16/00- 1005172 B 11 au capital de 3.150.000.000,00 de Dinars Alg\xe9riens, dont le si\xe8ge social est sis au lotissement 11 d\xe9cembre 1960 lots 08 et 12, 16030 El Biar Alger",color:"black",fontSize:10},{text:"\nRepr\xe9sent\xe9e par son directeur g\xe9n\xe9ral, ayant tous pouvoirs \xe0 l\u2019effet des pr\xe9sentes.",color:"black",fontSize:10},{text:"Ci-apr\xe8s d\xe9nomm\xe9e \xab L\u2019Assureur \xbb\n\t\tD\u2019une part, ",color:"black",fontSize:10},{text:"\nEt\n ",color:"black",fontSize:10},{text:"La soci\xe9t\xe9 :  "+O?.personnesList.map(vt=>vt?.personne.raisonSocial)[0]+", dont le si\xe8ge est situ\xe9 \xe0: "+O?.personnesList.map(vt=>vt?.personne.adressesList[0].description),color:"black",fontSize:10},{text:"\nRepr\xe9sent\xe9e par son g\xe9rant, ayant tous pouvoirs \xe0 l\u2019effet des pr\xe9sentes. ",color:"black",fontSize:10},{text:"\nCi-apr\xe8s d\xe9nomm\xe9e \xab L\u2019assur\xe9 \xbb. ",color:"black",fontSize:10},{text:"\nD\u2019autre part, ",color:"black",fontSize:10,alignment:"right"},{text:"\nIl est convenu ce qui suit : ",color:"black",fontSize:10,pageBreak:"after"},{columns:[{style:"table",table:{widths:["*"],alignment:"left",body:[[{text:"PR\xc9AMBULE",style:"headerTable"}]]}}]},{text:"Le pr\xe9sent contrat d\u2019assurance est r\xe9gi par le Code Civil, l\u2019ordonnance n\xb095/07 du 25 Janvier 1995 modifi\xe9e par la loi n\xb006/04 du 20 F\xe9vrier 2006, relative aux Assurances, l\u2019ordonnance n\xb074/15 du 30 Janvier 1974 modifi\xe9e et compl\xe9t\xe9e par la loi n\xb088/31 du 19/07/1988 et les d\xe9crets n\xb080/34 - n\xb080/35 - n\xb080/36 et n\xb080/37 du 16 F\xe9vrier 1980. ",color:"black",fontSize:"8"},{text:"\nLe pr\xe9sent contrat qui mat\xe9rialise les engagements respectifs des parties intervenantes, se compose des \xe9l\xe9ments suivants : ",color:"black",fontSize:"8"},{text:"\n1.\t- Les Conditions g\xe9n\xe9rales du contrat d'assurance, qui d\xe9finissent les droits et obligations r\xe9ciproques des parties. ",color:"black",fontSize:"8"},{text:"- Les pr\xe9sentes Conditions particuli\xe8res d\xe9crivant les r\xe8gles de fonctionnement du contrat ",color:"black",fontSize:"8"},{text:"\u2013 Les annexes : ANNEXE A \u2013 D\xe9tail des garanties ; ANNEXE B \u2013 D\xe9tail des primes et garanties ; ANNEXE C \u2013 D\xe9tail des v\xe9hicules assur\xe9s ; ANNEXE D \u2013 Notice d\u2019information. ",color:"black",fontSize:"8"},{text:"Aux conditions g\xe9n\xe9rales qui pr\xe9c\xe9dent et \xe0 celles particuli\xe8res qui suivent l\u2019Assureur garantit l\u2019Assur\xe9 contre les risques d\xe9finis ci-apr\xe8s :  ",color:"black",fontSize:"8"},{columns:[{style:"table",table:{widths:["*"],alignment:"left",body:[[{text:"ARTICLE 1 : OBJECT DU CONTRAT",style:"headerTable"}]]}}]},{text:"\nLe pr\xe9sent contrat d\u2019assurance est r\xe9gi par le Code Civil, l\u2019ordonnance n\xb095/07 du 25 Janvier 1995 modifi\xe9e par la loi n\xb006/04 du 20 F\xe9vrier 2006, relative aux Assurances, l\u2019ordonnance n\xb074/15 du 30 Janvier 1974 modifi\xe9e et compl\xe9t\xe9e par la loi n\xb088/31 du 19/07/1988 et les d\xe9crets n\xb080/34 - n\xb080/35 - n\xb080/36 et n\xb080/37 du 16 F\xe9vrier 1980. ",color:"black",fontSize:"8"},{text:"\nToute modification des risques couverts \xe0 l\u2019ANNEXE \xab A \u2013 D\xe9tail des garanties \xbb doit faire l\u2019objet d\u2019un avenant sign\xe9 par les deux parties. ",color:"black",fontSize:"8"},{text:"\nToute modification de la liste des v\xe9hicules d\xe9sign\xe9s dans l\u2019ANNEXE \xab C \u2013 D\xe9tail des v\xe9hicules assur\xe9s \xbb doit faire l\u2019objet d\u2019un avenant sign\xe9 par les deux parties.",color:"black",fontSize:"8"},{columns:[{style:"table",table:{widths:["*"],alignment:"left",body:[[{text:"ARTICLE 2 : RISQUES ASSURES",style:"headerTable"}]]}}]},{text:"\nSont assur\xe9es, par le pr\xe9sent contrat d\u2019assurance, les v\xe9hicules identifi\xe9s dans le tableau intitul\xe9 \xab ANNEXE C \u2013 D\xe9tail des v\xe9hicules assur\xe9s\xbb. joint aux pr\xe9sentes conditions particuli\xe8res. ",color:"black",fontSize:"8"},{columns:[{style:"table",table:{widths:["*"],alignment:"left",body:[[{text:"ARTICLE 3 : LIEU DU RISQUE (TERRITORIALITE)",style:"headerTable"}]]}}]},{text:"L'assurance du pr\xe9sent contrat produit ses effets exclusivement en Alg\xe9rie.",color:"black",fontSize:"8"},{columns:[{style:"table",table:{widths:["*"],alignment:"left",body:[[{text:"ARTICLE 4 : USAGE VEHICULE",style:"headerTable"}]]}}]},{text:"Le souscripteur d\xe9clare que les v\xe9hicules, objets de l'assurance sont utilis\xe9s \xe0 titre commercial.",color:"black",fontSize:"8"},{columns:[{style:"table",table:{widths:["*"],alignment:"left",body:[[{text:"ARTICLE 5 : MONTANTS DES GARANTIES",style:"headerTable"}]]}}]},{text:"Les garanties sont accord\xe9es pour les v\xe9hicules assur\xe9s dans les limites des sommes fix\xe9es dans le tableau intitul\xe9 : \xab ANNEXE A \u2013 D\xe9tail des garanties \xbb ainsi que dans le tableau intitule : \xab ANNEXE B \u2013 D\xe9tail des primes et garanties \xbb joint aux pr\xe9sentes conditions particuli\xe8res. ",color:"black",fontSize:"8"},{columns:[{style:"table",table:{widths:["*"],alignment:"left",body:[[{text:"ARTICLE 6 : FRANCHISE",style:"headerTable"}]]}}]},{text:"Par d\xe9rogation \xe0 toute disposition contraire, l'Assur\xe9 conserve \xe0 sa charge une partie de l\u2019indemnit\xe9 due apr\xe8s sinistre, telle qu\u2019elle est fix\xe9e par garantie dans le tableau intitul\xe9 \xab ANNEXE A \u2013 D\xe9tail des garanties\xbb joint aux pr\xe9sentes conditions particuli\xe8res.",color:"black",fontSize:"8"},{columns:[{style:"table",table:{widths:["*"],alignment:"left",body:[[{text:"ARTICLE 7 : PRIME D'ASSURANCE",style:"headerTable"}]]}}]},{text:"\n7.1 D\xe9compte de la Prime.\n",color:"black",fontSize:10},{columns:[{style:"table",table:{widths:["*","*","*","*","*","*"],body:[[{text:"Prime nette",style:"headerTable"},null==O?.idHistorique?{text:"Co\xfbt de police",style:"headerTable"}:{text:"Frais de gestion",style:"headerTable"},{text:"T.V.A",style:"headerTable"},{text:"F.G.A",style:"headerTable"},{text:"Timbre de dimension",style:"headerTable"},{text:"Timbre gradu\xe9",style:"headerTable"}],[{text:Number(O?.primeList?.find(vt=>"CP101"==vt?.typePrime?.code)?.prime).toLocaleString("fi-FI",{minimumFractionDigits:2,maximumFractionDigits:2})+" DZD DZD",fontSize:8},null==O?.idHistorique?{text:Number(O?.taxeList?.find(vt=>"T01"==vt?.taxe?.code)?.prime).toLocaleString("fi-FI",{minimumFractionDigits:2,maximumFractionDigits:2})+" DZD DZD",fontSize:8}:{text:Number(O?.taxeList?.find(vt=>"T08"==vt?.taxe?.code)?.prime).toLocaleString("fi-FI",{minimumFractionDigits:2,maximumFractionDigits:2})+" DZD DZD",fontSize:8},{text:Number(O?.taxeList?.find(vt=>"T04"==vt?.taxe?.code)?.prime).toLocaleString("fi-FI",{minimumFractionDigits:2,maximumFractionDigits:2})+" DZD DZD",fontSize:8},{text:Number(O?.taxeList?.find(vt=>"T07"==vt?.taxe?.code)?.prime).toLocaleString("fi-FI",{minimumFractionDigits:2,maximumFractionDigits:2})+" DZD DZD",fontSize:8},{text:Number(O?.taxeList?.find(vt=>"T03"==vt?.taxe?.code)?.prime).toLocaleString("fi-FI",{minimumFractionDigits:2,maximumFractionDigits:2})+" DZD DZD",fontSize:8},{text:Number(O?.taxeList?.find(vt=>"T02"==vt?.taxe?.code)?.prime).toLocaleString("fi-FI",{minimumFractionDigits:2,maximumFractionDigits:2})+" DZD DZD",fontSize:8}],[{text:"",colSpan:4},{},{},{},{text:"Prime Totale",style:"headerTable"},{text:Number(O?.primeList?.find(vt=>"CP186"==vt?.typePrime?.code)?.prime).toLocaleString("fi-FI",{minimumFractionDigits:2,maximumFractionDigits:2})+" DZD",fontSize:8}]]}}]},{text:"\n7.2 Paiement de la Prime\n",color:"black",fontSize:10},{text:"La prime totale (toutes taxes comprises) du pr\xe9sent contrat est de "+Number(O?.primeList?.find(vt=>"CP186"==vt?.typePrime?.code)?.primeProrata).toFixed(2).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")+".DZD. Elle est payable \xe0 la date de souscription du contrat.",color:"black",fontSize:"8",pageBreak:"after"},{columns:[{style:"table",table:{widths:["*"],alignment:"left",body:[[{text:"ARTICLE 8 : DUREE DU CONTRAT",style:"headerTable"}]]}}]},{text:"Le contrat est souscrit pour une dur\xe9e ferme allant du "+O?.dateEffet?.split("T")[0]+" \xe0 "+Jn+"H"+pi+" au "+O?.dateExpiration?.split("T")[0],color:"black",fontSize:"8"},{columns:[{style:"table",table:{widths:["*"],alignment:"left",body:[[{text:"ARTICLE 9 : DISPOSITIONS RELATIVES A L\u2019INDEMNISATION DES SINISTRES",style:"headerTable"}]]}}]},{text:"\nEn cas de sinistres l\u2019assur\xe9 devra se conformer aux obligations d\xe9crites en \xabANNEXE D \u2013 Notice d\u2019information \xbb  des pr\xe9sentes conditions particuli\xe8res.",color:"black",fontSize:"8"},{columns:[{style:"table",table:{widths:["*"],alignment:"left",body:[[{text:"ARTICLE 10 : DISPOSITIONS DIVERSES",style:"headerTable"}]]}}]},{text:"\n\u2022\tFiscalit\xe9 : Il sera fait application de la l\xe9gislation fiscale en la mati\xe8re en vigueur en Alg\xe9rie.\n\u2022\tModifications du contrat : Toutes modifications dans les termes et conditions de la pr\xe9sente assurance seront constat\xe9es par avenant sign\xe9 par les deux parties annex\xe9es au pr\xe9sent contrat pour en faire partie int\xe9grante.\n\u2022\tLe pr\xe9sent contrat est conclu entre les parties pour \xeatre ex\xe9cut\xe9 de bonne foi\n\u2022\tLimite annuelle d\u2019indemnisation : Au titre des garanties suivantes : Bris de glaces, Vol, Incendie, Dommages tous accidents, Dommages collision, Protection du conducteur & des passagers, le total annuel des indemnisations ne peut exc\xe9der 1,5 fois la limite maximum par sinistre.",color:"black",fontSize:"8",alignment:"justify"},{columns:[{style:"table",table:{widths:["*"],alignment:"left",body:[[{text:"ARTICLE 11 : D\xc9CLARATION DE L\u2019ASSURE",style:"headerTable"}]]}}]},{text:"\n\u2022\tL\u2019assur\xe9 reconnait avoir re\xe7u un exemplaire des Conditions G\xe9n\xe9rales et des pr\xe9sentes Conditions Particuli\xe8res et d\xe9clare avoir pris connaissance des textes y figurant.\n\u2022\tL\u2019assur\xe9 reconnait que les pr\xe9sentes Conditions Particuli\xe8res ont \xe9t\xe9 \xe9tablies conform\xe9ment aux r\xe9ponses donn\xe9es de l\u2019assur\xe9 aux questions pos\xe9es par la Compagnie lors de la souscription du contrat.\n\u2022\tL\u2019assur\xe9 reconnais \xe9galement avoir \xe9t\xe9 pr\xe9alablement inform\xe9(e) du montant de la prime et des garanties du pr\xe9sent contrat.\n\u2022\tL\u2019assur\xe9 reconnais avoir \xe9t\xe9 inform\xe9(e), au moment de la collecte d\u2019informations que les cons\xe9quences qui pourraient r\xe9sulter d\u2019une omission ou d\u2019une d\xe9claration inexacte sont celles pr\xe9vues par l\u2019article 19 de l\u2019ordonnance n\xb095/07 du 25 janvier 1995 relative aux assurances modifi\xe9e et compl\xe9t\xe9e par la loi n\xb006/04 du 20 f\xe9vrier 2006.\n\u2022\tEn signant ce document, l\u2019assur\xe9 accepte que les informations saisies dans ce document soient, utilis\xe9e, exploit\xe9es, trait\xe9es par AXA Assurances Alg\xe9rie Dommage spa, transf\xe9r\xe9es \xe0 l\u2019\xe9tranger et \xe0 ses sous-traitants, dans le cadre de l'ex\xe9cution des finalit\xe9s de la relation commerciale, conform\xe9ment \xe0 la Loi n\xb0 18-07 du 10 juin 2018 relative \xe0 la protection des personnes physiques dans le traitement des donn\xe9es \xe0 caract\xe8re personnel.\n\u2022\tL\u2019assur\xe9 autorise \xe9galement AXA Assurances Alg\xe9rie Dommage d\u2019envoyer des messages et des appels de prospections commerciales quel qu\u2019en soit le support ou la nature.\n\u2022\tPour toute demande concernant le traitement de vos donn\xe9es \xe0 caract\xe8re personnel, merci de nous contacter sur l\u2019adresse : dpo@axa.dz.",color:"black",fontSize:"8",alignment:"justify"},{text:`\n\nFait \xe0 ${O?.agence?.commune} - ${O?.agence?.wilaya} Le ${O?.auditDate?.split("T")[0]}\n\n`,bold:!0,fontSize:"8"},{layout:"noBorders",table:{widths:["*","*"],alignment:"center",body:[[{text:[{text:"Signature de l'assur\xe9(e)\n",bold:!0,fontSize:"8"},{text:"Pr\xe9c\xe9d\xe9e de la mention \xab Lu et approuv\xe9 \xbb\n",fontSize:"8"}],alignment:"left"},{text:"Pour la Compagnie:",bold:!0,fontSize:"8",alignment:"right"}]]}},{columns:[{style:"table",table:{widths:["*"],alignment:"left",body:[[{pageBreak:"before",text:"ANNEXE A \u2013 D\xe9tail des garanties",style:"headerTable"}]]}}]},{text:"\nGaranties Souscrites\n",bold:!0,color:"#00008F",fontSize:12,alignment:"justify"},{columns:[{style:"table",table:{widths:["*","*","*","*"],body:[[{text:"Garanties Souscrites",fontSize:8,style:"headerTable"},{text:"Limites des Garanties par Sinistre / DA",fontSize:8,style:"headerTable"},{text:"Franchise ",fontSize:8,style:"headerTable"},{text:"R\xe8gle Proportionnelle ",fontSize:8,style:"headerTable"}],[{text:"Responsabilit\xe9 Civile en et hors circulation (article 4 des conditions g\xe9n\xe9rales)",fontSize:"8"},{text:"Illimit\xe9s",fontSize:"8"},{text:"Sans Franchise",fontSize:"8"},{text:"Non applicable",fontSize:"8"}],[{text:"Dommages Tous Accident (DTA) (article 13 des conditions g\xe9n\xe9rales)",alignment:"justify",fontSize:"8"},{text:"En cas de perte totale : Valeur de remplacement estim\xe9e par l'expert sans exc\xe9der la valeur v\xe9nale du v\xe9hicule d\xe9clar\xe9e par l'assur\xe9 figurant dans l'ANNEXE C.\nEn cas de dommages partiels : Co\xfbt des r\xe9parations ou de remplacement des pi\xe8ces d\xe9t\xe9rior\xe9es dans la limite de la valeur de remplacement estim\xe9e par l'expert en application du bar\xe8me de l'UAR pour le cout de la main d'\u0153uvre.",fontSize:"8",alignment:"justify"},{text:Ft.find(vt=>"G02"==vt?.codeGarantie)?.categorieList?.find(vt=>"C15"==vt?.code)?.valeur?Number(Ft.find(vt=>"G02"==vt?.codeGarantie)?.categorieList?.find(vt=>"C15"==vt?.code)?.valeur).toLocaleString("fi-FI",{minimumFractionDigits:2,maximumFractionDigits:2})+" DZD":"/",fontSize:"8"},{text:"",fontSize:"8"}],[{text:"Dommages Collision a valeur v\xe9nale (article 15 des conditions g\xe9n\xe9rales)",fontSize:"8",alignment:"justify"},{text:"En cas de dommages partiels : Co\xfbt des r\xe9parations ou de remplacement des pi\xe8ces d\xe9t\xe9rior\xe9es dans la limite de la valeur de remplacement estim\xe9e par l\u2019expert en application du bar\xe8me de l'UAR pour le cout de la main d'\u0153uvre.\n\nLa DC VV est accord\xe9e pour les v\xe9hicules \xe2g\xe9s de 9 \xe0 10 ans.",fontSize:"8",alignment:"justify"},{text:ln.find(vt=>"G13"==vt?.codeGarantie)?.categorieList?.find(vt=>"C15"==vt?.code)?.valeur?Number(ln.find(vt=>"G13"==vt?.codeGarantie)?.categorieList?.find(vt=>"C15"==vt?.code)?.valeur).toLocaleString("fi-FI",{minimumFractionDigits:2,maximumFractionDigits:2})+" DZD":"/",fontSize:"8"},{text:"Applicable",fontSize:"8"}],[{text:"Dommages Collision \xe0 hauteur de 100 000.00 DA",fontSize:"8",alignment:"justify"},{text:"En cas de perte totale ou de dommages partiels : la valeur de remplacement estim\xe9e par l\u2019expert est plafonn\xe9e \xe0 100 000.00 DA.\n\nLa DC 100 000 DA est accord\xe9e pour les v\xe9hicules \xe2g\xe9s de 11 \xe0 14 ans.",fontSize:"8",alignment:"justify"},{text:ut.find(vt=>"G07"==vt?.codeGarantie)?.categorieList?.find(vt=>"C15"==vt?.code)?.valeur?Number(ut.find(vt=>"G07"==vt?.codeGarantie)?.categorieList?.find(vt=>"C15"==vt?.code)?.valeur).toLocaleString("fi-FI",{minimumFractionDigits:2,maximumFractionDigits:2})+" DZD":"/",fontSize:"8"},{text:"Applicable",fontSize:"8"}],[{text:"Bris de Glaces (article 21 des conditions g\xe9n\xe9rales)",fontSize:"8"},{text:"Co\xfbt des r\xe9parations ou de remplacement des glaces sans toutefois d\xe9passer le plafond de 70 000.00 DA",alignment:"justify",fontSize:"8"},{text:Ft.find(vt=>"G07"==vt?.codeGarantie)?.categorieList?.find(vt=>"C15"==vt?.code)?.valeur?Number(Ft.find(vt=>"G07"==vt?.codeGarantie)?.categorieList?.find(vt=>"C15"==vt?.code)?.valeur).toLocaleString("fi-FI",{minimumFractionDigits:2,maximumFractionDigits:2})+" DZD":"/"},{text:"",fontSize:"8"}],[{text:"Vol de v\xe9hicules (article 19 des conditions g\xe9n\xe9rales)",alignment:"justify",fontSize:"8"},{text:"En cas de perte totale : Valeur de remplacement estim\xe9e par l'expert sans exc\xe9der la valeur v\xe9nale du v\xe9hicule d\xe9clar\xe9e par l'assur\xe9 figurant dans l'ANNEXE C. En cas de dommages partiels : Co\xfbt des r\xe9parations ou de remplacement des pi\xe8ces d\xe9t\xe9rior\xe9es dans la limite de la valeur de remplacement estim\xe9e par l'expert en application du bar\xe8me de l'UAR pour le cout de la main d'\u0153uvre.",fontSize:"8",alignment:"justify"},{text:"Sans Franchise",fontSize:"8"},{text:"Applicable",fontSize:"8"}],[{text:"Incendie (article 17 des conditions g\xe9n\xe9rales)",fontSize:"8"},{text:"En cas de perte totale : Valeur de remplacement estim\xe9e par l'expert sans exc\xe9der la valeur v\xe9nale du v\xe9hicule d\xe9clar\xe9e par l'assur\xe9 figurant dans l'ANNEXE C.\nEn cas de dommages partiels : Co\xfbt des r\xe9parations ou de remplacement des pi\xe8ces d\xe9t\xe9rior\xe9es dans la limite de la valeur de remplacement estim\xe9e par l'expert en application du bar\xe8me de l'UAR pour le cout de la main d'\u0153uvre.",fontSize:"8",alignment:"justify"},{text:"Sans Franchise",fontSize:"8"},{text:"Applicable",fontSize:"8"}],[{text:"Vol Auto Radio",fontSize:"8"},{text:"",fontSize:"8"},{text:"Sans Franchise",fontSize:"8"},{text:"Non applicable",fontSize:"8"}],[{text:"Protection du conducteur et des passagers",fontSize:"8",alignment:"justify"},{text:"D\xe9c\xe8s- invalidit\xe9 absolue et d\xe9finitive / Limite :\n\n2 000 000 DA \n\nI.P.P (Incapacit\xe9 Permanente partielle) / Limite :\n\n2 000 000 DA\n\nFrais m\xe9dicaux et d\u2019hospitalisation / Limite : \n\n300 000 DA",fontSize:"8",alignment:"justify"},{text:"Sans Franchise",fontSize:"8"},{text:"Non applicable",fontSize:"8"}]]}}]},xn?{columns:[{style:"table",table:{widths:["*","*","*","*"],alignment:"left",body:[[{text:"Assistance automobile \u2013 Plus Auto",fontSize:"8",border:[!0,!0,!1,!0]},{text:"Assistance aux v\xe9hicules\n1. D\xe9pannage / Remorquage en cas de panne ou d'accident dans la limite de 15 000.00 DZD. \n2. Extraction du v\xe9hicule assur\xe9 \xe0 l'aide d'une grue dans la limite de 7 000.00 DZD. \n3. Retour des b\xe9n\xe9ficiaires / Poursuite du voyage : inclus. \n4. Prise en charge des frais d'h\xe9bergement \xe0 l'h\xf4tel (par nuit\xe9e et par personne) dans la limite de 10 000.00 DZD/nuit\xe9e, sans d\xe9passer 02 nuit\xe9es par personne. \n5. S\xe9jour et d\xe9placement des b\xe9n\xe9ficiaires suite au vol du v\xe9hicule assur\xe9 dans la limite de 10 000.00 DZD/nuit\xe9e sans d\xe9passer 02 nuit\xe9es par personne. \n6. Gardiennage et r\xe9cup\xe9ration du v\xe9hicule apr\xe8s r\xe9paration dans la limite de 3 000.00 DZD. \n7. Service d'un chauffeur professionnel : Inclus\nAssistance aux Personnes\nFranchise Kilom\xe9trique : 50 Kilom\xe8tres\n1. Transport sanitaire : Inclus\n2. Transport des b\xe9n\xe9ficiaires accompagnateurs: Inclus\n3. Rapatriement de corps : 60 000 DZD\n4. Visite d'un proche parent en cas d'hospitalisation de plus de sept jours du b\xe9n\xe9ficiaire (02 nuit\xe9es maximum/personne) : 20 000 DZD\n5. Interruption de voyage \xe0 la suite du d\xe9c\xe8s d'un proche parent en Alg\xe9rie : Inclus\n6. Transmission de messages urgents : Inclus",fontSize:"8",border:[!0,!0,!0,!0]},{text:"25 Kilom\xe8tres",fontSize:"8",border:[!0,!0,!0,!0]},{text:"Non applicable",fontSize:"8",border:[!0,!0,!0,!0]}]]}}]}:{},mn?{columns:[{style:"table",table:{widths:["*","*","*","*"],alignment:"left",body:[[{text:"Assistance automobile \u2013 Essentiel Auto",fontSize:"8",border:[!0,!0,!0,!0]},{text:"Assistance aux v\xe9hicules\n1. D\xe9pannage / Remorquage en cas de panne ou d'accident dans la limite de 15 000.00 DZD. \n2. Extraction du v\xe9hicule assur\xe9 \xe0 l'aide d'une grue dans la limite de 7 000.00 DZD. \n3. Retour des b\xe9n\xe9ficiaires / Poursuite du voyage : inclus. \n4. Prise en charge des frais d'h\xe9bergement \xe0 l'h\xf4tel (par nuit\xe9e et par personne) dans la limite de 10 000.00 DZD/nuit\xe9e, sans d\xe9passer 02 nuit\xe9es par personne. \n5. S\xe9jour et d\xe9placement des b\xe9n\xe9ficiaires suite au vol du v\xe9hicule assur\xe9 dans la limite de 10 000.00 DZD/nuit\xe9e sans d\xe9passer 02 nuit\xe9es par personne. \n6. Gardiennage et r\xe9cup\xe9ration du v\xe9hicule apr\xe8s r\xe9paration dans la limite de 3 000.00 DZD. \n7. Service d'un chauffeur professionnel : Inclus\nAssistance aux Personnes\nFranchise Kilom\xe9trique : 50 Kilom\xe8tres\n1. Transport sanitaire : Inclus\n2. Transport des b\xe9n\xe9ficiaires accompagnateurs: Inclus\n3. Rapatriement de corps : 40 000 DZD\n4. Visite d'un proche parent en cas d'hospitalisation de plus de sept jours du b\xe9n\xe9ficiaire (02 nuit\xe9es maximum/personne) : 10 000 DZD",fontSize:"8",border:[!0,!0,!0,!0]},{text:"5 Kilom\xe8tres",fontSize:"8",border:[!0,!0,!0,!0]},{text:"Non applicable",fontSize:"8",border:[!0,!0,!0,!0]}]]}}]}:{},Ri?{columns:[{style:"table",table:{widths:["*","*","*","*"],alignment:"left",body:[[{text:"Assistance automobile - Classic Auto",fontSize:"8",border:[!0,!0,!0,!0]},{text:"Assistance aux v\xe9hicules1. D\xe9pannage / Remorquage en cas de panne ou d'accident dans la limite de 10 000.00 DZD. 2. Extraction du v\xe9hicule assur\xe9 \xe0 l'aide d'une grue dans la limite de 7 000.00 DZD. 3. Retour des b\xe9n\xe9ficiaires / Poursuite du voyage : inclus. 4. Prise en charge des frais d'h\xe9bergement \xe0 l'h\xf4tel (par nuit\xe9e et par personne) dans la limite de 5 000.00 DZD/nuit\xe9e, sans d\xe9passer 02 nuit\xe9es par personne. 5. S\xe9jour et d\xe9placement des b\xe9n\xe9ficiaires suite au vol du v\xe9hicule assur\xe9 dans la limite de 5 000.00 DZD/nuit\xe9e sans d\xe9passer 02 nuit\xe9es par personne. 6. Gardiennage et r\xe9cup\xe9ration du v\xe9hicule apr\xe8s r\xe9paration dans la limite de 3 000.00 DZD. 7. Service d'un chauffeur professionnel : Inclus",fontSize:"8",border:[!0,!0,!0,!0]},{text:"15 Kilom\xe8tres",fontSize:"8",border:[!0,!0,!0,!0]},{text:"Non applicable",fontSize:"8",border:[!0,!0,!0,!0]}]]}}]}:{},Xn?{columns:[{style:"table",table:{widths:["*","*","*","*"],alignment:"left",body:[[{text:"Assistance automobile - Basic Auto",fontSize:"8",border:[!0,!0,!0,!0]},{text:"Assistance aux v\xe9hicules1. D\xe9pannage / Remorquage en cas de panne ou d'accident dans la limite de 7 000.00 DZD. 2. Extraction du v\xe9hicule assur\xe9 \xe0 l'aide d'une grue dans la limite de 7 000.00 DZD. 3. Retour des b\xe9n\xe9ficiaires / Poursuite du voyage : inclus. 4. Prise en charge des frais d'h\xe9bergement \xe0 l'h\xf4tel (par nuit\xe9e et par personne) dans la limite de 5 000.00 DZD/nuit\xe9e, sans d\xe9passer 02 nuit\xe9es par personne. 5. S\xe9jour et d\xe9placement des b\xe9n\xe9ficiaires suite au vol du v\xe9hicule assur\xe9 dans la limite de 5 000.00 DZD/nuit\xe9e sans d\xe9passer 02 nuit\xe9es par personne. 6. Gardiennage et r\xe9cup\xe9ration du v\xe9hicule apr\xe8s r\xe9paration dans la limite de 3 000.00 DZD 7. Service d'un chauffeur professionnel : Inclus",fontSize:"8",border:[!0,!0,!0,!0]},{text:"25 Kilom\xe8tres",fontSize:"8",border:[!0,!0,!0,!0]},{text:"Non applicable",fontSize:"8",border:[!0,!0,!0,!0]}]]}}]}:{},Mt?{columns:[{style:"table",table:{widths:["*","*","*","*"],alignment:"left",body:[[{text:"Formule Poids Lourd - 100Km",fontSize:"8",border:[!0,!0,!0,!0]},{text:"Assistance aux v\xe9hicules. 1. Franchise kilom\xe9trique en cas de panne (en km) : 0. 2. D\xe9pannage/remorquage en cas de panne : Au garage le plus proche. 3. D\xe9pannage/remorquage en cas d\u2019accident : 100 Km. 4. Retour des b\xe9n\xe9ficiaires/ Poursuite du voyage/ Frais d\u2019h\xf4tel : 6 000 DZD/nuit/personne (02 nuits maximum).",fontSize:"8",border:[!0,!0,!0,!0]},{text:"100 Kilom\xe8tres",fontSize:"8",border:[!0,!0,!0,!0]},{text:"Non applicable",fontSize:"8",border:[!0,!0,!0,!0]}]]}}]}:{},Lt?{columns:[{style:"table",table:{widths:["*","*","*","*"],alignment:"left",body:[[{text:"Formule Poids Lourd - 200Km",fontSize:"8",border:[!0,!0,!0,!0]},{text:"Assistance aux v\xe9hicules. 1. Franchise kilom\xe9trique en cas de panne (en km) : 0. 2. D\xe9pannage/remorquage en cas de panne : Au garage le plus proche. 3. D\xe9pannage/remorquage en cas d\u2019accident : 200 Km. 4. Retour des b\xe9n\xe9ficiaires/ Poursuite du voyage/ Frais d\u2019h\xf4tel : 6 000 DZD/nuit/personne (02 nuits maximum).",fontSize:"8",border:[!0,!0,!0,!0]},{text:"200 Kilom\xe8tres",fontSize:"8",border:[!0,!0,!0,!0]},{text:"Non applicable",fontSize:"8",border:[!0,!0,!0,!0]}]]}}]}:{},xt?{columns:[{style:"table",table:{widths:["*","*","*","*"],alignment:"left",body:[[{text:"Formule Poids Lourd - 300Km",fontSize:"8",border:[!0,!0,!0,!0]},{text:"Assistance aux v\xe9hicules. 1. Franchise kilom\xe9trique en cas de panne (en km) : 0. 2. D\xe9pannage/remorquage en cas de panne : Au garage le plus proche. 3. D\xe9pannage/remorquage en cas d\u2019accident : 300 Km. 4. Retour des b\xe9n\xe9ficiaires/ Poursuite du voyage/ Frais d\u2019h\xf4tel : 6 000 DZD/nuit/personne (02 nuits maximum).",fontSize:"8",border:[!0,!0,!0,!0]},{text:"300 Kilom\xe8tres",fontSize:"8",border:[!0,!0,!0,!0]},{text:"Non applicable",fontSize:"8",border:[!0,!0,!0,!0]}]]}}]}:{},{text:"\n",pageBreak:"after"},{columns:[{style:"table",table:{widths:["*"],alignment:"left",body:[[{text:"ANNEXE C \u2013 D\xe9tail des v\xe9hicules assur\xe9s",style:"headerTable"}]]}}]},{text:"\n"},0!=l.length?this.table(l,["N\xba ORDRE","MARQUE","IMMATRICULATION","CHASSIS","VALEUR_VENALE"]):{},{columns:[{style:"table",table:{widths:["*"],alignment:"left",body:[[{pageBreak:"before",text:"ANNEXE D \u2013 Notice d\u2019information ",style:"headerTable"}]]}}]},{text:"\nNotice d\u2019Information \xe0 l\u2019usage des assur\xe9s en assurance automobile\n",fontSize:"8",alignment:"justify"},{text:"\nAfin de vous faciliter la proc\xe9dure de d\xe9claration d\u2019un sinistre et permettre \xe0 nos gestionnaires des sinistres de r\xe9pondre  dans les meilleurs d\xe9lais \xe0 vos demandes d\u2019indemnisation, nous vous conseillons de suivre les recommandations suivantes :",fontSize:"8",alignment:"justify"},{text:"\nCette pr\xe9sente notice est d\xe9di\xe9e au cas des sinistres de la branche automobile, notamment la gestion des risques flottes. Les garanties concern\xe9es sont les RC, Dommages tout accident ou dommages collision, incendie, vol et BDG. Les cas de dommages corporels seront pris au cas par cas du fait de sa sensibilit\xe9.",fontSize:"8",alignment:"justify"},{text:"\n1.\tD\xe9claration du sinistre\n",color:"black",fontSize:"8"},{text:"\nApr\xe8s la r\xe9alisation d\u2019un risque, l\u2019assur\xe9 est tenu de d\xe9clarer le sinistre dans les d\xe9lais prescrits par le contrat notamment aux conditions g\xe9n\xe9rales des polices d\u2019assurances.",bold:!0,color:"#00008F",fontSize:"8",alignment:"justify"},{text:"\nLes d\xe9lais sont de sept (07) jours ouvrables ou de trois (03) jours en cas de vol, sauf cas de force majeur. Le d\xe9lai coure \xe0 partir du moment o\xf9 l\u2019assur\xe9 a eu connaissance de l\u2019\xe9v\xe9nement.",color:"black",fontSize:"8"},{text:"\nCette d\xe9claration de sinistre doit comporter les informations suivantes :",color:"black",fontSize:"8"},{text:"\nCette d\xe9claration de sinistre doit comporter les informations suivantes :\n\u2022\tLe num\xe9ro de police et/ou de l\u2019avenant en court de validit\xe9. \n\u2022\tMarque et type du v\xe9hicule ainsi que son immatriculation. \n\u2022\tDate et lieu de survenance du sinistre avec pr\xe9cision sur l\u2019heure pour les accidents de circulation. \n\u2022\tToute information ayant trait \xe0 d\u2019autres intervenants (tiers.)\n\u2022\tNature du sinistre ou des dommages. \n\u2022\tCauses et circonstances. \n\u2022\tEnum\xe9ration approximative des dommages et des \xe9l\xe9ments endommag\xe9s. ",color:"black",fontSize:"8"},{text:"il est indispensable de vous rappeler que la d\xe9claration doit obligatoirement se faire sur le formulaire du constat amiable de d\xe9claration d\u2019accident adopt\xe9 par les compagnies d\u2019assurance. ",color:"black",fontSize:"8",bold:!0},{text:"\nLes coordonn\xe9es du tiers \xe0 recueillir sont :",color:"black",fontSize:"8"},{text:"\n\u2022\tNom, pr\xe9nom et adresse du tiers. \n\u2022\tN\xb0 de police, sa validit\xe9 et la domiciliation de son assurance (compagnie et agence). \n\u2022\tMarque et type du v\xe9hicule ainsi que son immatriculation. \n\u2022\tNom, pr\xe9nom et N\xb0 de permis du conducteur et validit\xe9 de son permis. ",color:"black",fontSize:"8"},{text:"\n2.\tDocuments \xe0 remettre en cas de sinistre :\n",color:"black",fontSize:"8"},{text:"\nAfin d\u2019appuyer les v\xe9racit\xe9s des informations fournies \xe0 l\u2019assureur et dans la mesure du possible, il est recommand\xe9 de fournir les documents justificatifs suivants :",color:"black",fontSize:"8"},{text:"\n\u2022\tCarte grise du v\xe9hicule\n\u2022\tPermis de conduire du conducteur au moment du sinistre.\n\u2022\tAttestation de l\u2018assurance en cours de validit\xe9.",color:"black",fontSize:"8"},{text:"\nLes copies des m\xeames documents concernant le tiers sont souhaitables en cas de sinistre ayant celui- ci comme partie.",color:"black",fontSize:"8"},{text:"\n3.\tCas particulier du Vol :\n",color:"black",fontSize:"8"},{text:"Comme pr\xe9c\xe9demment mentionn\xe9 le D\xe9lai de d\xe9claration en cas de vol, qu\u2019il soit partiel ou total, est de 3 jours ouvrable avec la mention sur l\u2019obligation de d\xe9poser plainte aupr\xe8s des autorit\xe9s territorialement comp\xe9tente (police ou gendarmerie) dans les 24 heures suivant la constations du vol.",color:"black",fontSize:"8"},{text:"\n\u2022\tCertificat de d\xe9p\xf4ts de plainte.\n\u2022\tCarte grise du v\xe9hicule.\n\u2022\tDouble du jeu de clefs.\n\u2022\tD\xe9claration formelle de vol sign\xe9e par l\u2019assur\xe9.",color:"black",fontSize:"8"},{text:"\nApr\xe8s instruction du dossier : \n",color:"black",bold:!0,fontSize:"8"},{text:"\n\u2022\tFormule d\u2019opposition aux autorit\xe9s et \xe0 la direction de wilaya des services des cartes grises et r\xe9 immatriculation. \n\u2022\tActe de cession de v\xe9hicule au profil d\u2019AXA assurances. ",color:"black",fontSize:"8"}],styles:{sectionHeader:{bold:!0,color:"#d14723",fontSize:10,alignment:"right"},BG:{fontSize:8},table:{margin:[0,10,0,0]},headerTable:{alignment:"center",bold:!0,fontSize:10,color:"#00008F"}}},Sn={watermark:{text:"",color:"blue",opacity:.1},pageMargins:[35,110,35,90],border:[!1,!1,!1,!1],pageOrientation:"landscape",header:function(vt,$e){if(1==vt)return{stack:[{text:"Police N\xb0 : "+O?.idContrat,style:"sectionHeader",margin:[0,30],color:"black"}],margin:[35,10,35,0]}},content:[{columns:[{style:"table",table:{widths:["*"],alignment:"left",body:[[{text:"ANNEXE B \u2013 D\xe9tail des primes et garanties",style:"headerTable"}]]}}]},{text:"\n"},0!=Zt.length?this.table(Zt,["N\xba ORDRE","Prime_RC","Prime_DR","Prime_DTA","Prime_DCVV","Prime_DC","Prime_Vol","Prime_Vol_Auo_radio","Prime_Incendie","Prime_BDG","Prime_Assistance","Prime_PCP","Prime_Nette"]):{}],styles:{sectionHeader:{bold:!0,color:"#d14723",fontSize:10,alignment:"right"},BG:{fontSize:8},table:{margin:[0,2,0,0]},headerTable:{alignment:"center",bold:!0,fontSize:10,color:"#00008F"}}};Le.createPdf($i).download("CP_"+O?.idContrat),Le.createPdf(Sn).download("CP_Garanties"+O?.idContrat)}outputLeasing(O,J,he){let Ze=[],l=[],t=["Garantie(s)","Primes"];Ze=O&&null!=O.groupeList?O?.groupeList.filter(ln=>ln?.garantieList):O?.groupesList.filter(ln=>ln?.garantieList),Ze?.forEach(ln=>{ln?.risques&&ln.risques.forEach(ut=>{l.push(ut)})});const Ft={watermark:{text:"",color:"blue",opacity:.1},pageMargins:[35,110,35,90],border:[!1,!1,!1,!1],header:function(ln,ut){const ot={text:"Police N\xb0 : "+O?.idContrat,style:"sectionHeader",margin:[0,30],color:"black"};return 1==ln?{stack:[{text:"AXA "+O?.produit?.description.toUpperCase(),style:"sectionHeader"},{text:"Police N\xb0 : "+O?.idContrat,style:"sectionHeader",color:"black"},{qr:"https://www.axa.dz/wp-content/uploads/2023/10/Conditions-generales-Assurance-Automobile.pdf",alignment:"right",fit:"65"}],margin:[35,30,35,0]}:{stack:[ot],margin:[35,10,35,0]}},content:l.map(ln=>({stack:[{style:"table",table:{widths:["*"],alignment:"left",body:[[{text:"D\xe9compte de Prime Flotte Automobile",style:"headerTable"}]]}},{style:"table",table:{widths:["*"],alignment:"left",body:[[{text:"R\xe9f\xe9rence du contrat",style:"headerTable"}]]}},{style:"table",table:{widths:["*","*"],alignment:"left",body:[[{text:"Client : ",fontSize:"8",color:"black"},{text:O?.personnesList.map(ut=>ut?.personne.raisonSocial)[0],fontSize:"8",color:"black"}],[{text:"Cr\xe9dit Preneur :",fontSize:"8",color:"black"},{text:ln?.risque.find(ut=>"Nom & Pr\xe9nom Cr\xe9dit Preneur/Raison Social"==ut.colonne).valeur,fontSize:"8",color:"black"}],[{text:"Adresse du Cr\xe9dit Preneur : ",fontSize:"8",color:"black"},{text:ln?.risque.find(ut=>"Adresse Cr\xe9dit Preneur"==ut.colonne).valeur,fontSize:"8",color:"black"}],[{text:"Date d'effet  ",fontSize:"8",color:"black"},{text:O?.dateEffet?.split("T")[0],fontSize:"8",color:"black"}],[{text:"Date d\u2019\xe9ch\xe9ance  ",fontSize:"8",color:"black"},{text:O?.dateExpiration?.split("T")[0],fontSize:"8",color:"black"}],[{text:"Agence : ",fontSize:"8",color:"black"},{text:O?.agence?.codeAgence+" "+O?.agence?.raisonSocial,fontSize:"8",color:"black"}],[{text:"Contrat N\xb0 : : ",fontSize:"8",color:"black"},{text:ln?.risque.find(ut=>"Numero de contrat"==ut.colonne).valeur,fontSize:"8",color:"black"}],[{text:"Mat\xe9riel N\xb0 : ",fontSize:"8",color:"black"},{text:ln?.risque.find(ut=>"Num\xe9ro de Mat\xe9riel"==ut.colonne).valeur,fontSize:"8",color:"black"}]]}},{style:"table",table:{widths:["*"],alignment:"left",body:[[{text:"V\xe9hicule",style:"headerTable"}]]}},{style:"table",table:{widths:["*","*"],alignment:"left",body:[[{text:"Marque  : ",fontSize:"8",color:"black"},{text:ln?.risque.find(ut=>"Marque"==ut.colonne).valeur,fontSize:"8",color:"black"}],[{text:"mod\xe8le  : ",fontSize:"8",color:"black"},{text:ln?.risque.find(ut=>"Mod\xe8le"==ut.colonne).valeur,fontSize:"8",color:"black"}],[{text:"Genre  : ",fontSize:"8",color:"black"},{text:ln?.risque.find(ut=>"classe de vehicule"==ut.colonne).valeur,fontSize:"8",color:"black"}],[{text:"Immatriculation  : ",fontSize:"8",color:"black"},{text:ln?.risque.find(ut=>"N\xb0 d'Immatriculation"==ut.colonne).valeur,fontSize:"8",color:"black"}]]}},{style:"table",table:{widths:["*"],alignment:"left",body:[[{text:"Primes nettes",style:"headerTable"}]]}},{style:"table",table:{widths:["*","*"],body:[t].concat(he?.find(ut=>ut.risque==ln?.idRisque).garantieList.map(ut=>{let ot,tt=[];return ot=ut.description,tt=ut.primeProrata,[[{text:ot,fontSize:"8"}],[{text:Number(tt).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})+" DZD",fontSize:"8"}]]}))}},{columns:[{style:"table",table:{widths:["*","*","*","*","*","*"],body:[[{text:"Prime nette",style:"headerTable"},null==O?.idHistorique?{text:"Co\xfbt de police",style:"headerTable"}:{text:"Frais de gestion",style:"headerTable"},{text:"T.V.A",style:"headerTable"},{text:"F.G.A",style:"headerTable"},{text:"Timbre de dimension",style:"headerTable"},{text:"Timbre gradu\xe9",style:"headerTable"}],[{text:Number(O?.primeList?.find(ut=>"CP101"==ut?.typePrime?.code)?.prime).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})+" DZD",fontSize:10},null==O?.idHistorique?{text:Number(J?.taxeList?.find(ut=>"T01"==ut?.taxe?.code)?.prime?J?.taxeList?.find(ut=>"T01"==ut?.taxe?.code)?.prime:J?.taxeList?.find(ut=>"T01"==ut?.taxe?.code)?.taxe.valeur).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})+" DZD",fontSize:10}:{text:Number(O?.taxeList?.find(ut=>"T08"==ut?.taxe?.code)?.prime).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})+" DZD",fontSize:10},{text:Number(O?.taxeList?.find(ut=>"T04"==ut?.taxe?.code)?.prime).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})+" DZD",fontSize:10},{text:Number(O?.taxeList?.find(ut=>"T07"==ut?.taxe?.code)?.prime).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})+" DZD",fontSize:10},{text:Number(O?.taxeList?.find(ut=>"T03"==ut?.taxe?.code)?.prime).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})+" DZD",fontSize:10},{text:Number(O?.taxeList?.find(ut=>"T02"==ut?.taxe?.code)?.prime).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})+" DZD",fontSize:10}],[{text:"",colSpan:4},{},{},{},{text:"Prime Totale",style:"headerTable"},{text:Number(O?.primeList?.find(ut=>"CP186"==ut?.typePrime?.code)?.prime).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})+" DZD",fontSize:10}]]}}]},{text:"",pageBreak:ln.idRisque!=l[l.length-1].idRisque?"after":null}]})),styles:{sectionHeader:{bold:!0,color:"#d14723",fontSize:10,alignment:"right"},BG:{fontSize:8},table:{margin:[0,10,0,0]},headerTable:{alignment:"center",bold:!0,fontSize:10,color:"#00008F"}}};Le.createPdf(Ft).download("CP_"+O?.idContrat)}buildTableBody(O,J){var he=[];if(J.includes("text1"))he.push();else if(J.includes("prime"))J=J.map(Ze=>{Ze.text=Ze,Ze.style="headerTable"}),he.push(J);else{let Ze=[];J.map(l=>{let t={text:"",style:""};t.text=l.replace(/_/g," "),t.style="headerTable",Ze.push(t)}),he.push(Ze)}return O.forEach(function(Ze){const l=[];J.forEach(function(t){l.push(Ze[t])}),he.push(l)}),he}table(O,J){let he=100/J?.length,Ze=[];return J.map(l=>{Ze.push(he+"%")}),[{layout:"",table:{headerRows:1,widths:Ze,body:this.buildTableBody(O,J)}}]}logs(O){}}return i.\u0275fac=function(O){return new(O||i)(xe.LFG(K.eN))},i.\u0275prov=xe.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})()},5617:(co,wn,B)=>{"use strict";B.d(wn,{Y:()=>Le});var Se=B(529),K=B(8505),Ge=B(262),h=B(2843),ee=B(7550),me=B(4650);let Le=(()=>{class Q{constructor(o){this.http=o}getAllConventions(){const o={headers:new Se.WM({"Content-Type":"application/json"})};return this.http.get(`${ee.g.API_ENDPOINT_TEST_CONVENTION}`,o).pipe((0,K.b)(e=>this.logs(e)),(0,Ge.K)(e=>(0,h._)(e.error)))}getOneConvention(o){const e={headers:new Se.WM({"Content-Type":"application/json"})};return this.http.get(`${ee.g.API_ENDPOINT_TEST_CONVENTION}/${o}`,e).pipe((0,K.b)(xe=>this.logs(xe)),(0,Ge.K)(xe=>(0,h._)(xe.error)))}addConventions(o){const e={headers:new Se.WM({"Content-Type":"application/json"})};return this.http.post(`${ee.g.API_ENDPOINT_TEST_CONVENTION}`,o,e).pipe((0,K.b)(xe=>this.logs(xe)),(0,Ge.K)(xe=>(0,h._)(xe.error)))}filterConvention(o){const e={headers:new Se.WM({"Content-Type":"application/json"})};return this.http.post(`${ee.g.API_ENDPOINT_TEST_CONVENTION_FILTER}`,o,e).pipe((0,K.b)(xe=>this.logs(xe)),(0,Ge.K)(xe=>(0,h._)(xe.error)))}modifConvention(o,e){const xe={headers:new Se.WM({"Content-Type":"application/json"})};return this.http.put(`${ee.g.API_ENDPOINT_TEST_CONVENTION_MODIF}/${e}`,o,xe).pipe((0,K.b)(n=>this.logs(n)),(0,Ge.K)(n=>(0,h._)(n.error)))}desactiverConvention(o,e){const xe={headers:new Se.WM({"Content-Type":"application/json"})};return this.http.put(`${ee.g.API_ENDPOINT_TEST_CONVENTION}/${o}`,e,xe).pipe((0,K.b)(n=>this.logs(n)),(0,Ge.K)(n=>(0,h._)(n.error)))}logs(o){}}return Q.\u0275fac=function(o){return new(o||Q)(me.LFG(Se.eN))},Q.\u0275prov=me.Yz7({token:Q,factory:Q.\u0275fac,providedIn:"root"}),Q})()},2473:(co,wn,B)=>{"use strict";B.d(wn,{$:()=>Ge});var Se=B(5861),K=B(4650);let Ge=(()=>{class h{constructor(){}sortJsonKeys(me){return Object.keys(me).sort().reduce((Q,w)=>(Q[w]=me[w],Q),{}),JSON.stringify(me)}generateHmac(me,Le){var Q=this;return(0,Se.Z)(function*(){const w=Q.sortJsonKeys(Le),o=new TextEncoder,e=o.encode(me),xe=o.encode(w),n=yield crypto.subtle.importKey("raw",e,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]),i=yield crypto.subtle.sign("HMAC",n,xe);return btoa(String.fromCharCode(...new Uint8Array(i)))})()}}return h.\u0275fac=function(me){return new(me||h)},h.\u0275prov=K.Yz7({token:h,factory:h.\u0275fac,providedIn:"root"}),h})()},3567:(co,wn,B)=>{"use strict";B.d(wn,{b:()=>K});var Se=B(4650);let K=(()=>{class Ge{constructor(){this.dataArray=[]}setDataRisquesArray(ee){sessionStorage.setItem("dataArray",JSON.stringify(ee))}getDataRisquesArray(){const ee=sessionStorage.getItem("dataArray");return null!==ee?JSON.parse(ee):[]}emptyDataArray(){sessionStorage.removeItem("dataArray")}}return Ge.\u0275fac=function(ee){return new(ee||Ge)},Ge.\u0275prov=Se.Yz7({token:Ge,factory:Ge.\u0275fac,providedIn:"root"}),Ge})()},1351:(co,wn,B)=>{"use strict";B.d(wn,{J:()=>n});var Se=B(529),K=B(8505),Ge=B(262),h=B(2843),ee=B(7550),me=B(4641),Q=B(5439),o=B(4650),e=B(3776);Q(new Date).format("DD-MM-YYYY");let n=(()=>{class i{constructor(O,J){this.http=O,this.genericService=J}getAllDevis(){const O={headers:new Se.WM({"Content-Type":"application/json","Access-Control-Allow-Origin":"*"})};return this.http.get(`${ee.g.API_ENDPOINT_DEVIS_GET_ALL}`,O).pipe((0,K.b)(J=>this.logs(J)),(0,Ge.K)(J=>(0,h._)(J.error)))}getDevisByCodeProduit(O,J,he){const Ze={headers:new Se.WM({"Content-Type":"application/json","Access-Control-Allow-Origin":"*"})};return this.http.get(`${ee.g.API_ENDPOINT_DEVIS_BY_PRODUIT}/${O}?pageNumber=${he}&pageSize=${J}`,Ze).pipe((0,K.b)(l=>this.logs(l)),(0,Ge.K)(l=>(0,h._)(l.error)))}getDevisById(O){const J={headers:new Se.WM({"Content-Type":"application/json","Access-Control-Allow-Origin":"*"})};return this.http.get(`${ee.g.API_ENDPOINT_DEVIS}/${O}`,J).pipe((0,K.b)(he=>this.logs(he)),(0,Ge.K)(he=>(0,h._)(he.error)))}createDevis(O){const J={headers:new Se.WM({"Content-Type":"application/json","Access-Control-Allow-Origin":"*"})};return this.http.post(`${ee.g.API_ENDPOINT_DEVIS}`,O,J).pipe((0,K.b)(he=>this.logs(he)),(0,Ge.K)(he=>(0,h._)(he.error)))}remplissageDevis(O){const J={headers:new Se.WM({"Content-Type":"application/json","Access-Control-Allow-Origin":"*"})};return this.http.post(`${ee.g.API_ENDPOINT_TARIF_REMPLISSAGE}`,O,J).pipe((0,K.b)(he=>he),(0,Ge.K)(he=>(0,h._)(he.error)))}filtresDevis(O,J,he){const Ze={headers:new Se.WM({"Content-Type":"application/json","Access-Control-Allow-Origin":"*"})};return this.http.post(`${ee.g.API_ENDPOINT_DEVIS_FILTER}?pageNumber=${J}&pageSize=${he}`,O,Ze).pipe((0,K.b)(l=>this.logs(l)),(0,Ge.K)(l=>(0,h._)(l.error)))}filtresDevis1(O,J,he){const Ze={headers:new Se.WM({"Content-Type":"application/json","Access-Control-Allow-Origin":"*"})};return this.http.post(`${ee.g.API_ENDPOINT_DEVIS_FILTER}?pageNumber=${J}&pageSize=${he}`,O,Ze).pipe((0,K.b)(l=>this.logs(l)),(0,Ge.K)(l=>(0,h._)(l.error)))}paramFichier(O){const J={headers:new Se.WM({"Content-Type":"application/json",skip:""})};return this.http.get(`${ee.g.API_ENDPOINT_CONTROLE}/${O}`,J).pipe((0,K.b)(he=>this.logs(he)),(0,Ge.K)(he=>(0,h._)(he.error)))}controleDevis(O,J){const he={headers:new Se.WM({"Content-Type":"application/json",skip:""})};return this.http.post(`${ee.g.API_ENDPOINT_CONTROLE}/${J}`,O,he).pipe((0,K.b)(Ze=>this.logs(Ze)),(0,Ge.K)(Ze=>(0,h._)(Ze.error)))}controleDevisMulti(O,J){const he={headers:new Se.WM({"Content-Type":"application/json",skip:""})};return this.http.post(`${ee.g.API_ENDPOINT_CONTROLE_FILE}/${J}`,O,he).pipe((0,K.b)(Ze=>this.logs(Ze)),(0,Ge.K)(Ze=>(0,h._)(Ze.error)))}generateTarif(O){const J={headers:new Se.WM({"Content-Type":"application/json","Access-Control-Allow-Origin":"*"})};return this.http.post(`${ee.g.API_ENDPOINT_TARIF}`,O,J).pipe((0,K.b)(he=>this.logs(he)),(0,Ge.K)(he=>(0,h._)(he.error)))}generateDecote(O){const J={headers:new Se.WM({"Content-Type":"application/json","Access-Control-Allow-Origin":"*"})};return this.http.post(`${ee.g.API_ENDPOINT_DECOTE}`,O,J).pipe((0,K.b)(he=>this.logs(he)),(0,Ge.K)(he=>(0,h._)(he.error)))}getParamDevisByIdRisque(O,J,he){const Ze={headers:new Se.WM({"Content-Type":"application/json","Access-Control-Allow-Origin":"*"})};return this.http.get(`${ee.g.API_ENDPOINT_DEVIS}/${O}/groupe/${J}/risque/${he}`,Ze).pipe((0,K.b)(l=>this.logs(l)),(0,Ge.K)(l=>(0,h._)(l.error)))}getPackByGroupe(O,J){const he={headers:new Se.WM({"Content-Type":"application/json","Access-Control-Allow-Origin":"*"})};return this.http.get(`${ee.g.API_ENDPOINT_DEVIS}/${J}/groupe/${O}`,he).pipe((0,K.b)(Ze=>this.logs(Ze)),(0,Ge.K)(Ze=>(0,h._)(Ze.error)))}getPackIdRisque(O,J){const he={headers:new Se.WM({"Content-Type":"application/json","Access-Control-Allow-Origin":"*"})};return this.http.get(`${ee.g.API_ENDPOINT_DEVIS}/${O}/risque/${J}`,he).pipe((0,K.b)(Ze=>this.logs(Ze)),(0,Ge.K)(Ze=>(0,h._)(Ze.error)))}gavRows(O,J,he){return[{text:he,fontSize:"8"},...O.map(Ze=>({table:{widths:["*","*"],body:[[{text:"Franchise",fontSize:"6",alignment:"center"},{text:1==J?"15%":Ze.garantie?.[J]?.categorieList?.find(l=>"franchise"===l.description)?.valeur||"/",fontSize:"6",alignment:"center"}],[{text:"Capital",fontSize:"6",alignment:"center"},{text:Ze.garantie?.[J]?.categorieList?.find(l=>"plafond"===l.description)?.valeur||"/",fontSize:"6",alignment:"center"}]]},layout:{hLineWidth:(l,t)=>0===l||l===t.table.body.length?0:.5,vLineWidth:(l,t)=>0===l||l===t.table.widths.length?0:.5,hLineColor:()=>"black",vLineColor:()=>"black"},margin:[0,0,0,0]}))]}outputGarantieFlotte(O,J){const he=["N ordre","Responsabilit\xe9 Civile","Dommage Tout Accident (DTA)","Vol","Incendie ","Vol Auto-Radio","Bris de glace","Dommage Collision","D\xe9fense et recours","Assistance","Dommage Collision Valeur V\xe9nale","D\xe9c\xe8s IAD","Incapacit\xe9 Partielle Permanente","Frais M\xe9dicaux","Prime nette"];let Ze=100/he?.length,l=[];he.map(()=>{l.push(Ze+"%")});const t=[];t.push(he.map(ln=>({text:ln||"-",style:"tableHeader",alignment:"center",fontSize:8,bold:!0}))),he.pop(),O.map(ln=>{t.push(he?.slice(1)?.map(ut=>({text:ln.garantieList?.find(ot=>ot.description==ut)?.prime?Number(ln.garantieList?.find(ot=>ot.description==ut)?.prime)?.toLocaleString("fi-FI",{minimumFractionDigits:2,maximumFractionDigits:2}):"-",style:"tableCell",fontSize:8,alignment:"center"})))});for(let ln=0;ln<t.length;ln++)0!=ln&&(t[ln].unshift({text:O[ln-1]?.idRisque||"-",style:"tableCell",fontSize:8,alignment:"center"}),t[ln].push({text:Number(O[ln-1]?.primeList?.find(ut=>"CP101"==ut?.typePrime?.code).prime).toLocaleString("fi-FI",{minimumFractionDigits:2,maximumFractionDigits:2})+" DZD",style:"tableCell",fontSize:8,alignment:"center"}));console.log("tbody",t),me.createPdf({watermark:{text:"",color:"blue",opacity:.1},pageMargins:[35,110,35,90],border:[!1,!1,!1,!1],pageOrientation:"landscape",header:function(ln,ut){if(1==ln)return{stack:[{text:"Devis N\xb0 : "+J,style:"sectionHeader",margin:[0,30],color:"black"}],margin:[35,10,35,0]}},content:[{columns:[{style:"table",table:{widths:["*"],alignment:"left",body:[[{text:"ANNEXE B \u2013 D\xe9tail des primes et garanties",style:"headerTable"}]]}}]},{text:"\n"},{table:{headerRows:1,widths:l,body:t}}],styles:{sectionHeader:{bold:!0,color:"#d14723",fontSize:10,alignment:"right"},BG:{fontSize:8},table:{margin:[0,2,0,0]},headerTable:{alignment:"center",bold:!0,fontSize:10,color:"#00008F"}}}).download("Devis_Garanties")}getDetailsPrime(O){const J={headers:new Se.WM({"Content-Type":"application/json","Access-Control-Allow-Origin":"*"})};return this.http.get(`${ee.g.API_ENDPOINT_DEVIS}/${O}/details-prime`,J).pipe((0,K.b)(he=>this.logs(he)),(0,Ge.K)(he=>(0,h._)(he.error)))}generatePdf(O){let J=0,he=[],Ze=[],l=[],t=["Garanties"],Ft=[],ln=[],ut=[],ot="",tt="",Zt="",nn=[],_n=[],xn=0,mn="",Ri=Q(O.risqueList.find(Vt=>"P211"===Vt.codeRisque)?.reponse?.valeur).format("DD/MM/YYYY"),Xn=Q(O.risqueList.find(Vt=>"P212"===Vt.codeRisque)?.reponse?.valeur).format("DD/MM/YYYY"),Mt=O.risqueList.find(Vt=>"P182"===Vt.codeRisque)?.reponse?.description,Lt=0,xt=Number(O?.taxeList?.find(Vt=>"T01"==Vt?.taxe?.code||"T08"==Vt?.taxe?.code)?.prime).toLocaleString("fi-FI",{minimumFractionDigits:2,maximumFractionDigits:2}),ht=Number(O?.taxeList?.find(Vt=>"T03"==Vt?.taxe?.code)?.prime).toLocaleString("fi-FI",{minimumFractionDigits:2,maximumFractionDigits:2}),Yn=Number(O?.primeList?.find(Vt=>"CP186"==Vt?.typePrime?.code)?.prime).toLocaleString("fi-FI",{minimumFractionDigits:2,maximumFractionDigits:2}),Jn=Number(O?.primeList?.find(Vt=>"CP101"==Vt?.typePrime?.code)?.prime).toLocaleString("fi-FI",{minimumFractionDigits:2,maximumFractionDigits:2}),pi=O?.pack?.description,Qn=[],Kn="20G"===O.produit.codeProduit?["*","*","*","*","*"]:["*","*","*","*"],xi=[],tn=[],Kt=[{text:"Garanties",style:"headerTable"}],hi=["*"],Sn=!1;if("97"==O?.produit?.codeProduit){if("CTH"==O.sousProduit.code){const Vt=O?.risqueList.find(Gn=>"P152"===Gn.codeRisque);this.valas=.8*Vt.reponse.valeur,console.log("je suis la valeur assure",this.valas)}if("CTI"==O.sousProduit.code){const Vt=O?.risqueList.find(Gn=>"P270"===Gn.codeRisque);this.valtot=.5*Vt.reponse.valeur}}const vt="20A"===O.produit.codeProduit;if(console.log("devised",O),vt||"20G"===O.produit.codeProduit){if(xi="20G"===O.produit.codeProduit?[{text:"Num\xe9ro d\u2019assur\xe9 ",style:"headerTable"},{text:"Nom et Pr\xe9nom",style:"headerTable"},{text:"Date de naissance",style:"headerTable"},{text:"Pack",style:"headerTable"},{text:"Prime nette",style:"headerTable"}]:[{text:"Num\xe9ro d\u2019assur\xe9 ",style:"headerTable"},{text:"Nom et Pr\xe9nom",style:"headerTable"},{text:"Date de naissance",style:"headerTable"},{text:"Prime nette",style:"headerTable"}],Ri&&Xn){const Vt=Q(Ri,"DD/MM/YYYY");Lt=Q(Xn,"DD/MM/YYYY").add(1,"day").diff(Vt,"days")}switch(O?.pack?.codePack){case"V01":mn="Monde entier sauf USA, Canada, Japon, Singapour";break;case"V02":mn="Monde entier";break;case"V04":mn="Tunisie";break;case"V03":mn="Turquie"}"20G"===O.produit.codeProduit?(O?.groupes.forEach(Vt=>{Kt.push({text:Vt.pack.description,style:"headerTable"}),hi.push("*"),"G03"==Vt.pack.codePack?Sn=!0:(console.log("devis.gavGarantieTable ",O.gavGarantieTable),O.gavGarantieTable=O.gavGarantieTable.filter(Gn=>"Bris de lunettes en cas d\u2019accident"!==Gn[0].text&&"Proth\xe8se dentaire en cas d\u2019accident"!==Gn[0].text))}),O.gavGarantieTable.unshift(Kt),Qn=O?.groupes?.flatMap(Vt=>Vt?.risques?.map(Gn=>[{text:Gn?.idRisque,fontSize:"8",alignment:"center"},{text:(Gn?.risque[0]?.valeur||"")+" "+(Gn?.risque[1]?.valeur||""),fontSize:"8",alignment:"center"},{text:Q(Gn?.risque[2]?.valeur).format("DD/MM/YYYY")||"",fontSize:"8",alignment:"center"},{text:Vt.pack.description,fontSize:"8",alignment:"center"},{text:O?.primeListRisques?.find(ei=>ei.id===Gn?.idRisque)?.prime||"",fontSize:"8",alignment:"center"}]))||[],console.log("risqrow",Qn)):Qn=O?.groupes[0]?.risques?.map(Vt=>[{text:Vt?.idRisque,fontSize:"8",alignment:"center"},{text:(Vt?.risque[0]?.valeur||"")+" "+(Vt?.risque[1]?.valeur||""),fontSize:"8",alignment:"center"},{text:Q(Vt?.risque[2]?.valeur).format("DD/MM/YYYY")||"",fontSize:"8",alignment:"center"},{text:O?.primeListRisques?.find(Gn=>Gn.id===Vt?.idRisque).prime,fontSize:"8",alignment:"center"}])||[],tn=O?.paramDevisList.map((Vt,Gn)=>[{text:Vt.description,fontSize:"8"},{text:1!==Gn?"-":"15%",alignment:"center",fontSize:"8"},{text:2===Gn?"Voir conditions au verso":`${O.garantiePlafond[Vt.description]} DZD`,alignment:"center",fontSize:"8"}])||[]}switch(nn=O?.risqueList?.filter(Vt=>"Conducteur"!=Vt?.categorieParamRisque),O.produit.codeProduit){case"97":{const Vt=nn?.findIndex(ei=>"P245"===ei?.codeRisque);-1!==Vt&&(nn.splice(Vt,1),console.log("new rsiquelist",nn)),nn=function $e(Vt,Gn){return[...Vt.filter(uo=>Gn.includes(uo.codeRisque)).sort((uo,bo)=>Gn.indexOf(uo.codeRisque)-Gn.indexOf(bo.codeRisque)),...Vt.filter(uo=>!Gn.includes(uo.codeRisque))]}(nn,["P222","P264","P263","P223","P224","P318"]);break}}for(xn=O?.risqueList?.find(Vt=>"P40"==Vt?.codeRisque)?.reponse?.valeur,console.log("je cherceh smp",O?.risqueList?.find(Vt=>"P245"==Vt?.codeRisque));J<nn?.length;)he.push({text1:[{text:nn[J].libelle+": ",bold:!0,fontSize:"8"},{text:"Liste of values"==nn[J].typeChamp?.description?nn[J].reponse?.idParamReponse?.description:"From Table"==nn[J].typeChamp?.description?nn[J].reponse?.description:nn[J].reponse?.valeur,fontSize:"8"}],text2:[{text:nn[J+1]?nn[J+1].libelle+": ":"",bold:!0,fontSize:"8"},{text:nn[J+1]?"Liste of values"==nn[J+1].typeChamp?.description?nn[J+1].reponse?.idParamReponse?.description:"From Table"==nn[J+1].typeChamp?.description?nn[J+1].reponse?.description:nn[J+1].reponse?.valeur:"",fontSize:"8"}]}),J+=2;for(J=0;J<_n?.length;){switch(_n[J].libelle){case"Date obtention permis":Zt=_n[J].reponse?.valeur.split("T")[0];break;case"Date de Naissance":ot=_n[J].reponse?.valeur.split("T")[0];break;case"Categorie Permis":tt=_n[J].reponse?.valeur}J+=1}for(J=0;J<O?.paramDevisList?.length;)(O?.paramDevisList[J].prime&&"0"!=O?.paramDevisList[J].prime||"95"!=O?.produit?.codeProduit)&&O?.paramDevisList[J].categorieList?.map(Vt=>{t.push(Vt?.description)}),J++;for(t=t.filter((Vt,Gn)=>t.indexOf(Vt)===Gn),t.push("Primes"),t.map(Vt=>{ln.push("*")}),J=0;J<O?.paramDevisList?.length;){if(O?.paramDevisList[J].prime&&"0"!=O?.paramDevisList[J].prime||"95"!=O?.produit?.codeProduit){let Vt;"97"!=O.produit.codeProduit&&(Vt={Garanties:[{text:O?.paramDevisList[J].description,fontSize:"8"}],plafond:[{text:"",fontSize:"8"}],formule:[{text:"",fontSize:"8"}],franchise:[{text:"",fontSize:"8"}],Primes:[{text:Number(O?.paramDevisList[J].prime).toFixed(2).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")+" DZD",fontSize:"8"}]}),O?.paramDevisList[J].categorieList?.map(Gn=>{switch(Gn.description){case"plafond":"0"==Gn.valeur&&(Gn.valeur=xn),Vt.plafond[0].text=Number(Gn.valeur).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",");break;case"formule":Vt.formule[0].text=Number(Gn.valeur).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",");break;case"franchise":Vt.franchise[0].text=Number(Gn.valeur).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}}),Ze.push(Vt)}J++}for(J=0;J<O?.primeList?.length;)"CP101"==O?.primeList[J].typePrime?.code&&(Ft.push(O?.primeList[J].typePrime?.description),l.push(Number(O?.primeList[J].prime).toFixed(2).toString().replace(/\B(?=(\d{3})+(?!\d))/g,","))),J++;for(J=0;J<O?.primeList?.length;)"CP186"!=O?.primeList[J].typePrime?.code&&"CP101"!=O?.primeList[J].typePrime?.code&&("CP102"!=O?.primeList[J].typePrime?.code&&"CP103"!=O?.primeList[J].typePrime?.code&&"CP104"!=O?.primeList[J].typePrime?.code&&"CP105"!=O?.primeList[J].typePrime?.code||"95"!=O?.produit?.codeProduit)&&(Ft.push(O?.primeList[J].typePrime?.description),l.push(O?.primeList[J].prime?.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","))),J++;for(J=0;J<O?.taxeList?.length;)Ft.push(O?.taxeList[J].taxe?.description),l.push(Number(O?.taxeList[J].prime).toFixed(2).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")),J++;for(J=0;J<O?.primeList?.length;)"CP186"==O?.primeList[J].typePrime?.code&&(Ft.push(O?.primeList[J].typePrime?.description),l.push(Number(O?.primeList[J].prime).toFixed(2).toString().replace(/\B(?=(\d{3})+(?!\d))/g,","))),J++;Ft.map(Vt=>{ut.push("*")});const bn={watermark:{text:"DEVIS",color:"blue",opacity:.1},pageMargins:[35,30,35,120],border:[!1,!1,!1,!1],content:["96"==O?.produit.codeProduit?{text:"AXA  MultiRisque Habitation",style:"sectionHeader"}:{text:"AXA "+O?.produit?.description.toUpperCase(),style:"sectionHeader"},"97"==O?.produit?.codeProduit&&"CTI"==O.sousProduit.code?{text:"Bien commerecial et industriel",style:"sectionHeader"}:"97"==O?.produit?.codeProduit&&"CTH"==O.sousProduit.code?{text:"Bien immobilier",style:"sectionHeader"}:{},{text:"Devis",style:"sectionHeader",color:"black"},{text:vt||"20G"==O.produit.codeProduit?"":O?.pack?.description,style:"sectionHeader",color:"black"},null!=O?.convention?{text:"Convention: "+O?.reduction.convention?.nomConvention,style:"sectionHeader",color:"black"}:null!=O?.reduction?{text:"R\xe9duction: "+O?.reduction?.nomReduction,style:"sectionHeader",color:"black"}:{},{columns:[{style:"table",table:{widths:["*"],alignment:"left",body:[[{text:"Agence",style:"headerTable"}]]}},{style:"table",table:{widths:["*"],alignment:"right",body:[[{text:"R\xe9f\xe9rence ",style:"headerTable"}]]}}]},{columns:[{table:{widths:["*"],alignment:"left",body:[[{text:[{text:"Nom et code agence : ",bold:!0,fontSize:"8"},{text:O?.agence?.codeAgence+" "+O?.agence?.raisonSocial,fontSize:"8"}]}]]}},{table:{widths:["*"],alignment:"right",body:[[{text:[{text:"Devis N\xb0 : ",bold:!0,fontSize:"8"},{text:O?.idDevis,fontSize:"8"}]}]]}}]},{columns:[{table:{widths:["*"],alignment:"left",body:[[{text:[{text:"Adresse agence : ",bold:!0,fontSize:"8"},{text:O?.agence?.adresse,fontSize:"8"}]}]]}},{table:{widths:["*"],alignment:"right",body:[[{text:[{text:"Date devis : ",bold:!0,fontSize:"8"},{text:O?.auditDate.split("T")[0],fontSize:"8"}]}]]}}]},{columns:[{table:{widths:["*"],alignment:"left",body:[[{text:[{text:"T\xe9l\xe9phone agence : ",bold:!0,fontSize:"8"},{text:"0"+O?.agence?.telephone,fontSize:"8"}]}]]}},{table:{widths:["*"],alignment:"right",body:[[{text:[{text:"Date expiration devis : ",bold:!0,fontSize:"8"},{text:O?.dateExpiration,fontSize:"8"}]}]]}}]},{columns:[{table:{widths:["*"],alignment:"left",body:[[{text:[{text:"E-mail agence : ",bold:!0,fontSize:"8"},{text:O?.agence?.email,fontSize:"8"}]}]]}},{table:{widths:["*"],alignment:"right",body:[[{text:[{text:"Ce pr\xe9sent devis est valide 30 jours",bold:!0,fontSize:"8"}]}]]}}]},{columns:vt||"20G"==O.produit.codeProduit?[{style:"table",table:{widths:["*"],alignment:"left",body:[[{text:"Souscripteur",style:"headerTable",alignment:"left"}]]}}]:[{style:"table",table:{widths:["*"],alignment:"left",body:[[{text:"Assur\xe9(e)",style:"headerTable"}]]}},0!=_n?.length?{style:"table",table:{widths:["*"],alignment:"right",body:[[{text:"Conducteur",style:"headerTable"}]]}}:{}]},{columns:vt||"20G"==O.produit.codeProduit?[{table:{widths:["*"],alignment:"left",body:[[{text:[{text:"personne morale"==O?.typeClient?.description?"Raison Sociale : ":"Nom & Pr\xe9nom : ",bold:!0,fontSize:"8"},{text:"personne morale"==O?.typeClient?.description?O?.raisonSocial:O?.nom+" "+O?.prenom,fontSize:"8"}]}]]}}]:[{table:{widths:["*"],alignment:"left",body:[[{text:[{text:"personne morale"==O?.typeClient?.description?"Raison Sociale : ":"Nom & Pr\xe9nom : ",bold:!0,fontSize:"8"},{text:"personne morale"==O?.typeClient?.description?O?.raisonSocial:O?.nom+" "+O?.prenom,fontSize:"8"}]}]]}},0!=_n?.length?{table:{widths:["*"],alignment:"right",body:[[{text:[{text:"Date de naissance : ",bold:!0,fontSize:"8"},{text:ot,fontSize:"8"}]}]]}}:{}]},{columns:vt||"20G"==O.produit.codeProduit?[{table:{widths:["*"],alignment:"left",body:[[{text:[{text:"T\xe9l\xe9phone : ",bold:!0,fontSize:"8"},{text:"0"+O?.telephone,fontSize:"8"}]}]]}}]:[{table:{widths:["*"],alignment:"left",body:[[{text:[{text:"E-mail : ",bold:!0,fontSize:"8"},{text:O?.email,fontSize:"8"}]}]]}},0!=_n?.length?{table:{widths:["*"],alignment:"right",body:[[{text:[{text:"Categorie du permis : ",bold:!0,fontSize:"8"},{text:tt,fontSize:"8"}]}]]}}:{}]},{columns:vt||"20G"==O.produit.codeProduit?[{table:{widths:["*"],alignment:"left",body:[[{text:[{text:"E-mail : ",bold:!0,fontSize:"8"},{text:O?.email,fontSize:"8"}]}]]}}]:[{table:{widths:["*"],alignment:"left",body:[[{text:[{text:"T\xe9l\xe9phone : ",bold:!0,fontSize:"8"},{text:"0"+O?.telephone,fontSize:"8"}]}]]}},0!=_n?.length?{table:{widths:["*"],alignment:"right",body:[[{text:[{text:"Date d'obtention du permis : ",bold:!0,fontSize:"8"},{text:Zt,fontSize:"8"}]}]]}}:{}]},vt||"20G"==O.produit.codeProduit?[{columns:[{style:"table",table:{widths:["*"],alignment:"left",body:[[{text:"Assure(es)",style:"headerTable",alignment:"left"}]]}}]},{table:{widths:Kn,body:[xi,...Qn]}}]:[{style:"table",table:{widths:["*"],alignment:"right",body:[[{text:"Caract\xe9ristiques du risque assur\xe9",style:"headerTable"}]]}},this.table(he,["text1","text2"])],{text:"\n"},vt?{table:{widths:["*","*"],body:[[{text:"Informations du voyage",style:"headerTable",colSpan:2,alignment:"center"},""],[{text:`Formule : ${pi}`,fontSize:"8"},{text:`Dur\xe9e : ${Lt} Jour(s)`,fontSize:"8"}],[{text:`Zone : ${mn}`,fontSize:"8"},{text:`Date d'effet : ${Ri}`,fontSize:"8"}],[{text:`Pays destination : ${Mt}`,fontSize:"8"},{text:`Date d'\xe9ch\xe9ance : ${Xn}`,fontSize:"8"}]]}}:{},vt?[{text:"\n"},{table:{widths:["55%","15%","*"],body:[[{text:"Garanties",style:"headerTable",colSpan:3,alignment:"center"},"",""],[{text:"Garanties accord\xe9es",style:"headerTable"},{text:"Franchise",style:"headerTable"},{text:"Capitaux",style:"headerTable"}],...tn]}}]:"20G"==O.produit.codeProduit?[{table:{headerRows:1,widths:hi,body:Sn?O.gavGarantieTable.slice(0,6):O.gavGarantieTable}},{text:"(*) : D\xe9c\xe8s accidentel 4 \u2013 13 ans Pas de capital d\xe9c\xe8s                 (*) : D\xe9c\xe8s accidentel 13 \u2013 18 ans",fontSize:6}]:"97"!=O.produit.codeProduit?[this.table(Ze,t)]:[],"97"==O?.produit?.codeProduit&&"CTH"==O.sousProduit.code?[{style:"table",table:{widths:["50%","50%"],body:[[{text:"Limite de garantie 80%",style:"headerTable"},{text:`${this.valas}`,fontSize:8}],[{text:"Franchise",style:"headerTable"},{text:"2 % des dommages, Minimum 30.000 DZD",fontSize:8}]]}}]:"97"==O?.produit?.codeProduit&&"CTI"==O.sousProduit.code?[{style:"table",table:{widths:["50%","50%"],body:[[{text:"Limite de garantie 50%",style:"headerTable"},{text:`${this.valtot} DZD`,fontSize:8}],[{text:"Franchise",style:"headerTable"},{text:"10 % des dommages",fontSize:8}]]}}]:[],{style:"table",table:{widths:["*"],alignment:"right",body:[[{text:"D\xe9compte de primes",style:"headerTable"}]]}},"45A"==O?.produit?.codeProduit||"45F"==O?.produit?.codeProduit?{columns:[{style:"table",table:{widths:["*","*","*","*","*","*"],body:[[{text:"Prime nette",style:"headerTable"},{text:"Co\xfbt de police",style:"headerTable"},{text:"T.V.A",style:"headerTable"},{text:"F.G.A",style:"headerTable"},{text:"Timbre de dimension",style:"headerTable"},{text:"Timbre gradu\xe9",style:"headerTable"}],[{text:Jn+" DZD",fontSize:10},{text:xt+" DZD",fontSize:10},{text:Number(O?.taxeList?.find(Vt=>"T04"==Vt?.taxe?.code)?.prime).toLocaleString("fi-FI",{minimumFractionDigits:2,maximumFractionDigits:2})+" DZD",fontSize:10},{text:Number(O?.taxeList?.find(Vt=>"T07"==Vt?.taxe?.code)?O?.taxeList?.find(Vt=>"T07"==Vt?.taxe?.code)?.prime:" ").toLocaleString("fi-FI",{minimumFractionDigits:2,maximumFractionDigits:2})+" DZD",fontSize:10},{text:ht+" DZD",fontSize:10},{text:Number(O?.taxeList?.find(Vt=>"T02"==Vt?.taxe?.code)?O?.taxeList?.find(Vt=>"T02"==Vt?.taxe?.code)?.prime:" ").toLocaleString("fi-FI",{minimumFractionDigits:2,maximumFractionDigits:2})+" DZD",fontSize:10}],[{text:"",colSpan:4},{},{},{},{text:"Prime Totale",style:"headerTable"},{text:Yn+" DZD",fontSize:8}]]}}]}:vt||"20G"==O.produit.codeProduit?{table:{widths:["*","*","*","*"],body:[[{text:"Prime nette",style:"headerTable"},{text:"Frais de gestion",style:"headerTable"},{text:"Droit de timbres",style:"headerTable"},{text:"Prime TTC",style:"headerTable"}],[{text:`${Jn} DZD`,bold:!0,alignment:"center",fontSize:"8"},{text:`${xt} DZD`,bold:!0,alignment:"center",fontSize:"8"},{text:`${ht} DZD`,bold:!0,alignment:"center",fontSize:"8"},{text:`${Yn} DZD `,bold:!0,alignment:"center",fontSize:"8"}]]}}:{columns:[{style:"table",table:{widths:["*","*","*","*","*"],body:[[{text:"Prime nette",style:"headerTable"},{text:"Prime sans r\xe9duction",style:"headerTable"},{text:"Co\xfbt de police",style:"headerTable"},{text:"T.V.A",style:"headerTable"},{text:"Timbre de dimension",style:"headerTable"}],[{text:Jn+" DZD",fontSize:10},{text:Number(O?.primeList?.find(Vt=>"CP264"==Vt?.typePrime?.code)?.prime).toLocaleString("fi-FI",{minimumFractionDigits:2,maximumFractionDigits:2})+" DZD",fontSize:10},{text:xt+" DZD",fontSize:10},{text:97===O?.codeproduit?"0.00 DZD":Number(O?.taxeList?.find(Vt=>"T04"==Vt?.taxe?.code)?.prime||0).toLocaleString("fi-FI",{minimumFractionDigits:2,maximumFractionDigits:2})+" DZD",fontSize:10},{text:ht+" DZD",fontSize:10}],[{},{},{},{text:"Prime Totale",style:"headerTable"},{text:Yn+" DZD",fontSize:8}]]}}]},{pageBreak:"20G"==O.produit.codeProduit?"":"before",style:"table",text:[{text:"D\xe9claration du souscripteur \n",bold:!0,fontSize:"8"},{text:"Je reconnais avoir \xe9t\xe9 inform\xe9(e), au moment de la collecte d'informations que les cons\xe9quences qui pourraient r\xe9sulter d'une omission ou d'une d\xe9claration inexacte sont celles pr\xe9vues par l'article 19 de l'ordonnance n\xb095/07 du 25 janvier 1995 relative aux assurances modifi\xe9e et compl\xe9t\xe9e par la loi n\xb006/04 du 20 f\xe9vrier 2006.\n",fontSize:"6",alignment:"justify"},{text:"Je reconnais \xe9galement avoir \xe9t\xe9 inform\xe9(e), que les informations saisies dans ce document soient, utilis\xe9es, exploit\xe9es, trait\xe9es par AXA Assurances Alg\xe9rie Dommage, transf\xe9r\xe9es \xe0 l'\xe9tranger et \xe0 ses sous-traitants, dans le cadre de l'ex\xe9cution des finalit\xe9s de la relation commerciale, conform\xe9ment \xe0 la Loi n\xb0 18-07 du 10 juin 2018 relative \xe0 la protection des personnes physiques dans le traitement des donn\xe9es \xe0 caract\xe8re personnel.\n",fontSize:"6",alignment:"justify"},{text:"J'autorise AXA Assurances Alg\xe9rie Dommage \xe0 m'envoyer des messages et des appels de prospections commerciales quel qu'en soit le support ou la nature.\n",fontSize:"6",alignment:"justify"},{text:"Pour toute demande concernant le traitement et vos droits relatifs \xe0 vos donn\xe9es \xe0 caract\xe8re personnel, merci de nous contacter sur l'adresse : dpo@axa.dz\n",fontSize:"6",alignment:"justify"}]},sessionStorage.getItem("roles")?.includes("COURTIER")?{text:["\n","Je donne par le pr\xe9sent mandat \xe0 ",{text:`${O?.agence?.raisonSocial}`,bold:!0}," En tant que Soci\xe9t\xe9 de Courtage en assurances, \xe0 l\u2019effet de n\xe9gocier et g\xe9rer pour mon compte aupr\xe8s des compagnies d\u2019assurances aux meilleures conditions de garanties et de tarifs, en veillant \xe0 la d\xe9fense de mes int\xe9r\xeats pendant toute la dur\xe9e de l\u2019assurance depuis la confection du contrat, qu\u2019\xe0 l\u2019occasion des r\xe8glements des sinistres. Le pr\xe9sent mandat prend effet \xe0 la date de signature du pr\xe9sent, et demeure valable tant qu\u2019il n\u2019a pas \xe9t\xe9 d\xe9nonc\xe9 express\xe9ment par mes soins conform\xe9ment \xe0 la l\xe9gislation en vigueur \n\n"],fontSize:8,alignment:"justify"}:{},{layout:"noBorders",margin:[35,25,35,5],table:{widths:["*","*"],alignment:"center",body:[[{text:"Fait \xe0 Alger Le "+Q(O?.auditDate)?.format("DD/MM/YYYY"),fontSize:8,alignment:"left"},{text:"Assureur",fontSize:8,alignment:"right"}]]}}],styles:{sectionHeader:{bold:!0,color:"#d14723",fontSize:10,alignment:"right"},BG:{fontSize:8},table:{margin:[0,10,0,0]},headerTable:{alignment:"center",bold:!0,fontSize:10,color:"#00008F"}}};me.createPdf(bn).open()}outputDevisFlotte(O){let J=[],he=[],Ze=[],l=[],t=[],Ft=[],ot={};l=O?.groupes.filter(nn=>nn?.garantieList),l?.forEach(nn=>{he.push(nn.garantieList)}),he?.map(nn=>{nn.forEach(_n=>{const{idGarantie:xn,description:mn,prime:Ri}=_n;ot[xn]||(ot[xn]={idGarantie:xn,description:mn,sumPrime:0}),ot[xn].sumPrime+=parseFloat(Ri)})});for(const nn in ot)if(Object.hasOwnProperty.call(ot,nn)){const _n=ot[nn];let xn={"Garantie(s)":[{text:_n.description,fontSize:"8"}],Primes:[{text:Number(_n.sumPrime).toFixed(2).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")+" DZD",fontSize:"8"}]};J.push(xn)}Ze=O?.groupes?.filter(nn=>nn?.risques),Ze?.forEach(nn=>{nn?.risques?.forEach(_n=>{t.push(_n)})});let tt=0;for(;tt<t?.length;){let nn={"N\xba ORDRE":[{text:t[tt].idRisque+"/"+t?.length,fontSize:"8"}],MARQUE:[{text:"",fontSize:"8"}],IMMATRICULATION:[{text:"",fontSize:"8"}],CHASSIS:[{text:"",fontSize:"8"}],VALEUR_VENALE:[{text:"",fontSize:"8"}]};t[tt].risque?.map(_n=>{switch(_n.colonne){case"Marque":nn.MARQUE[0].text=_n.valeur;break;case"N\xb0 d'Immatriculation":nn.IMMATRICULATION[0].text=_n.valeur;break;case"Ch\xe2ssis ":nn.CHASSIS[0].text=_n.valeur;break;case"Valeur Assur\xe9":nn.VALEUR_VENALE[0].text=Number(_n.valeur).toFixed(2).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")+" DZD"}}),Ft.push(nn),tt+=1}const Zt={watermark:{text:"DEVIS",color:"blue",opacity:.1},pageMargins:[35,30,35,120],border:[!1,!1,!1,!1],content:[{text:"AXA "+O?.produit?.description.toUpperCase(),style:"sectionHeader"},{text:"Devis",style:"sectionHeader",color:"black"},null!=O?.convention?{text:"Convention: "+O?.reduction.convention?.nomConvention,style:"sectionHeader",color:"black"}:{},null!=O?.reduction?{text:"R\xe9duction: "+O?.reduction?.nomReduction,style:"sectionHeader",color:"black"}:{},{columns:[{style:"table",table:{widths:["*"],alignment:"left",body:[[{text:"Agence",style:"headerTable"}]]}},{style:"table",table:{widths:["*"],alignment:"right",body:[[{text:"Reference",style:"headerTable"}]]}}]},{columns:[{table:{widths:["*"],alignment:"left",body:[[{text:[{text:"Nom et code agence : ",bold:!0,fontSize:"8"},{text:O?.agence?.codeAgence+" "+O?.agence?.raisonSocial,fontSize:"8"}]}]]}},{table:{widths:["*"],alignment:"right",body:[[{text:[{text:"Devis N\xb0 : ",bold:!0,fontSize:"8"},{text:O?.idDevis,fontSize:"8"}]}]]}}]},{columns:[{table:{widths:["*"],alignment:"left",body:[[{text:[{text:"Adresse agence : ",bold:!0,fontSize:"8"},{text:O?.agence?.adresse,fontSize:"8"}]}]]}},{table:{widths:["*"],alignment:"right",body:[[{text:[{text:"Date devis : ",bold:!0,fontSize:"8"},{text:O?.auditDate.split("T")[0],fontSize:"8"}]}]]}}]},{columns:[{table:{widths:["*"],alignment:"left",body:[[{text:[{text:"T\xe9l\xe9phone agence : ",bold:!0,fontSize:"8"},{text:O?.agence?.telephone,fontSize:"8"}]}]]}},{table:{widths:["*"],alignment:"right",body:[[{text:[{text:"Date expiration devis : ",bold:!0,fontSize:"8"},{text:O?.dateExpiration,fontSize:"8"}]}]]}}]},{columns:[{table:{widths:["*"],alignment:"left",body:[[{text:[{text:"E-mail agence : ",bold:!0,fontSize:"8"},{text:O?.agence?.email,fontSize:"8"}]}]]}},{table:{widths:["*"],alignment:"right",body:[[{text:[{text:"Ce pr\xe9sent devis est valide 30 jours",bold:!0,fontSize:"8"}]}]]}}]},{columns:[{style:"table",table:{widths:["*"],alignment:"left",body:[[{text:"Assur\xe9(e)",style:"headerTable"}]]}}]},{columns:[{table:{widths:["*"],alignment:"left",body:[[{text:[{text:"personne morale"==O?.typeClient?.description?"Raison Sociale : ":"Nom & Pr\xe9nom : ",bold:!0,fontSize:"8"},{text:"personne morale"==O?.typeClient?.description?O?.raisonSocial:O?.nom+" "+O?.prenom,fontSize:"8"}]}]]}}]},{table:{widths:["*"],alignment:"left",body:[[{text:[{text:"E-mail : ",bold:!0,fontSize:"8"},{text:O?.email,fontSize:"8"}]}]]}},{table:{widths:["*"],alignment:"left",body:[[{text:[{text:"T\xe9l\xe9phone : ",bold:!0,fontSize:"8"},{text:O?.telephone,fontSize:"8"}]}]]}},{style:"table",table:{widths:["*"],alignment:"left",body:[[{text:"V\xe9hicule",style:"headerTable"}]]}},{table:{widths:["*"],alignment:"left",body:[[{text:[{text:"Voir liste des v\xe9hicules assur\xe9s en ANNEXE A - D\xe9tail des v\xe9hicules assur\xe9s",bold:!0,fontSize:"8"}]}]]}},{text:"\n"},0!=J.length?this.table(J,["Garantie(s)","Primes"]):{},{style:"table",table:{widths:["*"],alignment:"left",body:[[{text:"D\xe9compte de la Prime",style:"headerTable"}]]}},{columns:[{style:"table",table:{widths:["*","*","*","*","*","*"],body:[[{text:"Prime nette",style:"headerTable"},{text:"Frais de gestion",style:"headerTable"},{text:"T.V.A",style:"headerTable"},{text:"F.G.A",style:"headerTable"},{text:"Timbre de dimension",style:"headerTable"},{text:"Timbre gradu\xe9",style:"headerTable"}],[{text:Number(O?.primeList?.find(nn=>"CP101"==nn?.typePrime?.code)?.prime).toLocaleString("fi-FI",{minimumFractionDigits:2,maximumFractionDigits:2})+" DZD",fontSize:10},{text:Number(O?.taxeList?.find(nn=>"T01"==nn?.taxe?.code||"T08"==nn?.taxe?.code)?.prime).toLocaleString("fi-FI",{minimumFractionDigits:2,maximumFractionDigits:2})+" DZD",fontSize:10},{text:Number(O?.taxeList?.find(nn=>"T04"==nn?.taxe?.code)?.prime).toLocaleString("fi-FI",{minimumFractionDigits:2,maximumFractionDigits:2})+" DZD",fontSize:10},{text:Number(O?.taxeList?.find(nn=>"T07"==nn?.taxe?.code)?.prime).toLocaleString("fi-FI",{minimumFractionDigits:2,maximumFractionDigits:2})+" DZD",fontSize:10},{text:Number(O?.taxeList?.find(nn=>"T03"==nn?.taxe?.code)?.prime).toLocaleString("fi-FI",{minimumFractionDigits:2,maximumFractionDigits:2})+" DZD",fontSize:10},{text:Number(O?.taxeList?.find(nn=>"T02"==nn?.taxe?.code)?.prime).toLocaleString("fi-FI",{minimumFractionDigits:2,maximumFractionDigits:2})+" DZD",fontSize:10}],[{text:"",colSpan:4},{},{},{},{text:"Prime Totale",style:"headerTable"},{text:Number(O?.primeList?.find(nn=>"CP186"==nn?.typePrime?.code)?.prime).toLocaleString("fi-FI",{minimumFractionDigits:2,maximumFractionDigits:2})+" DZD",fontSize:8}]]}}]},{style:"table",text:[{text:"D\xe9claration du souscripteur \n",bold:!0,fontSize:"9"},{text:"Je reconnais avoir \xe9t\xe9 inform\xe9(e), au moment de la collecte d'informations que les cons\xe9quences qui pourraient r\xe9sulter d'une omission ou d'une d\xe9claration inexacte sont celles pr\xe9vues par l'article 19 de l'ordonnance n\xb095/07 du 25 janvier 1995 relative aux assurances modifi\xe9e et compl\xe9t\xe9e par la loi n\xb006/04 du 20 f\xe9vrier 2006.\n",fontSize:"8",alignment:"justify"},{text:"Je reconnais \xe9galement avoir \xe9t\xe9 inform\xe9(e), que les informations saisies dans ce document soient, utilis\xe9es, exploit\xe9es, trait\xe9es par AXA Assurances Alg\xe9rie Dommage, transf\xe9r\xe9es \xe0 l'\xe9tranger et \xe0 ses sous-traitants, dans le cadre de l'ex\xe9cution des finalit\xe9s de la relation commerciale, conform\xe9ment \xe0 la Loi n\xb0 18-07 du 10 juin 2018 relative \xe0 la protection des personnes physiques dans le traitement des donn\xe9es \xe0 caract\xe8re personnel.\n",fontSize:"8",alignment:"justify"},{text:"J'autorise AXA Assurances Alg\xe9rie Dommage \xe0 m'envoyer des messages et des appels de prospections commerciales quel qu'en soit le support ou la nature.\n",fontSize:"8",alignment:"justify"},{text:"Pour toute demande concernant le traitement et vos droits relatifs \xe0 vos donn\xe9es \xe0 caract\xe8re personnel, merci de nous contacter sur l'adresse : dpo@axa.dz\n",fontSize:"8",alignment:"justify"}]},sessionStorage.getItem("roles")?.includes("COURTIER")&&{text:["Je donne par le pr\xe9sent mandat \xe0 ",{text:`${O?.agence?.raisonSocial}`,bold:!0}," En tant que Soci\xe9t\xe9 de Courtage en assurances, \xe0 l\u2019effet de n\xe9gocier et g\xe9rer pour mon compte aupr\xe8s des compagnies d\u2019assurances aux meilleures conditions de garanties et de tarifs, en veillant \xe0 la d\xe9fense de mes int\xe9r\xeats pendant toute la dur\xe9e de l\u2019assurance depuis la confection du contrat, qu\u2019\xe0 l\u2019occasion des r\xe8glements des sinistres. Le pr\xe9sent mandat prend effet \xe0 la date de signature du pr\xe9sent, et demeure valable tant qu\u2019il n\u2019a pas \xe9t\xe9 d\xe9nonc\xe9 express\xe9ment par mes soins conform\xe9ment \xe0 la l\xe9gislation en vigueur \n\n"],fontSize:8,alignment:"justify"},{layout:"noBorders",margin:[5,5,5,5],table:{widths:["*","*"],alignment:"center",body:[[{text:"Fait \xe0 Alger Le 09/09/2023",bold:!0,fontSize:"8"},{text:"Assureur",fontSize:"8",alignment:"right",pageBreak:"after"}]]}},{columns:[{style:"table",table:{widths:["*"],alignment:"left",body:[[{text:"ANNEXE A - D\xe9tail des v\xe9hicules assur\xe9s",style:"headerTable"}]]}}]},{text:"\n"},0!=Ft.length?this.table(Ft,["N\xba ORDRE","MARQUE","IMMATRICULATION","CHASSIS","VALEUR_VENALE"]):{}],styles:{sectionHeader:{bold:!0,color:"#d14723",fontSize:10,alignment:"right"},BG:{fontSize:8},table:{margin:[0,10,0,0]},headerTable:{alignment:"center",bold:!0,fontSize:10,color:"#00008F"}}};me.createPdf(Zt).open()}buildTableBody(O,J){var he=[];if(J.includes("text1"))he.push();else if(J.includes("prime"))J=J.map(Ze=>{Ze.text=Ze,Ze.style="headerTable"}),he.push(J);else{let Ze=[];J.map(l=>{let t={text:"",style:""};t.text=l,t.style="headerTable",Ze.push(t)}),he.push(Ze)}return O.forEach(function(Ze){const l=[];J.forEach(function(t){l.push(Ze[t])}),he.push(l)}),he}table(O,J){let he=100/J.length,Ze=[];return J.map(l=>{Ze.push(he+"%")}),[{layout:"",table:{headerRows:1,widths:Ze,body:this.buildTableBody(O,J)}}]}logs(O){}getAccessByDevis(O){const J={headers:new Se.WM({"Content-Type":"application/json","Access-Control-Allow-Origin":"*"})};return this.http.get(`${ee.g.API_ENDPOINT_DEVIS_ACCESS}/${O}`,J).pipe((0,K.b)(he=>this.logs(he)),(0,Ge.K)(he=>(0,h._)(he.error)))}updateAccessDevis(O){const J={headers:new Se.WM({"Content-Type":"application/json"})};return this.http.put(`${ee.g.API_ENDPOINT_DEVIS_ACCESS}`,O,J).pipe((0,K.b)(he=>this.logs(he)),(0,Ge.K)(he=>(0,h._)(he.error)))}approveDevis(O,J,he){const Ze={headers:new Se.WM({"Content-Type":"application/json","Access-Control-Allow-Origin":"*"}),responseType:"text"};return this.http.put(`${ee.g.API_ENDPOINT_DEVIS_APPROUVAL}/${O}/${J}/${he}`,null,Ze).pipe((0,K.b)(l=>l),(0,Ge.K)(l=>(0,h._)(l.error)))}}return i.\u0275fac=function(O){return new(O||i)(o.LFG(Se.eN),o.LFG(e.M))},i.\u0275prov=o.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})()},8056:(co,wn,B)=>{"use strict";B.d(wn,{Y:()=>Le});var Se=B(529),K=B(8505),Ge=B(262),h=B(9646),ee=B(7550),me=B(4650);let Le=(()=>{class Q{constructor(o){this.http=o}getAllDuree(){return this.http.get(`${ee.g.API_ENDPOINT_DUREE}`).pipe((0,K.b)(o=>this.logs(o)),(0,Ge.K)(o=>this.handleEroor(o,o.error)))}getDureeById(o){return this.http.get(`${ee.g.API_ENDPOINT_DUREE}/${o}`)}getDureeByIdProduit(o){return this.http.get(`${ee.g.API_ENDPOINT_DUREE_BY_PRODUIT}/${o}`)}addDuree(o){const e={headers:new Se.WM({"Content-Type":"application/json"})};return this.http.post(`${ee.g.API_ENDPOINT_DUREE}`,o,e).pipe((0,K.b)(xe=>this.logs(xe)),(0,Ge.K)(xe=>this.handleEroor(xe,xe.error)))}updateDuree(o,e){const xe={headers:new Se.WM({"Content-Type":"application/json"})};return this.http.put(`${ee.g.API_ENDPOINT_DUREE}/${e}`,o,xe).pipe((0,K.b)(n=>this.logs(n)),(0,Ge.K)(n=>this.handleEroor(n,n.error)))}logs(o){}handleEroor(o,e){return(0,h.of)(e)}}return Q.\u0275fac=function(o){return new(o||Q)(me.LFG(Se.eN))},Q.\u0275prov=me.Yz7({token:Q,factory:Q.\u0275fac,providedIn:"root"}),Q})()},852:(co,wn,B)=>{"use strict";B.d(wn,{F:()=>Le});var Se=B(529),K=B(8505),Ge=B(262),h=B(2843),ee=B(7550),me=B(4650);let Le=(()=>{class Q{constructor(o){this.http=o}getPackById(o){const e={headers:new Se.WM({"Content-Type":"application/json"})};return this.http.get(`${ee.g.API_ENDPOINT_PACK_DESC}/${o}`,e).pipe((0,K.b)(xe=>this.logs(xe)),(0,Ge.K)(xe=>(0,h._)(xe.error)))}getPackVoyage(o){const e={headers:new Se.WM({"Content-Type":"application/json"})};return this.http.post(`${ee.g.API_ENDPOINT_GET_PACK_VOYAGE}`,o,e).pipe((0,K.b)(xe=>this.logs(xe)),(0,Ge.K)(xe=>(0,h._)(xe.error)))}getDestinationFromPack(o){const e={headers:new Se.WM({"Content-Type":"application/json"})};return this.http.get(`${ee.g.API_ENDPOINT_CONTROLE_DESTINATION}/${o}/destination`,e).pipe((0,K.b)(xe=>this.logs(xe)),(0,Ge.K)(xe=>(0,h._)(xe.error)))}getPackByProduit(o){const e={headers:new Se.WM({"Content-Type":"application/json"})};return this.http.get(`${ee.g.API_ENDPOINT_PACK_BY_PRODUIT}/${o}`,e).pipe((0,K.b)(xe=>this.logs(xe)),(0,Ge.K)(xe=>(0,h._)(xe.error)))}getPackByProduitParam(o,e){const xe={headers:new Se.WM({"Content-Type":"application/json",skip:""})};return this.http.post(`${ee.g.API_ENDPOINT_PACK_BY_PRODUIT_PARAM}/${o}`,e,xe).pipe((0,K.b)(n=>this.logs(n)),(0,Ge.K)(n=>(0,h._)(n.error)))}getAllPack(){const o={headers:new Se.WM({"Content-Type":"application/json"})};return this.http.get(`${ee.g.API_ENDPOINT_GET_PACK}`,o).pipe((0,K.b)(e=>this.logs(e)),(0,Ge.K)(e=>(0,h._)(e.error)))}getAllCategory(){const o={headers:new Se.WM({"Content-Type":"application/json"})};return this.http.get(`${ee.g.API_ENDPOINT_TEST_CATEGORY}`,o).pipe((0,K.b)(e=>this.logs(e)),(0,Ge.K)(e=>(0,h._)(e.error)))}getSousCategory(o){const e={headers:new Se.WM({"Content-Type":"application/json"})};return this.http.get(`${ee.g.API_ENDPOINT_TEST_SOUS_CATEGORY}/`+o+"/souscategorie",e).pipe((0,K.b)(xe=>this.logs(xe)),(0,Ge.K)(xe=>(0,h._)(xe.error)))}addPack(o){const e={headers:new Se.WM({"Content-Type":"application/json"}),responseType:"text"};return this.http.post(`${ee.g.API_ENDPOINT_PACK}`,o,e).pipe((0,K.b)(xe=>this.logs(xe)),(0,Ge.K)(xe=>(0,h._)(xe.error)))}editPack(o,e){const xe={headers:new Se.WM({"Content-Type":"application/json"}),responseType:"text"};return this.http.put(`${ee.g.API_ENDPOINT_PACK}/${e}`,o,xe).pipe((0,K.b)(n=>this.logs(n)),(0,Ge.K)(n=>(0,h._)(n.error)))}getPackAndCategories(o){const e={headers:new Se.WM({"Content-Type":"application/json"})};return this.http.get(`${ee.g.API_ENDPOINT_PACK}/${o}`,e).pipe((0,K.b)(xe=>this.logs(xe)),(0,Ge.K)(xe=>(0,h._)(xe.error)))}getGarantiePack(o){const e={headers:new Se.WM({"Content-Type":"application/json"})};return this.http.get(`${ee.g.API_ENDPOINT_PACK}/${o}/garantie`,e).pipe((0,K.b)(xe=>this.logs(xe)),(0,Ge.K)(xe=>(0,h._)(xe.error)))}getGarantiePackCategories(o,e){const xe={headers:new Se.WM({"Content-Type":"application/json"})};return this.http.get(`${ee.g.API_ENDPOINT_PACK}/${o}/garantie/${e}`,xe).pipe((0,K.b)(n=>this.logs(n)),(0,Ge.K)(n=>(0,h._)(n.error)))}getSousGarantiePack(o,e){const xe={headers:new Se.WM({"Content-Type":"application/json"})};return this.http.get(`${ee.g.API_ENDPOINT_PACK}/${o}/garantie/sousgarantie/${e}`,xe).pipe((0,K.b)(n=>this.logs(n)),(0,Ge.K)(n=>(0,h._)(n.error)))}getSousGarantiePackCategories(o,e,xe){const n={headers:new Se.WM({"Content-Type":"application/json"})};return this.http.get(`${ee.g.API_ENDPOINT_PACK}/${o}/garantie/sousgarantie/${e}/${xe}`,n).pipe((0,K.b)(i=>this.logs(i)),(0,Ge.K)(i=>(0,h._)(i.error)))}logs(o){}}return Q.\u0275fac=function(o){return new(o||Q)(me.LFG(Se.eN))},Q.\u0275prov=me.Yz7({token:Q,factory:Q.\u0275fac,providedIn:"root"}),Q})()},6127:(co,wn,B)=>{"use strict";B.d(wn,{D:()=>Q});var Se=B(529),K=B(8505),Ge=B(262),h=B(2843),ee=B(9646),me=B(7550),Le=B(4650);let Q=(()=>{class w{constructor(e){this.http=e}getAllParamRisque(){return this.http.get(`${me.g.API_ENDPOINT_param_risque}`).pipe((0,K.b)(e=>this.logs(e)),(0,Ge.K)(e=>this.handleEroor(e,e.error)))}getParamRisqueList(){return this.http.get(`${me.g.API_ENDPOINT_param_risque_list}`).pipe((0,K.b)(e=>this.logs(e)),(0,Ge.K)(e=>this.handleEroor(e,e.error)))}getListParamRisque(e){return this.http.get(`${me.g.API_ENDPOINT_details_param_risque_list}/${e}`).pipe((0,K.b)(xe=>this.logs(xe)),(0,Ge.K)(xe=>this.handleEroor(xe,xe.error)))}getParamRisqueById(e){return this.http.get(`${me.g.API_ENDPOINT_param_risque}/${e}`)}getParamRisqueByTypeRisque(e){return this.http.get(`${me.g.API_ENDPOINT_param_risque}/byTypeRisque/${e}`)}addParamRisque(e){const xe={headers:new Se.WM({"Content-Type":"application/json"})};return this.http.post(`${me.g.API_ENDPOINT_param_risque}`,e,xe).pipe((0,K.b)(n=>this.logs(n)),(0,Ge.K)(n=>this.handleEroor(n,n.error)))}updateParamRisque(e,xe){const n={headers:new Se.WM({"Content-Type":"application/json"})};return this.http.put(`${me.g.API_ENDPOINT_param_risque}/${xe}`,e,n).pipe((0,K.b)(i=>i),(0,Ge.K)(i=>(0,h._)(i.error)))}desableParamRisque(e,xe){const n={headers:new Se.WM({"Content-Type":"application/json"})};return this.http.put(`${me.g.API_ENDPOINT_param_risque}/desactiver/${e}/${xe}`,n).pipe((0,K.b)(i=>this.logs(i)),(0,Ge.K)(i=>this.handleEroor(i,i.error)))}getParamByProduit(e){const xe={headers:new Se.WM({"Content-Type":"application/json"})};return this.http.get(`${me.g.API_ENDPOINT_param_risque_all}/${e}`,xe).pipe((0,K.b)(n=>this.logs(n)),(0,Ge.K)(n=>this.handleEroor(n,null)))}getWorkFlowByProduit(e,xe){const n={headers:new Se.WM({"Content-Type":"application/json"})};return this.http.get(`${me.g.API_ENDPOINT_param_risque_devis_workflow}/${e}/${xe}`,n).pipe((0,K.b)(i=>this.logs(i)),(0,Ge.K)(i=>this.handleEroor(i,null)))}getParamRelation(e,xe){const n={headers:new Se.WM({"Content-Type":"application/json"})};return this.http.get(`${me.g.API_ENDPOINT_param_risque_relation}/${e}/${xe}`,n).pipe((0,K.b)(i=>i),(0,Ge.K)(i=>this.handleEroor(i,null)))}getTableParamParent(e){const xe={headers:new Se.WM({"Content-Type":"application/json"})};return this.http.get(`${me.g.API_ENDPOINT_param_risque_TABLE_PARENT}/${e}`,xe).pipe((0,K.b)(n=>n),(0,Ge.K)(n=>this.handleEroor(n,null)))}getActiviteProfessionnel(){const e={headers:new Se.WM({"Content-Type":"application/json"})};return this.http.get(`${me.g.API_ENDPOINT_param_risque_activite_professionnel}`,e).pipe((0,K.b)(xe=>xe),(0,Ge.K)(xe=>this.handleEroor(xe,null)))}getTableParamChild(e,xe){const n={headers:new Se.WM({"Content-Type":"application/json"})};return this.http.get(`${me.g.API_ENDPOINT_param_risque_TABLE_PARENT}/${e}/${xe}`,n).pipe((0,K.b)(i=>i),(0,Ge.K)(i=>this.handleEroor(i,null)))}logs(e){}handleEroor(e,xe){return(0,ee.of)(xe)}}return w.\u0275fac=function(e){return new(e||w)(Le.LFG(Se.eN))},w.\u0275prov=Le.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),w})()},8153:(co,wn,B)=>{"use strict";B.d(wn,{F:()=>Le});var Se=B(529),K=B(8505),Ge=B(262),h=B(9646),ee=B(7550),me=B(4650);let Le=(()=>{class Q{constructor(o){this.http=o}getAllPersonne(){return this.http.get(`${ee.g.API_ENDPOINT_personne}`).pipe((0,K.b)(o=>this.logs(o)),(0,Ge.K)(o=>this.handleEroor(o,o?.error)))}getAllPersonneIndex(o,e){return this.http.get(`${ee.g.API_ENDPOINT_personne}?pageNumber=${o}&pageSize=${e}`).pipe((0,K.b)(xe=>this.logs(xe)),(0,Ge.K)(xe=>this.handleEroor(xe,xe?.error)))}addPersonne(o,e){const xe={headers:new Se.WM({"Content-Type":"application/json"})};return this.http.post(`${ee.g.API_ENDPOINT_personne}/personne-${e}`,o,xe).pipe((0,K.b)(n=>this.logs(n)),(0,Ge.K)(n=>this.handleEroor(n,n?.error)))}getPersonneById(o){return this.http.get(`${ee.g.API_ENDPOINT_personne}/${o}`).pipe((0,K.b)(e=>this.logs(e)),(0,Ge.K)(e=>this.handleEroor(e,e?.error)))}getBenificiaireByPersonne(o){return this.http.get(`${ee.g.API_ENDPOINT_personne}/${o}/benificiaire`).pipe((0,K.b)(e=>this.logs(e)),(0,Ge.K)(e=>this.handleEroor(e,e?.error)))}updatePersonne(o,e,xe){const n={headers:new Se.WM({"Content-Type":"application/json"})};return this.http.post(`${ee.g.API_ENDPOINT_personne}/personne-${xe}/${e}`,o,n).pipe((0,K.b)(i=>this.logs(i)),(0,Ge.K)(i=>this.handleEroor(i,i?.error)))}filterPersonne(o){const e={headers:new Se.WM({"Content-Type":"application/json"})};return this.http.post(`${ee.g.API_ENDPOINT_personne}/filtre`,o,e).pipe((0,K.b)(xe=>this.logs(xe)),(0,Ge.K)(xe=>this.handleEroor(xe,xe?.error)))}getAllPersonneMorale(){return new Se.WM({"Content-Type":"application/json"}),this.http.get(`${ee.g.API_ENDPOINT_personne_morale}`).pipe((0,K.b)(e=>this.logs(e)),(0,Ge.K)(e=>this.handleEroor(e,[])))}logs(o){}handleEroor(o,e){return(0,h.of)(e)}}return Q.\u0275fac=function(o){return new(o||Q)(me.LFG(Se.eN))},Q.\u0275prov=me.Yz7({token:Q,factory:Q.\u0275fac,providedIn:"root"}),Q})()},7947:(co,wn,B)=>{"use strict";B.d(wn,{d:()=>Le});var Se=B(529),K=B(8505),Ge=B(262),h=B(9646),ee=B(7550),me=B(4650);let Le=(()=>{class Q{constructor(o){this.http=o}getAllProduits(){const o={headers:new Se.WM({"Content-Type":"application/json","Access-Control-Allow-Origin":"*"})};return this.http.get(`${ee.g.API_ENDPOINT_produit}`,o).pipe((0,K.b)(e=>this.logs(e)),(0,Ge.K)(e=>this.handleEroor(e,e.error)))}getProduitById(o){return this.http.get(`${ee.g.API_ENDPOINT_produit}/${o}`).pipe((0,K.b)(e=>this.logs(e)),(0,Ge.K)(e=>this.handleEroor(e,e.error)))}updateProduit(o,e){const xe={headers:new Se.WM({"Content-Type":"application/json"})};return this.http.put(`${ee.g.API_ENDPOINT_produit}/${o}`,e,xe).pipe((0,K.b)(n=>this.logs(n)),(0,Ge.K)(n=>this.handleEroor(n,n.error)))}addProduit(o){const e={headers:new Se.WM({"Content-Type":"application/json"})};return this.http.post(`${ee.g.API_ENDPOINT_produit}`,o,e).pipe((0,K.b)(xe=>this.logs(xe)),(0,Ge.K)(xe=>this.handleEroor(xe,xe.error)))}logs(o){}handleEroor(o,e){return(0,h.of)(e)}}return Q.\u0275fac=function(o){return new(o||Q)(me.LFG(Se.eN))},Q.\u0275prov=me.Yz7({token:Q,factory:Q.\u0275fac,providedIn:"root"}),Q})()},3388:(co,wn,B)=>{"use strict";B.d(wn,{w:()=>Le});var Se=B(529),K=B(8505),Ge=B(262),h=B(2843),ee=B(7550),me=B(4650);let Le=(()=>{class Q{constructor(o){this.http=o}addReduction(o){const e={headers:new Se.WM({"Content-Type":"application/json"})};return this.http.post(`${ee.g.API_ENDPOINT_TEST_REDUCTION}`,o,e).pipe((0,K.b)(xe=>this.logs(xe)),(0,Ge.K)(xe=>(0,h._)(xe.error)))}getReductionById(o){const e={headers:new Se.WM({"Content-Type":"application/json"})};return this.http.get(`${ee.g.API_ENDPOINT_TEST_REDUCTION}/${o}`,e).pipe((0,K.b)(xe=>this.logs(xe)),(0,Ge.K)(xe=>(0,h._)(xe.error)))}getAllReduction(){const o={headers:new Se.WM({"Content-Type":"application/json"})};return this.http.get(`${ee.g.API_ENDPOINT_TEST_REDUCTION}`,o).pipe((0,K.b)(e=>this.logs(e)),(0,Ge.K)(e=>(0,h._)(e.error)))}reductionFiltre(o){const e={headers:new Se.WM({"Content-Type":"application/json"})};return this.http.post(`${ee.g.API_ENDPOINT_TEST_REDUCTION_FILTRE}`,o,e).pipe((0,K.b)(xe=>this.logs(xe)),(0,Ge.K)(xe=>(0,h._)(xe.error)))}getReductionByProduit(o){const e={headers:new Se.WM({"Content-Type":"application/json"})};return this.http.get(`${ee.g.API_ENDPOINT_TEST_REDUCTION}/${o}`,e).pipe((0,K.b)(xe=>this.logs(xe)),(0,Ge.K)(xe=>(0,h._)(xe.error)))}getReductionByConvention(o){const e={headers:new Se.WM({"Content-Type":"application/json"})};return this.http.get(`${ee.g.API_ENDPOINT_TEST_REDUCTION_BY_CONVENTION}/${o}`,e).pipe((0,K.b)(xe=>this.logs(xe)),(0,Ge.K)(xe=>(0,h._)(xe.error)))}desactiverReduction(o,e){const xe={headers:new Se.WM({"Content-Type":"application/json"})};return this.http.put(`${ee.g.API_ENDPOINT_TEST_REDUCTION}/${e}`,o,xe).pipe((0,K.b)(n=>this.logs(n)),(0,Ge.K)(n=>(0,h._)(n.error)))}applyReduction(o){const e={headers:new Se.WM({"Content-Type":"application/json",skip:""})};return this.http.post(`${ee.g.API_ENDPOINT_TEST_REDUCTION_DEVIS}`,o,e).pipe((0,K.b)(xe=>this.logs(xe)),(0,Ge.K)(xe=>(0,h._)(xe.error)))}logs(o){}}return Q.\u0275fac=function(o){return new(o||Q)(me.LFG(Se.eN))},Q.\u0275prov=me.Yz7({token:Q,factory:Q.\u0275fac,providedIn:"root"}),Q})()},5120:(co,wn,B)=>{"use strict";B.d(wn,{m:()=>xe});var Se=B(529),K=B(8505),Ge=B(262),h=B(2843),ee=B(7550),me=B(4641),Q=B(4650),w=B(8661),o=B(3776);const e={headers:new Se.WM({"Content-Type":"application/json","Access-Control-Allow-Origin":"*"})};let xe=(()=>{class n{constructor(Z,O,J){this.http=Z,this.authentificationService=O,this.genericService=J}addSinistre(Z){return this.http.post(`${ee.g.API_ENDPOINT_TEST_SINISTRE}`,Z,e).pipe((0,K.b)(O=>O),(0,Ge.K)(O=>(0,h._)(O.error)))}getAllSinistres(Z,O,J){return this.http.get(`${ee.g.API_ENDPOINT_TEST_SINISTRE}/${Z}?pageNumber=${J}&pageSize=${O}`,e).pipe((0,K.b)(he=>he),(0,Ge.K)(he=>(0,h._)(he.error)))}getSinistreByCode(Z){return this.http.get(`${ee.g.API_ENDPOINT_TEST_SINISTRE_BY_CODE}/${Z}`,e).pipe((0,K.b)(O=>this.fillInfo(O)),(0,Ge.K)(O=>(0,h._)(O.error)))}fillInfo(Z){this.genericService.getWilayaById(Z?.contratHistorique?.risqueList?.find(O=>"P246"==O?.paramRisque?.codeParam||"P125"==O?.paramRisque?.codeParam)?.valeur??1).subscribe({next:O=>{this.wilayas=O,this.genericService.getCommuneById(Z?.contratHistorique?.risqueList?.find(J=>"P246"==J?.paramRisque?.codeParam||"P125"==J?.paramRisque?.codeParam)?.valeur??1).subscribe({next:J=>{this.Commune=J;let he={codeSinistre:Z?.codeSinistre,idContrat:Z.contratHistorique?.idContrat?.idContrat,dateSurvenance:Z?.dateSurvenance,immatriculation:Z?.contratHistorique?.risqueList?.find(Ze=>"P38"==Ze?.paramRisque?.codeParam&&Ze?.risque==Z?.codeRisque)?.valeur,adresse:Z?.contratHistorique?.risqueList?.find(Ze=>"P245"==Ze?.paramRisque?.codeParam||"P106"==Ze?.paramRisque?.codeParam||"P141"==Ze?.paramRisque?.codeParam)?.valeur,wilaya:this.wilayas?.description,commune:this.Commune?.description,codeRisque:Z?.codeRisque,nomAssure:Z?.contratHistorique?.contratPersonneRoleList?.find(Ze=>"CP235"==Ze?.role?.code||"CP236"==Ze?.role?.code||"CP238"==Ze?.role?.code||"CP240"==Ze?.role?.code)?.personne?.nom,prenomAssure:Z?.contratHistorique?.contratPersonneRoleList?.find(Ze=>"CP235"==Ze?.role?.code||"CP236"==Ze?.role?.code||"CP238"==Ze?.role?.code||"CP240"==Ze?.role?.code)?.personne?.prenom1,raisonSocial:Z?.contratHistorique?.contratPersonneRoleList?.find(Ze=>"CP235"==Ze?.role?.code||"CP236"==Ze?.role?.code||"CP238"==Ze?.role?.code||"CP240"==Ze?.role?.code)?.personne?.raisonSocial};sessionStorage.setItem("infoSinistre",JSON.stringify(he))},error:J=>{console.log(J)}})},error:O=>{console.log(O)}})}getDictionnaire(Z){return this.http.get(`${ee.g.API_ENDPOINT_dictionnaire}/${Z}`)}getParam(Z){return this.http.get(`${ee.g.API_ENDPOINT_dictionnaire}/${Z}`).pipe((0,K.b)(O=>O),(0,Ge.K)(O=>(0,h._)(O.error)))}getParams(Z){return this.http.get(`${ee.g.API_ENDPOINT_dictionnaire}/${Z}`).pipe((0,K.b)(O=>O),(0,Ge.K)(O=>(0,h._)(O.error)))}getSinistreByID(Z){return this.http.get(`${ee.g.API_ENDPOINT_TEST_SINISTRE_BY_ID}/${Z}`,e).pipe((0,K.b)(O=>O),(0,Ge.K)(O=>(0,h._)(O.error)))}filterSinistre(Z,O,J){return this.http.post(`${ee.g.API_ENDPOINT_TEST_SINISTRE_FILTER}?pageNumber=${O}&pageSize=${J}`,Z,e).pipe((0,K.b)(he=>he),(0,Ge.K)(he=>(0,h._)(he.error)))}getPolicyInformations(Z){return this.http.post(`${ee.g.API_ENDPOINT_CONTRAT_HISTO}`,Z,e).pipe((0,K.b)(O=>O),(0,Ge.K)(O=>(0,h._)(O.error)))}getPolicyInformationsByRisque(Z,O){return this.http.post(`${ee.g.API_ENDPOINT_CONTRAT_HISTO_RISQUE}/${O}`,Z,e).pipe((0,K.b)(J=>J),(0,Ge.K)(J=>(0,h._)(J.error)))}getIfExisteDoublon(Z){return this.http.post(`${ee.g.API_ENDPOINT_TEST_SINISTRE_DOUBLONS}`,Z,e).pipe((0,K.b)(O=>O),(0,Ge.K)(O=>(0,h._)(O.error)))}getIfExisteDoublonWithZone(Z){return this.http.post(`${ee.g.API_ENDPOINT_TEST_SINISTRE_DOUBLONS_ZONE}`,Z,e).pipe((0,K.b)(O=>O),(0,Ge.K)(O=>(0,h._)(O.error)))}getByLien(Z){return this.http.get(`${ee.g.API_ENDPOINT_TEST_GET_BY_LIEN}/${Z}`,e).pipe((0,K.b)(O=>O),(0,Ge.K)(O=>(0,h._)(O.error)))}getNatureSinistre(Z){let O={headers:new Se.WM({"Content-Type":"application/json","Access-Control-Allow-Origin":"*"}),responseType:"text"};return this.http.post(`${ee.g.API_ENDPOINT_TEST_SINISTRE_NATURE}`,Z,O).pipe((0,K.b)(J=>J),(0,Ge.K)(J=>(0,h._)(J.error)))}updateInfosSinistre(Z,O,J){return this.http.put(`${ee.g.API_ENDPOINT_TEST_SINISTRE_UPDATE_INFOS}/${O}/codeProduit/${J}`,Z,e).pipe((0,K.b)(he=>he),(0,Ge.K)(he=>(0,h._)(he.error)))}updateInfosPersonne(Z,O){return this.http.put(`${ee.g.API_ENDPOINT_TEST_SINISTRE_UPDATE_PERSONNE}/${O}`,Z,e).pipe((0,K.b)(J=>J),(0,Ge.K)(J=>(0,h._)(J.error)))}addPersonne(Z,O){return this.http.post(`${ee.g.API_ENDPOINT_TEST_SINISTRE_ADD_PERSONNE}/${O}`,Z,e).pipe((0,K.b)(J=>J),(0,Ge.K)(J=>(0,h._)(J.error)))}desistementSinistre(Z){let O={headers:new Se.WM({"Content-Type":"application/json","Access-Control-Allow-Origin":"*"}),responseType:"text"};return this.http.put(`${ee.g.API_ENDPOINT_TEST_SINISTRE_DESISTER_SINISTRE}/${Z}`,null,O).pipe((0,K.b)(J=>J),(0,Ge.K)(J=>(0,h._)(J.error)))}AddFraude(Z,O){return this.http.post(`${ee.g.API_ENDPOINT_TEST_SINISTRE_FRAUDE}/${O}`,Z,e).pipe((0,K.b)(J=>J),(0,Ge.K)(J=>(0,h._)(J.error)))}updateFraude(Z,O){return this.http.put(`${ee.g.API_ENDPOINT_TEST_SINISTRE_UPDATE_FRAUDE}/${O}`,Z,e).pipe((0,K.b)(J=>J),(0,Ge.K)(J=>(0,h._)(J.error)))}editAssisteur(Z,O){return this.http.put(`${ee.g.API_ENDPOINT_TEST_SINISTRE_EDIT_ASSISTEUR}/${O}`,Z,e).pipe((0,K.b)(J=>J),(0,Ge.K)(J=>(0,h._)(J.error)))}addAssisteur(Z,O){return this.http.post(`${ee.g.API_ENDPOINT_TEST_SINISTRE_ADD_ASSISTEUR}/${O}`,Z,e).pipe((0,K.b)(J=>J),(0,Ge.K)(J=>(0,h._)(J.error)))}annulerSinistre(Z){let O={headers:new Se.WM({"Content-Type":"application/json","Access-Control-Allow-Origin":"*"}),responseType:"text"};return this.http.put(`${ee.g.API_ENDPOINT_TEST_SINISTRE_CANCEL}/${Z}`,null,O).pipe((0,K.b)(J=>J),(0,Ge.K)(J=>(0,h._)(J.error)))}reouvrirSinistre(Z){let O={headers:new Se.WM({"Content-Type":"application/json","Access-Control-Allow-Origin":"*"}),responseType:"text"};return this.http.put(`${ee.g.API_ENDPOINT_TEST_SINISTRE_REOPEN}/${Z}`,null,O).pipe((0,K.b)(J=>J),(0,Ge.K)(J=>(0,h._)(J.error)))}cloturerSinistre(Z,O){let J={headers:new Se.WM({"Content-Type":"application/json","Access-Control-Allow-Origin":"*"}),responseType:"text"};return this.http.put(`${ee.g.API_ENDPOINT_TEST_SINISTRE_CLOTURER}/${Z}`,O,J).pipe((0,K.b)(he=>he),(0,Ge.K)(he=>(0,h._)(he.error)))}getInfoModifSinistre(Z){return this.http.put(`${ee.g.API_ENDPOINT_TEST_SINISTRE_GET_INFOMODIF}/${Z}`,null,e).pipe((0,K.b)(O=>O),(0,Ge.K)(O=>(0,h._)(O.error)))}getInfosModif(Z){return this.http.get(`${ee.g.API_ENDPOINT_TEST_SINISTRE_GET_INFOMODIF}/${Z}`,e).pipe((0,K.b)(O=>O),(0,Ge.K)(O=>(0,h._)(O.error)))}getReserveByCodeSinistre(Z){return this.http.get(`${ee.g.API_ENDPOINT_TEST_SINISTRE_GET_RESERVE_PAIEMENT}/${Z}`,e).pipe((0,K.b)(O=>O),(0,Ge.K)(O=>(0,h._)(O.error)))}getReserveById(Z){return this.http.get(`${ee.g.API_ENDPOINT_TEST_SINISTRE_GET_RESERVE_BYID}/${Z}`,e).pipe((0,K.b)(O=>O),(0,Ge.K)(O=>(0,h._)(O.error)))}getReserveNames(Z,O){return this.http.get(`${ee.g.API_ENDPOINT_TEST_SINISTRE_GET_RESERVE_BYID}/${O}/${Z}`,e).pipe((0,K.b)(J=>J),(0,Ge.K)(J=>(0,h._)(J.error)))}getRecoursTab(Z,O){return this.http.get(`${ee.g.API_ENDPOINT_TEST_SINISTRE_GET_RESERVE_RECOURS_TAB}/${Z}/${O}`,e).pipe((0,K.b)(J=>J),(0,Ge.K)(J=>(0,h._)(J.error)))}createRecours(Z,O){return this.http.post(`${ee.g.API_ENDPOINT_TEST_SINISTRE_RESERVE_RECOURS_CREATE}/${O}`,Z,e).pipe((0,K.b)(J=>J),(0,Ge.K)(J=>(0,h._)(J.error)))}getModifierReserveByCodeGarantieAndCodeReserve(Z,O){let J={headers:new Se.WM({"Content-Type":"application/json","Access-Control-Allow-Origin":"*"}),responseType:"text"};return this.http.put(`${ee.g.API_ENDPOINT_TEST_SINISTRE_MODIFIER_RESERVE}/${Z}`,O,J).pipe((0,K.b)(he=>he),(0,Ge.K)(he=>(0,h._)(he.error)))}transferRecour(Z){return this.http.put(`${ee.g.API_ENDPOINT_RECOUR_SINISTRE}/${Z}`,e).pipe((0,K.b)(O=>O),(0,Ge.K)(O=>(0,h._)(O.error)))}getInfoRecours(Z,O,J,he){return this.http.get(`${ee.g.API_ENDPOINT_TEST_SINISTRE_RESERVE_GET_RECOURS}/${Z}/${O}/${J}/${he}`,e).pipe((0,K.b)(Ze=>Ze),(0,Ge.K)(Ze=>(0,h._)(Ze.error)))}updateRecours(Z){return this.http.put(`${ee.g.API_ENDPOINT_TEST_SINISTRE_RESERVE_RECOURS_UPDATE}`,Z,e).pipe((0,K.b)(O=>O),(0,Ge.K)(O=>(0,h._)(O.error)))}addBenef(Z){return this.http.post(`${ee.g.API_ENDPOINT_TEST_SINISTRE_RESERVE_RECOURS_ADDBENEF}`,Z,e).pipe((0,K.b)(O=>O),(0,Ge.K)(O=>(0,h._)(O.error)))}getAllBenefByOR(Z){return this.http.get(`${ee.g.API_ENDPOINT_TEST_SINISTRE_RESERVE_RECOURS_ALLBENEF}/${Z}`,e).pipe((0,K.b)(O=>O),(0,Ge.K)(O=>(0,h._)(O.error)))}addOR(Z){return this.http.post(`${ee.g.API_ENDPOINT_TEST_SINISTRE_RESERVE_CREATE_OR}`,Z,e).pipe((0,K.b)(O=>O),(0,Ge.K)(O=>(0,h._)(O.error)))}getAllOrByIdRecours(Z){return this.http.get(`${ee.g.API_ENDPOINT_TEST_SINISTRE_RESERVE_CREATE_OR}/${Z}`,e).pipe((0,K.b)(O=>O),(0,Ge.K)(O=>(0,h._)(O.error)))}addOp(Z,O,J,he){return this.http.post(`${ee.g.API_ENDPOINT_TEST_CREATE_OP}/${Z}/${J}/${O}`,he,e).pipe((0,K.b)(Ze=>Ze),(0,Ge.K)(Ze=>(0,h._)(Ze.error)))}getListExpert(Z){return this.http.get(`${ee.g.API_ENDPOINT_TEST_LIST_EXPERT}/${Z}`,e).pipe((0,K.b)(O=>O),(0,Ge.K)(O=>(0,h._)(O.error)))}getOpBySinistre(Z){return this.http.get(`${ee.g.API_ENDPOINT_TEST_OP_BY_SINISTRE}/${Z}`,e).pipe((0,K.b)(O=>O),(0,Ge.K)(O=>(0,h._)(O.error)))}getTiers(Z){return this.http.get(`${ee.g.API_ENDPOINT_TEST_OP_LIST_TIERS}/${Z}`,e).pipe((0,K.b)(O=>O),(0,Ge.K)(O=>(0,h._)(O.error)))}getBlesses(Z){return this.http.get(`${ee.g.API_ENDPOINT_TEST_OP_LIST_BLESSE}/${Z}`,e).pipe((0,K.b)(O=>O),(0,Ge.K)(O=>(0,h._)(O.error)))}filterOp(Z,O){return this.http.post(`${ee.g.API_ENDPOINT_TEST_OP_FILTER}/${O}`,Z,e).pipe((0,K.b)(J=>J),(0,Ge.K)(J=>(0,h._)(J.error)))}getOpById(Z){return this.http.get(`${ee.g.API_ENDPOINT_TEST_OP_BY_ID}/${Z}`,e).pipe((0,K.b)(O=>O),(0,Ge.K)(O=>(0,h._)(O.error)))}approuvOp(Z,O,J){return this.http.put(`${ee.g.API_ENDPOINT_TEST_OP_APPROUVE}/${Z}/${O}/${J}`,e).pipe((0,K.b)(he=>he),(0,Ge.K)(he=>(0,h._)(he.error)))}annulationOp(Z,O){let J={headers:new Se.WM({"Content-Type":"application/json","Access-Control-Allow-Origin":"*"}),responseType:"text"};return this.http.put(`${ee.g.API_ENDPOINT_TEST_OP_ANNULATION}/${Z}/${O}`,J).pipe((0,K.b)(he=>he),(0,Ge.K)(he=>(0,h._)(he.error)))}annulationReserve(Z){let O={headers:new Se.WM({"Content-Type":"application/json","Access-Control-Allow-Origin":"*"}),responseType:"text"};return this.http.put(`${ee.g.API_ENDPOINT_TEST_SINISTRE_CANCEL_RESERVE}/${Z}`,null,O).pipe((0,K.b)(J=>J),(0,Ge.K)(J=>(0,h._)(J.error)))}outputClassement(Z,O){let J=Z?.contratHistorique,he=J?.contratPersonneRoleList?.find(l=>235==l?.role?.idParam||236==l?.role?.idParam||238==l?.role?.idParam||280==l?.role?.idParam)?.personne;const Ze={watermark:{text:"",color:"blue",opacity:.1},pageMargins:[45,90,45,60],border:[!1,!1,!1,!1],content:[{layout:"noBorders",style:"table",table:{widths:["*","*"],alignment:"center",body:[[{text:[{text:"Police d'assurance N\xb0 : ",bold:!0,fontSize:"12"},{text:J?.idContrat?.idContrat,fontSize:"12"}],alignment:"left"},{text:[{text:"Assur\xe9(e) : ",bold:!0,fontSize:"12"},{text:null!=he?.raisonSocial?he?.raisonSocial:he?.nom+" "+he?.prenom1,fontSize:"12"}],alignment:"left"}],[{text:[{text:"Dossier sinistre N\xb0 : ",bold:!0,fontSize:"12"},{text:Z?.codeSinistre,fontSize:"12"}],alignment:"left"},{text:[{text:"Adresse assur\xe9(e) : ",bold:!0,fontSize:"12"},{text:he?.adressesList[he?.adressesList.length-1]?.description,fontSize:"12"}],alignment:"left"}],[{text:[{text:"Date sinistre : ",bold:!0,fontSize:"12"},{text:Z?.dateSurvenance?.split("T")[0],fontSize:"12"}],alignment:"left"},{}]]}},{text:"Madame, Monsieur,\n          \nAu titre de l'affaire sus vis\xe9e, et des suites de l'\xe9tude de votre dossier de demande d'indemnisation, nous avons le regret de porter \xe0 votre connaissance le classement sans suite de votre dossier.\n          \nLa pr\xe9sente d\xe9cision est motiv\xe9e du fait :",fontSize:12,color:"black"},"CP535"!=O?.sousMotif?.code?{style:"table",table:{widths:[10,"*"],alignment:"center",body:[[{text:[{text:"CP527"==O?.sousMotif?.code?"X":" ",bold:!0,fontSize:"12"}],alignment:"center"},{text:[{text:"\u2022  Absence de garantie(s).",bold:!0,fontSize:"12"}],alignment:"left"}],[{text:[{text:"CP528"==O?.sousMotif?.code?"X":" ",bold:!0,fontSize:"12"}],alignment:"center"},{text:[{text:"\u2022  Sinistre n'entrant pas dans le cadre de la garantie.",bold:!0,fontSize:"12"}],alignment:"left"}],[{text:[{text:"CP529"==O?.sousMotif?.code?"X":" ",bold:!0,fontSize:"12"}],alignment:"center"},{text:[{text:"\u2022  Inexistence de dommage en rapport avec le sinistre.",bold:!0,fontSize:"12"}],alignment:"left"}],[{text:[{text:"CP530"==O?.sousMotif?.code?"X":" ",bold:!0,fontSize:"12"}],alignment:"center"},{text:[{text:"\u2022  Montant des dommages inf\xe9rieur \xe0 la franchise.",bold:!0,fontSize:"12"}],alignment:"left"}],[{text:[{text:"CP531"==O?.sousMotif?.code?"X":" ",bold:!0,fontSize:"12"}],alignment:"center"},{text:[{text:"\u2022  Exclusion  D\xe9ch\xe9ance.",bold:!0,fontSize:"12"}],alignment:"left"}],[{text:[{text:"CP532"==O?.sousMotif?.code?"X":" ",bold:!0,fontSize:"12"}],alignment:"center"},{text:[{text:"\u2022  Documents non pr\xe9sent\xe9s par le client.",bold:!0,fontSize:"12"}],alignment:"left"}],[{text:[{text:"CP533"==O?.sousMotif?.code?"X":" ",bold:!0,fontSize:"12"}],alignment:"center"},{text:[{text:"\u2022  Dommages ant\xe9rieurs.",bold:!0,fontSize:"12"}],alignment:"left"}],[{text:[{text:"CP534"==O?.sousMotif?.code?"X":" ",bold:!0,fontSize:"12"}],alignment:"center"},{text:[{text:"\u2022  Fraude av\xe9r\xe9e.",bold:!0,fontSize:"12"}],alignment:"left"}]]}}:{},{margin:[0,0,0,20],text:"Motif :",fontSize:12,color:"black"},{table:{widths:["100%"],alignment:"center",body:[[{text:[{text:O?.description,bold:!0,fontSize:"12"}],alignment:"left"}]]}},{text:"\nNous  vous  remercions  de  votre  confiance  renouvel\xe9e  et  vous  prions  de  croire,  Madame,  Monsieur, en l'expression de nos sentiments les plus distingu\xe9s.",fontSize:12,color:"black"},{style:"table",layout:"noBorders",table:{widths:["*","*"],alignment:"center",body:[[{text:[{text:"Fait \xe0 : ",bold:!0,fontSize:"12"},{text:"Alger",fontSize:"12"}],alignment:"left"},{text:"Signature :",bold:!0,fontSize:"12",alignment:"center"}],[{text:[{text:"Le : ",bold:!0,fontSize:"12"},{text:Z?.auditDate?.split("T")[0],fontSize:"12"}],alignment:"left"},{text:"",bold:!0,fontSize:"12",alignment:"left"}]]}}],styles:{sectionHeader:{bold:!0,color:"#d14723",fontSize:10,alignment:"right"},BG:{fontSize:8},table:{margin:[0,20,0,20]},headerTable:{alignment:"left",bold:!0,fontSize:12,color:"#00008F"}}};me.createPdf(Ze).download("Classement_sans_suite_"+Z?.codeSinistre)}outputOp(Z,O,J){let ot,he=Z?.sinistre?.contratHistorique,Ze=he?.contratPersonneRoleList?.find(tt=>235==tt?.role?.idParam||236==tt?.role?.idParam||238==tt?.role?.idParam||280==tt?.role?.idParam)?.personne,l=he?.risqueList,Ft={},ln=null!=Z?.decompteOp?Z?.decompteOp?.sinistreReserve?.codeGarantie:J?.decompteRecours?.sinistreReserve?.codeGarantie,ut=he?.paramContratList?.find(tt=>tt?.idPackComplet?.garantie?.codeGarantie==ln)?.idPackComplet?.garantie?.description;if(console.log("sinistre?.typeOp?.code ",Z?.typeOp?.code),console.log("sinistre ",Z),console.log("sinistre?.decompteOp?.expert ",Z?.decompteOp?.expert),console.log("sinistre?.decompteOp?.adversaire ",Z?.decompteOp?.adversaire),console.log("sinistre?.decompteOp?.adversaire ",Z?.decompteOp?.adversaire),96==Z?.sinistre?.produit?.codeProduit||95==Z?.sinistre?.produit?.codeProduit)console.log("sinistre",Z),ot={watermark:{text:"",color:"blue",opacity:.1},pageMargins:[45,130,45,90],border:[!1,!1,!1,!1],header:function(tt,Zt){return{layout:"noBorders",margin:[45,50,45,90],table:{widths:["*","*"],alignment:"center",body:[[{text:[{text:"Ordre de paiement N\xb0 : ",bold:!0,fontSize:"10"},{text:Z?.idSinistreOp,fontSize:"10"}],alignment:"left"},{text:[{text:"Page : ",bold:!0,fontSize:"10"},{text:tt,fontSize:"10"}],alignment:"right"}],[{text:[{text:"Assur\xe9(e) :",bold:!0,fontSize:"10"},{text:void 0!==Ze?.raisonSocial?Ze?.raisonSocial:Ze?.nom+" "+Ze?.prenom1,fontSize:"10"}],alignment:"left"},{}],[{text:[{text:"Cr\xe9dit preneur:",bold:!0,fontSize:"10"},{text:"",fontSize:"10"}],alignment:"left"},{}]]}}},content:[{style:"table",table:{widths:["15%","16.66%","18.98%","16.66%","16.66%","16%"],alignment:"center",body:[[{text:[{text:"N\xb0 Sinistre",bold:!0,fontSize:"10"}],style:"headerTable",alignment:"center"},{text:[{text:"Date sinistre",bold:!0,fontSize:"10"}],style:"headerTable",alignment:"center"},{text:[{text:"N\xb0 Police",bold:!0,fontSize:"10"}],style:"headerTable",alignment:"center"},{text:[{text:"Date d'effet",bold:!0,fontSize:"10"}],style:"headerTable",alignment:"center"},{text:[{text:"Date d'\xe9ch\xe9ance",bold:!0,fontSize:"10"}],style:"headerTable",alignment:"center"},{text:[{text:"Garantie affect\xe9e",bold:!0,fontSize:"10"}],style:"headerTable",alignment:"center"}],[{text:Z?.sinistreReserve?.sinistre.codeSinistre,fontSize:"10",alignment:"center"},{text:Z?.sinistreReserve?.sinistre.dateSurvenance?.split("T")[0],fontSize:"10",alignment:"center"},{text:he?.idContrat?.idContrat,fontSize:"10",alignment:"center"},{text:he?.dateEffet?.split("T")[0],fontSize:"10",alignment:"center"},{text:he?.dateExpiration?.split("T")[0],fontSize:"10",alignment:"center"},{text:ut,fontSize:"10",alignment:"center"}]]}},{style:"table",text:"Details du risqueM :",fontSize:10,color:"black"},{table:{widths:["50%","50%"],alignment:"center",body:[[{text:[{text:"Adresse",bold:!0,fontSize:"10"}],style:"headerTable",alignment:"center"},{text:[{text:"Agence de souscription",bold:!0,fontSize:"10"}],style:"headerTable",alignment:"center"}],[{text:l?.find(tt=>"P106"==tt.paramRisque?.codeParam)?.valeur,fontSize:"10",alignment:"center"},{text:Z?.sinistreReserve.sinistre.agence.idPersonneMorale.raisonSocial,fontSize:"10",alignment:"center"}]]}},{style:"table",text:"B\xe9n\xe9ficiaire / Details paiement :",fontSize:10,color:"black"},{table:{widths:["*","*","*"],alignment:"center",body:[[{text:[{text:"Identification",bold:!0,fontSize:"10"}],style:"headerTable",alignment:"center"},{text:[{text:"Type de b\xe9n\xe9ficiaire",bold:!0,fontSize:"10"}],style:"headerTable",alignment:"center"},{text:[{text:"Mode de paiement",bold:!0,fontSize:"10"}],style:"headerTable",alignment:"center"}],[{text:J?.nom+" "+J?.prenom+Ze?.raisonSocial!=null?Ze?.raisonSocial:Ze?.nom+" "+Ze?.prenom1,fontSize:"10",alignment:"center"},{text:"Assur\xe9",fontSize:"10",alignment:"center"},{text:Ft?.mode,fontSize:"10",alignment:"center"}]]}},{style:"table",text:"",fontSize:10,color:"black"},{table:{widths:["33%","33%","33%"],alignment:"center",body:[[{text:[{text:"D\xe9tail R\xe8glement :",bold:!0,fontSize:"10"}],style:"headerTable",alignment:"left",colSpan:2},{text:"",fontSize:"10",alignment:"center"}],[{text:"R\xe9f\xe9rence:",fontSize:"10",alignment:"center"},{text:Z?.decompteOp?.referenceDocument,fontSize:"10",alignment:"center"}]]}},{style:"table",text:"",fontSize:10,color:"black"},{table:{widths:["*","*","*"],alignment:"center",body:[[{text:[{text:"Observation du Bureau r\xe9gleur:",bold:!0,fontSize:"10"}],style:"headerTable",alignment:"left",colSpan:3},{},{}],[{text:"                                               ",fontSize:"10",alignment:"center",colSpan:3,margin:[0,10]},{text:"                                               ",fontSize:"10",alignment:"center",margin:[0,20]},{text:"                                               ",fontSize:"10",alignment:"center",margin:[0,10]}]]}},null!=Z?.decompteOp?.decomptePv?{style:"table",table:{widths:["16%","16%"],alignment:"left",body:[[{text:[{text:"D\xe9tail R\xe8glement :",bold:!0,fontSize:"10"}],style:"headerTable",colSpan:2,alignment:"center"},{}],[{text:[{text:"Visite de risque :",bold:!0,fontSize:"10"}],fontSize:"10",alignment:"center"},{text:Z?.decompteOp?.decomptePv?.visiteRisque?.description,fontSize:"10",alignment:"center"}],[{text:[{text:"Base calcul :",bold:!0,fontSize:"10"}],fontSize:"10",alignment:"center"},{text:Z?.decompteOp?.decomptePv?.calculHtTtc?.description,fontSize:"10",alignment:"center"}]]}}:{},null!=Z?.decompteOp?.decomptePv?{style:"table",pageBreak:"before",table:{widths:["25%","25%","25%","25%"],alignment:"center",body:[[{border:[!1,!1,!1,!1],text:""},{text:[{text:"Brut",bold:!0,fontSize:"10"}],style:"headerTable",alignment:"center"},{text:[{text:"Retenue",bold:!0,fontSize:"10"}],style:"headerTable",alignment:"center"},{text:[{text:"Brut\tRetenue\tObservation du Bureau r\xe9gleur",bold:!0,fontSize:"10"}],style:"headerTable",alignment:"center"}],[{text:"Main d'\u0153uvre :",fontSize:"10",alignment:"center"},{text:null!=Z?.decompteOp?.decomptePv?.sinistreDecompteInfos?.find(tt=>"CP460"==tt?.typeInfoDecompte?.code)?.brut?Z?.decompteOp?.decomptePv?.sinistreDecompteInfos?.find(tt=>"CP460"==tt?.typeInfoDecompte?.code)?.brut+" DZD":"",fontSize:"10",alignment:"center"},{border:[!1,!1,!1,!1],text:""},{text:Z?.decompteOp?.decomptePv?.sinistreDecompteInfos?.find(tt=>"CP460"==tt?.typeInfoDecompte?.code)?.motif?.description,fontSize:"10",rowSpan:14,alignment:"center"}],[{text:"Peinture",fontSize:"10",alignment:"center"},{text:null!=Z?.decompteOp?.decomptePv?.sinistreDecompteInfos?.find(tt=>"CP461"==tt?.typeInfoDecompte?.code)?.brut?Z?.decompteOp?.decomptePv?.sinistreDecompteInfos?.find(tt=>"CP461"==tt?.typeInfoDecompte?.code)?.brut+" DZD":"",fontSize:"10",alignment:"center"},{border:[!1,!1,!1,!1],text:""},{}],[{text:"Fourniture",fontSize:"10",alignment:"center"},{text:null!=Z?.decompteOp?.decomptePv?.sinistreDecompteInfos?.find(tt=>"CP462"==tt?.typeInfoDecompte?.code)?.brut?Z?.decompteOp?.decomptePv?.sinistreDecompteInfos?.find(tt=>"CP462"==tt?.typeInfoDecompte?.code)?.brut+" DZD":"",fontSize:"10",alignment:"center"},{text:null!=Z?.decompteOp?.decomptePv?.sinistreDecompteInfos?.find(tt=>"CP462"==tt?.typeInfoDecompte?.code)?.retenue?Z?.decompteOp?.decomptePv?.sinistreDecompteInfos?.find(tt=>"CP462"==tt?.typeInfoDecompte?.code)?.retenue+" DZD":"",fontSize:"10",alignment:"center"},{}],[{border:[!1,!1,!1,!1],text:""},{border:[!1,!1,!1,!1],text:""},{border:[!1,!1,!1,!1],text:""},{}],[{text:"Dommage brut",fontSize:"10",alignment:"center"},{text:Z?.decompteOp?.decomptePv?.dommageBrut+" DZD",fontSize:"10",alignment:"center"},{border:[!1,!1,!1,!1],text:""},{}],[{text:"V\xe9tust\xe9",fontSize:"10",alignment:"center"},{text:Z?.decompteOp?.decomptePv?.vetuste+" DZD",fontSize:"10",alignment:"center"},{border:[!1,!1,!1,!1],text:""},{}],[{text:"Dommage net de v\xe9tust\xe9",fontSize:"10",alignment:"center"},{text:Z?.decompteOp?.decomptePv?.dommageNetVetuste+" DZD",fontSize:"10",alignment:"center"},{border:[!1,!1,!1,!1],text:""},{}],[{border:[!1,!1,!1,!1],text:""},{border:[!1,!1,!1,!1],text:""},{border:[!1,!1,!1,!1],text:""},{}],[{text:"R\xe8gle proportionnel",fontSize:"10",alignment:"center"},{text:Z?.decompteOp?.decomptePv?.reglePropotionnel+" DZD",fontSize:"10",alignment:"center"},{text:Z?.decompteOp?.decomptePv?.reglePropotionnel+" DZD",fontSize:"10",alignment:"center"},{}],[{border:[!1,!1,!1,!1],text:""},{border:[!1,!1,!1,!1],text:""},{border:[!1,!1,!1,!1],text:""},{}],[{text:"Dommage net r\xe8gle proportionnel",fontSize:"10",alignment:"center"},{text:Z?.decompteOp?.decomptePv?.dommageNetRp+" DZD",fontSize:"10",alignment:"center"},{border:[!1,!1,!1,!1],text:""},{}],[{border:[!1,!1,!1,!1],text:""},{border:[!1,!1,!1,!1],text:""},{border:[!1,!1,!1,!1],text:""},{}],[{text:"Immobilisation",fontSize:"10",alignment:"center"},{text:Z?.decompteOp?.decomptePv?.immobilisation+" DZD",fontSize:"10",alignment:"center"},{border:[!1,!1,!1,!1],text:""},{}],[{text:"Franchise",fontSize:"10",alignment:"center"},{text:null!=Z?.decompteOp?.decomptePv?.franchise?Z?.decompteOp?.decomptePv?.franchise+" DZD":"",fontSize:"10",alignment:"center"},{border:[!1,!1,!1,!1],text:""},{}]]}}:{},{text:"",margin:[0,0,0,20]},{style:"table",table:{widths:["25%","25%","25%","25%"],alignment:"center",body:[[{text:[{text:"Total a r\xe9gl\xe9:",bold:!0,fontSize:"10"}],style:"headerTable",alignment:"center"},{text:null!=Z?.decompteOp?null==Z?.decompteOp?.decomptePv?Number(Z?.decompteOp?.montantTTC).toLocaleString("fi-FI",{minimumFractionDigits:2,maximumFractionDigits:2})+" DZD":Number(Z?.decompteOp?.decomptePv?.totalRegle).toLocaleString("fi-FI",{minimumFractionDigits:2,maximumFractionDigits:2})+" DZD":Number(Z?.montant).toLocaleString("fi-FI",{minimumFractionDigits:2,maximumFractionDigits:2})+" DZD",fontSize:"10",alignment:"center"},{border:[!1,!1,!1,!1],text:""},{border:[!1,!1,!1,!1],text:""}]]}},{text:"",margin:[0,0,0,20]},{style:"table",table:{widths:["50%","50%"],alignment:"center",body:[[{text:[{text:"Fait le :",bold:!0,fontSize:"10"},{text:Z?.auditDate?.split("T")[0],bold:!0,fontSize:"10"}],alignment:"left"},{text:[{text:"Ordonn\xe9 le :",bold:!0,fontSize:"10"}],alignment:"left"}],[{text:[{text:"Signature gestionnaire :\n",bold:!0,fontSize:"10"},{text:J?.userCreation?.nom+" "+J?.userCreation?.prenom,bold:!0,fontSize:"10"}],alignment:"left"},{text:[{text:"Signature de l'ordonnateur :\n",bold:!0,fontSize:"10"},{text:J?.userValidation?.nom+" "+J?.userValidation?.prenom,bold:!0,fontSize:"10"}],alignment:"left"}]]}}],styles:{sectionHeader:{bold:!0,color:"#d14723",fontSize:10,alignment:"right"},BG:{fontSize:8},table:{margin:[0,20,0,0]},headerTable:{alignment:"left",bold:!0,fontSize:10,color:"#00008F"}}},me.createPdf(ot).download("OP_"+Z?.codeOp);else{switch(Z?.typeOp?.code){case"OPA":Ft=null!=Z?.decompteOp?.benificiaire?{nom:Z?.decompteOp?.nom+" "+Z?.decompteOp?.prenom,type:Z?.decompteOp?.benificiaire?.description,mode:Z?.modeRecouvrement?.description}:{nom:null!=Ze?.raisonSocial?Ze?.raisonSocial:Ze?.nom+" "+Ze?.prenom1,type:"Assur\xe9",mode:Z?.modeRecouvrement?.description};break;case"OPP":Ft=null!=Z?.decompteOp?.expert?{nom:Z?.decompteOp?.expert?.idPersonneMorale?.raisonSocial,type:"Prestataire",mode:Z?.modeRecouvrement?.description}:{nom:Z?.decompteOp?.nom+" "+Z?.decompteOp?.prenom,type:"Prestataire",mode:Z?.modeRecouvrement?.description};break;case"OPT":Ft=null!=Z?.decompteOp.benificiaire?{nom:Z?.decompteOp?.nom+" "+Z?.decompteOp?.prenom,type:"Tiers",mode:Z?.modeRecouvrement?.description}:"CP405"==Z?.decompteOp?.sinistrePersonne?.compagnyAdverse?.code||null==Z?.decompteOp?.sinistrePersonne?.compagnyAdverse?{nom:Z?.decompteOp?.sinistrePersonne?.nom+" "+Z?.decompteOp?.sinistrePersonne?.prenom,type:"Tiers",mode:Z?.modeRecouvrement?.description}:{nom:Z?.decompteOp?.sinistrePersonne?.compagnyAdverse?.description,type:"Tiers",mode:Z?.modeRecouvrement?.description};break;case"OPE":Ft={nom:Z?.decompteOp?.expert?.nom+" "+Z?.decompteOp?.expert?.prenom,type:"Expert",mode:Z?.modeRecouvrement?.description};break;case"ROR":Ft={nom:J?.nom+" "+J?.prenom,type:J?.typeBeneficiaire?.description,mode:Z?.modeRecouvrement?.description}}let tt={watermark:{text:"",color:"blue",opacity:.1},pageMargins:[45,130,45,90],border:[!1,!1,!1,!1],header:function(Zt,nn){return{layout:"noBorders",margin:[45,90,45,90],table:{widths:["*","*"],alignment:"center",body:[[{text:[{text:"Ordre de paiement N\xb0 : ",bold:!0,fontSize:"10"},{text:Z?.idSinistreOp,fontSize:"10"}],alignment:"left"},{text:[{text:"Page : ",bold:!0,fontSize:"10"},{text:Zt,fontSize:"10"}],alignment:"right"}],[{text:[{text:"Assur\xe9(e) : ",bold:!0,fontSize:"10"},{text:null!=Ze?.raisonSocial?Ze?.raisonSocial:Ze?.nom+" "+Ze?.prenom1,fontSize:"10"}],alignment:"left"},{}]]}}},content:[{style:"table",table:{widths:["15%","16.66%","18.98%","16.66%","16.66%","16%"],alignment:"center",body:[[{text:[{text:"N\xb0 Sinistre",bold:!0,fontSize:"10"}],style:"headerTable",alignment:"center"},{text:[{text:"Date sinistre",bold:!0,fontSize:"10"}],style:"headerTable",alignment:"center"},{text:[{text:"N\xb0 Police",bold:!0,fontSize:"10"}],style:"headerTable",alignment:"center"},{text:[{text:"Date d'effet",bold:!0,fontSize:"10"}],style:"headerTable",alignment:"center"},{text:[{text:"Date d'\xe9ch\xe9ance",bold:!0,fontSize:"10"}],style:"headerTable",alignment:"center"},{text:[{text:"Garantie affect\xe9e",bold:!0,fontSize:"10"}],style:"headerTable",alignment:"center"}],[{text:Z?.sinistreReserve?.sinistre?.codeSinistre,fontSize:"10",alignment:"center"},{text:Z?.sinistreReserve?.sinistre?.dateSurvenance?.split("T")[0],fontSize:"10",alignment:"center"},{text:he?.idContrat?.idContrat,fontSize:"10",alignment:"center"},{text:he?.dateEffet?.split("T")[0],fontSize:"10",alignment:"center"},{text:he?.dateExpiration?.split("T")[0],fontSize:"10",alignment:"center"},{text:ut,fontSize:"10",alignment:"center"}]]}},{style:"table",text:"Details du risqueA :",fontSize:10,color:"black"},{table:{widths:["33%","33%","33%"],alignment:"center",body:[[{text:[{text:"Immatriculation",bold:!0,fontSize:"10"}],style:"headerTable",alignment:"center"},{text:[{text:"N\xb0 Ch\xe2ssis",bold:!0,fontSize:"10"}],style:"headerTable",alignment:"center"},{text:[{text:"Agence de souscription",bold:!0,fontSize:"10"}],style:"headerTable",alignment:"center"}],[{text:l?.find(Zt=>"P38"==Zt?.paramRisque?.codeParam&&Z?.sinistre?.codeRisque==Zt.risque)?.valeur,fontSize:"10",alignment:"center"},{text:l?.find(Zt=>"P30"==Zt?.paramRisque?.codeParam&&Z?.sinistre?.codeRisque==Zt.risque)?.valeur,fontSize:"10",alignment:"center"},{text:he?.agence?.idPersonneMorale?.raisonSocial,fontSize:"10",alignment:"center"}]]}},{style:"table",text:"Historique souscription et sinistre :",fontSize:10,color:"black"},this.table(O,["Type mouvement","Date d'effet","Formule","Date sinistre","Cause","Statut"]),{table:{widths:["16.66%","16.66%","16.66%","16.66%","16.66%","16.66%"],alignment:"center",body:[[{border:[!0,!1,!0,!0],text:""},{border:[!0,!1,!0,!0],text:""},{border:[!0,!1,!0,!0],text:""},{border:[!0,!1,!0,!0],text:Z?.sinistreReserve?.sinistre?.dateSurvenance?.split("T")[0],fontSize:"10",alignment:"center"},{border:[!0,!1,!0,!0],text:Z?.sinistreReserve?.sinistre?.causeSinistre?.description,fontSize:"10",alignment:"center"},{border:[!0,!1,!0,!0],text:Z?.statut?.description,fontSize:"10",alignment:"center"}]]}},{style:"table",text:"B\xe9n\xe9ficiaire / Details paiement :",fontSize:10,color:"black"},{table:{widths:["*","*","*"],alignment:"center",body:[[{text:[{text:"Identification",bold:!0,fontSize:"10"}],style:"headerTable",alignment:"center"},{text:[{text:"Type de b\xe9n\xe9ficiaire",bold:!0,fontSize:"10"}],style:"headerTable",alignment:"center"},{text:[{text:"Mode de paiement",bold:!0,fontSize:"10"}],style:"headerTable",alignment:"center"}],[{text:null==Ft?.nom?Z?.decompteOp?.sinistrePersonne?.nom+" "+Z?.decompteOp?.sinistrePersonne?.prenom:Ft?.nom,fontSize:"10",alignment:"center"},{text:Ft?.type,fontSize:"10",alignment:"center"},{text:Ft?.mode,fontSize:"10",alignment:"center"}]]}},null!=Z?.decompteOp?.decomptePv?{style:"table",table:{widths:["16%","16%"],alignment:"left",body:[[{text:[{text:"D\xe9tail R\xe8glement :",bold:!0,fontSize:"10"}],style:"headerTable",colSpan:2,alignment:"center"},{}],[{text:[{text:"Visite de risque :",bold:!0,fontSize:"10"}],fontSize:"10",alignment:"center"},{text:Z?.decompteOp?.decomptePv?.visiteRisque?.description,fontSize:"10",alignment:"center"}],[{text:[{text:"Base calcul :",bold:!0,fontSize:"10"}],fontSize:"10",alignment:"center"},{text:Z?.decompteOp?.decomptePv?.calculHtTtc?.description,fontSize:"10",alignment:"center"}]]}}:{},null!=Z?.decompteOp?.decomptePv?{style:"table",pageBreak:"before",table:{widths:["25%","25%","25%","25%"],alignment:"center",body:[[{border:[!1,!1,!1,!1],text:""},{text:[{text:"Brut",bold:!0,fontSize:"10"}],style:"headerTable",alignment:"center"},{text:[{text:"Retenue",bold:!0,fontSize:"10"}],style:"headerTable",alignment:"center"},{text:[{text:"Brut\tRetenue\tObservation du Bureau r\xe9gleur",bold:!0,fontSize:"10"}],style:"headerTable",alignment:"center"}],[{text:"Main d'\u0153uvre :",fontSize:"10",alignment:"center"},{text:null!=Z?.decompteOp?.decomptePv?.sinistreDecompteInfos?.find(Zt=>"CP460"==Zt?.typeInfoDecompte?.code)?.brut?Z?.decompteOp?.decomptePv?.sinistreDecompteInfos?.find(Zt=>"CP460"==Zt?.typeInfoDecompte?.code)?.brut+" DZD":"",fontSize:"10",alignment:"center"},{border:[!1,!1,!1,!1],text:""},{text:Z?.decompteOp?.decomptePv?.sinistreDecompteInfos?.find(Zt=>"CP460"==Zt?.typeInfoDecompte?.code)?.motif?.description,fontSize:"10",rowSpan:14,alignment:"center"}],[{text:"Peinture",fontSize:"10",alignment:"center"},{text:null!=Z?.decompteOp?.decomptePv?.sinistreDecompteInfos?.find(Zt=>"CP461"==Zt?.typeInfoDecompte?.code)?.brut?Z?.decompteOp?.decomptePv?.sinistreDecompteInfos?.find(Zt=>"CP461"==Zt?.typeInfoDecompte?.code)?.brut+" DZD":"",fontSize:"10",alignment:"center"},{border:[!1,!1,!1,!1],text:""},{}],[{text:"Fourniture",fontSize:"10",alignment:"center"},{text:null!=Z?.decompteOp?.decomptePv?.sinistreDecompteInfos?.find(Zt=>"CP462"==Zt?.typeInfoDecompte?.code)?.brut?Z?.decompteOp?.decomptePv?.sinistreDecompteInfos?.find(Zt=>"CP462"==Zt?.typeInfoDecompte?.code)?.brut+" DZD":"",fontSize:"10",alignment:"center"},{text:null!=Z?.decompteOp?.decomptePv?.sinistreDecompteInfos?.find(Zt=>"CP462"==Zt?.typeInfoDecompte?.code)?.retenue?Z?.decompteOp?.decomptePv?.sinistreDecompteInfos?.find(Zt=>"CP462"==Zt?.typeInfoDecompte?.code)?.retenue+" DZD":"",fontSize:"10",alignment:"center"},{}],[{border:[!1,!1,!1,!1],text:""},{border:[!1,!1,!1,!1],text:""},{border:[!1,!1,!1,!1],text:""},{}],[{text:"Dommage brut",fontSize:"10",alignment:"center"},{text:Z?.decompteOp?.decomptePv?.dommageBrut+" DZD",fontSize:"10",alignment:"center"},{border:[!1,!1,!1,!1],text:""},{}],[{text:"V\xe9tust\xe9",fontSize:"10",alignment:"center"},{text:Z?.decompteOp?.decomptePv?.vetuste+" DZD",fontSize:"10",alignment:"center"},{border:[!1,!1,!1,!1],text:""},{}],[{text:"Dommage net de v\xe9tust\xe9",fontSize:"10",alignment:"center"},{text:Z?.decompteOp?.decomptePv?.dommageNetVetuste+" DZD",fontSize:"10",alignment:"center"},{border:[!1,!1,!1,!1],text:""},{}],[{border:[!1,!1,!1,!1],text:""},{border:[!1,!1,!1,!1],text:""},{border:[!1,!1,!1,!1],text:""},{}],[{text:"R\xe8gle proportionnel",fontSize:"10",alignment:"center"},{text:Z?.decompteOp?.decomptePv?.reglePropotionnel+" DZD",fontSize:"10",alignment:"center"},{text:Z?.decompteOp?.decomptePv?.reglePropotionnel+" DZD",fontSize:"10",alignment:"center"},{}],[{border:[!1,!1,!1,!1],text:""},{border:[!1,!1,!1,!1],text:""},{border:[!1,!1,!1,!1],text:""},{}],[{text:"Dommage net r\xe8gle proportionnel",fontSize:"10",alignment:"center"},{text:Z?.decompteOp?.decomptePv?.dommageNetRp+" DZD",fontSize:"10",alignment:"center"},{border:[!1,!1,!1,!1],text:""},{}],[{border:[!1,!1,!1,!1],text:""},{border:[!1,!1,!1,!1],text:""},{border:[!1,!1,!1,!1],text:""},{}],[{text:"Immobilisation",fontSize:"10",alignment:"center"},{text:Z?.decompteOp?.decomptePv?.immobilisation+" DZD",fontSize:"10",alignment:"center"},{border:[!1,!1,!1,!1],text:""},{}],[{text:"Franchise",fontSize:"10",alignment:"center"},{text:null!=Z?.decompteOp?.decomptePv?.franchise?Z?.decompteOp?.decomptePv?.franchise+" DZD":"",fontSize:"10",alignment:"center"},{border:[!1,!1,!1,!1],text:""},{}]]}}:{},{style:"table",table:{widths:["25%","25%","25%","25%"],alignment:"center",body:[[{text:[{text:"Total a r\xe9gl\xe9 :",bold:!0,fontSize:"10"}],style:"headerTable",alignment:"center"},{text:null!=Z?.decompteOp?null==Z?.decompteOp?.decomptePv?Number(Z?.decompteOp?.montantTTC).toLocaleString("fi-FI",{minimumFractionDigits:2,maximumFractionDigits:2})+" DZD":Number(Z?.decompteOp?.decomptePv?.totalRegle).toLocaleString("fi-FI",{minimumFractionDigits:2,maximumFractionDigits:2})+" DZD":Number(J?.montant).toLocaleString("fi-FI",{minimumFractionDigits:2,maximumFractionDigits:2})+" DZD",fontSize:"10",alignment:"center"},{border:[!1,!1,!1,!1],text:""},{border:[!1,!1,!1,!1],text:""}]]}},{style:"table",table:{widths:["50%","50%"],alignment:"center",body:[[{text:[{text:"Fait le :",bold:!0,fontSize:"10"},{text:Z?.auditDate?.split("T")[0],bold:!0,fontSize:"10"}],alignment:"left"},{text:[{text:"Ordonn\xe9 le :",bold:!0,fontSize:"10"}],alignment:"left"}],[{text:[{text:"Signature gestionnaire :\n",bold:!0,fontSize:"10"},{text:J?.userCreation?.nom+" "+J?.userCreation?.prenom,bold:!0,fontSize:"10"}],alignment:"left"},{text:[{text:"Signature de l'ordonnateur :\n",bold:!0,fontSize:"10"},{text:J?.userValidation?.nom+" "+J?.userValidation?.prenom,bold:!0,fontSize:"10"}],alignment:"left"}]]}}],styles:{sectionHeader:{bold:!0,color:"#d14723",fontSize:10,alignment:"right"},BG:{fontSize:8},table:{margin:[0,20,0,0]},headerTable:{alignment:"left",bold:!0,fontSize:10,color:"#00008F"}}};me.createPdf(tt).download("OP_"+Z?.codeOp)}}outputIndemnisation(Z){let O=Z?.sinistre?.contratHistorique,J=O?.contratPersonneRoleList?.find(t=>235==t?.role?.idParam||236==t?.role?.idParam||238==t?.role?.idParam||280==t?.role?.idParam)?.personne,he=O?.paramContratList?.find(t=>t?.idPackComplet?.garantie?.codeGarantie==Z?.sinistreReserve?.codeGarantie)?.idPackComplet?.garantie?.description,Ze={};switch(Z?.typeOp?.code){case"OPA":Ze=null!=Z?.decompteOp?.benificiaire?{nom:Z?.decompteOp?.nom+" "+Z?.decompteOp?.prenom,type:Z?.decompteOp?.benificiaire?.description,mode:Z?.modeRecouvrement?.description}:{nom:null!=J?.raisonSocial?J?.raisonSocial:J?.nom+" "+J?.prenom1,type:"Assur\xe9",mode:Z?.modeRecouvrement?.description};break;case"OPP":Ze={nom:Z?.nom+" "+Z?.prenom,type:"Prestataire",mode:Z?.modeRecouvrement?.description};break;case"OPT":Ze={nom:Z?.decompteOp?.nom+" "+Z?.decompteOp?.prenom,type:"Tiers",mode:Z?.modeRecouvrement?.description};break;case"OPE":Ze={nom:Z?.decompteOp?.expert?.nom+" "+Z?.decompteOp?.expert?.prenom,type:"Expert",mode:Z?.modeRecouvrement?.description}}const l={watermark:{text:"",color:"blue",opacity:.1},pageMargins:[45,90,45,90],border:[!1,!1,!1,!1],content:[{style:"table",table:{widths:["50%","50%"],alignment:"center",body:[[{text:[{text:"Police d'assurance N\xb0 : ",bold:!0,fontSize:"10"},{text:O?.idContrat?.idContrat,fontSize:"10"}],alignment:"left"},{text:[{text:"Assur\xe9(e) : ",bold:!0,fontSize:"10"},{text:null!=J?.raisonSocial?J?.raisonSocial:J?.nom+" "+J?.prenom1,fontSize:"10"}],alignment:"left"}],[{text:[{text:"Dossier sinistre N\xb0 : ",bold:!0,fontSize:"10"},{text:Z?.sinistreReserve?.sinistre?.codeSinistre,fontSize:"10"}],alignment:"left"},{text:[{text:"Adresse assur\xe9(e) : ",bold:!0,fontSize:"10"},{text:J?.adressesList[J?.adressesList.length-1]?.description,fontSize:"10"}],rowSpan:3,alignment:"left"}],[{text:[{text:"Quittance N\xb0 : ",bold:!0,fontSize:"10"},{text:Z?.idSinistreOp,fontSize:"10"}],alignment:"left"},{}],[{text:[{text:"Garantie affect\xe9e : ",bold:!0,fontSize:"10"},{text:he,fontSize:"10"}],alignment:"left"},{}]]}},{style:"table",text:"Je soussign\xe9 "+Ze?.nom,fontSize:10,color:"black"},{style:"table",text:"D\xe9clare et reconnais avoir re\xe7u de la part d'AXA ASSURANCES ALGERIE, la somme de "+(null==Z?.decompteOp?.decomptePv?null!=Z?.decompteOp?.montantHTC?Z?.decompteOp?.montantHTC:Number(Z?.decompteOp?.montantTTC).toLocaleString("fi-FI",{minimumFractionDigits:2,maximumFractionDigits:2}):Number(Z?.decompteOp?.decomptePv?.totalRegle).toLocaleString("fi-FI",{minimumFractionDigits:2,maximumFractionDigits:2}))+" DZD au titre de r\xe8glement de mon sinistre N\xb0 "+Z?.sinistreReserve?.sinistre?.codeSinistre+" survenu en date du "+Z?.sinistreReserve?.sinistre?.dateSurvenance?.split("T")[0]+" et d\xe9clar\xe9 le "+Z?.sinistreReserve?.sinistre?.dateDeclaration?.split("T")[0]+", et ce conform\xe9ment aux conditions g\xe9n\xe9rales et particuli\xe8res de mon contrat d'assurance automobile.",fontSize:10,color:"black"},{style:"table",text:"Je reconnais \xe9galement que la compagnie AXA ASSURANCES ALGERIE a respect\xe9 l'ensemble de ses engagements conform\xe9ment au contrat d'assurance sus-indiqu\xe9 et \xe0 cet effet, la compagnie est subrog\xe9e dans mes droits et actions \xe0 l'encontre des tiers responsable au titre de cette affaire.",fontSize:10,color:"black"},null!=Z?.decompteOp?.decomptePv?{style:"table",table:{widths:["25%","25%","50%"],alignment:"center",body:[[{text:"D\xe9tail du r\xe8glement",style:"headerTable",colSpan:3,alignment:"center"},{},{}],[{text:"Dommages brute",style:"headerTable",alignment:"left"},{text:[{text:"Montant brute",bold:!0,fontSize:"10"}],alignment:"left"},{text:[{text:Z?.decompteOp?.decomptePv?.dommageBrut+" DZD",bold:!0,fontSize:"10"}],alignment:"left"}],[{text:"D\xe9ductions",style:"headerTable",rowSpan:3,alignment:"left"},{text:[{text:"V\xe9tust\xe9",bold:!0,fontSize:"10"}],alignment:"left"},{text:[{text:Z?.decompteOp?.decomptePv?.vetuste+" DZD",bold:!0,fontSize:"10"}],alignment:"left"}],[{},{text:[{text:"R\xe8gle proportionnelle",bold:!0,fontSize:"10"}],alignment:"left"},{text:[{text:Z?.decompteOp?.decomptePv?.reglePropotionnel+" DZD",bold:!0,fontSize:"10"}],alignment:"left"}],[{},{text:[{text:"Franchise",bold:!0,fontSize:"10"}],alignment:"left"},{text:[{text:Z?.decompteOp?.decomptePv?.franchise+" DZD",bold:!0,fontSize:"10"}],alignment:"left"}],[{text:"Addition",style:"headerTable",alignment:"left"},{text:[{text:"Immobilisation",bold:!0,fontSize:"10"}],alignment:"left"},{text:[{text:Z?.decompteOp?.decomptePv?.immobilisation+" DZD",bold:!0,fontSize:"10"}],alignment:"left"}],[{text:"Montant total de l'indemnit\xe9 r\xe9gl\xe9 :",style:"headerTable",colSpan:2,alignment:"center"},{},{text:[{text:Z?.decompteOp?.decomptePv?.totalRegle+" DZD",bold:!0,fontSize:"10"}],alignment:"center"}]]}}:{},{layout:"noBorders",style:"table",table:{widths:["50%","50%"],alignment:"center",body:[[{text:[{text:"Fait \xe0 : ",bold:!0,fontSize:"10"},{text:Z?.agence?.idPersonneMorale?.adressesList[Z?.agence?.idPersonneMorale?.adressesList.length-1]?.wilaya?.description,fontSize:"10"}],alignment:"left"},{text:[{text:"Re\xe7u le : \u2026. / \u2026. / \u2026\u2026",bold:!0,fontSize:"10"}],alignment:"left"}],[{text:[{text:"Le : ",bold:!0,fontSize:"10"},{text:Z?.auditDate?.split("T")[0],fontSize:"10"}],alignment:"left"},{}]]}},{layout:"noBorders",style:"table",table:{widths:["50%","50%"],alignment:"center",body:[[{text:[{text:"Pour la compagnie",bold:!0,fontSize:"10"}],alignment:"center"},{text:[{text:"Signature du b\xe9n\xe9ficiaire pr\xe9c\xe9d\xe9e de la mention \n                              \xab Lu et approuv\xe9 \xbb :",bold:!0,fontSize:"10"}],alignment:"center"}]]}}],styles:{sectionHeader:{bold:!0,color:"#d14723",fontSize:10,alignment:"right"},BG:{fontSize:8},table:{margin:[0,20,0,0]},headerTable:{alignment:"left",bold:!0,fontSize:10,color:"#00008F"}}};me.createPdf(l).download("Quittance_indemnisation_"+Z?.codeOp)}calculateur(Z,O,J,he){return this.http.post(`${ee.g.API_ENDPOINT_TEST_SINISTRE_RESERVE_CALCULATEUR}/${O}/${J}/${he}`,Z,e).pipe((0,K.b)(Ze=>Ze),(0,Ge.K)(Ze=>(0,h._)(Ze.error)))}saveCalculateur(Z){return this.http.post(`${ee.g.API_ENDPOINT_TEST_SINISTRE_RESERVE_CALCULATEUR_SAVE}`,Z,e).pipe((0,K.b)(O=>O),(0,Ge.K)(O=>(0,h._)(O.error)))}addInstance(Z,O,J,he){return this.http.post(`${ee.g.API_ENDPOINT_TEST_SINISTRE_CREATE_INSTANCE}/${O}/${J}/${he}`,Z,e).pipe((0,K.b)(Ze=>Ze),(0,Ge.K)(Ze=>(0,h._)(Ze.error)))}getAllInstance(Z){return this.http.get(`${ee.g.API_ENDPOINT_TEST_SINISTRE_GET_ALL_INSTANCE}/${Z}`,e).pipe((0,K.b)(O=>O),(0,Ge.K)(O=>(0,h._)(O.error)))}getInstanceById(Z){return this.http.get(`${ee.g.API_ENDPOINT_TEST_SINISTRE_GET_INSTANCE_ID}/${Z}`,e).pipe((0,K.b)(O=>O),(0,Ge.K)(O=>(0,h._)(O.error)))}addDocument(Z,O){return this.http.post(`${ee.g.API_ENDPOINT_TEST_SINISTRE_ADD_DOCUMENT}/${Z}`,O,e).pipe((0,K.b)(J=>J),(0,Ge.K)(J=>(0,h._)(J.error)))}editDocument(Z,O){return this.http.put(`${ee.g.API_ENDPOINT_TEST_SINISTRE_EDIT_DOCUMENT}/${Z}`,O,e).pipe((0,K.b)(J=>J),(0,Ge.K)(J=>(0,h._)(J.error)))}checkPaiement(Z,O){let J={headers:new Se.WM({"Content-Type":"application/json","Access-Control-Allow-Origin":"*"}),responseType:"text"};return this.http.post(`${ee.g.API_ENDPOINT_TEST_SINISTRE_CHECK_PAIEMENT}/${Z}`,O,J).pipe((0,K.b)(he=>he),(0,Ge.K)(he=>(0,h._)(he.error)))}paiement(Z,O,J){return this.http.post(`${ee.g.API_ENDPOINT_TEST_SINISTRE_PAIEMENT}/${Z}/${O}`,J,e).pipe((0,K.b)(he=>he),(0,Ge.K)(he=>(0,h._)(he.error)))}getReglement(Z){let O={headers:new Se.WM({"Content-Type":"application/json","Access-Control-Allow-Origin":"*"})};return this.http.get(`${ee.g.API_ENDPOINT_TEST_SINISTRE_PAIEMENT}/${Z}`,O).pipe((0,K.b)(J=>J),(0,Ge.K)(J=>(0,h._)(J.error)))}historiqueAvenant(Z){return this.http.post(`${ee.g.API_ENDPOINT_avenants}/op`,Z,e).pipe((0,K.b)(O=>O),(0,Ge.K)(O=>(0,h._)(O.error)))}buildTableBody(Z,O){var J=[];let he=[];return O.map(Ze=>{let l={text:"",style:"",alignment:"center"};l.text=Ze,l.style="headerTable",he.push(l)}),J.push(he),Z.forEach(function(Ze){const l=[];O.forEach(function(t){switch(t){case"Type mouvement":l.push({text:Ze?.avenant,fontSize:"10",alignment:"center"});break;case"Date d'effet":l.push({text:Ze?.dateEffet?.split("T")[0],fontSize:"10",alignment:"center"});break;case"Formule":l.push({text:Ze?.pack,fontSize:"10",alignment:"center"});break;default:l.push({})}}),J.push(l)}),J}table(Z,O){let J=100/O?.length,he=[];return O.map(Ze=>{he.push(J+"%")}),[{layout:"",table:{headerRows:1,widths:he,body:this.buildTableBody(Z,O)}}]}}return n.\u0275fac=function(Z){return new(Z||n)(Q.LFG(Se.eN),Q.LFG(w.g),Q.LFG(o.M))},n.\u0275prov=Q.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})()},9576:(co,wn,B)=>{"use strict";B.d(wn,{f:()=>w});var Se=B(529),K=B(7550),Ge=B(8505),h=B(262),ee=B(2843),me=B(9646),Le=B(4650);const Q={headers:new Se.WM({"Content-Type":"application/json","Access-Control-Allow-Origin":"*"})};let w=(()=>{class o{constructor(xe){this.http=xe}getAllUsers(){return this.http.get(`${K.g.API_ENDPOINT_USERS}`).pipe((0,Ge.b)(xe=>this.logs(xe)),(0,h.K)(xe=>this.handleEroor(xe,xe.error)))}filterUser(xe){return this.http.get(`${K.g.API_ENDPOINT_USERS_FILTER}/${xe}`).pipe((0,Ge.b)(n=>this.logs(n)),(0,h.K)(n=>this.handleEroor(n,n.error)))}getUserById(xe){return this.http.get(`${K.g.API_ENDPOINT_USERS_BY_ID}/${xe}`).pipe((0,Ge.b)(n=>this.logs(n)),(0,h.K)(n=>this.handleEroor(n,n.error)))}getAllRole(){return this.http.get(`${K.g.API_ENDPOINT_USERS_ROLES}`).pipe((0,Ge.b)(xe=>this.logs(xe)),(0,h.K)(xe=>this.handleEroor(xe,xe.error)))}addUser(xe){return this.http.post(`${K.g.API_ENDPOINT_ADD_USER}`,xe,Q).pipe((0,Ge.b)(n=>n),(0,h.K)(n=>(0,ee._)(n.error)))}updateUser(xe){return this.http.post(`${K.g.API_ENDPOINT_UPDATE_USER}`,xe,Q).pipe((0,Ge.b)(n=>n),(0,h.K)(n=>(0,ee._)(n.error)))}logs(xe){}handleEroor(xe,n){return(0,me.of)(n)}}return o.\u0275fac=function(xe){return new(xe||o)(Le.LFG(Se.eN))},o.\u0275prov=Le.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})()},6436:(co,wn,B)=>{"use strict";B.d(wn,{t:()=>w});var Se=B(1135),K=B(8505),Ge=B(262),h=B(2843),ee=B(9646),me=B(7550),Le=B(4650),Q=B(529);let w=(()=>{class o{constructor(xe){this.http=xe,this.objectSubject=new Se.X(null),this.object$=this.objectSubject.asObservable()}getAllMarque(){return this.http.get(`${me.g.API_ENDPOINT_marque}`).pipe((0,K.b)(xe=>this.logs(xe)),(0,Ge.K)(xe=>this.handleEroor(xe,xe?.error)))}getModelByMarque(xe){return this.http.get(`${me.g.API_ENDPOINT_marque}/${xe}`).pipe((0,K.b)(n=>this.logs(n)),(0,Ge.K)(n=>this.handleEroor(n,n?.error)))}send(xe){this.objectSubject.next(xe)}filterVehicule(xe){return this.http.get(`${me.g.API_ENDPOINT_vehicule}/marque/${xe.get("Marque").value}/modele/${xe.get("Mod\xe8le").value}/puissance/${xe.get("Puissance").value}`).pipe((0,K.b)(n=>this.logs(n)),(0,Ge.K)(n=>this.handleEroor(n,n?.error)))}logs(xe){}addMarque(xe){return this.http.post(`${me.g.API_ENDPOINT_marque_save}`,xe).pipe((0,K.b)(n=>{this.logs(n)}),(0,Ge.K)(n=>(this.handleEroor(n,n?.error),n.message=n,console.log("error",n),(0,h._)(n))))}addModele(xe){return this.http.post(`${me.g.API_ENDPOINT_modele_save}`,xe).pipe((0,K.b)(n=>this.logs(n)),(0,Ge.K)(n=>(this.handleEroor(n,n?.error),n.message=n,console.log("error",n),(0,h._)(n))))}getAllVehicules(){return this.http.get(`${me.g.API_ENDPOINT_vehicule}`).pipe((0,K.b)(xe=>this.logs(xe)),(0,Ge.K)(xe=>this.handleEroor(xe,xe?.error)))}getVehiculeById(xe){return this.http.get(`${me.g.API_ENDPOINT_vehicule}/${xe}`).pipe((0,K.b)(n=>this.logs(n)),(0,Ge.K)(n=>this.handleEroor(n,n?.error)))}filtresVehicule(xe){return this.http.post(`${me.g.API_ENDPOINT_vehicule_filtre}`,xe).pipe((0,K.b)(n=>this.logs(n)),(0,Ge.K)(n=>this.handleEroor(n,n?.error)))}addVehicule(xe){return this.http.post(`${me.g.API_ENDPOINT_vehicule}`,xe).pipe((0,K.b)(n=>this.logs(n)),(0,Ge.K)(n=>(this.handleEroor(n,n?.error),n.message=n,console.log("error",n),(0,h._)(n))))}editVehicule(xe,n){return this.http.put(`${me.g.API_ENDPOINT_vehicule_modifier}/${n}`,xe).pipe((0,K.b)(i=>this.logs(i)),(0,Ge.K)(i=>this.handleEroor(i,i?.error)))}deleteVehicule(xe){return this.http.put(`${me.g.API_ENDPOINT_vehicule}/delete/${xe}`,null).pipe((0,K.b)(n=>this.logs(n)),(0,Ge.K)(n=>this.handleEroor(n,n?.error)))}handleEroor(xe,n){return(0,ee.of)(n)}}return o.\u0275fac=function(xe){return new(xe||o)(Le.LFG(Q.eN))},o.\u0275prov=Le.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})()},3906:(co,wn,B)=>{"use strict";function Se(K,Ge){return K.get(Ge,{responseType:"blob"}).toPromise().then(h=>new Promise((ee,me)=>{const Le=new FileReader;Le.onloadend=()=>ee(Le.result),Le.onerror=me,h&&Le.readAsDataURL(h)}))}B.d(wn,{Z:()=>Se})},2720:(co,wn,B)=>{"use strict";B.r(wn),B.d(wn,{AdministrationModule:()=>zx});var Se=B(6895),K=B(294),Ge=B(4092),h=B(4466),ee=B(2510),me=B(9523),Le=B(8739),Q=B(7155),w=B(4006),o=B(5439),e=B(4650),xe=B(5412),n=B(7550),i=B(529);let Z=(()=>{class p{constructor(_){this.httpClient=_}getTaxesList(){return this.httpClient.get(`${n.g.API_ENDPOINT_TAXE}`)}createTaxe(_){return this.httpClient.post(`${n.g.API_ENDPOINT_TAXE}`,_)}getTaxeById(_){return this.httpClient.get(`${n.g.API_ENDPOINT_TAXE}/${_}`)}updateTaxe(_,S){return this.httpClient.put(`${n.g.API_ENDPOINT_TAXE}/${S}`,_)}deleteTaxe(_){return this.httpClient.delete(`${n.g.API_ENDPOINT_TAXE}/${_}`)}}return p.\u0275fac=function(_){return new(_||p)(e.LFG(i.eN))},p.\u0275prov=e.Yz7({token:p,factory:p.\u0275fac,providedIn:"root"}),p})();var O=B(4850),J=B(9549),he=B(284),Ze=B(9602),l=B(4385),t=B(3238);function Ft(p,E){if(1&p&&(e.TgZ(0,"div",26),e._uU(1),e.qZA()),2&p){const _=e.oxw();e.xp6(1),e.hij("La taxe N\xb0",_.idTaxe," a \xe9t\xe9 cr\xe9er avec succ\xe9s")}}function ln(p,E){if(1&p&&(e.TgZ(0,"div",27),e._uU(1),e.qZA()),2&p){const _=e.oxw();e.xp6(1),e.hij(" ",_.messageError," ")}}function ut(p,E){1&p&&(e.TgZ(0,"div"),e._uU(1," ce champs est obligatoire"),e.qZA())}function ot(p,E){if(1&p&&(e.TgZ(0,"mat-error",28),e.YNc(1,ut,2,0,"div",29),e.qZA()),2&p){const _=e.oxw();e.xp6(1),e.Q6J("ngIf",_.formCreationTaxe.controls.idNational.errors.required)}}function tt(p,E){1&p&&(e.TgZ(0,"div"),e._uU(1," ce champs est obligatoire"),e.qZA())}function Zt(p,E){if(1&p&&(e.TgZ(0,"mat-error",28),e.YNc(1,tt,2,0,"div",29),e.qZA()),2&p){const _=e.oxw();e.xp6(1),e.Q6J("ngIf",_.formCreationTaxe.controls.description.errors.required)}}function nn(p,E){if(1&p&&(e.TgZ(0,"mat-option",30),e._uU(1),e.qZA()),2&p){const _=E.$implicit;e.Q6J("value",_.id),e.xp6(1),e.hij(" ",_.value," ")}}function _n(p,E){1&p&&(e.TgZ(0,"div"),e._uU(1," ce champs est obligatoire"),e.qZA())}function xn(p,E){if(1&p&&(e.TgZ(0,"mat-error",28),e.YNc(1,_n,2,0,"div",29),e.qZA()),2&p){const _=e.oxw();e.xp6(1),e.Q6J("ngIf",_.formCreationTaxe.controls.valeurType.errors.required)}}function mn(p,E){1&p&&(e.TgZ(0,"div"),e._uU(1," ce champs est obligatoire"),e.qZA())}function Ri(p,E){if(1&p&&(e.TgZ(0,"mat-error",28),e.YNc(1,mn,2,0,"div",29),e.qZA()),2&p){const _=e.oxw();e.xp6(1),e.Q6J("ngIf",_.formCreationTaxe.controls.valeur.errors.required)}}function Xn(p,E){1&p&&(e.TgZ(0,"div"),e._uU(1," ce champs est obligatoire"),e.qZA())}function Mt(p,E){if(1&p&&(e.TgZ(0,"mat-error",28),e.YNc(1,Xn,2,0,"div",29),e.qZA()),2&p){const _=e.oxw();e.xp6(1),e.Q6J("ngIf",_.formCreationTaxe.controls.valeurMin.errors.required)}}function Lt(p,E){1&p&&(e.TgZ(0,"div"),e._uU(1," ce champs est obligatoire"),e.qZA())}function xt(p,E){if(1&p&&(e.TgZ(0,"mat-error",28),e.YNc(1,Lt,2,0,"div",29),e.qZA()),2&p){const _=e.oxw();e.xp6(1),e.Q6J("ngIf",_.formCreationTaxe.controls.valeurMax.errors.required)}}function ht(p,E){1&p&&(e.TgZ(0,"div"),e._uU(1," ce champs est obligatoire"),e.qZA())}function Yn(p,E){if(1&p&&(e.TgZ(0,"mat-error",28),e.YNc(1,ht,2,0,"div",29),e.qZA()),2&p){const _=e.oxw();e.xp6(1),e.Q6J("ngIf",_.formCreationTaxe.controls.dateDebut.errors.required)}}function Jn(p,E){1&p&&(e.TgZ(0,"mat-error",28)(1,"div"),e._uU(2," Date fin est inf\xe9rieur \xe0 la date d\xe9but"),e.qZA()())}let pi=(()=>{class p{constructor(_,S,k){this.dialogRef=_,this.taxeService=S,this.formBuilderAuth=k,this.iconValue="",this.taxeCreationSuccess=!1,this.taxeCreationError=!1,this.minDate=new Date,this.idTaxe=0,this.typeTaxes=[{id:1,value:"valeur fixe",icon:""},{id:2,value:"valeur par formule",icon:""},{id:3,value:"pourcentage sur un montant",icon:""}]}ngOnInit(){this.initFormCreationTaxe()}initFormCreationTaxe(){this.formCreationTaxe=this.formBuilderAuth.group({description:["",[w.kI.required]],idNational:["",[w.kI.required]],valeurType:["",[w.kI.required]],valeur:["",[w.kI.required]],valeurMin:["",[w.kI.required]],valeurMax:["",[w.kI.required]],dateDebut:["",[w.kI.required]],dateFin:[""],auditUser:["test"]})}submitCreationTaxe(_){this.formCreationTaxe.valid&&(this.formCreationTaxe.value.dateDebut.setValue(o(this.formCreationTaxe.value.dateDebut).format("YYYY-MM-DD")),this.taxeService.createTaxe(this.formCreationTaxe.value).subscribe(S=>{this.taxeCreationSuccess=!0,this.taxeCreationError=!1,this.idTaxe=S.idTaxe,_.resetForm(),this.formCreationTaxe.reset()},S=>{this.taxeCreationError=!0,this.taxeCreationSuccess=!1,this.messageError=S.ErreurMessage?S.ErreurMessage:S.message}))}changeTypeTaxe(_){switch(_){case 2:this.formCreationTaxe.get("valeurTaxe")?.clearValidators(),this.formCreationTaxe.get("valeurTaxe")?.updateValueAndValidity(),this.formCreationTaxe.controls.valeurTaxe.disable();break;case 3:this.formCreationTaxe.controls.valeurTaxe.enable(),this.iconValue="%";break;case 1:this.formCreationTaxe.controls.valeurTaxe.enable(),this.iconValue="DA"}}debutDateChange(_){this.minDate=_}}return p.\u0275fac=function(_){return new(_||p)(e.Y36(xe.so),e.Y36(Z),e.Y36(w.qu))},p.\u0275cmp=e.Xpm({type:p,selectors:[["app-creation-taxe-dialog"]],decls:66,vars:18,consts:[[1,"heading"],["class","alert alert-success",4,"ngIf"],["class","alert alert-danger",4,"ngIf"],[1,"mat-typography"],[1,"login-form",3,"formGroup","ngSubmit"],["formDirective","ngForm"],["appearance","outline",1,"col-md-12","login-field"],["matInput","","formControlName","idNational"],["class","invalid-feedback",4,"ngIf"],["matInput","","formControlName","description"],["appearance","outline",1,"col-md-6"],["formControlName","valeurType",3,"selectionChange"],[3,"value",4,"ngFor","ngForOf"],["appearance","outline",1,"col-md-6","login-field"],["matInput","","formControlName","valeur"],["matSuffix",""],["matInput","","formControlName","valeurMin"],["matInput","","formControlName","valeurMax"],["matInput","","formControlName","dateDebut",3,"matDatepicker","dateChange"],["matSuffix","",3,"for"],["dateDebut",""],["matInput","","formControlName","dateFin",3,"matDatepicker","min"],["dateFin",""],[1,"row-button"],["mat-dialog-close","",1,"btn","btn-cancel"],["type","submit",1,"btn","btn-action"],[1,"alert","alert-success"],[1,"alert","alert-danger"],[1,"invalid-feedback"],[4,"ngIf"],[3,"value"]],template:function(_,S){if(1&_){const k=e.EpF();e.TgZ(0,"h2",0),e._uU(1,"Cr\xe9er une taxe"),e.qZA(),e._UZ(2,"mat-divider"),e.YNc(3,Ft,2,1,"div",1),e.YNc(4,ln,2,1,"div",2),e.TgZ(5,"mat-dialog-content",3)(6,"form",4,5),e.NdJ("ngSubmit",function(){e.CHM(k);const Ue=e.MAs(7);return e.KtG(S.submitCreationTaxe(Ue))}),e.TgZ(8,"mat-form-field",6)(9,"mat-label"),e._uU(10,"Id National"),e.qZA(),e._UZ(11,"input",7),e.YNc(12,ot,2,1,"mat-error",8),e.qZA(),e.TgZ(13,"mat-form-field",6)(14,"mat-label"),e._uU(15,"Description"),e.qZA(),e._UZ(16,"input",9),e.YNc(17,Zt,2,1,"mat-error",8),e.qZA(),e.TgZ(18,"mat-form-field",10)(19,"mat-label"),e._uU(20,"Type Taxe"),e.qZA(),e.TgZ(21,"mat-select",11),e.NdJ("selectionChange",function(Ue){return S.changeTypeTaxe(Ue.value)}),e.YNc(22,nn,2,2,"mat-option",12),e.qZA(),e.YNc(23,xn,2,1,"mat-error",8),e.qZA(),e.TgZ(24,"mat-form-field",13)(25,"mat-label"),e._uU(26,"Valeur Taxe"),e.qZA(),e._UZ(27,"input",14),e.TgZ(28,"span",15),e._uU(29),e.qZA(),e.YNc(30,Ri,2,1,"mat-error",8),e.qZA(),e.TgZ(31,"mat-form-field",13)(32,"mat-label"),e._uU(33,"Valeur min"),e.qZA(),e._UZ(34,"input",16),e.TgZ(35,"span",15),e._uU(36,"DA"),e.qZA(),e.YNc(37,Mt,2,1,"mat-error",8),e.qZA(),e.TgZ(38,"mat-form-field",13)(39,"mat-label"),e._uU(40,"Valeur max"),e.qZA(),e._UZ(41,"input",17),e.TgZ(42,"span",15),e._uU(43,"DA"),e.qZA(),e.YNc(44,xt,2,1,"mat-error",8),e.qZA(),e.TgZ(45,"mat-form-field",10)(46,"mat-label"),e._uU(47,"Date D\xe9but"),e.qZA(),e.TgZ(48,"input",18),e.NdJ("dateChange",function(Ue){return S.debutDateChange(Ue.value)}),e.qZA(),e._UZ(49,"mat-datepicker-toggle",19)(50,"mat-datepicker",null,20),e.YNc(52,Yn,2,1,"mat-error",8),e.qZA(),e.TgZ(53,"mat-form-field",10)(54,"mat-label"),e._uU(55,"Date Fin"),e.qZA(),e._UZ(56,"input",21)(57,"mat-datepicker-toggle",19)(58,"mat-datepicker",null,22),e.YNc(60,Jn,3,0,"mat-error",8),e.qZA(),e.TgZ(61,"div",23)(62,"button",24),e._uU(63,"Annuler"),e.qZA(),e.TgZ(64,"button",25),e._uU(65,"Envoyer"),e.qZA()()()()}if(2&_){const k=e.MAs(51),ae=e.MAs(59);e.xp6(3),e.Q6J("ngIf",S.taxeCreationSuccess),e.xp6(1),e.Q6J("ngIf",S.taxeCreationError),e.xp6(2),e.Q6J("formGroup",S.formCreationTaxe),e.xp6(6),e.Q6J("ngIf",S.formCreationTaxe.controls.idNational.errors),e.xp6(5),e.Q6J("ngIf",S.formCreationTaxe.controls.description.errors),e.xp6(5),e.Q6J("ngForOf",S.typeTaxes),e.xp6(1),e.Q6J("ngIf",S.formCreationTaxe.controls.valeurType.errors),e.xp6(6),e.Oqu(S.iconValue),e.xp6(1),e.Q6J("ngIf",S.formCreationTaxe.controls.valeur.errors),e.xp6(7),e.Q6J("ngIf",S.formCreationTaxe.controls.valeurMin.errors),e.xp6(7),e.Q6J("ngIf",S.formCreationTaxe.controls.valeurMax.errors),e.xp6(4),e.Q6J("matDatepicker",k),e.xp6(1),e.Q6J("for",k),e.xp6(3),e.Q6J("ngIf",S.formCreationTaxe.controls.dateDebut.errors),e.xp6(4),e.Q6J("matDatepicker",ae)("min",S.minDate),e.xp6(1),e.Q6J("for",ae),e.xp6(3),e.Q6J("ngIf",S.formCreationTaxe.controls.dateFin.hasError("matDatepickerMin"))}},dependencies:[Se.sg,Se.O5,O.d,w._Y,w.Fj,w.JJ,w.JL,w.sg,w.u,J.TO,J.KE,J.hX,J.R9,he.Nt,xe.ZT,xe.xY,Ze.Mq,Ze.hl,Ze.nW,l.gD,t.ey],styles:[".buttons.row[_ngcontent-%COMP%]{justify-content:space-between;padding:0 21px}h2.heading[_ngcontent-%COMP%]{color:#00008f;font-weight:700!important;letter-spacing:.5px}.mat-dialog-content[_ngcontent-%COMP%], .mat-form-field[_ngcontent-%COMP%]{padding-top:15px}.mat-error[_ngcontent-%COMP%]{font-size:11px}.row-button[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:0 3rem;margin-top:2rem}"]}),p})();class Qn{}function xi(p,E){if(1&p&&(e.TgZ(0,"div",5),e._uU(1),e.qZA()),2&p){const _=e.oxw();e.xp6(1),e.hij("La taxe N\xb0",_.idTaxe," a \xe9t\xe9 modifi\xe9 avec succ\xe9s")}}function tn(p,E){if(1&p&&(e.TgZ(0,"div",6),e._uU(1),e.qZA()),2&p){const _=e.oxw();e.xp6(1),e.hij(" ",_.messageError,"")}}function Kt(p,E){1&p&&(e.TgZ(0,"div"),e._uU(1," ce champs est obligatoire"),e.qZA())}function hi(p,E){if(1&p&&(e.TgZ(0,"mat-error",29),e.YNc(1,Kt,2,0,"div",30),e.qZA()),2&p){const _=e.oxw(2);e.xp6(1),e.Q6J("ngIf",_.formCreationTaxe.controls.idNational.errors.required)}}function $i(p,E){1&p&&(e.TgZ(0,"div"),e._uU(1," ce champs est obligatoire"),e.qZA())}function Sn(p,E){if(1&p&&(e.TgZ(0,"mat-error",29),e.YNc(1,$i,2,0,"div",30),e.qZA()),2&p){const _=e.oxw(2);e.xp6(1),e.Q6J("ngIf",_.formCreationTaxe.controls.description.errors.required)}}function vt(p,E){if(1&p&&(e.TgZ(0,"mat-option",31),e._uU(1),e.qZA()),2&p){const _=E.$implicit;e.Q6J("value",_.id),e.xp6(1),e.hij(" ",_.value," ")}}function $e(p,E){1&p&&(e.TgZ(0,"div"),e._uU(1," ce champs est obligatoire"),e.qZA())}function bn(p,E){if(1&p&&(e.TgZ(0,"mat-error",29),e.YNc(1,$e,2,0,"div",30),e.qZA()),2&p){const _=e.oxw(2);e.xp6(1),e.Q6J("ngIf",_.formCreationTaxe.controls.valeurType.errors.required)}}function Vt(p,E){1&p&&(e.TgZ(0,"div"),e._uU(1," ce champs est obligatoire"),e.qZA())}function Gn(p,E){if(1&p&&(e.TgZ(0,"mat-error",29),e.YNc(1,Vt,2,0,"div",30),e.qZA()),2&p){const _=e.oxw(2);e.xp6(1),e.Q6J("ngIf",_.formCreationTaxe.controls.valeur.errors.required)}}function ei(p,E){1&p&&(e.TgZ(0,"div"),e._uU(1," ce champs est obligatoire"),e.qZA())}function vi(p,E){if(1&p&&(e.TgZ(0,"mat-error",29),e.YNc(1,ei,2,0,"div",30),e.qZA()),2&p){const _=e.oxw(2);e.xp6(1),e.Q6J("ngIf",_.formCreationTaxe.controls.valeurMin.errors.required)}}function uo(p,E){1&p&&(e.TgZ(0,"div"),e._uU(1," ce champs est obligatoire"),e.qZA())}function bo(p,E){if(1&p&&(e.TgZ(0,"mat-error",29),e.YNc(1,uo,2,0,"div",30),e.qZA()),2&p){const _=e.oxw(2);e.xp6(1),e.Q6J("ngIf",_.formCreationTaxe.controls.valeurMax.errors.required)}}function oe(p,E){1&p&&(e.TgZ(0,"div"),e._uU(1," ce champs est obligatoire"),e.qZA())}function pn(p,E){if(1&p&&(e.TgZ(0,"mat-error",29),e.YNc(1,oe,2,0,"div",30),e.qZA()),2&p){const _=e.oxw(2);e.xp6(1),e.Q6J("ngIf",_.formCreationTaxe.controls.dateDebut.errors.required)}}function Zi(p,E){1&p&&(e.TgZ(0,"mat-error",29)(1,"div"),e._uU(2," Date fin est inf\xe9rieur \xe0 la date d\xe9but"),e.qZA()())}function Ai(p,E){if(1&p){const _=e.EpF();e.TgZ(0,"form",7,8),e.NdJ("ngSubmit",function(){e.CHM(_);const k=e.MAs(1),ae=e.oxw();return e.KtG(ae.submitEditTaxe(k))}),e.TgZ(2,"mat-form-field",9)(3,"mat-label"),e._uU(4,"Id National"),e.qZA(),e._UZ(5,"input",10),e.YNc(6,hi,2,1,"mat-error",11),e.qZA(),e.TgZ(7,"mat-form-field",9)(8,"mat-label"),e._uU(9,"Description"),e.qZA(),e._UZ(10,"input",12),e.YNc(11,Sn,2,1,"mat-error",11),e.qZA(),e.TgZ(12,"mat-form-field",13)(13,"mat-label"),e._uU(14,"Type Taxe"),e.qZA(),e.TgZ(15,"mat-select",14),e.NdJ("selectionChange",function(k){e.CHM(_);const ae=e.oxw();return e.KtG(ae.changeTypeTaxe(k.value))}),e.YNc(16,vt,2,2,"mat-option",15),e.qZA(),e.YNc(17,bn,2,1,"mat-error",11),e.qZA(),e.TgZ(18,"mat-form-field",16)(19,"mat-label"),e._uU(20,"Valeur Taxe"),e.qZA(),e._UZ(21,"input",17),e.TgZ(22,"span",18),e._uU(23),e.qZA(),e.YNc(24,Gn,2,1,"mat-error",11),e.qZA(),e.TgZ(25,"mat-form-field",16)(26,"mat-label"),e._uU(27,"Valeur min"),e.qZA(),e._UZ(28,"input",19),e.TgZ(29,"span",18),e._uU(30,"DA"),e.qZA(),e.YNc(31,vi,2,1,"mat-error",11),e.qZA(),e.TgZ(32,"mat-form-field",16)(33,"mat-label"),e._uU(34,"Valeur max"),e.qZA(),e._UZ(35,"input",20),e.TgZ(36,"span",18),e._uU(37,"DA"),e.qZA(),e.YNc(38,bo,2,1,"mat-error",11),e.qZA(),e.TgZ(39,"mat-form-field",13)(40,"mat-label"),e._uU(41,"Date D\xe9but"),e.qZA(),e.TgZ(42,"input",21),e.NdJ("dateChange",function(k){e.CHM(_);const ae=e.oxw();return e.KtG(ae.debutDateChange(k.value))}),e.qZA(),e._UZ(43,"mat-datepicker-toggle",22)(44,"mat-datepicker",null,23),e.YNc(46,pn,2,1,"mat-error",11),e.qZA(),e.TgZ(47,"mat-form-field",13)(48,"mat-label"),e._uU(49,"Date Fin"),e.qZA(),e._UZ(50,"input",24)(51,"mat-datepicker-toggle",22)(52,"mat-datepicker",null,25),e.YNc(54,Zi,3,0,"mat-error",11),e.qZA(),e.TgZ(55,"div",26)(56,"button",27),e._uU(57,"Annuler"),e.qZA(),e.TgZ(58,"button",28),e._uU(59,"Envoyer"),e.qZA()()()}if(2&p){const _=e.MAs(45),S=e.MAs(53),k=e.oxw();e.Q6J("formGroup",k.formCreationTaxe),e.xp6(6),e.Q6J("ngIf",k.formCreationTaxe.controls.idNational.errors),e.xp6(5),e.Q6J("ngIf",k.formCreationTaxe.controls.description.errors),e.xp6(5),e.Q6J("ngForOf",k.typeTaxes),e.xp6(1),e.Q6J("ngIf",k.formCreationTaxe.controls.valeurType.errors),e.xp6(6),e.Oqu(k.iconValue),e.xp6(1),e.Q6J("ngIf",k.formCreationTaxe.controls.valeur.errors),e.xp6(7),e.Q6J("ngIf",k.formCreationTaxe.controls.valeurMin.errors),e.xp6(7),e.Q6J("ngIf",k.formCreationTaxe.controls.valeurMax.errors),e.xp6(4),e.Q6J("matDatepicker",_),e.xp6(1),e.Q6J("for",_),e.xp6(3),e.Q6J("ngIf",k.formCreationTaxe.controls.dateDebut.errors),e.xp6(4),e.Q6J("matDatepicker",S)("min",k.minDate),e.xp6(1),e.Q6J("for",S),e.xp6(3),e.Q6J("ngIf",k.formCreationTaxe.controls.dateFin.hasError("matDatepickerMin"))}}let Di=(()=>{class p{constructor(_,S,k){this.data=_,this.taxeService=S,this.formBuilderAuth=k,this.iconValue="",this.taxeCreationSuccess=!1,this.taxeCreationError=!1,this.minDate=new Date,this.formTaxe=new Qn,this.idTaxe=0,this.typeTaxes=[{id:1,value:"valeur fixe",icon:""},{id:2,value:"valeur par formule",icon:""},{id:3,value:"pourcentage sur un montant",icon:""}]}ngOnInit(){this.getTaxeById(this.data.idTaxe)}initFormCreationTaxe(_){this.debutDateChange(_.date_debut),this.formCreationTaxe=this.formBuilderAuth.group({idNational:[_.idNational,[w.kI.required]],description:[_.description,[w.kI.required]],valeurType:[_.valeurType,[w.kI.required]],valeur:[_.valeur,[w.kI.required]],valeurMin:[_.valeurMin,[w.kI.required]],valeurMax:[_.valeurMax,[w.kI.required]],dateDebut:[_.dateDebut,[w.kI.required]],dateFin:[_.dateFin],auditUser:[_.auditUser]})}getTaxeById(_){this.taxeService.getTaxeById(_).subscribe(S=>{this.initFormCreationTaxe(S)})}submitEditTaxe(_){this.formCreationTaxe.valid&&(this.formCreationTaxe.value.dateDebut.setValue(o(this.formCreationTaxe.value.dateDebut).format("YYYY-MM-DD")),this.taxeService.updateTaxe(this.formCreationTaxe.value,this.data.idTaxe).subscribe(S=>{this.taxeCreationSuccess=!0,this.taxeCreationError=!1,this.idTaxe=S.idTaxe,_.resetForm(),this.formCreationTaxe.reset()},S=>{this.taxeCreationError=!0,this.taxeCreationSuccess=!1,this.messageError=S.ErreurMessage?S.ErreurMessage:S.message}))}changeTypeTaxe(_){switch(_){case 2:this.formCreationTaxe.get("valeurTaxe")?.clearValidators(),this.formCreationTaxe.get("valeurTaxe")?.updateValueAndValidity(),this.formCreationTaxe.controls.valeurTaxe.disable();break;case 3:this.formCreationTaxe.controls.valeurTaxe.enable(),this.iconValue="%";break;case 1:this.formCreationTaxe.controls.valeurTaxe.enable(),this.iconValue="DA"}}debutDateChange(_){this.minDate=_}}return p.\u0275fac=function(_){return new(_||p)(e.Y36(xe.WI),e.Y36(Z),e.Y36(w.qu))},p.\u0275cmp=e.Xpm({type:p,selectors:[["app-edit-taxe-dialog"]],decls:7,vars:3,consts:[[1,"heading"],["class","alert alert-success",4,"ngIf"],["class","alert alert-danger",4,"ngIf"],[1,"mat-typography"],["class","login-form",3,"formGroup","ngSubmit",4,"ngIf"],[1,"alert","alert-success"],[1,"alert","alert-danger"],[1,"login-form",3,"formGroup","ngSubmit"],["formDirective","ngForm"],["appearance","outline",1,"col-md-12","login-field"],["matInput","","formControlName","idNational"],["class","invalid-feedback",4,"ngIf"],["matInput","","formControlName","description"],["appearance","outline",1,"col-md-6"],["formControlName","valeurType",3,"selectionChange"],[3,"value",4,"ngFor","ngForOf"],["appearance","outline",1,"col-md-6","login-field"],["matInput","","formControlName","valeur"],["matSuffix",""],["matInput","","formControlName","valeurMin"],["matInput","","formControlName","valeurMax"],["matInput","","formControlName","dateDebut",3,"matDatepicker","dateChange"],["matSuffix","",3,"for"],["dateDebut",""],["matInput","","formControlName","dateFin",3,"matDatepicker","min"],["dateFin",""],[1,"row-button"],["mat-dialog-close","",1,"btn","btn-cancel"],["type","submit",1,"btn","btn-action"],[1,"invalid-feedback"],[4,"ngIf"],[3,"value"]],template:function(_,S){1&_&&(e.TgZ(0,"h2",0),e._uU(1,"Modifi\xe9 une taxe"),e.qZA(),e._UZ(2,"mat-divider"),e.YNc(3,xi,2,1,"div",1),e.YNc(4,tn,2,1,"div",2),e.TgZ(5,"mat-dialog-content",3),e.YNc(6,Ai,60,16,"form",4),e.qZA()),2&_&&(e.xp6(3),e.Q6J("ngIf",S.taxeCreationSuccess),e.xp6(1),e.Q6J("ngIf",S.taxeCreationError),e.xp6(2),e.Q6J("ngIf",S.formCreationTaxe))},dependencies:[Se.sg,Se.O5,O.d,w._Y,w.Fj,w.JJ,w.JL,w.sg,w.u,J.TO,J.KE,J.hX,J.R9,he.Nt,xe.ZT,xe.xY,Ze.Mq,Ze.hl,Ze.nW,l.gD,t.ey],styles:[".buttons.row[_ngcontent-%COMP%]{justify-content:space-between;padding:0 21px}h2.heading[_ngcontent-%COMP%]{color:#00008f;font-weight:700!important;letter-spacing:.5px}.mat-dialog-content[_ngcontent-%COMP%], .mat-form-field[_ngcontent-%COMP%]{padding-top:15px}.mat-error[_ngcontent-%COMP%]{font-size:11px}.row-button[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:0 3rem;margin-top:2rem}"]}),p})();var Mn=B(7392),Nn=B(8255),vn=B(4859),Et=B(4803);function mo(p,E){1&p&&(e.TgZ(0,"th",21),e._uU(1," id "),e.qZA())}function mr(p,E){if(1&p&&(e.TgZ(0,"td",22),e._uU(1),e.qZA()),2&p){const _=E.$implicit;e.xp6(1),e.hij(" ",_.idTaxe," ")}}function zr(p,E){1&p&&(e.TgZ(0,"th",21),e._uU(1," id national "),e.qZA())}function Eo(p,E){if(1&p&&(e.TgZ(0,"td",22),e._uU(1),e.qZA()),2&p){const _=E.$implicit;e.xp6(1),e.hij(" ",_.idNational," ")}}function ra(p,E){1&p&&(e.TgZ(0,"th",21),e._uU(1," Description "),e.qZA())}function aa(p,E){if(1&p&&(e.TgZ(0,"td",22),e._uU(1),e.qZA()),2&p){const _=E.$implicit;e.xp6(1),e.hij(" ",_.description," ")}}function Ba(p,E){1&p&&(e.TgZ(0,"th",21),e._uU(1," Type "),e.qZA())}function za(p,E){if(1&p&&(e.TgZ(0,"td",22),e._uU(1),e.qZA()),2&p){const _=E.$implicit;e.xp6(1),e.hij(" ",_.valeurType," ")}}function Aa(p,E){1&p&&(e.TgZ(0,"th",21),e._uU(1," Valeur "),e.qZA())}function Ks(p,E){if(1&p&&(e.TgZ(0,"td",22),e._uU(1),e.ALo(2,"number"),e.TgZ(3,"sup"),e._uU(4,"DA"),e.qZA()()),2&p){const _=E.$implicit;e.xp6(1),e.hij(" ",e.xi3(2,1,_.valeur,"1.2-2")," ")}}function ds(p,E){1&p&&(e.TgZ(0,"th",21),e._uU(1," Valeur min "),e.qZA())}function _s(p,E){if(1&p&&(e.TgZ(0,"td",22),e._uU(1),e.ALo(2,"number"),e.TgZ(3,"sup"),e._uU(4,"DA"),e.qZA()()),2&p){const _=E.$implicit;e.xp6(1),e.hij(" ",e.xi3(2,1,_.valeurMin,"1.2-2")," ")}}function Ta(p,E){1&p&&(e.TgZ(0,"th",21),e._uU(1," Valeur max"),e.qZA())}function sa(p,E){if(1&p&&(e.TgZ(0,"td",22),e._uU(1),e.ALo(2,"number"),e.TgZ(3,"sup"),e._uU(4,"DA"),e.qZA()()),2&p){const _=E.$implicit;e.xp6(1),e.hij(" ",e.xi3(2,1,_.valeurMax,"1.2-2")," ")}}function Ws(p,E){1&p&&(e.TgZ(0,"th",21),e._uU(1," Date d\xe9but "),e.qZA())}function Xs(p,E){if(1&p&&(e.TgZ(0,"td",22),e._uU(1),e.ALo(2,"dateFormatPipe"),e.qZA()),2&p){const _=E.$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,_.dateDebut)," ")}}function dr(p,E){1&p&&(e.TgZ(0,"th",21),e._uU(1," Date fin "),e.qZA())}function Va(p,E){if(1&p&&(e.TgZ(0,"td",22),e._uU(1),e.ALo(2,"dateFormatPipe"),e.qZA()),2&p){const _=E.$implicit;e.xp6(1),e.hij("",e.lcZ(2,1,_.dateFin)," ")}}function ps(p,E){1&p&&(e.TgZ(0,"th",21),e._uU(1," Action "),e.qZA())}function fs(p,E){if(1&p){const _=e.EpF();e.TgZ(0,"td",22)(1,"button",23)(2,"mat-icon"),e._uU(3,"more_vert"),e.qZA()(),e.TgZ(4,"mat-menu",24,25)(6,"button",26),e.NdJ("click",function(){const ae=e.CHM(_).$implicit,Ue=e.oxw();return e.KtG(Ue.openEditDialog(ae.idTaxe))}),e.TgZ(7,"mat-icon"),e._uU(8,"edit"),e.qZA(),e.TgZ(9,"span"),e._uU(10,"Modifier taxe"),e.qZA()()()()}if(2&p){const _=e.MAs(5);e.xp6(1),e.Q6J("matMenuTriggerFor",_)}}function Ra(p,E){1&p&&e._UZ(0,"tr",27)}function gs(p,E){1&p&&e._UZ(0,"tr",28)}const ja=function(){return[5,10]};let el=(()=>{class p{constructor(_,S){this.dialog=_,this.taxeService=S,this.displayedColumns=["idtaxe","idNational","description","ValeurType","valeur","valeurMax","valeurMin","dateDebut","dateFin","action"],this.lengthColumns=this.displayedColumns.length,this.dataSource=new Q.by}ngAfterViewInit(){this.dataSource.paginator=this.paginator,this.paginator._intl.itemsPerPageLabel="Nombre d'\xe9l\xe9ments par page"}ngOnInit(){this.getAllTaxes(),this.dataSource.paginator&&(this.dataSource.paginator=this.paginator)}openCreateDialog(){this.dialog.open(pi,{width:"60%"}).afterClosed().subscribe(S=>{this.getAllTaxes()})}openEditDialog(_){this.dialog.open(Di,{disableClose:!0,width:"60%",data:{idTaxe:_}}).afterClosed().subscribe(k=>{this.getAllTaxes()})}getAllTaxes(){this.taxeService.getTaxesList().subscribe({next:_=>{this.dataSource=new Q.by(_)},error:_=>{console.log(_)}})}}return p.\u0275fac=function(_){return new(_||p)(e.Y36(xe.uw),e.Y36(Z))},p.\u0275cmp=e.Xpm({type:p,selectors:[["app-gestion-taxes"]],viewQuery:function(_,S){if(1&_&&e.Gf(Le.NW,5),2&_){let k;e.iGM(k=e.CRH())&&(S.paginator=k.first)}},decls:43,vars:6,consts:[[1,"container"],[1,"header"],[1,"title-table"],[1,"btn","btn-secondary",2,"display","flex","align-items","center",3,"click"],["aria-hidden","false","aria-label","ajouter pack ",1,"material-symbols-outlined"],["mat-table","",1,"gestion-table",3,"dataSource"],["matColumnDef","idtaxe"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","idNational"],["matColumnDef","description"],["matColumnDef","ValeurType"],["matColumnDef","valeur"],["matColumnDef","valeurMin"],["matColumnDef","valeurMax"],["matColumnDef","dateDebut"],["matColumnDef","dateFin"],["matColumnDef","action"],["mat-header-row","","class","example-second-header-row",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["aria-label","Select page of users",3,"pageSize","pageSizeOptions"],["mat-header-cell",""],["mat-cell",""],["mat-icon-button","","type","button","aria-label","menu taxe list",3,"matMenuTriggerFor"],["xPosition","after",1,"menu-formule"],["menu","matMenu"],["mat-menu-item","","type","button",3,"click"],["mat-header-row","",1,"example-second-header-row"],["mat-row",""]],template:function(_,S){1&_&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h2",2),e._uU(3,"Listes des taxes"),e.qZA(),e.TgZ(4,"button",3),e.NdJ("click",function(){return S.openCreateDialog()}),e.TgZ(5,"mat-icon",4),e._uU(6,"add_circle"),e.qZA(),e._uU(7," Ajouter une nouvelle taxe "),e.qZA()(),e._UZ(8,"mat-divider"),e.TgZ(9,"table",5),e.ynx(10,6),e.YNc(11,mo,2,0,"th",7),e.YNc(12,mr,2,1,"td",8),e.BQk(),e.ynx(13,9),e.YNc(14,zr,2,0,"th",7),e.YNc(15,Eo,2,1,"td",8),e.BQk(),e.ynx(16,10),e.YNc(17,ra,2,0,"th",7),e.YNc(18,aa,2,1,"td",8),e.BQk(),e.ynx(19,11),e.YNc(20,Ba,2,0,"th",7),e.YNc(21,za,2,1,"td",8),e.BQk(),e.ynx(22,12),e.YNc(23,Aa,2,0,"th",7),e.YNc(24,Ks,5,4,"td",8),e.BQk(),e.ynx(25,13),e.YNc(26,ds,2,0,"th",7),e.YNc(27,_s,5,4,"td",8),e.BQk(),e.ynx(28,14),e.YNc(29,Ta,2,0,"th",7),e.YNc(30,sa,5,4,"td",8),e.BQk(),e.ynx(31,15),e.YNc(32,Ws,2,0,"th",7),e.YNc(33,Xs,3,3,"td",8),e.BQk(),e.ynx(34,16),e.YNc(35,dr,2,0,"th",7),e.YNc(36,Va,3,3,"td",8),e.BQk(),e.ynx(37,17),e.YNc(38,ps,2,0,"th",7),e.YNc(39,fs,11,1,"td",8),e.BQk(),e.YNc(40,Ra,1,0,"tr",18),e.YNc(41,gs,1,0,"tr",19),e.qZA(),e._UZ(42,"mat-paginator",20),e.qZA()),2&_&&(e.xp6(9),e.Q6J("dataSource",S.dataSource),e.xp6(31),e.Q6J("matHeaderRowDef",S.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",S.displayedColumns),e.xp6(1),e.Q6J("pageSize",10)("pageSizeOptions",e.DdM(5,ja)))},dependencies:[O.d,Mn.Hw,Nn.VK,Nn.OP,Nn.p6,Q.BZ,Q.fO,Q.as,Q.w1,Q.Dz,Q.nj,Q.ge,Q.ev,Q.XQ,Q.Gk,Le.NW,vn.lW,Se.JJ,Et.y],styles:[".container[_ngcontent-%COMP%]{background-color:#fff;padding:40px 0;height:100%;overflow-y:auto;overflow-x:hidden}.gestion-table[_ngcontent-%COMP%]{width:100%}.gestion-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .gestion-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:16px}.gestion-table[_ngcontent-%COMP%]   .mat-header-cell[_ngcontent-%COMP%]{color:#00008f;font-weight:600}.gestion-table[_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]:nth-child(even), .gestion-table[_ngcontent-%COMP%]   .mat-header-row[_ngcontent-%COMP%]{background-color:#f7f7f9}.gestion-table[_ngcontent-%COMP%]   .mat-paginator[_ngcontent-%COMP%]{background-color:transparent;margin:20px auto auto;width:80%}.gestion-table[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{height:100%;font-size:26px;color:#00008f;width:-moz-fit-content;width:fit-content}.mat-menu-item[_ngcontent-%COMP%]{font-size:15px}.mat-menu-item[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:18px;height:-moz-fit-content;height:fit-content}.mat-menu-item[_ngcontent-%COMP%]:hover:not([disabled]), .mat-menu-item[_ngcontent-%COMP%]:hover:not([disabled])   .mat-icon[_ngcontent-%COMP%]{color:#00008f}.header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:0px 2rem}.header[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{height:-moz-fit-content;height:fit-content;font-size:29px;margin-right:1rem;width:-moz-fit-content;width:fit-content}.title-table[_ngcontent-%COMP%]{margin-bottom:0rem;font-weight:800!important;font-size:23px!important;color:#00008f!important}"]}),p})(),la=(()=>{class p{constructor(_){this.httpClient=_}getFamilleProduitsList(){return this.httpClient.get(`${n.g.API_ENDPOINT_FAMILLE_PRODUIT}`)}createFamilleProduit(_){return this.httpClient.post(`${n.g.API_ENDPOINT_FAMILLE_PRODUIT}`,_)}getFamilleProduitById(_){return this.httpClient.get(`${n.g.API_ENDPOINT_FAMILLE_PRODUIT}/${_}`)}updateFamilleProduit(_,S){return this.httpClient.put(`${n.g.API_ENDPOINT_FAMILLE_PRODUIT}/${_}`,S)}deleteFamilleProduit(_){return this.httpClient.delete(`${n.g.API_ENDPOINT_FAMILLE_PRODUIT}/${_}`)}}return p.\u0275fac=function(_){return new(_||p)(e.LFG(i.eN))},p.\u0275prov=e.Yz7({token:p,factory:p.\u0275fac,providedIn:"root"}),p})();function hs(p,E){if(1&p&&(e.TgZ(0,"div",21),e._uU(1),e.qZA()),2&p){const _=e.oxw();e.xp6(1),e.hij("La famille de produit N\xb0",_.idFamilleProduit," a \xe9t\xe9 cr\xe9er avec succ\xe9s")}}function Cs(p,E){if(1&p&&(e.TgZ(0,"div",22),e._uU(1),e.qZA()),2&p){const _=e.oxw();e.xp6(1),e.hij(" ",_.messageError," ")}}function rr(p,E){1&p&&(e.TgZ(0,"div"),e._uU(1," ce champs est obligatoire"),e.qZA())}function xs(p,E){if(1&p&&(e.TgZ(0,"mat-error",23),e.YNc(1,rr,2,0,"div",24),e.qZA()),2&p){const _=e.oxw();e.xp6(1),e.Q6J("ngIf",_.formCreationFamille.controls.description.errors.required)}}function vs(p,E){1&p&&(e.TgZ(0,"div"),e._uU(1," ce champs est obligatoire"),e.qZA())}function tl(p,E){if(1&p&&(e.TgZ(0,"mat-error",23),e.YNc(1,vs,2,0,"div",24),e.qZA()),2&p){const _=e.oxw();e.xp6(1),e.Q6J("ngIf",_.formCreationFamille.controls.codificationNationale.errors.required)}}function As(p,E){1&p&&(e.TgZ(0,"div"),e._uU(1," ce champs est obligatoire"),e.qZA())}function Ar(p,E){if(1&p&&(e.TgZ(0,"mat-error",23),e.YNc(1,As,2,0,"div",24),e.qZA()),2&p){const _=e.oxw();e.xp6(1),e.Q6J("ngIf",_.formCreationFamille.controls.codificationMetier.errors.required)}}function nl(p,E){1&p&&(e.TgZ(0,"div"),e._uU(1," ce champs est obligatoire"),e.qZA())}function il(p,E){if(1&p&&(e.TgZ(0,"mat-error",23),e.YNc(1,nl,2,0,"div",24),e.qZA()),2&p){const _=e.oxw();e.xp6(1),e.Q6J("ngIf",_.formCreationFamille.controls.date_debut.errors.required)}}function Ts(p,E){1&p&&(e.TgZ(0,"mat-error",23)(1,"div"),e._uU(2," Date fin est inf\xe9rieur \xe0 la date d\xe9but"),e.qZA()())}let Nr=(()=>{class p{constructor(_,S){this.familleProduitService=_,this.formBuilderAuth=S,this.iconValue="",this.FamilleCreationSuccess=!1,this.FamilleCreationError=!1,this.minDate=new Date,this.idFamilleProduit=0}ngOnInit(){this.initFormCreationFamille()}initFormCreationFamille(){this.formCreationFamille=this.formBuilderAuth.group({description:["",[w.kI.required]],codificationNationale:["",[w.kI.required]],codificationMetier:["",[w.kI.required]],date_debut:["",[w.kI.required]],date_fin:[""]})}submitCreationFamille(_){this.formCreationFamille.valid&&(this.formCreationFamille.value.date_debut=o(this.formCreationFamille.value.date_debut).format("YYYY-MM-DD"),this.familleProduitService.createFamilleProduit(this.formCreationFamille.value).subscribe(S=>{this.FamilleCreationSuccess=!0,this.FamilleCreationError=!1,this.idFamilleProduit=S.id_famille,_.resetForm(),this.formCreationFamille.reset()},S=>{this.FamilleCreationError=!0,this.FamilleCreationSuccess=!1,this.messageError=S.ErreurMessage?S.ErreurMessage:S.message}))}debutDateChange(_){this.minDate=_}}return p.\u0275fac=function(_){return new(_||p)(e.Y36(la),e.Y36(w.qu))},p.\u0275cmp=e.Xpm({type:p,selectors:[["app-creation-famille-produit-dialog"]],decls:44,vars:13,consts:[[1,"heading"],["class","alert alert-success",4,"ngIf"],["class","alert alert-danger",4,"ngIf"],[1,"mat-typography"],[1,"login-form",3,"formGroup","ngSubmit"],["formDirective","ngForm"],["appearance","outline",1,"col-md-12","login-field"],["matInput","","formControlName","description"],["class","invalid-feedback",4,"ngIf"],["appearance","outline",1,"col-md-6","login-field"],["matInput","","formControlName","codificationNationale"],["matInput","","formControlName","codificationMetier"],["appearance","outline",1,"col-md-6"],["matInput","","formControlName","date_debut",3,"matDatepicker","dateChange"],["matSuffix","",3,"for"],["dateDebut",""],["matInput","","formControlName","date_fin",3,"matDatepicker","min"],["dateFin",""],[1,"row-button"],["mat-dialog-close","",1,"btn","btn-cancel"],["type","submit",1,"btn","btn-action"],[1,"alert","alert-success"],[1,"alert","alert-danger"],[1,"invalid-feedback"],[4,"ngIf"]],template:function(_,S){if(1&_){const k=e.EpF();e.TgZ(0,"h2",0),e._uU(1,"Cr\xe9er une famille de produit"),e.qZA(),e._UZ(2,"mat-divider"),e.YNc(3,hs,2,1,"div",1),e.YNc(4,Cs,2,1,"div",2),e.TgZ(5,"mat-dialog-content",3)(6,"form",4,5),e.NdJ("ngSubmit",function(){e.CHM(k);const Ue=e.MAs(7);return e.KtG(S.submitCreationFamille(Ue))}),e.TgZ(8,"mat-form-field",6)(9,"mat-label"),e._uU(10,"Description"),e.qZA(),e._UZ(11,"input",7),e.YNc(12,xs,2,1,"mat-error",8),e.qZA(),e.TgZ(13,"mat-form-field",9)(14,"mat-label"),e._uU(15,"Codification Nationale"),e.qZA(),e._UZ(16,"input",10),e.YNc(17,tl,2,1,"mat-error",8),e.qZA(),e.TgZ(18,"mat-form-field",9)(19,"mat-label"),e._uU(20,"Codification Metier"),e.qZA(),e._UZ(21,"input",11),e.YNc(22,Ar,2,1,"mat-error",8),e.qZA(),e.TgZ(23,"mat-form-field",12)(24,"mat-label"),e._uU(25,"Date D\xe9but"),e.qZA(),e.TgZ(26,"input",13),e.NdJ("dateChange",function(Ue){return S.debutDateChange(Ue.value)}),e.qZA(),e._UZ(27,"mat-datepicker-toggle",14)(28,"mat-datepicker",null,15),e.YNc(30,il,2,1,"mat-error",8),e.qZA(),e.TgZ(31,"mat-form-field",12)(32,"mat-label"),e._uU(33,"Date Fin"),e.qZA(),e._UZ(34,"input",16)(35,"mat-datepicker-toggle",14)(36,"mat-datepicker",null,17),e.YNc(38,Ts,3,0,"mat-error",8),e.qZA(),e.TgZ(39,"div",18)(40,"button",19),e._uU(41,"Annuler"),e.qZA(),e.TgZ(42,"button",20),e._uU(43,"Envoyer"),e.qZA()()()()}if(2&_){const k=e.MAs(29),ae=e.MAs(37);e.xp6(3),e.Q6J("ngIf",S.FamilleCreationSuccess),e.xp6(1),e.Q6J("ngIf",S.FamilleCreationError),e.xp6(2),e.Q6J("formGroup",S.formCreationFamille),e.xp6(6),e.Q6J("ngIf",S.formCreationFamille.controls.description.errors),e.xp6(5),e.Q6J("ngIf",S.formCreationFamille.controls.codificationNationale.errors),e.xp6(5),e.Q6J("ngIf",S.formCreationFamille.controls.codificationMetier.errors),e.xp6(4),e.Q6J("matDatepicker",k),e.xp6(1),e.Q6J("for",k),e.xp6(3),e.Q6J("ngIf",S.formCreationFamille.controls.date_debut.errors),e.xp6(4),e.Q6J("matDatepicker",ae)("min",S.minDate),e.xp6(1),e.Q6J("for",ae),e.xp6(3),e.Q6J("ngIf",S.formCreationFamille.controls.date_fin.hasError("matDatepickerMin"))}},dependencies:[Se.O5,O.d,w._Y,w.Fj,w.JJ,w.JL,w.sg,w.u,J.TO,J.KE,J.hX,J.R9,he.Nt,xe.ZT,xe.xY,Ze.Mq,Ze.hl,Ze.nW],styles:[".buttons.row[_ngcontent-%COMP%]{justify-content:space-between;padding:0 21px}h2.heading[_ngcontent-%COMP%]{color:#00008f;font-weight:700!important;letter-spacing:.5px}.mat-dialog-content[_ngcontent-%COMP%], .mat-form-field[_ngcontent-%COMP%]{padding-top:15px}.mat-error[_ngcontent-%COMP%]{font-size:11px}.row-button[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:0 3rem;margin-top:2rem}"]}),p})();function Lr(p,E){if(1&p&&(e.TgZ(0,"div",5),e._uU(1),e.qZA()),2&p){const _=e.oxw();e.xp6(1),e.hij("La famille de produit N\xb0",_.idFamillePrduit," a \xe9t\xe9 modifi\xe9 avec succ\xe9s")}}function Da(p,E){if(1&p&&(e.TgZ(0,"div",6),e._uU(1),e.qZA()),2&p){const _=e.oxw();e.xp6(1),e.hij(" ",_.messageError," ")}}function bs(p,E){1&p&&(e.TgZ(0,"div"),e._uU(1," ce champs est obligatoire"),e.qZA())}function Ir(p,E){if(1&p&&(e.TgZ(0,"mat-error",24),e.YNc(1,bs,2,0,"div",25),e.qZA()),2&p){const _=e.oxw(2);e.xp6(1),e.Q6J("ngIf",_.formEditFamille.controls.description.errors.required)}}function ol(p,E){1&p&&(e.TgZ(0,"div"),e._uU(1," ce champs est obligatoire"),e.qZA())}function Ps(p,E){if(1&p&&(e.TgZ(0,"mat-error",24),e.YNc(1,ol,2,0,"div",25),e.qZA()),2&p){const _=e.oxw(2);e.xp6(1),e.Q6J("ngIf",_.formEditFamille.controls.codificationNationale.errors.required)}}function Zs(p,E){1&p&&(e.TgZ(0,"div"),e._uU(1," ce champs est obligatoire"),e.qZA())}function qs(p,E){if(1&p&&(e.TgZ(0,"mat-error",24),e.YNc(1,Zs,2,0,"div",25),e.qZA()),2&p){const _=e.oxw(2);e.xp6(1),e.Q6J("ngIf",_.formEditFamille.controls.codificationMetier.errors.required)}}function _r(p,E){1&p&&(e.TgZ(0,"div"),e._uU(1," ce champs est obligatoire"),e.qZA())}function Zr(p,E){if(1&p&&(e.TgZ(0,"mat-error",24),e.YNc(1,_r,2,0,"div",25),e.qZA()),2&p){const _=e.oxw(2);e.xp6(1),e.Q6J("ngIf",_.formEditFamille.controls.date_debut.errors.required)}}function it(p,E){1&p&&(e.TgZ(0,"mat-error",24)(1,"div"),e._uU(2," Date fin est inf\xe9rieur \xe0 la date d\xe9but"),e.qZA()())}function ha(p,E){if(1&p){const _=e.EpF();e.TgZ(0,"form",7,8),e.NdJ("ngSubmit",function(){e.CHM(_);const k=e.MAs(1),ae=e.oxw();return e.KtG(ae.submitEditFamille(k))}),e.TgZ(2,"mat-form-field",9)(3,"mat-label"),e._uU(4,"Description"),e.qZA(),e._UZ(5,"input",10),e.YNc(6,Ir,2,1,"mat-error",11),e.qZA(),e.TgZ(7,"mat-form-field",12)(8,"mat-label"),e._uU(9,"Codification Nationale"),e.qZA(),e._UZ(10,"input",13),e.YNc(11,Ps,2,1,"mat-error",11),e.qZA(),e.TgZ(12,"mat-form-field",12)(13,"mat-label"),e._uU(14,"Codification Metier"),e.qZA(),e._UZ(15,"input",14),e.YNc(16,qs,2,1,"mat-error",11),e.qZA(),e.TgZ(17,"mat-form-field",15)(18,"mat-label"),e._uU(19,"Date D\xe9but"),e.qZA(),e.TgZ(20,"input",16),e.NdJ("dateChange",function(k){e.CHM(_);const ae=e.oxw();return e.KtG(ae.debutDateChange(k.value))}),e.qZA(),e._UZ(21,"mat-datepicker-toggle",17)(22,"mat-datepicker",null,18),e.YNc(24,Zr,2,1,"mat-error",11),e.qZA(),e.TgZ(25,"mat-form-field",15)(26,"mat-label"),e._uU(27,"Date Fin"),e.qZA(),e._UZ(28,"input",19)(29,"mat-datepicker-toggle",17)(30,"mat-datepicker",null,20),e.YNc(32,it,3,0,"mat-error",11),e.qZA(),e.TgZ(33,"div",21)(34,"button",22),e._uU(35,"Annuler"),e.qZA(),e.TgZ(36,"button",23),e._uU(37,"Envoyer"),e.qZA()()()}if(2&p){const _=e.MAs(23),S=e.MAs(31),k=e.oxw();e.Q6J("formGroup",k.formEditFamille),e.xp6(6),e.Q6J("ngIf",k.formEditFamille.controls.description.errors),e.xp6(5),e.Q6J("ngIf",k.formEditFamille.controls.codificationNationale.errors),e.xp6(5),e.Q6J("ngIf",k.formEditFamille.controls.codificationMetier.errors),e.xp6(4),e.Q6J("matDatepicker",_),e.xp6(1),e.Q6J("for",_),e.xp6(3),e.Q6J("ngIf",k.formEditFamille.controls.date_debut.errors),e.xp6(4),e.Q6J("matDatepicker",S)("min",k.minDate),e.xp6(1),e.Q6J("for",S),e.xp6(3),e.Q6J("ngIf",k.formEditFamille.controls.date_fin.hasError("matDatepickerMin"))}}let Ci=(()=>{class p{constructor(_,S,k){this.data=_,this.familleProduitService=S,this.formBuilderAuth=k,this.iconValue="",this.FamilleEditSuccess=!1,this.FamilleEditError=!1,this.minDate=null,this.idFamillePrduit=0}ngOnInit(){this.getFamilleProduitById(this.data.idFamilleProduit)}initFormEditFamille(_){this.debutDateChange(_.date_debut),this.formEditFamille=this.formBuilderAuth.group({description:[_.description,[w.kI.required]],codificationNationale:[_.codificationNationale,[w.kI.required]],codificationMetier:[_.codificationMetier,[w.kI.required]],date_debut:[_.date_debut,[w.kI.required]],date_fin:[_.date_fin],auditUser:[_.auditUser]})}getFamilleProduitById(_){this.familleProduitService.getFamilleProduitById(_).subscribe(S=>{this.initFormEditFamille(S)})}submitEditFamille(_){this.formEditFamille.valid&&(this.formEditFamille.value.date_debut=o(this.formEditFamille.value.date_debut).format("YYYY-MM-DD"),this.familleProduitService.updateFamilleProduit(this.data.idFamilleProduit,this.formEditFamille.value).subscribe(S=>{this.FamilleEditSuccess=!0,this.FamilleEditError=!1,this.idFamillePrduit=S.id_famille,_.resetForm(),this.formEditFamille.reset()},S=>{this.FamilleEditError=!0,this.FamilleEditSuccess=!1,this.messageError=S.ErreurMessage?S.ErreurMessage:S.message}))}debutDateChange(_){this.minDate=_}}return p.\u0275fac=function(_){return new(_||p)(e.Y36(xe.WI),e.Y36(la),e.Y36(w.qu))},p.\u0275cmp=e.Xpm({type:p,selectors:[["app-edit-famille-produit-dialog"]],decls:7,vars:3,consts:[[1,"heading"],["class","alert alert-success",4,"ngIf"],["class","alert alert-danger",4,"ngIf"],[1,"mat-typography"],["class","login-form",3,"formGroup","ngSubmit",4,"ngIf"],[1,"alert","alert-success"],[1,"alert","alert-danger"],[1,"login-form",3,"formGroup","ngSubmit"],["formDirective","ngForm"],["appearance","outline",1,"col-md-12","login-field"],["matInput","","formControlName","description"],["class","invalid-feedback",4,"ngIf"],["appearance","outline",1,"col-md-6","login-field"],["matInput","","formControlName","codificationNationale"],["matInput","","formControlName","codificationMetier"],["appearance","outline",1,"col-md-6"],["matInput","","formControlName","date_debut",3,"matDatepicker","dateChange"],["matSuffix","",3,"for"],["dateDebut",""],["matInput","","formControlName","date_fin",3,"matDatepicker","min"],["dateFin",""],[1,"row-button"],["mat-dialog-close","",1,"btn","btn-cancel"],["type","submit",1,"btn","btn-action"],[1,"invalid-feedback"],[4,"ngIf"]],template:function(_,S){1&_&&(e.TgZ(0,"h2",0),e._uU(1,"Modifier une famille de produit"),e.qZA(),e._UZ(2,"mat-divider"),e.YNc(3,Lr,2,1,"div",1),e.YNc(4,Da,2,1,"div",2),e.TgZ(5,"mat-dialog-content",3),e.YNc(6,ha,38,11,"form",4),e.qZA()),2&_&&(e.xp6(3),e.Q6J("ngIf",S.FamilleEditSuccess),e.xp6(1),e.Q6J("ngIf",S.FamilleEditError),e.xp6(2),e.Q6J("ngIf",S.formEditFamille))},dependencies:[Se.O5,O.d,w._Y,w.Fj,w.JJ,w.JL,w.sg,w.u,J.TO,J.KE,J.hX,J.R9,he.Nt,xe.ZT,xe.xY,Ze.Mq,Ze.hl,Ze.nW],styles:[".buttons.row[_ngcontent-%COMP%]{justify-content:space-between;padding:0 21px}h2.heading[_ngcontent-%COMP%]{color:#00008f;font-weight:700!important;letter-spacing:.5px}.mat-dialog-content[_ngcontent-%COMP%], .mat-form-field[_ngcontent-%COMP%]{padding-top:15px}.mat-error[_ngcontent-%COMP%]{font-size:11px}.row-button[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:0 3rem;margin-top:2rem}"]}),p})();var qi=B(6308);function Ha(p,E){1&p&&(e.TgZ(0,"th",18),e._uU(1," id "),e.qZA())}function Ss(p,E){if(1&p&&(e.TgZ(0,"td",19),e._uU(1),e.qZA()),2&p){const _=E.$implicit;e.xp6(1),e.hij(" ",_.id_famille," ")}}function ys(p,E){1&p&&(e.TgZ(0,"th",18),e._uU(1," Description "),e.qZA())}function wa(p,E){if(1&p&&(e.TgZ(0,"td",19),e._uU(1),e.qZA()),2&p){const _=E.$implicit;e.xp6(1),e.hij(" ",_.description," ")}}function di(p,E){1&p&&(e.TgZ(0,"th",18),e._uU(1," Codification nationale "),e.qZA())}function Yr(p,E){if(1&p&&(e.TgZ(0,"td",19),e._uU(1),e.qZA()),2&p){const _=E.$implicit;e.xp6(1),e.hij(" ",_.codificationNationale," ")}}function $a(p,E){1&p&&(e.TgZ(0,"th",18),e._uU(1," Codification M\xe9tiers "),e.qZA())}function Ns(p,E){if(1&p&&(e.TgZ(0,"td",19),e._uU(1),e.qZA()),2&p){const _=E.$implicit;e.xp6(1),e.hij(" ",_.codificationMetier," ")}}function ba(p,E){1&p&&(e.TgZ(0,"th",18),e._uU(1," Date d\xe9but "),e.qZA())}function Ka(p,E){if(1&p&&(e.TgZ(0,"td",19),e._uU(1),e.ALo(2,"dateFormatPipe"),e.qZA()),2&p){const _=E.$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,_.date_debut)," ")}}function Ro(p,E){1&p&&(e.TgZ(0,"th",18),e._uU(1," Date fin "),e.qZA())}function Oa(p,E){if(1&p&&(e.TgZ(0,"td",19),e._uU(1),e.ALo(2,"dateFormatPipe"),e.qZA()),2&p){const _=E.$implicit;e.xp6(1),e.hij("",e.lcZ(2,1,_.date_fin)," ")}}function qr(p,E){1&p&&(e.TgZ(0,"th",18),e._uU(1," Action "),e.qZA())}function Ca(p,E){if(1&p){const _=e.EpF();e.TgZ(0,"td",19)(1,"button",20)(2,"mat-icon"),e._uU(3,"more_vert"),e.qZA()(),e.TgZ(4,"mat-menu",21,22)(6,"button",23),e.NdJ("click",function(){const ae=e.CHM(_).$implicit,Ue=e.oxw();return e.KtG(Ue.openDialogEdit(ae.id_famille))}),e.TgZ(7,"mat-icon"),e._uU(8,"edit"),e.qZA(),e.TgZ(9,"span"),e._uU(10,"Modifier famille produit"),e.qZA()()()()}if(2&p){const _=e.MAs(5);e.xp6(1),e.Q6J("matMenuTriggerFor",_)}}function Vr(p,E){1&p&&e._UZ(0,"tr",24)}function ca(p,E){1&p&&e._UZ(0,"tr",25)}const So=function(){return[5,10,50]};let jr=(()=>{class p{constructor(_,S){this.familleProduitService=_,this.dialog=S,this.displayedColumns=["id_famille","description","codificationNationale","codificationMetier","date_Debut","date_Fin","action"],this.dataSource=new Q.by}ngAfterViewInit(){this.dataSource.paginator=this.paginator,this.paginator._intl.itemsPerPageLabel="Nombre d'\xe9l\xe9ments par page"}ngOnInit(){this.getAllFamilleProduit()}openCreateDialog(){this.dialog.open(Nr,{width:"60%"}).afterClosed().subscribe(S=>{this.getAllFamilleProduit()})}openDialogEdit(_){this.dialog.open(Ci,{width:"60%",data:{idFamilleProduit:_}}).afterClosed().subscribe(k=>{this.getAllFamilleProduit()})}getAllFamilleProduit(){this.familleProduitService.getFamilleProduitsList().subscribe({next:_=>{this.dataSource=new Q.by(_),this.paginate()},error:_=>{console.log(_)}})}paginate(){this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort}}return p.\u0275fac=function(_){return new(_||p)(e.Y36(la),e.Y36(xe.uw))},p.\u0275cmp=e.Xpm({type:p,selectors:[["app-gestion-famille-produit"]],viewQuery:function(_,S){if(1&_&&(e.Gf(Le.NW,5),e.Gf(qi.YE,5)),2&_){let k;e.iGM(k=e.CRH())&&(S.paginator=k.first),e.iGM(k=e.CRH())&&(S.sort=k.first)}},decls:34,vars:6,consts:[[1,"container"],[1,"header"],[1,"title-table"],[1,"btn","btn-secondary",2,"display","flex","align-items","center",3,"click"],["aria-hidden","false","aria-label","ajouter pack ",1,"material-symbols-outlined"],["mat-table","",1,"gestion-table",3,"dataSource"],["matColumnDef","id_famille"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","description"],["matColumnDef","codificationNationale"],["matColumnDef","codificationMetier"],["matColumnDef","date_Debut"],["matColumnDef","date_Fin"],["matColumnDef","action"],["mat-header-row","","class","example-second-header-row",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["aria-label","Select page of users",3,"pageSize","pageSizeOptions"],["mat-header-cell",""],["mat-cell",""],["mat-icon-button","","type","button","aria-label","menu famille list",3,"matMenuTriggerFor"],["xPosition","after"],["menu","matMenu"],["mat-menu-item","","type","button",3,"click"],["mat-header-row","",1,"example-second-header-row"],["mat-row",""]],template:function(_,S){1&_&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h2",2),e._uU(3,"Listes des famille produit"),e.qZA(),e.TgZ(4,"button",3),e.NdJ("click",function(){return S.openCreateDialog()}),e.TgZ(5,"mat-icon",4),e._uU(6,"add_circle"),e.qZA(),e._uU(7," Ajouter une nouvelle familles produit "),e.qZA()(),e._UZ(8,"mat-divider"),e.TgZ(9,"table",5),e.ynx(10,6),e.YNc(11,Ha,2,0,"th",7),e.YNc(12,Ss,2,1,"td",8),e.BQk(),e.ynx(13,9),e.YNc(14,ys,2,0,"th",7),e.YNc(15,wa,2,1,"td",8),e.BQk(),e.ynx(16,10),e.YNc(17,di,2,0,"th",7),e.YNc(18,Yr,2,1,"td",8),e.BQk(),e.ynx(19,11),e.YNc(20,$a,2,0,"th",7),e.YNc(21,Ns,2,1,"td",8),e.BQk(),e.ynx(22,12),e.YNc(23,ba,2,0,"th",7),e.YNc(24,Ka,3,3,"td",8),e.BQk(),e.ynx(25,13),e.YNc(26,Ro,2,0,"th",7),e.YNc(27,Oa,3,3,"td",8),e.BQk(),e.ynx(28,14),e.YNc(29,qr,2,0,"th",7),e.YNc(30,Ca,11,1,"td",8),e.BQk(),e.YNc(31,Vr,1,0,"tr",15),e.YNc(32,ca,1,0,"tr",16),e.qZA(),e._UZ(33,"mat-paginator",17),e.qZA()),2&_&&(e.xp6(9),e.Q6J("dataSource",S.dataSource),e.xp6(22),e.Q6J("matHeaderRowDef",S.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",S.displayedColumns),e.xp6(1),e.Q6J("pageSize",10)("pageSizeOptions",e.DdM(5,So)))},dependencies:[O.d,Mn.Hw,Nn.VK,Nn.OP,Nn.p6,Q.BZ,Q.fO,Q.as,Q.w1,Q.Dz,Q.nj,Q.ge,Q.ev,Q.XQ,Q.Gk,Le.NW,vn.lW,Et.y],styles:[".container[_ngcontent-%COMP%]{background-color:#fff;padding:40px 0;height:100%;overflow-y:auto;overflow-x:hidden}.gestion-table[_ngcontent-%COMP%]{width:100%}.gestion-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .gestion-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:16px}.gestion-table[_ngcontent-%COMP%]   .mat-header-cell[_ngcontent-%COMP%]{color:#00008f;font-weight:600}.gestion-table[_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]:nth-child(even), .gestion-table[_ngcontent-%COMP%]   .mat-header-row[_ngcontent-%COMP%]{background-color:#f7f7f9}.gestion-table[_ngcontent-%COMP%]   .mat-paginator[_ngcontent-%COMP%]{background-color:transparent;margin:20px auto auto;width:80%}.gestion-table[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{height:100%;font-size:26px;color:#00008f;width:-moz-fit-content;width:fit-content}.mat-menu-item[_ngcontent-%COMP%]{font-size:15px}.mat-menu-item[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:18px;height:-moz-fit-content;height:fit-content}.mat-menu-item[_ngcontent-%COMP%]:hover:not([disabled]), .mat-menu-item[_ngcontent-%COMP%]:hover:not([disabled])   .mat-icon[_ngcontent-%COMP%]{color:#00008f}.header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:0px 2rem}.header[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{height:-moz-fit-content;height:fit-content;font-size:29px;margin-right:1rem;width:-moz-fit-content;width:fit-content}.title-table[_ngcontent-%COMP%]{margin-bottom:0rem;font-weight:800!important;font-size:23px!important;color:#00008f!important}"]}),p})(),Hr=(()=>{class p{constructor(_){this.httpClient=_}getTypeRisqueList(){return this.httpClient.get(`${n.g.API_ENDPOINT_TYPERISQUE}`)}createTypeRisque(_){return this.httpClient.post(`${n.g.API_ENDPOINT_TYPERISQUE}`,_)}getTypeRisqueById(_){return this.httpClient.get(`${n.g.API_ENDPOINT_TYPERISQUE}/${_}`)}updateTypeRisque(_,S){return this.httpClient.put(`${n.g.API_ENDPOINT_TYPERISQUE}/${S}`,_)}deleteTypeRisque(_){return this.httpClient.delete(`${n.g.API_ENDPOINT_TYPERISQUE}/${_}`)}}return p.\u0275fac=function(_){return new(_||p)(e.LFG(i.eN))},p.\u0275prov=e.Yz7({token:p,factory:p.\u0275fac,providedIn:"root"}),p})();var oo=B(266);function nt(p,E){if(1&p&&(e.TgZ(0,"div",25),e._uU(1),e.qZA()),2&p){const _=e.oxw();e.xp6(1),e.hij("Le type risque N\xb0",_.idTypeRisque," a \xe9t\xe9 cr\xe9er avec succ\xe9s")}}function jt(p,E){if(1&p&&(e.TgZ(0,"div",26),e._uU(1),e.qZA()),2&p){const _=e.oxw();e.xp6(1),e.hij(" ",_.messageError," ")}}function Be(p,E){1&p&&(e.TgZ(0,"div"),e._uU(1," ce champ est obligatoire"),e.qZA())}function zt(p,E){if(1&p&&(e.TgZ(0,"mat-error",27),e.YNc(1,Be,2,0,"div",28),e.qZA()),2&p){const _=e.oxw();e.xp6(1),e.Q6J("ngIf",_.formCreationTypeRisque.controls.description.errors.required)}}function yn(p,E){1&p&&(e.TgZ(0,"div"),e._uU(1," ce champ est obligatoire"),e.qZA())}function Un(p,E){if(1&p&&(e.TgZ(0,"mat-error",27),e.YNc(1,yn,2,0,"div",28),e.qZA()),2&p){const _=e.oxw();e.xp6(1),e.Q6J("ngIf",_.formCreationTypeRisque.controls.codificationNationale.errors.required)}}function wi(p,E){1&p&&(e.TgZ(0,"div"),e._uU(1," ce champ est obligatoire"),e.qZA())}function ro(p,E){if(1&p&&(e.TgZ(0,"mat-error",27),e.YNc(1,wi,2,0,"div",28),e.qZA()),2&p){const _=e.oxw();e.xp6(1),e.Q6J("ngIf",_.formCreationTypeRisque.controls.codificationMetier.errors.required)}}function ko(p,E){1&p&&(e.TgZ(0,"div"),e._uU(1," ce champ est obligatoire"),e.qZA())}function hr(p,E){if(1&p&&(e.TgZ(0,"mat-error",27),e.YNc(1,ko,2,0,"div",28),e.qZA()),2&p){const _=e.oxw();e.xp6(1),e.Q6J("ngIf",_.formCreationTypeRisque.controls.dateDebut.errors.required)}}function Rl(p,E){1&p&&(e.TgZ(0,"mat-error",27)(1,"div"),e._uU(2," Date fin est inf\xe9rieur \xe0 la date d\xe9but"),e.qZA()())}let ka=(()=>{class p{constructor(_,S){this.typeRisqueService=_,this.formBuilderAuth=S,this.iconValue="",this.typeRisqueCreationSuccess=!1,this.typeRisqueCreationError=!1,this.minDate=new Date}ngOnInit(){this.initFormCreationTaxe()}initFormCreationTaxe(){this.formCreationTypeRisque=this.formBuilderAuth.group({description:["",[w.kI.required]],codificationNationale:["",[w.kI.required]],codificationMetier:["",[w.kI.required]],dateDebut:["",[w.kI.required]],dateFin:[""]})}submitCreationTypeRisque(_){this.formCreationTypeRisque.valid&&(this.formCreationTypeRisque.get("dateDebut")?.setValue(o(this.formCreationTypeRisque.value.dateDebut).format("YYYY-MM-DDT00:00:00.000+00:00")),this.typeRisqueService.createTypeRisque(this.formCreationTypeRisque.value).subscribe(S=>{this.typeRisqueCreationSuccess=!0,this.typeRisqueCreationError=!1,this.idTypeRisque=S.idTypeRisque,_.resetForm(),this.formCreationTypeRisque.reset()},S=>{this.typeRisqueCreationError=!0,this.typeRisqueCreationSuccess=!1,this.messageError=S.ErreurMessage?S.ErreurMessage:S.message}))}debutDateChange(_){this.minDate=_}}return p.\u0275fac=function(_){return new(_||p)(e.Y36(Hr),e.Y36(w.qu))},p.\u0275cmp=e.Xpm({type:p,selectors:[["app-creation-type-risque"]],decls:47,vars:13,consts:[[1,"heading"],[2,"float","right","font-size","24px"],["aria-hidden","false","aria-label","","matTooltip","","matTooltipPosition","right","mat-dialog-close","",1,"material-symbols-outlined"],["class","alert alert-success",4,"ngIf"],["class","alert alert-danger",4,"ngIf"],[1,"mat-typography"],[1,"login-form",3,"formGroup","ngSubmit"],["formDirective","ngForm"],["appearance","outline",1,"col-md-12","login-field"],["matInput","","formControlName","description"],["class","invalid-feedback",4,"ngIf"],["appearance","outline",1,"col-md-6","login-field",2,"padding-right","1%"],["matInput","","formControlName","codificationNationale"],["appearance","outline",1,"col-md-6","login-field",2,"padding-left","1%"],["matInput","","formControlName","codificationMetier"],["appearance","outline",1,"col-md-6",2,"padding-right","1%"],["matInput","","formControlName","dateDebut",3,"matDatepicker","dateChange"],["matSuffix","",3,"for"],["dateDebut",""],["appearance","outline",1,"col-md-6",2,"padding-left","1%"],["matInput","","formControlName","dateFin",3,"matDatepicker","min"],["dateFin",""],[1,"row-button"],["mat-dialog-close","",1,"btn","btn-cancel"],["type","submit",1,"btn","btn-action"],[1,"alert","alert-success"],[1,"alert","alert-danger"],[1,"invalid-feedback"],[4,"ngIf"]],template:function(_,S){if(1&_){const k=e.EpF();e.TgZ(0,"h2",0),e._uU(1,"Cr\xe9er un type risque "),e.TgZ(2,"span",1)(3,"mat-icon",2),e._uU(4," close "),e.qZA()()(),e._UZ(5,"mat-divider"),e.YNc(6,nt,2,1,"div",3),e.YNc(7,jt,2,1,"div",4),e.TgZ(8,"mat-dialog-content",5)(9,"form",6,7),e.NdJ("ngSubmit",function(){e.CHM(k);const Ue=e.MAs(10);return e.KtG(S.submitCreationTypeRisque(Ue))}),e.TgZ(11,"mat-form-field",8)(12,"mat-label"),e._uU(13,"Description"),e.qZA(),e._UZ(14,"input",9),e.YNc(15,zt,2,1,"mat-error",10),e.qZA(),e.TgZ(16,"mat-form-field",11)(17,"mat-label"),e._uU(18,"Codification nationale"),e.qZA(),e._UZ(19,"input",12),e.YNc(20,Un,2,1,"mat-error",10),e.qZA(),e.TgZ(21,"mat-form-field",13)(22,"mat-label"),e._uU(23,"Codification m\xe9tier"),e.qZA(),e._UZ(24,"input",14),e.YNc(25,ro,2,1,"mat-error",10),e.qZA(),e.TgZ(26,"mat-form-field",15)(27,"mat-label"),e._uU(28,"Date d\xe9but"),e.qZA(),e.TgZ(29,"input",16),e.NdJ("dateChange",function(Ue){return S.debutDateChange(Ue.value)}),e.qZA(),e._UZ(30,"mat-datepicker-toggle",17)(31,"mat-datepicker",null,18),e.YNc(33,hr,2,1,"mat-error",10),e.qZA(),e.TgZ(34,"mat-form-field",19)(35,"mat-label"),e._uU(36,"Date fin"),e.qZA(),e._UZ(37,"input",20)(38,"mat-datepicker-toggle",17)(39,"mat-datepicker",null,21),e.YNc(41,Rl,3,0,"mat-error",10),e.qZA(),e.TgZ(42,"div",22)(43,"button",23),e._uU(44,"Annuler"),e.qZA(),e.TgZ(45,"button",24),e._uU(46,"Envoyer"),e.qZA()()()()}if(2&_){const k=e.MAs(32),ae=e.MAs(40);e.xp6(6),e.Q6J("ngIf",S.typeRisqueCreationSuccess),e.xp6(1),e.Q6J("ngIf",S.typeRisqueCreationError),e.xp6(2),e.Q6J("formGroup",S.formCreationTypeRisque),e.xp6(6),e.Q6J("ngIf",S.formCreationTypeRisque.controls.description.errors),e.xp6(5),e.Q6J("ngIf",S.formCreationTypeRisque.controls.codificationNationale.errors),e.xp6(5),e.Q6J("ngIf",S.formCreationTypeRisque.controls.codificationMetier.errors),e.xp6(4),e.Q6J("matDatepicker",k),e.xp6(1),e.Q6J("for",k),e.xp6(3),e.Q6J("ngIf",S.formCreationTypeRisque.controls.dateDebut.errors),e.xp6(4),e.Q6J("matDatepicker",ae)("min",S.minDate),e.xp6(1),e.Q6J("for",ae),e.xp6(3),e.Q6J("ngIf",S.formCreationTypeRisque.controls.dateFin.hasError("matDatepickerMin"))}},dependencies:[Se.O5,O.d,Mn.Hw,w._Y,w.Fj,w.JJ,w.JL,w.sg,w.u,J.TO,J.KE,J.hX,J.R9,he.Nt,oo.gM,xe.ZT,xe.xY,Ze.Mq,Ze.hl,Ze.nW],styles:[".buttons.row[_ngcontent-%COMP%]{justify-content:space-between;padding:0 21px}h2.heading[_ngcontent-%COMP%]{color:#00008f;font-weight:700!important;letter-spacing:.5px}.mat-dialog-content[_ngcontent-%COMP%], .mat-form-field[_ngcontent-%COMP%]{padding-top:15px}.mat-error[_ngcontent-%COMP%]{font-size:11px}.row-button[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:0 3rem;margin-top:2rem}"]}),p})();function rl(p,E){if(1&p&&(e.TgZ(0,"div",7),e._uU(1),e.qZA()),2&p){const _=e.oxw();e.xp6(1),e.hij("Le type risque N\xb0",_.idTypeRisque," a \xe9t\xe9 modifi\xe9 avec succ\xe9s")}}function Is(p,E){if(1&p&&(e.TgZ(0,"div",8),e._uU(1),e.qZA()),2&p){const _=e.oxw();e.xp6(1),e.hij(" ",_.messageError," ")}}function Dl(p,E){1&p&&(e.TgZ(0,"div"),e._uU(1," ce champ est obligatoire"),e.qZA())}function $l(p,E){if(1&p&&(e.TgZ(0,"mat-error",28),e.YNc(1,Dl,2,0,"div",29),e.qZA()),2&p){const _=e.oxw(2);e.xp6(1),e.Q6J("ngIf",_.formEditTypeRisque.controls.description.errors.required)}}function Er(p,E){1&p&&(e.TgZ(0,"div"),e._uU(1," ce champ est obligatoire"),e.qZA())}function al(p,E){if(1&p&&(e.TgZ(0,"mat-error",28),e.YNc(1,Er,2,0,"div",29),e.qZA()),2&p){const _=e.oxw(2);e.xp6(1),e.Q6J("ngIf",_.formEditTypeRisque.controls.codificationNationale.errors.required)}}function Oi(p,E){1&p&&(e.TgZ(0,"div"),e._uU(1," ce champ est obligatoire"),e.qZA())}function zi(p,E){if(1&p&&(e.TgZ(0,"mat-error",28),e.YNc(1,Oi,2,0,"div",29),e.qZA()),2&p){const _=e.oxw(2);e.xp6(1),e.Q6J("ngIf",_.formEditTypeRisque.controls.codificationMetier.errors.required)}}function wl(p,E){1&p&&(e.TgZ(0,"div"),e._uU(1," ce champ est obligatoire"),e.qZA())}function sl(p,E){if(1&p&&(e.TgZ(0,"mat-error",28),e.YNc(1,wl,2,0,"div",29),e.qZA()),2&p){const _=e.oxw(2);e.xp6(1),e.Q6J("ngIf",_.formEditTypeRisque.controls.dateDebut.errors.required)}}function Fi(p,E){1&p&&(e.TgZ(0,"mat-error",28)(1,"div"),e._uU(2," Date fin est inf\xe9rieur \xe0 la date d\xe9but"),e.qZA()())}function ll(p,E){if(1&p){const _=e.EpF();e.TgZ(0,"form",9,10),e.NdJ("ngSubmit",function(){e.CHM(_);const k=e.MAs(1),ae=e.oxw();return e.KtG(ae.submitEditTypeRisque(k))}),e.TgZ(2,"mat-form-field",11)(3,"mat-label"),e._uU(4,"Description"),e.qZA(),e._UZ(5,"input",12),e.YNc(6,$l,2,1,"mat-error",13),e.qZA(),e.TgZ(7,"mat-form-field",14)(8,"mat-label"),e._uU(9,"Codification nationale"),e.qZA(),e._UZ(10,"input",15),e.YNc(11,al,2,1,"mat-error",13),e.qZA(),e.TgZ(12,"mat-form-field",16)(13,"mat-label"),e._uU(14,"Codification m\xe9tier"),e.qZA(),e._UZ(15,"input",17),e.YNc(16,zi,2,1,"mat-error",13),e.qZA(),e.TgZ(17,"mat-form-field",18)(18,"mat-label"),e._uU(19,"Date d\xe9but"),e.qZA(),e.TgZ(20,"input",19),e.NdJ("dateChange",function(k){e.CHM(_);const ae=e.oxw();return e.KtG(ae.debutDateChange(k.value))}),e.qZA(),e._UZ(21,"mat-datepicker-toggle",20)(22,"mat-datepicker",null,21),e.YNc(24,sl,2,1,"mat-error",13),e.qZA(),e.TgZ(25,"mat-form-field",22)(26,"mat-label"),e._uU(27,"Date fin"),e.qZA(),e._UZ(28,"input",23)(29,"mat-datepicker-toggle",20)(30,"mat-datepicker",null,24),e.YNc(32,Fi,3,0,"mat-error",13),e.qZA(),e.TgZ(33,"div",25)(34,"button",26),e._uU(35,"Annuler"),e.qZA(),e.TgZ(36,"button",27),e._uU(37,"Envoyer"),e.qZA()()()}if(2&p){const _=e.MAs(23),S=e.MAs(31),k=e.oxw();e.Q6J("formGroup",k.formEditTypeRisque),e.xp6(6),e.Q6J("ngIf",k.formEditTypeRisque.controls.description.errors),e.xp6(5),e.Q6J("ngIf",k.formEditTypeRisque.controls.codificationNationale.errors),e.xp6(5),e.Q6J("ngIf",k.formEditTypeRisque.controls.codificationMetier.errors),e.xp6(4),e.Q6J("matDatepicker",_),e.xp6(1),e.Q6J("for",_),e.xp6(3),e.Q6J("ngIf",k.formEditTypeRisque.controls.dateDebut.errors),e.xp6(4),e.Q6J("matDatepicker",S)("min",k.minDate),e.xp6(1),e.Q6J("for",S),e.xp6(3),e.Q6J("ngIf",k.formEditTypeRisque.controls.dateFin.hasError("matDatepickerMin"))}}let Wa=(()=>{class p{constructor(_,S,k){this.data=_,this.typeRisqueService=S,this.formBuilderAuth=k,this.iconValue="",this.typeRisqueCreationSuccess=!1,this.typeRisqueCreationError=!1,this.minDate=null}ngOnInit(){this.getTypeRisqueById(this.data.idTypeRisque)}initFormEditTypeRisque(_){this.debutDateChange(_.dateDebut),this.formEditTypeRisque=this.formBuilderAuth.group({description:[_.description,[w.kI.required]],codificationNationale:[_.codificationNationale,[w.kI.required]],codificationMetier:[_.codificationMetier,[w.kI.required]],dateDebut:[_.dateDebut,[w.kI.required]],dateFin:[_.dateFin]})}getTypeRisqueById(_){this.typeRisqueService.getTypeRisqueById(_).subscribe(S=>{this.initFormEditTypeRisque(S)})}submitEditTypeRisque(_){this.formEditTypeRisque.valid&&(this.formEditTypeRisque.value.dateDebut.setValue(o(this.formEditTypeRisque.value.dateDebut).format("YYYY-MM-DD")),this.typeRisqueService.updateTypeRisque(this.formEditTypeRisque.value,this.data.idTypeRisque).subscribe(S=>{this.typeRisqueCreationSuccess=!0,this.typeRisqueCreationError=!1,this.idTypeRisque=S.idTypeRisque,_.resetForm(),this.formEditTypeRisque.reset()},S=>{this.typeRisqueCreationError=!0,this.typeRisqueCreationSuccess=!1,this.messageError=S.ErreurMessage?S.ErreurMessage:S.message}))}debutDateChange(_){this.minDate=_}}return p.\u0275fac=function(_){return new(_||p)(e.Y36(xe.WI),e.Y36(Hr),e.Y36(w.qu))},p.\u0275cmp=e.Xpm({type:p,selectors:[["app-edit-type-risque-dialog"]],decls:10,vars:3,consts:[[1,"heading"],[2,"float","right","font-size","24px"],["aria-hidden","false","aria-label","","matTooltip","","matTooltipPosition","right","mat-dialog-close","",1,"material-symbols-outlined"],["class","alert alert-success",4,"ngIf"],["class","alert alert-danger",4,"ngIf"],[1,"mat-typography"],["class","login-form",3,"formGroup","ngSubmit",4,"ngIf"],[1,"alert","alert-success"],[1,"alert","alert-danger"],[1,"login-form",3,"formGroup","ngSubmit"],["formDirective","ngForm"],["appearance","outline",1,"col-md-12","login-field"],["matInput","","formControlName","description"],["class","invalid-feedback",4,"ngIf"],["appearance","outline",1,"col-md-6","login-field",2,"padding-right","1%"],["matInput","","formControlName","codificationNationale"],["appearance","outline",1,"col-md-6","login-field",2,"padding-left","1%"],["matInput","","formControlName","codificationMetier"],["appearance","outline",1,"col-md-6",2,"padding-right","1%"],["matInput","","formControlName","dateDebut",3,"matDatepicker","dateChange"],["matSuffix","",3,"for"],["dateDebut",""],["appearance","outline",1,"col-md-6",2,"padding-left","1%"],["matInput","","formControlName","dateFin",3,"matDatepicker","min"],["dateFin",""],[1,"row-button"],["mat-dialog-close","",1,"btn","btn-cancel"],["type","submit",1,"btn","btn-action"],[1,"invalid-feedback"],[4,"ngIf"]],template:function(_,S){1&_&&(e.TgZ(0,"h2",0),e._uU(1,"Modifier un type risque "),e.TgZ(2,"span",1)(3,"mat-icon",2),e._uU(4," close "),e.qZA()()(),e._UZ(5,"mat-divider"),e.YNc(6,rl,2,1,"div",3),e.YNc(7,Is,2,1,"div",4),e.TgZ(8,"mat-dialog-content",5),e.YNc(9,ll,38,11,"form",6),e.qZA()),2&_&&(e.xp6(6),e.Q6J("ngIf",S.typeRisqueCreationSuccess),e.xp6(1),e.Q6J("ngIf",S.typeRisqueCreationError),e.xp6(2),e.Q6J("ngIf",S.formEditTypeRisque))},dependencies:[Se.O5,O.d,Mn.Hw,w._Y,w.Fj,w.JJ,w.JL,w.sg,w.u,J.TO,J.KE,J.hX,J.R9,he.Nt,oo.gM,xe.ZT,xe.xY,Ze.Mq,Ze.hl,Ze.nW],styles:[".buttons.row[_ngcontent-%COMP%]{justify-content:space-between;padding:0 21px}h2.heading[_ngcontent-%COMP%]{color:#00008f;font-weight:700!important;letter-spacing:.5px}.mat-dialog-content[_ngcontent-%COMP%], .mat-form-field[_ngcontent-%COMP%]{padding-top:15px}.mat-error[_ngcontent-%COMP%]{font-size:11px}.row-button[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:0 3rem;margin-top:2rem}"]}),p})();var Tr=B(9521),_o=B(3776),Xa=B(6127),Do=B(6709),$r=B(7331);function Vo(p,E){if(1&p&&(e.TgZ(0,"div",30),e._uU(1),e.qZA()),2&p){const _=e.oxw();e.xp6(1),e.hij("Le param\xe8tre risque N\xb0",_.idDetailRisque," a \xe9t\xe9 ajouter avec succ\xe9s")}}function cl(p,E){if(1&p&&(e.TgZ(0,"div",31),e._uU(1),e.qZA()),2&p){const _=e.oxw();e.xp6(1),e.Oqu(_.messageError)}}function ul(p,E){1&p&&(e.TgZ(0,"div"),e._uU(1," ce champs est obligatoire"),e.qZA())}function si(p,E){if(1&p&&(e.TgZ(0,"mat-error",32),e.YNc(1,ul,2,0,"div",33),e.qZA()),2&p){const _=e.oxw();e.xp6(1),e.Q6J("ngIf",_.formCreationDetailRisque.controls.libelle.errors.required)}}function Gr(p,E){1&p&&(e.TgZ(0,"div"),e._uU(1," ce champs est obligatoire"),e.qZA())}function ml(p,E){if(1&p&&(e.TgZ(0,"mat-error",32),e.YNc(1,Gr,2,0,"div",33),e.qZA()),2&p){const _=e.oxw();e.xp6(1),e.Q6J("ngIf",_.formCreationDetailRisque.controls.descriptionChamp.errors.required)}}function Es(p,E){if(1&p&&(e.ynx(0),e.TgZ(1,"mat-option",34),e._uU(2),e.qZA(),e.BQk()),2&p){const _=E.$implicit;e.xp6(1),e.Q6J("value",_),e.xp6(1),e.hij(" ",_.description," ")}}function ao(p,E){if(1&p&&(e.ynx(0),e.TgZ(1,"mat-option",34),e._uU(2),e.qZA(),e.BQk()),2&p){const _=E.$implicit;e.xp6(1),e.Q6J("value",_),e.xp6(1),e.hij(" ",_.description," ")}}function Rs(p,E){if(1&p&&(e.TgZ(0,"mat-form-field",9)(1,"mat-label"),e._uU(2,"Table"),e.qZA(),e.TgZ(3,"mat-select",35),e.YNc(4,ao,3,2,"ng-container",16),e.qZA()()),2&p){const _=e.oxw();e.xp6(4),e.Q6J("ngForOf",_.genericTables)}}function Ol(p,E){1&p&&(e.TgZ(0,"mat-icon",43),e._uU(1,"cancel"),e.qZA())}function Vi(p,E){if(1&p){const _=e.EpF();e.TgZ(0,"mat-chip",41),e.NdJ("removed",function(){const ae=e.CHM(_).$implicit,Ue=e.oxw(2);return e.KtG(Ue.remove(ae))}),e._uU(1),e.YNc(2,Ol,2,0,"mat-icon",42),e.qZA()}if(2&p){const _=E.$implicit,S=e.oxw(2);e.Q6J("selectable",S.selectable)("removable",S.removable),e.xp6(1),e.hij(" ",_.reponse," "),e.xp6(1),e.Q6J("ngIf",S.removable)}}function Ma(p,E){if(1&p){const _=e.EpF();e.TgZ(0,"mat-form-field",36)(1,"mat-label"),e._uU(2,"Options du select"),e.qZA(),e.TgZ(3,"mat-chip-list",37,38),e.YNc(5,Vi,3,4,"mat-chip",39),e.TgZ(6,"input",40),e.NdJ("matChipInputTokenEnd",function(k){e.CHM(_);const ae=e.oxw();return e.KtG(ae.add(k))}),e.qZA()()()}if(2&p){const _=e.MAs(4),S=e.oxw();e.xp6(5),e.Q6J("ngForOf",S.options),e.xp6(1),e.Q6J("matChipInputFor",_)("matChipInputSeparatorKeyCodes",S.separatorKeysCodes)("matChipInputAddOnBlur",S.addOnBlur)}}function ar(p,E){if(1&p&&(e.ynx(0),e.TgZ(1,"mat-option",34),e._uU(2),e.qZA(),e.BQk()),2&p){const _=E.$implicit;e.xp6(1),e.Q6J("value",_.idParam),e.xp6(1),e.hij(" ",_.description," ")}}function Ds(p,E){1&p&&(e.TgZ(0,"div"),e._uU(1," ce champs est obligatoire"),e.qZA())}function Br(p,E){if(1&p&&(e.TgZ(0,"mat-error",32),e.YNc(1,Ds,2,0,"div",33),e.qZA()),2&p){const _=e.oxw();e.xp6(1),e.Q6J("ngIf",_.formCreationDetailRisque.controls.categorieRisquelist.errors.required)}}function Rr(p,E){1&p&&(e.TgZ(0,"div"),e._uU(1," ce champs est obligatoire"),e.qZA())}function ws(p,E){if(1&p&&(e.TgZ(0,"mat-error",32),e.YNc(1,Rr,2,0,"div",33),e.qZA()),2&p){const _=e.oxw(2);e.xp6(1),e.Q6J("ngIf",_.formCreationDetailRisque.controls.categorieRisque.errors.required)}}function Po(p,E){if(1&p&&(e.TgZ(0,"mat-form-field",9)(1,"mat-label"),e._uU(2,"Nouvelle Cat\xe9gorie"),e.qZA(),e._UZ(3,"input",44),e.YNc(4,ws,2,1,"mat-error",11),e.qZA()),2&p){const _=e.oxw();e.xp6(4),e.Q6J("ngIf",_.formCreationDetailRisque.controls.categorieRisque.errors)}}function yo(p,E){if(1&p&&(e.ynx(0),e.TgZ(1,"mat-option",34),e._uU(2),e.qZA(),e.BQk()),2&p){const _=E.$implicit;e.xp6(1),e.Q6J("value",_.idParamRisque),e.xp6(1),e.hij(" ",_.libelle," ")}}function ua(p,E){if(1&p&&(e.TgZ(0,"mat-form-field",9)(1,"mat-label"),e._uU(2," Param risque p\xe8re "),e.qZA(),e.TgZ(3,"mat-select",45),e.YNc(4,yo,3,2,"ng-container",16),e.qZA()()),2&p){const _=e.oxw();e.xp6(4),e.Q6J("ngForOf",_.paramRisqueByType)}}function Os(p,E){if(1&p&&(e.ynx(0),e.TgZ(1,"mat-option",34),e._uU(2),e.qZA(),e.BQk()),2&p){const _=E.$implicit;e.xp6(1),e.Q6J("value",_.idParamRisque),e.xp6(1),e.hij(" ",_.libelle," ")}}function ks(p,E){if(1&p&&(e.TgZ(0,"mat-form-field",9)(1,"mat-label"),e._uU(2," Liste Param risque "),e.qZA(),e.TgZ(3,"mat-select",46),e.YNc(4,Os,3,2,"ng-container",16),e.qZA()()),2&p){const _=e.oxw();e.xp6(4),e.Q6J("ngForOf",_.paramRisqueByType)}}function ho(p,E){1&p&&(e.TgZ(0,"div"),e._uU(1," ce champs est obligatoire"),e.qZA())}function Kr(p,E){if(1&p&&(e.TgZ(0,"mat-error",32),e.YNc(1,ho,2,0,"div",33),e.qZA()),2&p){const _=e.oxw();e.xp6(1),e.Q6J("ngIf",_.formCreationDetailRisque.controls.dateDebut.errors.required)}}function es(p,E){1&p&&(e.TgZ(0,"mat-error",32)(1,"div"),e._uU(2," Date fin est inf\xe9rieur \xe0 la date d\xe9but"),e.qZA()())}let kl=(()=>{class p{constructor(_,S,k,ae,Ue,On){this.genericService=_,this.data=S,this.formBuilderAuth=k,this.paramRisqueService=ae,this.typeRisqueService=Ue,this.router=On,this.detailRisqueCreationSuccess=!1,this.now=new Date,this.detailRisqueCreationError=!1,this.genericTables=[],this.fromTableExist=!1,this.minDate=new Date,this.options=[],this.visible=!0,this.selectable=!0,this.removable=!0,this.addOnBlur=!0,this.separatorKeysCodes=[Tr.K5,Tr.OC]}add(_){const S=_.input,k=_.value;(k||"").trim()&&this.options.push({reponse:k.trim()}),S&&(S.value="")}remove(_){const S=this.options.indexOf(_);S>=0&&this.options.splice(S,1)}ngOnInit(){this.formCreationDetailRisque=this.formBuilderAuth.group({idParamRisque:[""],typeRisque:[this.data.typeRisque,[w.kI.required]],libelle:["",[w.kI.required]],tableGeneric:[null,[w.kI.required]],descriptionChamp:["",[w.kI.required]],categorieRisquelist:["",[w.kI.required]],categorieRisque:[""],orderChamp:[""],typeChamp:[""],reponses:[[]],listparam:[[]],listParamRisque:[[]],sizeChamp:[""],isParent:[!1],isFils:[!1],isList:[!1],idParamParent:[""],dateDebut:["",[w.kI.required]],dateFin:[null],auditUser:[null]}),this.genericService.getParam(JSON.parse(sessionStorage.getItem("dictionnaire")||"{}").find(_=>"C12"==_.code).idCategorie).subscribe(_=>{this.types_champs=_}),this.genericService.getParam(JSON.parse(sessionStorage.getItem("dictionnaire")||"{}").find(_=>"C28"==_.code).idCategorie).subscribe(_=>{this.categories=_}),this.paramRisqueService.getParamRisqueByTypeRisque(this.data.typeRisque.idTypeRisque).subscribe(_=>{this.paramRisqueByType=_})}submitCreationDetailRisque(_){if(this.formCreationDetailRisque.valid)this.formCreationDetailRisque.get("dateDebut").setValue(o(this.formCreationDetailRisque.get("dateDebut").value).format("YYYY-MM-DD")),Object.assign(this.formCreationDetailRisque.value,{idcategorie:72}),192==this.categorieRisque?(this.formCreationDetailRisque.get("categorieRisque").setValidators([w.kI.required]),Object.assign(this.formCreationDetailRisque.value,{categorieParamRisque:{idParam:null,description:this.formCreationDetailRisque.get("categorieRisque").value}})):(this.formCreationDetailRisque.get("categorieRisque").setValidators([]),Object.assign(this.formCreationDetailRisque.value,{categorieParamRisque:{idParam:this.categorieRisque,description:null}})),this.formCreationDetailRisque.value.reponses=this.options,this.formCreationDetailRisque.value.listparam.map(S=>{this.formCreationDetailRisque.value.listParamRisque.push({idParamRisque:S})}),this.formCreationDetailRisque.removeControl("listparam"),this.paramRisqueService.addParamRisque(this.formCreationDetailRisque.value).subscribe(S=>{this.detailRisqueCreationSuccess=!0,this.detailRisqueCreationError=!1,this.idDetailRisque=S.idParamRisque,_.resetForm(),this.formCreationDetailRisque.reset()},S=>{this.detailRisqueCreationError=!0,this.detailRisqueCreationSuccess=!1,this.messageError=S.ErreurMessage?S.ErreurMessage:S.message});else{const S=[],k=this.formCreationDetailRisque.controls;for(const ae in k)k[ae].invalid&&S.push(ae)}}debutDateChange(_){this.minDate=_}getCategorie(_){this.categorieRisque=_.value}getTypeChamp(_){"L08"==_.code?(this.fromTableExist=!0,this.formCreationDetailRisque.get("tableGeneric").setValidators([w.kI.required]),this.getTableGeneric()):this.formCreationDetailRisque.get("tableGeneric").setValidators([]),this.formCreationDetailRisque.get("tableGeneric").updateValueAndValidity()}getTableGeneric(){this.genericService.getAllGenericTables().subscribe({next:_=>{this.genericTables=_},error:_=>{console.log(_)}})}}return p.\u0275fac=function(_){return new(_||p)(e.Y36(_o.M),e.Y36(xe.WI),e.Y36(w.qu),e.Y36(Xa.D),e.Y36(Hr),e.Y36(ee.F0))},p.\u0275cmp=e.Xpm({type:p,selectors:[["app-creation-param-risque-"]],decls:75,vars:21,consts:[[1,"heading"],[2,"float","right","font-size","24px"],["aria-hidden","false","aria-label","","matTooltip","","matTooltipPosition","right","mat-dialog-close","",1,"material-symbols-outlined"],["class","alert alert-success",4,"ngIf"],["class","alert alert-danger",4,"ngIf"],[1,"mat-typography"],[1,"login-form",3,"formGroup","ngSubmit"],["formDirective","ngForm"],[1,"row"],["appearance","outline",1,"col-md-6"],["type","text","matInput","","placeholder","","formControlName","libelle"],["class","invalid-feedback",4,"ngIf"],["type","text","matInput","","placeholder","","formControlName","descriptionChamp"],["type","number","matInput","","placeholder","","formControlName","orderChamp"],["type","number","matInput","","placeholder","","formControlName","sizeChamp"],["formControlName","typeChamp",3,"selectionChange"],[4,"ngFor","ngForOf"],["class","col-md-6","appearance","outline",4,"ngIf"],["formControlName","isParent",1,"col-md-3",2,"padding-left","2%","padding-top","1.5%"],["formControlName","isFils",1,"col-md-3",2,"padding-left","2%","padding-top","1.5%"],["class","col-md-12","appearance","outline",4,"ngIf"],["formControlName","categorieRisquelist",3,"ngModel","selectionChange","ngModelChange"],["formControlName","isList",1,"col-md-6",2,"padding-left","2%","padding-top","1.5%"],["matInput","","formControlName","dateDebut",3,"matDatepicker","dateChange"],["matSuffix","",3,"for"],["pickerDateDebut",""],["matInput","","formControlName","dateFin",3,"min","matDatepicker"],["pickerDateFin",""],["type","submit",1,"btn","btn-action"],["mat-dialog-close","",1,"btn","btn-cancel"],[1,"alert","alert-success"],[1,"alert","alert-danger"],[1,"invalid-feedback"],[4,"ngIf"],[3,"value"],["formControlName","tableGeneric"],["appearance","outline",1,"col-md-12"],["aria-label","option selection"],["chipList",""],[3,"selectable","removable","removed",4,"ngFor","ngForOf"],["placeholder","New option...",3,"matChipInputFor","matChipInputSeparatorKeyCodes","matChipInputAddOnBlur","matChipInputTokenEnd"],[3,"selectable","removable","removed"],["matChipRemove","",4,"ngIf"],["matChipRemove",""],["type","text","matInput","","placeholder","","formControlName","categorieRisque"],["formControlName","idParamParent"],["formControlName","listparam","multiple",""]],template:function(_,S){if(1&_){const k=e.EpF();e.TgZ(0,"h2",0),e._uU(1,"Cr\xe9er parametre risque "),e.TgZ(2,"span",1)(3,"mat-icon",2),e._uU(4," close "),e.qZA()()(),e._UZ(5,"mat-divider"),e.YNc(6,Vo,2,1,"div",3),e.YNc(7,cl,2,1,"div",4),e.TgZ(8,"mat-dialog-content",5)(9,"form",6,7),e.NdJ("ngSubmit",function(){e.CHM(k);const Ue=e.MAs(10);return e.KtG(S.submitCreationDetailRisque(Ue))}),e.TgZ(11,"div",8)(12,"mat-form-field",9)(13,"mat-label"),e._uU(14,"Libelle"),e.qZA(),e._UZ(15,"input",10),e.YNc(16,si,2,1,"mat-error",11),e.qZA(),e.TgZ(17,"mat-form-field",9)(18,"mat-label"),e._uU(19,"Description"),e.qZA(),e._UZ(20,"input",12),e.YNc(21,ml,2,1,"mat-error",11),e.qZA(),e.TgZ(22,"mat-form-field",9)(23,"mat-label"),e._uU(24,"Num\xe9ro d'ordre"),e.qZA(),e._UZ(25,"input",13),e.qZA(),e.TgZ(26,"mat-form-field",9)(27,"mat-label"),e._uU(28,"Taille"),e.qZA(),e._UZ(29,"input",14),e.qZA(),e.TgZ(30,"div",8)(31,"mat-form-field",9)(32,"mat-label"),e._uU(33," Type Champ "),e.qZA(),e.TgZ(34,"mat-select",15),e.NdJ("selectionChange",function(Ue){return S.getTypeChamp(Ue.value)}),e.YNc(35,Es,3,2,"ng-container",16),e.qZA()(),e.YNc(36,Rs,5,1,"mat-form-field",17),e.TgZ(37,"mat-checkbox",18),e._uU(38,"Ce param risque est il p\xe8re ?"),e.qZA(),e.TgZ(39,"mat-checkbox",19),e._uU(40,"Ce param risque est il fils ?"),e.qZA(),e.YNc(41,Ma,7,4,"mat-form-field",20),e.qZA(),e.TgZ(42,"div",8)(43,"mat-form-field",9)(44,"mat-label"),e._uU(45," Cat\xe9gorie Risque "),e.qZA(),e.TgZ(46,"mat-select",21),e.NdJ("selectionChange",function(Ue){return S.getCategorie(Ue)})("ngModelChange",function(Ue){return S.categorieRisque=Ue}),e.YNc(47,ar,3,2,"ng-container",16),e.qZA(),e.YNc(48,Br,2,1,"mat-error",11),e.qZA(),e.YNc(49,Po,5,1,"mat-form-field",17),e.YNc(50,ua,5,1,"mat-form-field",17),e.TgZ(51,"mat-checkbox",22),e._uU(52,"Ce paramRisque contient une liste ?"),e.qZA(),e.YNc(53,ks,5,1,"mat-form-field",17),e.qZA(),e.TgZ(54,"mat-form-field",9)(55,"mat-label"),e._uU(56,"Date debut"),e.qZA(),e.TgZ(57,"input",23),e.NdJ("dateChange",function(Ue){return S.debutDateChange(Ue.value)}),e.qZA(),e._UZ(58,"mat-datepicker-toggle",24)(59,"mat-datepicker",null,25),e.YNc(61,Kr,2,1,"mat-error",11),e.qZA(),e.TgZ(62,"mat-form-field",9)(63,"mat-label"),e._uU(64,"Date fin"),e.qZA(),e._UZ(65,"input",26)(66,"mat-datepicker-toggle",24)(67,"mat-datepicker",null,27),e.YNc(69,es,3,0,"mat-error",11),e.qZA(),e.TgZ(70,"div")(71,"button",28),e._uU(72,"Envoyer"),e.qZA(),e.TgZ(73,"button",29),e._uU(74,"Annuler"),e.qZA()()()()()}if(2&_){const k=e.MAs(60),ae=e.MAs(68);e.xp6(6),e.Q6J("ngIf",S.detailRisqueCreationSuccess),e.xp6(1),e.Q6J("ngIf",S.detailRisqueCreationError),e.xp6(2),e.Q6J("formGroup",S.formCreationDetailRisque),e.xp6(7),e.Q6J("ngIf",S.formCreationDetailRisque.controls.libelle.errors),e.xp6(5),e.Q6J("ngIf",S.formCreationDetailRisque.controls.descriptionChamp.errors),e.xp6(14),e.Q6J("ngForOf",S.types_champs),e.xp6(1),e.Q6J("ngIf",S.fromTableExist),e.xp6(5),e.Q6J("ngIf","L01"==(null==S.formCreationDetailRisque.value.typeChamp?null:S.formCreationDetailRisque.value.typeChamp.code)),e.xp6(5),e.Q6J("ngModel",S.categorieRisque),e.xp6(1),e.Q6J("ngForOf",S.categories),e.xp6(1),e.Q6J("ngIf",S.formCreationDetailRisque.controls.categorieRisquelist.errors),e.xp6(1),e.Q6J("ngIf",192==S.categorieRisque),e.xp6(1),e.Q6J("ngIf",S.formCreationDetailRisque.value.isFils),e.xp6(3),e.Q6J("ngIf",S.formCreationDetailRisque.value.isList),e.xp6(4),e.Q6J("matDatepicker",k),e.xp6(1),e.Q6J("for",k),e.xp6(3),e.Q6J("ngIf",S.formCreationDetailRisque.controls.dateDebut.errors),e.xp6(4),e.Q6J("min",S.minDate)("matDatepicker",ae),e.xp6(1),e.Q6J("for",ae),e.xp6(3),e.Q6J("ngIf",S.formCreationDetailRisque.controls.dateFin.hasError("matDatepickerMin"))}},dependencies:[Se.sg,Se.O5,O.d,Mn.Hw,w._Y,w.Fj,w.wV,w.JJ,w.JL,w.sg,w.u,J.TO,J.KE,J.hX,J.R9,he.Nt,oo.gM,xe.ZT,xe.xY,Ze.Mq,Ze.hl,Ze.nW,l.gD,t.ey,Do.oG,$r.qn,$r.HS,$r.oH,$r.qH],styles:["button.btn.btn-action[_ngcontent-%COMP%]{float:right}h2.heading[_ngcontent-%COMP%]{color:#00008f;font-weight:700!important;letter-spacing:.5px}.mat-dialog-content[_ngcontent-%COMP%]{padding-top:15px}.mat-radio-button[_ngcontent-%COMP%]{margin:0 12px}.row-button[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:0 3rem;margin-top:2rem}"]}),p})();var Ml=B(5226),Yo=B.n(Ml);function Ua(p,E){if(1&p&&(e.TgZ(0,"div",7),e._uU(1),e.qZA()),2&p){const _=e.oxw();e.xp6(1),e.hij(" Le param\xe8tre risque N\xb0",_.idDetailRisque," a \xe9t\xe9 modifier avec succ\xe9s\n")}}function Ul(p,E){if(1&p&&(e.TgZ(0,"div",8),e._uU(1),e.qZA()),2&p){const _=e.oxw();e.xp6(1),e.hij(" ",_.messageError,"\n")}}function dl(p,E){1&p&&(e.TgZ(0,"div"),e._uU(1," ce champs est obligatoire "),e.qZA())}function tr(p,E){if(1&p&&(e.TgZ(0,"mat-error",33),e.YNc(1,dl,2,0,"div",34),e.qZA()),2&p){const _=e.oxw(2);e.xp6(1),e.Q6J("ngIf",_.formEditDetailRisque.controls.libelle.errors.required)}}function Ms(p,E){1&p&&(e.TgZ(0,"div"),e._uU(1," ce champs est obligatoire "),e.qZA())}function Dn(p,E){if(1&p&&(e.TgZ(0,"mat-error",33),e.YNc(1,Ms,2,0,"div",34),e.qZA()),2&p){const _=e.oxw(2);e.xp6(1),e.Q6J("ngIf",_.formEditDetailRisque.controls.descriptionChamp.errors.required)}}function ts(p,E){if(1&p&&(e.ynx(0),e.TgZ(1,"mat-option",35),e._uU(2),e.qZA(),e.BQk()),2&p){const _=E.$implicit;e.xp6(1),e.Q6J("value",_.idParam),e.xp6(1),e.hij(" ",_.description," ")}}function Kl(p,E){if(1&p&&(e.ynx(0),e.TgZ(1,"mat-option",35),e._uU(2),e.qZA(),e.BQk()),2&p){const _=E.$implicit;e.xp6(1),e.Q6J("value",_),e.xp6(1),e.hij(" ",_.description," ")}}function ns(p,E){if(1&p&&(e.TgZ(0,"mat-form-field",12)(1,"mat-label"),e._uU(2,"Table"),e.qZA(),e.TgZ(3,"mat-select",36),e.YNc(4,Kl,3,2,"ng-container",19),e.qZA()()),2&p){const _=e.oxw(2);e.xp6(4),e.Q6J("ngForOf",_.genericTables)}}function Pa(p,E){1&p&&(e.TgZ(0,"mat-icon",44),e._uU(1,"cancel"),e.qZA())}function Ho(p,E){if(1&p){const _=e.EpF();e.TgZ(0,"mat-chip",42),e.NdJ("removed",function(){const ae=e.CHM(_).$implicit,Ue=e.oxw(3);return e.KtG(Ue.remove(ae))}),e._uU(1),e.YNc(2,Pa,2,0,"mat-icon",43),e.qZA()}if(2&p){const _=E.$implicit,S=e.oxw(3);e.Q6J("selectable",S.selectable)("removable",S.removable),e.xp6(1),e.hij(" ",_.reponse," "),e.xp6(1),e.Q6J("ngIf",S.removable)}}function ma(p,E){if(1&p){const _=e.EpF();e.TgZ(0,"mat-form-field",37)(1,"mat-label"),e._uU(2,"Options du select"),e.qZA(),e.TgZ(3,"mat-chip-list",38,39),e.YNc(5,Ho,3,4,"mat-chip",40),e.TgZ(6,"input",41),e.NdJ("matChipInputTokenEnd",function(k){e.CHM(_);const ae=e.oxw(2);return e.KtG(ae.add(k))}),e.qZA()()()}if(2&p){const _=e.MAs(4),S=e.oxw(2);e.xp6(5),e.Q6J("ngForOf",S.options),e.xp6(1),e.Q6J("matChipInputFor",_)("matChipInputSeparatorKeyCodes",S.separatorKeysCodes)("matChipInputAddOnBlur",S.addOnBlur)}}function wo(p,E){if(1&p&&(e.ynx(0),e.TgZ(1,"mat-option",35),e._uU(2),e.qZA(),e.BQk()),2&p){const _=E.$implicit;e.xp6(1),e.Q6J("value",_.idParam),e.xp6(1),e.hij(" ",_.description," ")}}function Us(p,E){1&p&&(e.TgZ(0,"div"),e._uU(1," ce champs est obligatoire "),e.qZA())}function is(p,E){if(1&p&&(e.TgZ(0,"mat-error",33),e.YNc(1,Us,2,0,"div",34),e.qZA()),2&p){const _=e.oxw(2);e.xp6(1),e.Q6J("ngIf",_.formEditDetailRisque.controls.categorieRisquelist.errors.required)}}function _l(p,E){1&p&&(e.TgZ(0,"div"),e._uU(1," ce champs est obligatoire "),e.qZA())}function Fs(p,E){if(1&p&&(e.TgZ(0,"mat-error",33),e.YNc(1,_l,2,0,"div",34),e.qZA()),2&p){const _=e.oxw(3);e.xp6(1),e.Q6J("ngIf",_.formEditDetailRisque.controls.categorieRisque.errors.required)}}function Fl(p,E){if(1&p&&(e.TgZ(0,"mat-form-field",12)(1,"mat-label"),e._uU(2,"Nouvelle Cat\xe9gorie"),e.qZA(),e._UZ(3,"input",45),e.YNc(4,Fs,2,1,"mat-error",14),e.qZA()),2&p){const _=e.oxw(2);e.xp6(4),e.Q6J("ngIf",_.formEditDetailRisque.controls.categorieRisque.errors)}}function Qs(p,E){if(1&p&&(e.ynx(0),e.TgZ(1,"mat-option",35),e._uU(2),e.qZA(),e.BQk()),2&p){const _=E.$implicit;e.xp6(1),e.Q6J("value",_.idParamRisque),e.xp6(1),e.hij(" ",_.libelle," ")}}function Ql(p,E){if(1&p&&(e.TgZ(0,"mat-form-field",12)(1,"mat-label"),e._uU(2," Param risque p\xe8re "),e.qZA(),e.TgZ(3,"mat-select",46),e.YNc(4,Qs,3,2,"ng-container",19),e.qZA()()),2&p){const _=e.oxw(2);e.xp6(4),e.Q6J("ngForOf",_.paramRisqueByType)}}function pl(p,E){if(1&p&&(e.ynx(0),e.TgZ(1,"mat-option",35),e._uU(2),e.qZA(),e.BQk()),2&p){const _=E.$implicit;e.xp6(1),e.Q6J("value",_.idParamRisque),e.xp6(1),e.hij(" ",_.libelle," ")}}function Jl(p,E){if(1&p){const _=e.EpF();e.TgZ(0,"mat-form-field",12)(1,"mat-label"),e._uU(2," Liste Param risque "),e.qZA(),e.TgZ(3,"mat-select",47),e.NdJ("valueChange",function(k){e.CHM(_);const ae=e.oxw(2);return e.KtG(ae.selectedList=k)}),e.YNc(4,pl,3,2,"ng-container",19),e.qZA()()}if(2&p){const _=e.oxw(2);e.xp6(3),e.Q6J("value",_.selectedList),e.xp6(1),e.Q6J("ngForOf",_.paramRisqueByType)}}function Ce(p,E){1&p&&(e.TgZ(0,"div"),e._uU(1," ce champs est obligatoire "),e.qZA())}function mt(p,E){if(1&p&&(e.TgZ(0,"mat-error",33),e.YNc(1,Ce,2,0,"div",34),e.qZA()),2&p){const _=e.oxw(2);e.xp6(1),e.Q6J("ngIf",_.formEditDetailRisque.controls.dateDebut.errors.required)}}function Pe(p,E){1&p&&(e.TgZ(0,"mat-error",33)(1,"div"),e._uU(2,"Date fin est inf\xe9rieur \xe0 la date d\xe9but"),e.qZA()())}function _t(p,E){if(1&p){const _=e.EpF();e.TgZ(0,"form",9,10),e.NdJ("ngSubmit",function(){e.CHM(_);const k=e.MAs(1),ae=e.oxw();return e.KtG(ae.submitEditDetailRisque(k))}),e.TgZ(2,"div",11)(3,"mat-form-field",12)(4,"mat-label"),e._uU(5,"Libelle"),e.qZA(),e._UZ(6,"input",13),e.YNc(7,tr,2,1,"mat-error",14),e.qZA(),e.TgZ(8,"mat-form-field",12)(9,"mat-label"),e._uU(10,"Description"),e.qZA(),e._UZ(11,"input",15),e.YNc(12,Dn,2,1,"mat-error",14),e.qZA(),e.TgZ(13,"mat-form-field",12)(14,"mat-label"),e._uU(15,"num\xe9ro d'ordre"),e.qZA(),e._UZ(16,"input",16),e.qZA(),e.TgZ(17,"mat-form-field",12)(18,"mat-label"),e._uU(19,"Taille "),e.qZA(),e._UZ(20,"input",17),e.qZA(),e.TgZ(21,"div",11)(22,"mat-form-field",12)(23,"mat-label"),e._uU(24," Type Champ "),e.qZA(),e.TgZ(25,"mat-select",18),e.NdJ("selectionChange",function(k){e.CHM(_);const ae=e.oxw();return e.KtG(ae.getTypeChamp(k.value))}),e.YNc(26,ts,3,2,"ng-container",19),e.qZA()(),e.YNc(27,ns,5,1,"mat-form-field",20),e.TgZ(28,"mat-checkbox",21),e._uU(29,"Ce param risque est il p\xe8re ?"),e.qZA(),e.TgZ(30,"mat-checkbox",22),e._uU(31,"Ce param risque est il fils ?"),e.qZA(),e.YNc(32,ma,7,4,"mat-form-field",23),e.qZA(),e.TgZ(33,"div",11)(34,"mat-form-field",12)(35,"mat-label"),e._uU(36," Cat\xe9gorie Risque "),e.qZA(),e.TgZ(37,"mat-select",24),e.NdJ("selectionChange",function(k){e.CHM(_);const ae=e.oxw();return e.KtG(ae.getCategorie(k))})("ngModelChange",function(k){e.CHM(_);const ae=e.oxw();return e.KtG(ae.categorieRisque.idParam=k)}),e.YNc(38,wo,3,2,"ng-container",19),e.qZA(),e.YNc(39,is,2,1,"mat-error",14),e.qZA(),e.TgZ(40,"p"),e._uU(41),e.qZA(),e.YNc(42,Fl,5,1,"mat-form-field",20),e.YNc(43,Ql,5,1,"mat-form-field",20),e.TgZ(44,"mat-checkbox",25),e._uU(45,"Ce paramRisque contient une liste ?"),e.qZA(),e.YNc(46,Jl,5,2,"mat-form-field",20),e.qZA(),e.TgZ(47,"mat-form-field",12)(48,"mat-label"),e._uU(49,"Date debut"),e.qZA(),e.TgZ(50,"input",26),e.NdJ("dateChange",function(k){e.CHM(_);const ae=e.oxw();return e.KtG(ae.debutDateChange(k.value))}),e.qZA(),e._UZ(51,"mat-datepicker-toggle",27)(52,"mat-datepicker",null,28),e.YNc(54,mt,2,1,"mat-error",14),e.qZA(),e.TgZ(55,"mat-form-field",12)(56,"mat-label"),e._uU(57,"Date fin"),e.qZA(),e._UZ(58,"input",29)(59,"mat-datepicker-toggle",27)(60,"mat-datepicker",null,30),e.YNc(62,Pe,3,0,"mat-error",14),e.qZA(),e.TgZ(63,"div")(64,"button",31),e._uU(65,"Envoyer"),e.qZA(),e.TgZ(66,"button",32),e._uU(67," Annuler "),e.qZA()()()()}if(2&p){const _=e.MAs(53),S=e.MAs(61),k=e.oxw();e.Q6J("formGroup",k.formEditDetailRisque),e.xp6(7),e.Q6J("ngIf",k.formEditDetailRisque.controls.libelle.errors),e.xp6(5),e.Q6J("ngIf",k.formEditDetailRisque.controls.descriptionChamp.errors),e.xp6(14),e.Q6J("ngForOf",k.types_champs),e.xp6(1),e.Q6J("ngIf",k.fromTableExist),e.xp6(5),e.Q6J("ngIf",k.checkListOf),e.xp6(5),e.Q6J("ngModel",k.categorieRisque.idParam),e.xp6(1),e.Q6J("ngForOf",k.categories),e.xp6(1),e.Q6J("ngIf",k.formEditDetailRisque.controls.categorieRisquelist.errors),e.xp6(2),e.hij("La valeur s\xe9lectionn\xe9e est : ",k.categorieRisque,""),e.xp6(1),e.Q6J("ngIf",null==k.categorieRisque||null==k.categorieRisque),e.xp6(1),e.Q6J("ngIf",k.formEditDetailRisque.value.isFils),e.xp6(3),e.Q6J("ngIf",k.formEditDetailRisque.value.isList),e.xp6(4),e.Q6J("matDatepicker",_),e.xp6(1),e.Q6J("for",_),e.xp6(3),e.Q6J("ngIf",k.formEditDetailRisque.controls.dateDebut.errors),e.xp6(4),e.Q6J("min",k.minDate)("matDatepicker",S),e.xp6(1),e.Q6J("for",S),e.xp6(3),e.Q6J("ngIf",k.formEditDetailRisque.controls.dateFin.hasError("matDatepickerMin"))}}let yt=(()=>{class p{constructor(_,S,k,ae,Ue,On,vr){this.dialogRef=_,this.data=S,this.formBuilderAuth=k,this.paramRisqueService=ae,this.typeRisqueService=Ue,this.router=On,this.genericService=vr,this.fromTableExist=!1,this.detailRisqueEditSuccess=!1,this.now=new Date,this.detailRisqueEditError=!1,this.checkListOf=!1,this.minDate=new Date,this.options=[],this.visible=!0,this.selectable=!0,this.removable=!0,this.addOnBlur=!0,this.genericTables=[],this.separatorKeysCodes=[Tr.K5,Tr.OC]}ngOnInit(){this.getDetailRisqueServiceById(this.data.idDetailRisque)}getDetailRisqueServiceById(_){this.genericService.getParam(JSON.parse(sessionStorage.getItem("dictionnaire")||"{}").find(S=>"C12"==S.code).idCategorie).subscribe(S=>{this.types_champs=S}),this.paramRisqueService.getParamRisqueById(_).subscribe(S=>{this.selectedList=S.listdetails?.map(k=>k.idParamRisqueFils.idParamRisque),this.initFormEditDetailRisque(S)}),this.paramRisqueService.getParamRisqueByTypeRisque(this.data.idTypeRisque).subscribe(S=>{this.paramRisqueByType=S})}initFormEditDetailRisque(_){this.formEditDetailRisque=this.formBuilderAuth.group({idParamRisque:[_.idParamRisque],typeRisque:[_.typeRisque,[w.kI.required]],libelle:[_.libelle,[w.kI.required]],tableGeneric:[null,[]],descriptionChamp:[_.descriptionChamp,[w.kI.required]],categorieRisquelist:[_.categorieParamRisque?.idParam,[w.kI.required]],categorieRisque:[""],orderChamp:[_.orderChamp],typeChamp:[_.typeChamp?_.typeChamp.idParam:""],reponses:[_.reponses],sizeChamp:[_.sizeChamp],isParent:[!1],listparam:[this.selectedList],listParamRisque:[[]],isFils:[!1],isList:[_.isList],idParamParent:[""],dateDebut:[_.dateDebut,[w.kI.required]],dateFin:[_.dateFin],auditUser:[_.auditUser]}),this.categorieRisque=_.categorieParamRisque,_.reponses&&(this.options=_.reponses),this.genericService.getParam(JSON.parse(sessionStorage.getItem("dictionnaire")||"{}").find(S=>"C28"==S.code).idCategorie).subscribe(S=>{this.categories=S}),console.log("codeCategorie"),console.log(_.categorieParamRisque),this.checkListOf="L01"==_.typeChamp.code}add(_){const S=_.input,k=_.value;(k||"").trim()&&this.options.push({reponse:k.trim()}),S&&(S.value="")}remove(_){const S=this.options.indexOf(_);S>=0&&this.options.splice(S,1)}submitEditDetailRisque(_){this.formEditDetailRisque.valid&&(this.formEditDetailRisque.get("dateDebut").setValue(o(this.formEditDetailRisque.get("dateDebut").value).format("YYYY-MM-DD")),Object.assign(this.formEditDetailRisque.value,{idcategorie:72}),"CP239"==this.categorieRisque?(this.formEditDetailRisque.get("categorieRisque").setValidators([w.kI.required]),Object.assign(this.formEditDetailRisque.value,{categorieParamRisque:{idParam:null,description:this.formEditDetailRisque.get("categorieRisque").value}})):(this.formEditDetailRisque.get("categorieRisque").setValidators([]),Object.assign(this.formEditDetailRisque.value,{categorieParamRisque:{idParam:this.categorieRisque.idParam,description:null}})),this.formEditDetailRisque.value.reponses=this.options,this.formEditDetailRisque.value.listparam.map(S=>{this.formEditDetailRisque.value.listParamRisque.push({idParamRisque:S})}),this.formEditDetailRisque.removeControl("listparam"),this.formEditDetailRisque.value.reponses=this.options,console.log("submitEditForm--------\x3e"),console.log(this.formEditDetailRisque.value),this.paramRisqueService.updateParamRisque(this.formEditDetailRisque.value,this.data.idDetailRisque).subscribe({next:S=>{this.detailRisqueEditSuccess=!0,this.detailRisqueEditError=!1,this.idDetailRisque=S.idParamRisque,Yo().fire(`Le param risque N\xb0${S.idParamRisque} a \xe9t\xe9 modifi\xe9 avec succ\xe9s`,"","success"),this.dialogRef.close()},error:S=>{this.detailRisqueEditError=!0,this.detailRisqueEditSuccess=!1,this.messageError=S.ErreurMessage?S.ErreurMessage:S.message,Yo().fire(this.messageError,"","error")}}))}debutDateChange(_){this.minDate=_}getTypeChamp(_){"L08"==this.types_champs.find(S=>S.idParam==_).code?(this.fromTableExist=!0,this.checkListOf=!1,this.formEditDetailRisque.get("tableGeneric").setValidators([w.kI.required]),this.getTableGeneric()):"L01"==this.types_champs.find(S=>S.idParam==_).code?this.checkListOf=!0:(this.fromTableExist=!1,this.checkListOf=!1,this.formEditDetailRisque.get("tableGeneric").setValidators([]),this.formEditDetailRisque.get("tableGeneric").updateValueAndValidity())}getTableGeneric(){this.genericService.getAllGenericTables().subscribe({next:_=>{this.genericTables=_},error:_=>{console.log(_)}})}getCategorie(_){this.categorieRisque=this.categories.find(S=>S.idParam==_.value),console.log("selectedCat"),console.log(this.categorieRisque)}}return p.\u0275fac=function(_){return new(_||p)(e.Y36(xe.so),e.Y36(xe.WI),e.Y36(w.qu),e.Y36(Xa.D),e.Y36(Hr),e.Y36(ee.F0),e.Y36(_o.M))},p.\u0275cmp=e.Xpm({type:p,selectors:[["app-edit-param-risque-dialog"]],decls:10,vars:3,consts:[[1,"heading"],[2,"float","right","font-size","24px"],["aria-hidden","false","aria-label","","matTooltip","","matTooltipPosition","right","mat--close","",1,"material-symbols-outlined"],["class","alert alert-success",4,"ngIf"],["class","alert alert-danger",4,"ngIf"],[1,"mat-typography"],["class","login-form",3,"formGroup","ngSubmit",4,"ngIf"],[1,"alert","alert-success"],[1,"alert","alert-danger"],[1,"login-form",3,"formGroup","ngSubmit"],["formDirective","ngForm"],[1,"row"],["appearance","outline",1,"col-md-6"],["type","text","matInput","","placeholder","","formControlName","libelle"],["class","invalid-feedback",4,"ngIf"],["type","text","matInput","","placeholder","","formControlName","descriptionChamp"],["type","number","matInput","","placeholder","","formControlName","orderChamp"],["type","number","matInput","","placeholder","","formControlName","sizeChamp"],["formControlName","typeChamp",3,"selectionChange"],[4,"ngFor","ngForOf"],["class","col-md-6","appearance","outline",4,"ngIf"],["formControlName","isParent",1,"col-md-3",2,"padding-left","2%","padding-top","1.5%"],["formControlName","isFils",1,"col-md-3",2,"padding-left","2%","padding-top","1.5%"],["class","col-md-12","appearance","outline",4,"ngIf"],["formControlName","categorieRisquelist",3,"ngModel","selectionChange","ngModelChange"],["formControlName","isList",1,"col-md-6",2,"padding-left","2%","padding-top","1.5%"],["matInput","","formControlName","dateDebut",3,"matDatepicker","dateChange"],["matSuffix","",3,"for"],["pickerDateDebut",""],["matInput","","formControlName","dateFin",3,"min","matDatepicker"],["pickerDateFin",""],["type","submit",1,"btn","btn-action"],["type","button","mat-dialog-close","",1,"btn","btn-cancel"],[1,"invalid-feedback"],[4,"ngIf"],[3,"value"],["formControlName","tableGeneric"],["appearance","outline",1,"col-md-12"],["aria-label","option selection"],["chipList",""],[3,"selectable","removable","removed",4,"ngFor","ngForOf"],["placeholder","New option...",3,"matChipInputFor","matChipInputSeparatorKeyCodes","matChipInputAddOnBlur","matChipInputTokenEnd"],[3,"selectable","removable","removed"],["matChipRemove","",4,"ngIf"],["matChipRemove",""],["type","text","matInput","","placeholder","","formControlName","categorieRisque"],["formControlName","idParamParent"],["formControlName","listparam","multiple","",3,"value","valueChange"]],template:function(_,S){1&_&&(e.TgZ(0,"h2",0),e._uU(1," Modification parametre risque "),e.TgZ(2,"span",1)(3,"mat-icon",2),e._uU(4," close "),e.qZA()()(),e._UZ(5,"mat-divider"),e.YNc(6,Ua,2,1,"div",3),e.YNc(7,Ul,2,1,"div",4),e.TgZ(8,"mat-dialog-content",5),e.YNc(9,_t,68,20,"form",6),e.qZA()),2&_&&(e.xp6(6),e.Q6J("ngIf",S.detailRisqueEditSuccess),e.xp6(1),e.Q6J("ngIf",S.detailRisqueEditError),e.xp6(2),e.Q6J("ngIf",S.formEditDetailRisque))},dependencies:[Se.sg,Se.O5,O.d,Mn.Hw,w._Y,w.Fj,w.wV,w.JJ,w.JL,w.sg,w.u,J.TO,J.KE,J.hX,J.R9,he.Nt,oo.gM,xe.ZT,xe.xY,Ze.Mq,Ze.hl,Ze.nW,l.gD,t.ey,Do.oG,$r.qn,$r.HS,$r.oH,$r.qH],styles:["button.btn.btn-action[_ngcontent-%COMP%]{float:right}h2.heading[_ngcontent-%COMP%]{color:#00008f;font-weight:700!important;letter-spacing:.5px}.mat-dialog-content[_ngcontent-%COMP%]{padding-top:15px}.mat-radio-button[_ngcontent-%COMP%]{margin:0 12px}.row-button[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:0 3rem;margin-top:2rem}"]}),p})();function rn(p,E){1&p&&(e.TgZ(0,"th",19),e._uU(1," ID "),e.qZA())}function eo(p,E){if(1&p&&(e.TgZ(0,"td",20),e._uU(1),e.qZA()),2&p){const _=E.$implicit;e.xp6(1),e.hij(" ",_.idParamRisque," ")}}function sr(p,E){1&p&&(e.TgZ(0,"th",19),e._uU(1," libelle "),e.qZA())}function Dr(p,E){if(1&p&&(e.TgZ(0,"td",20),e._uU(1),e.qZA()),2&p){const _=E.$implicit;e.xp6(1),e.hij(" ",_.libelle," ")}}function wr(p,E){1&p&&(e.TgZ(0,"th",19),e._uU(1," Description "),e.qZA())}function Or(p,E){if(1&p&&(e.TgZ(0,"td",20),e._uU(1),e.qZA()),2&p){const _=E.$implicit;e.xp6(1),e.hij(" ",_.descriptionChamp," ")}}function pr(p,E){1&p&&(e.TgZ(0,"th",19),e._uU(1," Num\xe9ro d'ordre "),e.qZA())}function Za(p,E){if(1&p&&(e.TgZ(0,"td",20),e._uU(1),e.qZA()),2&p){const _=E.$implicit;e.xp6(1),e.hij(" ",_.orderChamp," ")}}function os(p,E){1&p&&(e.TgZ(0,"th",19),e._uU(1,"Cat\xe9gorie Risque "),e.qZA())}function fl(p,E){if(1&p&&(e.TgZ(0,"td",20),e._uU(1),e.qZA()),2&p){const _=E.$implicit;e.xp6(1),e.hij(" ",null==_.categorieParamRisque?null:_.categorieParamRisque.description," ")}}function Js(p,E){1&p&&(e.TgZ(0,"th",19),e._uU(1," Taille "),e.qZA())}function qa(p,E){if(1&p&&(e.TgZ(0,"td",20),e._uU(1),e.qZA()),2&p){const _=E.$implicit;e.xp6(1),e.hij(" ",_.sizeChamp," ")}}function Ac(p,E){1&p&&(e.TgZ(0,"th",19),e._uU(1," Type champ "),e.qZA())}function Wo(p,E){if(1&p&&(e.TgZ(0,"td",20),e._uU(1),e.qZA()),2&p){const _=E.$implicit;e.xp6(1),e.hij(" ",_.typeChamp?_.typeChamp.description:""," ")}}function qt(p,E){1&p&&(e.TgZ(0,"th",19),e._uU(1," Action "),e.qZA())}function an(p,E){if(1&p){const _=e.EpF();e.TgZ(0,"td",20)(1,"button",21)(2,"mat-icon"),e._uU(3,"more_vert"),e.qZA()(),e.TgZ(4,"mat-menu",22,23)(6,"button",24),e.NdJ("click",function(){const ae=e.CHM(_).$implicit,Ue=e.oxw();return e.KtG(Ue.openDialogEdit(ae.idParamRisque))}),e.TgZ(7,"mat-icon"),e._uU(8,"edit"),e.qZA(),e.TgZ(9,"span"),e._uU(10,"Modifier risque"),e.qZA()()()()}if(2&p){const _=e.MAs(5);e.xp6(1),e.Q6J("matMenuTriggerFor",_)}}function Gt(p,E){1&p&&e._UZ(0,"tr",25)}function Wn(p,E){1&p&&e._UZ(0,"tr",26)}const Qi=function(){return[5,10,50]};let xo=(()=>{class p{constructor(_,S){this.paramRisqueService=_,this.dialog=S,this.displayedColumns=["id","libelle","description","orderChamp","categorie","sizeChamp","typeChamp","action"],this.newItemEvent=new e.vpe}step(){this.newItemEvent.emit()}ngOnInit(){this.getAllDuree()}getAllDuree(){this.paramRisqueService.getParamRisqueByTypeRisque(this.typeRisque.idTypeRisque).subscribe(_=>{this.dataSource=new Q.by(_),this.paginate()})}openDialogAdd(){this.dialog.open(kl,{width:"60%",data:{typeRisque:this.typeRisque}}).afterClosed().subscribe(S=>{this.getAllDuree()})}openDialogEdit(_){this.dialog.open(yt,{width:"60%",data:{idDetailRisque:_,idTypeRisque:this.typeRisque.idTypeRisque}}).afterClosed().subscribe(k=>{this.getAllDuree()})}paginate(){this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort}}return p.\u0275fac=function(_){return new(_||p)(e.Y36(Xa.D),e.Y36(xe.uw))},p.\u0275cmp=e.Xpm({type:p,selectors:[["app-gestion-param-risque"]],viewQuery:function(_,S){if(1&_&&(e.Gf(Le.NW,5),e.Gf(qi.YE,5)),2&_){let k;e.iGM(k=e.CRH())&&(S.paginator=k.first),e.iGM(k=e.CRH())&&(S.sort=k.first)}},inputs:{typeRisque:"typeRisque"},outputs:{newItemEvent:"newItemEvent"},decls:37,vars:6,consts:[[1,"container"],[1,"header"],[1,"title-table"],[1,"btn","btn-secondary",2,"display","flex","align-items","center",3,"click"],["aria-hidden","false","aria-label","ajouter une risque ",1,"material-symbols-outlined"],["mat-table","",1,"gestion-table",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","libelle"],["matColumnDef","description"],["matColumnDef","orderChamp"],["matColumnDef","categorie"],["matColumnDef","sizeChamp"],["matColumnDef","typeChamp"],["matColumnDef","action"],["mat-header-row","","class","example-second-header-row",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["aria-label","Select\n    page of users",3,"pageSize","pageSizeOptions"],["mat-header-cell",""],["mat-cell",""],["mat-icon-button","","type","button","aria-label","menu risque list",3,"matMenuTriggerFor"],["xPosition","after"],["menu","matMenu"],["mat-menu-item","","type","button",3,"click"],["mat-header-row","",1,"example-second-header-row"],["mat-row",""]],template:function(_,S){1&_&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h2",2),e._uU(3,"Liste des risques"),e.qZA(),e.TgZ(4,"button",3),e.NdJ("click",function(){return S.openDialogAdd()}),e.TgZ(5,"mat-icon",4),e._uU(6,"add_circle"),e.qZA(),e._uU(7," Ajouter un nouveau risque "),e.qZA()(),e._UZ(8,"mat-divider"),e.TgZ(9,"table",5),e.ynx(10,6),e.YNc(11,rn,2,0,"th",7),e.YNc(12,eo,2,1,"td",8),e.BQk(),e.ynx(13,9),e.YNc(14,sr,2,0,"th",7),e.YNc(15,Dr,2,1,"td",8),e.BQk(),e.ynx(16,10),e.YNc(17,wr,2,0,"th",7),e.YNc(18,Or,2,1,"td",8),e.BQk(),e.ynx(19,11),e.YNc(20,pr,2,0,"th",7),e.YNc(21,Za,2,1,"td",8),e.BQk(),e.ynx(22,12),e.YNc(23,os,2,0,"th",7),e.YNc(24,fl,2,1,"td",8),e.BQk(),e.ynx(25,13),e.YNc(26,Js,2,0,"th",7),e.YNc(27,qa,2,1,"td",8),e.BQk(),e.ynx(28,14),e.YNc(29,Ac,2,0,"th",7),e.YNc(30,Wo,2,1,"td",8),e.BQk(),e.ynx(31,15),e.YNc(32,qt,2,0,"th",7),e.YNc(33,an,11,1,"td",8),e.BQk(),e.YNc(34,Gt,1,0,"tr",16),e.YNc(35,Wn,1,0,"tr",17),e.qZA(),e._UZ(36,"mat-paginator",18),e.qZA()),2&_&&(e.xp6(9),e.Q6J("dataSource",S.dataSource),e.xp6(25),e.Q6J("matHeaderRowDef",S.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",S.displayedColumns),e.xp6(1),e.Q6J("pageSize",10)("pageSizeOptions",e.DdM(5,Qi)))},dependencies:[O.d,Mn.Hw,Nn.VK,Nn.OP,Nn.p6,Q.BZ,Q.fO,Q.as,Q.w1,Q.Dz,Q.nj,Q.ge,Q.ev,Q.XQ,Q.Gk,Le.NW,vn.lW],styles:[".container[_ngcontent-%COMP%]{background-color:#fff;padding:40px 0;height:100%;overflow-y:auto;overflow-x:hidden}.gestion-table[_ngcontent-%COMP%]{width:100%}.gestion-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .gestion-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:16px}.gestion-table[_ngcontent-%COMP%]   .mat-header-cell[_ngcontent-%COMP%]{color:#00008f;font-weight:600}.gestion-table[_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]:nth-child(even), .gestion-table[_ngcontent-%COMP%]   .mat-header-row[_ngcontent-%COMP%]{background-color:#f7f7f9}.gestion-table[_ngcontent-%COMP%]   .mat-paginator[_ngcontent-%COMP%]{background-color:transparent;margin:20px auto auto;width:80%}.gestion-table[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{height:100%;font-size:26px;color:#00008f;width:-moz-fit-content;width:fit-content}.mat-menu-item[_ngcontent-%COMP%]{font-size:15px}.mat-menu-item[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:18px;height:-moz-fit-content;height:fit-content}.mat-menu-item[_ngcontent-%COMP%]:hover:not([disabled]), .mat-menu-item[_ngcontent-%COMP%]:hover:not([disabled])   .mat-icon[_ngcontent-%COMP%]{color:#00008f}.header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:0px 2rem}.header[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{height:-moz-fit-content;height:fit-content;font-size:29px;margin-right:1rem;width:-moz-fit-content;width:fit-content}.title-table[_ngcontent-%COMP%]{margin-bottom:0rem;font-weight:800!important;font-size:23px!important;color:#00008f!important}"]}),p})();function lr(p,E){1&p&&(e.TgZ(0,"th",21),e._uU(1," id "),e.qZA())}function ue(p,E){if(1&p&&(e.TgZ(0,"td",22),e._uU(1),e.qZA()),2&p){const _=E.$implicit;e.xp6(1),e.hij(" ",_.idTypeRisque," ")}}function je(p,E){1&p&&(e.TgZ(0,"th",21),e._uU(1," Description "),e.qZA())}function z(p,E){if(1&p&&(e.TgZ(0,"td",22),e._uU(1),e.qZA()),2&p){const _=E.$implicit;e.xp6(1),e.hij(" ",_.description," ")}}function ge(p,E){1&p&&(e.TgZ(0,"th",21),e._uU(1," Codification nationale "),e.qZA())}function we(p,E){if(1&p&&(e.TgZ(0,"td",22),e._uU(1),e.qZA()),2&p){const _=E.$implicit;e.xp6(1),e.hij(" ",_.codificationNationale," ")}}function wt(p,E){1&p&&(e.TgZ(0,"th",21),e._uU(1," Codification M\xe9tiers "),e.qZA())}function st(p,E){if(1&p&&(e.TgZ(0,"td",22),e._uU(1),e.qZA()),2&p){const _=E.$implicit;e.xp6(1),e.hij(" ",_.codificationMetier," ")}}function Tn(p,E){1&p&&(e.TgZ(0,"th",21),e._uU(1," Date d\xe9but "),e.qZA())}function Qo(p,E){if(1&p&&(e.TgZ(0,"td",22),e._uU(1),e.ALo(2,"dateFormatPipe"),e.qZA()),2&p){const _=E.$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,_.dateDebut)," ")}}function li(p,E){1&p&&(e.TgZ(0,"th",21),e._uU(1," Date fin "),e.qZA())}function To(p,E){if(1&p&&(e.TgZ(0,"td",22),e._uU(1),e.ALo(2,"dateFormatPipe"),e.qZA()),2&p){const _=E.$implicit;e.xp6(1),e.hij("",e.lcZ(2,1,_.DateFin)," ")}}function Mo(p,E){1&p&&(e.TgZ(0,"th",21),e._uU(1," Action "),e.qZA())}function Zo(p,E){if(1&p){const _=e.EpF();e.TgZ(0,"td",22)(1,"button",23)(2,"mat-icon"),e._uU(3,"more_vert"),e.qZA()(),e.TgZ(4,"mat-menu",null,24)(6,"button",25),e.NdJ("click",function(){const ae=e.CHM(_).$implicit,Ue=e.oxw(2);return e.KtG(Ue.openEditDialog(ae.idTypeRisque))}),e.TgZ(7,"mat-icon"),e._uU(8,"edit"),e.qZA(),e.TgZ(9,"span"),e._uU(10,"Modifier un type risque"),e.qZA()(),e.TgZ(11,"button",25),e.NdJ("click",function(){const ae=e.CHM(_).$implicit,Ue=e.oxw(2);return e.KtG(Ue.viewParamRisque(ae))}),e.TgZ(12,"mat-icon"),e._uU(13,"visibility"),e.qZA(),e.TgZ(14,"span"),e._uU(15,"D\xe9tails type risque"),e.qZA()()()()}if(2&p){const _=e.MAs(5);e.xp6(1),e.Q6J("matMenuTriggerFor",_)}}function Wl(p,E){1&p&&e._UZ(0,"tr",26)}function eu(p,E){1&p&&e._UZ(0,"tr",27)}const Tc=function(){return[5,10]};function Uo(p,E){if(1&p){const _=e.EpF();e.TgZ(0,"div",3)(1,"div",4)(2,"h2",5),e._uU(3,"Listes des types risque"),e.qZA(),e.TgZ(4,"button",6),e.NdJ("click",function(){e.CHM(_);const k=e.oxw();return e.KtG(k.openCreateDialog())}),e.TgZ(5,"mat-icon",7),e._uU(6,"add_circle"),e.qZA(),e._uU(7," Ajouter un nouveau type risque "),e.qZA()(),e._UZ(8,"mat-divider"),e.TgZ(9,"table",8),e.ynx(10,9),e.YNc(11,lr,2,0,"th",10),e.YNc(12,ue,2,1,"td",11),e.BQk(),e.ynx(13,12),e.YNc(14,je,2,0,"th",10),e.YNc(15,z,2,1,"td",11),e.BQk(),e.ynx(16,13),e.YNc(17,ge,2,0,"th",10),e.YNc(18,we,2,1,"td",11),e.BQk(),e.ynx(19,14),e.YNc(20,wt,2,0,"th",10),e.YNc(21,st,2,1,"td",11),e.BQk(),e.ynx(22,15),e.YNc(23,Tn,2,0,"th",10),e.YNc(24,Qo,3,3,"td",11),e.BQk(),e.ynx(25,16),e.YNc(26,li,2,0,"th",10),e.YNc(27,To,3,3,"td",11),e.BQk(),e.ynx(28,17),e.YNc(29,Mo,2,0,"th",10),e.YNc(30,Zo,16,1,"td",11),e.BQk(),e.YNc(31,Wl,1,0,"tr",18),e.YNc(32,eu,1,0,"tr",19),e.qZA(),e._UZ(33,"mat-paginator",20),e.qZA()}if(2&p){const _=e.oxw();e.xp6(9),e.Q6J("dataSource",_.dataSource),e.xp6(22),e.Q6J("matHeaderRowDef",_.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",_.displayedColumns),e.xp6(1),e.Q6J("pageSize",10)("pageSizeOptions",e.DdM(5,Tc))}}function Ls(p,E){if(1&p){const _=e.EpF();e.TgZ(0,"app-gestion-param-risque",28),e.NdJ("newItemEvent",function(){e.CHM(_);const k=e.oxw();return e.KtG(k.stepChange())}),e.qZA()}if(2&p){const _=e.oxw();e.Q6J("typeRisque",_.typeRisque)}}let sc=(()=>{class p{constructor(_,S){this.typeRisqueService=_,this.dialog=S,this.displayedColumns=["idTypeRisque","description","Codification_nationale","Codification_metier","date_Debut","date_Fin","action"],this.dataSource=new Q.by,this.step=!0}ngAfterViewInit(){this.dataSource.paginator=this.paginator,this.paginator._intl.itemsPerPageLabel="Nombre d'\xe9l\xe9ments par page"}ngOnInit(){this.getAllTypeRisque(),this.dataSource.paginator&&(this.dataSource.paginator=this.paginator)}stepChange(){this.step=!0}openCreateDialog(){this.dialog.open(ka,{width:"60%"}).afterClosed().subscribe(S=>{this.getAllTypeRisque()})}openEditDialog(_){this.dialog.open(Wa,{disableClose:!0,width:"60%",data:{idTypeRisque:_}}).afterClosed().subscribe(k=>{this.getAllTypeRisque()})}getAllTypeRisque(){this.typeRisqueService.getTypeRisqueList().subscribe({next:_=>{this.dataSource=new Q.by(_),this.paginate()},error:_=>{console.log(_)}})}paginate(){this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort}viewParamRisque(_){console.log("typeRisque"),console.log(this.typeRisque),this.step=!1,this.typeRisque=_}}return p.\u0275fac=function(_){return new(_||p)(e.Y36(Hr),e.Y36(xe.uw))},p.\u0275cmp=e.Xpm({type:p,selectors:[["app-gestion-type-risque"]],viewQuery:function(_,S){if(1&_&&(e.Gf(Le.NW,5),e.Gf(qi.YE,5)),2&_){let k;e.iGM(k=e.CRH())&&(S.paginator=k.first),e.iGM(k=e.CRH())&&(S.sort=k.first)}},decls:3,vars:2,consts:[[1,"container"],["class","",4,"ngIf"],[3,"typeRisque","newItemEvent",4,"ngIf"],[1,""],[1,"header"],[1,"title-table"],[1,"btn","btn-secondary",2,"display","flex","align-items","center",3,"click"],["aria-hidden","false","aria-label","ajouter type risque ",1,"material-symbols-outlined"],["mat-table","",1,"gestion-table",3,"dataSource"],["matColumnDef","idTypeRisque"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","description"],["matColumnDef","Codification_nationale"],["matColumnDef","Codification_metier"],["matColumnDef","date_Debut"],["matColumnDef","date_Fin"],["matColumnDef","action"],["mat-header-row","","class","example-second-header-row",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["aria-label","Select page of users",3,"pageSize","pageSizeOptions"],["mat-header-cell",""],["mat-cell",""],["mat-icon-button","","aria-label","menu duree list",3,"matMenuTriggerFor"],["menu","matMenu"],["mat-menu-item","",3,"click"],["mat-header-row","",1,"example-second-header-row"],["mat-row",""],[3,"typeRisque","newItemEvent"]],template:function(_,S){1&_&&(e.TgZ(0,"div",0),e.YNc(1,Uo,34,6,"div",1),e.YNc(2,Ls,1,1,"app-gestion-param-risque",2),e.qZA()),2&_&&(e.xp6(1),e.Q6J("ngIf",S.step),e.xp6(1),e.Q6J("ngIf",!S.step))},dependencies:[Se.O5,O.d,Mn.Hw,Nn.VK,Nn.OP,Nn.p6,Q.BZ,Q.fO,Q.as,Q.w1,Q.Dz,Q.nj,Q.ge,Q.ev,Q.XQ,Q.Gk,Le.NW,vn.lW,xo,Et.y],styles:[".container[_ngcontent-%COMP%]{background-color:#fff;padding:40px 0;height:100%;overflow-y:auto;overflow-x:hidden}.gestion-table[_ngcontent-%COMP%]{width:100%}.gestion-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .gestion-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:16px}.gestion-table[_ngcontent-%COMP%]   .mat-header-cell[_ngcontent-%COMP%]{color:#00008f;font-weight:600}.gestion-table[_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]:nth-child(even), .gestion-table[_ngcontent-%COMP%]   .mat-header-row[_ngcontent-%COMP%]{background-color:#f7f7f9}.gestion-table[_ngcontent-%COMP%]   .mat-paginator[_ngcontent-%COMP%]{background-color:transparent;margin:20px auto auto;width:80%}.gestion-table[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{height:100%;font-size:26px;color:#00008f;width:-moz-fit-content;width:fit-content}.mat-menu-item[_ngcontent-%COMP%]{font-size:15px}.mat-menu-item[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:18px;height:-moz-fit-content;height:fit-content}.mat-menu-item[_ngcontent-%COMP%]:hover:not([disabled]), .mat-menu-item[_ngcontent-%COMP%]:hover:not([disabled])   .mat-icon[_ngcontent-%COMP%]{color:#00008f}.header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:0px 2rem}.header[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{height:-moz-fit-content;height:fit-content;font-size:29px;margin-right:1rem;width:-moz-fit-content;width:fit-content}.title-table[_ngcontent-%COMP%]{margin-bottom:0rem;font-weight:800!important;font-size:23px!important;color:#00008f!important}"]}),p})();function Yc(p,E){1&p&&(e.TgZ(0,"th",9),e._uU(1," Nom "),e.qZA())}const Go=function(p){return[p]};function yi(p,E){if(1&p&&(e.TgZ(0,"td",10)(1,"a",11),e._uU(2),e.qZA()()),2&p){const _=E.$implicit;e.xp6(1),e.Q6J("routerLink",e.VKq(2,Go,_.path)),e.xp6(1),e.hij(" ",_.name," ")}}function Wr(p,E){1&p&&(e.TgZ(0,"th",12),e._uU(1," Description "),e.qZA())}function Li(p,E){if(1&p&&(e.TgZ(0,"td",10),e._uU(1),e.qZA()),2&p){const _=E.$implicit;e.xp6(1),e.hij(" ",_.description," ")}}function so(p,E){1&p&&e._UZ(0,"tr",13)}function Ll(p,E){1&p&&e._UZ(0,"tr",14)}const kr=[{description:"Ce r\xe9ferentiels permet d\u2019acceder aux Produit existants d\u2019en ajouter ou de modifier l\u2019existant",name:"Produits",path:"gestion-produit-risque"},{description:"Ce r\xe9ferentiels permet d\u2019acceder aux familles de produit, d\u2019ajouter de nouvelles et de les modifier",name:"Famille de produits",path:"gestion-famille-produit"},{description:"Ce r\xe9ferentiels permet d\u2019acceder aux packs, d\u2019ajouter de nouveaux et de les modifier selon le produit ",name:"Packs",path:"gestion-pack"},{description:"Ce r\xe9ferentiels permet d\u2019acceder aux questionnaires, d\u2019ajouter de nouveaux et de les modifier ",name:"Questionnaires",path:"gestion-questionnaires"},{description:"Ce r\xe9ferentiels permet d\u2019acceder aux types de risques, d\u2019ajouter de nouveaux et de les modifier selon le produit ",name:"Type de risques",path:"gestion-type-risque"},{description:"Ce r\xe9ferentiels permet d\u2019acceder aux sous garanties, d\u2019ajouter de nouvelles et de les modifier selon le produit",name:"Garanties",path:"gestion-garanties"},{description:"Ce r\xe9ferentiels permet d\u2019acceder aux Taxes, d\u2019ajouter de nouvelles et de les modifier selon le produit",name:"Taxes",path:"gestion-taxes"},{description:"Ce r\xe9ferentiels permet d\u2019acceder aux r\xe9seaux de distribution, d\u2019ajouter de nouvelles et de les modifier selon le produit",name:"R\xe9seau de distribution",path:"gestion-reseaux-distribution"},{description:"Ce r\xe9ferentiels permet d\u2019acceder aux formule, d\u2019ajouter de nouveaux et de les modifier selon le produit ",name:"Formules",path:"gestion-formule"},{description:"Ce r\xe9ferentiels permet d\u2019acceder aux duree, d\u2019ajouter de nouveaux et de les modifier selon le produit ",name:"Durees",path:"gestion-duree"}];let Sa=(()=>{class p{constructor(_){this.router=_,this.displayedColumns=["name","description"],this.dataSource=new Q.by(kr)}ngOnInit(){}GoDetails(_){this.router.navigate([`/${_}/`])}}return p.\u0275fac=function(_){return new(_||p)(e.Y36(ee.F0))},p.\u0275cmp=e.Xpm({type:p,selectors:[["app-produits"]],decls:10,vars:3,consts:[[1,"container"],["mat-table","",1,"referentiel-table","mat-elevation-z8",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","description"],["mat-header-cell","","s","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],[3,"routerLink"],["mat-header-cell","","s",""],["mat-header-row",""],["mat-row",""]],template:function(_,S){1&_&&(e.TgZ(0,"div",0)(1,"table",1),e.ynx(2,2),e.YNc(3,Yc,2,0,"th",3),e.YNc(4,yi,3,4,"td",4),e.BQk(),e.ynx(5,5),e.YNc(6,Wr,2,0,"th",6),e.YNc(7,Li,2,1,"td",4),e.BQk(),e.YNc(8,so,1,0,"tr",7),e.YNc(9,Ll,1,0,"tr",8),e.qZA()()),2&_&&(e.xp6(1),e.Q6J("dataSource",S.dataSource),e.xp6(7),e.Q6J("matHeaderRowDef",S.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",S.displayedColumns))},dependencies:[ee.rH,Q.BZ,Q.fO,Q.as,Q.w1,Q.Dz,Q.nj,Q.ge,Q.ev,Q.XQ,Q.Gk],styles:[".container[_ngcontent-%COMP%]{background-color:#fff;padding:40px 0;height:100%;overflow-y:auto}table.referentiel-table[_ngcontent-%COMP%]{width:80%;margin:auto}.mat-cell[_ngcontent-%COMP%]{padding-top:25px;padding-bottom:25px}.mat-header-cell[_ngcontent-%COMP%]{color:#fff;font-weight:600;letter-spacing:.5px;font-size:15px;background-color:#00008f}.mat-column-name[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#00008f;font-weight:700;text-decoration:none}.mat-column-name[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#d14723}.header-tab[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}.mat-paginator[_ngcontent-%COMP%]{background-color:transparent;margin:20px auto auto;width:80%}.example-first-header-row[_ngcontent-%COMP%]{background-color:#00008f}.example-first-header-row[_ngcontent-%COMP%]   th.mat-header-cell[_ngcontent-%COMP%]{border:none;color:#fff;font-size:18px}.mat-column-valeur.mat-cell[_ngcontent-%COMP%]{text-align:center}.mat-icon[_ngcontent-%COMP%]{height:100%;font-size:36px;width:-moz-fit-content;width:fit-content}.mat-cell[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{color:#00008f}.mat-header-cell.mat-icon[_ngcontent-%COMP%]{color:#fff}.mat-cell[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]:hover, .mat-header-cell[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]:hover{color:#d14723;cursor:pointer}  .mat-tooltip{font-size:14px}"]}),p})();var Bo=B(262),Oo=B(8505),da=B(2843);let Ni=(()=>{class p{constructor(_){this.http=_}getAllGaranties(){const _={headers:new i.WM({"Content-Type":"application/json","Access-Control-Allow-Origin":"*"})};return this.http.get(`${n.g.API_ENDPOINT_GARANTIES}`,_).pipe((0,Bo.K)(S=>this.handleError(S)))}addGarantie(_){const S={headers:new i.WM({"Content-Type":"application/json","Access-Control-Allow-Origin":"*"})};return this.http.post(`${n.g.API_ENDPOINT_GARANTIES}`,_,S).pipe((0,Oo.b)(k=>this.logs(k)),(0,Bo.K)(k=>k))}getGarantieById(_){return this.http.get(`${n.g.API_ENDPOINT_GARANTIES}/${_}`)}updateGarantie(_,S){const k={headers:new i.WM({"Content-Type":"application/json"})};return this.http.put(`${n.g.API_ENDPOINT_GARANTIES}/${_}`,S,k).pipe((0,Oo.b)(ae=>this.logs(ae)),(0,Bo.K)(ae=>this.handleError(ae)))}logs(_){}handleError(_){let S="";return S=_.error instanceof ErrorEvent?`An error occurred: ${_.error.message}`:`Server returned code: ${_.status}, error message is: ${_.message}`,(0,da._)(_.error.message)}}return p.\u0275fac=function(_){return new(_||p)(e.LFG(i.eN))},p.\u0275prov=e.Yz7({token:p,factory:p.\u0275fac,providedIn:"root"}),p})();var Bi=B(1948);function Cr(p,E){if(1&p&&(e.TgZ(0,"div",28),e._uU(1),e.qZA()),2&p){const _=e.oxw();e.xp6(1),e.hij("La garantie N\xb0",_.idGarantie," a \xe9t\xe9 cr\xe9er avec succ\xe9s")}}function tu(p,E){if(1&p&&(e.TgZ(0,"div",29),e._uU(1),e.qZA()),2&p){const _=e.oxw();e.xp6(1),e.hij(" ",_.messageError," ")}}function Gc(p,E){1&p&&(e.TgZ(0,"div"),e._uU(1," ce champs est obligatoire"),e.qZA())}function bc(p,E){if(1&p&&(e.TgZ(0,"mat-error",30),e.YNc(1,Gc,2,0,"div",31),e.qZA()),2&p){const _=e.oxw();e.xp6(1),e.Q6J("ngIf",_.formCreationGarantie.controls.description.errors.required)}}function yu(p,E){if(1&p&&(e.ynx(0),e.TgZ(1,"mat-option",32),e._uU(2),e.qZA(),e.BQk()),2&p){const _=E.$implicit;e.xp6(1),e.Q6J("value",_.idParam),e.xp6(1),e.hij("",_.description," ")}}function xr(p,E){1&p&&(e.TgZ(0,"div"),e._uU(1," ce champs est obligatoire"),e.qZA())}function Mr(p,E){if(1&p&&(e.TgZ(0,"mat-error",30),e.YNc(1,xr,2,0,"div",31),e.qZA()),2&p){const _=e.oxw();e.xp6(1),e.Q6J("ngIf",_.formCreationGarantie.controls.categorieGarantie.errors.required)}}function _a(p,E){1&p&&(e.TgZ(0,"div"),e._uU(1," ce champs est obligatoire"),e.qZA())}function gl(p,E){if(1&p&&(e.TgZ(0,"mat-error",30),e.YNc(1,_a,2,0,"div",31),e.qZA()),2&p){const _=e.oxw();e.xp6(1),e.Q6J("ngIf",_.formCreationGarantie.controls.dateDebut.errors.required)}}function se(p,E){1&p&&(e.TgZ(0,"mat-error",30)(1,"div"),e._uU(2," Date fin est inf\xe9rieur \xe0 la date d\xe9but"),e.qZA()())}let He=(()=>{class p{constructor(_,S,k,ae){this.formBuilderAuth=_,this.garantiesService=S,this.router=k,this.genericService=ae,this.garantieCreationSuccess=!1,this.minDate=new Date,this.garantieCreationError=!1,this.categorieGarantieArray=[]}ngOnInit(){this.formCreationGarantie=this.formBuilderAuth.group({idNationnal:[""],description:["",[w.kI.required]],valeurEnvloppe:[""],categorieGarantie:["",[w.kI.required]],withTaxe:["",[w.kI.required]],dateDebut:["",[w.kI.required]],dateFin:[""],auditUser:["test"]}),this.getCategorieGarantie()}getCategorieGarantie(){this.genericService.getParam(JSON.parse(sessionStorage.getItem("dictionnaire")||"{}").find(_=>"C80"==_.code).idCategorie).subscribe(_=>{this.categorieGarantieArray=_})}submitCreationGarantie(_){if(this.formCreationGarantie.valid){this.formCreationGarantie.get("dateDebut").setValue(o(this.formCreationGarantie.get("dateDebut").value).format("YYYY-MM-DD"));let S=this.formCreationGarantie.value;S.categorieGarantie={idParam:this.formCreationGarantie.get("categorieGarantie").value},this.garantiesService.addGarantie(S).subscribe(k=>{this.garantieCreationSuccess=!0,this.garantieCreationError=!1,this.idGarantie=k.idGarantie,_.resetForm(),this.formCreationGarantie.reset()},k=>{this.garantieCreationError=!0,this.garantieCreationSuccess=!1})}}debutDateChange(_){this.minDate=_}}return p.\u0275fac=function(_){return new(_||p)(e.Y36(w.qu),e.Y36(Ni),e.Y36(ee.F0),e.Y36(_o.M))},p.\u0275cmp=e.Xpm({type:p,selectors:[["app-creation-garantie-dialog"]],decls:56,vars:13,consts:[[1,"heading"],[2,"float","right","font-size","24px"],["aria-hidden","false","aria-label","","matTooltip","","matTooltipPosition","right","mat-dialog-close","",1,"material-symbols-outlined"],["class","alert alert-success",4,"ngIf"],["class","alert alert-danger",4,"ngIf"],[1,"mat-typography"],[1,"login-form",3,"formGroup","ngSubmit"],["formDirective","ngForm"],["appearance","outline",1,"col-md-12"],["type","text","matInput","","placeholder","","formControlName","description"],["class","invalid-feedback",4,"ngIf"],["appearance","outline",1,"col-md-6",2,"padding-right","3%"],["formControlName","categorieGarantie"],[4,"ngFor","ngForOf"],["appearance","outline",1,"col-md-6",2,"padding-left","3%"],["type","nummber","matInput","","placeholder","","formControlName","valeurEnvloppe"],["matInput","","formControlName","dateDebut",3,"matDatepicker","dateChange"],["matSuffix","",3,"for"],["pickerDateDebut",""],["matInput","","formControlName","dateFin",3,"min","matDatepicker"],["pickerDateFin",""],["type","text","matInput","","placeholder","","formControlName","idNationnal"],["aria-label","Select an option","formControlName","withTaxe",1,"col-md-6",2,"margin-bottom","2%","padding-left","3%"],["value","0"],["value","1"],[1,"row-button"],["mat-dialog-close","",1,"btn","btn-cancel"],["type","submit",1,"btn","btn-action"],[1,"alert","alert-success"],[1,"alert","alert-danger"],[1,"invalid-feedback"],[4,"ngIf"],[3,"value"]],template:function(_,S){if(1&_){const k=e.EpF();e.TgZ(0,"h2",0),e._uU(1,"Cr\xe9er une garantie "),e.TgZ(2,"span",1)(3,"mat-icon",2),e._uU(4," close "),e.qZA()()(),e._UZ(5,"mat-divider"),e.YNc(6,Cr,2,1,"div",3),e.YNc(7,tu,2,1,"div",4),e.TgZ(8,"mat-dialog-content",5)(9,"form",6,7),e.NdJ("ngSubmit",function(){e.CHM(k);const Ue=e.MAs(10);return e.KtG(S.submitCreationGarantie(Ue))}),e.TgZ(11,"mat-form-field",8)(12,"mat-label"),e._uU(13,"Description"),e.qZA(),e._UZ(14,"input",9),e.YNc(15,bc,2,1,"mat-error",10),e.qZA(),e.TgZ(16,"mat-form-field",11)(17,"mat-label"),e._uU(18," Categorie "),e.qZA(),e.TgZ(19,"mat-select",12),e.YNc(20,yu,3,2,"ng-container",13),e.qZA(),e.YNc(21,Mr,2,1,"mat-error",10),e.qZA(),e.TgZ(22,"mat-form-field",14)(23,"mat-label"),e._uU(24,"Valeur de l'enveloppe"),e.qZA(),e._UZ(25,"input",15),e.qZA(),e.TgZ(26,"mat-form-field",11)(27,"mat-label"),e._uU(28,"Date debut"),e.qZA(),e.TgZ(29,"input",16),e.NdJ("dateChange",function(Ue){return S.debutDateChange(Ue.value)}),e.qZA(),e._UZ(30,"mat-datepicker-toggle",17)(31,"mat-datepicker",null,18),e.YNc(33,gl,2,1,"mat-error",10),e.qZA(),e.TgZ(34,"mat-form-field",14)(35,"mat-label"),e._uU(36,"Date fin"),e.qZA(),e._UZ(37,"input",19)(38,"mat-datepicker-toggle",17)(39,"mat-datepicker",null,20),e.YNc(41,se,3,0,"mat-error",10),e.qZA(),e.TgZ(42,"mat-form-field",11)(43,"mat-label"),e._uU(44,"ID National"),e.qZA(),e._UZ(45,"input",21),e.qZA(),e.TgZ(46,"mat-radio-group",22)(47,"mat-radio-button",23),e._uU(48,"Avec taxe"),e.qZA(),e.TgZ(49,"mat-radio-button",24),e._uU(50,"Sans taxe"),e.qZA()(),e.TgZ(51,"div",25)(52,"button",26),e._uU(53,"Annuler"),e.qZA(),e.TgZ(54,"button",27),e._uU(55,"Envoyer"),e.qZA()()()()}if(2&_){const k=e.MAs(32),ae=e.MAs(40);e.xp6(6),e.Q6J("ngIf",S.garantieCreationSuccess),e.xp6(1),e.Q6J("ngIf",S.garantieCreationError),e.xp6(2),e.Q6J("formGroup",S.formCreationGarantie),e.xp6(6),e.Q6J("ngIf",S.formCreationGarantie.controls.description.errors),e.xp6(5),e.Q6J("ngForOf",S.categorieGarantieArray),e.xp6(1),e.Q6J("ngIf",S.formCreationGarantie.controls.categorieGarantie.errors),e.xp6(8),e.Q6J("matDatepicker",k),e.xp6(1),e.Q6J("for",k),e.xp6(3),e.Q6J("ngIf",S.formCreationGarantie.controls.dateDebut.errors),e.xp6(4),e.Q6J("min",S.minDate)("matDatepicker",ae),e.xp6(1),e.Q6J("for",ae),e.xp6(3),e.Q6J("ngIf",S.formCreationGarantie.controls.dateFin.hasError("matDatepickerMin"))}},dependencies:[Se.sg,Se.O5,O.d,Mn.Hw,w._Y,w.Fj,w.JJ,w.JL,w.sg,w.u,J.TO,J.KE,J.hX,J.R9,he.Nt,oo.gM,xe.ZT,xe.xY,Ze.Mq,Ze.hl,Ze.nW,l.gD,t.ey,Bi.VQ,Bi.U0],styles:[".buttons.row[_ngcontent-%COMP%]{justify-content:space-between;padding:0 21px}h2.heading[_ngcontent-%COMP%]{color:#00008f;font-weight:700!important;letter-spacing:.5px}.mat-dialog-content[_ngcontent-%COMP%]{padding-top:15px}.mat-radio-button[_ngcontent-%COMP%]{margin:0 12px}.mat-form-field[_ngcontent-%COMP%]{padding-top:15px}.mat-error[_ngcontent-%COMP%]{font-size:11px}.row-button[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:0 3rem;margin-top:2rem}"]}),p})();function Y(p,E){if(1&p&&(e.TgZ(0,"div",6),e._uU(1),e.qZA()),2&p){const _=e.oxw();e.xp6(1),e.hij(" ",_.messageError," ")}}function Ee(p,E){1&p&&(e.TgZ(0,"div"),e._uU(1," ce champs est obligatoire"),e.qZA())}function Ye(p,E){if(1&p&&(e.TgZ(0,"mat-error",29),e.YNc(1,Ee,2,0,"div",30),e.qZA()),2&p){const _=e.oxw(2);e.xp6(1),e.Q6J("ngIf",_.formEditGarantie.controls.description.errors.required)}}function Ct(p,E){if(1&p&&(e.ynx(0),e.TgZ(1,"mat-option",24),e._uU(2),e.qZA(),e.BQk()),2&p){const _=E.$implicit;e.xp6(1),e.Q6J("value",_.idParam),e.xp6(1),e.hij("",_.description," ")}}function sn(p,E){1&p&&(e.TgZ(0,"div"),e._uU(1," ce champs est obligatoire"),e.qZA())}function Pn(p,E){if(1&p&&(e.TgZ(0,"mat-error",29),e.YNc(1,sn,2,0,"div",30),e.qZA()),2&p){const _=e.oxw(2);e.xp6(1),e.Q6J("ngIf",_.formEditGarantie.controls.categorieGarantie.errors.required)}}function fn(p,E){1&p&&(e.TgZ(0,"div"),e._uU(1," ce champs est obligatoire"),e.qZA())}function ui(p,E){if(1&p&&(e.TgZ(0,"mat-error",29),e.YNc(1,fn,2,0,"div",30),e.qZA()),2&p){const _=e.oxw(2);e.xp6(1),e.Q6J("ngIf",_.formEditGarantie.controls.dateDebut.errors.required)}}function bi(p,E){if(1&p){const _=e.EpF();e.TgZ(0,"form",7,8),e.NdJ("ngSubmit",function(){e.CHM(_);const k=e.MAs(1),ae=e.oxw();return e.KtG(ae.submitEditGarantie(k))}),e.TgZ(2,"mat-form-field",9)(3,"mat-label"),e._uU(4,"Description"),e.qZA(),e._UZ(5,"input",10),e.YNc(6,Ye,2,1,"mat-error",11),e.qZA(),e.TgZ(7,"mat-form-field",12)(8,"mat-label"),e._uU(9," Categorie "),e.qZA(),e.TgZ(10,"mat-select",13),e.YNc(11,Ct,3,2,"ng-container",14),e.qZA(),e.YNc(12,Pn,2,1,"mat-error",11),e.qZA(),e.TgZ(13,"mat-form-field",15)(14,"mat-label"),e._uU(15,"Valeur de l'enveloppe"),e.qZA(),e._UZ(16,"input",16),e.qZA(),e.TgZ(17,"mat-form-field",12)(18,"mat-label"),e._uU(19,"Date debut"),e.qZA(),e._UZ(20,"input",17)(21,"mat-datepicker-toggle",18)(22,"mat-datepicker",null,19),e.YNc(24,ui,2,1,"mat-error",11),e.qZA(),e.TgZ(25,"mat-form-field",15)(26,"mat-label"),e._uU(27,"Date fin"),e.qZA(),e._UZ(28,"input",20)(29,"mat-datepicker-toggle",18)(30,"mat-datepicker",null,21),e.qZA(),e.TgZ(32,"mat-form-field",12)(33,"mat-label"),e._uU(34,"ID National"),e.qZA(),e._UZ(35,"input",22),e.qZA(),e.TgZ(36,"mat-radio-group",23)(37,"mat-radio-button",24),e._uU(38,"Avec taxe"),e.qZA(),e.TgZ(39,"mat-radio-button",24),e._uU(40,"Sans taxe"),e.qZA()(),e.TgZ(41,"div",25)(42,"div",26)(43,"button",27),e._uU(44,"Envoyer"),e.qZA(),e.TgZ(45,"button",28),e._uU(46,"Annuler"),e.qZA()()()()}if(2&p){const _=e.MAs(23),S=e.MAs(31),k=e.oxw();e.Q6J("formGroup",k.formEditGarantie),e.xp6(6),e.Q6J("ngIf",k.formEditGarantie.controls.description.errors),e.xp6(5),e.Q6J("ngForOf",k.categorieGarantieArray),e.xp6(1),e.Q6J("ngIf",k.formEditGarantie.controls.categorieGarantie.errors),e.xp6(8),e.Q6J("matDatepicker",_),e.xp6(1),e.Q6J("for",_),e.xp6(3),e.Q6J("ngIf",k.formEditGarantie.controls.dateDebut.errors),e.xp6(4),e.Q6J("min",k.minDate)("matDatepicker",S),e.xp6(1),e.Q6J("for",S),e.xp6(8),e.Q6J("value",1),e.xp6(2),e.Q6J("value",0)}}let to=(()=>{class p{constructor(_,S,k,ae,Ue,On){this.genericService=_,this.dialogRef=S,this.data=k,this.formBuilderAuth=ae,this.garantiesService=Ue,this.router=On,this.garantieEditSuccess=!1,this.minDate=null,this.garantieEditError=!1,this.categorieGarantieArray=[]}ngOnInit(){this.getGarantieById(this.data.idGarantie)}getCategorieGarantie(){this.genericService.getParam(JSON.parse(sessionStorage.getItem("dictionnaire")||"{}").find(_=>"C80"==_.code).idCategorie).subscribe(_=>{this.categorieGarantieArray=_})}getGarantieById(_){this.garantiesService.getGarantieById(_).subscribe(S=>{this.getCategorieGarantie(),this.iniEdittGarantie(S)})}iniEdittGarantie(_){this.debutDateChange(_.dateDebut),this.formEditGarantie=this.formBuilderAuth.group({idGarantie:[_.idGarantie],idNationnal:[_.idNationnal],codeGarantie:[_.codeGarantie],description:[_.description,[w.kI.required]],valeurEnvloppe:[_.valeurEnvloppe],categorieGarantie:[_.categorieGarantie,[w.kI.required]],withTaxe:[_.withTaxe?1:0,[w.kI.required]],dateDebut:[_.dateDebut,[w.kI.required]],dateFin:[_.dateFin],auditUser:[_.auditUser]})}submitEditGarantie(_){if(this.formEditGarantie.valid){this.formEditGarantie.get("dateDebut").setValue(o(this.formEditGarantie.get("dateDebut").value).format("YYYY-MM-DD"));let S=this.formEditGarantie.value;S.categorieGarantie={idParam:this.formEditGarantie.get("categorieGarantie").value},this.garantiesService.updateGarantie(this.data.idGarantie,S).subscribe(k=>{this.garantieEditSuccess=!0,this.garantieEditError=!1,this.idGarantie=k.idGarantie,this.dialogRef.close()},k=>{this.garantieEditError=!0,this.garantieEditSuccess=!1,this.messageError=k.ErreurMessage?k.ErreurMessage:k.message})}}debutDateChange(_){this.minDate=_}}return p.\u0275fac=function(_){return new(_||p)(e.Y36(_o.M),e.Y36(xe.so),e.Y36(xe.WI),e.Y36(w.qu),e.Y36(Ni),e.Y36(ee.F0))},p.\u0275cmp=e.Xpm({type:p,selectors:[["app-edit-garantie-dialog"]],decls:9,vars:2,consts:[[1,"heading"],[2,"float","right","font-size","24px"],["aria-hidden","false","aria-label","","matTooltip","","matTooltipPosition","right","mat-dialog-close","",1,"material-symbols-outlined"],["class","alert alert-danger",4,"ngIf"],[1,"mat-typography"],["class","login-form",3,"formGroup","ngSubmit",4,"ngIf"],[1,"alert","alert-danger"],[1,"login-form",3,"formGroup","ngSubmit"],["formDirective","ngForm"],["appearance","outline",1,"col-md-12"],["type","text","matInput","","placeholder","","formControlName","description"],["class","invalid-feedback",4,"ngIf"],["appearance","outline",1,"col-md-6",2,"padding-right","3%"],["formControlName","categorieGarantie"],[4,"ngFor","ngForOf"],["appearance","outline",1,"col-md-6",2,"padding-left","3%"],["type","nummber","matInput","","placeholder","","formControlName","valeurEnvloppe"],["matInput","","formControlName","dateDebut",3,"matDatepicker"],["matSuffix","",3,"for"],["picker",""],["matInput","","formControlName","dateFin",3,"min","matDatepicker"],["picker2",""],["type","text","matInput","","placeholder","","formControlName","idNationnal"],["aria-label","Select an option","formControlName","withTaxe",1,"col-md-6",2,"padding-left","3%","margin-bottom","2%"],[3,"value"],[1,"row"],[1,"offset-md-6","col-md-6"],["type","submit",1,"btn","btn-action"],["mat-dialog-close","",1,"btn","btn-cancel"],[1,"invalid-feedback"],[4,"ngIf"]],template:function(_,S){1&_&&(e.TgZ(0,"h2",0),e._uU(1,"Modifier une garantie "),e.TgZ(2,"span",1)(3,"mat-icon",2),e._uU(4," close "),e.qZA()()(),e._UZ(5,"mat-divider"),e.YNc(6,Y,2,1,"div",3),e.TgZ(7,"mat-dialog-content",4),e.YNc(8,bi,47,12,"form",5),e.qZA()),2&_&&(e.xp6(6),e.Q6J("ngIf",S.garantieEditError),e.xp6(2),e.Q6J("ngIf",S.formEditGarantie))},dependencies:[Se.sg,Se.O5,O.d,Mn.Hw,w._Y,w.Fj,w.JJ,w.JL,w.sg,w.u,J.TO,J.KE,J.hX,J.R9,he.Nt,oo.gM,xe.ZT,xe.xY,Ze.Mq,Ze.hl,Ze.nW,l.gD,t.ey,Bi.VQ,Bi.U0],styles:["button.btn.btn-action[_ngcontent-%COMP%], button.btn.btn-cancel[_ngcontent-%COMP%]{float:right;margin:10px}h2.heading[_ngcontent-%COMP%]{color:#00008f;font-weight:700!important;letter-spacing:.5px}.mat-dialog-content[_ngcontent-%COMP%]{padding-top:15px}.mat-radio-button[_ngcontent-%COMP%]{margin:0 12px}"]}),p})();function fo(p,E){1&p&&(e.TgZ(0,"th",21),e._uU(1," ID "),e.qZA())}function Xo(p,E){if(1&p&&(e.TgZ(0,"td",22),e._uU(1),e.qZA()),2&p){const _=E.$implicit;e.xp6(1),e.hij(" ",_.idGarantie," ")}}function Ur(p,E){1&p&&(e.TgZ(0,"th",21),e._uU(1," ID National "),e.qZA())}function fi(p,E){if(1&p&&(e.TgZ(0,"td",22),e._uU(1),e.qZA()),2&p){const _=E.$implicit;e.xp6(1),e.hij(" ",_.idNationnal," ")}}function Ki(p,E){1&p&&(e.TgZ(0,"th",21),e._uU(1," Description "),e.qZA())}function br(p,E){if(1&p&&(e.TgZ(0,"td",23),e._uU(1),e.qZA()),2&p){const _=E.$implicit;e.xp6(1),e.hij(" ",_.description," ")}}function De(p,E){1&p&&(e.TgZ(0,"th",21),e._uU(1," Valeur de l'enveloppe "),e.qZA())}function lc(p,E){if(1&p&&(e.TgZ(0,"td",22),e._uU(1),e.ALo(2,"number"),e.qZA()),2&p){const _=E.$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,_.valeurEnvloppe)," ")}}function Bc(p,E){1&p&&(e.TgZ(0,"th",21),e._uU(1," taxe "),e.qZA())}function ya(p,E){if(1&p&&(e.TgZ(0,"td",22),e._uU(1),e.qZA()),2&p){const _=E.$implicit;e.xp6(1),e.hij(" ",_.withTaxe?"Oui":"Non"," ")}}function Co(p,E){1&p&&(e.TgZ(0,"th",21),e._uU(1," Date debut "),e.qZA())}function om(p,E){if(1&p&&(e.TgZ(0,"td",22),e._uU(1),e.ALo(2,"date"),e.qZA()),2&p){const _=E.$implicit;e.xp6(1),e.hij(" ",e.xi3(2,1,_.dateDebut,"dd/MM/yyyy")," ")}}function nu(p,E){1&p&&(e.TgZ(0,"th",21),e._uU(1," Date fin "),e.qZA())}function xa(p,E){if(1&p&&(e.TgZ(0,"td",22),e._uU(1),e.ALo(2,"date"),e.qZA()),2&p){const _=E.$implicit;e.xp6(1),e.hij(" ",e.xi3(2,1,_.dateFin,"dd/MM/yyyy")," ")}}function Ys(p,E){1&p&&(e.TgZ(0,"th",21),e._uU(1," Categorie "),e.qZA())}function Nu(p,E){if(1&p&&(e.TgZ(0,"td",22),e._uU(1),e.qZA()),2&p){const _=E.$implicit;e.xp6(1),e.hij(" ",_.categorieGarantie.description," ")}}function Pc(p,E){1&p&&(e.TgZ(0,"th",21),e._uU(1," Action "),e.qZA())}function Iu(p,E){if(1&p){const _=e.EpF();e.TgZ(0,"td",22)(1,"button",24)(2,"mat-icon"),e._uU(3,"more_vert"),e.qZA()(),e.TgZ(4,"mat-menu",null,25)(6,"button",26),e.NdJ("click",function(){const ae=e.CHM(_).$implicit,Ue=e.oxw();return e.KtG(Ue.openDialogEdit(ae.idGarantie))}),e.TgZ(7,"mat-icon"),e._uU(8,"edit"),e.qZA(),e.TgZ(9,"span"),e._uU(10,"Modifier une garantie"),e.qZA()(),e.TgZ(11,"button",26),e.NdJ("click",function(){const ae=e.CHM(_).$implicit,Ue=e.oxw();return e.KtG(Ue.viewSousGarantie(ae.idGarantie))}),e.TgZ(12,"mat-icon"),e._uU(13,"visibility"),e.qZA(),e.TgZ(14,"span"),e._uU(15,"D\xe9tails garantie"),e.qZA()()()()}if(2&p){const _=e.MAs(5);e.xp6(1),e.Q6J("matMenuTriggerFor",_)}}function cc(p,E){1&p&&e._UZ(0,"tr",27)}function rm(p,E){1&p&&e._UZ(0,"tr",28)}const hl=function(){return[5,10,50]};let km=(()=>{class p{constructor(_,S,k){this.router=_,this.garantiesService=S,this.dialog=k,this.displayedColumns=["idGarantie","idNationnal","description","valeurEnvloppe","dateDebut","dateFin","categorieGarantie","withTaxe","action"],this.step=!1}ngOnInit(){this.getAllGaranties()}openDialogAdd(){this.dialog.open(He,{width:"60%"}).afterClosed().subscribe(S=>{this.getAllGaranties()})}openDialogEdit(_){this.dialog.open(to,{width:"60%",data:{idGarantie:_}}).afterClosed().subscribe(k=>{this.getAllGaranties()})}getAllGaranties(){this.garantiesService.getAllGaranties().subscribe({next:_=>{this.dataSource=new Q.by(_),this.paginate()},error:_=>{console.log(_)}})}paginate(){this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort}viewSousGarantie(_){this.router.navigateByUrl("gestion-produits/gestion-garanties/"+_+"/gestion-sous-garanties")}}return p.\u0275fac=function(_){return new(_||p)(e.Y36(ee.F0),e.Y36(Ni),e.Y36(xe.uw))},p.\u0275cmp=e.Xpm({type:p,selectors:[["app-garanties"]],viewQuery:function(_,S){if(1&_&&(e.Gf(Le.NW,5),e.Gf(qi.YE,5)),2&_){let k;e.iGM(k=e.CRH())&&(S.paginator=k.first),e.iGM(k=e.CRH())&&(S.sort=k.first)}},decls:40,vars:6,consts:[[1,"container"],[1,"header"],[1,"title-table"],[1,"btn","btn-secondary",2,"display","flex","align-items","center",3,"click"],["aria-hidden","false","aria-label","ajouter pack ",1,"material-symbols-outlined"],["mat-table","",1,"gestion-table",3,"dataSource"],["matColumnDef","idGarantie"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","idNationnal"],["matColumnDef","description"],["mat-cell","","style"," word-break:\n        break-word;",4,"matCellDef"],["matColumnDef","valeurEnvloppe"],["matColumnDef","withTaxe"],["matColumnDef","dateDebut"],["matColumnDef","dateFin"],["matColumnDef","categorieGarantie"],["matColumnDef","action"],["mat-header-row","","class","example-second-header-row",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["aria-label","Select\n    page of users",3,"pageSize","pageSizeOptions"],["mat-header-cell",""],["mat-cell",""],["mat-cell","",2,"word-break","break-word"],["mat-icon-button","","aria-label","",3,"matMenuTriggerFor"],["menu","matMenu"],["mat-menu-item","",3,"click"],["mat-header-row","",1,"example-second-header-row"],["mat-row",""]],template:function(_,S){1&_&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h2",2),e._uU(3,"Liste des garanties"),e.qZA(),e.TgZ(4,"button",3),e.NdJ("click",function(){return S.openDialogAdd()}),e.TgZ(5,"mat-icon",4),e._uU(6,"add_circle"),e.qZA(),e._uU(7," Ajouter une nouvelle garantie "),e.qZA()(),e._UZ(8,"mat-divider"),e.TgZ(9,"table",5),e.ynx(10,6),e.YNc(11,fo,2,0,"th",7),e.YNc(12,Xo,2,1,"td",8),e.BQk(),e.ynx(13,9),e.YNc(14,Ur,2,0,"th",7),e.YNc(15,fi,2,1,"td",8),e.BQk(),e.ynx(16,10),e.YNc(17,Ki,2,0,"th",7),e.YNc(18,br,2,1,"td",11),e.BQk(),e.ynx(19,12),e.YNc(20,De,2,0,"th",7),e.YNc(21,lc,3,3,"td",8),e.BQk(),e.ynx(22,13),e.YNc(23,Bc,2,0,"th",7),e.YNc(24,ya,2,1,"td",8),e.BQk(),e.ynx(25,14),e.YNc(26,Co,2,0,"th",7),e.YNc(27,om,3,4,"td",8),e.BQk(),e.ynx(28,15),e.YNc(29,nu,2,0,"th",7),e.YNc(30,xa,3,4,"td",8),e.BQk(),e.ynx(31,16),e.YNc(32,Ys,2,0,"th",7),e.YNc(33,Nu,2,1,"td",8),e.BQk(),e.ynx(34,17),e.YNc(35,Pc,2,0,"th",7),e.YNc(36,Iu,16,1,"td",8),e.BQk(),e.YNc(37,cc,1,0,"tr",18),e.YNc(38,rm,1,0,"tr",19),e.qZA(),e._UZ(39,"mat-paginator",20),e.qZA()),2&_&&(e.xp6(9),e.Q6J("dataSource",S.dataSource),e.xp6(28),e.Q6J("matHeaderRowDef",S.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",S.displayedColumns),e.xp6(1),e.Q6J("pageSize",10)("pageSizeOptions",e.DdM(5,hl)))},dependencies:[O.d,Mn.Hw,Nn.VK,Nn.OP,Nn.p6,Q.BZ,Q.fO,Q.as,Q.w1,Q.Dz,Q.nj,Q.ge,Q.ev,Q.XQ,Q.Gk,Le.NW,vn.lW,Se.JJ,Se.uU],styles:[".container[_ngcontent-%COMP%]{background-color:#fff;padding:40px 0;height:100%;overflow-y:auto;overflow-x:hidden}.gestion-table[_ngcontent-%COMP%]{width:100%}.gestion-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .gestion-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:16px}.gestion-table[_ngcontent-%COMP%]   .mat-header-cell[_ngcontent-%COMP%]{color:#00008f;font-weight:600}.gestion-table[_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]:nth-child(even), .gestion-table[_ngcontent-%COMP%]   .mat-header-row[_ngcontent-%COMP%]{background-color:#f7f7f9}.gestion-table[_ngcontent-%COMP%]   .mat-paginator[_ngcontent-%COMP%]{background-color:transparent;margin:20px auto auto;width:80%}.gestion-table[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{height:100%;font-size:26px;color:#00008f;width:-moz-fit-content;width:fit-content}.mat-menu-item[_ngcontent-%COMP%]{font-size:15px}.mat-menu-item[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:18px;height:-moz-fit-content;height:fit-content}.mat-menu-item[_ngcontent-%COMP%]:hover:not([disabled]), .mat-menu-item[_ngcontent-%COMP%]:hover:not([disabled])   .mat-icon[_ngcontent-%COMP%]{color:#00008f}.header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:0px 2rem}.header[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{height:-moz-fit-content;height:fit-content;font-size:29px;margin-right:1rem;width:-moz-fit-content;width:fit-content}.title-table[_ngcontent-%COMP%]{margin-bottom:0rem;font-weight:800!important;font-size:23px!important;color:#00008f!important}"]}),p})();var Yl=B(9646);let Cl=(()=>{class p{constructor(_){this.http=_}getSousGarantiesByGarantie(_){return this.http.get(`${n.g.API_ENDPOINT_SOUSGARANTIES}/getByGarantie/${_}`).pipe((0,Oo.b)(S=>this.logs(S)),(0,Bo.K)(S=>this.handleEroor(S,[])))}addSousGarantie(_,S){const k={headers:new i.WM({"Content-Type":"application/json"})};return this.http.post(`${n.g.API_ENDPOINT_SOUSGARANTIES}/${S}`,_,k).pipe((0,Oo.b)(ae=>this.logs(ae)),(0,Bo.K)(ae=>this.handleEroor(ae,null)))}getSousGarantieById(_){return this.http.get(`${n.g.API_ENDPOINT_SOUSGARANTIES}/${_}`)}updateSousGarantie(_,S){const k={headers:new i.WM({"Content-Type":"application/json"})};return this.http.put(`${n.g.API_ENDPOINT_SOUSGARANTIES}/${S}`,_,k).pipe((0,Oo.b)(ae=>this.logs(ae)),(0,Bo.K)(ae=>this.handleEroor(ae,null)))}logs(_){}handleEroor(_,S){return(0,Yl.of)(S)}}return p.\u0275fac=function(_){return new(_||p)(e.LFG(i.eN))},p.\u0275prov=e.Yz7({token:p,factory:p.\u0275fac,providedIn:"root"}),p})();function Sr(p,E){if(1&p&&(e.TgZ(0,"div",23),e._uU(1),e.qZA()),2&p){const _=e.oxw();e.xp6(1),e.hij("La sous garantie N\xb0",_.idSousGarantie," a \xe9t\xe9 modifier avec succ\xe9s")}}function Eu(p,E){if(1&p&&(e.TgZ(0,"div",24),e._uU(1),e.qZA()),2&p){const _=e.oxw();e.xp6(1),e.hij(" ",_.messageError," ")}}function xl(p,E){1&p&&(e.TgZ(0,"div"),e._uU(1," ce champs est obligatoire"),e.qZA())}function iu(p,E){if(1&p&&(e.TgZ(0,"mat-error",25),e.YNc(1,xl,2,0,"div",26),e.qZA()),2&p){const _=e.oxw();e.xp6(1),e.Q6J("ngIf",_.formCreationSousGarantie.controls.description.errors.required)}}function ou(p,E){1&p&&(e.TgZ(0,"div"),e._uU(1," ce champs est obligatoire"),e.qZA())}function Ru(p,E){if(1&p&&(e.TgZ(0,"mat-error",25),e.YNc(1,ou,2,0,"div",26),e.qZA()),2&p){const _=e.oxw();e.xp6(1),e.Q6J("ngIf",_.formCreationSousGarantie.controls.dateDebut.errors.required)}}function am(p,E){1&p&&(e.TgZ(0,"mat-error",25)(1,"div"),e._uU(2," Date fin est inf\xe9rieur \xe0 la date d\xe9but"),e.qZA()())}let ru=(()=>{class p{constructor(_,S,k,ae){this.data=_,this.formBuilderAuth=S,this.sousgarantiesService=k,this.garantieService=ae,this.sousGarantieCreationSuccess=!1,this.minDate=new Date,this.sousGarantieCreationError=!1}ngOnInit(){this.garantieService.getAllGaranties().subscribe(_=>{this.garanties=_}),this.formCreationSousGarantie=this.formBuilderAuth.group({description:["",[w.kI.required]],valeurEnvloppe:[""],withTaxe:[""],idNationnal:["",[w.kI.required]],dateDebut:["",[w.kI.required]],dateFin:[""],auditUser:["test"]})}submitCreationSousGarantie(_){this.formCreationSousGarantie.valid&&(this.formCreationSousGarantie.get("dateDebut")?.setValue(o(this.formCreationSousGarantie.get("dateDebut").value).format("YYYY-MM-DDT00:00:00.000+00:00")),this.sousgarantiesService.addSousGarantie(this.formCreationSousGarantie.value,this.data.idGarantie).subscribe(S=>{this.sousGarantieCreationSuccess=!0,this.sousGarantieCreationError=!1,this.idSousGarantie=S.idSousGarantie,_.resetForm(),this.formCreationSousGarantie.reset()},S=>{this.sousGarantieCreationError=!0,this.sousGarantieCreationSuccess=!1,this.messageError=S.ErreurMessage?S.ErreurMessage:S.message}))}debutDateChange(_){this.minDate=_}}return p.\u0275fac=function(_){return new(_||p)(e.Y36(xe.WI),e.Y36(w.qu),e.Y36(Cl),e.Y36(Ni))},p.\u0275cmp=e.Xpm({type:p,selectors:[["app-creation-sous-garanties"]],decls:45,vars:11,consts:[[1,"heading"],[2,"float","right","font-size","24px"],["aria-hidden","false","aria-label","","matTooltip","","matTooltipPosition","right","mat-dialog-close","",1,"material-symbols-outlined"],["class","alert alert-success",4,"ngIf"],["class","alert alert-danger",4,"ngIf"],[1,"mat-typography"],[1,"login-form",3,"formGroup","ngSubmit"],["formDirective","ngForm"],["appearance","outline",1,"col-md-12"],["type","text","matInput","","placeholder","","formControlName","description"],["class","invalid-feedback",4,"ngIf"],["appearance","outline",1,"col-md-6",2,"padding-right","3%"],["type","nummber","matInput","","placeholder","","formControlName","valeurEnvloppe"],["appearance","outline",1,"col-md-6",2,"padding-left","3%"],["type","text","matInput","","placeholder","","formControlName","idNationnal"],["matInput","","formControlName","dateDebut",3,"matDatepicker","dateChange"],["matSuffix","",3,"for"],["pickerDateDebut",""],["matInput","","formControlName","dateFin",3,"min","matDatepicker"],["pickerDateFin",""],[1,"row-button"],["mat-dialog-close","",1,"btn","btn-cancel"],["type","submit",1,"btn","btn-action"],[1,"alert","alert-success"],[1,"alert","alert-danger"],[1,"invalid-feedback"],[4,"ngIf"]],template:function(_,S){if(1&_){const k=e.EpF();e.TgZ(0,"h2",0),e._uU(1,"Cr\xe9ation une sous garantie "),e.TgZ(2,"span",1)(3,"mat-icon",2),e._uU(4," close "),e.qZA()()(),e._UZ(5,"mat-divider"),e.YNc(6,Sr,2,1,"div",3),e.YNc(7,Eu,2,1,"div",4),e.TgZ(8,"mat-dialog-content",5)(9,"form",6,7),e.NdJ("ngSubmit",function(){e.CHM(k);const Ue=e.MAs(10);return e.KtG(S.submitCreationSousGarantie(Ue))}),e.TgZ(11,"mat-form-field",8)(12,"mat-label"),e._uU(13,"Description"),e.qZA(),e._UZ(14,"input",9),e.YNc(15,iu,2,1,"mat-error",10),e.qZA(),e.TgZ(16,"mat-form-field",11)(17,"mat-label"),e._uU(18,"Valeur de l'enveloppe"),e.qZA(),e._UZ(19,"input",12),e.qZA(),e.TgZ(20,"mat-form-field",13)(21,"mat-label"),e._uU(22,"codification Nationale"),e.qZA(),e._UZ(23,"input",14),e.qZA(),e.TgZ(24,"mat-form-field",11)(25,"mat-label"),e._uU(26,"Date debut"),e.qZA(),e.TgZ(27,"input",15),e.NdJ("dateChange",function(Ue){return S.debutDateChange(Ue.value)}),e.qZA(),e._UZ(28,"mat-datepicker-toggle",16)(29,"mat-datepicker",null,17),e.YNc(31,Ru,2,1,"mat-error",10),e.qZA(),e.TgZ(32,"mat-form-field",13)(33,"mat-label"),e._uU(34,"Date fin"),e.qZA(),e._UZ(35,"input",18)(36,"mat-datepicker-toggle",16)(37,"mat-datepicker",null,19),e.YNc(39,am,3,0,"mat-error",10),e.qZA(),e.TgZ(40,"div",20)(41,"button",21),e._uU(42,"Annuler"),e.qZA(),e.TgZ(43,"button",22),e._uU(44,"Envoyer"),e.qZA()()()()}if(2&_){const k=e.MAs(30),ae=e.MAs(38);e.xp6(6),e.Q6J("ngIf",S.sousGarantieCreationSuccess),e.xp6(1),e.Q6J("ngIf",S.sousGarantieCreationError),e.xp6(2),e.Q6J("formGroup",S.formCreationSousGarantie),e.xp6(6),e.Q6J("ngIf",S.formCreationSousGarantie.controls.description.errors),e.xp6(12),e.Q6J("matDatepicker",k),e.xp6(1),e.Q6J("for",k),e.xp6(3),e.Q6J("ngIf",S.formCreationSousGarantie.controls.dateDebut.errors),e.xp6(4),e.Q6J("min",S.minDate)("matDatepicker",ae),e.xp6(1),e.Q6J("for",ae),e.xp6(3),e.Q6J("ngIf",S.formCreationSousGarantie.controls.dateFin.hasError("matDatepickerMin"))}},dependencies:[Se.O5,O.d,Mn.Hw,w._Y,w.Fj,w.JJ,w.JL,w.sg,w.u,J.TO,J.KE,J.hX,J.R9,he.Nt,oo.gM,xe.ZT,xe.xY,Ze.Mq,Ze.hl,Ze.nW],styles:[".buttons.row[_ngcontent-%COMP%]{justify-content:space-between;padding:0 21px}h2.heading[_ngcontent-%COMP%]{color:#00008f;font-weight:700!important;letter-spacing:.5px}.mat-dialog-content[_ngcontent-%COMP%]{padding-top:15px}.mat-radio-button[_ngcontent-%COMP%]{margin:0 12px}.mat-form-field[_ngcontent-%COMP%]{padding-top:15px}.mat-error[_ngcontent-%COMP%]{font-size:11px}.row-button[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:0 3rem;margin-top:2rem}"]}),p})();function Xl(p,E){if(1&p&&(e.TgZ(0,"div",6),e._uU(1),e.qZA()),2&p){const _=e.oxw();e.xp6(1),e.hij(" ",_.messageError," ")}}function ec(p,E){1&p&&(e.TgZ(0,"div"),e._uU(1," ce champs est obligatoire"),e.qZA())}function vl(p,E){if(1&p&&(e.TgZ(0,"mat-error",24),e.YNc(1,ec,2,0,"div",25),e.qZA()),2&p){const _=e.oxw(2);e.xp6(1),e.Q6J("ngIf",_.formEditSousGarantie.controls.description.errors.required)}}function Fa(p,E){1&p&&(e.TgZ(0,"div"),e._uU(1," ce champs est obligatoire"),e.qZA())}function au(p,E){if(1&p&&(e.TgZ(0,"mat-error",24),e.YNc(1,Fa,2,0,"div",25),e.qZA()),2&p){const _=e.oxw(2);e.xp6(1),e.Q6J("ngIf",_.formEditSousGarantie.controls.dateDebut.errors.required)}}function zc(p,E){if(1&p){const _=e.EpF();e.TgZ(0,"form",7,8),e.NdJ("ngSubmit",function(){e.CHM(_);const k=e.MAs(1),ae=e.oxw();return e.KtG(ae.submitEditSousGarantie(k))}),e.TgZ(2,"mat-form-field",9)(3,"mat-label"),e._uU(4,"Description"),e.qZA(),e._UZ(5,"input",10),e.YNc(6,vl,2,1,"mat-error",11),e.qZA(),e.TgZ(7,"mat-form-field",12)(8,"mat-label"),e._uU(9,"Valeur de l'enveloppe"),e.qZA(),e._UZ(10,"input",13),e.qZA(),e.TgZ(11,"mat-form-field",14)(12,"mat-label"),e._uU(13,"codification Nationale"),e.qZA(),e._UZ(14,"input",15),e.qZA(),e.TgZ(15,"mat-form-field",12)(16,"mat-label"),e._uU(17,"Date debut"),e.qZA(),e._UZ(18,"input",16)(19,"mat-datepicker-toggle",17)(20,"mat-datepicker",null,18),e.YNc(22,au,2,1,"mat-error",11),e.qZA(),e.TgZ(23,"mat-form-field",14)(24,"mat-label"),e._uU(25,"Date fin"),e.qZA(),e._UZ(26,"input",19)(27,"mat-datepicker-toggle",17)(28,"mat-datepicker",null,20),e.qZA(),e.TgZ(30,"div",21)(31,"button",22),e._uU(32,"Envoyer"),e.qZA(),e.TgZ(33,"button",23),e._uU(34,"Annuler"),e.qZA()()()}if(2&p){const _=e.MAs(21),S=e.MAs(29),k=e.oxw();e.Q6J("formGroup",k.formEditSousGarantie),e.xp6(6),e.Q6J("ngIf",k.formEditSousGarantie.controls.description.errors),e.xp6(12),e.Q6J("matDatepicker",_),e.xp6(1),e.Q6J("for",_),e.xp6(3),e.Q6J("ngIf",k.formEditSousGarantie.controls.dateDebut.errors),e.xp6(4),e.Q6J("min",k.minDate)("matDatepicker",S),e.xp6(1),e.Q6J("for",S)}}let su=(()=>{class p{constructor(_,S,k,ae,Ue){this.dialogRef=_,this.data=S,this.formBuilderAuth=k,this.sousgarantiesService=ae,this.garantieService=Ue,this.sousGarantieEditSuccess=!1,this.chosenTaxe=0,this.minDate=null,this.sousGarantieEditError=!1}ngOnInit(){this.getSousGarantieById(this.data.idSousGarantie)}getSousGarantieById(_){this.sousgarantiesService.getSousGarantieById(_).subscribe(S=>{this.iniEditSousGarantie(S)})}iniEditSousGarantie(_){this.debutDateChange(_.dateDebut),this.formEditSousGarantie=this.formBuilderAuth.group({idSousGarantie:[_.idSousGarantie],idGarantie:[_.idGarantie,[w.kI.required]],description:[_.description,[w.kI.required]],idNationnal:[_.idNationnal],valeurEnvloppe:[_.valeurEnvloppe],dateDebut:[_.dateDebut,[w.kI.required]],dateFin:[_.dateFin],auditUser:[_.auditUser]}),this.chosenTaxe=_.withTaxe}submitEditSousGarantie(_){this.formEditSousGarantie.valid&&(this.formEditSousGarantie.get("dateDebut").setValue(o(this.formEditSousGarantie.get("dateDebut").value).format("YYYY-MM-DD")),this.sousgarantiesService.updateSousGarantie(this.formEditSousGarantie.value,this.data.idSousGarantie).subscribe(S=>{this.sousGarantieEditSuccess=!0,this.sousGarantieEditError=!1,this.idSousGarantie=S.idSousGarantie,this.dialogRef.close()},S=>{this.sousGarantieEditError=!0,this.sousGarantieEditSuccess=!1,this.messageError=S.ErreurMessage?S.ErreurMessage:S.message}))}debutDateChange(_){this.minDate=_}}return p.\u0275fac=function(_){return new(_||p)(e.Y36(xe.so),e.Y36(xe.WI),e.Y36(w.qu),e.Y36(Cl),e.Y36(Ni))},p.\u0275cmp=e.Xpm({type:p,selectors:[["app-edit-sous-garanties"]],decls:9,vars:2,consts:[[1,"heading"],[2,"float","right","font-size","24px"],["aria-hidden","false","aria-label","","matTooltip","","matTooltipPosition","right","mat-dialog-close","",1,"material-symbols-outlined"],["class","alert alert-danger",4,"ngIf"],[1,"mat-typography"],["class","login-form",3,"formGroup","ngSubmit",4,"ngIf"],[1,"alert","alert-danger"],[1,"login-form",3,"formGroup","ngSubmit"],["formDirective","ngForm"],["appearance","outline",1,"col-md-12"],["type","text","matInput","","placeholder","","formControlName","description"],["class","invalid-feedback",4,"ngIf"],["appearance","outline",1,"col-md-6",2,"padding-right","3%"],["type","nummber","matInput","","placeholder","","formControlName","valeurEnvloppe"],["appearance","outline",1,"col-md-6",2,"padding-left","3%"],["type","text","matInput","","placeholder","","formControlName","idNationnal"],["matInput","","formControlName","dateDebut",3,"matDatepicker"],["matSuffix","",3,"for"],["picker",""],["matInput","","formControlName","dateFin",3,"min","matDatepicker"],["picker2",""],[1,"row-button"],["type","submit",1,"btn","btn-action"],["mat-dialog-close","",1,"btn","btn-cancel"],[1,"invalid-feedback"],[4,"ngIf"]],template:function(_,S){1&_&&(e.TgZ(0,"h2",0),e._uU(1,"Modifier une sous garantie "),e.TgZ(2,"span",1)(3,"mat-icon",2),e._uU(4," close "),e.qZA()()(),e._UZ(5,"mat-divider"),e.YNc(6,Xl,2,1,"div",3),e.TgZ(7,"mat-dialog-content",4),e.YNc(8,zc,35,8,"form",5),e.qZA()),2&_&&(e.xp6(6),e.Q6J("ngIf",S.sousGarantieEditError),e.xp6(2),e.Q6J("ngIf",S.formEditSousGarantie))},dependencies:[Se.O5,O.d,Mn.Hw,w._Y,w.Fj,w.JJ,w.JL,w.sg,w.u,J.TO,J.KE,J.hX,J.R9,he.Nt,oo.gM,xe.ZT,xe.xY,Ze.Mq,Ze.hl,Ze.nW],styles:["button.btn.btn-action[_ngcontent-%COMP%]{float:right}h2.heading[_ngcontent-%COMP%]{color:#00008f;font-weight:700!important;letter-spacing:.5px}.mat-dialog-content[_ngcontent-%COMP%]{padding-top:15px}.mat-radio-button[_ngcontent-%COMP%]{margin:0 12px}.row-button[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:0 3rem;margin-top:2rem}"]}),p})();function sm(p,E){1&p&&(e.TgZ(0,"th",18),e._uU(1," ID "),e.qZA())}function Du(p,E){if(1&p&&(e.TgZ(0,"td",19),e._uU(1),e.qZA()),2&p){const _=E.$implicit;e.xp6(1),e.hij(" ",_.idSousGarantie," ")}}function ji(p,E){1&p&&(e.TgZ(0,"th",18),e._uU(1," id national "),e.qZA())}function uc(p,E){if(1&p&&(e.TgZ(0,"td",19),e._uU(1),e.qZA()),2&p){const _=E.$implicit;e.xp6(1),e.hij(" ",_.idNationnal," ")}}function Zc(p,E){1&p&&(e.TgZ(0,"th",18),e._uU(1," Description "),e.qZA())}function mc(p,E){if(1&p&&(e.TgZ(0,"td",19),e._uU(1),e.qZA()),2&p){const _=E.$implicit;e.xp6(1),e.hij(" ",_.description," ")}}function No(p,E){1&p&&(e.TgZ(0,"th",18),e._uU(1," Valeur de l'enveloppe "),e.qZA())}function qc(p,E){if(1&p&&(e.TgZ(0,"td",19),e._uU(1),e.ALo(2,"number"),e.qZA()),2&p){const _=E.$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,_.valeurEnvloppe)," ")}}function Vc(p,E){1&p&&(e.TgZ(0,"th",18),e._uU(1," Date debut "),e.qZA())}function lm(p,E){if(1&p&&(e.TgZ(0,"td",19),e._uU(1),e.ALo(2,"date"),e.qZA()),2&p){const _=E.$implicit;e.xp6(1),e.hij(" ",e.xi3(2,1,_.dateDebut,"dd/MM/yyyy")," ")}}function lu(p,E){1&p&&(e.TgZ(0,"th",18),e._uU(1," Date fin "),e.qZA())}function cm(p,E){if(1&p&&(e.TgZ(0,"td",19),e._uU(1),e.ALo(2,"date"),e.qZA()),2&p){const _=E.$implicit;e.xp6(1),e.hij(" ",e.xi3(2,1,_.dateFin,"dd/MM/yyyy")," ")}}function Al(p,E){1&p&&(e.TgZ(0,"th",18),e._uU(1," Action "),e.qZA())}function cu(p,E){if(1&p){const _=e.EpF();e.TgZ(0,"td",19)(1,"button",20)(2,"mat-icon"),e._uU(3,"more_vert"),e.qZA()(),e.TgZ(4,"mat-menu",21,22)(6,"button",23),e.NdJ("click",function(){const ae=e.CHM(_).$implicit,Ue=e.oxw();return e.KtG(Ue.openDialogEdit(ae.idSousGarantie))}),e.TgZ(7,"mat-icon"),e._uU(8,"edit"),e.qZA(),e.TgZ(9,"span"),e._uU(10,"Modifier dur\xe9e"),e.qZA()()()()}if(2&p){const _=e.MAs(5);e.xp6(1),e.Q6J("matMenuTriggerFor",_)}}function Fr(p,E){1&p&&e._UZ(0,"tr",24)}function Qa(p,E){1&p&&e._UZ(0,"tr",25)}const rs=function(){return[5,10]};let jc=(()=>{class p{constructor(_,S,k,ae){this.route=_,this.sousgarantiesService=S,this.garantiesService=k,this.dialog=ae,this.displayedColumns=["id","description","valeurEnvloppe","dateDebut","dateFin","idNational","action"],this.newItemEvent=new e.vpe}step(){this.newItemEvent.emit()}ngOnInit(){this.idGarantie=this.route.snapshot.paramMap.get("id"),this.dataSource=new Q.by,this.sousgarantiesService.getSousGarantiesByGarantie(this.idGarantie).subscribe(_=>{this.dataSource=new Q.by(_),this.paginate()})}openDialogAdd(){this.dialog.open(ru,{width:"60%",data:{idGarantie:this.idGarantie}}).afterClosed().subscribe(S=>{this.ngOnInit()})}openDialogEdit(_){this.dialog.open(su,{width:"60%",data:{idSousGarantie:_}}).afterClosed().subscribe(k=>{this.ngOnInit()})}paginate(){this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort}}return p.\u0275fac=function(_){return new(_||p)(e.Y36(ee.gz),e.Y36(Cl),e.Y36(Ni),e.Y36(xe.uw))},p.\u0275cmp=e.Xpm({type:p,selectors:[["app-sous-garanties"]],viewQuery:function(_,S){if(1&_&&(e.Gf(Le.NW,5),e.Gf(qi.YE,5)),2&_){let k;e.iGM(k=e.CRH())&&(S.paginator=k.first),e.iGM(k=e.CRH())&&(S.sort=k.first)}},inputs:{Garantie:"Garantie"},outputs:{newItemEvent:"newItemEvent"},decls:34,vars:6,consts:[[1,"container"],[1,"header"],[1,"title-table"],[1,"btn","btn-secondary",2,"display","flex","align-items","center",3,"click"],["aria-hidden","false","aria-label","ajouter sous garantie ",1,"material-symbols-outlined"],["mat-table","",1,"gestion-table",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","idNational"],["matColumnDef","description"],["matColumnDef","valeurEnvloppe"],["matColumnDef","dateDebut"],["matColumnDef","dateFin"],["matColumnDef","action"],["mat-header-row","","class","example-second-header-row",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["aria-label","Select\n    page of users",3,"pageSize","pageSizeOptions"],["mat-header-cell",""],["mat-cell",""],["mat-icon-button","","type","button","aria-label","menu sous garantie list",3,"matMenuTriggerFor"],["xPosition","after",1,"menu-sous-garantie"],["menu","matMenu"],["mat-menu-item","","type","button",3,"click"],["mat-header-row","",1,"example-second-header-row"],["mat-row",""]],template:function(_,S){1&_&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h2",2),e._uU(3,"Liste des Sous garantie "),e.qZA(),e.TgZ(4,"button",3),e.NdJ("click",function(){return S.openDialogAdd()}),e.TgZ(5,"mat-icon",4),e._uU(6,"add_circle"),e.qZA(),e._uU(7," Ajouter une nouvelle sous garantie "),e.qZA()(),e._UZ(8,"mat-divider"),e.TgZ(9,"table",5),e.ynx(10,6),e.YNc(11,sm,2,0,"th",7),e.YNc(12,Du,2,1,"td",8),e.BQk(),e.ynx(13,9),e.YNc(14,ji,2,0,"th",7),e.YNc(15,uc,2,1,"td",8),e.BQk(),e.ynx(16,10),e.YNc(17,Zc,2,0,"th",7),e.YNc(18,mc,2,1,"td",8),e.BQk(),e.ynx(19,11),e.YNc(20,No,2,0,"th",7),e.YNc(21,qc,3,3,"td",8),e.BQk(),e.ynx(22,12),e.YNc(23,Vc,2,0,"th",7),e.YNc(24,lm,3,4,"td",8),e.BQk(),e.ynx(25,13),e.YNc(26,lu,2,0,"th",7),e.YNc(27,cm,3,4,"td",8),e.BQk(),e.ynx(28,14),e.YNc(29,Al,2,0,"th",7),e.YNc(30,cu,11,1,"td",8),e.BQk(),e.YNc(31,Fr,1,0,"tr",15),e.YNc(32,Qa,1,0,"tr",16),e.qZA(),e._UZ(33,"mat-paginator",17),e.qZA()),2&_&&(e.xp6(9),e.Q6J("dataSource",S.dataSource),e.xp6(22),e.Q6J("matHeaderRowDef",S.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",S.displayedColumns),e.xp6(1),e.Q6J("pageSize",5)("pageSizeOptions",e.DdM(5,rs)))},dependencies:[O.d,Mn.Hw,Nn.VK,Nn.OP,Nn.p6,Q.BZ,Q.fO,Q.as,Q.w1,Q.Dz,Q.nj,Q.ge,Q.ev,Q.XQ,Q.Gk,Le.NW,vn.lW,Se.JJ,Se.uU],styles:[".container[_ngcontent-%COMP%]{background-color:#fff;padding:40px 0;height:100%;overflow-y:auto;overflow-x:hidden}.gestion-table[_ngcontent-%COMP%]{width:100%}.gestion-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .gestion-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:16px}.gestion-table[_ngcontent-%COMP%]   .mat-header-cell[_ngcontent-%COMP%]{color:#00008f;font-weight:600}.gestion-table[_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]:nth-child(even), .gestion-table[_ngcontent-%COMP%]   .mat-header-row[_ngcontent-%COMP%]{background-color:#f7f7f9}.gestion-table[_ngcontent-%COMP%]   .mat-paginator[_ngcontent-%COMP%]{background-color:transparent;margin:20px auto auto;width:80%}.gestion-table[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{height:100%;font-size:26px;color:#00008f;width:-moz-fit-content;width:fit-content}.mat-menu-item[_ngcontent-%COMP%]{font-size:15px}.mat-menu-item[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:18px;height:-moz-fit-content;height:fit-content}.mat-menu-item[_ngcontent-%COMP%]:hover:not([disabled]), .mat-menu-item[_ngcontent-%COMP%]:hover:not([disabled])   .mat-icon[_ngcontent-%COMP%]{color:#00008f}.header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:0px 2rem}.header[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{height:-moz-fit-content;height:fit-content;font-size:29px;margin-right:1rem;width:-moz-fit-content;width:fit-content}.title-table[_ngcontent-%COMP%]{margin-bottom:0rem;font-weight:800!important;font-size:23px!important;color:#00008f!important}"]}),p})();var tc=B(8056);function as(p,E){if(1&p&&(e.TgZ(0,"div",17),e._uU(1),e.qZA()),2&p){const _=e.oxw();e.xp6(1),e.hij("La dur\xe9e N\xb0",_.idDuree," a \xe9t\xe9 modifier avec succ\xe9s")}}function Tl(p,E){if(1&p&&(e.TgZ(0,"div",18),e._uU(1),e.qZA()),2&p){const _=e.oxw();e.xp6(1),e.Oqu(_.messageError)}}function uu(p,E){1&p&&(e.TgZ(0,"div"),e._uU(1," ce champs est obligatoire"),e.qZA())}function um(p,E){if(1&p&&(e.TgZ(0,"mat-error",19),e.YNc(1,uu,2,0,"div",20),e.qZA()),2&p){const _=e.oxw();e.xp6(1),e.Q6J("ngIf",_.formCreationDuree.controls.description.errors.required)}}function Sc(p,E){1&p&&(e.TgZ(0,"div"),e._uU(1," ce champs est obligatoire"),e.qZA())}function mm(p,E){if(1&p&&(e.TgZ(0,"mat-error",19),e.YNc(1,Sc,2,0,"div",20),e.qZA()),2&p){const _=e.oxw();e.xp6(1),e.Q6J("ngIf",_.formCreationDuree.controls.type_duree.errors.required)}}function wu(p,E){1&p&&(e.TgZ(0,"div"),e._uU(1," ce champs est obligatoire"),e.qZA())}function Qr(p,E){if(1&p&&(e.TgZ(0,"mat-error",19),e.YNc(1,wu,2,0,"div",20),e.qZA()),2&p){const _=e.oxw();e.xp6(1),e.Q6J("ngIf",_.formCreationDuree.controls.duree.errors.required)}}let yc=(()=>{class p{constructor(_,S,k){this.formBuilderAuth=_,this.dureeService=S,this.router=k,this.dureeCreationSuccess=!1,this.now=new Date,this.dureeCreationError=!1}ngOnInit(){this.formCreationDuree=this.formBuilderAuth.group({id:[""],type_duree:["",[w.kI.required]],duree:["",[w.kI.required]],description:["",[w.kI.required]],auditUser:["test"]})}submitCreationDuree(_){this.formCreationDuree.valid&&this.dureeService.addDuree(this.formCreationDuree.value).subscribe(S=>{this.dureeCreationSuccess=!0,this.dureeCreationError=!1,this.idDuree=S.id_duree,_.resetForm(),this.formCreationDuree.reset()},S=>{this.dureeCreationError=!0,this.dureeCreationSuccess=!1,this.messageError=S.ErreurMessage?S.ErreurMessage:S.message})}}return p.\u0275fac=function(_){return new(_||p)(e.Y36(w.qu),e.Y36(tc.Y),e.Y36(ee.F0))},p.\u0275cmp=e.Xpm({type:p,selectors:[["app-creation-duree-dialog"]],decls:33,vars:6,consts:[[1,"heading"],["class","alert alert-success",4,"ngIf"],["class","alert alert-danger",4,"ngIf"],[1,"mat-typography"],[1,"login-form",3,"formGroup","ngSubmit"],["formDirective","ngForm"],["appearance","outline",1,"col-md-12"],["type","text","matInput","","placeholder","","formControlName","description"],["class","invalid-feedback",4,"ngIf"],["appearance","outline",1,"col-md-6"],["formControlName","type_duree"],["value","Jour"],["value","Mois"],["value","Ann\xe9e"],["type","text","matInput","","placeholder","","formControlName","duree"],["type","submit",1,"btn","btn-action"],["mat-dialog-close","",1,"btn","btn-cancel"],[1,"alert","alert-success"],[1,"alert","alert-danger"],[1,"invalid-feedback"],[4,"ngIf"]],template:function(_,S){if(1&_){const k=e.EpF();e.TgZ(0,"h2",0),e._uU(1,"Cr\xe9er une dur\xe9e"),e.qZA(),e._UZ(2,"mat-divider"),e.YNc(3,as,2,1,"div",1),e.YNc(4,Tl,2,1,"div",2),e.TgZ(5,"mat-dialog-content",3)(6,"form",4,5),e.NdJ("ngSubmit",function(){e.CHM(k);const Ue=e.MAs(7);return e.KtG(S.submitCreationDuree(Ue))}),e.TgZ(8,"mat-form-field",6)(9,"mat-label"),e._uU(10,"Description"),e.qZA(),e._UZ(11,"input",7),e.YNc(12,um,2,1,"mat-error",8),e.qZA(),e.TgZ(13,"mat-form-field",9)(14,"mat-label"),e._uU(15," Type Dur\xe9e "),e.qZA(),e.TgZ(16,"mat-select",10)(17,"mat-option",11),e._uU(18,"Jour"),e.qZA(),e.TgZ(19,"mat-option",12),e._uU(20,"Mois"),e.qZA(),e.TgZ(21,"mat-option",13),e._uU(22,"Ann\xe9e"),e.qZA()(),e.YNc(23,mm,2,1,"mat-error",8),e.qZA(),e.TgZ(24,"mat-form-field",9)(25,"mat-label"),e._uU(26,"Dur\xe9e"),e.qZA(),e._UZ(27,"input",14),e.YNc(28,Qr,2,1,"mat-error",8),e.qZA(),e.TgZ(29,"button",15),e._uU(30,"Envoyer"),e.qZA(),e.TgZ(31,"button",16),e._uU(32,"Annuler"),e.qZA()()()}2&_&&(e.xp6(3),e.Q6J("ngIf",S.dureeCreationSuccess),e.xp6(1),e.Q6J("ngIf",S.dureeCreationError),e.xp6(2),e.Q6J("formGroup",S.formCreationDuree),e.xp6(6),e.Q6J("ngIf",S.formCreationDuree.controls.description.errors),e.xp6(11),e.Q6J("ngIf",S.formCreationDuree.controls.type_duree.errors),e.xp6(5),e.Q6J("ngIf",S.formCreationDuree.controls.duree.errors))},dependencies:[Se.O5,O.d,w._Y,w.Fj,w.JJ,w.JL,w.sg,w.u,J.TO,J.KE,J.hX,he.Nt,xe.ZT,xe.xY,l.gD,t.ey],styles:["button.btn.btn-action[_ngcontent-%COMP%]{float:right}h2.heading[_ngcontent-%COMP%]{color:#00008f;font-weight:700!important;letter-spacing:.5px}.mat-dialog-content[_ngcontent-%COMP%]{padding-top:15px}.mat-radio-button[_ngcontent-%COMP%]{margin:0 12px}"]}),p})();function Hc(p,E){if(1&p&&(e.TgZ(0,"div",4),e._uU(1),e.qZA()),2&p){const _=e.oxw();e.xp6(1),e.hij("La dur\xe9e N\xb0",_.idDuree," a \xe9t\xe9 modifier avec succ\xe9s")}}function Gs(p,E){if(1&p&&(e.TgZ(0,"div",4),e._uU(1),e.qZA()),2&p){const _=e.oxw();e.xp6(1),e.Oqu(_.messageError)}}function mu(p,E){1&p&&(e.TgZ(0,"div"),e._uU(1," ce champs est obligatoire"),e.qZA())}function $c(p,E){if(1&p&&(e.TgZ(0,"mat-error",18),e.YNc(1,mu,2,0,"div",19),e.qZA()),2&p){const _=e.oxw(2);e.xp6(1),e.Q6J("ngIf",_.formEditDuree.controls.description.errors.required)}}function bl(p,E){1&p&&(e.TgZ(0,"div"),e._uU(1," ce champs est obligatoire"),e.qZA())}function Ou(p,E){if(1&p&&(e.TgZ(0,"mat-error",18),e.YNc(1,bl,2,0,"div",19),e.qZA()),2&p){const _=e.oxw(2);e.xp6(1),e.Q6J("ngIf",_.formEditDuree.controls.type_duree.errors.required)}}function Xr(p,E){1&p&&(e.TgZ(0,"div"),e._uU(1," ce champs est obligatoire"),e.qZA())}function Kc(p,E){if(1&p&&(e.TgZ(0,"mat-error",18),e.YNc(1,Xr,2,0,"div",19),e.qZA()),2&p){const _=e.oxw(2);e.xp6(1),e.Q6J("ngIf",_.formEditDuree.controls.duree.errors.required)}}function ku(p,E){if(1&p){const _=e.EpF();e.TgZ(0,"form",5,6),e.NdJ("ngSubmit",function(){e.CHM(_);const k=e.MAs(1),ae=e.oxw();return e.KtG(ae.submitEditDuree(k))}),e.TgZ(2,"mat-form-field",7)(3,"mat-label"),e._uU(4,"Description"),e.qZA(),e._UZ(5,"input",8),e.YNc(6,$c,2,1,"mat-error",9),e.qZA(),e.TgZ(7,"mat-form-field",10)(8,"mat-label"),e._uU(9," Type Dur\xe9e "),e.qZA(),e.TgZ(10,"mat-select",11)(11,"mat-option",12),e._uU(12,"Jour"),e.qZA(),e.TgZ(13,"mat-option",13),e._uU(14,"Mois"),e.qZA(),e.TgZ(15,"mat-option",14),e._uU(16,"Ann\xe9e"),e.qZA()(),e.YNc(17,Ou,2,1,"mat-error",9),e.qZA(),e.TgZ(18,"mat-form-field",10)(19,"mat-label"),e._uU(20,"Dur\xe9e"),e.qZA(),e._UZ(21,"input",15),e.YNc(22,Kc,2,1,"mat-error",9),e.qZA(),e.TgZ(23,"button",16),e._uU(24,"Envoyer"),e.qZA(),e.TgZ(25,"button",17),e._uU(26,"Annuler"),e.qZA()()}if(2&p){const _=e.oxw();e.Q6J("formGroup",_.formEditDuree),e.xp6(6),e.Q6J("ngIf",_.formEditDuree.controls.description.errors),e.xp6(11),e.Q6J("ngIf",_.formEditDuree.controls.type_duree.errors),e.xp6(5),e.Q6J("ngIf",_.formEditDuree.controls.duree.errors)}}let du=(()=>{class p{constructor(_,S,k,ae){this.data=_,this.formBuilderAuth=S,this.dureeService=k,this.router=ae,this.dureeEditSuccess=!1,this.now=new Date,this.dureeEditError=!1}ngOnInit(){this.getDureeById(this.data.idDuree)}getDureeById(_){this.dureeService.getDureeById(_).subscribe(S=>{this.initFormEditDuree(S)})}initFormEditDuree(_){this.formEditDuree=this.formBuilderAuth.group({id:[_.id_duree],type_duree:[_.type_duree,[w.kI.required]],duree:[_.duree,[w.kI.required]],description:[_.description,[w.kI.required]],auditUser:[_.auditUser]})}submitEditDuree(_){this.formEditDuree.valid&&this.dureeService.updateDuree(this.formEditDuree.value,this.data.idDuree).subscribe(S=>{this.dureeEditSuccess=!0,this.dureeEditError=!1,this.idDuree=S.id_duree,_.resetForm(),this.formEditDuree.reset()},S=>{this.dureeEditError=!0,this.dureeEditSuccess=!1,this.messageError=S.ErreurMessage?S.ErreurMessage:S.message})}}return p.\u0275fac=function(_){return new(_||p)(e.Y36(xe.WI),e.Y36(w.qu),e.Y36(tc.Y),e.Y36(ee.F0))},p.\u0275cmp=e.Xpm({type:p,selectors:[["app-edit-duree-dialog"]],decls:7,vars:3,consts:[[1,"heading"],["class","alert alert-success",4,"ngIf"],[1,"mat-typography"],["class","login-form",3,"formGroup","ngSubmit",4,"ngIf"],[1,"alert","alert-success"],[1,"login-form",3,"formGroup","ngSubmit"],["formDirective","ngForm"],["appearance","outline",1,"col-md-12"],["type","text","matInput","","placeholder","","formControlName","description"],["class","invalid-feedback",4,"ngIf"],["appearance","outline",1,"col-md-6"],["formControlName","type_duree"],["value","Jour"],["value","Mois"],["value","Ann\xe9e"],["type","text","matInput","","placeholder","","formControlName","duree"],["type","submit",1,"btn","btn-action"],["mat-dialog-close","",1,"btn","btn-cancel"],[1,"invalid-feedback"],[4,"ngIf"]],template:function(_,S){1&_&&(e.TgZ(0,"h2",0),e._uU(1,"Modifier une dur\xe9e"),e.qZA(),e._UZ(2,"mat-divider"),e.YNc(3,Hc,2,1,"div",1),e.YNc(4,Gs,2,1,"div",1),e.TgZ(5,"mat-dialog-content",2),e.YNc(6,ku,27,4,"form",3),e.qZA()),2&_&&(e.xp6(3),e.Q6J("ngIf",S.dureeEditSuccess),e.xp6(1),e.Q6J("ngIf",S.dureeEditError),e.xp6(2),e.Q6J("ngIf",S.formEditDuree))},dependencies:[Se.O5,O.d,w._Y,w.Fj,w.JJ,w.JL,w.sg,w.u,J.TO,J.KE,J.hX,he.Nt,xe.ZT,xe.xY,l.gD,t.ey],styles:["button.btn.btn-action[_ngcontent-%COMP%]{float:right}h2.heading[_ngcontent-%COMP%]{color:#00008f;font-weight:700!important;letter-spacing:.5px}.mat-dialog-content[_ngcontent-%COMP%]{padding-top:15px}.mat-radio-button[_ngcontent-%COMP%]{margin:0 12px}"]}),p})();function dm(p,E){1&p&&(e.TgZ(0,"th",16),e._uU(1," ID "),e.qZA())}function _u(p,E){if(1&p&&(e.TgZ(0,"td",17),e._uU(1),e.qZA()),2&p){const _=E.$implicit;e.xp6(1),e.hij(" ",_.id_duree," ")}}function _m(p,E){1&p&&(e.TgZ(0,"th",16),e._uU(1," Type dur\xe9e "),e.qZA())}function Nc(p,E){if(1&p&&(e.TgZ(0,"td",17),e._uU(1),e.qZA()),2&p){const _=E.$implicit;e.xp6(1),e.hij(" ",_.type_duree," ")}}function Mu(p,E){1&p&&(e.TgZ(0,"th",16),e._uU(1," Dur\xe9e "),e.qZA())}function Uu(p,E){if(1&p&&(e.TgZ(0,"td",17),e._uU(1),e.qZA()),2&p){const _=E.$implicit;e.xp6(1),e.hij(" ",_.duree," ")}}function Fu(p,E){1&p&&(e.TgZ(0,"th",16),e._uU(1," Description "),e.qZA())}function Ic(p,E){if(1&p&&(e.TgZ(0,"td",17),e._uU(1),e.qZA()),2&p){const _=E.$implicit;e.xp6(1),e.hij(" ",_.description," ")}}function Ec(p,E){1&p&&(e.TgZ(0,"th",16),e._uU(1," Action "),e.qZA())}function Qu(p,E){if(1&p){const _=e.EpF();e.TgZ(0,"td",17)(1,"button",18)(2,"mat-icon"),e._uU(3,"more_vert"),e.qZA()(),e.TgZ(4,"mat-menu",19,20)(6,"button",21),e.NdJ("click",function(){const ae=e.CHM(_).$implicit,Ue=e.oxw();return e.KtG(Ue.openDialogEdit(ae.id_duree))}),e.TgZ(7,"mat-icon"),e._uU(8,"edit"),e.qZA(),e.TgZ(9,"span"),e._uU(10,"Modifier dur\xe9e"),e.qZA()()()()}if(2&p){const _=e.MAs(5);e.xp6(1),e.Q6J("matMenuTriggerFor",_)}}function Rc(p,E){1&p&&e._UZ(0,"tr",22)}function pu(p,E){1&p&&e._UZ(0,"tr",23)}const pm=function(){return[5,10,50]};let Ju=(()=>{class p{constructor(_,S){this.dureeService=_,this.dialog=S,this.displayedColumns=["id_duree","type_duree","duree","description","action"],this.lengthColumns=this.displayedColumns.length}ngOnInit(){this.getAllDuree()}getAllDuree(){this.dureeService.getAllDuree().subscribe(_=>{this.dataSource=new Q.by(_),this.paginate()})}openCreateDialog(){this.dialog.open(yc,{width:"60%"}).afterClosed().subscribe(S=>{this.getAllDuree()})}openDialogEdit(_){this.dialog.open(du,{width:"60%",data:{idDuree:_}}).afterClosed().subscribe(k=>{this.getAllDuree()})}paginate(){this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort}}return p.\u0275fac=function(_){return new(_||p)(e.Y36(tc.Y),e.Y36(xe.uw))},p.\u0275cmp=e.Xpm({type:p,selectors:[["app-gestion-duree"]],viewQuery:function(_,S){if(1&_&&(e.Gf(Le.NW,5),e.Gf(qi.YE,5)),2&_){let k;e.iGM(k=e.CRH())&&(S.paginator=k.first),e.iGM(k=e.CRH())&&(S.sort=k.first)}},decls:28,vars:6,consts:[[1,"container"],[1,"header"],[1,"title-table"],[1,"btn","btn-secondary",2,"display","flex","align-items","center",3,"click"],["aria-hidden","false","aria-label","ajouter dur\xe9e ",1,"material-symbols-outlined"],["mat-table","",1,"gestion-table",3,"dataSource"],["matColumnDef","id_duree"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","type_duree"],["matColumnDef","duree"],["matColumnDef","description"],["matColumnDef","action"],["mat-header-row","","class","example-second-header-row",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["aria-label","Select page of users",3,"pageSize","pageSizeOptions"],["mat-header-cell",""],["mat-cell",""],["mat-icon-button","","type","button","aria-label","menu duree list",3,"matMenuTriggerFor"],["xPosition","after"],["menu","matMenu"],["mat-menu-item","","type","button",3,"click"],["mat-header-row","",1,"example-second-header-row"],["mat-row",""]],template:function(_,S){1&_&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h2",2),e._uU(3,"Listes des dur\xe9es"),e.qZA(),e.TgZ(4,"button",3),e.NdJ("click",function(){return S.openCreateDialog()}),e.TgZ(5,"mat-icon",4),e._uU(6,"add_circle"),e.qZA(),e._uU(7," Ajouter une nouvelle dur\xe9e "),e.qZA()(),e._UZ(8,"mat-divider"),e.TgZ(9,"table",5),e.ynx(10,6),e.YNc(11,dm,2,0,"th",7),e.YNc(12,_u,2,1,"td",8),e.BQk(),e.ynx(13,9),e.YNc(14,_m,2,0,"th",7),e.YNc(15,Nc,2,1,"td",8),e.BQk(),e.ynx(16,10),e.YNc(17,Mu,2,0,"th",7),e.YNc(18,Uu,2,1,"td",8),e.BQk(),e.ynx(19,11),e.YNc(20,Fu,2,0,"th",7),e.YNc(21,Ic,2,1,"td",8),e.BQk(),e.ynx(22,12),e.YNc(23,Ec,2,0,"th",7),e.YNc(24,Qu,11,1,"td",8),e.BQk(),e.YNc(25,Rc,1,0,"tr",13),e.YNc(26,pu,1,0,"tr",14),e.qZA(),e._UZ(27,"mat-paginator",15),e.qZA()),2&_&&(e.xp6(9),e.Q6J("dataSource",S.dataSource),e.xp6(16),e.Q6J("matHeaderRowDef",S.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",S.displayedColumns),e.xp6(1),e.Q6J("pageSize",10)("pageSizeOptions",e.DdM(5,pm)))},dependencies:[O.d,Mn.Hw,Nn.VK,Nn.OP,Nn.p6,Q.BZ,Q.fO,Q.as,Q.w1,Q.Dz,Q.nj,Q.ge,Q.ev,Q.XQ,Q.Gk,Le.NW,vn.lW],styles:[".container[_ngcontent-%COMP%]{background-color:#fff;padding:40px 0;height:100%;overflow-y:auto;overflow-x:hidden}.gestion-table[_ngcontent-%COMP%]{width:100%}.gestion-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .gestion-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:16px}.gestion-table[_ngcontent-%COMP%]   .mat-header-cell[_ngcontent-%COMP%]{color:#00008f;font-weight:600}.gestion-table[_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]:nth-child(even), .gestion-table[_ngcontent-%COMP%]   .mat-header-row[_ngcontent-%COMP%]{background-color:#f7f7f9}.gestion-table[_ngcontent-%COMP%]   .mat-paginator[_ngcontent-%COMP%]{background-color:transparent;margin:20px auto auto;width:80%}.gestion-table[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{height:100%;font-size:26px;color:#00008f;width:-moz-fit-content;width:fit-content}.mat-menu-item[_ngcontent-%COMP%]{font-size:15px}.mat-menu-item[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:18px;height:-moz-fit-content;height:fit-content}.mat-menu-item[_ngcontent-%COMP%]:hover:not([disabled]), .mat-menu-item[_ngcontent-%COMP%]:hover:not([disabled])   .mat-icon[_ngcontent-%COMP%]{color:#00008f}.header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:0px 2rem}.header[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{height:-moz-fit-content;height:fit-content;font-size:29px;margin-right:1rem;width:-moz-fit-content;width:fit-content}.title-table[_ngcontent-%COMP%]{margin-bottom:0rem;font-weight:800!important;font-size:23px!important;color:#00008f!important}"]}),p})(),Wc=(()=>{class p{constructor(_){this.http=_}getAllFormules(){return this.http.get(`${n.g.API_ENDPOINT_Formule}`).pipe((0,Oo.b)(_=>this.logs(_)),(0,Bo.K)(_=>this.handleEroor(_,[])))}addFormule(_){const S={headers:new i.WM({"Content-Type":"application/json"})};return this.http.post(`${n.g.API_ENDPOINT_Formule}`,_,S).pipe((0,Oo.b)(k=>this.logs(k)),(0,Bo.K)(k=>this.handleEroor(k,k.error)))}getFormuleById(_){return this.http.get(`${n.g.API_ENDPOINT_Formule}/${_}`)}updateFormule(_,S){const k={headers:new i.WM({"Content-Type":"application/json"})};return this.http.put(`${n.g.API_ENDPOINT_Formule}/${S}`,_,k).pipe((0,Oo.b)(ae=>this.logs(ae)),(0,Bo.K)(ae=>this.handleEroor(ae,ae.error)))}logs(_){}handleEroor(_,S){return(0,Yl.of)(S)}}return p.\u0275fac=function(_){return new(_||p)(e.LFG(i.eN))},p.\u0275prov=e.Yz7({token:p,factory:p.\u0275fac,providedIn:"root"}),p})();function fu(p,E){if(1&p&&(e.TgZ(0,"div",17),e._uU(1),e.qZA()),2&p){const _=e.oxw();e.xp6(1),e.hij("La formule N\xb0",_.idFormule," a \xe9t\xe9 cr\xe9er avec succ\xe9s")}}function Bs(p,E){if(1&p&&(e.TgZ(0,"div",18),e._uU(1),e.qZA()),2&p){const _=e.oxw();e.xp6(1),e.Oqu(_.messageError)}}function fm(p,E){1&p&&(e.TgZ(0,"div"),e._uU(1," ce champs est obligatoire"),e.qZA())}function gu(p,E){if(1&p&&(e.TgZ(0,"mat-error",19),e.YNc(1,fm,2,0,"div",20),e.qZA()),2&p){const _=e.oxw();e.xp6(1),e.Q6J("ngIf",_.formCreationFormule.controls.description.errors.required)}}function fr(p,E){1&p&&(e.TgZ(0,"div"),e._uU(1," ce champs est obligatoire"),e.qZA())}function ea(p,E){if(1&p&&(e.TgZ(0,"mat-error",19),e.YNc(1,fr,2,0,"div",20),e.qZA()),2&p){const _=e.oxw();e.xp6(1),e.Q6J("ngIf",_.formCreationFormule.controls.dateDebut.errors.required)}}function $o(p,E){1&p&&(e.TgZ(0,"mat-error",19)(1,"div"),e._uU(2," Date fin est inf\xe9rieur \xe0 la date d\xe9but"),e.qZA()())}let pa=(()=>{class p{constructor(_,S,k){this.formBuilderAuth=_,this.formulesService=S,this.router=k,this.formuleCreationSuccess=!1,this.now=new Date,this.formuleCreationError=!1,this.minDate=new Date}ngOnInit(){this.formCreationFormule=this.formBuilderAuth.group({description:["",[w.kI.required]],dateDebut:["",[w.kI.required]],dateFin:[""]})}submitCreationFormule(_){this.formCreationFormule.valid&&(this.formCreationFormule.get("dateDebut").setValue(o(this.formCreationFormule.get("dateDebut").value).format("YYYY-MM-DD")),this.formulesService.addFormule(this.formCreationFormule.value).subscribe(S=>{this.formuleCreationSuccess=!0,this.formuleCreationError=!1,this.idFormule=S.id_formule,_.resetForm(),this.formCreationFormule.reset()},S=>{this.formuleCreationError=!0,this.formuleCreationSuccess=!1,this.messageError=S.ErreurMessage?S.ErreurMessage:S.message}))}debutDateChange(_){this.minDate=_}}return p.\u0275fac=function(_){return new(_||p)(e.Y36(w.qu),e.Y36(Wc),e.Y36(ee.F0))},p.\u0275cmp=e.Xpm({type:p,selectors:[["app-creation-formule-dialog"]],decls:33,vars:11,consts:[[1,"heading"],["class","alert alert-success",4,"ngIf"],["class","alert alert-danger",4,"ngIf"],[1,"mat-typography"],[1,"login-form",3,"formGroup","ngSubmit"],["formDirective","ngForm"],["appearance","outline",1,"col-md-12"],["type","text","matInput","","placeholder","","formControlName","description"],["class","invalid-feedback",4,"ngIf"],["appearance","outline",1,"col-md-6"],["matInput","","formControlName","dateDebut",3,"matDatepicker","dateChange"],["matSuffix","",3,"for"],["picker",""],["matInput","","formControlName","dateFin",3,"min","matDatepicker"],["picker2",""],["type","submit",1,"btn","btn-action"],["mat-dialog-close","",1,"btn","btn-cancel"],[1,"alert","alert-success"],[1,"alert","alert-danger"],[1,"invalid-feedback"],[4,"ngIf"]],template:function(_,S){if(1&_){const k=e.EpF();e.TgZ(0,"h2",0),e._uU(1,"Cr\xe9er une formule"),e.qZA(),e._UZ(2,"mat-divider"),e.YNc(3,fu,2,1,"div",1),e.YNc(4,Bs,2,1,"div",2),e.TgZ(5,"mat-dialog-content",3)(6,"form",4,5),e.NdJ("ngSubmit",function(){e.CHM(k);const Ue=e.MAs(7);return e.KtG(S.submitCreationFormule(Ue))}),e.TgZ(8,"mat-form-field",6)(9,"mat-label"),e._uU(10,"Description"),e.qZA(),e._UZ(11,"input",7),e.YNc(12,gu,2,1,"mat-error",8),e.qZA(),e.TgZ(13,"mat-form-field",9)(14,"mat-label"),e._uU(15,"Date debut"),e.qZA(),e.TgZ(16,"input",10),e.NdJ("dateChange",function(Ue){return S.debutDateChange(Ue.value)}),e.qZA(),e._UZ(17,"mat-datepicker-toggle",11)(18,"mat-datepicker",null,12),e.YNc(20,ea,2,1,"mat-error",8),e.qZA(),e.TgZ(21,"mat-form-field",9)(22,"mat-label"),e._uU(23,"Date fin"),e.qZA(),e._UZ(24,"input",13)(25,"mat-datepicker-toggle",11)(26,"mat-datepicker",null,14),e.YNc(28,$o,3,0,"mat-error",8),e.qZA(),e.TgZ(29,"button",15),e._uU(30,"Envoyer"),e.qZA(),e.TgZ(31,"button",16),e._uU(32,"Annuler"),e.qZA()()()}if(2&_){const k=e.MAs(19),ae=e.MAs(27);e.xp6(3),e.Q6J("ngIf",S.formuleCreationSuccess),e.xp6(1),e.Q6J("ngIf",S.formuleCreationError),e.xp6(2),e.Q6J("formGroup",S.formCreationFormule),e.xp6(6),e.Q6J("ngIf",S.formCreationFormule.controls.description.errors),e.xp6(4),e.Q6J("matDatepicker",k),e.xp6(1),e.Q6J("for",k),e.xp6(3),e.Q6J("ngIf",S.formCreationFormule.controls.dateDebut.errors),e.xp6(4),e.Q6J("min",S.minDate)("matDatepicker",ae),e.xp6(1),e.Q6J("for",ae),e.xp6(3),e.Q6J("ngIf",S.formCreationFormule.controls.dateFin.hasError("matDatepickerMin"))}},dependencies:[Se.O5,O.d,w._Y,w.Fj,w.JJ,w.JL,w.sg,w.u,J.TO,J.KE,J.hX,J.R9,he.Nt,xe.ZT,xe.xY,Ze.Mq,Ze.hl,Ze.nW],styles:["button.btn.btn-action[_ngcontent-%COMP%]{float:right}h2.heading[_ngcontent-%COMP%]{color:#00008f;font-weight:700!important;letter-spacing:.5px}.mat-dialog-content[_ngcontent-%COMP%]{padding-top:15px}.mat-radio-button[_ngcontent-%COMP%]{margin:0 12px}"]}),p})();function Lu(p,E){if(1&p&&(e.TgZ(0,"div",5),e._uU(1),e.qZA()),2&p){const _=e.oxw();e.xp6(1),e.hij("La formule N\xb0",_.idFormule," a \xe9t\xe9 modifier avec succ\xe9s")}}function hu(p,E){if(1&p&&(e.TgZ(0,"div",6),e._uU(1),e.qZA()),2&p){const _=e.oxw();e.xp6(1),e.Oqu(_.messageError)}}function Cu(p,E){1&p&&(e.TgZ(0,"div"),e._uU(1," ce champs est obligatoire"),e.qZA())}function Dc(p,E){if(1&p&&(e.TgZ(0,"mat-error",20),e.YNc(1,Cu,2,0,"div",21),e.qZA()),2&p){const _=e.oxw(2);e.xp6(1),e.Q6J("ngIf",_.formEditFormule.controls.description.errors.required)}}function Yu(p,E){1&p&&(e.TgZ(0,"div"),e._uU(1," ce champs est obligatoire"),e.qZA())}function gm(p,E){if(1&p&&(e.TgZ(0,"mat-error",20),e.YNc(1,Yu,2,0,"div",21),e.qZA()),2&p){const _=e.oxw(2);e.xp6(1),e.Q6J("ngIf",_.formEditFormule.controls.dateDebut.errors.required)}}function Pl(p,E){if(1&p){const _=e.EpF();e.TgZ(0,"form",7,8),e.NdJ("ngSubmit",function(){e.CHM(_);const k=e.MAs(1),ae=e.oxw();return e.KtG(ae.submitEditFormule(k))}),e.TgZ(2,"mat-form-field",9)(3,"mat-label"),e._uU(4,"Description"),e.qZA(),e._UZ(5,"input",10),e.YNc(6,Dc,2,1,"mat-error",11),e.qZA(),e.TgZ(7,"mat-form-field",12)(8,"mat-label"),e._uU(9,"Date debut"),e.qZA(),e.TgZ(10,"input",13),e.NdJ("dateChange",function(k){e.CHM(_);const ae=e.oxw();return e.KtG(ae.debutDateChange(k.value))}),e.qZA(),e._UZ(11,"mat-datepicker-toggle",14)(12,"mat-datepicker",null,15),e.YNc(14,gm,2,1,"mat-error",11),e.qZA(),e.TgZ(15,"mat-form-field",12)(16,"mat-label"),e._uU(17,"Date fin"),e.qZA(),e._UZ(18,"input",16)(19,"mat-datepicker-toggle",14)(20,"mat-datepicker",null,17),e.qZA(),e.TgZ(22,"button",18),e._uU(23,"Envoyer"),e.qZA(),e.TgZ(24,"button",19),e._uU(25,"Annuler"),e.qZA()()}if(2&p){const _=e.MAs(13),S=e.MAs(21),k=e.oxw();e.Q6J("formGroup",k.formEditFormule),e.xp6(6),e.Q6J("ngIf",k.formEditFormule.controls.description.errors),e.xp6(4),e.Q6J("matDatepicker",_),e.xp6(1),e.Q6J("for",_),e.xp6(3),e.Q6J("ngIf",k.formEditFormule.controls.dateDebut.errors),e.xp6(4),e.Q6J("min",k.minDate)("matDatepicker",S),e.xp6(1),e.Q6J("for",S)}}let dc=(()=>{class p{constructor(_,S,k,ae){this.data=_,this.formBuilderAuth=S,this.formulesService=k,this.router=ae,this.formuleEditSuccess=!1,this.now=new Date,this.formuleEditError=!1,this.minDate=null}ngOnInit(){this.getFormuleById(this.data.idFormule)}getFormuleById(_){this.formulesService.getFormuleById(_).subscribe(S=>{this.initFormEditFormule(S)})}initFormEditFormule(_){this.debutDateChange(_.dateDebut),this.formEditFormule=this.formBuilderAuth.group({id:[_.id],description:[_.description,[w.kI.required]],dateDebut:[_.dateDebut,[w.kI.required]],dateFin:[_.dateFin]})}submitEditFormule(_){this.formEditFormule.valid&&(this.formEditFormule.get("dateDebut").setValue(o(this.formEditFormule.get("dateDebut").value).format("YYYY-MM-DD")),this.formulesService.updateFormule(this.formEditFormule.value,this.data.idFormule).subscribe(S=>{this.formuleEditSuccess=!0,this.formuleEditError=!1,this.idFormule=S.id_formule,_.resetForm(),this.formEditFormule.reset()},S=>{this.formuleEditError=!0,this.formuleEditSuccess=!1,this.messageError=S.ErreurMessage?S.ErreurMessage:S.message}))}debutDateChange(_){this.minDate=_}}return p.\u0275fac=function(_){return new(_||p)(e.Y36(xe.WI),e.Y36(w.qu),e.Y36(Wc),e.Y36(ee.F0))},p.\u0275cmp=e.Xpm({type:p,selectors:[["app-edit-formule-dialog"]],decls:7,vars:3,consts:[[1,"heading"],["class","alert alert-success",4,"ngIf"],["class","alert alert-danger",4,"ngIf"],[1,"mat-typography"],["class","login-form",3,"formGroup","ngSubmit",4,"ngIf"],[1,"alert","alert-success"],[1,"alert","alert-danger"],[1,"login-form",3,"formGroup","ngSubmit"],["formDirective","ngForm"],["appearance","outline",1,"col-md-12"],["type","text","matInput","","placeholder","","formControlName","description"],["class","invalid-feedback",4,"ngIf"],["appearance","outline",1,"col-md-6"],["matInput","","formControlName","dateDebut",3,"matDatepicker","dateChange"],["matSuffix","",3,"for"],["picker",""],["matInput","","formControlName","dateFin",3,"min","matDatepicker"],["picker2",""],["type","submit",1,"btn","btn-action"],["mat-dialog-close","",1,"btn","btn-cancel"],[1,"invalid-feedback"],[4,"ngIf"]],template:function(_,S){1&_&&(e.TgZ(0,"h2",0),e._uU(1,"Modifier une formule"),e.qZA(),e._UZ(2,"mat-divider"),e.YNc(3,Lu,2,1,"div",1),e.YNc(4,hu,2,1,"div",2),e.TgZ(5,"mat-dialog-content",3),e.YNc(6,Pl,26,8,"form",4),e.qZA()),2&_&&(e.xp6(3),e.Q6J("ngIf",S.formuleEditSuccess),e.xp6(1),e.Q6J("ngIf",S.formuleEditError),e.xp6(2),e.Q6J("ngIf",S.formEditFormule))},dependencies:[Se.O5,O.d,w._Y,w.Fj,w.JJ,w.JL,w.sg,w.u,J.TO,J.KE,J.hX,J.R9,he.Nt,xe.ZT,xe.xY,Ze.Mq,Ze.hl,Ze.nW],styles:["button.btn.btn-action[_ngcontent-%COMP%]{float:right}h2.heading[_ngcontent-%COMP%]{color:#00008f;font-weight:700!important;letter-spacing:.5px}.mat-dialog-content[_ngcontent-%COMP%]{padding-top:15px}.mat-radio-button[_ngcontent-%COMP%]{margin:0 12px}"]}),p})();function Zl(p,E){1&p&&(e.TgZ(0,"th",16),e._uU(1," ID "),e.qZA())}function Gu(p,E){if(1&p&&(e.TgZ(0,"td",17),e._uU(1),e.qZA()),2&p){const _=E.$implicit;e.xp6(1),e.hij(" ",_.id_formule," ")}}function xu(p,E){1&p&&(e.TgZ(0,"th",16),e._uU(1," Description "),e.qZA())}function lo(p,E){if(1&p&&(e.TgZ(0,"td",17),e._uU(1),e.qZA()),2&p){const _=E.$implicit;e.xp6(1),e.hij(" ",_.description," ")}}function hm(p,E){1&p&&(e.TgZ(0,"th",16),e._uU(1," Date debut "),e.qZA())}function Cm(p,E){if(1&p&&(e.TgZ(0,"td",17),e._uU(1),e.ALo(2,"date"),e.qZA()),2&p){const _=E.$implicit;e.xp6(1),e.hij(" ",e.xi3(2,1,_.dateDebut,"dd/MM/yyyy")," ")}}function Gl(p,E){1&p&&(e.TgZ(0,"th",16),e._uU(1," Date fin "),e.qZA())}function vu(p,E){if(1&p&&(e.TgZ(0,"td",17),e._uU(1),e.ALo(2,"date"),e.qZA()),2&p){const _=E.$implicit;e.xp6(1),e.hij(" ",e.xi3(2,1,_.dateFin,"dd/MM/yyyy")," ")}}function xm(p,E){1&p&&(e.TgZ(0,"th",16),e._uU(1," Action "),e.qZA())}function vm(p,E){if(1&p){const _=e.EpF();e.TgZ(0,"td",17)(1,"button",18)(2,"mat-icon"),e._uU(3,"more_vert"),e.qZA()(),e.TgZ(4,"mat-menu",19,20)(6,"button",21),e.NdJ("click",function(){const ae=e.CHM(_).$implicit,Ue=e.oxw();return e.KtG(Ue.openDialogEdit(ae.id_formule))}),e.TgZ(7,"mat-icon"),e._uU(8,"edit"),e.qZA(),e.TgZ(9,"span"),e._uU(10,"Modifier formule"),e.qZA()()()()}if(2&p){const _=e.MAs(5);e.xp6(1),e.Q6J("matMenuTriggerFor",_)}}function Na(p,E){1&p&&e._UZ(0,"tr",22)}function Bu(p,E){1&p&&e._UZ(0,"tr",23)}const Ia=function(){return[5,10,50]};let ql=(()=>{class p{constructor(_,S){this.formuleService=_,this.dialog=S,this.displayedColumns=["id_formule","description","date_debut","date_fin","action"],this.lengthColumns=this.displayedColumns.length}ngOnInit(){this.getAllFormule()}getAllFormule(){this.formuleService.getAllFormules().subscribe(_=>{this.dataSource=new Q.by(_),this.paginate()})}openCreateDialog(){this.dialog.open(pa,{width:"60%"}).afterClosed().subscribe(S=>{this.getAllFormule()})}openDialogEdit(_){this.dialog.open(dc,{width:"60%",data:{idFormule:_}}).afterClosed().subscribe(k=>{this.getAllFormule()})}paginate(){this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort}}return p.\u0275fac=function(_){return new(_||p)(e.Y36(Wc),e.Y36(xe.uw))},p.\u0275cmp=e.Xpm({type:p,selectors:[["app-gestion-formule"]],viewQuery:function(_,S){if(1&_&&(e.Gf(Le.NW,5),e.Gf(qi.YE,5)),2&_){let k;e.iGM(k=e.CRH())&&(S.paginator=k.first),e.iGM(k=e.CRH())&&(S.sort=k.first)}},decls:28,vars:6,consts:[[1,"container"],[1,"header"],[1,"title-table"],[1,"btn","btn-secondary",2,"display","flex","align-items","center",3,"click"],["aria-hidden","false","aria-label","ajouter pack ",1,"material-symbols-outlined"],["mat-table","",1,"gestion-table",3,"dataSource"],["matColumnDef","id_formule"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","description"],["matColumnDef","date_debut"],["matColumnDef","date_fin"],["matColumnDef","action"],["mat-header-row","","class","example-second-header-row",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["aria-label","Select page of users",3,"pageSize","pageSizeOptions"],["mat-header-cell",""],["mat-cell",""],["mat-icon-button","","type","button","aria-label","menu formule list",3,"matMenuTriggerFor"],["xPosition","after",1,"menu-formule"],["menu","matMenu"],["mat-menu-item","","type","button",3,"click"],["mat-header-row","",1,"example-second-header-row"],["mat-row",""]],template:function(_,S){1&_&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h2",2),e._uU(3,"Listes des formules"),e.qZA(),e.TgZ(4,"button",3),e.NdJ("click",function(){return S.openCreateDialog()}),e.TgZ(5,"mat-icon",4),e._uU(6,"add_circle"),e.qZA(),e._uU(7," Ajouter une nouvelle formule "),e.qZA()(),e._UZ(8,"mat-divider"),e.TgZ(9,"table",5),e.ynx(10,6),e.YNc(11,Zl,2,0,"th",7),e.YNc(12,Gu,2,1,"td",8),e.BQk(),e.ynx(13,9),e.YNc(14,xu,2,0,"th",7),e.YNc(15,lo,2,1,"td",8),e.BQk(),e.ynx(16,10),e.YNc(17,hm,2,0,"th",7),e.YNc(18,Cm,3,4,"td",8),e.BQk(),e.ynx(19,11),e.YNc(20,Gl,2,0,"th",7),e.YNc(21,vu,3,4,"td",8),e.BQk(),e.ynx(22,12),e.YNc(23,xm,2,0,"th",7),e.YNc(24,vm,11,1,"td",8),e.BQk(),e.YNc(25,Na,1,0,"tr",13),e.YNc(26,Bu,1,0,"tr",14),e.qZA(),e._UZ(27,"mat-paginator",15),e.qZA()),2&_&&(e.xp6(9),e.Q6J("dataSource",S.dataSource),e.xp6(16),e.Q6J("matHeaderRowDef",S.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",S.displayedColumns),e.xp6(1),e.Q6J("pageSize",10)("pageSizeOptions",e.DdM(5,Ia)))},dependencies:[O.d,Mn.Hw,Nn.VK,Nn.OP,Nn.p6,Q.BZ,Q.fO,Q.as,Q.w1,Q.Dz,Q.nj,Q.ge,Q.ev,Q.XQ,Q.Gk,Le.NW,vn.lW,Se.uU],styles:[".container[_ngcontent-%COMP%]{background-color:#fff;padding:40px 0;height:100%;overflow-y:auto;overflow-x:hidden}.gestion-table[_ngcontent-%COMP%]{width:100%}.gestion-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .gestion-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:16px}.gestion-table[_ngcontent-%COMP%]   .mat-header-cell[_ngcontent-%COMP%]{color:#00008f;font-weight:600}.gestion-table[_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]:nth-child(even), .gestion-table[_ngcontent-%COMP%]   .mat-header-row[_ngcontent-%COMP%]{background-color:#f7f7f9}.gestion-table[_ngcontent-%COMP%]   .mat-paginator[_ngcontent-%COMP%]{background-color:transparent;margin:20px auto auto;width:80%}.gestion-table[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{height:100%;font-size:26px;color:#00008f;width:-moz-fit-content;width:fit-content}.mat-menu-item[_ngcontent-%COMP%]{font-size:15px}.mat-menu-item[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:18px;height:-moz-fit-content;height:fit-content}.mat-menu-item[_ngcontent-%COMP%]:hover:not([disabled]), .mat-menu-item[_ngcontent-%COMP%]:hover:not([disabled])   .mat-icon[_ngcontent-%COMP%]{color:#00008f}.header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:0px 2rem}.header[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{height:-moz-fit-content;height:fit-content;font-size:29px;margin-right:1rem;width:-moz-fit-content;width:fit-content}.title-table[_ngcontent-%COMP%]{margin-bottom:0rem;font-weight:800!important;font-size:23px!important;color:#00008f!important}"]}),p})(),_c=(()=>{class p{constructor(_){this.http=_}getAllReseauDistribution(){return this.http.get(`${n.g.API_ENDPOINT_RESEAUDISTRIBUTION}`).pipe((0,Oo.b)(_=>this.logs(_)),(0,Bo.K)(_=>this.handleEroor(_,_.error)))}addReseauDistribution(_){const S={headers:new i.WM({"Content-Type":"application/json"})};return this.http.post(`${n.g.API_ENDPOINT_RESEAUDISTRIBUTION}`,_,S).pipe((0,Oo.b)(k=>this.logs(k)),(0,Bo.K)(k=>this.handleEroor(k,k.error)))}getReseauDistributionById(_){return this.http.get(`${n.g.API_ENDPOINT_RESEAUDISTRIBUTION}/${_}`)}updateReseauDistribution(_,S){const k={headers:new i.WM({"Content-Type":"application/json"})};return this.http.put(`${n.g.API_ENDPOINT_RESEAUDISTRIBUTION}/${S}`,_,k).pipe((0,Oo.b)(ae=>this.logs(ae)),(0,Bo.K)(ae=>this.handleEroor(ae,ae.error)))}logs(_){}handleEroor(_,S){return(0,Yl.of)(S)}}return p.\u0275fac=function(_){return new(_||p)(e.LFG(i.eN))},p.\u0275prov=e.Yz7({token:p,factory:p.\u0275fac,providedIn:"root"}),p})();function zu(p,E){if(1&p&&(e.TgZ(0,"div",21),e._uU(1),e.qZA()),2&p){const _=e.oxw();e.xp6(1),e.hij("Le Reseau de distribution N\xb0",_.idReseau," a \xe9t\xe9 cr\xe9er avec succ\xe9s")}}function Ea(p,E){if(1&p&&(e.TgZ(0,"div",22),e._uU(1),e.qZA()),2&p){const _=e.oxw();e.xp6(1),e.hij(" ",_.messageError," ")}}function Sl(p,E){1&p&&(e.TgZ(0,"div"),e._uU(1," ce champs est obligatoire"),e.qZA())}function Au(p,E){if(1&p&&(e.TgZ(0,"mat-error",23),e.YNc(1,Sl,2,0,"div",24),e.qZA()),2&p){const _=e.oxw();e.xp6(1),e.Q6J("ngIf",_.formCreationReseauDistribution.controls.description.errors.required)}}function wc(p,E){1&p&&(e.TgZ(0,"div"),e._uU(1," ce champs est obligatoire"),e.qZA())}function U(p,E){if(1&p&&(e.TgZ(0,"mat-error",23),e.YNc(1,wc,2,0,"div",24),e.qZA()),2&p){const _=e.oxw();e.xp6(1),e.Q6J("ngIf",_.formCreationReseauDistribution.controls.dateDebut.errors.required)}}function Te(p,E){1&p&&(e.TgZ(0,"mat-error",23)(1,"div"),e._uU(2," Date fin est inf\xe9rieur \xe0 la date d\xe9but"),e.qZA()())}let N=(()=>{class p{constructor(_,S,k){this.formBuilderAuth=_,this.reseauDistributionService=S,this.router=k,this.reseauDistributionCreationSuccess=!1,this.minDate=new Date,this.reseauDistributionCreationError=!1}ngOnInit(){this.formCreationReseauDistribution=this.formBuilderAuth.group({description:["",[w.kI.required]],dateDebut:["",[w.kI.required]],dateFin:[""]})}submitCreationReseauDistribution(_){this.formCreationReseauDistribution.valid&&(this.formCreationReseauDistribution.get("dateDebut").setValue(o(this.formCreationReseauDistribution.get("dateDebut").value).format("YYYY-MM-DD")),this.reseauDistributionService.addReseauDistribution(this.formCreationReseauDistribution.value).subscribe(S=>{this.reseauDistributionCreationSuccess=!0,this.reseauDistributionCreationError=!1,this.idReseau=S.idReseau,_.resetForm(),this.formCreationReseauDistribution.reset()},S=>{this.reseauDistributionCreationError=!0,this.reseauDistributionCreationSuccess=!1,this.messageError=S.ErreurMessage?S.ErreurMessage:S.message}))}debutDateChange(_){this.minDate=_}}return p.\u0275fac=function(_){return new(_||p)(e.Y36(w.qu),e.Y36(_c),e.Y36(ee.F0))},p.\u0275cmp=e.Xpm({type:p,selectors:[["app-creation-reseau-distribution-dialog"]],decls:37,vars:11,consts:[[1,"heading"],[2,"float","right","font-size","24px"],["aria-hidden","false","aria-label","","matTooltip","","matTooltipPosition","right","mat-dialog-close","",1,"material-symbols-outlined"],["class","alert alert-success",4,"ngIf"],["class","alert alert-danger",4,"ngIf"],[1,"mat-typography"],[1,"login-form",3,"formGroup","ngSubmit"],["formDirective","ngForm"],["appearance","outline",1,"col-md-12"],["type","text","matInput","","placeholder","","formControlName","description"],["class","invalid-feedback",4,"ngIf"],["appearance","outline",1,"col-md-6",2,"padding-right","3%"],["matInput","","formControlName","dateDebut",3,"matDatepicker","dateChange"],["matSuffix","",3,"for"],["pickerDateDebut",""],["appearance","outline",1,"col-md-6",2,"padding-left","3%"],["matInput","","formControlName","dateFin",3,"min","matDatepicker"],["pickerDateFin",""],[1,"row-button"],["mat-dialog-close","",1,"btn","btn-cancel"],["type","submit",1,"btn","btn-action"],[1,"alert","alert-success"],[1,"alert","alert-danger"],[1,"invalid-feedback"],[4,"ngIf"]],template:function(_,S){if(1&_){const k=e.EpF();e.TgZ(0,"h2",0),e._uU(1,"Cr\xe9er un reseau de distribution "),e.TgZ(2,"span",1)(3,"mat-icon",2),e._uU(4," close "),e.qZA()()(),e._UZ(5,"mat-divider"),e.YNc(6,zu,2,1,"div",3),e.YNc(7,Ea,2,1,"div",4),e.TgZ(8,"mat-dialog-content",5)(9,"form",6,7),e.NdJ("ngSubmit",function(){e.CHM(k);const Ue=e.MAs(10);return e.KtG(S.submitCreationReseauDistribution(Ue))}),e.TgZ(11,"mat-form-field",8)(12,"mat-label"),e._uU(13,"Description"),e.qZA(),e._UZ(14,"input",9),e.YNc(15,Au,2,1,"mat-error",10),e.qZA(),e.TgZ(16,"mat-form-field",11)(17,"mat-label"),e._uU(18,"Date debut"),e.qZA(),e.TgZ(19,"input",12),e.NdJ("dateChange",function(Ue){return S.debutDateChange(Ue.value)}),e.qZA(),e._UZ(20,"mat-datepicker-toggle",13)(21,"mat-datepicker",null,14),e.YNc(23,U,2,1,"mat-error",10),e.qZA(),e.TgZ(24,"mat-form-field",15)(25,"mat-label"),e._uU(26,"Date fin"),e.qZA(),e._UZ(27,"input",16)(28,"mat-datepicker-toggle",13)(29,"mat-datepicker",null,17),e.YNc(31,Te,3,0,"mat-error",10),e.qZA(),e.TgZ(32,"div",18)(33,"button",19),e._uU(34,"Annuler"),e.qZA(),e.TgZ(35,"button",20),e._uU(36,"Envoyer"),e.qZA()()()()}if(2&_){const k=e.MAs(22),ae=e.MAs(30);e.xp6(6),e.Q6J("ngIf",S.reseauDistributionCreationSuccess),e.xp6(1),e.Q6J("ngIf",S.reseauDistributionCreationError),e.xp6(2),e.Q6J("formGroup",S.formCreationReseauDistribution),e.xp6(6),e.Q6J("ngIf",S.formCreationReseauDistribution.controls.description.errors),e.xp6(4),e.Q6J("matDatepicker",k),e.xp6(1),e.Q6J("for",k),e.xp6(3),e.Q6J("ngIf",S.formCreationReseauDistribution.controls.dateDebut.errors),e.xp6(4),e.Q6J("min",S.minDate)("matDatepicker",ae),e.xp6(1),e.Q6J("for",ae),e.xp6(3),e.Q6J("ngIf",S.formCreationReseauDistribution.controls.dateFin.hasError("matDatepickerMin"))}},dependencies:[Se.O5,O.d,Mn.Hw,w._Y,w.Fj,w.JJ,w.JL,w.sg,w.u,J.TO,J.KE,J.hX,J.R9,he.Nt,oo.gM,xe.ZT,xe.xY,Ze.Mq,Ze.hl,Ze.nW],styles:[".buttons.row[_ngcontent-%COMP%]{justify-content:space-between;padding:0 21px;text-align:left}h2.heading[_ngcontent-%COMP%]{color:#00008f;font-weight:700!important;letter-spacing:.5px}.mat-dialog-content[_ngcontent-%COMP%]{padding-top:15px}.mat-radio-button[_ngcontent-%COMP%]{margin:0 12px}.mat-form-field[_ngcontent-%COMP%]{padding-top:15px}.mat-error[_ngcontent-%COMP%]{font-size:11px}.row-button[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:0 3rem;margin-top:2rem}"]}),p})();function q(p,E){if(1&p&&(e.TgZ(0,"div",6),e._uU(1),e.qZA()),2&p){const _=e.oxw();e.xp6(1),e.hij(" ",_.messageError," ")}}function G(p,E){1&p&&(e.TgZ(0,"div"),e._uU(1," ce champs est obligatoire"),e.qZA())}function b(p,E){if(1&p&&(e.TgZ(0,"mat-error",21),e.YNc(1,G,2,0,"div",22),e.qZA()),2&p){const _=e.oxw(2);e.xp6(1),e.Q6J("ngIf",_.formEditReseauDistribution.controls.description.errors.required)}}function te(p,E){1&p&&(e.TgZ(0,"div"),e._uU(1," ce champs est obligatoire"),e.qZA())}function _e(p,E){if(1&p&&(e.TgZ(0,"mat-error",21),e.YNc(1,te,2,0,"div",22),e.qZA()),2&p){const _=e.oxw(2);e.xp6(1),e.Q6J("ngIf",_.formEditReseauDistribution.controls.dateDebut.errors.required)}}function ye(p,E){1&p&&(e.TgZ(0,"mat-error",21)(1,"div"),e._uU(2," Date fin est inf\xe9rieur \xe0 la date d\xe9but"),e.qZA()())}function Ke(p,E){if(1&p){const _=e.EpF();e.TgZ(0,"form",7,8),e.NdJ("ngSubmit",function(){e.CHM(_);const k=e.MAs(1),ae=e.oxw();return e.KtG(ae.submitEditReseauDistribution(k))}),e.TgZ(2,"mat-form-field",9)(3,"mat-label"),e._uU(4,"Description"),e.qZA(),e._UZ(5,"input",10),e.YNc(6,b,2,1,"mat-error",11),e.qZA(),e.TgZ(7,"mat-form-field",12)(8,"mat-label"),e._uU(9,"Date debut"),e.qZA(),e._UZ(10,"input",13)(11,"mat-datepicker-toggle",14)(12,"mat-datepicker",null,15),e.YNc(14,_e,2,1,"mat-error",11),e.qZA(),e.TgZ(15,"mat-form-field",16)(16,"mat-label"),e._uU(17,"Date fin"),e.qZA(),e._UZ(18,"input",17)(19,"mat-datepicker-toggle",14)(20,"mat-datepicker",null,18),e.YNc(22,ye,3,0,"mat-error",11),e.qZA(),e.TgZ(23,"button",19),e._uU(24,"Envoyer"),e.qZA(),e.TgZ(25,"button",20),e._uU(26,"Annuler"),e.qZA()()}if(2&p){const _=e.MAs(13),S=e.MAs(21),k=e.oxw();e.Q6J("formGroup",k.formEditReseauDistribution),e.xp6(6),e.Q6J("ngIf",k.formEditReseauDistribution.controls.description.errors),e.xp6(4),e.Q6J("matDatepicker",_),e.xp6(1),e.Q6J("for",_),e.xp6(3),e.Q6J("ngIf",k.formEditReseauDistribution.controls.dateDebut.errors),e.xp6(4),e.Q6J("min",k.minDate)("matDatepicker",S),e.xp6(1),e.Q6J("for",S),e.xp6(3),e.Q6J("ngIf",k.formEditReseauDistribution.controls.dateFin.hasError("matDatepickerMin"))}}let Pt=(()=>{class p{constructor(_,S,k,ae,Ue){this.dialogRef=_,this.data=S,this.formBuilderAuth=k,this.reseauDistributionService=ae,this.router=Ue,this.reseauDistributionEditSuccess=!1,this.minDate=null,this.reseauDistributionEditError=!1}ngOnInit(){this.getReseauDistributionById(this.data.idReseau)}getReseauDistributionById(_){this.reseauDistributionService.getReseauDistributionById(_).subscribe(S=>{this.iniEdittReseauDistribution(S)})}iniEdittReseauDistribution(_){this.debutDateChange(_.dateDebut),this.formEditReseauDistribution=this.formBuilderAuth.group({idReseau:[_.idReseau],description:[_.description,[w.kI.required]],dateDebut:[_.dateDebut,[w.kI.required]],dateFin:[_.dateFin]})}submitEditReseauDistribution(_){this.formEditReseauDistribution.valid&&(this.formEditReseauDistribution.get("dateDebut").setValue(o(this.formEditReseauDistribution.get("dateDebut").value).format("YYYY-MM-DD")),this.reseauDistributionService.updateReseauDistribution(this.formEditReseauDistribution.value,this.data.idReseau).subscribe(S=>{this.reseauDistributionEditSuccess=!0,this.reseauDistributionEditError=!1,this.idReseau=S.idReseau,this.dialogRef.close()},S=>{this.reseauDistributionEditError=!0,this.reseauDistributionEditSuccess=!1,this.messageError=S.ErreurMessage?S.ErreurMessage:S.message}))}debutDateChange(_){this.minDate=_}}return p.\u0275fac=function(_){return new(_||p)(e.Y36(xe.so),e.Y36(xe.WI),e.Y36(w.qu),e.Y36(_c),e.Y36(ee.F0))},p.\u0275cmp=e.Xpm({type:p,selectors:[["app-edit-reseau-distribution-dialog"]],decls:9,vars:2,consts:[[1,"heading"],[2,"float","right","font-size","24px"],["aria-hidden","false","aria-label","","matTooltip","","matTooltipPosition","right","mat-dialog-close","",1,"material-symbols-outlined"],["class","alert alert-danger",4,"ngIf"],[1,"mat-typography"],["class","login-form",3,"formGroup","ngSubmit",4,"ngIf"],[1,"alert","alert-danger"],[1,"login-form",3,"formGroup","ngSubmit"],["formDirective","ngForm"],["appearance","outline",1,"col-md-12"],["type","text","matInput","","placeholder","","formControlName","description"],["class","invalid-feedback",4,"ngIf"],["appearance","outline",1,"col-md-6",2,"padding-right","3%"],["matInput","","formControlName","dateDebut",3,"matDatepicker"],["matSuffix","",3,"for"],["picker",""],["appearance","outline",1,"col-md-6",2,"padding-left","3%"],["matInput","","formControlName","dateFin",3,"min","matDatepicker"],["picker2",""],["type","submit",1,"btn","btn-action"],["mat-raised-button","","mat-dialog-close","",1,"btn","btn-cancel"],[1,"invalid-feedback"],[4,"ngIf"]],template:function(_,S){1&_&&(e.TgZ(0,"h2",0),e._uU(1," Modifier un reseau Distribution "),e.TgZ(2,"span",1)(3,"mat-icon",2),e._uU(4," close "),e.qZA()()(),e._UZ(5,"mat-divider"),e.YNc(6,q,2,1,"div",3),e.TgZ(7,"mat-dialog-content",4),e.YNc(8,Ke,27,9,"form",5),e.qZA()),2&_&&(e.xp6(6),e.Q6J("ngIf",S.reseauDistributionEditError),e.xp6(2),e.Q6J("ngIf",S.formEditReseauDistribution))},dependencies:[Se.O5,O.d,Mn.Hw,w._Y,w.Fj,w.JJ,w.JL,w.sg,w.u,J.TO,J.KE,J.hX,J.R9,he.Nt,oo.gM,xe.ZT,xe.xY,Ze.Mq,Ze.hl,Ze.nW,vn.lW],styles:["button.btn.btn-action[_ngcontent-%COMP%]{float:right}h2.heading[_ngcontent-%COMP%]{color:#00008f;font-weight:700!important;letter-spacing:.5px}.mat-dialog-content[_ngcontent-%COMP%]{padding-top:15px}.mat-radio-button[_ngcontent-%COMP%]{margin:0 12px}"]}),p})();function ft(p,E){1&p&&(e.TgZ(0,"th",16),e._uU(1," ID "),e.qZA())}function St(p,E){if(1&p&&(e.TgZ(0,"td",17),e._uU(1),e.qZA()),2&p){const _=E.$implicit;e.xp6(1),e.hij(" ",_.idReseau," ")}}function Nt(p,E){1&p&&(e.TgZ(0,"th",16),e._uU(1," Description "),e.qZA())}function Bn(p,E){if(1&p&&(e.TgZ(0,"td",17),e._uU(1),e.qZA()),2&p){const _=E.$implicit;e.xp6(1),e.hij(" ",_.description," ")}}function hn(p,E){1&p&&(e.TgZ(0,"th",16),e._uU(1," Date debut "),e.qZA())}function no(p,E){if(1&p&&(e.TgZ(0,"td",17),e._uU(1),e.ALo(2,"date"),e.qZA()),2&p){const _=E.$implicit;e.xp6(1),e.hij(" ",e.xi3(2,1,_.dateDebut,"dd/MM/yyyy")," ")}}function kn(p,E){1&p&&(e.TgZ(0,"th",16),e._uU(1," Date fin "),e.qZA())}function Gi(p,E){if(1&p&&(e.TgZ(0,"td",17),e._uU(1),e.ALo(2,"date"),e.qZA()),2&p){const _=E.$implicit;e.xp6(1),e.hij(" ",e.xi3(2,1,_.dateFin,"dd/MM/yyyy")," ")}}function vo(p,E){1&p&&(e.TgZ(0,"th",16),e._uU(1," Action "),e.qZA())}function Jo(p,E){if(1&p){const _=e.EpF();e.TgZ(0,"td",17)(1,"button",18)(2,"mat-icon"),e._uU(3,"more_vert"),e.qZA()(),e.TgZ(4,"mat-menu",19,20)(6,"button",21),e.NdJ("click",function(){const ae=e.CHM(_).$implicit,Ue=e.oxw();return e.KtG(Ue.openDialogEdit(ae.idReseau))}),e.TgZ(7,"mat-icon"),e._uU(8,"edit"),e.qZA(),e.TgZ(9,"span"),e._uU(10,"Modifier r\xe9seau"),e.qZA()()()()}if(2&p){const _=e.MAs(5);e.xp6(1),e.Q6J("matMenuTriggerFor",_)}}function Ii(p,E){1&p&&e._UZ(0,"tr",22)}function ci(p,E){1&p&&e._UZ(0,"tr",23)}const io=function(){return[5,10]};let yl=(()=>{class p{constructor(_,S,k){this.router=_,this.reseauDistributionService=S,this.dialog=k,this.displayedColumns=["idReseau","description","dateDebut","dateFin","action"],this.lengthColumns=this.displayedColumns.length}ngOnInit(){this.getAllReseauDistribution()}openCreateDialog(){this.dialog.open(N,{width:"60%"}).afterClosed().subscribe(S=>{this.getAllReseauDistribution()})}openDialogEdit(_){this.dialog.open(Pt,{width:"60%",data:{idReseau:_}}).afterClosed().subscribe(k=>{this.getAllReseauDistribution()})}getAllReseauDistribution(){this.reseauDistributionService.getAllReseauDistribution().subscribe({next:_=>{this.dataSource=new Q.by(_),this.paginate()},error:_=>{console.log(_)}})}paginate(){this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort}}return p.\u0275fac=function(_){return new(_||p)(e.Y36(ee.F0),e.Y36(_c),e.Y36(xe.uw))},p.\u0275cmp=e.Xpm({type:p,selectors:[["app-gestion-reseau-distribution"]],viewQuery:function(_,S){if(1&_&&(e.Gf(Le.NW,5),e.Gf(qi.YE,5)),2&_){let k;e.iGM(k=e.CRH())&&(S.paginator=k.first),e.iGM(k=e.CRH())&&(S.sort=k.first)}},decls:28,vars:6,consts:[[1,"container"],[1,"header"],[1,"title-table"],[1,"btn","btn-secondary",2,"display","flex","align-items","center",3,"click"],["aria-hidden","false","aria-label","ajouter pack ",1,"material-symbols-outlined"],["mat-table","",1,"gestion-table",3,"dataSource"],["matColumnDef","idReseau"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","description"],["matColumnDef","dateDebut"],["matColumnDef","dateFin"],["matColumnDef","action"],["mat-header-row","","class","example-second-header-row",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["aria-label","Select\n    page of users",3,"pageSize","pageSizeOptions"],["mat-header-cell",""],["mat-cell",""],["mat-icon-button","","type","button","aria-label","menu r\xe9seau list",3,"matMenuTriggerFor"],["xPosition","after",1,"menu-formule"],["menu","matMenu"],["mat-menu-item","","type","button",3,"click"],["mat-header-row","",1,"example-second-header-row"],["mat-row",""]],template:function(_,S){1&_&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h2",2),e._uU(3,"Liste des reseaux de distribution "),e.qZA(),e.TgZ(4,"button",3),e.NdJ("click",function(){return S.openCreateDialog()}),e.TgZ(5,"mat-icon",4),e._uU(6,"add_circle"),e.qZA(),e._uU(7," Ajouter un reseau de distribution "),e.qZA()(),e._UZ(8,"mat-divider"),e.TgZ(9,"table",5),e.ynx(10,6),e.YNc(11,ft,2,0,"th",7),e.YNc(12,St,2,1,"td",8),e.BQk(),e.ynx(13,9),e.YNc(14,Nt,2,0,"th",7),e.YNc(15,Bn,2,1,"td",8),e.BQk(),e.ynx(16,10),e.YNc(17,hn,2,0,"th",7),e.YNc(18,no,3,4,"td",8),e.BQk(),e.ynx(19,11),e.YNc(20,kn,2,0,"th",7),e.YNc(21,Gi,3,4,"td",8),e.BQk(),e.ynx(22,12),e.YNc(23,vo,2,0,"th",7),e.YNc(24,Jo,11,1,"td",8),e.BQk(),e.YNc(25,Ii,1,0,"tr",13),e.YNc(26,ci,1,0,"tr",14),e.qZA(),e._UZ(27,"mat-paginator",15),e.qZA()),2&_&&(e.xp6(9),e.Q6J("dataSource",S.dataSource),e.xp6(16),e.Q6J("matHeaderRowDef",S.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",S.displayedColumns),e.xp6(1),e.Q6J("pageSize",10)("pageSizeOptions",e.DdM(5,io)))},dependencies:[O.d,Mn.Hw,Nn.VK,Nn.OP,Nn.p6,Q.BZ,Q.fO,Q.as,Q.w1,Q.Dz,Q.nj,Q.ge,Q.ev,Q.XQ,Q.Gk,Le.NW,vn.lW,Se.uU],styles:[".container[_ngcontent-%COMP%]{background-color:#fff;padding:40px 0;height:100%;overflow-y:auto;overflow-x:hidden}.gestion-table[_ngcontent-%COMP%]{width:100%}.gestion-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .gestion-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:16px}.gestion-table[_ngcontent-%COMP%]   .mat-header-cell[_ngcontent-%COMP%]{color:#00008f;font-weight:600}.gestion-table[_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]:nth-child(even), .gestion-table[_ngcontent-%COMP%]   .mat-header-row[_ngcontent-%COMP%]{background-color:#f7f7f9}.gestion-table[_ngcontent-%COMP%]   .mat-paginator[_ngcontent-%COMP%]{background-color:transparent;margin:20px auto auto;width:80%}.gestion-table[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{height:100%;font-size:26px;color:#00008f;width:-moz-fit-content;width:fit-content}.mat-menu-item[_ngcontent-%COMP%]{font-size:15px}.mat-menu-item[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:18px;height:-moz-fit-content;height:fit-content}.mat-menu-item[_ngcontent-%COMP%]:hover:not([disabled]), .mat-menu-item[_ngcontent-%COMP%]:hover:not([disabled])   .mat-icon[_ngcontent-%COMP%]{color:#00008f}.header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:0px 2rem}.header[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{height:-moz-fit-content;height:fit-content;font-size:29px;margin-right:1rem;width:-moz-fit-content;width:fit-content}.title-table[_ngcontent-%COMP%]{margin-bottom:0rem;font-weight:800!important;font-size:23px!important;color:#00008f!important}"]}),p})();var go=B(7340),nc=B(852);function Rd(p,E){1&p&&(e.TgZ(0,"th",17),e._uU(1," code Pack "),e.qZA())}function q_(p,E){if(1&p&&(e.TgZ(0,"td",18),e._uU(1),e.qZA()),2&p){const _=E.$implicit;e.xp6(1),e.hij(" ",_.codePack," ")}}function Dd(p,E){1&p&&(e.TgZ(0,"th",17),e._uU(1," Description "),e.qZA())}function Vu(p,E){if(1&p&&(e.TgZ(0,"td",18),e._uU(1),e.qZA()),2&p){const _=E.$implicit;e.xp6(1),e.hij(" ",_.description," ")}}function Am(p,E){1&p&&(e.TgZ(0,"th",17),e._uU(1," Date d\xe9but "),e.qZA())}function S_(p,E){if(1&p&&(e.TgZ(0,"td",18),e._uU(1),e.ALo(2,"dateFormatPipe"),e.qZA()),2&p){const _=E.$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,_.dateDebut)," ")}}function wd(p,E){1&p&&(e.TgZ(0,"th",17),e._uU(1," Date fin "),e.qZA())}function Od(p,E){if(1&p&&(e.TgZ(0,"td",18),e._uU(1),e.ALo(2,"dateFormatPipe"),e.qZA()),2&p){const _=E.$implicit;e.xp6(1),e.hij("",e.lcZ(2,1,_.dateFin)," ")}}function Mm(p,E){1&p&&(e.TgZ(0,"th",17),e._uU(1," Action "),e.qZA())}function kd(p,E){if(1&p){const _=e.EpF();e.TgZ(0,"td",18)(1,"button",19)(2,"mat-icon"),e._uU(3,"more_vert"),e.qZA()(),e.TgZ(4,"mat-menu",20,21)(6,"button",22),e.NdJ("click",function(){const ae=e.CHM(_).$implicit,Ue=e.oxw();return e.KtG(Ue.editPack(ae.idPack0))}),e.TgZ(7,"mat-icon"),e._uU(8,"edit"),e.qZA(),e.TgZ(9,"span"),e._uU(10,"Modifier pack"),e.qZA()(),e.TgZ(11,"button",22),e.NdJ("click",function(){const ae=e.CHM(_).$implicit,Ue=e.oxw();return e.KtG(Ue.seeParam(ae.idPack0))}),e.TgZ(12,"mat-icon"),e._uU(13,"format_list_bulleted"),e.qZA(),e.TgZ(14,"span"),e._uU(15,"Afficher param\xe8tre(s)"),e.qZA()(),e.TgZ(16,"button",22),e.NdJ("click",function(){const ae=e.CHM(_).$implicit,Ue=e.oxw();return e.KtG(Ue.seeGarantie(ae.idPack0))}),e.TgZ(17,"mat-icon"),e._uU(18,"format_list_bulleted"),e.qZA(),e.TgZ(19,"span"),e._uU(20,"Afficher garantie(s)"),e.qZA()()()()}if(2&p){const _=e.MAs(5);e.xp6(1),e.Q6J("matMenuTriggerFor",_)}}function ju(p,E){1&p&&e._UZ(0,"tr",23)}function Um(p,E){1&p&&e._UZ(0,"tr",24)}function Fm(p,E){1&p&&(e.TgZ(0,"div",25),e._uU(1,"Aucun pack n'existe pour le moment, Veuillez cliquer sur le bouton au dessus pour en cr\xe9er."),e.qZA())}const y_=function(){return[5,10,50]};let rd=(()=>{class p{constructor(_,S,k){this.formBuilderAuth=_,this.router=S,this.packService=k,this.displayedPackColumns=["description","dateDebut","dateFin","action"],this.lengthColumns=this.displayedPackColumns.length,this.dataSourceAllPack=new Q.by,this.packEmptyVar=!1}ngAfterViewInit(){this.dataSourceAllPack.paginator=this.paginator,this.paginator._intl.itemsPerPageLabel="Nombre d'\xe9l\xe9ments par page"}ngOnInit(){this.formFilter=this.formBuilderAuth.group({codePack:[""],description:[""]}),this.initPackTab()}navigateToCreatePack(){this.router.navigate(["gestion-referentiels/gestion-pack/creation-pack"])}initPackTab(){this.packService.getAllPack().subscribe({next:_=>{0==_.length&&(this.packEmptyVar=!0),this.dataSourceAllPack=new Q.by(_),this.dataSourceAllPack.paginator=this.paginator},error:_=>{console.log(_)}})}seeParam(_){this.router.navigateByUrl("gestion-referentiels/gestion-pack/"+_+"/parametres")}seeGarantie(_){this.router.navigateByUrl("gestion-referentiels/gestion-pack/"+_+"/garanties")}editPack(_){this.router.navigateByUrl("gestion-referentiels/gestion-pack/modification-pack/"+_)}}return p.\u0275fac=function(_){return new(_||p)(e.Y36(w.qu),e.Y36(ee.F0),e.Y36(nc.F))},p.\u0275cmp=e.Xpm({type:p,selectors:[["app-gestion-pack"]],viewQuery:function(_,S){if(1&_&&e.Gf(Le.NW,5),2&_){let k;e.iGM(k=e.CRH())&&(S.paginator=k.first)}},decls:29,vars:8,consts:[[1,"container"],[1,"header"],[1,"title-table"],[1,"btn","btn-secondary",2,"display","flex","align-items","center",3,"click"],["aria-hidden","false","aria-label","ajouter pack ",1,"material-symbols-outlined"],["mat-table","",1,"gestion-table",3,"dataSource"],["matColumnDef","codePack"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","description"],["matColumnDef","dateDebut"],["matColumnDef","dateFin"],["matColumnDef","action"],["mat-header-row","","class","example-second-header-row",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","alert alert-danger",4,"ngIf"],["aria-label","Select page of users",3,"pageSize","pageSizeOptions"],["mat-header-cell",""],["mat-cell",""],["mat-icon-button","","type","button","aria-label","menu pack list",3,"matMenuTriggerFor"],["xPosition","after",1,"menu-pack"],["menu","matMenu"],["mat-menu-item","","type","button",3,"click"],["mat-header-row","",1,"example-second-header-row"],["mat-row",""],[1,"alert","alert-danger"]],template:function(_,S){1&_&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h2",2),e._uU(3,"Listes des packs"),e.qZA(),e.TgZ(4,"button",3),e.NdJ("click",function(){return S.navigateToCreatePack()}),e.TgZ(5,"mat-icon",4),e._uU(6,"add_circle"),e.qZA(),e._uU(7," Ajouter un nouveau pack "),e.qZA()(),e._UZ(8,"mat-divider"),e.TgZ(9,"table",5),e.ynx(10,6),e.YNc(11,Rd,2,0,"th",7),e.YNc(12,q_,2,1,"td",8),e.BQk(),e.ynx(13,9),e.YNc(14,Dd,2,0,"th",7),e.YNc(15,Vu,2,1,"td",8),e.BQk(),e.ynx(16,10),e.YNc(17,Am,2,0,"th",7),e.YNc(18,S_,3,3,"td",8),e.BQk(),e.ynx(19,11),e.YNc(20,wd,2,0,"th",7),e.YNc(21,Od,3,3,"td",8),e.BQk(),e.ynx(22,12),e.YNc(23,Mm,2,0,"th",7),e.YNc(24,kd,21,1,"td",8),e.BQk(),e.YNc(25,ju,1,0,"tr",13),e.YNc(26,Um,1,0,"tr",14),e.qZA(),e.YNc(27,Fm,2,0,"div",15),e._UZ(28,"mat-paginator",16),e.qZA()),2&_&&(e.xp6(9),e.Q6J("dataSource",S.dataSourceAllPack)("@enterAnimation",void 0),e.xp6(16),e.Q6J("matHeaderRowDef",S.displayedPackColumns),e.xp6(1),e.Q6J("matRowDefColumns",S.displayedPackColumns),e.xp6(1),e.Q6J("ngIf",S.packEmptyVar),e.xp6(1),e.Q6J("pageSize",10)("pageSizeOptions",e.DdM(7,y_)))},dependencies:[Se.O5,O.d,Mn.Hw,Nn.VK,Nn.OP,Nn.p6,Q.BZ,Q.fO,Q.as,Q.w1,Q.Dz,Q.nj,Q.ge,Q.ev,Q.XQ,Q.Gk,Le.NW,vn.lW,Et.y],styles:[".container[_ngcontent-%COMP%]{background-color:#fff;padding:40px 0;height:100%;overflow-y:auto;overflow-x:hidden}.gestion-table[_ngcontent-%COMP%]{width:100%}.gestion-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .gestion-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:16px}.gestion-table[_ngcontent-%COMP%]   .mat-header-cell[_ngcontent-%COMP%]{color:#00008f;font-weight:600}.gestion-table[_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]:nth-child(even), .gestion-table[_ngcontent-%COMP%]   .mat-header-row[_ngcontent-%COMP%]{background-color:#f7f7f9}.gestion-table[_ngcontent-%COMP%]   .mat-paginator[_ngcontent-%COMP%]{background-color:transparent;margin:20px auto auto;width:80%}.gestion-table[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{height:100%;font-size:26px;color:#00008f;width:-moz-fit-content;width:fit-content}.mat-menu-item[_ngcontent-%COMP%]{font-size:15px}.mat-menu-item[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:18px;height:-moz-fit-content;height:fit-content}.mat-menu-item[_ngcontent-%COMP%]:hover:not([disabled]), .mat-menu-item[_ngcontent-%COMP%]:hover:not([disabled])   .mat-icon[_ngcontent-%COMP%]{color:#00008f}.header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:0px 2rem}.header[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{height:-moz-fit-content;height:fit-content;font-size:29px;margin-right:1rem;width:-moz-fit-content;width:fit-content}.title-table[_ngcontent-%COMP%]{margin-bottom:0rem;font-weight:800!important;font-size:23px!important;color:#00008f!important}"],data:{animation:[(0,go.X$)("enterAnimation",[(0,go.eR)(":enter",[(0,go.oB)({opacity:0,transform:"translateX(-100%)"}),(0,go.jt)(400)])])]}}),p})();function Hu(p,E){if(1&p&&(e.TgZ(0,"div",21),e._uU(1),e.qZA()),2&p){const _=e.oxw();e.xp6(1),e.hij(" les parametres ont \xe9t\xe9 ajout\xe9s \xe0 la garantie N\xb0 ",_.data.idGarantie," avec succ\xe9s ")}}function ad(p,E){1&p&&(e.TgZ(0,"div",21),e._uU(1," les parametres ont \xe9t\xe9 ajout\xe9s au pack avec succ\xe9s "),e.qZA())}function Qm(p,E){1&p&&(e.TgZ(0,"div",21),e._uU(1," les parametres ont \xe9t\xe9 ajout\xe9s \xe0 la sous garantie avec succ\xe9s "),e.qZA())}function Oc(p,E){1&p&&(e.TgZ(0,"div"),e._uU(1," ce champs est obligatoire"),e.qZA())}function Md(p,E){if(1&p&&(e.TgZ(0,"mat-error",23),e.YNc(1,Oc,2,0,"div",24),e.qZA()),2&p){const _=e.oxw(2);e.xp6(1),e.Q6J("ngIf",_.FormCreationCategory.controls.idGarantie.errors.required)}}function kc(p,E){if(1&p&&(e.TgZ(0,"mat-form-field",10)(1,"mat-label"),e._uU(2,"Id garantie"),e.qZA(),e._UZ(3,"input",22),e.YNc(4,Md,2,1,"mat-error",13),e.qZA()),2&p){const _=e.oxw();e.xp6(4),e.Q6J("ngIf",_.FormCreationCategory.controls.idGarantie.errors)}}function sd(p,E){if(1&p&&(e.TgZ(0,"mat-option",25),e._uU(1),e.qZA()),2&p){const _=E.$implicit;e.Q6J("value",_),e.xp6(1),e.hij(" ",_.description," ")}}function Ud(p,E){1&p&&(e.TgZ(0,"div"),e._uU(1," ce champs est obligatoire"),e.qZA())}function N_(p,E){if(1&p&&(e.TgZ(0,"mat-error",23),e.YNc(1,Ud,2,0,"div",24),e.qZA()),2&p){const _=e.oxw();e.xp6(1),e.Q6J("ngIf",_.FormCreationCategory.controls.categorieValeur.errors.required)}}function Fd(p,E){if(1&p&&(e.TgZ(0,"mat-option",25),e._uU(1),e.qZA()),2&p){const _=E.$implicit;e.Q6J("value",_),e.xp6(1),e.hij(" ",_.description," ")}}function Qd(p,E){1&p&&(e.TgZ(0,"div"),e._uU(1," ce champs est obligatoire"),e.qZA())}function I_(p,E){if(1&p&&(e.TgZ(0,"mat-error",23),e.YNc(1,Qd,2,0,"div",24),e.qZA()),2&p){const _=e.oxw();e.xp6(1),e.Q6J("ngIf",_.FormCreationCategory.controls.souscategories.errors.required)}}function pc(p,E){if(1&p&&(e.TgZ(0,"mat-option",25),e._uU(1),e.qZA()),2&p){const _=E.$implicit;e.Q6J("value",_),e.xp6(1),e.hij(" ",_.description," ")}}function ld(p,E){1&p&&(e.TgZ(0,"div"),e._uU(1," ce champs est obligatoire"),e.qZA())}function Jm(p,E){if(1&p&&(e.TgZ(0,"mat-error",23),e.YNc(1,ld,2,0,"div",24),e.qZA()),2&p){const _=e.oxw();e.xp6(1),e.Q6J("ngIf",_.FormCreationCategory.controls.typeValeur.errors.required)}}function Lm(p,E){1&p&&(e.TgZ(0,"div"),e._uU(1," ce champs est obligatoire"),e.qZA())}function Ym(p,E){if(1&p&&(e.TgZ(0,"mat-error",23),e.YNc(1,Lm,2,0,"div",24),e.qZA()),2&p){const _=e.oxw();e.xp6(1),e.Q6J("ngIf",_.FormCreationCategory.controls.valeur.errors.required)}}let Nl=(()=>{class p{constructor(_,S,k,ae,Ue){this.genericService=_,this.packService=S,this.data=k,this.formBuilder=ae,this.dialogRef=Ue,this.tabParameters=[],this.categorieValeur=[],this.sousCategorieValeur=[],this.typeValeur=[],this.alertSuccess=!1,this.dangerClosing=!1,Ue.disableClose=!0}ngOnInit(){this.categoryOf=this.data.categoryOf,this.initFormCreationPGF(),this.getAllCategories(),this.getTypeValeur()}initFormCreationPGF(){this.FormCreationCategory=this.formBuilder.group({categorieValeur:["",[w.kI.required]],souscategories:["",[w.kI.required]],typeValeur:["",[w.kI.required]],valeur:["",[w.kI.required,w.kI.pattern("^[-]?[0-9].*$")]]}),"pack"!=this.categoryOf&&this.FormCreationCategory.addControl("idGarantie",new w.NI({value:this.data.idGarantie,disabled:!0},w.kI.required))}submitCreationPGF(_){if(this.FormCreationCategory.valid){let S;S="edit"!=this.data?.type?{categorieValeur:this.FormCreationCategory.get("categorieValeur").value,souscategories:this.FormCreationCategory.get("souscategories").value,typeValeur:this.FormCreationCategory.get("typeValeur").value,valeur:this.FormCreationCategory.get("valeur").value}:{categorieValeur:this.FormCreationCategory.get("categorieValeur").value,sousCategorieList:this.FormCreationCategory.get("souscategories").value,typeValeur:this.FormCreationCategory.get("typeValeur").value,valeur:this.FormCreationCategory.get("valeur").value},this.alertSuccess=!0,_.resetForm(),this.FormCreationCategory.reset(),"pack"!=this.categoryOf&&this.FormCreationCategory.get("idGarantie").setValue(this.data.idGarantie),this.tabParameters.push(S)}}saveTabCategory(){this.dialogRef.close({data:this.tabParameters})}getAllCategories(){this.packService.getAllCategory().subscribe({next:_=>{this.categorieValeur=_},error:_=>{console.log(_)}})}getAllSousCategories(_){this.packService.getSousCategory(_.idCategorie).subscribe({next:S=>{this.sousCategorieValeur=S},error:S=>{console.log(S)}})}getTypeValeur(){this.genericService.getParam(JSON.parse(sessionStorage.getItem("dictionnaire")||"{}").find(_=>"C17"==_.code).idCategorie).subscribe({next:_=>{this.typeValeur=_},error:_=>{console.log(_)}})}}return p.\u0275fac=function(_){return new(_||p)(e.Y36(_o.M),e.Y36(nc.F),e.Y36(xe.WI),e.Y36(w.qu),e.Y36(xe.so))},p.\u0275cmp=e.Xpm({type:p,selectors:[["app-creation-categorie-dialog"]],decls:45,vars:12,consts:[["mat-dialog-title","",1,"dialog-header"],[1,"heading"],["mat-dialog-close","",1,"btn","btn-cross"],[1,"mat-typography"],["class","alert alert-success",4,"ngIf"],[1,"creation-form",3,"formGroup","ngSubmit"],["formDirective","ngForm"],[1,"row"],[1,"col-md-7","col-field"],["appearance","outline",4,"ngIf"],["appearance","outline"],["formControlName","categorieValeur",3,"selectionChange"],[3,"value",4,"ngFor","ngForOf"],["class","invalid-feedback",4,"ngIf"],["formControlName","souscategories"],["formControlName","typeValeur"],["type","text","matInput","","formControlName","valeur"],[1,"row-button"],["mat-dialog-close","","type","button",1,"btn","btn-cancel"],["type","button",1,"btn","btn-action","col-button-add",3,"click"],["type","submit",1,"btn","btn-action","col-button-add"],[1,"alert","alert-success"],["type","text","matInput","","formControlName","idGarantie"],[1,"invalid-feedback"],[4,"ngIf"],[3,"value"]],template:function(_,S){if(1&_){const k=e.EpF();e.TgZ(0,"div",0)(1,"span",1),e._uU(2,"Ajout de param\xe9tres"),e.qZA(),e.TgZ(3,"mat-icon",2),e._uU(4,"close"),e.qZA()(),e._UZ(5,"mat-divider"),e.TgZ(6,"mat-dialog-content",3),e.YNc(7,Hu,2,1,"div",4),e.YNc(8,ad,2,0,"div",4),e.YNc(9,Qm,2,0,"div",4),e.TgZ(10,"form",5,6),e.NdJ("ngSubmit",function(){e.CHM(k);const Ue=e.MAs(11);return e.KtG(S.submitCreationPGF(Ue))}),e.TgZ(12,"div",7)(13,"div",8),e.YNc(14,kc,5,1,"mat-form-field",9),e.TgZ(15,"mat-form-field",10)(16,"mat-label"),e._uU(17,"Categorie de valeur"),e.qZA(),e.TgZ(18,"mat-select",11),e.NdJ("selectionChange",function(Ue){return S.getAllSousCategories(Ue.value)}),e.YNc(19,sd,2,2,"mat-option",12),e.qZA(),e.YNc(20,N_,2,1,"mat-error",13),e.qZA(),e.TgZ(21,"mat-form-field",10)(22,"mat-label"),e._uU(23,"Sous categorie de valeur"),e.qZA(),e.TgZ(24,"mat-select",14),e.YNc(25,Fd,2,2,"mat-option",12),e.qZA(),e.YNc(26,I_,2,1,"mat-error",13),e.qZA(),e.TgZ(27,"mat-form-field",10)(28,"mat-label"),e._uU(29,"Type Valeur"),e.qZA(),e.TgZ(30,"mat-select",15),e.YNc(31,pc,2,2,"mat-option",12),e.qZA(),e.YNc(32,Jm,2,1,"mat-error",13),e.qZA(),e.TgZ(33,"mat-form-field",10)(34,"mat-label"),e._uU(35,"Valeur"),e.qZA(),e._UZ(36,"input",16),e.YNc(37,Ym,2,1,"mat-error",13),e.qZA()()(),e.TgZ(38,"div",17)(39,"button",18),e._uU(40,"Retour"),e.qZA(),e.TgZ(41,"button",19),e.NdJ("click",function(){return S.saveTabCategory()}),e._uU(42,"Appliquer et fermer "),e.qZA(),e.TgZ(43,"button",20),e._uU(44,"Ajouter "),e.qZA()()()()}2&_&&(e.xp6(7),e.Q6J("ngIf",S.alertSuccess&&"garantie"==S.categoryOf),e.xp6(1),e.Q6J("ngIf",S.alertSuccess&&"pack"==S.categoryOf),e.xp6(1),e.Q6J("ngIf",S.alertSuccess&&"sousGarantie"==S.categoryOf),e.xp6(1),e.Q6J("formGroup",S.FormCreationCategory),e.xp6(4),e.Q6J("ngIf",null!=S.idGarantie),e.xp6(5),e.Q6J("ngForOf",S.categorieValeur),e.xp6(1),e.Q6J("ngIf",S.FormCreationCategory.controls.categorieValeur.errors),e.xp6(5),e.Q6J("ngForOf",S.sousCategorieValeur),e.xp6(1),e.Q6J("ngIf",S.FormCreationCategory.controls.souscategories.errors),e.xp6(5),e.Q6J("ngForOf",S.typeValeur),e.xp6(1),e.Q6J("ngIf",S.FormCreationCategory.controls.typeValeur.errors),e.xp6(5),e.Q6J("ngIf",S.FormCreationCategory.controls.valeur.errors))},dependencies:[Se.sg,Se.O5,O.d,Mn.Hw,w._Y,w.Fj,w.JJ,w.JL,w.sg,w.u,J.TO,J.KE,J.hX,he.Nt,xe.ZT,xe.uh,xe.xY,l.gD,t.ey],styles:[".mat-dialog-content[_ngcontent-%COMP%]{padding-top:15px}.creation-form[_ngcontent-%COMP%]{display:flex;flex-direction:column}.mat-form-field[_ngcontent-%COMP%]{padding-top:15px}.mat-error[_ngcontent-%COMP%]{font-size:11px}.btn.btn-cancel[_ngcontent-%COMP%]{float:left}.btn.btn-action[_ngcontent-%COMP%]{float:right}.row-button[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.col-field[_ngcontent-%COMP%]{display:flex;flex-direction:column}.col-button-add[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.col-button-add[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{vertical-align:middle}button.btn.add[_ngcontent-%COMP%]{border-radius:50%}.dialog-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.alert-warning[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.btn.btn-alert[_ngcontent-%COMP%]{float:right;background:transparent;border:none;color:#d4edda;background-color:#155724;border-radius:5px}.btn.btn-alert[_ngcontent-%COMP%]:hover{color:#155724;background-color:#d4edda}"]}),p})();function Yi(p,E){1&p&&(e.TgZ(0,"div",4),e._uU(1," les caract\xe9ristiques ont \xe9t\xe9 modifi\xe9s avec succ\xe9s "),e.qZA())}function Tm(p,E){1&p&&(e.TgZ(0,"div"),e._uU(1," ce champs est obligatoire"),e.qZA())}function cd(p,E){if(1&p&&(e.TgZ(0,"mat-error",20),e.YNc(1,Tm,2,0,"div",21),e.qZA()),2&p){const _=e.oxw(3);e.xp6(1),e.Q6J("ngIf",_.FormCreationCategory.controls.idGarantie.errors.required)}}function Tu(p,E){if(1&p&&(e.TgZ(0,"mat-form-field",10)(1,"mat-label"),e._uU(2,"Id garantie"),e.qZA(),e._UZ(3,"input",19),e.YNc(4,cd,2,1,"mat-error",13),e.qZA()),2&p){const _=e.oxw(2);e.xp6(4),e.Q6J("ngIf",_.FormCreationCategory.controls.idGarantie.errors)}}function E_(p,E){if(1&p&&(e.TgZ(0,"mat-option",22),e._uU(1),e.qZA()),2&p){const _=E.$implicit;e.Q6J("value",_.idCategorie),e.xp6(1),e.hij(" ",_.description," ")}}function ud(p,E){1&p&&(e.TgZ(0,"div"),e._uU(1," ce champs est obligatoire"),e.qZA())}function Jd(p,E){if(1&p&&(e.TgZ(0,"mat-error",20),e.YNc(1,ud,2,0,"div",21),e.qZA()),2&p){const _=e.oxw(2);e.xp6(1),e.Q6J("ngIf",_.FormCreationCategory.controls.categorieValeur.errors.required)}}function Ja(p,E){if(1&p&&(e.TgZ(0,"mat-option",22),e._uU(1),e.qZA()),2&p){const _=E.$implicit;e.Q6J("value",_.idSousCategorie),e.xp6(1),e.hij(" ",_.description," ")}}function R_(p,E){1&p&&(e.TgZ(0,"div"),e._uU(1," ce champs est obligatoire"),e.qZA())}function D_(p,E){if(1&p&&(e.TgZ(0,"mat-error",20),e.YNc(1,R_,2,0,"div",21),e.qZA()),2&p){const _=e.oxw(2);e.xp6(1),e.Q6J("ngIf",_.FormCreationCategory.controls.souscategories.errors.required)}}function Ld(p,E){if(1&p&&(e.TgZ(0,"mat-option",22),e._uU(1),e.qZA()),2&p){const _=E.$implicit;e.Q6J("value",_.idParam),e.xp6(1),e.hij(" ",_.description," ")}}function w_(p,E){1&p&&(e.TgZ(0,"div"),e._uU(1," ce champs est obligatoire"),e.qZA())}function Yd(p,E){if(1&p&&(e.TgZ(0,"mat-error",20),e.YNc(1,w_,2,0,"div",21),e.qZA()),2&p){const _=e.oxw(2);e.xp6(1),e.Q6J("ngIf",_.FormCreationCategory.controls.typeValeur.errors.required)}}function O_(p,E){1&p&&(e.TgZ(0,"div"),e._uU(1," ce champs est obligatoire"),e.qZA())}function Gd(p,E){if(1&p&&(e.TgZ(0,"mat-error",20),e.YNc(1,O_,2,0,"div",21),e.qZA()),2&p){const _=e.oxw(2);e.xp6(1),e.Q6J("ngIf",_.FormCreationCategory.controls.valeur.errors.required)}}function k_(p,E){if(1&p){const _=e.EpF();e.TgZ(0,"form",5,6),e.NdJ("ngSubmit",function(){e.CHM(_);const k=e.MAs(1),ae=e.oxw();return e.KtG(ae.submitCreationPGF(k))}),e.TgZ(2,"div",7)(3,"div",8),e.YNc(4,Tu,5,1,"mat-form-field",9),e.TgZ(5,"mat-form-field",10)(6,"mat-label"),e._uU(7,"Categorie de valeur"),e.qZA(),e.TgZ(8,"mat-select",11),e.NdJ("selectionChange",function(k){e.CHM(_);const ae=e.oxw();return e.KtG(ae.getAllSousCategories(k.value))}),e.YNc(9,E_,2,2,"mat-option",12),e.qZA(),e.YNc(10,Jd,2,1,"mat-error",13),e.qZA(),e.TgZ(11,"mat-form-field",10)(12,"mat-label"),e._uU(13,"Sous categorie de valeur"),e.qZA(),e.TgZ(14,"mat-select",14),e.YNc(15,Ja,2,2,"mat-option",12),e.qZA(),e.YNc(16,D_,2,1,"mat-error",13),e.qZA(),e.TgZ(17,"mat-form-field",10)(18,"mat-label"),e._uU(19,"Type Valeur"),e.qZA(),e.TgZ(20,"mat-select",15),e.YNc(21,Ld,2,2,"mat-option",12),e.qZA(),e.YNc(22,Yd,2,1,"mat-error",13),e.qZA(),e.TgZ(23,"mat-form-field",10)(24,"mat-label"),e._uU(25,"Valeur"),e.qZA(),e._UZ(26,"input",16),e.YNc(27,Gd,2,1,"mat-error",13),e.qZA()()(),e.TgZ(28,"div")(29,"button",17),e._uU(30,"Retour"),e.qZA(),e.TgZ(31,"button",18),e._uU(32,"Enregistrer"),e.qZA()()()}if(2&p){const _=e.oxw();e.Q6J("formGroup",_.FormCreationCategory),e.xp6(4),e.Q6J("ngIf",null!=_.data.category.idGarantie),e.xp6(5),e.Q6J("ngForOf",_.categorieValeur),e.xp6(1),e.Q6J("ngIf",_.FormCreationCategory.controls.categorieValeur.errors),e.xp6(5),e.Q6J("ngForOf",_.sousCategorieValeur),e.xp6(1),e.Q6J("ngIf",_.FormCreationCategory.controls.souscategories.errors),e.xp6(5),e.Q6J("ngForOf",_.typeValeur),e.xp6(1),e.Q6J("ngIf",_.FormCreationCategory.controls.typeValeur.errors),e.xp6(5),e.Q6J("ngIf",_.FormCreationCategory.controls.valeur.errors)}}let zs=(()=>{class p{constructor(_,S,k,ae,Ue){this.genericService=_,this.packService=S,this.data=k,this.formBuilder=ae,this.dialogRef=Ue,this.tabParameters=[],this.categorieValeur=[],this.typeValeur=[],this.sousCategorieValeur=[],this.alertSuccess=!1,this.formReady=!1,Ue.disableClose=!0}ngOnInit(){this.getAllCategories(),this.getTypeValeur()}initFormCreationPGF(){this.FormCreationCategory=this.formBuilder.group({categorieValeur:["",[w.kI.required]],souscategories:["",[w.kI.required]],typeValeur:["",[w.kI.required]],valeur:["",[w.kI.required,w.kI.pattern("^[-]?[0-9].*$")]]}),null!=this.data.category.idGarantie&&this.FormCreationCategory.addControl("idGarantie",new w.NI({value:this.data.category.idGarantie,disabled:!0},w.kI.required))}initcategory(){this.FormCreationCategory.get("categorieValeur").setValue(this.data.category.categorieValeur.idCategorie),this.getAllSousCategories(this.data.category.categorieValeur.idCategorie),this.FormCreationCategory.get("typeValeur").setValue(this.data.category.typeValeur.idParam),this.FormCreationCategory.get("valeur").setValue(this.data.category.valeur)}submitCreationPGF(_){if(this.FormCreationCategory.valid){let S;S="edit"==this.data.type?this.data.category.hasOwnProperty("souscategories")?{categorieValeur:this.categorieValeur[this.categorieValeur.findIndex(k=>k.idCategorie===this.FormCreationCategory.get("categorieValeur").value)],sousCategorieList:this.sousCategorieValeur[this.sousCategorieValeur.findIndex(k=>k.idSousCategorie===this.FormCreationCategory.get("souscategories").value)],typeValeur:this.typeValeur[this.typeValeur.findIndex(k=>k.idParam===this.FormCreationCategory.get("typeValeur").value)],valeur:this.FormCreationCategory.get("valeur").value,idcaracteristique:this.data.category.idcaracteristique,idParamSCPackComplet:this.data.category.sousCategorieList.idParamSCPackComplet}:{categorieValeur:this.categorieValeur[this.categorieValeur.findIndex(k=>k.idCategorie===this.FormCreationCategory.get("categorieValeur").value)],sousCategorieList:this.sousCategorieValeur[this.sousCategorieValeur.findIndex(k=>k.idSousCategorie===this.FormCreationCategory.get("souscategories").value)],typeValeur:this.typeValeur[this.typeValeur.findIndex(k=>k.idParam===this.FormCreationCategory.get("typeValeur").value)],valeur:this.FormCreationCategory.get("valeur").value,idcaracteristique:this.data.category.idcaracteristique,idParamPackComplet:this.data.category.idParamPackComplet,idParamSCPackComplet:this.data.category.sousCategorieList.idParamSCPackComplet}:{categorieValeur:this.categorieValeur[this.categorieValeur.findIndex(k=>k.idCategorie===this.FormCreationCategory.get("categorieValeur").value)],souscategories:this.sousCategorieValeur[this.sousCategorieValeur.findIndex(k=>k.idSousCategorie===this.FormCreationCategory.get("souscategories").value)],typeValeur:this.typeValeur[this.typeValeur.findIndex(k=>k.idParam===this.FormCreationCategory.get("typeValeur").value)],valeur:this.FormCreationCategory.get("valeur").value,idcaracteristique:this.data.category.idcaracteristique},null!=this.data.category.idGarantie&&Object.assign(S,{idGarantie:this.data.category.idGarantie}),this.alertSuccess=!0,_.resetForm(),this.FormCreationCategory.reset(),this.tabParameters.push(S),this.dialogRef.close({data:this.tabParameters})}}getAllCategories(){this.packService.getAllCategory().subscribe({next:_=>{this.categorieValeur=_,this.initFormCreationPGF(),this.initcategory()},error:_=>{console.log(_)}})}getAllSousCategories(_){this.packService.getSousCategory(_).subscribe({next:S=>{this.sousCategorieValeur=S,this.formReady=!0,this.data.category.hasOwnProperty("souscategories")?this.FormCreationCategory.get("souscategories").setValue(this.data.category.souscategories.idSousCategorie):this.FormCreationCategory.get("souscategories").setValue(this.data.category.sousCategorieList.idSousCategorie)},error:S=>{console.log(S)}})}getTypeValeur(){this.genericService.getParam(JSON.parse(sessionStorage.getItem("dictionnaire")||"{}").find(_=>"C17"==_.code).idCategorie).subscribe({next:_=>{this.typeValeur=_},error:_=>{console.log(_)}})}}return p.\u0275fac=function(_){return new(_||p)(e.Y36(_o.M),e.Y36(nc.F),e.Y36(xe.WI),e.Y36(w.qu),e.Y36(xe.so))},p.\u0275cmp=e.Xpm({type:p,selectors:[["app-edit-categorie-dialog"]],decls:6,vars:2,consts:[[1,"heading"],[1,"mat-typography"],["class","alert alert-success",4,"ngIf"],["class","creation-form",3,"formGroup","ngSubmit",4,"ngIf"],[1,"alert","alert-success"],[1,"creation-form",3,"formGroup","ngSubmit"],["formDirective","ngForm"],[1,"row"],[1,"col-md-7","col-field"],["appearance","outline",4,"ngIf"],["appearance","outline"],["formControlName","categorieValeur",3,"selectionChange"],[3,"value",4,"ngFor","ngForOf"],["class","invalid-feedback",4,"ngIf"],["formControlName","souscategories"],["formControlName","typeValeur"],["type","text","matInput","","formControlName","valeur"],["mat-dialog-close","","type","button",1,"btn","btn-cancel"],["type","submit",1,"btn","btn-action"],["type","text","matInput","","formControlName","idGarantie"],[1,"invalid-feedback"],[4,"ngIf"],[3,"value"]],template:function(_,S){1&_&&(e.TgZ(0,"h2",0),e._uU(1,"Modification de caract\xe9ristique"),e.qZA(),e._UZ(2,"mat-divider"),e.TgZ(3,"mat-dialog-content",1),e.YNc(4,Yi,2,0,"div",2),e.YNc(5,k_,33,9,"form",3),e.qZA()),2&_&&(e.xp6(4),e.Q6J("ngIf",S.alertSuccess),e.xp6(1),e.Q6J("ngIf",S.formReady))},dependencies:[Se.sg,Se.O5,O.d,w._Y,w.Fj,w.JJ,w.JL,w.sg,w.u,J.TO,J.KE,J.hX,he.Nt,xe.ZT,xe.xY,l.gD,t.ey],styles:[".mat-dialog-content[_ngcontent-%COMP%]{padding-top:15px}.creation-form[_ngcontent-%COMP%]{display:flex;flex-direction:column}.mat-form-field[_ngcontent-%COMP%]{padding-top:15px}.mat-error[_ngcontent-%COMP%]{font-size:11px}.btn.btn-cancel[_ngcontent-%COMP%]{float:left}.btn.btn-action[_ngcontent-%COMP%]{float:right}.col-field[_ngcontent-%COMP%]{display:flex;flex-direction:column}.col-button-add[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.col-button-add[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{vertical-align:middle}"]}),p})();function ss(p,E){if(1&p&&(e.TgZ(0,"h2",12),e._uU(1),e.qZA()),2&p){const _=e.oxw();e.xp6(1),e.hij('Ajouter la garantie "',_.data.description,'" au pack')}}function Gm(p,E){if(1&p&&(e.TgZ(0,"h2",12),e._uU(1),e.qZA()),2&p){const _=e.oxw();e.xp6(1),e.hij('Ajouter la sous garantie "',_.data.description,'" au pack ')}}let va=(()=>{class p{constructor(_,S,k){this.dialogRef=_,this.data=S,this.formBuilder=k,_.disableClose=!0}ngOnInit(){this.initFormCreationPackGarantie()}initFormCreationPackGarantie(){this.FormCreationPackGarantie=this.formBuilder.group({obligatoire:["",[w.kI.required]]})}submitCreationPackGarantie(){if(this.FormCreationPackGarantie.valid){let _={id:this.data.id,description:this.data.description,obligatoire:this.FormCreationPackGarantie.get("obligatoire").value};this.dialogRef.close({data:_})}}}return p.\u0275fac=function(_){return new(_||p)(e.Y36(xe.so),e.Y36(xe.WI),e.Y36(w.qu))},p.\u0275cmp=e.Xpm({type:p,selectors:[["app-creation-pack-garantie"]],decls:19,vars:3,consts:[["class","heading",4,"ngIf"],[1,"mat-typography"],[1,"creation-form",3,"formGroup","ngSubmit"],["formDirective","ngForm"],[2,"display","flex","flex-direction","column","align-items","center"],[2,"font-size","17px"],["aria-label","Select an option","formControlName","obligatoire"],["value","true"],["value","false"],[1,"row-button"],["mat-dialog-close","","type","button",1,"btn","btn-cancel"],["type","submit",1,"btn","btn-action"],[1,"heading"]],template:function(_,S){1&_&&(e.YNc(0,ss,2,1,"h2",0),e.YNc(1,Gm,2,1,"h2",0),e._UZ(2,"mat-divider"),e.TgZ(3,"mat-dialog-content",1)(4,"form",2,3),e.NdJ("ngSubmit",function(){return S.submitCreationPackGarantie()}),e.TgZ(6,"div",4)(7,"mat-label",5),e._uU(8,"Cette garantie est-elle obligatoire"),e.qZA(),e.TgZ(9,"mat-radio-group",6)(10,"mat-radio-button",7),e._uU(11,"Obligatoire"),e.qZA(),e.TgZ(12,"mat-radio-button",8),e._uU(13,"Facultatif"),e.qZA()()(),e.TgZ(14,"div",9)(15,"button",10),e._uU(16,"Retour"),e.qZA(),e.TgZ(17,"button",11),e._uU(18,"Ajouter"),e.qZA()()()()),2&_&&(e.Q6J("ngIf","garantie"==S.data.type),e.xp6(1),e.Q6J("ngIf","sousGarantie"==S.data.type),e.xp6(3),e.Q6J("formGroup",S.FormCreationPackGarantie))},dependencies:[Se.O5,O.d,w._Y,w.JJ,w.JL,w.sg,w.u,J.hX,xe.ZT,xe.xY,Bi.VQ,Bi.U0],styles:[".form-group[_ngcontent-%COMP%]{display:flex;margin-bottom:20px}.mat-dialog-content[_ngcontent-%COMP%]{padding-top:15px}.creation-form[_ngcontent-%COMP%]{display:flex;flex-direction:column}.mat-form-field[_ngcontent-%COMP%]{padding-top:15px}.mat-error[_ngcontent-%COMP%]{font-size:11px}.btn.btn-cancel[_ngcontent-%COMP%]{float:left}.btn.btn-action[_ngcontent-%COMP%]{float:right}.mat-radio-group[_ngcontent-%COMP%]{margin-top:2rem;margin-bottom:4rem}.mat-radio-group[_ngcontent-%COMP%]   .mat-radio-button[_ngcontent-%COMP%]:nth-child(2){margin-left:4rem}[_ngcontent-%COMP%]:ng-deep   .mat-radio-label-content[_ngcontent-%COMP%]{font-size:16px}.mat-radio-button[_ngcontent-%COMP%]{font-size:16px}  .danger-snackbar{background:#721c24;color:#fff;font-size:15px}  .danger-snackbar .mat-simple-snackbar-action{color:#fff!important;font-size:21px}.row-button[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:0 3rem;margin-top:2rem}"]}),p})();function md(p,E){1&p&&(e.TgZ(0,"p"),e._uU(1,"Etes-vous sur de vouloir supprimer cette categorie de cette garantie."),e.qZA())}function M_(p,E){if(1&p&&(e.TgZ(0,"p"),e._uU(1),e.qZA()),2&p){const _=e.oxw();e.xp6(1),e.hij('Etes-vous sur de vouloir supprimer la garantie "',_.description,'" de ce pack ')}}function U_(p,E){if(1&p&&(e.TgZ(0,"p"),e._uU(1),e.qZA()),2&p){const _=e.oxw();e.xp6(1),e.hij('Etes-vous sur de vouloir supprimer la sous garantie "',_.description,'" de ce pack ')}}function $u(p,E){1&p&&(e.TgZ(0,"p"),e._uU(1,"Etes-vous sur de vouloir supprimer cette categorie de ce pack. "),e.qZA())}function dd(p,E){1&p&&(e.TgZ(0,"mat-error",14)(1,"div"),e._uU(2," Date fin est inf\xe9rieur \xe0 la date d\xe9but"),e.qZA()())}function Bd(p,E){if(1&p){const _=e.EpF();e.TgZ(0,"form",5,6),e.NdJ("ngSubmit",function(){e.CHM(_);const k=e.oxw();return e.KtG(k.submitSupression())}),e.TgZ(2,"mat-form-field",7)(3,"mat-label"),e._uU(4,"Date Fin"),e.qZA(),e._UZ(5,"input",8)(6,"mat-datepicker-toggle",9)(7,"mat-datepicker",null,10),e.YNc(9,dd,3,0,"mat-error",11),e.qZA(),e.TgZ(10,"div")(11,"button",12),e._uU(12,"Retour"),e.qZA(),e.TgZ(13,"button",13),e._uU(14,"Supprimer"),e.qZA()()()}if(2&p){const _=e.MAs(8),S=e.oxw();e.Q6J("formGroup",S.formSupression),e.xp6(5),e.Q6J("matDatepicker",_)("min",S.minDate),e.xp6(1),e.Q6J("for",_),e.xp6(3),e.Q6J("ngIf",S.formSupression.controls.dateFin.hasError("matDatepickerMin")),e.xp6(2),e.Q6J("mat-dialog-close",!1)}}function F_(p,E){1&p&&(e.TgZ(0,"button",12),e._uU(1,"Retour"),e.qZA(),e.TgZ(2,"button",15),e._uU(3,"Supprimer"),e.qZA()),2&p&&(e.Q6J("mat-dialog-close",!1),e.xp6(2),e.Q6J("mat-dialog-close",!0))}let fc=(()=>{class p{constructor(_,S,k){this.formBuilder=_,this.dialogRef=S,this.data=k,this.description=this.data.desc,this.categoryOf=this.data.categoryOf,this.typeSupression=this.data.type,this.minDate=new Date}ngOnInit(){"put"==this.typeSupression&&(this.formSupression=this.formBuilder.group({dateFin:["",w.kI.required]}))}submitSupression(){"put"==this.typeSupression&&this.formSupression.valid&&(this.formSupression.get("dateFin").setValue(o(this.formSupression.get("dateFin").value).format("YYYY-MM-DD")),this.dialogRef.close({data:{data:!0,dateFin:this.formSupression.get("dateFin").value}}))}}return p.\u0275fac=function(_){return new(_||p)(e.Y36(w.qu),e.Y36(xe.so),e.Y36(xe.WI))},p.\u0275cmp=e.Xpm({type:p,selectors:[["app-supression-pack-garantie"]],decls:11,vars:6,consts:[[1,"heading"],[1,"mat-typography"],[4,"ngIf"],[3,"formGroup","ngSubmit",4,"ngIf","ngIfElse"],["post_content",""],[3,"formGroup","ngSubmit"],["formDirective","ngForm"],["appearance","outline",1,"col-md-12"],["matInput","","formControlName","dateFin",3,"matDatepicker","min"],["matSuffix","",3,"for"],["dateFin",""],["class","invalid-feedback",4,"ngIf"],["type","button",1,"btn","btn-cancel",3,"mat-dialog-close"],["type","submit",1,"btn","btn-delete"],[1,"invalid-feedback"],[1,"btn","btn-delete",3,"mat-dialog-close"]],template:function(_,S){if(1&_&&(e.TgZ(0,"h2",0),e._uU(1,"Supression Pack-Garantie"),e.qZA(),e._UZ(2,"mat-divider"),e.TgZ(3,"mat-dialog-content",1),e.YNc(4,md,2,0,"p",2),e.YNc(5,M_,2,1,"p",2),e.YNc(6,U_,2,1,"p",2),e.YNc(7,$u,2,0,"p",2),e.YNc(8,Bd,15,6,"form",3),e.YNc(9,F_,4,2,"ng-template",null,4,e.W1O),e.qZA()),2&_){const k=e.MAs(10);e.xp6(4),e.Q6J("ngIf","categoryGarantie"==S.categoryOf),e.xp6(1),e.Q6J("ngIf","garantie"==S.categoryOf),e.xp6(1),e.Q6J("ngIf","sousGarantie"==S.categoryOf),e.xp6(1),e.Q6J("ngIf","categoryPack"==S.categoryOf),e.xp6(1),e.Q6J("ngIf","put"==S.typeSupression)("ngIfElse",k)}},dependencies:[Se.O5,O.d,w._Y,w.Fj,w.JJ,w.JL,w.sg,w.u,J.TO,J.KE,J.hX,J.R9,he.Nt,xe.ZT,xe.xY,Ze.Mq,Ze.hl,Ze.nW],styles:[".mat-dialog-content[_ngcontent-%COMP%]{padding-top:15px}.btn.btn-cancel[_ngcontent-%COMP%]{float:left}.btn.btn-delete[_ngcontent-%COMP%]{float:right}p[_ngcontent-%COMP%]{margin-bottom:2rem;font-size:19px;text-align:center;line-height:3rem}"]}),p})();function Q_(p,E){if(1&p&&(e.TgZ(0,"th",15),e._uU(1),e.qZA()),2&p){const _=e.oxw();e.xp6(1),e.hij(" ",_.titleCell,"")}}function J_(p,E){if(1&p&&(e.TgZ(0,"td",16),e._uU(1),e.qZA()),2&p){const _=e.oxw();e.xp6(1),e.hij(" ",_.titleCellId," ")}}function zd(p,E){1&p&&(e.TgZ(0,"th",15),e._uU(1," Categorie de valeur "),e.qZA())}function Vd(p,E){if(1&p&&(e.TgZ(0,"td",16),e._uU(1),e.qZA()),2&p){const _=E.$implicit;e.xp6(1),e.hij(" ",_.categorie.description," ")}}function L_(p,E){1&p&&(e.TgZ(0,"th",15),e._uU(1," Sous categorie de valeur "),e.qZA())}function _d(p,E){if(1&p&&(e.TgZ(0,"td",16),e._uU(1),e.qZA()),2&p){const _=E.$implicit;e.xp6(1),e.hij(" ",_.souscategorieList[0].souscategorie.description," ")}}function jd(p,E){1&p&&(e.TgZ(0,"th",15),e._uU(1," Type Valeur "),e.qZA())}function bm(p,E){if(1&p&&(e.TgZ(0,"td",16),e._uU(1),e.qZA()),2&p){const _=E.$implicit;e.xp6(1),e.hij(" ",_.dictionnaire.description," ")}}function pd(p,E){1&p&&(e.TgZ(0,"th",15),e._uU(1," Valeur "),e.qZA())}function Hd(p,E){if(1&p&&(e.TgZ(0,"td",16),e._uU(1),e.qZA()),2&p){const _=E.$implicit;e.xp6(1),e.hij(" ",_.valeur," ")}}function Bm(p,E){1&p&&e._UZ(0,"tr",17)}function Pm(p,E){1&p&&e._UZ(0,"tr",18)}const fd=function(){return[5,10]};let ls=(()=>{class p{constructor(_,S,k,ae,Ue,On){this.formBuilderAuth=_,this.sousGarantiesService=S,this.garantiesService=k,this.router=ae,this.route=Ue,this.packService=On,this.dataSourceCategory=new Q.by,this.displayedColumns=["id","souscategories","categorieValeur","typeValeur","valeur"]}ngAfterViewInit(){this.dataSourceCategory.paginator=this.paginator,this.paginator._intl.itemsPerPageLabel="Nombre d'\xe9l\xe9ments par page"}ngOnInit(){this.initFilter(),this.idPack=this.route.snapshot.paramMap.get("idPack"),this.idGarantie=this.route.snapshot.paramMap.get("idGarantie"),this.idSousGarantie=this.route.snapshot.paramMap.get("idSousGarantie"),null==this.idGarantie?(this.initPackCategory(this.idPack),this.titleCellId=this.idPack,this.titleCell="code pack"):null==this.idSousGarantie?(this.initGarantiesCategory(this.idGarantie),this.titleCellId=this.idGarantie,this.titleCell="Garantie"):(this.initSousGarantiesCategory(this.idSousGarantie),this.titleCellId=this.idSousGarantie,this.titleCell="Sous Garantie"),this.lengthColumns=this.displayedColumns.length}initFilter(){this.formFilter=this.formBuilderAuth.group({CategorieValeur:[""]})}initPackCategory(_){this.packService.getPackAndCategories(this.idPack).subscribe({next:S=>{this.dataSourceCategory=new Q.by(S.categorieList),this.dataSourceCategory.paginator=this.paginator},error:S=>{console.log(S)}})}initGarantiesCategory(_){this.packService.getGarantiePackCategories(this.idPack,this.idGarantie).subscribe({next:S=>{this.dataSourceCategory=new Q.by(S.categorieList),this.dataSourceCategory.paginator=this.paginator},error:S=>{console.log(S)}})}initSousGarantiesCategory(_){this.packService.getSousGarantiePackCategories(this.idPack,this.idGarantie,this.idSousGarantie).subscribe({next:S=>{this.dataSourceCategory=new Q.by(S.categorieList),this.dataSourceCategory.paginator=this.paginator},error:S=>{console.log(S)}})}back(){this.router.navigateByUrl(null==this.idGarantie?"gestion-referentiels/gestion-pack":null==this.idSousGarantie?"gestion-referentiels/gestion-pack/"+this.idPack+"/garanties":"gestion-referentiels/gestion-pack/"+this.idPack+"/garanties/"+this.idGarantie+"/sous-garanties")}applyFilter(_){this.dataSourceCategory.filter=_.target.value.trim().toLowerCase()}}return p.\u0275fac=function(_){return new(_||p)(e.Y36(w.qu),e.Y36(Cl),e.Y36(Ni),e.Y36(ee.F0),e.Y36(ee.gz),e.Y36(nc.F))},p.\u0275cmp=e.Xpm({type:p,selectors:[["app-gestion-categorie"]],viewQuery:function(_,S){if(1&_&&e.Gf(Le.NW,5),2&_){let k;e.iGM(k=e.CRH())&&(S.paginator=k.first)}},decls:26,vars:8,consts:[[1,"container"],[1,"header"],[1,"title-table"],["aria-hidden","false","matTooltip","Retour","matTooltipPosition","left",1,"material-symbols-outlined",3,"click"],["mat-table","",1,"table",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","categorieValeur"],["matColumnDef","souscategories"],["matColumnDef","typeValeur"],["matColumnDef","valeur"],["mat-header-row","","class","second-header-row",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["aria-label","Select page of users",3,"pageSize","pageSizeOptions"],["mat-header-cell",""],["mat-cell",""],["mat-header-row","",1,"second-header-row"],["mat-row",""]],template:function(_,S){1&_&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h2",2)(3,"mat-icon",3),e.NdJ("click",function(){return S.back()}),e._uU(4,"arrow_circle_left"),e.qZA(),e._uU(5),e.qZA()(),e._UZ(6,"mat-divider"),e.TgZ(7,"table",4),e.ynx(8,5),e.YNc(9,Q_,2,1,"th",6),e.YNc(10,J_,2,1,"td",7),e.BQk(),e.ynx(11,8),e.YNc(12,zd,2,0,"th",6),e.YNc(13,Vd,2,1,"td",7),e.BQk(),e.ynx(14,9),e.YNc(15,L_,2,0,"th",6),e.YNc(16,_d,2,1,"td",7),e.BQk(),e.ynx(17,10),e.YNc(18,jd,2,0,"th",6),e.YNc(19,bm,2,1,"td",7),e.BQk(),e.ynx(20,11),e.YNc(21,pd,2,0,"th",6),e.YNc(22,Hd,2,1,"td",7),e.BQk(),e.YNc(23,Bm,1,0,"tr",12),e.YNc(24,Pm,1,0,"tr",13),e.qZA(),e._UZ(25,"mat-paginator",14),e.qZA()),2&_&&(e.xp6(5),e.hij(" Listes des param\xe9tres ",S.titleCell,""),e.xp6(2),e.Q6J("dataSource",S.dataSourceCategory)("@enterAnimation",void 0),e.xp6(16),e.Q6J("matHeaderRowDef",S.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",S.displayedColumns),e.xp6(1),e.Q6J("pageSize",10)("pageSizeOptions",e.DdM(7,fd)))},dependencies:[O.d,Mn.Hw,Q.BZ,Q.fO,Q.as,Q.w1,Q.Dz,Q.nj,Q.ge,Q.ev,Q.XQ,Q.Gk,oo.gM,Le.NW],styles:[".container[_ngcontent-%COMP%]{background-color:#fff;padding:40px 0;height:100%;overflow-y:auto;overflow-x:hidden}table.table[_ngcontent-%COMP%]{width:100%;margin-top:2rem}.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:16px}.mat-row[_ngcontent-%COMP%]:nth-child(even), .mat-header-row[_ngcontent-%COMP%]{background-color:#f7f7f9}.mat-header-cell[_ngcontent-%COMP%]{color:#333;font-weight:600;letter-spacing:.5px;font-size:15px;width:165px}.header-tab[_ngcontent-%COMP%]{display:flex;align-items:center}.header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:0px 2rem}.header[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{height:-moz-fit-content;height:fit-content;font-size:31px;margin-right:1rem;width:-moz-fit-content;width:fit-content;cursor:pointer}.mat-header-row[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{color:#00008f}.header-tab[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{margin-right:10px;float:right}.mat-paginator[_ngcontent-%COMP%]{background-color:transparent;margin:20px auto auto;width:80%}.first-header-row[_ngcontent-%COMP%]{background-color:#00008f}.first-header-row[_ngcontent-%COMP%]   th.mat-header-cell[_ngcontent-%COMP%]{border:none;color:#fff;font-size:18px}.mat-column-valeur.mat-cell[_ngcontent-%COMP%]{text-align:center}.mat-icon[_ngcontent-%COMP%]{height:100%;font-size:36px;width:-moz-fit-content;width:fit-content}.mat-cell[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{color:#00008f}.mat-header-cell.mat-icon[_ngcontent-%COMP%]{color:#fff}.mat-cell[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]:hover, .mat-header-cell[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]:hover{color:#d14723;cursor:pointer}  .mat-tooltip{font-size:14px}.mat-menu-item[_ngcontent-%COMP%]{font-size:16px}.mat-menu-item[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:21px;height:-moz-fit-content;height:fit-content}.mat-menu-item[_ngcontent-%COMP%]:hover:not([disabled]){color:#00008f}.mat-menu-item[_ngcontent-%COMP%]:hover:not([disabled])   .mat-icon[_ngcontent-%COMP%]{color:#00008f}.mat-divider[_ngcontent-%COMP%]{margin-bottom:2rem;margin-top:2rem}.row-button[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:end}.title-table[_ngcontent-%COMP%]{margin-bottom:0rem;font-weight:800!important;font-size:23px!important;color:#00008f!important;display:flex;align-items:center}"],data:{animation:[(0,go.X$)("enterAnimation",[(0,go.eR)(":enter",[(0,go.oB)({opacity:0,transform:"translateX(-100%)"}),(0,go.jt)(400)])])]}}),p})();var Il=B(7009),er=B(6257),Xc=B(1572),gd=B(6838);let hd=(()=>{class p{transform(_){return 1==JSON.parse(_)?"Oui":0==JSON.parse(_)?"Non":void 0}}return p.\u0275fac=function(_){return new(_||p)},p.\u0275pipe=e.Yjl({name:"obligatoireFormat",type:p,pure:!0}),p})();const Y_=["stepper"],G_=["paginatorPackGarantie"],B_=["paginatorGarantieCategory"],z_=["paginatorSousGarantiePack"],Cd=["paginatorSousGarantieCategory"];function V_(p,E){1&p&&e._uU(0,"Pack")}function j_(p,E){1&p&&(e.TgZ(0,"div"),e._uU(1," ce champs est obligatoire"),e.qZA())}function H_(p,E){if(1&p&&(e.TgZ(0,"mat-error",40),e.YNc(1,j_,2,0,"div",5),e.qZA()),2&p){const _=e.oxw(2);e.xp6(1),e.Q6J("ngIf",_.creationPackStepOne.controls.description.errors.required)}}function $_(p,E){1&p&&(e.TgZ(0,"div"),e._uU(1," ce champs est obligatoire"),e.qZA())}function $d(p,E){if(1&p&&(e.TgZ(0,"mat-error",40),e.YNc(1,$_,2,0,"div",5),e.qZA()),2&p){const _=e.oxw(2);e.xp6(1),e.Q6J("ngIf",_.creationPackStepOne.controls.dateDebut.errors.required)}}function xd(p,E){1&p&&(e.TgZ(0,"mat-error",40)(1,"div"),e._uU(2," Date fin est inf\xe9rieur \xe0 la date d\xe9but"),e.qZA()())}function Kd(p,E){1&p&&(e.TgZ(0,"th",41),e._uU(1," Categorie de valeur "),e.qZA())}function K_(p,E){if(1&p&&(e.TgZ(0,"td",42),e._uU(1),e.qZA()),2&p){const _=E.$implicit;e.xp6(1),e.hij(" ",_.categorieValeur.description," ")}}function W_(p,E){1&p&&(e.TgZ(0,"th",41),e._uU(1,"Sous Categorie de valeur "),e.qZA())}function X_(p,E){if(1&p&&(e.TgZ(0,"td",42),e._uU(1),e.qZA()),2&p){const _=E.$implicit;e.xp6(1),e.hij(" ",_.souscategories.description," ")}}function Wd(p,E){1&p&&(e.TgZ(0,"th",41),e._uU(1," Type Valeur "),e.qZA())}function Xd(p,E){if(1&p&&(e.TgZ(0,"td",42),e._uU(1),e.qZA()),2&p){const _=E.$implicit;e.xp6(1),e.hij(" ",_.typeValeur.description," ")}}function Mc(p,E){1&p&&(e.TgZ(0,"th",41),e._uU(1," Valeur "),e.qZA())}function ep(p,E){if(1&p&&(e.TgZ(0,"td",42),e._uU(1),e.qZA()),2&p){const _=E.$implicit;e.xp6(1),e.hij(" ",_.valeur," ")}}function tp(p,E){1&p&&(e.TgZ(0,"th",41),e._uU(1," Action "),e.qZA())}function np(p,E){if(1&p){const _=e.EpF();e.TgZ(0,"td",42)(1,"button",43)(2,"mat-icon"),e._uU(3,"more_vert"),e.qZA()(),e.TgZ(4,"mat-menu",44,45)(6,"button",46),e.NdJ("click",function(){const ae=e.CHM(_).$implicit,Ue=e.oxw(2);return e.KtG(Ue.EditPackCategory(ae))}),e.TgZ(7,"mat-icon"),e._uU(8,"edit"),e.qZA(),e.TgZ(9,"span"),e._uU(10,"Modifier param\xe8tre"),e.qZA()(),e.TgZ(11,"button",46),e.NdJ("click",function(){const ae=e.CHM(_).$implicit,Ue=e.oxw(2);return e.KtG(Ue.deletePackCategory(ae.idcaracteristique))}),e.TgZ(12,"mat-icon"),e._uU(13,"delete"),e.qZA(),e.TgZ(14,"span"),e._uU(15,"Supprimer param\xe8tre"),e.qZA()()()()}if(2&p){const _=e.MAs(5);e.xp6(1),e.Q6J("matMenuTriggerFor",_)}}function ip(p,E){1&p&&e._UZ(0,"tr",47)}function Bl(p,E){1&p&&e._UZ(0,"tr",48)}function op(p,E){1&p&&e._uU(0,"configuration garantie ")}function e_(p,E){if(1&p&&(e.TgZ(0,"mat-option",55),e._uU(1),e.qZA()),2&p){const _=E.$implicit;e.Q6J("value",_),e.xp6(1),e.AsE(" ",_.id,". ",_.libelle," ")}}function t_(p,E){if(1&p){const _=e.EpF();e.TgZ(0,"div",49)(1,"div",50)(2,"span"),e._uU(3,"Veuillez ajouter une garantie"),e.qZA(),e.TgZ(4,"mat-form-field",12)(5,"mat-label"),e._uU(6,"Garantie"),e.qZA(),e.TgZ(7,"mat-select",51),e.NdJ("selectionChange",function(k){e.CHM(_);const ae=e.oxw(2);return e.KtG(ae.addGarantiePack(k.value))}),e.TgZ(8,"mat-select-filter",52),e.NdJ("filteredReturn",function(k){e.CHM(_);const ae=e.oxw(2);return e.KtG(ae.filteredGaranties=k)}),e.qZA(),e.YNc(9,e_,2,3,"mat-option",53),e.qZA()()(),e.TgZ(10,"button",22),e.NdJ("click",function(){e.CHM(_);const k=e.oxw(2);return e.KtG(k.openCreateGarantie())}),e.TgZ(11,"mat-icon",54),e._uU(12,"add_circle"),e.qZA(),e._uU(13," Ajouter une nouvelle garantie "),e.qZA()()}if(2&p){const _=e.oxw(2);e.xp6(8),e.Q6J("placeholder","Filter")("displayMember","libelle")("array",_.garanties),e.xp6(1),e.Q6J("ngForOf",_.filteredGaranties)}}function n_(p,E){1&p&&(e.TgZ(0,"div",56),e._uU(1,"Cette garantie appartient d\xe9ja \xe0 ce pack "),e.qZA())}function rp(p,E){1&p&&(e.TgZ(0,"th",41),e._uU(1," id garantie "),e.qZA())}function ap(p,E){if(1&p&&(e.TgZ(0,"td",42),e._uU(1),e.qZA()),2&p){const _=E.$implicit;e.xp6(1),e.hij(" ",_.id," ")}}function sp(p,E){1&p&&(e.TgZ(0,"th",41),e._uU(1," Description "),e.qZA())}function lp(p,E){if(1&p&&(e.TgZ(0,"td",42),e._uU(1),e.qZA()),2&p){const _=E.$implicit;e.xp6(1),e.hij(" ",_.description," ")}}function vd(p,E){1&p&&(e.TgZ(0,"th",41),e._uU(1," obligatoire "),e.qZA())}function Ad(p,E){if(1&p&&(e.TgZ(0,"td",42),e._uU(1),e.ALo(2,"obligatoireFormat"),e.qZA()),2&p){const _=E.$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,_.obligatoire)," ")}}function i_(p,E){1&p&&(e.TgZ(0,"th",41),e._uU(1," Action "),e.qZA())}function cp(p,E){if(1&p){const _=e.EpF();e.TgZ(0,"td",42)(1,"button",43)(2,"mat-icon"),e._uU(3,"more_vert"),e.qZA()(),e.TgZ(4,"mat-menu",44,45)(6,"button",46),e.NdJ("click",function(){const ae=e.CHM(_).$implicit,Ue=e.oxw(3);return e.KtG(Ue.editGarantiePack(ae.id,ae.description))}),e.TgZ(7,"mat-icon"),e._uU(8,"edit"),e.qZA(),e.TgZ(9,"span"),e._uU(10,"Modifier la garantie"),e.qZA()(),e.TgZ(11,"button",46),e.NdJ("click",function(){const ae=e.CHM(_).$implicit,Ue=e.oxw(3);return e.KtG(Ue.deleteGarantie(ae.id,ae.description,"garantie"))}),e.TgZ(12,"mat-icon"),e._uU(13,"delete"),e.qZA(),e.TgZ(14,"span"),e._uU(15,"Supprimer la garantie"),e.qZA()(),e.TgZ(16,"button",63),e.NdJ("click",function(){const ae=e.CHM(_).$implicit,Ue=e.oxw(3);return e.KtG(Ue.goToSousGarantie(ae.id))}),e.TgZ(17,"mat-icon"),e._uU(18,"add_circle"),e.qZA(),e.TgZ(19,"span"),e._uU(20,"Afficher sous garantie"),e.qZA()(),e.TgZ(21,"button",64),e.NdJ("click",function(){const ae=e.CHM(_).$implicit,Ue=e.oxw(3);return e.KtG(Ue.initGarantieCategoryTab(ae.id))}),e.TgZ(22,"mat-icon"),e._uU(23,"format_list_bulleted"),e.qZA(),e.TgZ(24,"span"),e._uU(25,"Afficher param\xe8tre(s)"),e.qZA()()()()}if(2&p){const _=e.MAs(5);e.xp6(1),e.Q6J("matMenuTriggerFor",_)}}function up(p,E){1&p&&e._UZ(0,"tr",65)}function mp(p,E){1&p&&e._UZ(0,"tr",48)}const dp=function(){return[5,10,20,50]};function _p(p,E){if(1&p&&(e.TgZ(0,"div"),e._UZ(1,"mat-divider"),e.TgZ(2,"div",20)(3,"span",21),e._uU(4,"Listes des garanties pack "),e.qZA()(),e.TgZ(5,"table",24),e.ynx(6,57),e.YNc(7,rp,2,0,"th",26),e.YNc(8,ap,2,1,"td",27),e.BQk(),e.ynx(9,58),e.YNc(10,sp,2,0,"th",26),e.YNc(11,lp,2,1,"td",27),e.BQk(),e.ynx(12,59),e.YNc(13,vd,2,0,"th",26),e.YNc(14,Ad,3,3,"td",27),e.BQk(),e.ynx(15,31),e.YNc(16,i_,2,0,"th",26),e.YNc(17,cp,26,1,"td",27),e.BQk(),e.YNc(18,up,1,0,"tr",60),e.YNc(19,mp,1,0,"tr",33),e.qZA(),e._UZ(20,"mat-paginator",61,62),e.qZA()),2&p){const _=e.oxw(2);e.Q6J("@enterAnimation",void 0),e.xp6(5),e.Q6J("dataSource",_.dataGarantiePack),e.xp6(13),e.Q6J("matHeaderRowDef",_.displayedColumnsGarantiePack),e.xp6(1),e.Q6J("matRowDefColumns",_.displayedColumnsGarantiePack),e.xp6(1),e.Q6J("pageSize",10)("pageSizeOptions",e.DdM(6,dp))}}function o_(p,E){1&p&&(e.TgZ(0,"th",41),e._uU(1," Id Garantie "),e.qZA())}function pp(p,E){if(1&p&&(e.TgZ(0,"td",42),e._uU(1),e.qZA()),2&p){const _=E.$implicit;e.xp6(1),e.hij(" ",_.idGarantie," ")}}function Zm(p,E){1&p&&(e.TgZ(0,"th",41),e._uU(1," Categorie de valeur "),e.qZA())}function fp(p,E){if(1&p&&(e.TgZ(0,"td",42),e._uU(1),e.qZA()),2&p){const _=E.$implicit;e.xp6(1),e.hij(" ",_.categorieValeur.value," ")}}function gp(p,E){1&p&&(e.TgZ(0,"th",41),e._uU(1," Sous categorie de valeur "),e.qZA())}function zm(p,E){if(1&p&&(e.TgZ(0,"td",42),e._uU(1),e.qZA()),2&p){const _=E.$implicit;e.xp6(1),e.hij(" ",_.souscategories.value," ")}}function r_(p,E){1&p&&(e.TgZ(0,"th",41),e._uU(1," Type Valeur "),e.qZA())}function hp(p,E){if(1&p&&(e.TgZ(0,"td",42),e._uU(1),e.qZA()),2&p){const _=E.$implicit;e.xp6(1),e.hij(" ",_.typeValeur.value," ")}}function Cp(p,E){1&p&&(e.TgZ(0,"th",41),e._uU(1," Valeur "),e.qZA())}function La(p,E){if(1&p&&(e.TgZ(0,"td",42),e._uU(1),e.qZA()),2&p){const _=E.$implicit;e.xp6(1),e.hij(" ",_.valeur," ")}}function qm(p,E){1&p&&(e.TgZ(0,"th",41),e._uU(1," Action "),e.qZA())}function Sm(p,E){if(1&p){const _=e.EpF();e.TgZ(0,"td",42)(1,"button",43)(2,"mat-icon"),e._uU(3,"more_vert"),e.qZA()(),e.TgZ(4,"mat-menu",44,45)(6,"button",46),e.NdJ("click",function(){const ae=e.CHM(_).$implicit,Ue=e.oxw(3);return e.KtG(Ue.EditGarantieCategory(ae))}),e.TgZ(7,"mat-icon"),e._uU(8,"edit"),e.qZA(),e.TgZ(9,"span"),e._uU(10,"Modifier param\xe8tre"),e.qZA()(),e.TgZ(11,"button",46),e.NdJ("click",function(){const ae=e.CHM(_).$implicit,Ue=e.oxw(3);return e.KtG(Ue.deleteCategoryGarantie(ae.idcaracteristique,ae.idGarantie))}),e.TgZ(12,"mat-icon"),e._uU(13,"delete"),e.qZA(),e.TgZ(14,"span"),e._uU(15,"Supprimer param\xe8tre"),e.qZA()()()()}if(2&p){const _=e.MAs(5);e.xp6(1),e.Q6J("matMenuTriggerFor",_)}}function Vm(p,E){1&p&&e._UZ(0,"tr",47)}function ym(p,E){1&p&&e._UZ(0,"tr",48)}const Ku=function(){return[5,10,20]};function bu(p,E){if(1&p){const _=e.EpF();e.TgZ(0,"div")(1,"div",20)(2,"span",21)(3,"mat-icon",3),e.NdJ("click",function(){e.CHM(_);const k=e.oxw(2);return e.KtG(k.stepGarantieCategory=!0)})("click",function(){e.CHM(_);const k=e.oxw(2);return e.KtG(k.stepGarantieCategory=!0)}),e._uU(4,"arrow_circle_left"),e.qZA(),e._uU(5,"Listes des param\xe9tres garanties "),e.qZA(),e.TgZ(6,"button",22),e.NdJ("click",function(){e.CHM(_);const k=e.oxw(2);return e.KtG(k.addCategorieToGarantie())}),e.TgZ(7,"mat-icon",66),e._uU(8,"add_circle"),e.qZA(),e._uU(9," Ajouter param\xe9tre(s) "),e.qZA()(),e.TgZ(10,"table",24),e.ynx(11,57),e.YNc(12,o_,2,0,"th",26),e.YNc(13,pp,2,1,"td",27),e.BQk(),e.ynx(14,25),e.YNc(15,Zm,2,0,"th",26),e.YNc(16,fp,2,1,"td",27),e.BQk(),e.ynx(17,28),e.YNc(18,gp,2,0,"th",26),e.YNc(19,zm,2,1,"td",27),e.BQk(),e.ynx(20,29),e.YNc(21,r_,2,0,"th",26),e.YNc(22,hp,2,1,"td",27),e.BQk(),e.ynx(23,30),e.YNc(24,Cp,2,0,"th",26),e.YNc(25,La,2,1,"td",27),e.BQk(),e.ynx(26,31),e.YNc(27,qm,2,0,"th",26),e.YNc(28,Sm,16,1,"td",27),e.BQk(),e.YNc(29,Vm,1,0,"tr",32),e.YNc(30,ym,1,0,"tr",33),e.qZA(),e._UZ(31,"mat-paginator",61,67),e.qZA()}if(2&p){const _=e.oxw(2);e.Q6J("@enterAnimation",void 0),e.xp6(10),e.Q6J("dataSource",_.dataSourceGarantieCategory),e.xp6(19),e.Q6J("matHeaderRowDef",_.displayedColumnsGarantieCategory),e.xp6(1),e.Q6J("matRowDefColumns",_.displayedColumnsGarantieCategory),e.xp6(1),e.Q6J("pageSize",10)("pageSizeOptions",e.DdM(6,Ku))}}function xp(p,E){1&p&&(e.TgZ(0,"button",72),e._uU(1,"Enregistrer"),e.qZA())}function a_(p,E){1&p&&e._UZ(0,"mat-spinner",73)}function Nm(p,E){if(1&p&&(e.TgZ(0,"div",68)(1,"button",69),e._uU(2,"Retour"),e.qZA(),e.YNc(3,xp,2,0,"button",70),e.YNc(4,a_,1,0,"mat-spinner",71),e.qZA()),2&p){const _=e.oxw(2);e.xp6(3),e.Q6J("ngIf",!_.LoaderSave),e.xp6(1),e.Q6J("ngIf",_.LoaderSave)}}function Wu(p,E){1&p&&e._uU(0,"configuration sous garantie ")}function vp(p,E){1&p&&(e.TgZ(0,"div",56),e._uU(1,"Cette Garantie ne contient aucune sous garantie, vous pouvez toujours en ajouter en cliquant sur le bouton ci-dessous "),e.qZA())}function Ap(p,E){if(1&p&&(e.TgZ(0,"mat-option",55),e._uU(1),e.qZA()),2&p){const _=E.$implicit;e.Q6J("value",_),e.xp6(1),e.hij(" ",_.libelle," ")}}function Tp(p,E){if(1&p){const _=e.EpF();e.TgZ(0,"div",49)(1,"div",50)(2,"span"),e._uU(3,"Veuillez ajouter une sous garantie"),e.qZA(),e.TgZ(4,"mat-form-field",12)(5,"mat-label"),e._uU(6,"Sous garantie"),e.qZA(),e.TgZ(7,"mat-select",74),e.NdJ("selectionChange",function(k){e.CHM(_);const ae=e.oxw(2);return e.KtG(ae.addSousGarantiePack(k.value))}),e.TgZ(8,"mat-select-filter",52),e.NdJ("filteredReturn",function(k){e.CHM(_);const ae=e.oxw(2);return e.KtG(ae.filteredSousGaranties=k)}),e.qZA(),e.YNc(9,Ap,2,2,"mat-option",53),e.qZA()()(),e.TgZ(10,"button",22),e.NdJ("click",function(){e.CHM(_);const k=e.oxw(2);return e.KtG(k.openCreateSousGarantie())}),e.TgZ(11,"mat-icon",23),e._uU(12,"add_circle"),e.qZA(),e._uU(13," Ajouter une sous garantie "),e.qZA()()}if(2&p){const _=e.oxw(2);e.xp6(8),e.Q6J("placeholder","Filter")("displayMember","libelle")("array",_.garanties),e.xp6(1),e.Q6J("ngForOf",_.filteredSousGaranties)}}function s_(p,E){1&p&&(e.TgZ(0,"div",56),e._uU(1,"Cette sous garantie appartient d\xe9ja \xe0 ce pack "),e.qZA())}function bp(p,E){1&p&&(e.TgZ(0,"th",41),e._uU(1," id Sous garantie "),e.qZA())}function jm(p,E){if(1&p&&(e.TgZ(0,"td",42),e._uU(1),e.qZA()),2&p){const _=E.$implicit;e.xp6(1),e.hij(" ",_.id," ")}}function Hm(p,E){1&p&&(e.TgZ(0,"th",41),e._uU(1," Description "),e.qZA())}function $m(p,E){if(1&p&&(e.TgZ(0,"td",42),e._uU(1),e.qZA()),2&p){const _=E.$implicit;e.xp6(1),e.hij(" ",_.description," ")}}function Pp(p,E){1&p&&(e.TgZ(0,"th",41),e._uU(1," obligatoire "),e.qZA())}function Zp(p,E){if(1&p&&(e.TgZ(0,"td",42),e._uU(1),e.ALo(2,"obligatoireFormat"),e.qZA()),2&p){const _=E.$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,_.obligatoire)," ")}}function qp(p,E){1&p&&(e.TgZ(0,"th",41),e._uU(1," Action "),e.qZA())}function l_(p,E){if(1&p){const _=e.EpF();e.TgZ(0,"td",42)(1,"button",43)(2,"mat-icon"),e._uU(3,"more_vert"),e.qZA()(),e.TgZ(4,"mat-menu",44,45)(6,"button",46),e.NdJ("click",function(){const ae=e.CHM(_).$implicit,Ue=e.oxw(3);return e.KtG(Ue.editSousGarantiePack(ae.id,ae.description,ae.idGarantie))}),e.TgZ(7,"mat-icon"),e._uU(8,"edit"),e.qZA(),e.TgZ(9,"span"),e._uU(10,"Modifier la sous garantie"),e.qZA()(),e.TgZ(11,"button",46),e.NdJ("click",function(){const ae=e.CHM(_).$implicit,Ue=e.oxw(3);return e.KtG(Ue.deleteSousGarantie(ae.id,ae.description,"sousGarantie",ae.idGarantie))}),e.TgZ(12,"mat-icon"),e._uU(13,"delete"),e.qZA(),e.TgZ(14,"span"),e._uU(15,"Supprimer la sous garantie"),e.qZA()(),e.TgZ(16,"button",46),e.NdJ("click",function(){const ae=e.CHM(_).$implicit,Ue=e.oxw(3);return e.KtG(Ue.initTabSousGarantieCategory(ae.id))}),e.TgZ(17,"mat-icon"),e._uU(18,"format_list_bulleted"),e.qZA(),e.TgZ(19,"span"),e._uU(20,"Afficher param\xe8tre(s)"),e.qZA()()()()}if(2&p){const _=e.MAs(5);e.xp6(1),e.Q6J("matMenuTriggerFor",_)}}function Sp(p,E){1&p&&e._UZ(0,"tr",65)}function yp(p,E){1&p&&e._UZ(0,"tr",48)}function Np(p,E){if(1&p){const _=e.EpF();e.TgZ(0,"div"),e._UZ(1,"mat-divider"),e.TgZ(2,"div",20)(3,"span",21)(4,"mat-icon",3),e.NdJ("click",function(){e.CHM(_);const k=e.oxw(2);return e.KtG(k.goBack())}),e._uU(5,"arrow_circle_left"),e.qZA(),e._uU(6,"Listes des sous garanties pack "),e.qZA()(),e.TgZ(7,"table",24),e.ynx(8,57),e.YNc(9,bp,2,0,"th",26),e.YNc(10,jm,2,1,"td",27),e.BQk(),e.ynx(11,58),e.YNc(12,Hm,2,0,"th",26),e.YNc(13,$m,2,1,"td",27),e.BQk(),e.ynx(14,59),e.YNc(15,Pp,2,0,"th",26),e.YNc(16,Zp,3,3,"td",27),e.BQk(),e.ynx(17,31),e.YNc(18,qp,2,0,"th",26),e.YNc(19,l_,21,1,"td",27),e.BQk(),e.YNc(20,Sp,1,0,"tr",60),e.YNc(21,yp,1,0,"tr",33),e.qZA(),e._UZ(22,"mat-paginator",61,75),e.qZA()}if(2&p){const _=e.oxw(2);e.Q6J("@enterAnimation",void 0),e.xp6(7),e.Q6J("dataSource",_.dataSousGarantiePack),e.xp6(13),e.Q6J("matHeaderRowDef",_.displayedColumnsGarantiePack),e.xp6(1),e.Q6J("matRowDefColumns",_.displayedColumnsGarantiePack),e.xp6(1),e.Q6J("pageSize",10)("pageSizeOptions",e.DdM(6,Ku))}}function Ip(p,E){1&p&&(e.TgZ(0,"th",41),e._uU(1," Categorie de valeur "),e.qZA())}function Ep(p,E){if(1&p&&(e.TgZ(0,"td",42),e._uU(1),e.qZA()),2&p){const _=E.$implicit;e.xp6(1),e.hij(" ",_.categorieValeur.value," ")}}function Td(p,E){1&p&&(e.TgZ(0,"th",41),e._uU(1," Sous categorie de valeur "),e.qZA())}function Rp(p,E){if(1&p&&(e.TgZ(0,"td",42),e._uU(1),e.qZA()),2&p){const _=E.$implicit;e.xp6(1),e.hij(" ",_.souscategories.value," ")}}function c_(p,E){1&p&&(e.TgZ(0,"th",41),e._uU(1," Type Valeur "),e.qZA())}function Dp(p,E){if(1&p&&(e.TgZ(0,"td",42),e._uU(1),e.qZA()),2&p){const _=E.$implicit;e.xp6(1),e.hij(" ",_.typeValeur.value," ")}}function u_(p,E){1&p&&(e.TgZ(0,"th",41),e._uU(1," Valeur "),e.qZA())}function Xu(p,E){if(1&p&&(e.TgZ(0,"td",42),e._uU(1),e.qZA()),2&p){const _=E.$implicit;e.xp6(1),e.hij(" ",_.valeur," ")}}function m_(p,E){1&p&&(e.TgZ(0,"th",41),e._uU(1," Action "),e.qZA())}function wp(p,E){if(1&p){const _=e.EpF();e.TgZ(0,"td",42)(1,"button",43)(2,"mat-icon"),e._uU(3,"more_vert"),e.qZA()(),e.TgZ(4,"mat-menu",44,45)(6,"button",46),e.NdJ("click",function(){const ae=e.CHM(_).$implicit,Ue=e.oxw(3);return e.KtG(Ue.EditSousGarantieCategory(ae))}),e.TgZ(7,"mat-icon"),e._uU(8,"edit"),e.qZA(),e.TgZ(9,"span"),e._uU(10,"Modifier param\xe8tre"),e.qZA()(),e.TgZ(11,"button",46),e.NdJ("click",function(){const ae=e.CHM(_).$implicit,Ue=e.oxw(3);return e.KtG(Ue.deleteCategorySousGarantie(ae.idcaracteristique,ae.idSousGarantie))}),e.TgZ(12,"mat-icon"),e._uU(13,"delete"),e.qZA(),e.TgZ(14,"span"),e._uU(15,"Supprimer param\xe8tre"),e.qZA()()()()}if(2&p){const _=e.MAs(5);e.xp6(1),e.Q6J("matMenuTriggerFor",_)}}function Op(p,E){1&p&&e._UZ(0,"tr",47)}function kp(p,E){1&p&&e._UZ(0,"tr",48)}function Mp(p,E){if(1&p){const _=e.EpF();e.TgZ(0,"div")(1,"div",20)(2,"span",21)(3,"mat-icon",3),e.NdJ("click",function(){e.CHM(_);const k=e.oxw(2);return e.KtG(k.stepGarantieCategory=!0)})("click",function(){e.CHM(_);const k=e.oxw(2);return e.KtG(k.stepSousGarantieCategory=!0)}),e._uU(4,"arrow_circle_left"),e.qZA(),e._uU(5,"Listes des param\xe9tres sous garanties "),e.qZA(),e.TgZ(6,"button",22),e.NdJ("click",function(){e.CHM(_);const k=e.oxw(2);return e.KtG(k.addSousGarantieCategorie())}),e.TgZ(7,"mat-icon",66),e._uU(8,"add_circle"),e.qZA(),e._uU(9," Ajouter param\xe9tre(s) "),e.qZA()(),e.TgZ(10,"table",24),e.ynx(11,25),e.YNc(12,Ip,2,0,"th",26),e.YNc(13,Ep,2,1,"td",27),e.BQk(),e.ynx(14,28),e.YNc(15,Td,2,0,"th",26),e.YNc(16,Rp,2,1,"td",27),e.BQk(),e.ynx(17,29),e.YNc(18,c_,2,0,"th",26),e.YNc(19,Dp,2,1,"td",27),e.BQk(),e.ynx(20,30),e.YNc(21,u_,2,0,"th",26),e.YNc(22,Xu,2,1,"td",27),e.BQk(),e.ynx(23,31),e.YNc(24,m_,2,0,"th",26),e.YNc(25,wp,16,1,"td",27),e.BQk(),e.YNc(26,Op,1,0,"tr",32),e.YNc(27,kp,1,0,"tr",33),e.qZA(),e._UZ(28,"mat-paginator",61,76),e.qZA()}if(2&p){const _=e.oxw(2);e.Q6J("@enterAnimation",void 0),e.xp6(10),e.Q6J("dataSource",_.dataSourceSousGarantieCategory),e.xp6(16),e.Q6J("matHeaderRowDef",_.displayedColumnsSousGarantieCategory),e.xp6(1),e.Q6J("matRowDefColumns",_.displayedColumnsSousGarantieCategory),e.xp6(1),e.Q6J("pageSize",10)("pageSizeOptions",e.DdM(6,Ku))}}const Km=function(){return[5,10,50]};function Up(p,E){if(1&p){const _=e.EpF();e.TgZ(0,"mat-stepper",6,7)(2,"mat-step",8)(3,"form",9),e.YNc(4,V_,1,0,"ng-template",10),e.TgZ(5,"div",11)(6,"mat-form-field",12)(7,"mat-label"),e._uU(8,"Description"),e.qZA(),e._UZ(9,"input",13),e.YNc(10,H_,2,1,"mat-error",14),e.qZA()(),e.TgZ(11,"div",11)(12,"mat-form-field",12)(13,"mat-label"),e._uU(14,"Date D\xe9but"),e.qZA(),e._UZ(15,"input",15)(16,"mat-datepicker-toggle",16)(17,"mat-datepicker",null,17),e.YNc(19,$d,2,1,"mat-error",14),e.qZA(),e.TgZ(20,"mat-form-field",12)(21,"mat-label"),e._uU(22,"Date Fin"),e.qZA(),e._UZ(23,"input",18)(24,"mat-datepicker-toggle",16)(25,"mat-datepicker",null,19),e.YNc(27,xd,3,0,"mat-error",14),e.qZA()(),e._UZ(28,"mat-divider"),e.TgZ(29,"div",20)(30,"span",21),e._uU(31,"Listes des param\xe9tres pack "),e.qZA(),e.TgZ(32,"button",22),e.NdJ("click",function(){e.CHM(_);const k=e.oxw();return e.KtG(k.addCategorieToPack())}),e.TgZ(33,"mat-icon",23),e._uU(34,"add_circle"),e.qZA(),e._uU(35," Ajouter param\xe9tre(s) "),e.qZA()(),e.TgZ(36,"table",24),e.ynx(37,25),e.YNc(38,Kd,2,0,"th",26),e.YNc(39,K_,2,1,"td",27),e.BQk(),e.ynx(40,28),e.YNc(41,W_,2,0,"th",26),e.YNc(42,X_,2,1,"td",27),e.BQk(),e.ynx(43,29),e.YNc(44,Wd,2,0,"th",26),e.YNc(45,Xd,2,1,"td",27),e.BQk(),e.ynx(46,30),e.YNc(47,Mc,2,0,"th",26),e.YNc(48,ep,2,1,"td",27),e.BQk(),e.ynx(49,31),e.YNc(50,tp,2,0,"th",26),e.YNc(51,np,16,1,"td",27),e.BQk(),e.YNc(52,ip,1,0,"tr",32),e.YNc(53,Bl,1,0,"tr",33),e.qZA(),e._UZ(54,"mat-paginator",34),e.TgZ(55,"div")(56,"button",35),e._uU(57,"Suivant"),e.qZA()()()(),e.TgZ(58,"mat-step")(59,"form",36),e.NdJ("ngSubmit",function(){e.CHM(_);const k=e.oxw();return e.KtG(k.submitPack())}),e.YNc(60,op,1,0,"ng-template",10),e.YNc(61,t_,14,4,"div",37),e.YNc(62,n_,2,0,"div",38),e.YNc(63,_p,22,7,"div",5),e.YNc(64,bu,33,7,"div",5),e.YNc(65,Nm,5,2,"div",39),e.qZA()(),e.TgZ(66,"mat-step",8)(67,"form",9),e.YNc(68,Wu,1,0,"ng-template",10),e.YNc(69,vp,2,0,"div",38),e.YNc(70,Tp,14,4,"div",37),e.YNc(71,s_,2,0,"div",38),e.YNc(72,Np,24,7,"div",5),e.YNc(73,Mp,30,7,"div",5),e.qZA()()()}if(2&p){const _=e.MAs(18),S=e.MAs(26),k=e.oxw();e.xp6(2),e.Q6J("stepControl",k.creationPackStepOne),e.xp6(1),e.Q6J("formGroup",k.creationPackStepOne),e.xp6(7),e.Q6J("ngIf",k.creationPackStepOne.controls.description.errors),e.xp6(5),e.Q6J("matDatepicker",_)("min",k.minDate),e.xp6(1),e.Q6J("for",_),e.xp6(3),e.Q6J("ngIf",k.creationPackStepOne.controls.dateDebut.errors),e.xp6(4),e.Q6J("matDatepicker",S)("min",k.minDate),e.xp6(1),e.Q6J("for",S),e.xp6(3),e.Q6J("ngIf",k.creationPackStepOne.controls.dateFin.hasError("matDatepickerMin")),e.xp6(9),e.Q6J("dataSource",k.dataSourcePackCategory),e.xp6(16),e.Q6J("matHeaderRowDef",k.displayedColumnsPackCategory),e.xp6(1),e.Q6J("matRowDefColumns",k.displayedColumnsPackCategory),e.xp6(1),e.Q6J("pageSize",10)("pageSizeOptions",e.DdM(29,Km)),e.xp6(5),e.Q6J("formGroup",k.creationPackStepTwo),e.xp6(2),e.Q6J("ngIf",k.stepGarantieCategory),e.xp6(1),e.Q6J("ngIf",k.garantieExist&&k.stepGarantieCategory),e.xp6(1),e.Q6J("ngIf",k.stepGarantieCategory),e.xp6(1),e.Q6J("ngIf",!k.stepGarantieCategory),e.xp6(1),e.Q6J("ngIf",k.stepGarantieCategory),e.xp6(1),e.Q6J("stepControl",k.creationPackStepTwo),e.xp6(1),e.Q6J("formGroup",k.creationPackStepTwo),e.xp6(2),e.Q6J("ngIf",k.garantieWithSousGarantie&&k.stepSousGarantieCategory),e.xp6(1),e.Q6J("ngIf",k.stepSousGarantieCategory),e.xp6(1),e.Q6J("ngIf",k.sousGarantieExist&&k.stepSousGarantieCategory),e.xp6(1),e.Q6J("ngIf",k.stepSousGarantieCategory),e.xp6(1),e.Q6J("ngIf",!k.stepSousGarantieCategory)}}function y(p,E){if(1&p&&(e.TgZ(0,"div")(1,"div",77),e._uU(2),e.qZA()()),2&p){const _=e.oxw();e.xp6(2),e.hij(" le Pack ",_.descriptionPack," a \xe9t\xe9 cr\xe9\xe9 avec succ\xe8s. ")}}let u=(()=>{class p{constructor(_,S,k,ae,Ue,On,vr,xc){this.genericService=_,this.router=S,this.packService=k,this._snackBar=ae,this.sousGarantiesService=Ue,this.garantiesService=On,this.dialog=vr,this.formBuilder=xc,this.garanties=[],this.sousGaranties=[],this.durationInSeconds=5,this.garantiePack=[],this.packCategory=[],this.sousGarantiePack=[],this.sousGarantiePackTEST=[],this.garantiesTab=[],this.sousgarantiesTab=[],this.categorieValeur=[],this.sousCategorieValeur=[],this.typeValeur=[],this.dataGarantiePack=new Q.by,this.dataSousGarantiePack=new Q.by,this.displayedColumnsGarantiePack=["idGarantie","description","obligatoire","action"],this.lengthColumns=this.displayedColumnsGarantiePack.length,this.garantieExist=!1,this.sousGarantieExist=!1,this.garantiePackCategory=[],this.tabGarantieCategories=[],this.tabSousGarantieCategories=[],this.tempCategory=[],this.garantieWithSousGarantie=!1,this.packCategoryTab=[],this.dataSourcePackCategory=new Q.by,this.displayedColumnsPackCategory=["categorieValeur","souscategories","typeValeur","valeur","action"],this.lengthColumnsPackCategory=this.displayedColumnsPackCategory.length,this.displayedColumnsSousGarantieCategory=["categorieValeur","souscategories","typeValeur","valeur","action"],this.displayedColumnsGarantieCategory=["categorieValeur","souscategories","typeValeur","valeur","action"],this.dataSourceGarantieCategory=new Q.by,this.dataSourceSousGarantieCategory=new Q.by,this.lengthColumnsGarantieCategory=this.displayedColumnsGarantieCategory.length,this.stepGarantieCategory=!0,this.stepSousGarantieCategory=!0,this.LoaderSave=!1,this.idPackCaract=1,this.idGarantieCaract=1,this.idSousGarantieCaract=1,this.successCreation=!1,this.descriptionPack="",this.minDate=new Date}ngOnInit(){this.CategoryPackForm=this.formBuilder.group({VORows:this.formBuilder.array([])}),this.CategoryGarantieForm=this.formBuilder.group({VORows:this.formBuilder.array([])}),this.initFormCreationStepOne(),this.initFormCreationStepTwo(),this.initFormCreationStepThree(),this.getAllGaranties(),this.getAllCategories(),this.getTypeValeur()}initFormCreationStepOne(){this.creationPackStepOne=this.formBuilder.group({description:["",[w.kI.required]],dateDebut:["",[w.kI.required]],dateFin:[""]})}initFormCreationStepTwo(){this.creationPackStepTwo=this.formBuilder.group({garantie:[""],garantiePack:[""],sousGarantie:[""],tabPGF:[""]})}initFormCreationStepThree(){this.creationPackStepThree=this.formBuilder.group({sousGarantie:[""]})}initTabPackGarantie(_){this.dataGarantiePack=new Q.by(_),this.dataGarantiePack.paginator=this.paginatorPackGarantie}initTabPackSousGarantie(_){this.dataSousGarantiePack=new Q.by(_),this.dataSousGarantiePack.paginator=this.paginatorSousGarantiePack}initTabSousGarantieCategory(_){this.idSousGarantie=_,this.tabSousGarantieCategories=[],this.sousGarantiePack.filter(S=>{S.idSousGarantie==_&&S.categorieList.filter(k=>{this.tabSousGarantieCategories.push({typeValeur:{idParam:k.idtypevaleur,value:this.typeValeur.filter(ae=>ae.idParam==k.idtypevaleur)[0].description},categorieValeur:{idCategorie:k.idcategorie,value:this.categorieValeur.filter(ae=>ae.idCategorie==k.idcategorie)[0].description},souscategories:{idSousCategorie:k.souscategories[0].idsouscategorie,value:this.sousCategorieValeur.filter(ae=>ae.idSousCategorie==k.souscategories[0].idsouscategorie)[0].description},valeur:k.valeur,idcaracteristique:k.idcaracteristique,idSousGarantie:S.idSousGarantie})})}),this.dataSourceSousGarantieCategory=new Q.by(this.tabSousGarantieCategories),this.dataSourceSousGarantieCategory.paginator=this.paginatorSousGarantieCategory,this.stepSousGarantieCategory=!1}initGarantieCategoryTab(_){this.tabGarantieCategories=[],this.idGarantie=_,this.garantiePack.filter(S=>{S.idGarantie==_&&S.categorieList.filter(k=>{this.tabGarantieCategories.push({typeValeur:{idParam:k.idtypevaleur,value:this.typeValeur.filter(ae=>ae.idParam==k.idtypevaleur)[0].description},categorieValeur:{idCategorie:k.idcategorie,value:this.categorieValeur.filter(ae=>ae.idCategorie==k.idcategorie)[0].description},souscategories:{idSousCategorie:k.souscategories[0].idsouscategorie,value:this.sousCategorieValeur.filter(ae=>ae.idSousCategorie==k.souscategories[0].idsouscategorie)[0].description},valeur:k.valeur,idcaracteristique:k.idcaracteristique,idGarantie:S.idGarantie})})}),this.dataSourceGarantieCategory=new Q.by(this.tabGarantieCategories),this.dataSourceGarantieCategory.paginator=this.paginatorGarantieCategory,this.stepGarantieCategory=!1}initategoryPackTab(){this.dataSourcePackCategory=new Q.by(this.packCategoryTab),this.dataSourcePackCategory.paginator=this.paginator}submitPack(){this.LoaderSave=!0,this.creationPackStepOne.valid&&(this.creationPackStepOne.get("dateDebut").setValue(o(this.creationPackStepOne.get("dateDebut").value).format("YYYY-MM-DD")),this.descriptionPack=this.creationPackStepOne.get("description").value,this.bigPack={description:this.creationPackStepOne.get("description").value,dateDebut:this.creationPackStepOne.get("dateDebut").value,dateFin:this.creationPackStepOne.get("dateFin").value,categorieList:this.packCategory,garantie:this.garantiePack},this.packService.addPack(this.bigPack).subscribe({next:_=>{"succes"==_&&(this.successCreation=!0,this.LoaderSave=!1)},error:_=>{this.LoaderSave=!1,console.log(_)}}))}openCreateGarantie(){this.dialog.open(He,{width:"60%"}).afterClosed().subscribe(S=>{this.getAllGaranties()})}openCreateSousGarantie(){this.dialog.open(ru,{width:"60%",data:{idGarantie:this.idGarantie}}).afterClosed().subscribe(S=>{this.getSousGarantieByGarantie(this.idGarantie)})}addGarantiePack(_){this.garantieExist=!1,this.garantiesTab.filter(S=>{_.id==S.id&&(this.garantieExist=!0,setTimeout(()=>{this.garantieExist=!1},1e4))}),this.garantieExist||this.dialog.open(va,{width:"40%",data:{type:"garantie",id:_.id,description:_.libelle}}).afterClosed().subscribe(k=>{null!=k.data&&(this.garantiesTab.push(k.data),this.garantiePack.push({idGarantie:k.data.id,obligatoire:k.data.obligatoire,dateDebut:null,dateFin:null,categorieList:[],sousGarantieList:[]}),this.initTabPackGarantie(this.garantiesTab))})}editGarantiePack(_,S){this.dialog.open(va,{width:"60%",data:{type:"garantie",id:_,description:S}}).afterClosed().subscribe(ae=>{null!=ae.data&&(this.garantiesTab[this.garantiesTab.findIndex(Ue=>Ue.id===_)]={id:ae.data.id,description:ae.data.description,obligatoire:ae.data.obligatoire},this.garantiePack[this.garantiePack.findIndex(Ue=>Ue.idGarantie===_)]={idGarantie:ae.data.id,obligatoire:ae.data.obligatoire,dateDebut:null,dateFin:null,categorieList:[],sousGarantieList:[]},this.initTabPackGarantie(this.garantiesTab))})}editSousGarantiePack(_,S,k){this.dialog.open(va,{width:"60%",data:{type:"garantie",id:_,description:S}}).afterClosed().subscribe(Ue=>{null!=Ue.data&&(this.sousgarantiesTab[this.sousgarantiesTab.findIndex(On=>On.id===_)].obligatoire=Ue.data.obligatoire,this.sousGarantiePack[this.sousGarantiePack.findIndex(On=>On.idSousGarantie===_)].obligatoire=Ue.data.obligatoire,this.garantiePack[this.garantiePack.findIndex(On=>On.idGarantie==k)].sousGarantieList.obligatoire=Ue.data.obligatoire,this.initTabPackSousGarantie(this.sousgarantiesTab))})}deleteGarantie(_,S,k){this.dialog.open(fc,{width:"30%",data:{desc:S,categoryOf:k}}).afterClosed().subscribe(Ue=>{Ue&&("garantie"==k?(this.garantiesTab.splice(this.garantiesTab.findIndex(On=>On.id===_),1),this.garantiePack.splice(this.garantiePack.findIndex(On=>On.idGarantie===_),1),this.initTabPackGarantie(this.garantiesTab)):(this.sousgarantiesTab.splice(this.sousgarantiesTab.findIndex(On=>On.id===_),1),this.sousGarantiePack.splice(this.sousGarantiePack.findIndex(On=>On.idSousGarantie===_),1),this.initTabPackSousGarantie(this.sousgarantiesTab)))})}deleteSousGarantie(_,S,k,ae){this.dialog.open(fc,{width:"30%",data:{desc:S,categoryOf:k}}).afterClosed().subscribe(On=>{if(On){this.sousgarantiesTab.splice(this.sousgarantiesTab.findIndex(Nd=>Nd.id===_),1),this.sousGarantiePack.splice(this.sousGarantiePack.findIndex(Nd=>Nd.idSousGarantie===_),1);let vr=this.garantiePack.findIndex(Nd=>Nd.idGarantie===ae),im=this.garantiePack[vr].sousGarantieList.findIndex(Nd=>Nd.idSousGarantie===_);this.garantiePack[vr].sousGarantieList.splice(im,1),this.initTabPackSousGarantie(this.sousgarantiesTab)}})}addSousGarantiePack(_){this.sousGarantieExist=!1,this.sousgarantiesTab.filter(S=>{_.id==S.id&&(this.sousGarantieExist=!0,setTimeout(()=>{this.sousGarantieExist=!1},1e4))}),this.sousGarantieExist||this.dialog.open(va,{width:"30%",data:{type:"sousGarantie",id:_.id,description:_.libelle}}).afterClosed().subscribe(k=>{if(null!=k.data){Object.assign(k.data,{idGarantie:_.idGarantie}),this.sousgarantiesTab.push(k.data);let ae={idSousGarantie:k.data.id,idGarantie:k.data.idGarantie,obligatoire:k.data.obligatoire,dateDebut:null,dateFin:null,categorieList:[]};this.sousGarantiePack.push(ae),this.addSousGarantieToGarantie(ae),this.initTabPackSousGarantie(this.sousgarantiesTab.filter(Ue=>Ue.idGarantie==_.idGarantie))}})}addCategorieToGarantie(){this.dialog.open(Nl,{width:"60%",data:{categoryOf:"garantie",type:"ajout",idGarantie:this.idGarantie}}).afterClosed().subscribe(S=>{null!=S.data&&S.data.filter(k=>{this.sousCategorieValeur.push(k.souscategories),this.garantiePack.filter(ae=>{ae.idGarantie==this.idGarantie&&ae.categorieList.push({idcaracteristique:ae.categorieList.length+1,idtypevaleur:k.typeValeur.idParam,idcategorie:k.categorieValeur.idCategorie,souscategories:[{idsouscategorie:k.souscategories.idSousCategorie,idtypevaleur:k.typeValeur.idParam,valeur:k.valeur}],valeur:k.valeur,dateDebut:null,dateFin:null})}),this.initGarantieCategoryTab(this.idGarantie)})})}addCategorieToPack(){this.dialog.open(Nl,{width:"60%",data:{categoryOf:"pack",type:"ajout",idGarantie:null}}).afterClosed().subscribe(S=>{null!=S.data&&S.data.filter(k=>{Object.assign(k,{idcaracteristique:this.idPackCaract}),this.packCategoryTab.push(k),this.initategoryPackTab(),this.packCategory.push({idcaracteristique:this.idPackCaract,idtypevaleur:k.typeValeur.idParam,idcategorie:k.categorieValeur.idCategorie,souscategories:[{idsouscategorie:k.souscategories.idSousCategorie,idtypevaleur:k.typeValeur.idParam,valeur:k.valeur}],valeur:k.valeur,dateDebut:null,dateFin:null}),this.idPackCaract++})})}addSousGarantieCategorie(){this.dialog.open(Nl,{width:"60%",data:{categoryOf:"sousGarantie",type:"ajout",idGarantie:this.idSousGarantie}}).afterClosed().subscribe(S=>{null!=S.data&&(S.data.filter(ae=>{this.sousCategorieValeur.push(ae.souscategories),this.sousGarantiePack.filter(Ue=>{Ue.idSousGarantie==this.idSousGarantie&&Ue.categorieList.push({idcaracteristique:Ue.categorieList.length+1,idtypevaleur:ae.typeValeur.idParam,idcategorie:ae.categorieValeur.idCategorie,souscategories:[{idsouscategorie:ae.souscategories.idSousCategorie,idtypevaleur:ae.typeValeur.idParam,valeur:ae.valeur}],valeur:ae.valeur,dateDebut:null,dateFin:null})})}),this.initTabSousGarantieCategory(this.idSousGarantie))})}addSousGarantieToGarantie(_){this.garantiePack.filter(S=>{S.idGarantie==_.idGarantie&&S.sousGarantieList.push(_)})}getAllGaranties(){this.garanties=[],this.garantiesService.getAllGaranties().subscribe({next:_=>{_.filter(S=>{this.garanties.push({id:S.idGarantie,libelle:S.description})}),this.filteredGaranties=this.garanties.slice()},error:_=>{console.log(_)}}),this.filteredGaranties=this.garanties.slice()}getAllCategories(){this.packService.getAllCategory().subscribe({next:_=>{this.categorieValeur=_},error:_=>{console.log(_)}})}getAllSousCategories(_){this.packService.getSousCategory(_).subscribe({next:S=>{this.sousCategorieValeur=S},error:S=>{console.log(S)}})}getTypeValeur(){this.genericService.getParam(JSON.parse(sessionStorage.getItem("dictionnaire")||"{}").find(_=>"C17"==_.code).idCategorie).subscribe({next:_=>{this.typeValeur=_},error:_=>{console.log(_)}})}getSousGarantieByGarantie(_){this.idGarantie=_,this.sousGaranties=[],this.sousGarantiesService.getSousGarantiesByGarantie(_).subscribe({next:S=>{0==S.length?this.garantieWithSousGarantie=!0:(this.garantieWithSousGarantie=!1,S.filter(k=>{this.sousGaranties.push({id:k.idSousGarantie,idGarantie:_,libelle:k.description})}),this.filteredSousGaranties=this.sousGaranties.slice())},error:S=>{console.log(S)}}),this.filteredSousGaranties=this.sousGaranties.slice()}openCreateCategoryDialog(){this.dialog.open(Nl,{width:"60%",data:{categoryOf:"pack",idGarantie:0}}).afterClosed().subscribe(S=>{null!=S.data&&(this.packCategoryTab.push(S.data),this.dataSourcePackCategory=new Q.by(this.packCategoryTab))})}goToSousGarantie(_){this.stepSousGarantieCategory=!0,this.initTabPackSousGarantie(this.sousgarantiesTab.filter(S=>S.idGarantie==_)),this.stepper.next(),this.idGarantie=_,this.sousGaranties=[],this.getSousGarantieByGarantie(_)}EditPackCategory(_){this.dialog.open(zs,{width:"60%",data:{category:_,type:"create"}}).afterClosed().subscribe(k=>{null!=k.data&&k.data.filter(ae=>{this.packCategoryTab[this.packCategoryTab.findIndex(Ue=>Ue.idcaracteristique===ae.idcaracteristique)]=ae,this.packCategory[this.packCategory.findIndex(Ue=>Ue.idcaracteristique===ae.idcaracteristique)]={idcaracteristique:ae.idcaracteristique,idtypevaleur:ae.typeValeur.idParam,idcategorie:ae.categorieValeur.idCategorie,souscategories:[{idsouscategorie:ae.souscategories.idSousCategorie,idtypevaleur:ae.typeValeur.idParam,valeur:ae.valeur}],dateDebut:null,dateFin:null,valeur:ae.valeur},this.initategoryPackTab()})})}EditGarantieCategory(_){this.dialog.open(zs,{width:"60%",data:{category:_,type:"create"}}).afterClosed().subscribe(k=>{null!=k.data&&(k.data.filter(ae=>{this.sousCategorieValeur.push(ae.souscategories),this.garantiePack.filter(Ue=>{if(Ue.idGarantie==_.idGarantie){let On=Ue.categorieList.findIndex(vr=>vr.idcaracteristique===ae.idcaracteristique);Ue.categorieList[On]={idcaracteristique:ae.idcaracteristique,idtypevaleur:ae.typeValeur.idParam,idcategorie:ae.categorieValeur.idCategorie,souscategories:[{idsouscategorie:ae.souscategories.idSousCategorie,idtypevaleur:ae.typeValeur.idParam,valeur:ae.valeur}],valeur:ae.valeur,dateDebut:null,dateFin:null}}})}),this.initGarantieCategoryTab(_.idGarantie))})}EditSousGarantieCategory(_){this.dialog.open(zs,{width:"60%",data:{category:_,type:"create"}}).afterClosed().subscribe(k=>{null!=k.data&&k.data.filter(ae=>{this.sousCategorieValeur.push(ae.souscategories),this.sousGarantiePack.filter(Ue=>{if(Ue.idSousGarantie==_.idSousGarantie){let On=Ue.categorieList.findIndex(vr=>vr.idcaracteristique===_.idcaracteristique);Ue.categorieList[On]={idcaracteristique:ae.idcaracteristique,idtypevaleur:ae.typeValeur.idParam,idcategorie:ae.categorieValeur.idCategorie,souscategories:[{idsouscategorie:ae.souscategories.idSousCategorie,idtypevaleur:ae.typeValeur.idParam,valeur:ae.valeur}],valeur:ae.valeur,dateDebut:null,dateFin:null}}}),this.initTabSousGarantieCategory(_.idSousGarantie)})})}deletePackCategory(_){this.dialog.open(fc,{width:"30%",data:{categoryOf:"categoryPack",type:"post"}}).afterClosed().subscribe(k=>{if(k){let ae=this.packCategory.findIndex(Ue=>Ue.idcaracteristique===_);for(this.packCategory.splice(ae,1);ae<this.packCategory.length;)this.packCategory[ae].idcaracteristique--,ae++;for(ae=this.packCategoryTab.findIndex(Ue=>Ue.idcaracteristique===_),this.packCategoryTab.splice(ae,1);ae<this.packCategoryTab.length;)this.packCategoryTab[ae].idcaracteristique--,ae++;this.initategoryPackTab()}})}deleteCategoryGarantie(_,S){this.dialog.open(fc,{width:"30%",data:{categoryOf:"categoryGarantie",type:"post"}}).afterClosed().subscribe(ae=>{if(ae){let Ue;this.garantiePack.filter(On=>{for(Ue=On.categorieList.findIndex(vr=>vr.idcaracteristique===_),On.categorieList.splice(Ue,1);Ue<On.categorieList.length;)On.categorieList[Ue].idcaracteristique--,Ue++}),this.initGarantieCategoryTab(S)}})}deleteCategorySousGarantie(_,S){this.dialog.open(fc,{width:"30%",data:{categoryOf:"categoryGarantie",type:"post"}}).afterClosed().subscribe(ae=>{if(ae){let Ue;this.sousGarantiePack.filter(On=>{for(Ue=On.categorieList.findIndex(vr=>vr.idcaracteristique===_),On.categorieList.splice(Ue,1);Ue<On.categorieList.length;)On.categorieList[Ue].idcaracteristique--,Ue++}),this.initTabSousGarantieCategory(S)}})}goBack(){this.stepper.previous()}navigateToListPack(){this.router.navigate(["gestion-referentiels/gestion-pack"])}set paginatorGarantie(_){this.dataSousGarantiePack&&(this.dataSousGarantiePack.paginator=_)}}return p.\u0275fac=function(_){return new(_||p)(e.Y36(_o.M),e.Y36(ee.F0),e.Y36(nc.F),e.Y36(Il.ux),e.Y36(Cl),e.Y36(Ni),e.Y36(xe.uw),e.Y36(w.qu))},p.\u0275cmp=e.Xpm({type:p,selectors:[["app-creation-pack"]],viewQuery:function(_,S){if(1&_&&(e.Gf(Y_,5),e.Gf(ls,5),e.Gf(Le.NW,5),e.Gf(G_,5),e.Gf(B_,5),e.Gf(z_,5),e.Gf(Cd,5),e.Gf(Le.NW,5)),2&_){let k;e.iGM(k=e.CRH())&&(S.stepper=k.first),e.iGM(k=e.CRH())&&(S.childC=k.first),e.iGM(k=e.CRH())&&(S.paginator=k.first),e.iGM(k=e.CRH())&&(S.paginatorPackGarantie=k.first),e.iGM(k=e.CRH())&&(S.paginatorGarantieCategory=k.first),e.iGM(k=e.CRH())&&(S.paginatorSousGarantiePack=k.first),e.iGM(k=e.CRH())&&(S.paginatorSousGarantieCategory=k.first),e.iGM(k=e.CRH())&&(S.paginatorGarantie=k.first)}},decls:8,vars:2,consts:[[1,"container"],[1,"card"],[1,"heading"],["aria-hidden","false","matTooltip","Retour","matTooltipPosition","left",1,"material-symbols-outlined",3,"click"],["labelPosition","bottom","linear","",4,"ngIf"],[4,"ngIf"],["labelPosition","bottom","linear",""],["stepper",""],[3,"stepControl"],[3,"formGroup"],["matStepLabel",""],[1,"row"],["appearance","outline",1,"col-md-5"],["type","text","matInput","","placeholder","","formControlName","description"],["class","invalid-feedback",4,"ngIf"],["matInput","","formControlName","dateDebut",3,"matDatepicker","min"],["matSuffix","",3,"for"],["dateDebut",""],["matInput","","formControlName","dateFin",3,"matDatepicker","min"],["dateFin",""],[1,"header"],[1,"title-table"],["type","button",1,"btn","btn-secondary",2,"display","flex","align-items","center",3,"click"],["aria-hidden","false","aria-label","ajouter\n                                pack ",1,"material-symbols-outlined"],["mat-table","",1,"table",3,"dataSource"],["matColumnDef","categorieValeur"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","souscategories"],["matColumnDef","typeValeur"],["matColumnDef","valeur"],["matColumnDef","action"],["mat-header-row","","class","second-header-row",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["aria-label","",3,"pageSize","pageSizeOptions"],["matStepperNext","",1,"btn","btn-action"],[3,"formGroup","ngSubmit"],["class","form-group",4,"ngIf"],["class","alert alert-danger",4,"ngIf"],["style","display:flex;justify-content: space-between;",4,"ngIf"],[1,"invalid-feedback"],["mat-header-cell",""],["mat-cell",""],["mat-icon-button","","type","button","aria-label","menu garantie list",3,"matMenuTriggerFor"],["xPosition","after",1,"menu-garanties"],["menu","matMenu"],["mat-menu-item","","type","button",3,"click"],["mat-header-row","",1,"second-header-row"],["mat-row",""],[1,"form-group"],[1,"add-sous-garantie","col-md-8"],["formControlName","garantie",3,"selectionChange"],[3,"placeholder","displayMember","array","filteredReturn"],[3,"value",4,"ngFor","ngForOf"],["aria-hidden","false","aria-label","ajouter\n                                pack ",1,"material-symbols-outlined",2,"margin-right","10px"],[3,"value"],[1,"alert","alert-danger"],["matColumnDef","idGarantie"],["matColumnDef","description"],["matColumnDef","obligatoire"],["mat-header-row","","class","example-second-header-row",4,"matHeaderRowDef"],["aria-label","Select page of users",3,"pageSize","pageSizeOptions"],["paginatorPackGarantie","matPaginator"],["mat-menu-item","","type","button","matStepperNext","",3,"click"],["type","button","mat-menu-item","",3,"click"],["mat-header-row","",1,"example-second-header-row"],["aria-hidden","false","aria-label","ajouter\n                                    pack ",1,"material-symbols-outlined"],["paginatorGarantieCategory","matPaginator"],[2,"display","flex","justify-content","space-between"],["matStepperPrevious","",1,"btn","btn-cancel"],["class","btn btn-action","type","submit",4,"ngIf"],["color","white","diameter","30",4,"ngIf"],["type","submit",1,"btn","btn-action"],["color","white","diameter","30"],["formControlName","sousGarantie",3,"selectionChange"],["paginatorSousGarantiePack","matPaginator"],["paginatorSousGarantieCategory","matPaginator"],[1,"alert","alert-success"]],template:function(_,S){1&_&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h2",2)(3,"mat-icon",3),e.NdJ("click",function(){return S.navigateToListPack()}),e._uU(4,"arrow_circle_left"),e.qZA(),e._uU(5," Creation de pack "),e.qZA(),e.YNc(6,Up,74,30,"mat-stepper",4),e.YNc(7,y,3,1,"div",5),e.qZA()()),2&_&&(e.xp6(6),e.Q6J("ngIf",!S.successCreation),e.xp6(1),e.Q6J("ngIf",S.successCreation))},dependencies:[Se.sg,Se.O5,O.d,Mn.Hw,Nn.VK,Nn.OP,Nn.p6,w._Y,w.Fj,w.JJ,w.JL,w.sg,w.u,J.TO,J.KE,J.hX,J.R9,he.Nt,Q.BZ,Q.fO,Q.as,Q.w1,Q.Dz,Q.nj,Q.ge,Q.ev,Q.XQ,Q.Gk,oo.gM,Le.NW,Ze.Mq,Ze.hl,Ze.nW,l.gD,t.ey,vn.lW,er.C0,er.VY,er.Vq,er.Ic,er.fd,Xc.Ou,gd.Fq,hd],styles:[".container[_ngcontent-%COMP%]{height:100%;overflow-y:auto}.card[_ngcontent-%COMP%]{background-color:#fff;box-shadow:0 .5rem 1rem #00000026;padding:2rem}h2.heading[_ngcontent-%COMP%]{color:#00008f;font-weight:700!important;letter-spacing:.5px}  .mat-step-header:hover:not([aria-disabled]),   .mat-step-header.cdk-keyboard-focused,   .mat-step-header.cdk-program-focused{background-color:transparent!important}  .mat-step-header:hover:not([aria-disabled]) .mat-step-icon,   .mat-step-header.cdk-keyboard-focused .mat-step-icon,   .mat-step-header.cdk-program-focused .mat-step-icon{background-color:#d14723}.btn.btn-action[_ngcontent-%COMP%]{float:right}.form-group[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}.addGarantieIcon[_ngcontent-%COMP%]{font-size:40px;margin-left:59px;margin-top:10px}.addGarantieIcon[_ngcontent-%COMP%]:hover{color:#00008f;cursor:pointer}  .mat-checkbox .mat-checkbox-inner-container{margin-left:8px;margin-right:0;order:1}.mat-checkbox[_ngcontent-%COMP%]{font-size:15px;padding:10px}.header-tab[_ngcontent-%COMP%]{display:flex;align-items:center}.header-tab[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{margin-right:10px;float:right}.example-first-header-row[_ngcontent-%COMP%]{background-color:#00008f}.example-first-header-row[_ngcontent-%COMP%]   th.mat-header-cell[_ngcontent-%COMP%]{border:none;color:#fff;font-size:18px}.searchInput[_ngcontent-%COMP%]{height:50px!important;padding:10px!important}  .mat-select-panel-wrap .mat-select-panel{overflow-x:hidden}table.table[_ngcontent-%COMP%]{width:100%;margin-top:2rem}.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:16px}.mat-row[_ngcontent-%COMP%]:nth-child(even), .mat-header-row[_ngcontent-%COMP%]{background-color:#f7f7f9}.mat-header-row[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{color:#00008f}.title-table[_ngcontent-%COMP%]{margin-bottom:0rem;font-weight:600!important;font-size:19px!important;color:#00008f!important;display:flex;align-items:center}.header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:0px 2rem}.header[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{height:-moz-fit-content;height:fit-content;font-size:29px;margin-right:1rem;width:-moz-fit-content;width:fit-content}.mat-divider[_ngcontent-%COMP%]{margin-bottom:1rem;margin-top:2rem}.mat-paginator[_ngcontent-%COMP%]{background-color:transparent;margin:20px auto auto;width:80%}.mat-header-cell[_ngcontent-%COMP%]{color:#333;font-weight:600;letter-spacing:.5px;font-size:15px;width:165px}.first-header-row[_ngcontent-%COMP%]{background-color:#00008f}.first-header-row[_ngcontent-%COMP%]   th.mat-header-cell[_ngcontent-%COMP%]{border:none;color:#fff;font-size:18px}.mat-cell[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{height:100%;font-size:36px;width:-moz-fit-content;width:fit-content;color:#00008f}.mat-header-cell.mat-icon[_ngcontent-%COMP%]{color:#fff}.mat-cell[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]:hover, .mat-header-cell[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]:hover{color:#d14723;cursor:pointer}  .mat-tooltip{font-size:14px}.mat-menu-item[_ngcontent-%COMP%]{font-size:16px}.mat-menu-item[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{height:-moz-fit-content;height:fit-content}.mat-menu-item[_ngcontent-%COMP%]:hover:not([disabled]){color:#00008f}.mat-menu-item[_ngcontent-%COMP%]:hover:not([disabled])   .mat-icon[_ngcontent-%COMP%]{color:#00008f}.categoryTabForm[_ngcontent-%COMP%]   .mat-select[_ngcontent-%COMP%]{width:70%}  .mat-form-field-underline:read-only{display:none}  .mat-select-disabled .mat-select-value{color:inherit}  .disabled-select .mat-select-arrow{visibility:hidden}.add-sous-garantie[_ngcontent-%COMP%]{display:flex;align-items:center}.add-sous-garantie[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:17px;margin-right:1rem;margin-bottom:1rem}  .mat-horizontal-stepper-header{pointer-events:none!important}.heading[_ngcontent-%COMP%]{display:flex;align-items:center}.heading[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{margin-right:1rem}"],data:{animation:[(0,go.X$)("enterAnimation",[(0,go.eR)(":enter",[(0,go.oB)({opacity:0,transform:"translateX(-100%)"}),(0,go.jt)(400)])])]}}),p})(),M=(()=>{class p{constructor(_){this.http=_}getAllQuestionnaires(){const _={headers:new i.WM({"Content-Type":"application/json","Access-Control-Allow-Origin":"*"})};return this.http.get(`${n.g.API_ENDPOINT_Questionnaires}`,_).pipe((0,Oo.b)(S=>this.logs(S)),(0,Bo.K)(S=>(0,da._)(S.error)))}addQuestionnaire(_){const S={headers:new i.WM({"Content-Type":"application/json","Access-Control-Allow-Origin":"*"})};return this.http.post(`${n.g.API_ENDPOINT_Questionnaires}/complet`,_,S).pipe((0,Oo.b)(k=>this.logs(k)),(0,Bo.K)(k=>(0,da._)(k.error)))}getQuestionnaireById(_){return this.http.get(`${n.g.API_ENDPOINT_Questionnaires}/${_}`).pipe((0,Oo.b)(S=>this.logs(S)),(0,Bo.K)(S=>(0,da._)(S.error)))}updateQuestionnaire(_,S){const k={headers:new i.WM({"Content-Type":"application/json"})};return this.http.put(`${n.g.API_ENDPOINT_Questionnaires}/${_}`,S,k).pipe((0,Oo.b)(ae=>this.logs(ae)),(0,Bo.K)(ae=>(0,da._)(ae.error)))}logs(_){}handleEroor(_,S){return(0,Yl.of)(S)}}return p.\u0275fac=function(_){return new(_||p)(e.LFG(i.eN))},p.\u0275prov=e.Yz7({token:p,factory:p.\u0275fac,providedIn:"root"}),p})();function W(p,E){if(1&p&&(e.TgZ(0,"div",7),e._uU(1),e.qZA()),2&p){const _=e.oxw();e.xp6(1),e.hij("Le questionnaire N\xb0",_.idQuestionnaire," a \xe9t\xe9 modifier avec succ\xe9s")}}function ie(p,E){if(1&p&&(e.TgZ(0,"div",8),e._uU(1),e.qZA()),2&p){const _=e.oxw();e.xp6(1),e.hij(" ",_.messageError," ")}}function ve(p,E){1&p&&(e.TgZ(0,"div"),e._uU(1," ce champs est obligatoire"),e.qZA())}function Re(p,E){if(1&p&&(e.TgZ(0,"mat-error",23),e.YNc(1,ve,2,0,"div",24),e.qZA()),2&p){const _=e.oxw(2);e.xp6(1),e.Q6J("ngIf",_.formEditQuestionnaire.controls.description.errors.required)}}function Oe(p,E){1&p&&(e.TgZ(0,"div"),e._uU(1," ce champs est obligatoire"),e.qZA())}function ke(p,E){if(1&p&&(e.TgZ(0,"mat-error",23),e.YNc(1,Oe,2,0,"div",24),e.qZA()),2&p){const _=e.oxw(2);e.xp6(1),e.Q6J("ngIf",_.formEditQuestionnaire.controls.dateDebut.errors.required)}}function Qe(p,E){if(1&p){const _=e.EpF();e.TgZ(0,"form",9,10),e.NdJ("ngSubmit",function(){e.CHM(_);const k=e.MAs(1),ae=e.oxw();return e.KtG(ae.submitEditQuestionnaire(k))}),e.TgZ(2,"mat-form-field",11)(3,"mat-label"),e._uU(4,"Description"),e.qZA(),e._UZ(5,"input",12),e.YNc(6,Re,2,1,"mat-error",13),e.qZA(),e.TgZ(7,"mat-form-field",14)(8,"mat-label"),e._uU(9,"Date debut"),e.qZA(),e._UZ(10,"input",15)(11,"mat-datepicker-toggle",16)(12,"mat-datepicker",null,17),e.YNc(14,ke,2,1,"mat-error",13),e.qZA(),e.TgZ(15,"mat-form-field",18)(16,"mat-label"),e._uU(17,"Date fin"),e.qZA(),e._UZ(18,"input",19)(19,"mat-datepicker-toggle",16)(20,"mat-datepicker",null,20),e.qZA(),e.TgZ(22,"button",21),e._uU(23,"Envoyer"),e.qZA(),e.TgZ(24,"button",22),e._uU(25,"Annuler"),e.qZA()()}if(2&p){const _=e.MAs(13),S=e.MAs(21),k=e.oxw();e.Q6J("formGroup",k.formEditQuestionnaire),e.xp6(6),e.Q6J("ngIf",k.formEditQuestionnaire.controls.description.errors),e.xp6(4),e.Q6J("matDatepicker",_),e.xp6(1),e.Q6J("for",_),e.xp6(3),e.Q6J("ngIf",k.formEditQuestionnaire.controls.dateDebut.errors),e.xp6(4),e.Q6J("min",k.minDate)("matDatepicker",S),e.xp6(1),e.Q6J("for",S)}}let Bt=(()=>{class p{constructor(_,S,k,ae,Ue){this.dialogRef=_,this.data=S,this.formBuilderAuth=k,this.questionnairesService=ae,this.router=Ue,this.questionnaireEditSuccess=!1,this.minDate=null,this.questionnaireEditError=!1}ngOnInit(){this.getQuestionnaireById(this.data.idQuestionnaire)}getQuestionnaireById(_){this.questionnairesService.getQuestionnaireById(_).subscribe(S=>{this.iniEdittQuestionnaire(S)})}iniEdittQuestionnaire(_){this.debutDateChange(_.dateDebut),this.formEditQuestionnaire=this.formBuilderAuth.group({idQuestionnaire:[_.idQuestionnaire],description:[_.description,[w.kI.required]],dateDebut:[_.dateDebut,[w.kI.required]],dateFin:[_.dateFin],auditUser:[_.auditUser]})}submitEditQuestionnaire(_){this.formEditQuestionnaire.valid&&(this.formEditQuestionnaire.get("dateDebut").setValue(o(this.formEditQuestionnaire.get("dateDebut").value).format("YYYY-MM-DD")),this.questionnairesService.updateQuestionnaire(this.data.idQuestionnaire,this.formEditQuestionnaire.value).subscribe(S=>{this.questionnaireEditSuccess=!0,this.questionnaireEditError=!1,this.idQuestionnaire=S.idQuestionnaire,this.dialogRef.close()},S=>{this.questionnaireEditError=!0,this.questionnaireEditSuccess=!1,this.messageError=S.ErreurMessage?S.ErreurMessage:S.message}))}debutDateChange(_){this.minDate=_}}return p.\u0275fac=function(_){return new(_||p)(e.Y36(xe.so),e.Y36(xe.WI),e.Y36(w.qu),e.Y36(M),e.Y36(ee.F0))},p.\u0275cmp=e.Xpm({type:p,selectors:[["app-edit-questionnaires-dialog"]],decls:10,vars:3,consts:[[1,"heading"],[2,"float","right","font-size","24px"],["aria-hidden","false","aria-label","","matTooltip","","matTooltipPosition","right","mat-dialog-close","",1,"material-symbols-outlined"],["class","alert alert-success",4,"ngIf"],["class","alert alert-danger",4,"ngIf"],[1,"mat-typography"],["class","login-form",3,"formGroup","ngSubmit",4,"ngIf"],[1,"alert","alert-success"],[1,"alert","alert-danger"],[1,"login-form",3,"formGroup","ngSubmit"],["formDirective","ngForm"],["appearance","outline",1,"col-md-12"],["type","text","matInput","","placeholder","","formControlName","description"],["class","invalid-feedback",4,"ngIf"],["appearance","outline",1,"col-md-6",2,"padding-right","3%"],["matInput","","formControlName","dateDebut",3,"matDatepicker"],["matSuffix","",3,"for"],["picker",""],["appearance","outline",1,"col-md-6",2,"padding-left","3%"],["matInput","","formControlName","dateFin",3,"min","matDatepicker"],["picker2",""],["type","submit",1,"btn","btn-action"],["mat-raised-button","","mat-dialog-close","",1,"btn","btn-cancel"],[1,"invalid-feedback"],[4,"ngIf"]],template:function(_,S){1&_&&(e.TgZ(0,"h2",0),e._uU(1,"Modifier un questionnaire "),e.TgZ(2,"span",1)(3,"mat-icon",2),e._uU(4," close "),e.qZA()()(),e._UZ(5,"mat-divider"),e.YNc(6,W,2,1,"div",3),e.YNc(7,ie,2,1,"div",4),e.TgZ(8,"mat-dialog-content",5),e.YNc(9,Qe,26,8,"form",6),e.qZA()),2&_&&(e.xp6(6),e.Q6J("ngIf",S.questionnaireEditSuccess),e.xp6(1),e.Q6J("ngIf",S.questionnaireEditError),e.xp6(2),e.Q6J("ngIf",S.formEditQuestionnaire))},dependencies:[Se.O5,O.d,Mn.Hw,w._Y,w.Fj,w.JJ,w.JL,w.sg,w.u,J.TO,J.KE,J.hX,J.R9,he.Nt,oo.gM,xe.ZT,xe.xY,Ze.Mq,Ze.hl,Ze.nW,vn.lW],styles:["button.btn.btn-action[_ngcontent-%COMP%]{float:right}h2.heading[_ngcontent-%COMP%]{color:#00008f;font-weight:700!important;letter-spacing:.5px}.mat-dialog-content[_ngcontent-%COMP%]{padding-top:15px}.mat-radio-button[_ngcontent-%COMP%]{margin:0 12px}"]}),p})();function Yt(p,E){1&p&&(e.TgZ(0,"th",18),e._uU(1," ID "),e.qZA())}function dn(p,E){if(1&p&&(e.TgZ(0,"td",19),e._uU(1),e.qZA()),2&p){const _=E.$implicit;e.xp6(1),e.hij(" ",_.idQuestionnaire," ")}}function Ut(p,E){1&p&&(e.TgZ(0,"th",20),e._uU(1," Description "),e.qZA())}function gn(p,E){if(1&p&&(e.TgZ(0,"td",21),e._uU(1),e.qZA()),2&p){const _=E.$implicit;e.xp6(1),e.hij(" ",_.description," ")}}function Fn(p,E){1&p&&(e.TgZ(0,"th",18),e._uU(1," Date debut "),e.qZA())}function Pi(p,E){if(1&p&&(e.TgZ(0,"td",19),e._uU(1),e.ALo(2,"date"),e.qZA()),2&p){const _=E.$implicit;e.xp6(1),e.hij(" ",e.xi3(2,1,_.dateDebut,"dd/MM/yyyy")," ")}}function ki(p,E){1&p&&(e.TgZ(0,"th",18),e._uU(1," Date fin "),e.qZA())}function ta(p,E){if(1&p&&(e.TgZ(0,"td",19),e._uU(1),e.ALo(2,"date"),e.qZA()),2&p){const _=E.$implicit;e.xp6(1),e.hij(" ",e.xi3(2,1,_.dateFin,"dd/MM/yyyy")," ")}}function zl(p,E){1&p&&(e.TgZ(0,"th",18),e._uU(1," Action "),e.qZA())}function na(p,E){if(1&p){const _=e.EpF();e.TgZ(0,"td",19)(1,"button",22)(2,"mat-icon",23),e._uU(3,"more_vert"),e.qZA()(),e.TgZ(4,"mat-menu",null,24)(6,"button",25),e.NdJ("click",function(){const ae=e.CHM(_).$implicit,Ue=e.oxw();return e.KtG(Ue.openDialogEdit(ae.idQuestionnaire))}),e.TgZ(7,"mat-icon",26),e._uU(8,"edit "),e.qZA(),e.TgZ(9,"span"),e._uU(10,"Modifier Questionnaire"),e.qZA()(),e.TgZ(11,"button",25),e.NdJ("click",function(){const ae=e.CHM(_).$implicit,Ue=e.oxw();return e.KtG(Ue.viewQuestion(ae.idQuestionnaire))}),e.TgZ(12,"mat-icon",27),e._uU(13," visibility"),e.qZA(),e.TgZ(14,"span"),e._uU(15,"D\xe9tails questionnaire"),e.qZA()()()()}if(2&p){const _=e.MAs(5);e.xp6(1),e.Q6J("matMenuTriggerFor",_)}}function Vl(p,E){1&p&&e._UZ(0,"tr",28)}function d_(p,E){1&p&&e._UZ(0,"tr",29)}const mf=function(){return[5,10,20]};let df=(()=>{class p{constructor(_,S,k){this.router=_,this.questionnairesService=S,this.dialog=k,this.displayedColumns=["idQuestionnaire","description","dateDebut","dateFin","action"],this.lengthColumns=this.displayedColumns.length}ngOnInit(){this.getAllQuestionnaires()}openCreateDialog(){this.router.navigateByUrl("gestion-produits/gestion-questionnaires/create")}openDialogEdit(_){this.dialog.open(Bt,{width:"60%",data:{idQuestionnaire:_}}).afterClosed().subscribe(k=>{this.getAllQuestionnaires()})}getAllQuestionnaires(){this.questionnairesService.getAllQuestionnaires().subscribe({next:_=>{this.dataSource=new Q.by(_),this.paginate()},error:_=>{console.log(_)}})}paginate(){this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort}viewQuestion(_){this.router.navigateByUrl("gestion-produits/gestion-questionnaires/"+_+"/edit-questions")}}return p.\u0275fac=function(_){return new(_||p)(e.Y36(ee.F0),e.Y36(M),e.Y36(xe.uw))},p.\u0275cmp=e.Xpm({type:p,selectors:[["app-gestion-questionnaires"]],viewQuery:function(_,S){if(1&_&&(e.Gf(Le.NW,5),e.Gf(qi.YE,5)),2&_){let k;e.iGM(k=e.CRH())&&(S.paginator=k.first),e.iGM(k=e.CRH())&&(S.sort=k.first)}},decls:28,vars:6,consts:[[1,"container"],[1,"header"],[1,"title-table"],[1,"btn","btn-secondary",2,"display","flex","align-items","center",3,"click"],["aria-hidden","false","aria-label","ajouter pack ",1,"material-symbols-outlined"],["mat-table","",1,"gestion-table",3,"dataSource"],["matColumnDef","idQuestionnaire"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","description"],["mat-header-cell","","style","width:40%",4,"matHeaderCellDef"],["mat-cell","","style","width:40%",4,"matCellDef"],["matColumnDef","dateDebut"],["matColumnDef","dateFin"],["matColumnDef","action"],["mat-header-row","","class","example-second-header-row",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["aria-label","Select page  of users",3,"pageSize","pageSizeOptions"],["mat-header-cell",""],["mat-cell",""],["mat-header-cell","",2,"width","40%"],["mat-cell","",2,"width","40%"],["mat-icon-button","","aria-label","",3,"matMenuTriggerFor"],[2,"padding-top","5px"],["menu","matMenu"],["mat-menu-item","",3,"click"],["aria-hidden","false","aria-label","edit questionnaire","matTooltip","Modifier questionnaire","matTooltipPosition","right",1,"material-symbols-outlined"],["aria-hidden","false","aria-label","view question","matTooltip","D\xe9tails questionnaire","matTooltipPosition","right",1,"material-symbols-outlined",2,"margin-left","4px"],["mat-header-row","",1,"example-second-header-row"],["mat-row",""]],template:function(_,S){1&_&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h2",2),e._uU(3,"Liste des questionnaires "),e.qZA(),e.TgZ(4,"button",3),e.NdJ("click",function(){return S.openCreateDialog()}),e.TgZ(5,"mat-icon",4),e._uU(6,"add_circle"),e.qZA(),e._uU(7," Ajouter un questionnaire "),e.qZA()(),e._UZ(8,"mat-divider"),e.TgZ(9,"table",5),e.ynx(10,6),e.YNc(11,Yt,2,0,"th",7),e.YNc(12,dn,2,1,"td",8),e.BQk(),e.ynx(13,9),e.YNc(14,Ut,2,0,"th",10),e.YNc(15,gn,2,1,"td",11),e.BQk(),e.ynx(16,12),e.YNc(17,Fn,2,0,"th",7),e.YNc(18,Pi,3,4,"td",8),e.BQk(),e.ynx(19,13),e.YNc(20,ki,2,0,"th",7),e.YNc(21,ta,3,4,"td",8),e.BQk(),e.ynx(22,14),e.YNc(23,zl,2,0,"th",7),e.YNc(24,na,16,1,"td",8),e.BQk(),e.YNc(25,Vl,1,0,"tr",15),e.YNc(26,d_,1,0,"tr",16),e.qZA(),e._UZ(27,"mat-paginator",17),e.qZA()),2&_&&(e.xp6(9),e.Q6J("dataSource",S.dataSource),e.xp6(16),e.Q6J("matHeaderRowDef",S.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",S.displayedColumns),e.xp6(1),e.Q6J("pageSize",10)("pageSizeOptions",e.DdM(5,mf)))},dependencies:[O.d,Mn.Hw,Nn.VK,Nn.OP,Nn.p6,Q.BZ,Q.fO,Q.as,Q.w1,Q.Dz,Q.nj,Q.ge,Q.ev,Q.XQ,Q.Gk,oo.gM,Le.NW,vn.lW,Se.uU],styles:[".container[_ngcontent-%COMP%]{background-color:#fff;padding:40px 0;height:100%;overflow-y:auto;overflow-x:hidden}.gestion-table[_ngcontent-%COMP%]{width:100%}.gestion-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .gestion-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:16px}.gestion-table[_ngcontent-%COMP%]   .mat-header-cell[_ngcontent-%COMP%]{color:#00008f;font-weight:600}.gestion-table[_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]:nth-child(even), .gestion-table[_ngcontent-%COMP%]   .mat-header-row[_ngcontent-%COMP%]{background-color:#f7f7f9}.gestion-table[_ngcontent-%COMP%]   .mat-paginator[_ngcontent-%COMP%]{background-color:transparent;margin:20px auto auto;width:80%}.gestion-table[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{height:100%;font-size:26px;color:#00008f;width:-moz-fit-content;width:fit-content}.mat-menu-item[_ngcontent-%COMP%]{font-size:15px}.mat-menu-item[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:18px;height:-moz-fit-content;height:fit-content}.mat-menu-item[_ngcontent-%COMP%]:hover:not([disabled]), .mat-menu-item[_ngcontent-%COMP%]:hover:not([disabled])   .mat-icon[_ngcontent-%COMP%]{color:#00008f}.header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:0px 2rem}.header[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{height:-moz-fit-content;height:fit-content;font-size:29px;margin-right:1rem;width:-moz-fit-content;width:fit-content}.title-table[_ngcontent-%COMP%]{margin-bottom:0rem;font-weight:800!important;font-size:23px!important;color:#00008f!important}"]}),p})(),bd=(()=>{class p{constructor(_){this.http=_}getQuestionsByQuestionnaire(_){const S={headers:new i.WM({"Content-Type":"application/json","Access-Control-Allow-Origin":"*"})};return this.http.get(`${n.g.API_ENDPOINT_Questionnaires}/${_}/questions-by-questionnaire`,S).pipe((0,Oo.b)(k=>this.logs(k)),(0,Bo.K)(k=>(0,da._)(k.error)))}addQuestion(_,S){const k={headers:new i.WM({"Content-Type":"application/json","Access-Control-Allow-Origin":"*"})};return this.http.post(`${n.g.API_ENDPOINT_Questionnaires}/${S}/question`,_,k).pipe((0,Oo.b)(ae=>this.logs(ae)),(0,Bo.K)(ae=>(0,da._)(ae.error)))}getQuestionById(_){return this.http.get(`${n.g.API_ENDPOINT_Questions}/${_}`).pipe((0,Oo.b)(S=>this.logs(S)),(0,Bo.K)(S=>(0,da._)(S.error)))}updateQuestion(_,S,k){const ae={headers:new i.WM({"Content-Type":"application/json","Access-Control-Allow-Origin":"*"})};return this.http.put(`${n.g.API_ENDPOINT_Questionnaires}/${k}/question/${S}`,_,ae).pipe((0,Oo.b)(Ue=>this.logs(Ue)),(0,Bo.K)(Ue=>(0,da._)(Ue.error)))}logs(_){}handleEroor(_,S){return(0,Yl.of)(S)}}return p.\u0275fac=function(_){return new(_||p)(e.LFG(i.eN))},p.\u0275prov=e.Yz7({token:p,factory:p.\u0275fac,providedIn:"root"}),p})();function Vp(p,E){if(1&p&&(e.TgZ(0,"div",6),e._uU(1),e.qZA()),2&p){const _=e.oxw();e.xp6(1),e.hij(" ",_.messageError," ")}}function _f(p,E){1&p&&(e.TgZ(0,"div"),e._uU(1," ce champs est obligatoire"),e.qZA())}function pf(p,E){if(1&p&&(e.TgZ(0,"mat-error",24),e.YNc(1,_f,2,0,"div",25),e.qZA()),2&p){const _=e.oxw(2);e.xp6(1),e.Q6J("ngIf",_.formEditQuestion.controls.description.errors.required)}}function ff(p,E){1&p&&(e.TgZ(0,"div"),e._uU(1," ce champs est obligatoire"),e.qZA())}function gf(p,E){if(1&p&&(e.TgZ(0,"mat-error",24),e.YNc(1,ff,2,0,"div",25),e.qZA()),2&p){const _=e.oxw(2);e.xp6(1),e.Q6J("ngIf",_.formEditQuestion.controls.numeroOrdre.errors.required)}}function hf(p,E){1&p&&(e.TgZ(0,"div"),e._uU(1," ce champs est obligatoire"),e.qZA())}function Cf(p,E){if(1&p&&(e.TgZ(0,"mat-error",24),e.YNc(1,hf,2,0,"div",25),e.qZA()),2&p){const _=e.oxw(2);e.xp6(1),e.Q6J("ngIf",_.formEditQuestion.controls.dateDebut.errors.required)}}function xf(p,E){if(1&p){const _=e.EpF();e.TgZ(0,"form",7,8),e.NdJ("ngSubmit",function(){e.CHM(_);const k=e.MAs(1),ae=e.oxw();return e.KtG(ae.submitEditQuestion(k))}),e.TgZ(2,"mat-form-field",9)(3,"mat-label"),e._uU(4,"Description"),e.qZA(),e._UZ(5,"input",10),e.YNc(6,pf,2,1,"mat-error",11),e.qZA(),e.TgZ(7,"mat-form-field",12)(8,"mat-label"),e._uU(9,"Numero d'Ordre"),e.qZA(),e._UZ(10,"input",13),e.YNc(11,gf,2,1,"mat-error",11),e.qZA(),e.TgZ(12,"mat-form-field",14)(13,"mat-label"),e._uU(14,"Date debut"),e.qZA(),e._UZ(15,"input",15)(16,"mat-datepicker-toggle",16)(17,"mat-datepicker",null,17),e.YNc(19,Cf,2,1,"mat-error",11),e.qZA(),e.TgZ(20,"mat-form-field",18)(21,"mat-label"),e._uU(22,"Date fin"),e.qZA(),e._UZ(23,"input",19)(24,"mat-datepicker-toggle",16)(25,"mat-datepicker",null,20),e.qZA(),e.TgZ(27,"div",21)(28,"button",22),e._uU(29,"Envoyer"),e.qZA(),e.TgZ(30,"button",23),e._uU(31,"Annuler"),e.qZA()()()}if(2&p){const _=e.MAs(18),S=e.MAs(26),k=e.oxw();e.Q6J("formGroup",k.formEditQuestion),e.xp6(6),e.Q6J("ngIf",k.formEditQuestion.controls.description.errors),e.xp6(5),e.Q6J("ngIf",k.formEditQuestion.controls.numeroOrdre.errors),e.xp6(4),e.Q6J("matDatepicker",_),e.xp6(1),e.Q6J("for",_),e.xp6(3),e.Q6J("ngIf",k.formEditQuestion.controls.dateDebut.errors),e.xp6(4),e.Q6J("min",k.minDate)("matDatepicker",S),e.xp6(1),e.Q6J("for",S)}}let jp=(()=>{class p{constructor(_,S,k,ae,Ue){this.dialogRef=_,this.data=S,this.formBuilderAuth=k,this.questionnaireService=ae,this.questionService=Ue,this.questionEditSuccess=!1,this.minDate=null,this.questionEditError=!1}ngOnInit(){this.getQuestionById(this.data.Question)}getQuestionById(_){this.iniEditQuestion(_)}iniEditQuestion(_){this.debutDateChange(_.dateDebut),this.formEditQuestion=this.formBuilderAuth.group({id:[_.id],idQuestion:[_.idQuestion],description:[_.description,[w.kI.required]],numeroOrdre:[_.numeroOrdre,[w.kI.required]],dateDebut:[_.dateDebut,[w.kI.required]],dateFin:[_.dateFin]})}submitEditQuestion(_){this.formEditQuestion.get("dateDebut").setValue(o(this.formEditQuestion.get("dateDebut").value).format("YYYY-MM-DD")),this.dialogRef.close({Question:this.formEditQuestion.value})}debutDateChange(_){this.minDate=_}}return p.\u0275fac=function(_){return new(_||p)(e.Y36(xe.so),e.Y36(xe.WI),e.Y36(w.qu),e.Y36(M),e.Y36(bd))},p.\u0275cmp=e.Xpm({type:p,selectors:[["app-edit-questionnaire-questions-dialog"]],decls:9,vars:2,consts:[[1,"heading"],[2,"float","right","font-size","24px"],["aria-hidden","false","aria-label","","matTooltip","","matTooltipPosition","right","mat-dialog-close","",1,"material-symbols-outlined"],["class","alert alert-danger",4,"ngIf"],[1,"mat-typography"],["class","login-form",3,"formGroup","ngSubmit",4,"ngIf"],[1,"alert","alert-danger"],[1,"login-form",3,"formGroup","ngSubmit"],["formDirective","ngForm"],["appearance","outline",1,"col-md-12"],["type","text","matInput","","placeholder","","formControlName","description"],["class","invalid-feedback",4,"ngIf"],["appearance","outline",1,"col-md-4",2,"padding-right","3%"],["type","nummber","matInput","","placeholder","","formControlName","numeroOrdre"],["appearance","outline",1,"col-md-4",2,"padding-left","3%","padding-right","3%"],["matInput","","formControlName","dateDebut",3,"matDatepicker"],["matSuffix","",3,"for"],["picker",""],["appearance","outline",1,"col-md-4",2,"padding-left","3%"],["matInput","","formControlName","dateFin",3,"min","matDatepicker"],["picker2",""],[1,"row-button"],["type","submit",1,"btn","btn-action"],["mat-dialog-close","",1,"btn","btn-cancel"],[1,"invalid-feedback"],[4,"ngIf"]],template:function(_,S){1&_&&(e.TgZ(0,"h2",0),e._uU(1,"Modifier une question "),e.TgZ(2,"span",1)(3,"mat-icon",2),e._uU(4," close "),e.qZA()()(),e._UZ(5,"mat-divider"),e.YNc(6,Vp,2,1,"div",3),e.TgZ(7,"mat-dialog-content",4),e.YNc(8,xf,32,9,"form",5),e.qZA()),2&_&&(e.xp6(6),e.Q6J("ngIf",S.questionEditError),e.xp6(2),e.Q6J("ngIf",S.formEditQuestion))},dependencies:[Se.O5,O.d,Mn.Hw,w._Y,w.Fj,w.JJ,w.JL,w.sg,w.u,J.TO,J.KE,J.hX,J.R9,he.Nt,oo.gM,xe.ZT,xe.xY,Ze.Mq,Ze.hl,Ze.nW],styles:["button.btn.btn-action[_ngcontent-%COMP%]{float:right}h2.heading[_ngcontent-%COMP%]{color:#00008f;font-weight:700!important;letter-spacing:.5px}.mat-dialog-content[_ngcontent-%COMP%]{padding-top:15px}.mat-radio-button[_ngcontent-%COMP%]{margin:0 12px}.row-button[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:0 3rem;margin-top:2rem}"]}),p})();function vf(p,E){1&p&&(e.TgZ(0,"div",22),e._uU(1,"Question ajout\xe9 avec succ\xe9s"),e.qZA())}function Af(p,E){1&p&&(e.TgZ(0,"div"),e._uU(1," ce champ est obligatoire"),e.qZA())}function Hp(p,E){if(1&p&&(e.TgZ(0,"mat-error",23),e.YNc(1,Af,2,0,"div",24),e.qZA()),2&p){const _=e.oxw();e.xp6(1),e.Q6J("ngIf",_.formCreationQuestion.controls.description.errors.required)}}function Tf(p,E){1&p&&(e.TgZ(0,"div"),e._uU(1," ce champ est obligatoire"),e.qZA())}function Uc(p,E){if(1&p&&(e.TgZ(0,"mat-error",23),e.YNc(1,Tf,2,0,"div",24),e.qZA()),2&p){const _=e.oxw();e.xp6(1),e.Q6J("ngIf",_.formCreationQuestion.controls.numeroOrdre.errors.required)}}function bf(p,E){1&p&&(e.TgZ(0,"div"),e._uU(1," ce champ est obligatoire"),e.qZA())}function sg(p,E){if(1&p&&(e.TgZ(0,"mat-error",23),e.YNc(1,bf,2,0,"div",24),e.qZA()),2&p){const _=e.oxw();e.xp6(1),e.Q6J("ngIf",_.formCreationQuestion.controls.dateDebut.errors.required)}}function Im(p,E){1&p&&(e.TgZ(0,"mat-error",23)(1,"div"),e._uU(2," Date fin est inf\xe9rieur \xe0 la date d\xe9but"),e.qZA()())}let po=(()=>{class p{constructor(_,S,k,ae){this.data=_,this.formBuilderAuth=S,this.router=k,this.dialog=ae,this.minDate=new Date,this.questionCreationSuccess=!1}ngOnInit(){this.formCreationQuestion=this.formBuilderAuth.group({idQuestion:[""],idQuestionnaire:[""],description:["",[w.kI.required]],numeroOrdre:["",[w.kI.required]],dateDebut:["",[w.kI.required]],dateFin:[""],auditUser:["test"]})}AjouterQuestion(_){_.valid&&(this.data.questions.push({id:this.data.questions.length+1,idQuestion:"M"+this.data.questions.length+1,idQuestionnaire:void 0,reponseList:[],description:this.formCreationQuestion.value.description,numeroOrdre:this.formCreationQuestion.value.numeroOrdre,dateDebut:o(this.formCreationQuestion.value.dateDebut).format("YYYY-MM-DD"),dateFin:o(this.formCreationQuestion.value.dateFin).format("YYYY-MM-DD"),auditUser:"test"}),this.formCreationQuestion=this.formBuilderAuth.group({idQuestion:[""],idQuestionnaire:[""],description:[""],numeroOrdre:[""],dateDebut:[""],dateFin:[""]}),this.questionCreationSuccess=!0)}debutDateChange(_){this.minDate=_}}return p.\u0275fac=function(_){return new(_||p)(e.Y36(xe.WI),e.Y36(w.qu),e.Y36(ee.F0),e.Y36(xe.uw))},p.\u0275cmp=e.Xpm({type:p,selectors:[["app-creation-questions"]],decls:41,vars:11,consts:[[1,"heading"],[2,"float","right","font-size","24px"],["aria-hidden","false","aria-label","","matTooltip","","matTooltipPosition","right","mat-dialog-close","",1,"material-symbols-outlined"],["class","alert alert-success",4,"ngIf"],[1,"mat-typography"],[1,"login-form",3,"formGroup"],["formDirective","ngForm"],["appearance","outline",1,"col-md-12"],["type","text","matInput","","placeholder","","formControlName","description"],["class","invalid-feedback",4,"ngIf"],["appearance","outline",1,"col-md-4",2,"padding-right","1%"],["type","nummber","matInput","","placeholder","","formControlName","numeroOrdre"],["appearance","outline",1,"col-md-4",2,"padding-right","1%","padding-left","1%"],["matInput","","formControlName","dateDebut",3,"matDatepicker","dateChange"],["matSuffix","",3,"for"],["pickerDateDebut2",""],["appearance","outline",1,"col-md-4",2,"padding-left","1%"],["matInput","","formControlName","dateFin",3,"min","matDatepicker"],["pickerDateFin2",""],[1,"row-button"],["mat-dialog-close","",1,"btn","btn-cancel"],[1,"btn","btn-action",3,"click"],[1,"alert","alert-success"],[1,"invalid-feedback"],[4,"ngIf"]],template:function(_,S){if(1&_){const k=e.EpF();e.TgZ(0,"h2",0),e._uU(1,"Cr\xe9ation une question "),e.TgZ(2,"span",1)(3,"mat-icon",2),e._uU(4," close "),e.qZA()()(),e._UZ(5,"mat-divider"),e.YNc(6,vf,2,0,"div",3),e.TgZ(7,"mat-dialog-content",4)(8,"form",5,6)(10,"mat-form-field",7)(11,"mat-label"),e._uU(12,"Question"),e.qZA(),e._UZ(13,"input",8),e.YNc(14,Hp,2,1,"mat-error",9),e.qZA(),e.TgZ(15,"mat-form-field",10)(16,"mat-label"),e._uU(17,"Num\xe9ro d'ordre"),e.qZA(),e._UZ(18,"input",11),e.YNc(19,Uc,2,1,"mat-error",9),e.qZA(),e.TgZ(20,"mat-form-field",12)(21,"mat-label"),e._uU(22,"Date debut"),e.qZA(),e.TgZ(23,"input",13),e.NdJ("dateChange",function(Ue){return S.debutDateChange(Ue.value)}),e.qZA(),e._UZ(24,"mat-datepicker-toggle",14)(25,"mat-datepicker",null,15),e.YNc(27,sg,2,1,"mat-error",9),e.qZA(),e.TgZ(28,"mat-form-field",16)(29,"mat-label"),e._uU(30,"Date fin"),e.qZA(),e._UZ(31,"input",17)(32,"mat-datepicker-toggle",14)(33,"mat-datepicker",null,18),e.YNc(35,Im,3,0,"mat-error",9),e.qZA(),e.TgZ(36,"div",19)(37,"button",20),e._uU(38,"Annuler"),e.qZA(),e.TgZ(39,"button",21),e.NdJ("click",function(){e.CHM(k);const Ue=e.MAs(9);return e.KtG(S.AjouterQuestion(Ue))}),e._uU(40,"Ajouter Question"),e.qZA()()()()}if(2&_){const k=e.MAs(26),ae=e.MAs(34);e.xp6(6),e.Q6J("ngIf",S.questionCreationSuccess),e.xp6(2),e.Q6J("formGroup",S.formCreationQuestion),e.xp6(6),e.Q6J("ngIf",S.formCreationQuestion.controls.description.errors),e.xp6(5),e.Q6J("ngIf",S.formCreationQuestion.controls.numeroOrdre.errors),e.xp6(4),e.Q6J("matDatepicker",k),e.xp6(1),e.Q6J("for",k),e.xp6(3),e.Q6J("ngIf",S.formCreationQuestion.controls.dateDebut.errors),e.xp6(4),e.Q6J("min",S.minDate)("matDatepicker",ae),e.xp6(1),e.Q6J("for",ae),e.xp6(3),e.Q6J("ngIf",S.formCreationQuestion.controls.dateFin.hasError("matDatepickerMin"))}},dependencies:[Se.O5,O.d,Mn.Hw,w._Y,w.Fj,w.JJ,w.JL,w.sg,w.u,J.TO,J.KE,J.hX,J.R9,he.Nt,oo.gM,xe.ZT,xe.xY,Ze.Mq,Ze.hl,Ze.nW],styles:[".buttons.row[_ngcontent-%COMP%]{justify-content:space-between;padding:0 21px}h2.heading[_ngcontent-%COMP%]{color:#00008f;font-weight:700!important;letter-spacing:.5px}.mat-dialog-content[_ngcontent-%COMP%]{padding-top:15px}.mat-radio-button[_ngcontent-%COMP%]{margin:0 12px}.mat-form-field[_ngcontent-%COMP%]{padding-top:15px}.mat-error[_ngcontent-%COMP%]{font-size:11px}.row-button[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:0 3rem;margin-top:2rem}"]}),p})(),Em=(()=>{class p{constructor(_){this.http=_}getReponsesByQuestion(_){return this.http.get(`${n.g.API_ENDPOINT_Questions}/${_}/reponses`).pipe((0,Oo.b)(S=>this.logs(S)),(0,Bo.K)(S=>(0,da._)(S.error)))}addReponse(_,S){const k={headers:new i.WM({"Content-Type":"application/json"})};return this.http.post(`${n.g.API_ENDPOINT_Questions}/${S}/reponse`,_,k).pipe((0,Oo.b)(ae=>this.logs(ae)),(0,Bo.K)(ae=>(0,da._)(ae.error)))}getReponseById(_){return this.http.get(`${n.g.API_ENDPOINT_reponses}/${_}`).pipe((0,Oo.b)(S=>this.logs(S)),(0,Bo.K)(S=>(0,da._)(S.error)))}updateReponse(_,S,k){const ae={headers:new i.WM({"Content-Type":"application/json"})};return this.http.put(`${n.g.API_ENDPOINT_Questions}/${S}/reponse/${k}`,_,ae).pipe((0,Oo.b)(Ue=>this.logs(Ue)),(0,Bo.K)(Ue=>(0,da._)(Ue.error)))}logs(_){}handleEroor(_,S){return(0,Yl.of)(S)}}return p.\u0275fac=function(_){return new(_||p)(e.LFG(i.eN))},p.\u0275prov=e.Yz7({token:p,factory:p.\u0275fac,providedIn:"root"}),p})();function El(p,E){1&p&&(e.TgZ(0,"div",24),e._uU(1,"R\xe9ponse ajout\xe9 avec succ\xe9s"),e.qZA())}function ia(p,E){1&p&&(e.TgZ(0,"div"),e._uU(1," Ce champ est obligatoire"),e.qZA())}function Pf(p,E){if(1&p&&(e.TgZ(0,"mat-error",25),e.YNc(1,ia,2,0,"div",26),e.qZA()),2&p){const _=e.oxw();e.xp6(1),e.Q6J("ngIf",_.formCreationReponse.controls.description.errors.required)}}function Pu(p,E){1&p&&(e.TgZ(0,"div"),e._uU(1," ce champ est obligatoire"),e.qZA())}function Zf(p,E){if(1&p&&(e.TgZ(0,"mat-error",25),e.YNc(1,Pu,2,0,"div",26),e.qZA()),2&p){const _=e.oxw();e.xp6(1),e.Q6J("ngIf",_.formCreationReponse.controls.numeroOrdre.errors.required)}}function qf(p,E){if(1&p&&(e.ynx(0),e.TgZ(1,"mat-option",30),e._uU(2),e.qZA(),e.BQk()),2&p){const _=E.$implicit;e.xp6(1),e.Q6J("value",_.idQuestionnaire),e.xp6(1),e.Oqu(_.description)}}function Sf(p,E){if(1&p&&(e.TgZ(0,"mat-form-field",27)(1,"mat-label"),e._uU(2," Questionnaire "),e.qZA(),e.TgZ(3,"mat-select",28),e.YNc(4,qf,3,2,"ng-container",29),e.qZA()()),2&p){const _=e.oxw();e.xp6(4),e.Q6J("ngForOf",_.questionnaireList)}}function yf(p,E){1&p&&(e.TgZ(0,"div"),e._uU(1," ce champ est obligatoire"),e.qZA())}function Nf(p,E){if(1&p&&(e.TgZ(0,"mat-error",25),e.YNc(1,yf,2,0,"div",26),e.qZA()),2&p){const _=e.oxw();e.xp6(1),e.Q6J("ngIf",_.formCreationReponse.controls.dateDebut.errors.required)}}function Fp(p,E){1&p&&(e.TgZ(0,"mat-error",25)(1,"div"),e._uU(2," Date fin est inf\xe9rieur \xe0 la date d\xe9but"),e.qZA()())}let If=(()=>{class p{constructor(_,S,k,ae,Ue,On){this.dialogRef=_,this.data=S,this.formBuilderAuth=k,this.questionService=ae,this.questionnaireService=Ue,this.reponseService=On,this.reponseCreationSuccess=!1,this.minDate=new Date,this.reponseCreationError=!1,this.reponses=[],this.displayedColumns=["description","action"],this.lengthColumns=this.displayedColumns.length}ngOnInit(){this.questionnaireService.getAllQuestionnaires().subscribe({next:_=>{this.questionnaireList=_},error:_=>{console.log(_)}}),this.reponses=this.data.Question.reponseList,this.dataSource=new Q.by(this.reponses),this.formCreationReponse=this.formBuilderAuth.group({description:["",[w.kI.required]],numeroOrdre:["",[w.kI.required]],isQuestion:[""],idQuestionnaire:[""],dateDebut:["",[w.kI.required]],dateFin:[""],auditUser:["test"]})}closeReponse(){this.dialogRef.close({Question:this.data.Question})}ajouterReponse(_){this.reponses.push({id:this.reponses.length+1,idReponse:"M"+this.reponses.length+1,isQuestion:this.formCreationReponse.value.isQuestion,idQuestionnaire:this.formCreationReponse.value.idQuestionnaire,questionnaire:"",idQuestion:0,description:this.formCreationReponse.value.description,numeroOrdre:this.formCreationReponse.value.numeroOrdre,dateDebut:o(this.formCreationReponse.value.dateDebut).format("YYYY-MM-DD"),dateFin:this.formCreationReponse.value.dateFin?this.formCreationReponse.value.dateFin.toISOString():"",auditUser:this.formCreationReponse.value.auditUser}),this.reponseCreationSuccess=!0,this.dataSource=new Q.by(this.reponses),this.data.Question.reponseList=this.reponses,_.resetForm()}deleteReponse(_){}debutDateChange(_){this.minDate=_}}return p.\u0275fac=function(_){return new(_||p)(e.Y36(xe.so),e.Y36(xe.WI),e.Y36(w.qu),e.Y36(bd),e.Y36(M),e.Y36(Em))},p.\u0275cmp=e.Xpm({type:p,selectors:[["app-creation-questionnaire-reponses-dialog"]],decls:44,vars:14,consts:[[1,"heading"],[2,"float","right","font-size","24px"],["aria-hidden","false","aria-label","","matTooltip","","matTooltipPosition","right","mat-dialog-close","",1,"material-symbols-outlined"],["class","alert alert-success",4,"ngIf"],[1,"mat-typography"],[1,"login-form",3,"formGroup","ngSubmit"],["formDirective","ngForm"],["appearance","outline",1,"col-md-4",2,"padding-right","1%"],["type","text","matInput","","placeholder","","formControlName","description"],["class","invalid-feedback",4,"ngIf"],["appearance","outline",1,"col-md-4",2,"padding-left","1%","padding-right","1%"],["type","nummber","matInput","","placeholder","","formControlName","numeroOrdre"],["formControlName","isQuestion",1,"col-md-4"],["class","col-md-12","appearance","outline",4,"ngIf"],["appearance","outline",1,"col-md-6",2,"padding-right","1%"],["matInput","","formControlName","dateDebut",3,"min","matDatepicker","dateChange"],["matSuffix","",3,"for"],["pickerDateDebut",""],["appearance","outline",1,"col-md-6",2,"padding-left","1%"],["matInput","","formControlName","dateFin",3,"max","min","matDatepicker"],["pickerDateFin",""],[1,"row-button"],["mat-dialog-close","",1,"btn","btn-cancel"],["type","submit",1,"btn","btn-action"],[1,"alert","alert-success"],[1,"invalid-feedback"],[4,"ngIf"],["appearance","outline",1,"col-md-12"],["formControlName","idQuestionnaire"],[4,"ngFor","ngForOf"],[3,"value"]],template:function(_,S){if(1&_){const k=e.EpF();e.TgZ(0,"h2",0),e._uU(1,"Cr\xe9ation une r\xe9ponse "),e.TgZ(2,"span",1)(3,"mat-icon",2),e._uU(4," close "),e.qZA()()(),e._UZ(5,"mat-divider"),e.YNc(6,El,2,0,"div",3),e.TgZ(7,"mat-dialog-content",4)(8,"form",5,6),e.NdJ("ngSubmit",function(){e.CHM(k);const Ue=e.MAs(9);return e.KtG(S.ajouterReponse(Ue))}),e.TgZ(10,"mat-form-field",7)(11,"mat-label"),e._uU(12,"R\xe9ponse"),e.qZA(),e._UZ(13,"input",8),e.YNc(14,Pf,2,1,"mat-error",9),e.qZA(),e.TgZ(15,"mat-form-field",10)(16,"mat-label"),e._uU(17,"Num\xe9ro d'ordre"),e.qZA(),e._UZ(18,"input",11),e.YNc(19,Zf,2,1,"mat-error",9),e.qZA(),e.TgZ(20,"mat-checkbox",12),e._uU(21,"Cette r\xe9ponse engendre-elle des questions"),e.qZA(),e.YNc(22,Sf,5,1,"mat-form-field",13),e.TgZ(23,"mat-form-field",14)(24,"mat-label"),e._uU(25,"Date debut"),e.qZA(),e.TgZ(26,"input",15),e.NdJ("dateChange",function(Ue){return S.debutDateChange(Ue.value)}),e.qZA(),e._UZ(27,"mat-datepicker-toggle",16)(28,"mat-datepicker",null,17),e.YNc(30,Nf,2,1,"mat-error",9),e.qZA(),e.TgZ(31,"mat-form-field",18)(32,"mat-label"),e._uU(33,"Date fin"),e.qZA(),e._UZ(34,"input",19)(35,"mat-datepicker-toggle",16)(36,"mat-datepicker",null,20),e.YNc(38,Fp,3,0,"mat-error",9),e.qZA(),e.TgZ(39,"div",21)(40,"button",22),e._uU(41,"Annuler"),e.qZA(),e.TgZ(42,"button",23),e._uU(43,"Ajouter R\xe9ponse"),e.qZA()()()()}if(2&_){const k=e.MAs(29),ae=e.MAs(37);e.xp6(6),e.Q6J("ngIf",S.reponseCreationSuccess),e.xp6(2),e.Q6J("formGroup",S.formCreationReponse),e.xp6(6),e.Q6J("ngIf",S.formCreationReponse.controls.description.errors),e.xp6(5),e.Q6J("ngIf",S.formCreationReponse.controls.numeroOrdre.errors),e.xp6(3),e.Q6J("ngIf",S.formCreationReponse.value.isQuestion),e.xp6(4),e.Q6J("min",S.data.Question.dateDebut)("matDatepicker",k),e.xp6(1),e.Q6J("for",k),e.xp6(3),e.Q6J("ngIf",S.formCreationReponse.controls.dateDebut.errors),e.xp6(4),e.Q6J("max",S.data.Question.dateFin)("min",S.minDate)("matDatepicker",ae),e.xp6(1),e.Q6J("for",ae),e.xp6(3),e.Q6J("ngIf",S.formCreationReponse.controls.dateFin.hasError("matDatepickerMin"))}},dependencies:[Se.sg,Se.O5,O.d,Mn.Hw,w._Y,w.Fj,w.JJ,w.JL,w.sg,w.u,J.TO,J.KE,J.hX,J.R9,he.Nt,oo.gM,xe.ZT,xe.xY,Ze.Mq,Ze.hl,Ze.nW,l.gD,t.ey,Do.oG],styles:[".buttons.row[_ngcontent-%COMP%]{justify-content:space-between;padding:0 21px}h2.heading[_ngcontent-%COMP%]{color:#00008f;font-weight:700!important;letter-spacing:.5px}.mat-dialog-content[_ngcontent-%COMP%]{padding-top:15px}.mat-radio-button[_ngcontent-%COMP%]{margin:0 12px}.mat-form-field[_ngcontent-%COMP%]{padding-top:15px}.mat-error[_ngcontent-%COMP%]{font-size:11px}.row-button[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:0 3rem;margin-top:2rem}"]}),p})();function Zu(p,E){if(1&p){const _=e.EpF();e.TgZ(0,"th",18)(1,"div",19)(2,"span",20)(3,"mat-icon",21),e.NdJ("click",function(){e.CHM(_);const k=e.oxw();return e.KtG(k.step())}),e._uU(4,"arrow_circle_left"),e.qZA(),e._uU(5," Liste des r\xe9ponses "),e.qZA(),e.TgZ(6,"mat-icon",22),e.NdJ("click",function(){e.CHM(_);const k=e.oxw();return e.KtG(k.addReponse())}),e._uU(7,"add"),e.qZA()()()}if(2&p){const _=e.oxw();e.uIk("colspan",_.lengthColumns)}}function Qp(p,E){1&p&&(e.TgZ(0,"th",23),e._uU(1," Description "),e.qZA())}function __(p,E){if(1&p&&(e.TgZ(0,"td",24),e._uU(1),e.qZA()),2&p){const _=E.$implicit;e.xp6(1),e.hij(" ",_.description," ")}}function Jr(p,E){1&p&&(e.TgZ(0,"th",25),e._uU(1," Questionnaire "),e.qZA())}function oa(p,E){if(1&p&&(e.TgZ(0,"td",26),e._uU(1),e.qZA()),2&p){const _=E.$implicit;e.xp6(1),e.hij(" ",_.questionnaire?_.questionnaire:_.idQuestionnaire.description," ")}}function $p(p,E){1&p&&(e.TgZ(0,"th",27),e._uU(1," Num\xe9ro d'ordre "),e.qZA())}function Jp(p,E){if(1&p&&(e.TgZ(0,"td",28),e._uU(1),e.qZA()),2&p){const _=E.$implicit;e.xp6(1),e.hij(" ",_.numeroOrdre," ")}}function Ef(p,E){1&p&&(e.TgZ(0,"th",18),e._uU(1," Action "),e.qZA())}function Rf(p,E){if(1&p){const _=e.EpF();e.TgZ(0,"td",29)(1,"mat-icon",30),e.NdJ("click",function(){const ae=e.CHM(_).$implicit,Ue=e.oxw();return e.KtG(Ue.delete(ae.id))}),e._uU(2," delete"),e.qZA()()}}function Df(p,E){1&p&&e._UZ(0,"tr",31)}function wf(p,E){1&p&&e._UZ(0,"tr",32)}function Wm(p,E){1&p&&e._UZ(0,"tr",33)}const p_=function(){return["header-question"]},Rm=function(){return[5,10]};let Pd=(()=>{class p{constructor(_,S){this.questionnaireService=_,this.dialog=S,this.displayedColumns=["description","questionnaire","numeroOrdre","action"],this.lengthColumns=this.displayedColumns.length,this.now=new Date,this.newItemEvent=new e.vpe}step(){this.newItemEvent.emit()}addReponse(){this.dialog.open(If,{width:"80%",data:{Question:this.Question}}).afterClosed().subscribe(S=>{this.getReponse()})}getReponse(){this.questionnaireService.getAllQuestionnaires().subscribe({next:_=>{this.questionnaireList=_},error:_=>{console.log(_)}}),this.reponses=this.Question?.reponseList?.filter(_=>null==_.dateFin||_.dateFin.split("T")[0]!=this.now.toISOString().split("T")[0]),this.reponses?.map(_=>{_.questionnaire=this.questionnaireList?.find(S=>S.idQuestionnaire==_.idQuestionnaire)?.description}),this.dataSource=new Q.by(this.reponses),this.paginate()}ngOnInit(){this.getReponse()}delete(_){this.Question?.reponseList?.map(S=>{S.id==_&&(S.dateFin=this.now.toISOString())}),this.getReponse()}paginate(){this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort}}return p.\u0275fac=function(_){return new(_||p)(e.Y36(M),e.Y36(xe.uw))},p.\u0275cmp=e.Xpm({type:p,selectors:[["app-consultation-questionnaire-reponses"]],viewQuery:function(_,S){if(1&_&&(e.Gf(Le.NW,5),e.Gf(qi.YE,5)),2&_){let k;e.iGM(k=e.CRH())&&(S.paginator=k.first),e.iGM(k=e.CRH())&&(S.sort=k.first)}},inputs:{Question:"Question"},outputs:{newItemEvent:"newItemEvent"},decls:19,vars:9,consts:[["mat-table","",1,"mat-elevation-z8","reponse-table",3,"dataSource"],["matColumnDef","header-question"],["mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","description"],["mat-header-cell","","style","width: 60%;",4,"matHeaderCellDef"],["mat-cell","","style","padding-top: 24px; padding-bottom: 24px;","style","width: 60%;",4,"matCellDef"],["matColumnDef","questionnaire"],["mat-header-cell","","style","width: 20%;",4,"matHeaderCellDef"],["mat-cell","","style","padding-top: 24px; padding-bottom: 24px;","style","width: 20%;",4,"matCellDef"],["matColumnDef","numeroOrdre"],["mat-header-cell","","style","width: 10%;",4,"matHeaderCellDef"],["mat-cell","","style","padding-top: 24px; padding-bottom: 24px;","style","width: 10%;",4,"matCellDef"],["matColumnDef","action"],["mat-cell","",4,"matCellDef"],["mat-header-row","","class","example-first-header-row",4,"matHeaderRowDef"],["mat-header-row","","class","example-second-header-row",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["aria-label","Select page  of users",3,"pageSize","pageSizeOptions"],["mat-header-cell",""],[1,"header-tab"],[2,"display","flex","align-items","center"],["aria-hidden","false","aria-label","Dashboard",1,"material-symbols-outlined",2,"margin-right","14px",3,"click"],["aria-hidden","false","aria-label","Dashboard","matTooltip","Ajouter une r\xe9ponse","matTooltipPosition","right",1,"material-symbols-outlined",3,"click"],["mat-header-cell","",2,"width","60%"],["mat-cell","",2,"width","60%"],["mat-header-cell","",2,"width","20%"],["mat-cell","",2,"width","20%"],["mat-header-cell","",2,"width","10%"],["mat-cell","",2,"width","10%"],["mat-cell",""],["aria-hidden","false","aria-label","view reponse","matTooltip","Supprimer la r\xe9ponse","matTooltipPosition","right",1,"material-symbols-outlined",2,"margin-left","4px",3,"click"],["mat-header-row","",1,"example-first-header-row"],["mat-header-row","",1,"example-second-header-row"],["mat-row",""]],template:function(_,S){1&_&&(e.TgZ(0,"table",0),e.ynx(1,1),e.YNc(2,Zu,8,1,"th",2),e.BQk(),e.ynx(3,3),e.YNc(4,Qp,2,0,"th",4),e.YNc(5,__,2,1,"td",5),e.BQk(),e.ynx(6,6),e.YNc(7,Jr,2,0,"th",7),e.YNc(8,oa,2,1,"td",8),e.BQk(),e.ynx(9,9),e.YNc(10,$p,2,0,"th",10),e.YNc(11,Jp,2,1,"td",11),e.BQk(),e.ynx(12,12),e.YNc(13,Ef,2,0,"th",2),e.YNc(14,Rf,3,0,"td",13),e.BQk(),e.YNc(15,Df,1,0,"tr",14),e.YNc(16,wf,1,0,"tr",15),e.YNc(17,Wm,1,0,"tr",16),e.qZA(),e._UZ(18,"mat-paginator",17)),2&_&&(e.Q6J("dataSource",S.dataSource)("@enterAnimation",void 0),e.xp6(15),e.Q6J("matHeaderRowDef",e.DdM(7,p_)),e.xp6(1),e.Q6J("matHeaderRowDef",S.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",S.displayedColumns),e.xp6(1),e.Q6J("pageSize",10)("pageSizeOptions",e.DdM(8,Rm)))},dependencies:[Mn.Hw,Q.BZ,Q.fO,Q.as,Q.w1,Q.Dz,Q.nj,Q.ge,Q.ev,Q.XQ,Q.Gk,oo.gM,Le.NW],styles:[".buttons.row[_ngcontent-%COMP%]{justify-content:space-between;padding:0 21px}h2.heading[_ngcontent-%COMP%]{color:#00008f;font-weight:700!important;letter-spacing:.5px}.mat-dialog-content[_ngcontent-%COMP%]{padding-top:15px}.mat-radio-button[_ngcontent-%COMP%]{margin:0 12px}.mat-form-field[_ngcontent-%COMP%]{padding-top:15px}.mat-error[_ngcontent-%COMP%]{font-size:11px}.container[_ngcontent-%COMP%]{background-color:#fff;padding:40px 0;height:100%;overflow:auto}.container[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}table.reponse-table[_ngcontent-%COMP%]{width:96%;margin:24px auto auto}.mat-header-cell[_ngcontent-%COMP%]{color:#333;font-weight:600;letter-spacing:.5px;font-size:15px;width:165px}.header-tab[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}.mat-paginator[_ngcontent-%COMP%]{background-color:transparent;margin:20px auto auto;width:96%}.example-first-header-row[_ngcontent-%COMP%]{background-color:#00008f}.example-first-header-row[_ngcontent-%COMP%]   th.mat-header-cell[_ngcontent-%COMP%]{border:none;color:#fff;font-size:18px}.mat-icon[_ngcontent-%COMP%]{height:100%;font-size:36px;width:-moz-fit-content;width:fit-content}.mat-cell[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{color:#00008f}.mat-header-cell.mat-icon[_ngcontent-%COMP%]{color:#fff}.mat-cell[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]:hover, .mat-header-cell[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]:hover{color:#d14723;cursor:pointer}  .mat-tooltip{font-size:14px}"],data:{animation:[(0,go.X$)("enterAnimation",[(0,go.eR)(":enter",[(0,go.oB)({opacity:0,transform:"translateX(-100%)"}),(0,go.jt)(400)])])]}}),p})();function Of(p,E){if(1&p&&(e.TgZ(0,"div",29),e._uU(1),e.qZA()),2&p){const _=e.oxw();e.xp6(1),e.hij("Le questionnaire N\xb0",_.idQuestionnaire," a \xe9t\xe9 cr\xe9er avec succ\xe9s")}}function Kp(p,E){if(1&p&&(e.TgZ(0,"div",30),e._uU(1),e.qZA()),2&p){const _=e.oxw();e.xp6(1),e.hij(" ",_.messageError," ")}}function Zd(p,E){1&p&&e._uU(0,"Questions")}function Ko(p,E){if(1&p){const _=e.EpF();e.TgZ(0,"th",31)(1,"div",32)(2,"span",33)(3,"mat-icon",34),e.NdJ("mouseup",function(){e.CHM(_);const k=e.oxw();return e.KtG(k.back())}),e._uU(4,"arrow_circle_left"),e.qZA(),e._uU(5," Liste des Questions "),e.qZA(),e.TgZ(6,"mat-icon",35),e.NdJ("click",function(){e.CHM(_);const k=e.oxw();return e.KtG(k.addQuestion())}),e._uU(7,"add"),e.qZA()()()}if(2&p){const _=e.oxw();e.uIk("colspan",_.lengthColumns)}}function ic(p,E){1&p&&(e.TgZ(0,"th",31),e._uU(1," Description "),e.qZA())}function Wp(p,E){if(1&p&&(e.TgZ(0,"td",36),e._uU(1),e.qZA()),2&p){const _=E.$implicit;e.xp6(1),e.hij(" ",_.description," ")}}function Xp(p,E){1&p&&(e.TgZ(0,"th",37),e._uU(1," Num\xe9ro d'ordre "),e.qZA())}function kf(p,E){if(1&p&&(e.TgZ(0,"td",38),e._uU(1),e.qZA()),2&p){const _=E.$implicit;e.xp6(1),e.hij(" ",_.numeroOrdre," ")}}function ef(p,E){1&p&&(e.TgZ(0,"th",31),e._uU(1," Date debut "),e.qZA())}function Mf(p,E){if(1&p&&(e.TgZ(0,"td",36),e._uU(1),e.ALo(2,"date"),e.qZA()),2&p){const _=E.$implicit;e.xp6(1),e.hij(" ",e.xi3(2,1,_.dateDebut,"dd/MM/yyyy")," ")}}function tf(p,E){1&p&&(e.TgZ(0,"th",31),e._uU(1," Date fin "),e.qZA())}function qu(p,E){if(1&p&&(e.TgZ(0,"td",36),e._uU(1),e.ALo(2,"date"),e.qZA()),2&p){const _=E.$implicit;e.xp6(1),e.hij(" ",e.xi3(2,1,_.dateFin,"dd/MM/yyyy")," ")}}function Ao(p,E){1&p&&(e.TgZ(0,"th",31),e._uU(1," Action "),e.qZA())}function nf(p,E){if(1&p){const _=e.EpF();e.TgZ(0,"td",39)(1,"button",40)(2,"mat-icon",41),e._uU(3,"more_vert"),e.qZA()(),e.TgZ(4,"mat-menu",null,42)(6,"button",43),e.NdJ("click",function(){const ae=e.CHM(_).$implicit,Ue=e.oxw();return e.KtG(Ue.openDialogEdit(ae))}),e.TgZ(7,"mat-icon",44),e._uU(8,"edit"),e.qZA(),e.TgZ(9,"span"),e._uU(10,"Modifier la question"),e.qZA()(),e.TgZ(11,"button",45),e.NdJ("click",function(){const ae=e.CHM(_).$implicit,Ue=e.oxw();return e.KtG(Ue.viewReponse(ae))}),e.TgZ(12,"mat-icon",46),e._uU(13," visibility"),e.qZA(),e.TgZ(14,"span"),e._uU(15,"Voir les r\xe9ponses"),e.qZA()()()()}if(2&p){const _=e.MAs(5);e.xp6(1),e.Q6J("matMenuTriggerFor",_)}}function gc(p,E){1&p&&e._UZ(0,"tr",47)}function of(p,E){1&p&&e._UZ(0,"tr",48)}function Uf(p,E){1&p&&e._UZ(0,"tr",49)}function nr(p,E){if(1&p){const _=e.EpF();e.TgZ(0,"div",50)(1,"button",51),e.NdJ("mouseup",function(){e.CHM(_);const k=e.oxw();return e.KtG(k.back())}),e._uU(2,"Retour"),e.qZA(),e.TgZ(3,"button",28),e.NdJ("click",function(){e.CHM(_);const k=e.oxw();return e.KtG(k.submitEditQuestionnaire())}),e._uU(4,"Enregistrer"),e.qZA()()}}function Ff(p,E){1&p&&e._uU(0,"R\xe9ponse")}function Lp(p,E){if(1&p){const _=e.EpF();e.TgZ(0,"app-consultation-questionnaire-reponses",52),e.NdJ("newItemEvent",function(){e.CHM(_);const k=e.oxw(),ae=e.MAs(8);return e.KtG(k.stepChange(ae))}),e.qZA()}if(2&p){const _=e.oxw();e.Q6J("Question",_.question)}}const f_=function(){return["header-question"]},rf=function(){return[5,10]};let af=(()=>{class p{constructor(_,S,k,ae,Ue,On,vr){this.formBuilderAuth=_,this.questionnaireService=S,this.questionsService=k,this.reponsesService=ae,this.router=Ue,this.dialog=On,this.route=vr,this.questionnaireEditSuccess=!1,this.minDate=new Date,this.questionnaireEditError=!1,this.displayedColumns=["description","numeroOrdre","dateDebut","dateFin","action"],this.lengthColumns=this.displayedColumns.length,this.questions=[],this.step=!0}stepChange(_){_.previous(),this.step=!0}ngOnInit(){this.formEditQuestion=this.formBuilderAuth.group({idQuestion:[""],idQuestionnaire:[""],description:["",[w.kI.required]],numeroOrdre:["",[w.kI.required]],dateDebut:["",[w.kI.required]],dateFin:[""],auditUser:["test"]}),this.idQuestionnaire=this.route.snapshot.paramMap.get("idQuestionnaire"),this.questionnaireService.getQuestionnaireById(this.idQuestionnaire).subscribe(_=>{this.Questionnaire=_.description}),this.questionsService.getQuestionsByQuestionnaire(this.idQuestionnaire).subscribe(_=>{this.questions=_,this.questions.map(S=>{this.reponsesService.getReponsesByQuestion(S.id).subscribe(k=>{S.reponseList=k})}),this.dataSource=new Q.by(_),this.paginate()})}openDialogEdit(_){this.dialog.open(jp,{width:"60%",data:{Question:_}}).afterClosed().subscribe(k=>{console.table(k),this.questions=this.questions.map(ae=>(ae.id==k.Question.id&&(ae.description=k.Question.description,ae.numeroOrdre=k.Question.numeroOrdre,ae.dateDebut=k.Question.dateDebut,ae.dateFin=k.Question.dateFin),ae))})}viewReponse(_){this.question=_,this.step=!1}addQuestion(){this.dialog.open(po,{width:"60%",data:{questions:this.questions}}).afterClosed().subscribe(S=>{this.dataSource=new Q.by(this.questions),this.paginate()})}debutDateChange(_){this.minDate=_}paginate(){this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort}back(){this.router.navigateByUrl("gestion-produits/gestion-questionnaires")}submitEditQuestionnaire(){let _=this.questions.filter(k=>"string"==typeof k.idQuestion&&k.idQuestion?.includes("M")),S=this.questions.filter(k=>"string"!=typeof k.idQuestion);_.forEach(k=>{k.idQuestion="0",this.questionsService.addQuestion(k,this.idQuestionnaire).subscribe(ae=>{this.idQuestionnaire=ae.idQuestionnaire,this.formEditQuestion.reset(),k.reponseList?.forEach(Ue=>{this.reponsesService.addReponse(Ue,ae.id).subscribe(On=>{},On=>{this.questionnaireEditSuccess=!1,this.questionnaireEditError=!0,this.messageError=On.ErreurMessage?On.ErreurMessage:On.message})})},ae=>{this.questionnaireEditSuccess=!1,this.questionnaireEditError=!0,this.messageError=ae.ErreurMessage?ae.ErreurMessage:ae.message})}),S.forEach(k=>{this.questionsService.updateQuestion(k,k.id,this.idQuestionnaire).subscribe(ae=>{k.reponseList?.filter(Ue=>"string"==typeof Ue.idReponse&&Ue.idReponse?.includes("M")).forEach(Ue=>{this.reponsesService.addReponse(Ue,ae.id).subscribe(On=>{},On=>{this.questionnaireEditSuccess=!1,this.questionnaireEditError=!0,this.messageError=On.ErreurMessage?On.ErreurMessage:On.message})}),k.reponseList?.filter(Ue=>"string"!=typeof Ue.idReponse).forEach(Ue=>{this.reponsesService.updateReponse(Ue,ae.id,Ue.id).subscribe(On=>{},On=>{this.questionnaireEditSuccess=!1,this.questionnaireEditError=!0,this.messageError=On.ErreurMessage?On.ErreurMessage:On.message})}),this.questionnaireEditSuccess=!0,this.questionnaireEditError=!1},ae=>{this.questionnaireEditSuccess=!1,this.questionnaireEditError=!0,this.messageError=ae.ErreurMessage?ae.ErreurMessage:ae.message})})}}return p.\u0275fac=function(_){return new(_||p)(e.Y36(w.qu),e.Y36(M),e.Y36(bd),e.Y36(Em),e.Y36(ee.F0),e.Y36(xe.uw),e.Y36(ee.gz))},p.\u0275cmp=e.Xpm({type:p,selectors:[["app-edit-questions-questionnaire"]],viewQuery:function(_,S){if(1&_&&(e.Gf(Le.NW,5),e.Gf(qi.YE,5)),2&_){let k;e.iGM(k=e.CRH())&&(S.paginator=k.first),e.iGM(k=e.CRH())&&(S.sort=k.first)}},decls:41,vars:13,consts:[[1,"container"],[1,"heading",2,"padding-left","3%"],["class","alert alert-success",4,"ngIf"],["class","alert alert-danger",4,"ngIf"],[1,"mat-typography"],["stepper",""],["errorMessage","Veuillez saisir les informations du questionnaire"],[1,""],["matStepLabel",""],["mat-table","",1,"mat-elevation-z8","question-table",3,"dataSource"],["matColumnDef","header-question"],["mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","description"],["mat-cell","","style","padding-top: 24px; padding-bottom: 24px;",4,"matCellDef"],["matColumnDef","numeroOrdre"],["mat-header-cell","","style","padding-right: 60px;",4,"matHeaderCellDef"],["mat-cell","","style","padding-top: 24px; padding-bottom: 24px; padding-right: 60px;",4,"matCellDef"],["matColumnDef","dateDebut"],["matColumnDef","dateFin"],["matColumnDef","action"],["mat-cell","",4,"matCellDef"],["mat-header-row","","class","example-first-header-row",4,"matHeaderRowDef"],["mat-header-row","","class","example-second-header-row",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["aria-label","Select page  of users",3,"pageSize","pageSizeOptions"],["class","row-button",4,"ngIf"],[3,"Question","newItemEvent",4,"ngIf"],[1,"row-button",2,"justify-content","flex-end"],[1,"btn","btn-action",2,"margin-left","18px",3,"click"],[1,"alert","alert-success"],[1,"alert","alert-danger"],["mat-header-cell",""],[1,"header-tab"],[2,"display","flex","align-items","center"],["aria-hidden","false","aria-label","Dashboard",1,"material-symbols-outlined",2,"margin-right","14px",3,"mouseup"],["aria-hidden","false","aria-label","Dashboard","matTooltip","Ajouter une question","matTooltipPosition","right",1,"material-symbols-outlined",3,"click"],["mat-cell","",2,"padding-top","24px","padding-bottom","24px"],["mat-header-cell","",2,"padding-right","60px"],["mat-cell","",2,"padding-top","24px","padding-bottom","24px","padding-right","60px"],["mat-cell",""],["mat-icon-button","","aria-label","",3,"matMenuTriggerFor"],[2,"padding-top","5px"],["menu","matMenu"],["mat-menu-item","",3,"click"],["aria-hidden","false","aria-label","Dashboard","matTooltip","Modifier question","matTooltipPosition","right",1,"material-symbols-outlined"],["mat-menu-item","","matStepperNext","",3,"click"],["aria-hidden","false","aria-label","view reponse","matTooltip","Voir reponse","matTooltipPosition","right",1,"material-symbols-outlined",2,"margin-left","4px"],["mat-header-row","",1,"example-first-header-row"],["mat-header-row","",1,"example-second-header-row"],["mat-row",""],[1,"row-button"],[1,"btn","btn-cancel",3,"mouseup"],[3,"Question","newItemEvent"]],template:function(_,S){1&_&&(e.TgZ(0,"div",0)(1,"h2",1),e._uU(2),e.qZA(),e._UZ(3,"mat-divider"),e.YNc(4,Of,2,1,"div",2),e.YNc(5,Kp,2,1,"div",3),e.TgZ(6,"mat-dialog-content",4)(7,"mat-stepper",null,5)(9,"mat-step",6)(10,"div",7),e.YNc(11,Zd,1,0,"ng-template",8),e.TgZ(12,"table",9),e.ynx(13,10),e.YNc(14,Ko,8,1,"th",11),e.BQk(),e.ynx(15,12),e.YNc(16,ic,2,0,"th",11),e.YNc(17,Wp,2,1,"td",13),e.BQk(),e.ynx(18,14),e.YNc(19,Xp,2,0,"th",15),e.YNc(20,kf,2,1,"td",16),e.BQk(),e.ynx(21,17),e.YNc(22,ef,2,0,"th",11),e.YNc(23,Mf,3,4,"td",13),e.BQk(),e.ynx(24,18),e.YNc(25,tf,2,0,"th",11),e.YNc(26,qu,3,4,"td",13),e.BQk(),e.ynx(27,19),e.YNc(28,Ao,2,0,"th",11),e.YNc(29,nf,16,1,"td",20),e.BQk(),e.YNc(30,gc,1,0,"tr",21),e.YNc(31,of,1,0,"tr",22),e.YNc(32,Uf,1,0,"tr",23),e.qZA(),e._UZ(33,"mat-paginator",24),e.qZA(),e.YNc(34,nr,5,0,"div",25),e.qZA(),e.TgZ(35,"mat-step"),e.YNc(36,Ff,1,0,"ng-template",8),e.YNc(37,Lp,1,1,"app-consultation-questionnaire-reponses",26),e.TgZ(38,"div",27)(39,"button",28),e.NdJ("click",function(){return S.submitEditQuestionnaire()}),e._uU(40,"Enregistrer"),e.qZA()()()()()()),2&_&&(e.xp6(2),e.hij("Modification question du questionnaire '",S.Questionnaire,"'"),e.xp6(2),e.Q6J("ngIf",S.questionnaireEditSuccess),e.xp6(1),e.Q6J("ngIf",S.questionnaireEditError),e.xp6(7),e.Q6J("dataSource",S.dataSource),e.xp6(18),e.Q6J("matHeaderRowDef",e.DdM(11,f_)),e.xp6(1),e.Q6J("matHeaderRowDef",S.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",S.displayedColumns),e.xp6(1),e.Q6J("pageSize",5)("pageSizeOptions",e.DdM(12,rf)),e.xp6(1),e.Q6J("ngIf",S.step),e.xp6(3),e.Q6J("ngIf",!S.step))},dependencies:[Se.O5,O.d,Mn.Hw,Nn.VK,Nn.OP,Nn.p6,Q.BZ,Q.fO,Q.as,Q.w1,Q.Dz,Q.nj,Q.ge,Q.ev,Q.XQ,Q.Gk,oo.gM,Le.NW,xe.xY,vn.lW,er.C0,er.VY,er.Vq,er.Ic,Pd,Se.uU],styles:[".buttons.row[_ngcontent-%COMP%]{justify-content:space-between;padding:0 21px}h2.heading[_ngcontent-%COMP%]{color:#00008f;font-weight:700!important;letter-spacing:.5px}.mat-dialog-content[_ngcontent-%COMP%]{padding-top:15px}.mat-radio-button[_ngcontent-%COMP%]{margin:0 12px}.mat-form-field[_ngcontent-%COMP%]{padding-top:15px}.mat-error[_ngcontent-%COMP%]{font-size:11px}.container[_ngcontent-%COMP%]{background-color:#fff;padding:40px 0;height:100%;overflow:auto}.container[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}table.question-table[_ngcontent-%COMP%]{width:96%;margin:auto}.mat-header-cell[_ngcontent-%COMP%]{color:#333;font-weight:600;letter-spacing:.5px;font-size:15px;width:165px}.header-tab[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}.mat-paginator[_ngcontent-%COMP%]{background-color:transparent;margin:20px auto auto;width:96%}.example-first-header-row[_ngcontent-%COMP%]{background-color:#00008f}.example-first-header-row[_ngcontent-%COMP%]   th.mat-header-cell[_ngcontent-%COMP%]{border:none;color:#fff;font-size:18px}.mat-column-valeurGarantie.mat-cell[_ngcontent-%COMP%], .mat-column-valeurEnvloppe.mat-cell[_ngcontent-%COMP%]{text-align:center}.mat-icon[_ngcontent-%COMP%]{height:100%;font-size:36px;width:-moz-fit-content;width:fit-content}.mat-cell[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{color:#00008f}.mat-header-cell.mat-icon[_ngcontent-%COMP%]{color:#fff}.mat-cell[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]:hover, .mat-header-cell[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]:hover{color:#d14723;cursor:pointer}  .mat-tooltip{font-size:14px}  .mat-horizontal-stepper-header{pointer-events:none!important}.row-button[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:0 3rem;margin-top:2rem}"],data:{animation:[(0,go.X$)("enterAnimation",[(0,go.eR)(":enter",[(0,go.oB)({opacity:0,transform:"translateX(-100%)"}),(0,go.jt)(400)])])]}}),p})();function lg(p,E){if(1&p&&(e.TgZ(0,"div",45),e._uU(1),e.qZA()),2&p){const _=e.oxw();e.xp6(1),e.hij("Le questionnaire N\xb0",_.idQuestionnaire," a \xe9t\xe9 cr\xe9er avec succ\xe9s")}}function cg(p,E){if(1&p&&(e.TgZ(0,"div",46),e._uU(1),e.qZA()),2&p){const _=e.oxw();e.xp6(1),e.hij(" ",_.messageError," ")}}function v(p,E){1&p&&e._uU(0,"Questionnaire")}function H(p,E){1&p&&(e.TgZ(0,"div"),e._uU(1," ce champs est obligatoire"),e.qZA())}function C(p,E){if(1&p&&(e.TgZ(0,"mat-error",47),e.YNc(1,H,2,0,"div",48),e.qZA()),2&p){const _=e.oxw();e.xp6(1),e.Q6J("ngIf",_.formCreationQuestionnaire.controls.description.errors.required)}}function le(p,E){1&p&&(e.TgZ(0,"div"),e._uU(1," ce champs est obligatoire"),e.qZA())}function re(p,E){if(1&p&&(e.TgZ(0,"mat-error",47),e.YNc(1,le,2,0,"div",48),e.qZA()),2&p){const _=e.oxw();e.xp6(1),e.Q6J("ngIf",_.formCreationQuestionnaire.controls.dateDebut.errors.required)}}function Fe(p,E){1&p&&(e.TgZ(0,"mat-error",47)(1,"div"),e._uU(2," Date fin est inf\xe9rieur \xe0 la date d\xe9but"),e.qZA()())}function ti(p,E){1&p&&(e.TgZ(0,"button",49),e._uU(1,"Suivant"),e.qZA())}function qo(p,E){1&p&&(e.TgZ(0,"button",50),e._uU(1,"Suivant"),e.qZA())}function Vs(p,E){1&p&&e._uU(0,"Questions")}function Ya(p,E){if(1&p){const _=e.EpF();e.TgZ(0,"th",51)(1,"div",52)(2,"span"),e._uU(3,"Liste des Questions "),e.qZA(),e.TgZ(4,"mat-icon",53),e.NdJ("click",function(){e.CHM(_);const k=e.oxw();return e.KtG(k.addQuestion())}),e._uU(5,"add"),e.qZA()()()}if(2&p){const _=e.oxw();e.uIk("colspan",_.lengthColumns)}}function Fc(p,E){1&p&&(e.TgZ(0,"th",51),e._uU(1," Description "),e.qZA())}function g_(p,E){if(1&p&&(e.TgZ(0,"td",54),e._uU(1),e.qZA()),2&p){const _=E.$implicit;e.xp6(1),e.hij(" ",_.description," ")}}function Qf(p,E){1&p&&(e.TgZ(0,"th",55),e._uU(1," Num\xe9ro d'ordre "),e.qZA())}function js(p,E){if(1&p&&(e.TgZ(0,"td",56),e._uU(1),e.qZA()),2&p){const _=E.$implicit;e.xp6(1),e.hij(" ",_.numeroOrdre," ")}}function em(p,E){1&p&&(e.TgZ(0,"th",51),e._uU(1," Date debut "),e.qZA())}function Hs(p,E){if(1&p&&(e.TgZ(0,"td",54),e._uU(1),e.ALo(2,"date"),e.qZA()),2&p){const _=E.$implicit;e.xp6(1),e.hij(" ",e.xi3(2,1,_.dateDebut,"dd/MM/yyyy")," ")}}function hc(p,E){1&p&&(e.TgZ(0,"th",51),e._uU(1," Date fin "),e.qZA())}function Ug(p,E){if(1&p&&(e.TgZ(0,"td",54),e._uU(1),e.ALo(2,"date"),e.qZA()),2&p){const _=E.$implicit;e.xp6(1),e.hij(" ",e.xi3(2,1,_.dateFin,"dd/MM/yyyy")," ")}}function Fg(p,E){1&p&&(e.TgZ(0,"th",51),e._uU(1," Action "),e.qZA())}function Qg(p,E){if(1&p){const _=e.EpF();e.TgZ(0,"td",57)(1,"button",58)(2,"mat-icon",59),e._uU(3,"more_vert"),e.qZA()(),e.TgZ(4,"mat-menu",null,60)(6,"button",61),e.NdJ("click",function(){const ae=e.CHM(_).$implicit,Ue=e.oxw();return e.KtG(Ue.openDialogEdit(ae))}),e.TgZ(7,"mat-icon",62),e._uU(8,"edit"),e.qZA(),e.TgZ(9,"span"),e._uU(10,"Modifier la question"),e.qZA()(),e.TgZ(11,"button",63),e.NdJ("click",function(){const ae=e.CHM(_).$implicit,Ue=e.oxw();return e.KtG(Ue.viewReponse(ae))}),e.TgZ(12,"mat-icon",64),e._uU(13," visibility"),e.qZA(),e.TgZ(14,"span"),e._uU(15,"Voir les r\xe9ponse"),e.qZA()()()()}if(2&p){const _=e.MAs(5);e.xp6(1),e.Q6J("matMenuTriggerFor",_)}}function ug(p,E){1&p&&e._UZ(0,"tr",65)}function Jg(p,E){1&p&&e._UZ(0,"tr",66)}function Lg(p,E){1&p&&e._UZ(0,"tr",67)}function Yg(p,E){if(1&p){const _=e.EpF();e.TgZ(0,"div",20)(1,"button",68),e._uU(2,"Retour"),e.qZA(),e.TgZ(3,"button",44),e.NdJ("click",function(){e.CHM(_);const k=e.oxw();return e.KtG(k.submitCreationQuestionnaire())}),e._uU(4,"Enregistrer"),e.qZA()()}}function mg(p,E){1&p&&e._uU(0,"R\xe9ponses")}function Gg(p,E){if(1&p){const _=e.EpF();e.TgZ(0,"app-consultation-questionnaire-reponses",69),e.NdJ("newItemEvent",function(){e.CHM(_);const k=e.oxw(),ae=e.MAs(8);return e.KtG(k.stepChange(ae))}),e.qZA()}if(2&p){const _=e.oxw();e.Q6J("Question",_.question)}}const Bg=function(){return["header-question"]},zg=function(){return[5,10]};let Jf=(()=>{class p{constructor(_,S,k,ae){this.formBuilderAuth=_,this.questionnairesService=S,this.router=k,this.dialog=ae,this.questionnaireCreationSuccess=!1,this.minDate=new Date,this.questionnaireCreationError=!1,this.displayedColumns=["description","numeroOrdre","dateDebut","dateFin","action"],this.lengthColumns=this.displayedColumns.length,this.questions=[],this.step=!0}stepChange(_){_.previous(),this.step=!0}ngOnInit(){this.formCreationQuestionnaire=this.formBuilderAuth.group({description:["",[w.kI.required]],dateDebut:["",[w.kI.required]],dateFin:[""],auditUser:["test"]})}openDialogEdit(_){this.dialog.open(jp,{width:"60%",data:{Question:_}}).afterClosed().subscribe(k=>{console.table(k),this.questions=this.questions.map(ae=>(ae.idQuestion==k.Question.idQuestion&&(ae.description=k.Question.description,ae.numeroOrdre=k.Question.numeroOrdre,ae.dateDebut=k.Question.dateDebut,ae.dateFin=k.Question.dateFin),ae))})}viewReponse(_){this.question=_,this.step=!1}back(){this.router.navigateByUrl("gestion-produits/gestion-questionnaires")}addQuestion(){this.dialog.open(po,{width:"60%",data:{questions:this.questions}}).afterClosed().subscribe(S=>{this.dataSource=new Q.by(this.questions),this.paginate()})}submitCreationQuestionnaire(){this.formCreationQuestionnaire.get("dateDebut").setValue(o(this.formCreationQuestionnaire.get("dateDebut").value).format("YYYY-MM-DD")),this.questionnaire=this.formCreationQuestionnaire.value,this.questionnaire.questions=this.questions,this.questionnairesService.addQuestionnaire(this.questionnaire).subscribe(_=>{this.questionnaireCreationSuccess=!0,this.questionnaireCreationError=!1,this.idQuestionnaire=_.idQuestionnaire,Yo().fire(`Le questionnaire N\xb0${_.idQuestionnaire} a \xe9t\xe9 ajouter avec succ\xe9s`,"","success"),this.formCreationQuestionnaire.reset(),this.back()},_=>{this.questionnaireCreationError=!0,this.questionnaireCreationSuccess=!1,this.messageError=_.ErreurMessage?_.ErreurMessage:_.message,Yo().fire(this.messageError,"","error")})}debutDateChange(_){this.minDate=_}paginate(){this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort}}return p.\u0275fac=function(_){return new(_||p)(e.Y36(w.qu),e.Y36(M),e.Y36(ee.F0),e.Y36(xe.uw))},p.\u0275cmp=e.Xpm({type:p,selectors:[["app-creation-questionnaires-dialog"]],viewQuery:function(_,S){if(1&_&&(e.Gf(Le.NW,5),e.Gf(qi.YE,5)),2&_){let k;e.iGM(k=e.CRH())&&(S.paginator=k.first),e.iGM(k=e.CRH())&&(S.sort=k.first)}},decls:72,vars:24,consts:[[1,"container"],[1,"heading",2,"padding-left","3%"],["class","alert alert-success",4,"ngIf"],["class","alert alert-danger",4,"ngIf"],[1,"mat-typography"],["stepper",""],["errorMessage","Veuillez saisir les informations du questionnaire",3,"stepControl"],[1,"login-form",3,"formGroup"],["formDirective","ngForm"],["matStepLabel",""],["appearance","outline",1,"col-md-4",2,"padding-right","1%"],["type","text","matInput","","placeholder","","formControlName","description"],["class","invalid-feedback",4,"ngIf"],["appearance","outline",1,"col-md-4",2,"padding-left","1%","padding-right","1%"],["matInput","","formControlName","dateDebut",3,"matDatepicker","dateChange"],["matSuffix","",3,"for"],["pickerDateDebut",""],["appearance","outline",1,"col-md-4",2,"padding-left","1%"],["matInput","","formControlName","dateFin",3,"min","matDatepicker"],["pickerDateFin",""],[1,"row-button"],[1,"btn","btn-cancel",3,"mouseup"],["class","btn btn-action",4,"ngIf"],["matStepperNext","","class","btn btn-action",4,"ngIf"],[1,""],["mat-table","",1,"mat-elevation-z8","question-table",3,"dataSource"],["matColumnDef","header-question"],["mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","description"],["mat-cell","","style","padding-top: 24px; padding-bottom: 24px;",4,"matCellDef"],["matColumnDef","numeroOrdre"],["mat-header-cell","","style","padding-right: 60px;",4,"matHeaderCellDef"],["mat-cell","","style","padding-top: 24px; padding-bottom: 24px; padding-right: 60px;",4,"matCellDef"],["matColumnDef","dateDebut"],["matColumnDef","dateFin"],["matColumnDef","action"],["mat-cell","",4,"matCellDef"],["mat-header-row","","class","example-first-header-row",4,"matHeaderRowDef"],["mat-header-row","","class","example-second-header-row",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["aria-label","Select page  of users",3,"pageSize","pageSizeOptions"],["class","row-button",4,"ngIf"],[3,"Question","newItemEvent",4,"ngIf"],[1,"row-button",2,"justify-content","flex-end"],[1,"btn","btn-action",3,"click"],[1,"alert","alert-success"],[1,"alert","alert-danger"],[1,"invalid-feedback"],[4,"ngIf"],[1,"btn","btn-action"],["matStepperNext","",1,"btn","btn-action"],["mat-header-cell",""],[1,"header-tab"],["aria-hidden","false","aria-label","Dashboard","matTooltip","Ajouter une question","matTooltipPosition","right",1,"material-symbols-outlined",3,"click"],["mat-cell","",2,"padding-top","24px","padding-bottom","24px"],["mat-header-cell","",2,"padding-right","60px"],["mat-cell","",2,"padding-top","24px","padding-bottom","24px","padding-right","60px"],["mat-cell",""],["mat-icon-button","","aria-label","",3,"matMenuTriggerFor"],[2,"padding-top","5px"],["menu","matMenu"],["mat-menu-item","",3,"click"],["aria-hidden","false","aria-label","Dashboard","matTooltip","Modifier question","matTooltipPosition","right",1,"material-symbols-outlined"],["mat-menu-item","","matStepperNext","",3,"click"],["aria-hidden","false","aria-label","view reponse","matTooltip","Ajouter reponse","matTooltipPosition","right",1,"material-symbols-outlined",2,"margin-left","4px"],["mat-header-row","",1,"example-first-header-row"],["mat-header-row","",1,"example-second-header-row"],["mat-row",""],["matStepperPrevious","",1,"btn","btn-cancel"],[3,"Question","newItemEvent"]],template:function(_,S){if(1&_&&(e.TgZ(0,"div",0)(1,"h2",1),e._uU(2,"Cr\xe9ation Questionnaire"),e.qZA(),e._UZ(3,"mat-divider"),e.YNc(4,lg,2,1,"div",2),e.YNc(5,cg,2,1,"div",3),e.TgZ(6,"mat-dialog-content",4)(7,"mat-stepper",null,5)(9,"mat-step",6)(10,"form",7,8),e.YNc(12,v,1,0,"ng-template",9),e.TgZ(13,"mat-form-field",10)(14,"mat-label"),e._uU(15,"Nom du questionnaire"),e.qZA(),e._UZ(16,"input",11),e.YNc(17,C,2,1,"mat-error",12),e.qZA(),e.TgZ(18,"mat-form-field",13)(19,"mat-label"),e._uU(20,"Date debut"),e.qZA(),e.TgZ(21,"input",14),e.NdJ("dateChange",function(ae){return S.debutDateChange(ae.value)}),e.qZA(),e._UZ(22,"mat-datepicker-toggle",15)(23,"mat-datepicker",null,16),e.YNc(25,re,2,1,"mat-error",12),e.qZA(),e.TgZ(26,"mat-form-field",17)(27,"mat-label"),e._uU(28,"Date fin"),e.qZA(),e._UZ(29,"input",18)(30,"mat-datepicker-toggle",15)(31,"mat-datepicker",null,19),e.YNc(33,Fe,3,0,"mat-error",12),e.qZA(),e.TgZ(34,"div",20)(35,"button",21),e.NdJ("mouseup",function(){return S.back()}),e._uU(36,"Retour"),e.qZA(),e.YNc(37,ti,2,0,"button",22),e.YNc(38,qo,2,0,"button",23),e.qZA()()(),e.TgZ(39,"mat-step"),e.YNc(40,Vs,1,0,"ng-template",9),e.TgZ(41,"div",24)(42,"table",25),e.ynx(43,26),e.YNc(44,Ya,6,1,"th",27),e.BQk(),e.ynx(45,28),e.YNc(46,Fc,2,0,"th",27),e.YNc(47,g_,2,1,"td",29),e.BQk(),e.ynx(48,30),e.YNc(49,Qf,2,0,"th",31),e.YNc(50,js,2,1,"td",32),e.BQk(),e.ynx(51,33),e.YNc(52,em,2,0,"th",27),e.YNc(53,Hs,3,4,"td",29),e.BQk(),e.ynx(54,34),e.YNc(55,hc,2,0,"th",27),e.YNc(56,Ug,3,4,"td",29),e.BQk(),e.ynx(57,35),e.YNc(58,Fg,2,0,"th",27),e.YNc(59,Qg,16,1,"td",36),e.BQk(),e.YNc(60,ug,1,0,"tr",37),e.YNc(61,Jg,1,0,"tr",38),e.YNc(62,Lg,1,0,"tr",39),e.qZA(),e._UZ(63,"mat-paginator",40),e.qZA(),e.YNc(64,Yg,5,0,"div",41),e.qZA(),e.TgZ(65,"mat-step"),e.YNc(66,mg,1,0,"ng-template",9),e.TgZ(67,"div",24),e.YNc(68,Gg,1,1,"app-consultation-questionnaire-reponses",42),e.TgZ(69,"div",43)(70,"button",44),e.NdJ("click",function(){return S.submitCreationQuestionnaire()}),e._uU(71,"Enregistrer"),e.qZA()()()()()()()),2&_){const k=e.MAs(11),ae=e.MAs(24),Ue=e.MAs(32);e.xp6(4),e.Q6J("ngIf",S.questionnaireCreationSuccess),e.xp6(1),e.Q6J("ngIf",S.questionnaireCreationError),e.xp6(4),e.Q6J("stepControl",S.formCreationQuestionnaire),e.xp6(1),e.Q6J("formGroup",S.formCreationQuestionnaire),e.xp6(7),e.Q6J("ngIf",S.formCreationQuestionnaire.controls.description.errors),e.xp6(4),e.Q6J("matDatepicker",ae),e.xp6(1),e.Q6J("for",ae),e.xp6(3),e.Q6J("ngIf",S.formCreationQuestionnaire.controls.dateDebut.errors),e.xp6(4),e.Q6J("min",S.minDate)("matDatepicker",Ue),e.xp6(1),e.Q6J("for",Ue),e.xp6(3),e.Q6J("ngIf",S.formCreationQuestionnaire.controls.dateFin.hasError("matDatepickerMin")),e.xp6(4),e.Q6J("ngIf",!k.valid),e.xp6(1),e.Q6J("ngIf",k.valid),e.xp6(4),e.Q6J("dataSource",S.dataSource),e.xp6(18),e.Q6J("matHeaderRowDef",e.DdM(22,Bg)),e.xp6(1),e.Q6J("matHeaderRowDef",S.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",S.displayedColumns),e.xp6(1),e.Q6J("pageSize",5)("pageSizeOptions",e.DdM(23,zg)),e.xp6(1),e.Q6J("ngIf",S.step),e.xp6(4),e.Q6J("ngIf",!S.step)}},styles:[".buttons.row[_ngcontent-%COMP%]{justify-content:space-between;padding:0 21px}h2.heading[_ngcontent-%COMP%]{color:#00008f;font-weight:700!important;letter-spacing:.5px}.mat-dialog-content[_ngcontent-%COMP%]{padding-top:15px}.mat-radio-button[_ngcontent-%COMP%]{margin:0 12px}.mat-form-field[_ngcontent-%COMP%]{padding-top:15px}.mat-error[_ngcontent-%COMP%]{font-size:11px}.container[_ngcontent-%COMP%]{background-color:#fff;padding:40px 0;height:100%;overflow:auto}.container[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}table.question-table[_ngcontent-%COMP%]{width:100%}.mat-header-cell[_ngcontent-%COMP%]{color:#333;font-weight:600;letter-spacing:.5px;font-size:15px;width:165px}.header-tab[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}.mat-paginator[_ngcontent-%COMP%]{background-color:transparent;margin:20px auto auto;width:80%}.example-first-header-row[_ngcontent-%COMP%]{background-color:#00008f}.example-first-header-row[_ngcontent-%COMP%]   th.mat-header-cell[_ngcontent-%COMP%]{border:none;color:#fff;font-size:18px}.mat-column-valeurGarantie.mat-cell[_ngcontent-%COMP%], .mat-column-valeurEnvloppe.mat-cell[_ngcontent-%COMP%]{text-align:center}.mat-icon[_ngcontent-%COMP%]{height:100%;font-size:36px;width:-moz-fit-content;width:fit-content}.mat-cell[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{color:#00008f}.mat-header-cell.mat-icon[_ngcontent-%COMP%]{color:#fff}.mat-cell[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]:hover, .mat-header-cell[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]:hover{color:#d14723;cursor:pointer}  .mat-tooltip{font-size:14px}  .mat-horizontal-stepper-header{pointer-events:none!important}.row-button[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:0 3rem;margin-top:2rem}"],data:{animation:[(0,go.X$)("enterAnimation",[(0,go.eR)(":enter",[(0,go.oB)({opacity:0,transform:"translateX(-100%)"}),(0,go.jt)(400)])])]}}),p})();var Xm=B(7947);function Lf(p,E){1&p&&(e.TgZ(0,"th",18),e._uU(1," ID "),e.qZA())}function Vg(p,E){if(1&p&&(e.TgZ(0,"td",19),e._uU(1),e.qZA()),2&p){const _=E.$implicit;e.xp6(1),e.hij(" ",_.idCodeProduit," ")}}function jg(p,E){1&p&&(e.TgZ(0,"th",20),e._uU(1," Description "),e.qZA())}function Hg(p,E){if(1&p&&(e.TgZ(0,"td",21),e._uU(1),e.qZA()),2&p){const _=E.$implicit;e.xp6(1),e.hij(" ",_.description," ")}}function h_(p,E){1&p&&(e.TgZ(0,"th",18),e._uU(1," Date debut "),e.qZA())}function dg(p,E){if(1&p&&(e.TgZ(0,"td",19),e._uU(1),e.ALo(2,"date"),e.qZA()),2&p){const _=E.$implicit;e.xp6(1),e.hij(" ",e.xi3(2,1,_.dateDebut,"dd/MM/yyyy")," ")}}function $g(p,E){1&p&&(e.TgZ(0,"th",18),e._uU(1," Date fin "),e.qZA())}function Kg(p,E){if(1&p&&(e.TgZ(0,"td",19),e._uU(1),e.ALo(2,"date"),e.qZA()),2&p){const _=E.$implicit;e.xp6(1),e.hij(" ",e.xi3(2,1,_.dateFin,"dd/MM/yyyy")," ")}}function Wg(p,E){1&p&&(e.TgZ(0,"th",18),e._uU(1," Action "),e.qZA())}function Xg(p,E){if(1&p){const _=e.EpF();e.TgZ(0,"td",19)(1,"button",22)(2,"mat-icon",23),e._uU(3,"more_vert"),e.qZA()(),e.TgZ(4,"mat-menu",null,24)(6,"button",25),e.NdJ("click",function(){const ae=e.CHM(_).$implicit,Ue=e.oxw();return e.KtG(Ue.editProduit(ae.idCodeProduit))}),e.TgZ(7,"mat-icon",26),e._uU(8,"edit "),e.qZA(),e.TgZ(9,"span"),e._uU(10,"Modifier le produit"),e.qZA()(),e.TgZ(11,"button",25),e.NdJ("click",function(){const ae=e.CHM(_).$implicit,Ue=e.oxw();return e.KtG(Ue.viewProduit(ae.idCodeProduit))}),e.TgZ(12,"mat-icon",27),e._uU(13," visibility"),e.qZA(),e.TgZ(14,"span"),e._uU(15,"D\xe9tails Produit"),e.qZA()()()()}if(2&p){const _=e.MAs(5);e.xp6(1),e.Q6J("matMenuTriggerFor",_)}}function _g(p,E){1&p&&e._UZ(0,"tr",28)}function pg(p,E){1&p&&e._UZ(0,"tr",29)}const e1=function(){return[5,10,20]};let t1=(()=>{class p{constructor(_,S,k,ae){this.router=_,this.produitService=S,this.dialog=k,this.familleProduitService=ae,this.displayedColumns=["idProduit","description","dateDebut","dateFin","action"],this.lengthColumns=this.displayedColumns.length}ngOnInit(){this.getAllProduits()}editProduit(_){this.router.navigateByUrl("gestion-produits/gestion-produit-risque/"+_+"/edit")}viewProduit(_){this.router.navigateByUrl("gestion-produits/gestion-produit-risque/"+_+"/edit")}getAllProduits(){this.produitService.getAllProduits().subscribe({next:_=>{this.dataSource=new Q.by(_),this.paginate(),console.table(_)},error:_=>{console.log(_)}})}paginate(){this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort}openCreateDialog(){this.router.navigateByUrl("gestion-produits/gestion-produit-risque/create")}}return p.\u0275fac=function(_){return new(_||p)(e.Y36(ee.F0),e.Y36(Xm.d),e.Y36(xe.uw),e.Y36(la))},p.\u0275cmp=e.Xpm({type:p,selectors:[["app-gestion-produit-risque"]],viewQuery:function(_,S){if(1&_&&(e.Gf(Le.NW,5),e.Gf(qi.YE,5)),2&_){let k;e.iGM(k=e.CRH())&&(S.paginator=k.first),e.iGM(k=e.CRH())&&(S.sort=k.first)}},decls:28,vars:6,consts:[[1,"container"],[1,"header"],[1,"title-table"],[1,"btn","btn-secondary",2,"display","flex","align-items","center",3,"click"],["aria-hidden","false","aria-label","ajouter dur\xe9e ",1,"material-symbols-outlined"],["mat-table","",1,"gestion-table",3,"dataSource"],["matColumnDef","idProduit"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","description"],["mat-header-cell","","style","width:40%",4,"matHeaderCellDef"],["mat-cell","","style","width:40%",4,"matCellDef"],["matColumnDef","dateDebut"],["matColumnDef","dateFin"],["matColumnDef","action"],["mat-header-row","","class","example-second-header-row",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["aria-label","Select page of users",3,"pageSize","pageSizeOptions"],["mat-header-cell",""],["mat-cell",""],["mat-header-cell","",2,"width","40%"],["mat-cell","",2,"width","40%"],["mat-icon-button","","aria-label","",3,"matMenuTriggerFor"],[2,"padding-top","5px"],["menu","matMenu"],["mat-menu-item","",3,"click"],["aria-hidden","false","aria-label","edit produit-risque","matTooltip","Modifier Produit","matTooltipPosition","right",1,"material-symbols-outlined"],["aria-hidden","false","aria-label","view produit-risque","matTooltip","D\xe9tails Produit","matTooltipPosition","right",1,"material-symbols-outlined",2,"margin-left","4px"],["mat-header-row","",1,"example-second-header-row"],["mat-row",""]],template:function(_,S){1&_&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h2",2),e._uU(3,"Listes des produits"),e.qZA(),e.TgZ(4,"button",3),e.NdJ("click",function(){return S.openCreateDialog()}),e.TgZ(5,"mat-icon",4),e._uU(6,"add_circle"),e.qZA(),e._uU(7," Ajouter un nouveau produit "),e.qZA()(),e._UZ(8,"mat-divider"),e.TgZ(9,"table",5),e.ynx(10,6),e.YNc(11,Lf,2,0,"th",7),e.YNc(12,Vg,2,1,"td",8),e.BQk(),e.ynx(13,9),e.YNc(14,jg,2,0,"th",10),e.YNc(15,Hg,2,1,"td",11),e.BQk(),e.ynx(16,12),e.YNc(17,h_,2,0,"th",7),e.YNc(18,dg,3,4,"td",8),e.BQk(),e.ynx(19,13),e.YNc(20,$g,2,0,"th",7),e.YNc(21,Kg,3,4,"td",8),e.BQk(),e.ynx(22,14),e.YNc(23,Wg,2,0,"th",7),e.YNc(24,Xg,16,1,"td",8),e.BQk(),e.YNc(25,_g,1,0,"tr",15),e.YNc(26,pg,1,0,"tr",16),e.qZA(),e._UZ(27,"mat-paginator",17),e.qZA()),2&_&&(e.xp6(9),e.Q6J("dataSource",S.dataSource),e.xp6(16),e.Q6J("matHeaderRowDef",S.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",S.displayedColumns),e.xp6(1),e.Q6J("pageSize",10)("pageSizeOptions",e.DdM(5,e1)))},dependencies:[O.d,Mn.Hw,Nn.VK,Nn.OP,Nn.p6,Q.BZ,Q.fO,Q.as,Q.w1,Q.Dz,Q.nj,Q.ge,Q.ev,Q.XQ,Q.Gk,oo.gM,Le.NW,vn.lW,Se.uU],styles:[".container[_ngcontent-%COMP%]{background-color:#fff;padding:40px 0;height:100%;overflow-y:auto;overflow-x:hidden}.gestion-table[_ngcontent-%COMP%]{width:100%}.gestion-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .gestion-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:16px}.gestion-table[_ngcontent-%COMP%]   .mat-header-cell[_ngcontent-%COMP%]{color:#00008f;font-weight:600}.gestion-table[_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]:nth-child(even), .gestion-table[_ngcontent-%COMP%]   .mat-header-row[_ngcontent-%COMP%]{background-color:#f7f7f9}.gestion-table[_ngcontent-%COMP%]   .mat-paginator[_ngcontent-%COMP%]{background-color:transparent;margin:20px auto auto;width:80%}.gestion-table[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{height:100%;font-size:26px;color:#00008f;width:-moz-fit-content;width:fit-content}.mat-menu-item[_ngcontent-%COMP%]{font-size:15px}.mat-menu-item[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:18px;height:-moz-fit-content;height:fit-content}.mat-menu-item[_ngcontent-%COMP%]:hover:not([disabled]), .mat-menu-item[_ngcontent-%COMP%]:hover:not([disabled])   .mat-icon[_ngcontent-%COMP%]{color:#00008f}.header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:0px 2rem}.header[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{height:-moz-fit-content;height:fit-content;font-size:29px;margin-right:1rem;width:-moz-fit-content;width:fit-content}.title-table[_ngcontent-%COMP%]{margin-bottom:0rem;font-weight:800!important;font-size:23px!important;color:#00008f!important}"]}),p})();const fg=[{idParamProduit:1,libelle:"devis",description:"Devis",type:"checkbox",ifselect:["Oui","Non"],position:"col-md-6",required:!0},{idParamProduit:2,libelle:"devisEnLigne",description:"Devis en ligne",type:"checkbox",ifselect:["Oui","Non"],position:"col-md-6",required:!0},{idParamProduit:3,libelle:"payPrint",description:"Pay and print",type:"checkbox",ifselect:["Oui","Non"],position:"col-md-6",required:!0},{idParamProduit:4,libelle:"gestionDeSinistre",description:"Gestion des sinistres",type:"checkbox",ifselect:["Oui","Non"],position:"col-md-6",required:!0},{idParamProduit:5,libelle:"gestionDeSinistreLigne",description:"Gestion des sinistres en ligne",type:"checkbox",ifselect:["Oui","Non"],position:"col-md-6",required:!0},{idParamProduit:6,libelle:"capping",description:"Capping",type:"checkbox",ifselect:["Oui","Non"],position:"col-md-6",required:!0},{idParamProduit:7,libelle:"convetion",description:"Convetion",type:"checkbox",ifselect:["Oui","Non"],position:"col-md-6",required:!0},{idParamProduit:8,libelle:"bonusMalus",description:"Bonus & malus",type:"checkbox",ifselect:["Oui","Non"],position:"col-md-6",required:!0},{idParamProduit:9,libelle:"prunning",description:"Prunning",type:"checkbox",ifselect:["Oui","Non"],position:"col-md-6",required:!0},{idParamProduit:10,libelle:"souscriptionEnLigne",description:"Souscription en ligne",type:"checkbox",ifselect:["Oui","Non"],position:"col-md-6",required:!0},{idParamProduit:11,libelle:"fractionnement",description:"Fractionnement",type:"checkbox",ifselect:["Oui","Non"],position:"col-md-6",required:!0},{idParamProduit:12,libelle:"multirisque",description:"Multirisque",type:"checkbox",ifselect:["Oui","Non"],position:"col-md-6",required:!0}],gg=[{idParam:67,libelle:"defaultValue",description:"Valeur par defaut",type:"number",ifselect:[],position:"col-md-6",required:!0},{idParam:68,libelle:"pourcentage",description:"pourcentage",type:"number",ifselect:[],position:"col-md-6",required:!0},{idParam:69,libelle:"valeurMin",description:"Valeur min",type:"number",ifselect:[],position:"col-md-6",required:!0},{idParam:70,libelle:"valeurMax",description:"Valeur max",type:"number",ifselect:[],position:"col-md-6",required:!0}],hg=[{idParam:67,libelle:"defaultValue",description:"Valeur par defaut",type:"string",ifselect:[],position:"col-md-6",required:!0}];function n1(p,E){if(1&p&&(e.ynx(0),e.TgZ(1,"mat-option",26),e._uU(2),e.qZA(),e.BQk()),2&p){const _=E.$implicit;e.xp6(1),e.s9C("value",_),e.xp6(1),e.Oqu(_)}}function i1(p,E){if(1&p&&(e.TgZ(0,"mat-select",25)(1,"mat-label"),e._uU(2),e.qZA(),e.YNc(3,n1,3,2,"ng-container",12),e.qZA()),2&p){const _=e.oxw().$implicit;e.xp6(2),e.Oqu(_.description),e.xp6(1),e.Q6J("ngForOf",_.ifselect)}}function Cg(p,E){if(1&p&&(e.TgZ(0,"mat-radio-button",26),e._uU(1),e.qZA()),2&p){const _=E.$implicit;e.s9C("value",_),e.xp6(1),e.hij(" ",_," ")}}function o1(p,E){if(1&p&&(e.TgZ(0,"mat-radio-group"),e.YNc(1,Cg,2,2,"mat-radio-button",27),e.qZA()),2&p){const _=e.oxw().$implicit;e.xp6(1),e.Q6J("ngForOf",_.ifselect)}}function r1(p,E){if(1&p&&(e.ynx(0),e.TgZ(1,"mat-option",26),e._uU(2),e.qZA(),e.BQk()),2&p){const _=E.$implicit;e.xp6(1),e.s9C("value",_),e.xp6(1),e.Oqu(_)}}function a1(p,E){if(1&p&&(e.TgZ(0,"mat-select")(1,"mat-label"),e._uU(2),e.qZA(),e.YNc(3,r1,3,2,"ng-container",12),e.qZA()),2&p){const _=e.oxw().$implicit;e.xp6(2),e.Oqu(_.description),e.xp6(1),e.Q6J("ngForOf",_.ifselect)}}function Yp(p,E){if(1&p&&e._UZ(0,"input",28),2&p){const _=e.oxw().$implicit;e.Q6J("formControlName",_.libelle)}}function qd(p,E){if(1&p&&e._UZ(0,"input",29),2&p){const _=e.oxw().$implicit;e.Q6J("formControlName",_.libelle)}}function s1(p,E){if(1&p&&e._UZ(0,"input",30),2&p){e.oxw();const _=e.MAs(11);e.Q6J("matDatepicker",_)}}function l1(p,E){if(1&p&&e._UZ(0,"mat-datepicker-toggle",31),2&p){e.oxw();const _=e.MAs(11);e.Q6J("for",_)}}function c1(p,E){if(1&p&&(e.TgZ(0,"mat-form-field",17)(1,"mat-label"),e._uU(2),e.qZA(),e.YNc(3,i1,4,2,"mat-select",18),e.YNc(4,o1,2,1,"mat-radio-group",19),e.YNc(5,a1,4,2,"mat-select",19),e.YNc(6,Yp,1,1,"input",20),e.YNc(7,qd,1,1,"input",21),e.YNc(8,s1,1,1,"input",22),e.YNc(9,l1,1,1,"mat-datepicker-toggle",23),e._UZ(10,"mat-datepicker",null,24),e.qZA()),2&p){const _=E.$implicit;e.xp6(2),e.Oqu(_.description),e.xp6(1),e.Q6J("ngIf","selectMultiple"==_.type),e.xp6(1),e.Q6J("ngIf","checkbox"==_.type),e.xp6(1),e.Q6J("ngIf","select"==_.type),e.xp6(1),e.Q6J("ngIf","string"==_.type),e.xp6(1),e.Q6J("ngIf","number"==_.type),e.xp6(1),e.Q6J("ngIf","date"==_.type),e.xp6(1),e.Q6J("ngIf","date"==_.type)}}function xg(p,E){if(1&p&&(e.ynx(0),e.TgZ(1,"mat-option",26),e._uU(2),e.qZA(),e.BQk()),2&p){const _=E.$implicit;e.xp6(1),e.Q6J("value",_),e.xp6(1),e.Oqu(_.description)}}function vg(p,E){if(1&p&&(e.ynx(0),e.TgZ(1,"mat-option",26),e._uU(2),e.qZA(),e.BQk()),2&p){const _=E.$implicit;e.xp6(1),e.Q6J("value",_.idParam),e.xp6(1),e.Oqu(_.description)}}function jl(p,E){if(1&p&&(e.TgZ(0,"mat-form-field",10)(1,"mat-label"),e._uU(2," Obligatoire"),e.qZA(),e.TgZ(3,"mat-select",32),e.YNc(4,vg,3,2,"ng-container",12),e.qZA()()),2&p){const _=e.oxw();e.xp6(4),e.Q6J("ngForOf",_.champObligatoire)}}let u1=(()=>{class p{constructor(_,S,k,ae,Ue){this.dialogRef=_,this.data=S,this.formBuilderAuth=k,this.router=ae,this.genericService=Ue,this.consultations=35==this.data.idParam.typeChamp?.idParam?gg:hg}ngOnInit(){this.genericService.getParam(JSON.parse(sessionStorage.getItem("dictionnaire")||"{}").find(_=>"C13"==_.code).idCategorie).subscribe({next:_=>{this.possibilite=_},error:_=>{console.log(_)}}),this.formCreationDetailParam=this.formBuilderAuth.group({paramRisque:[this.data.idParam,[w.kI.required]],valeurMin:[""],valeurMax:[""],defaultValue:[""],pourcentage:[""],workflows:[[]],mondatory:[[]]})}onChangeEventworkflow(_){if(this.selectedType=_.value,this.champObligatoire=[],this.selectedType)for(let S=0;S<this.selectedType.length;S++)this.elementkeySelectionne=this.selectedType[S],this.workflowstatus=this.possibilite.find(k=>k.idParam==this.elementkeySelectionne.idParam),this.workflowstatus&&this.champObligatoire.push(this.workflowstatus)}submit(){this.paramRisqueProduitJson=this.formCreationDetailParam.value,this.dialogRef.close(this.paramRisqueProduitJson)}}return p.\u0275fac=function(_){return new(_||p)(e.Y36(xe.so),e.Y36(xe.WI),e.Y36(w.qu),e.Y36(ee.F0),e.Y36(_o.M))},p.\u0275cmp=e.Xpm({type:p,selectors:[["app-edit-parm-risque-dialog"]],decls:24,vars:4,consts:[[1,"heading"],[2,"float","right","font-size","24px"],["aria-hidden","false","aria-label","","matTooltip","","matTooltipPosition","right","mat-dialog-close","",1,"material-symbols-outlined"],[1,"row",2,"margin-bottom","3%","display","flex","justify-content","center"],[1,"mat-typography"],[1,"col-md-11",2,"padding-left","2%","padding-right","2%"],[3,"formGroup","ngSubmit"],["formDirective","ngForm"],[1,"row",2,"display","flex"],["class","col-md-6","appearance","outline",4,"ngFor","ngForOf"],["appearance","outline",1,"col-md-6",2,"padding-left","1%","padding-right","1%"],["formControlName","workflows","multiple","",3,"selectionChange"],[4,"ngFor","ngForOf"],["class","col-md-6","style","padding-left: 1%; padding-right: 1%;","appearance","outline",4,"ngIf"],[1,"row-button"],["mat-dialog-close","",1,"btn","btn-cancel"],["type","submit",1,"btn","btn-action"],["appearance","outline",1,"col-md-6"],["multiple","",4,"ngIf"],[4,"ngIf"],["type","text","matInput","","placeholder","",3,"formControlName",4,"ngIf"],["type","number","matInput","","placeholder","",3,"formControlName",4,"ngIf"],["matInput","",3,"matDatepicker",4,"ngIf"],["matSuffix","",3,"for",4,"ngIf"],["picker",""],["multiple",""],[3,"value"],[3,"value",4,"ngFor","ngForOf"],["type","text","matInput","","placeholder","",3,"formControlName"],["type","number","matInput","","placeholder","",3,"formControlName"],["matInput","",3,"matDatepicker"],["matSuffix","",3,"for"],["formControlName","mondatory","multiple",""]],template:function(_,S){1&_&&(e.TgZ(0,"h2",0),e._uU(1," Paramtrer le parametre du produit "),e.TgZ(2,"span",1)(3,"mat-icon",2),e._uU(4," close "),e.qZA()()(),e._UZ(5,"mat-divider"),e.TgZ(6,"div",3),e._UZ(7,"mat-dialog-content",4),e.TgZ(8,"div",5)(9,"form",6,7),e.NdJ("ngSubmit",function(){return S.submit()}),e.TgZ(11,"div",8),e.YNc(12,c1,12,8,"mat-form-field",9),e.TgZ(13,"mat-form-field",10)(14,"mat-label"),e._uU(15," Workflow"),e.qZA(),e.TgZ(16,"mat-select",11),e.NdJ("selectionChange",function(ae){return S.onChangeEventworkflow(ae)}),e.YNc(17,xg,3,2,"ng-container",12),e.qZA()(),e.YNc(18,jl,5,1,"mat-form-field",13),e.TgZ(19,"div",14)(20,"button",15),e._uU(21,"Annuler"),e.qZA(),e.TgZ(22,"button",16),e._uU(23,"Envoyer"),e.qZA()()()()()()),2&_&&(e.xp6(9),e.Q6J("formGroup",S.formCreationDetailParam),e.xp6(3),e.Q6J("ngForOf",S.consultations),e.xp6(5),e.Q6J("ngForOf",S.possibilite),e.xp6(1),e.Q6J("ngIf",S.champObligatoire))},dependencies:[Se.sg,Se.O5,O.d,Mn.Hw,w._Y,w.Fj,w.wV,w.JJ,w.JL,w.sg,w.u,J.KE,J.hX,J.R9,he.Nt,oo.gM,xe.ZT,xe.xY,Ze.Mq,Ze.hl,Ze.nW,l.gD,t.ey,Bi.VQ,Bi.U0],styles:["button.btn.btn-action[_ngcontent-%COMP%]{float:right}.mat-dialog-content[_ngcontent-%COMP%]{padding-top:15px}.mat-radio-button[_ngcontent-%COMP%]{margin:0 12px}.buttons.row[_ngcontent-%COMP%]{justify-content:space-between;padding:0 21px}h2.heading[_ngcontent-%COMP%]{color:#00008f;font-weight:700!important;letter-spacing:.5px}.mat-dialog-content[_ngcontent-%COMP%], .mat-form-field[_ngcontent-%COMP%]{padding-top:15px}.mat-error[_ngcontent-%COMP%]{font-size:11px}.row-button[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:0 3rem;margin-top:2rem}"]}),p})();function m1(p,E){if(1&p&&(e.TgZ(0,"mat-form-field",11)(1,"mat-label"),e._uU(2),e.qZA(),e._UZ(3,"input",12),e.qZA()),2&p){const _=E.$implicit;e.xp6(2),e.Oqu(_.iddictionnaire.libelle),e.xp6(1),e.Q6J("value",_.valeur)}}function d1(p,E){if(1&p&&(e.ynx(0),e.TgZ(1,"mat-option",13),e._uU(2),e.qZA(),e.BQk()),2&p){const _=E.$implicit;e.xp6(1),e.Q6J("value",_.dictionnaire.idParam),e.xp6(1),e.Oqu(_.dictionnaire.description)}}function _1(p,E){if(1&p&&(e.ynx(0),e.TgZ(1,"mat-option",13),e._uU(2),e.qZA(),e.BQk()),2&p){const _=E.$implicit;e.xp6(1),e.Q6J("value",_.dictionnaire.idParam),e.xp6(1),e.Oqu(_.dictionnaire.description)}}let Ag=(()=>{class p{constructor(_){this.data=_,this.selectedProduit=[],this.selectedWorkflow=[]}ngOnInit(){this.data.paramRisqueWorkflows.forEach(_=>{this.selectedProduit.push(_.dictionnaire.idParam),_.obligatoire&&this.selectedWorkflow.push(_.dictionnaire.idParam)})}}return p.\u0275fac=function(_){return new(_||p)(e.Y36(xe.WI))},p.\u0275cmp=e.Xpm({type:p,selectors:[["app-show-param-risque-dialog"]],decls:20,vars:5,consts:[[1,"heading"],[2,"float","right","font-size","24px"],["aria-hidden","false","aria-label","","matTooltip","","matTooltipPosition","right","mat-dialog-close","",1,"material-symbols-outlined"],[1,"row",2,"margin-bottom","3%","display","flex","justify-content","center"],[1,"mat-typography"],[1,"col-md-12",2,"padding-left","2%","padding-right","2%"],["class","col-md-6","style","padding-right: 1%;","appearance","outline",4,"ngFor","ngForOf"],["appearance","outline",1,"col-md-6",2,"padding-left","1%"],["multiple","","disabled","",3,"value","valueChange"],[4,"ngFor","ngForOf"],["appearance","outline",1,"col-md-6"],["appearance","outline",1,"col-md-6",2,"padding-right","1%"],["type","text","matInput","","placeholder","","disabled","",3,"value"],[3,"value"]],template:function(_,S){1&_&&(e.TgZ(0,"h2",0),e._uU(1," Consulter le parametre du produit "),e.TgZ(2,"span",1)(3,"mat-icon",2),e._uU(4," close "),e.qZA()()(),e._UZ(5,"mat-divider"),e.TgZ(6,"div",3),e._UZ(7,"mat-dialog-content",4),e.TgZ(8,"div",5),e.YNc(9,m1,4,2,"mat-form-field",6),e.TgZ(10,"mat-form-field",7)(11,"mat-label"),e._uU(12," Workflow"),e.qZA(),e.TgZ(13,"mat-select",8),e.NdJ("valueChange",function(ae){return S.selectedProduit=ae}),e.YNc(14,d1,3,2,"ng-container",9),e.qZA()(),e.TgZ(15,"mat-form-field",10)(16,"mat-label"),e._uU(17," Obligatoire"),e.qZA(),e.TgZ(18,"mat-select",8),e.NdJ("valueChange",function(ae){return S.selectedWorkflow=ae}),e.YNc(19,_1,3,2,"ng-container",9),e.qZA()()()()),2&_&&(e.xp6(9),e.Q6J("ngForOf",S.data.paramRisqueProduit),e.xp6(4),e.Q6J("value",S.selectedProduit),e.xp6(1),e.Q6J("ngForOf",S.data.paramRisqueWorkflows),e.xp6(4),e.Q6J("value",S.selectedWorkflow),e.xp6(1),e.Q6J("ngForOf",S.data.paramRisqueWorkflows))},dependencies:[Se.sg,O.d,Mn.Hw,J.KE,J.hX,he.Nt,oo.gM,xe.ZT,xe.xY,l.gD,t.ey],styles:["button.btn.btn-action[_ngcontent-%COMP%]{float:right}.mat-dialog-content[_ngcontent-%COMP%]{padding-top:15px}.mat-radio-button[_ngcontent-%COMP%]{margin:0 12px}.buttons.row[_ngcontent-%COMP%]{justify-content:space-between;padding:0 21px}h2.heading[_ngcontent-%COMP%]{color:#00008f;font-weight:700!important;letter-spacing:.5px}.mat-dialog-content[_ngcontent-%COMP%], .mat-form-field[_ngcontent-%COMP%]{padding-top:15px}.mat-error[_ngcontent-%COMP%]{font-size:11px}.mat-input-element[_ngcontent-%COMP%]:disabled{color:#000c}"]}),p})(),Tg=(()=>{class p{constructor(_){this.http=_}getAllFractionnement(){return this.http.get(`${n.g.API_ENDPOINT_fractionnement}`).pipe((0,Oo.b)(_=>this.logs(_)),(0,Bo.K)(_=>this.handleEroor(_,_.error)))}logs(_){}handleEroor(_,S){return(0,Yl.of)(S)}}return p.\u0275fac=function(_){return new(_||p)(e.LFG(i.eN))},p.\u0275prov=e.Yz7({token:p,factory:p.\u0275fac,providedIn:"root"}),p})();var C_=B(5210);function bg(p,E){if(1&p&&(e.TgZ(0,"div",64),e._uU(1),e.qZA()),2&p){const _=e.oxw();e.xp6(1),e.hij("Le produit N\xb0",_.idCodeProduit," a \xe9t\xe9 cr\xe9er avec succ\xe9s")}}function Gp(p,E){if(1&p&&(e.TgZ(0,"div",65),e._uU(1),e.qZA()),2&p){const _=e.oxw();e.xp6(1),e.hij(" ",_.messageError," ")}}function p1(p,E){1&p&&e._uU(0,"Produit")}function sf(p,E){1&p&&(e.TgZ(0,"div"),e._uU(1," ce champs est obligatoire"),e.qZA())}function f1(p,E){if(1&p&&(e.TgZ(0,"mat-error",66),e.YNc(1,sf,2,0,"div",67),e.qZA()),2&p){const _=e.oxw();e.xp6(1),e.Q6J("ngIf",_.formCreationProduit.controls.description.errors.required)}}function Yf(p,E){1&p&&(e.TgZ(0,"div"),e._uU(1," ce champs est obligatoire"),e.qZA())}function g1(p,E){if(1&p&&(e.TgZ(0,"mat-error",66),e.YNc(1,Yf,2,0,"div",67),e.qZA()),2&p){const _=e.oxw();e.xp6(1),e.Q6J("ngIf",_.formCreationProduit.controls.description.errors.required)}}function Pg(p,E){if(1&p&&(e.ynx(0),e.TgZ(1,"mat-option",31),e._uU(2),e.qZA(),e.BQk()),2&p){const _=E.$implicit;e.xp6(1),e.Q6J("value",_.id_famille),e.xp6(1),e.Oqu(_.description)}}function h1(p,E){if(1&p&&(e.TgZ(0,"mat-radio-group",77)(1,"mat-radio-button",31),e._uU(2,"Oui"),e.qZA(),e.TgZ(3,"mat-radio-button",78),e._uU(4,"Non"),e.qZA()()),2&p){const _=e.oxw().$implicit;e.Q6J("formControlName",_.libelle),e.uIk("aria-label",_.libelle),e.xp6(1),e.Q6J("value",50),e.xp6(2),e.Q6J("value",51)}}function oc(p,E){1&p&&e._UZ(0,"input",79)}function Zg(p,E){1&p&&e._UZ(0,"input",80)}function Gf(p,E){if(1&p&&e._UZ(0,"input",81),2&p){e.oxw();const _=e.MAs(10);e.Q6J("matDatepicker",_)}}function W1(p,E){if(1&p&&e._UZ(0,"mat-datepicker-toggle",82),2&p){e.oxw();const _=e.MAs(10);e.Q6J("for",_)}}function Bp(p,E){if(1&p&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e.YNc(4,h1,5,4,"mat-radio-group",71),e.YNc(5,oc,1,0,"input",72),e.YNc(6,Zg,1,0,"input",73),e.YNc(7,Gf,1,1,"input",74),e.YNc(8,W1,1,1,"mat-datepicker-toggle",75),e._UZ(9,"mat-datepicker",null,76),e.qZA()()),2&p){const _=E.$implicit;e.Akn(11!=_.idParamProduit&&12!=_.idParamProduit?"height: 40px;":"display: none; height: 40px;"),e.xp6(2),e.Oqu(_.description),e.xp6(2),e.Q6J("ngIf","checkbox"==_.type),e.xp6(1),e.Q6J("ngIf","string"==_.type),e.xp6(1),e.Q6J("ngIf","number"==_.type),e.xp6(1),e.Q6J("ngIf","date"==_.type),e.xp6(1),e.Q6J("ngIf","date"==_.type)}}function x_(p,E){if(1&p&&(e.TgZ(0,"div",10)(1,"div",11),e._uU(2," Detail du produit "),e.qZA(),e.TgZ(3,"div",68)(4,"table",69),e.YNc(5,Bp,11,8,"tr",70),e.qZA()()()),2&p){const _=e.oxw();e.xp6(5),e.Q6J("ngForOf",_.consultations)}}function Sd(p,E){1&p&&(e.TgZ(0,"button",83),e._uU(1,"Suivant"),e.qZA())}function Bf(p,E){1&p&&(e.TgZ(0,"button",84),e._uU(1,"Suivant"),e.qZA())}function v_(p,E){1&p&&e._uU(0,"Configuration des parametres")}function yd(p,E){if(1&p&&(e.ynx(0),e.TgZ(1,"mat-option",31),e._uU(2),e.qZA(),e.BQk()),2&p){const _=E.$implicit;e.xp6(1),e.Q6J("value",_.idTypeRisque),e.xp6(1),e.Oqu(_.description)}}function ed(p,E){1&p&&e._uU(0,"Parametre tableau")}function qg(p,E){if(1&p&&(e.TgZ(0,"th",85)(1,"div",86)(2,"span"),e._uU(3,"Liste des parametres "),e.qZA()()()),2&p){const _=e.oxw();e.uIk("colspan",_.lengthColumns)}}function C1(p,E){1&p&&(e.TgZ(0,"th",85),e._uU(1," Actif "),e.qZA())}function Sg(p,E){1&p&&(e.TgZ(0,"mat-icon",90),e._uU(1,"check_circle "),e.qZA())}function x1(p,E){1&p&&(e.TgZ(0,"mat-icon",91),e._uU(1,"cancel "),e.qZA())}function v1(p,E){if(1&p&&(e.TgZ(0,"td",87),e.YNc(1,Sg,2,0,"mat-icon",88),e.YNc(2,x1,2,0,"mat-icon",89),e.qZA()),2&p){const _=E.$implicit,S=e.oxw();e.xp6(1),e.Q6J("ngIf",S.condition(_)),e.xp6(1),e.Q6J("ngIf",!S.condition(_))}}function A1(p,E){1&p&&(e.TgZ(0,"th",85),e._uU(1," Libell\xe9 "),e.qZA())}function zf(p,E){if(1&p&&(e.TgZ(0,"td",87),e._uU(1),e.qZA()),2&p){const _=E.$implicit;e.xp6(1),e.hij(" ",_.libelle," ")}}function Vf(p,E){1&p&&(e.TgZ(0,"th",92),e._uU(1," Description "),e.qZA())}function T1(p,E){if(1&p&&(e.TgZ(0,"td",93),e._uU(1),e.qZA()),2&p){const _=E.$implicit;e.xp6(1),e.hij(" ",_.descriptionChamp," ")}}function b1(p,E){1&p&&(e.TgZ(0,"th",85),e._uU(1," Date debut "),e.qZA())}function yg(p,E){if(1&p&&(e.TgZ(0,"td",87),e._uU(1),e.ALo(2,"date"),e.qZA()),2&p){const _=E.$implicit;e.xp6(1),e.hij(" ",e.xi3(2,1,_.dateDebut,"dd/MM/yyyy")," ")}}function P1(p,E){1&p&&(e.TgZ(0,"th",85),e._uU(1," Action "),e.qZA())}function Z1(p,E){if(1&p){const _=e.EpF();e.TgZ(0,"td",94)(1,"mat-icon",95),e.NdJ("click",function(){const ae=e.CHM(_).$implicit,Ue=e.oxw();return e.KtG(Ue.openDialogEditParam(ae))}),e._uU(2,"edit "),e.qZA(),e.TgZ(3,"mat-icon",96),e.NdJ("click",function(){const ae=e.CHM(_).$implicit,Ue=e.oxw();return e.KtG(Ue.openDialogViewParam(ae))}),e._uU(4,"visibility "),e.qZA()()}}function q1(p,E){1&p&&e._UZ(0,"tr",97)}function S1(p,E){1&p&&e._UZ(0,"tr",98)}function jf(p,E){1&p&&e._UZ(0,"tr",99)}function y1(p,E){1&p&&(e.TgZ(0,"button",83),e._uU(1,"Suivant"),e.qZA())}function N1(p,E){1&p&&(e.TgZ(0,"button",84),e._uU(1,"Suivant"),e.qZA())}function I1(p,E){1&p&&e._uU(0,"Reseau commercial")}function E1(p,E){if(1&p&&(e.ynx(0),e.TgZ(1,"mat-option",31),e._uU(2),e.qZA(),e.BQk()),2&p){const _=E.$implicit;e.xp6(1),e.Q6J("value",_.idReseau),e.xp6(1),e.Oqu(_.description)}}function R1(p,E){if(1&p&&(e.ynx(0),e.TgZ(1,"mat-option",31),e._uU(2),e.qZA(),e.BQk()),2&p){const _=E.$implicit;e.xp6(1),e.Q6J("value",_.id_duree),e.xp6(1),e.Oqu(_.description)}}function D1(p,E){if(1&p&&(e.ynx(0),e.TgZ(1,"mat-option",31),e._uU(2),e.qZA(),e.BQk()),2&p){const _=E.$implicit;e.xp6(1),e.Q6J("value",_.idQuestionnaire),e.xp6(1),e.Oqu(_.description)}}function w1(p,E){if(1&p&&(e.ynx(0),e.TgZ(1,"mat-option",31),e._uU(2),e.qZA(),e.BQk()),2&p){const _=E.$implicit;e.xp6(1),e.Q6J("value",_.idPack0),e.xp6(1),e.Oqu(_.description)}}function O1(p,E){if(1&p&&(e.ynx(0),e.TgZ(1,"mat-option",31),e._uU(2),e.qZA(),e.BQk()),2&p){const _=E.$implicit;e.xp6(1),e.Q6J("value",_.idCodeTypeAvenant),e.xp6(1),e.Oqu(_.description)}}function k1(p,E){if(1&p&&(e.ynx(0),e.TgZ(1,"mat-option",31),e._uU(2),e.qZA(),e.BQk()),2&p){const _=E.$implicit;e.xp6(1),e.Q6J("value",_.idCodeTypeFractionnement),e.xp6(1),e.Oqu(_.description)}}function M1(p,E){if(1&p&&(e.ynx(0),e.TgZ(1,"mat-option",31),e._uU(2),e.qZA(),e.BQk()),2&p){const _=E.$implicit;e.xp6(1),e.Q6J("value",_.idTaxe),e.xp6(1),e.Oqu(_.description)}}function U1(p,E){if(1&p&&(e.TgZ(0,"th",85)(1,"div",86)(2,"span"),e._uU(3,"Liste des taxes selectionn\xe9es"),e.qZA()()()),2&p){const _=e.oxw(2);e.uIk("colspan",_.lengthColumns)}}function F1(p,E){1&p&&(e.TgZ(0,"th",85),e._uU(1," Id taxe "),e.qZA())}function Q1(p,E){if(1&p&&(e.TgZ(0,"td",87),e._uU(1),e.qZA()),2&p){const _=E.$implicit;e.xp6(1),e.hij(" ",_.idTaxe," ")}}function x(p,E){1&p&&(e.TgZ(0,"th",92),e._uU(1," Description "),e.qZA())}function P(p,E){if(1&p&&(e.TgZ(0,"td",93),e._uU(1),e.qZA()),2&p){const _=E.$implicit;e.xp6(1),e.hij(" ",_.description," ")}}function F(p,E){1&p&&(e.TgZ(0,"th",85),e._uU(1," Valeur de la taxe "),e.qZA())}function ce(p,E){if(1&p&&(e.TgZ(0,"td",87),e._uU(1),e.qZA()),2&p){const _=E.$implicit;e.xp6(1),e.hij(" ",_.valeur," ")}}function Ie(p,E){1&p&&e._UZ(0,"tr",97)}function Je(p,E){1&p&&e._UZ(0,"tr",98)}function dt(p,E){1&p&&e._UZ(0,"tr",99)}const At=function(){return["header-question"]},kt=function(){return[5,10]};function Zn(p,E){if(1&p&&(e.TgZ(0,"div",32)(1,"table",33),e.ynx(2,34),e.YNc(3,U1,4,1,"th",35),e.BQk(),e.ynx(4,100),e.YNc(5,F1,2,0,"th",35),e.YNc(6,Q1,2,1,"td",37),e.BQk(),e.ynx(7,39),e.YNc(8,x,2,0,"th",40),e.YNc(9,P,2,1,"td",41),e.BQk(),e.ynx(10,101),e.YNc(11,F,2,0,"th",35),e.YNc(12,ce,2,1,"td",37),e.BQk(),e.YNc(13,Ie,1,0,"tr",45),e.YNc(14,Je,1,0,"tr",46),e.YNc(15,dt,1,0,"tr",47),e.qZA(),e._UZ(16,"mat-paginator",48),e.qZA()),2&p){const _=e.oxw();e.xp6(1),e.Q6J("dataSource",_.tableAremplirTaxe),e.xp6(12),e.Q6J("matHeaderRowDef",e.DdM(6,At)),e.xp6(1),e.Q6J("matHeaderRowDef",_.displayedColumnsTaxes),e.xp6(1),e.Q6J("matRowDefColumns",_.displayedColumnsTaxes),e.xp6(1),e.Q6J("pageSize",5)("pageSizeOptions",e.DdM(7,kt))}}function qn(p,E){1&p&&(e.TgZ(0,"button",83),e._uU(1,"Enregistr\xe9"),e.qZA())}function Rn(p,E){if(1&p){const _=e.EpF();e.TgZ(0,"button",102),e.NdJ("click",function(){e.CHM(_);const k=e.oxw();return e.KtG(k.submit())}),e._uU(1,"Enregistr\xe9"),e.qZA()}}let oi=(()=>{class p{constructor(_,S,k,ae,Ue,On,vr,xc,im,Nd,Dg,Sx,yx,Nx){this.formBuilderAuth=_,this.produitService=S,this.router=k,this.familleProduitService=ae,this.typeRisqueService=Ue,this.paramRisqueService=On,this.reseauDistributionService=vr,this.taxeService=xc,this.dureeService=im,this.questionnaireService=Nd,this.packService=Dg,this.fractionnementService=Sx,this.avenantService=yx,this.dialog=Nx,this.ProduitCreationSuccess=!1,this.minDate=new Date,this.fractionnement="Non",this.ProduitCreationError=!1,this.choixParamProduit=["Oui","Non"],this.displayedColumns=["actif","libelle","description","dateDebut","action"],this.displayedColumnsTaxes=["id","description","Valeur"],this.lengthColumns=this.displayedColumns.length,this.boolenFractionnement=!1,this.produits=[],this.step=!0,this.consultations=fg,this.detailRisqueProduit=[],this.dictionnaireValeur=hg}ngOnInit(){this.formCreationProduit=this.formBuilderAuth.group({codeProduit:["",[w.kI.required]],description:["",[w.kI.required]],dateDebut:[new Date,[w.kI.required]],dateFin:[""],auditUser:["test"],idFamilleProduit:[""],multirisque:[51,[w.kI.required]],devis:[51,[w.kI.required]],devisEnLigne:[51,[w.kI.required]],souscriptionEnLigne:[51,[w.kI.required]],payPrint:[51,[w.kI.required]],gestionDeSinistre:[51,[w.kI.required]],bonusMalus:[51,[w.kI.required]],prunning:[51,[w.kI.required]],capping:[51,[w.kI.required]],gestionDeSinistreLigne:[51,[w.kI.required]],convetion:[51,[w.kI.required]],fractionnement:[51,[w.kI.required]],codificationNationale:["",[w.kI.required]],multiRisque:[""],idTypeRisqueProduit:[[],[w.kI.required]],idTypeFractionnements:[[]],idReseaux:[[],[w.kI.required]],idTaxes:[[],[w.kI.required]],idDurees:[[],[w.kI.required]],idQuestionnaires:[[]],idPacks:[[],[w.kI.required]],idTypeAvenants:[[],[w.kI.required]],paramProduit:[[]],paramRisqueWorkflows:[[]],paramRisqueProduits:[[]]}),this.getAllFamilleProduit(),this.getAllTypeRisque(),this.getAllReseauDistribution(),this.getAllTaxes(),this.getAllDuree(),this.getAllQuestionnaires(),this.getAllPacks(),this.getAllFractionnement(),this.getAllAvenant()}changeFractionnement(){50==this.formCreationProduit.value.fractionnement?this.formCreationProduit.get("idTypeFractionnements").setValidators(w.kI.required):this.formCreationProduit.get("idTypeFractionnements").clearValidators(),this.formCreationProduit.get("idTypeFractionnements").updateValueAndValidity()}back(){this.router.navigateByUrl("gestion-produits/gestion-produit-risque")}debutDateChange(_){this.minDate=_}getAllFamilleProduit(){this.familleProduitService.getFamilleProduitsList().subscribe({next:_=>{this.dataSourceFamilleProduit=new Q.by(_),console.table(_)},error:_=>{console.log(_)}})}getAllPacks(){this.packService.getAllPack().subscribe({next:_=>{this.dataSourcePack=new Q.by(_),console.table(_)},error:_=>{console.log(_)}})}getAllTypeRisque(){this.typeRisqueService.getTypeRisqueList().subscribe({next:_=>{this.dataSourceTypeRisque=new Q.by(_),console.table(`Hello world : ${_}`)},error:_=>{console.log(_)}})}getAllReseauDistribution(){this.reseauDistributionService.getAllReseauDistribution().subscribe({next:_=>{this.listeReseauSelected=_,this.dataSourceReseauDistribution=new Q.by(_)},error:_=>{console.log(_)}})}getAllTaxes(){this.taxeService.getTaxesList().subscribe({next:_=>{this.listetaxes=_,this.dataSourceTaxes=new Q.by(_),this.paginateTaxe()},error:_=>{console.log(_)}})}getAllFractionnement(){this.fractionnementService.getAllFractionnement().subscribe({next:_=>{this.dataSourceFractionnement=new Q.by(_)},error:_=>{console.log(_)}})}getAllAvenant(){this.avenantService.getTypeAvenant().subscribe({next:_=>{this.dataSourceAvenant=new Q.by(_)},error:_=>{console.log(_)}})}getAllDuree(){this.dureeService.getAllDuree().subscribe({next:_=>{this.dataSourceDuree=new Q.by(_)},error:_=>{console.log(_)}})}getAllQuestionnaires(){this.questionnaireService.getAllQuestionnaires().subscribe({next:_=>{this.dataSourceDureeQuestionnaire=new Q.by(_)},error:_=>{console.log(_)}})}getParamRisqueById(_){this.paramRisqueService.getParamRisqueByTypeRisque(_).subscribe({next:S=>{this.dataSourceParamRisque=new Q.by(S),this.detailRisqueProduit=[],this.dataSourceParamRisque.data?.forEach(k=>{this.detailRisqueProduit.push({idParam:k.idParamRisque,paramRisqueWorkflows:[],paramRisqueProduits:[]})}),this.paginateParamRisque()},error:S=>{console.log(S)}})}onChangeEvent(_){this.boolenFractionnement=1==_.value}onChangeEventTypeRisque(_){this.idTypeRisque=_.value,this.getParamRisqueById(_.value)}onChangeEventReseauDistribution(_){this.selectedReseau=_.value,this.tableAremplirReseau=[];for(let S=0;S<this.selectedReseau.length;S++)this.elementDistribution=this.listeReseauSelected.find(k=>k.idReseau===this.selectedReseau[S]),this.tableAremplirReseau.push(this.elementDistribution)}onChangeEventTaxes(_){this.selectedTaxes=_.value,this.tableAremplirTaxe=[];for(let S=0;S<this.selectedTaxes.length;S++)this.elementtaxe=this.listetaxes.find(k=>k.idTaxe===this.selectedTaxes[S]),this.tableAremplirTaxe.push(this.elementtaxe)}condition(_){return 0!=this.formCreationProduit.value.paramRisqueProduits?.filter(S=>S.paramRisque.idParamRisque==_.idParamRisque).length}openDialogViewParam(_){this.dialog.open(Ag,{width:"60%",data:{paramRisqueProduit:this.formCreationProduit.value.paramRisqueProduits.filter(k=>k.paramRisque.idParamRisque==_.idParamRisque&&""!=k.valeur),paramRisqueWorkflows:this.formCreationProduit.value.paramRisqueWorkflows.filter(k=>k.paramRisque.idParamRisque==_.idParamRisque)}}).afterClosed().subscribe(k=>{})}openDialogEditParam(_){"L03"==_.typeChamp.code&&(this.dictionnaireValeur=gg),this.dialog.open(u1,{width:"60%",data:{idParam:_}}).afterClosed().subscribe(k=>{this.detailRisqueProduit.forEach((ae,Ue)=>{ae.idParam==k.paramRisque.idParamRisque&&(this.dictionnaireValeur.forEach(On=>{this.formCreationProduit.value.paramRisqueProduits.push({paramRisque:k.paramRisque,iddictionnaire:On,valeur:k[On.libelle]})}),k.workflows.forEach(On=>{this.formCreationProduit.value.paramRisqueWorkflows.push({paramRisque:k.paramRisque,dictionnaire:On,obligatoire:k.mondatory.includes(On.idParam),enabled:!0})}))})})}paginate(){this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort}paginateTaxe(){this.dataSourceTaxes.paginator=this.paginator,this.dataSourceTaxes.sort=this.sort}paginateParamRisque(){this.dataSourceParamRisque.paginator=this.paginator,this.dataSourceParamRisque.sort=this.sort}submit(){this.formCreationProduit.get("dateDebut").setValue(o(this.formCreationProduit.get("dateDebut").value).format("YYYY-MM-DD")),this.ProduitJson=this.formCreationProduit.value,this.consultations.forEach(_=>{this.ProduitJson.paramProduit.push({idParamProduit:_.idParamProduit,reponse:this.formCreationProduit.value[_.libelle]})}),this.produitService.addProduit(this.ProduitJson).subscribe(_=>{null!=_.idCodeProduit?(console.table(_),Yo().fire(`Produit N\xb0${_.idCodeProduit} cr\xe9\xe9 avec succ\xe9s`,"","success"),this.back()):(this.messageError=_.ErreurMessage?_.ErreurMessage:_.message,Yo().fire(this.messageError,"","error"))})}}return p.\u0275fac=function(_){return new(_||p)(e.Y36(w.qu),e.Y36(Xm.d),e.Y36(ee.F0),e.Y36(la),e.Y36(Hr),e.Y36(Xa.D),e.Y36(_c),e.Y36(Z),e.Y36(tc.Y),e.Y36(M),e.Y36(nc.F),e.Y36(Tg),e.Y36(C_.n),e.Y36(xe.uw))},p.\u0275cmp=e.Xpm({type:p,selectors:[["app-create-new-product"]],viewQuery:function(_,S){if(1&_&&(e.Gf(Le.NW,5),e.Gf(qi.YE,5)),2&_){let k;e.iGM(k=e.CRH())&&(S.paginator=k.first),e.iGM(k=e.CRH())&&(S.sort=k.first)}},decls:151,vars:40,consts:[[1,"container"],[1,"heading",2,"padding-left","3%"],["class","alert alert-success",4,"ngIf"],["class","alert alert-danger",4,"ngIf"],[1,"mat-typography"],["stepper",""],["errorMessage","Veuillez saisir les informations du produit",3,"stepControl"],[1,"login-form",3,"formGroup"],["formDirective","ngForm"],["matStepLabel",""],[2,"border","1px solid #E0E0E0","margin-bottom","3%"],[2,"padding","8px 24px","background","#E0E0E0","font-weight","700","font-size","14px"],[2,"padding","8px 24px"],["appearance","outline",1,"col-md-3",2,"padding-right","1%"],["type","text","matInput","","placeholder","","formControlName","codeProduit"],["class","invalid-feedback",4,"ngIf"],["type","text","matInput","","placeholder","","formControlName","description"],["type","text","matInput","","placeholder","","formControlName","codificationNationale"],["appearance","outline",1,"col-md-3",2,"padding-left","1%","padding-right","1%"],["formControlName","idFamilleProduit"],[4,"ngFor","ngForOf"],["style","border: 1px solid #E0E0E0; margin-bottom: 3%;",4,"ngIf"],[1,"row-button"],[1,"btn","btn-cancel",3,"mouseup"],["class","btn btn-action",4,"ngIf"],["matStepperNext","","class","btn btn-action",4,"ngIf"],["errorMessage","Veuillez saisir les parametres du produit",3,"stepControl"],["appearance","outline",1,"col-md-4",2,"padding-left","1%","padding-right","1%"],["formControlName","idTypeRisqueProduit",3,"selectionChange"],["aria-label","Select an option","formControlName","multirisque",1,"col-md-6",2,"margin-bottom","2%","padding-left","20%"],[2,"padding-right","8%",3,"value"],[3,"value"],[1,""],["mat-table","",1,"mat-elevation-z8","question-table",3,"dataSource"],["matColumnDef","header-question"],["mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","actif"],["mat-cell","","style","padding-top: 24px; padding-bottom: 24px;",4,"matCellDef"],["matColumnDef","libelle"],["matColumnDef","description"],["mat-header-cell","","style","padding-right: 60px;",4,"matHeaderCellDef"],["mat-cell","","style","padding-top: 24px; padding-bottom: 24px; padding-right: 60px;",4,"matCellDef"],["matColumnDef","dateDebut"],["matColumnDef","action"],["mat-cell","",4,"matCellDef"],["mat-header-row","","class","example-first-header-row",4,"matHeaderRowDef"],["mat-header-row","","class","example-second-header-row",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["aria-label","Select page  of users",3,"pageSize","pageSizeOptions"],["mat-button","","matStepperPrevious","",1,"btn","btn-cancel"],["appearance","outline",1,"col-md-12",2,"padding-left","1%","padding-right","1%"],["formControlName","idReseaux","multiple","",3,"selectionChange"],["formControlName","idDurees","multiple",""],["formControlName","idQuestionnaires","multiple",""],["formControlName","idPacks","multiple",""],["formControlName","idTypeAvenants","multiple",""],[2,"padding","21px 24px"],["aria-label","Select an option","formControlName","fractionnement",1,"col-md-12",2,"margin-bottom","2%",3,"change"],["appearance","outline",1,"col-md-12",2,"padding-right","1%"],["formControlName","idTypeFractionnements","multiple","",3,"disabled"],["formControlName","idTaxes","multiple","","multiple","",3,"selectionChange"],["class","",4,"ngIf"],["mat-button","",1,"btn","btn-cancel"],["matStepperNext","","class","btn btn-action",3,"click",4,"ngIf"],[1,"alert","alert-success"],[1,"alert","alert-danger"],[1,"invalid-feedback"],[4,"ngIf"],[2,"padding","4px 18px"],[1,"table","table-sm","table-bordered","m-t-4",2,"border-collapse","collapse","width","50%","height","18px","border","0"],[3,"style",4,"ngFor","ngForOf"],[3,"formControlName",4,"ngIf"],["type","text","matInput","","placeholder","",4,"ngIf"],["type","number","matInput","","placeholder","",4,"ngIf"],["matInput","",3,"matDatepicker",4,"ngIf"],["matSuffix","",3,"for",4,"ngIf"],["picker",""],[3,"formControlName"],[2,"padding-left","20%",3,"value"],["type","text","matInput","","placeholder",""],["type","number","matInput","","placeholder",""],["matInput","",3,"matDatepicker"],["matSuffix","",3,"for"],[1,"btn","btn-action"],["matStepperNext","",1,"btn","btn-action"],["mat-header-cell",""],[1,"header-tab"],["mat-cell","",2,"padding-top","24px","padding-bottom","24px"],["aria-hidden","false","aria-label","","class","material-symbols-outlined","matTooltip","","matTooltipPosition","right","style","color: green;",4,"ngIf"],["aria-hidden","false","aria-label","","class","material-symbols-outlined","matTooltip","","matTooltipPosition","right","style","color: red;",4,"ngIf"],["aria-hidden","false","aria-label","","matTooltip","","matTooltipPosition","right",1,"material-symbols-outlined",2,"color","green"],["aria-hidden","false","aria-label","","matTooltip","","matTooltipPosition","right",1,"material-symbols-outlined",2,"color","red"],["mat-header-cell","",2,"padding-right","60px"],["mat-cell","",2,"padding-top","24px","padding-bottom","24px","padding-right","60px"],["mat-cell",""],["aria-hidden","false","aria-label","edit reseau de distribution","matTooltip","Modifier un parametre","matTooltipPosition","right",1,"material-symbols-outlined",3,"click"],["aria-hidden","false","aria-label","edit reseau de distribution","matTooltip","Voir les valeur du param","matTooltipPosition","right",1,"material-symbols-outlined",3,"click"],["mat-header-row","",1,"example-first-header-row"],["mat-header-row","",1,"example-second-header-row"],["mat-row",""],["matColumnDef","id"],["matColumnDef","Valeur"],["matStepperNext","",1,"btn","btn-action",3,"click"]],template:function(_,S){if(1&_&&(e.TgZ(0,"div",0)(1,"h2",1),e._uU(2,"Cr\xe9ation du produit"),e.qZA(),e._UZ(3,"mat-divider"),e.YNc(4,bg,2,1,"div",2),e.YNc(5,Gp,2,1,"div",3),e.TgZ(6,"mat-dialog-content",4)(7,"mat-stepper",null,5)(9,"mat-step",6)(10,"form",7,8),e.YNc(12,p1,1,0,"ng-template",9),e.TgZ(13,"div",10)(14,"div",11),e._uU(15," Informations g\xe9nerales du produit "),e.qZA(),e.TgZ(16,"div",12)(17,"mat-form-field",13)(18,"mat-label"),e._uU(19,"Code du produit"),e.qZA(),e._UZ(20,"input",14),e.YNc(21,f1,2,1,"mat-error",15),e.qZA(),e.TgZ(22,"mat-form-field",13)(23,"mat-label"),e._uU(24,"Nom du produit"),e.qZA(),e._UZ(25,"input",16),e.YNc(26,g1,2,1,"mat-error",15),e.qZA(),e.TgZ(27,"mat-form-field",13)(28,"mat-label"),e._uU(29,"Codification nationale"),e.qZA(),e._UZ(30,"input",17),e.qZA(),e.TgZ(31,"mat-form-field",18)(32,"mat-label"),e._uU(33," Famille produit "),e.qZA(),e.TgZ(34,"mat-select",19),e.YNc(35,Pg,3,2,"ng-container",20),e.qZA()()()(),e.YNc(36,x_,6,1,"div",21),e.TgZ(37,"div",22)(38,"button",23),e.NdJ("mouseup",function(){return S.back()}),e._uU(39,"Retour"),e.qZA(),e.YNc(40,Sd,2,0,"button",24),e.YNc(41,Bf,2,0,"button",25),e.qZA()()(),e.TgZ(42,"mat-step",26)(43,"form",7,8),e.YNc(45,v_,1,0,"ng-template",9),e.TgZ(46,"div",10)(47,"div",11),e._uU(48," Param\xe9tres des produits "),e.qZA(),e.TgZ(49,"div",12)(50,"mat-form-field",27)(51,"mat-label"),e._uU(52," Risque assur\xe9 "),e.qZA(),e.TgZ(53,"mat-select",28),e.NdJ("selectionChange",function(ae){return S.onChangeEventTypeRisque(ae)}),e.YNc(54,yd,3,2,"ng-container",20),e.qZA()(),e.TgZ(55,"mat-radio-group",29)(56,"mat-radio-button",30),e._uU(57,"Mono risque"),e.qZA(),e.TgZ(58,"mat-radio-button",31),e._uU(59,"Multirisque"),e.qZA()(),e.YNc(60,ed,1,0,"ng-template",9),e.TgZ(61,"div",32)(62,"table",33),e.ynx(63,34),e.YNc(64,qg,4,1,"th",35),e.BQk(),e.ynx(65,36),e.YNc(66,C1,2,0,"th",35),e.YNc(67,v1,3,2,"td",37),e.BQk(),e.ynx(68,38),e.YNc(69,A1,2,0,"th",35),e.YNc(70,zf,2,1,"td",37),e.BQk(),e.ynx(71,39),e.YNc(72,Vf,2,0,"th",40),e.YNc(73,T1,2,1,"td",41),e.BQk(),e.ynx(74,42),e.YNc(75,b1,2,0,"th",35),e.YNc(76,yg,3,4,"td",37),e.BQk(),e.ynx(77,43),e.YNc(78,P1,2,0,"th",35),e.YNc(79,Z1,5,0,"td",44),e.BQk(),e.YNc(80,q1,1,0,"tr",45),e.YNc(81,S1,1,0,"tr",46),e.YNc(82,jf,1,0,"tr",47),e.qZA(),e._UZ(83,"mat-paginator",48),e.qZA()()(),e.TgZ(84,"div",22)(85,"button",49),e._uU(86,"Retour"),e.qZA(),e.YNc(87,y1,2,0,"button",24),e.YNc(88,N1,2,0,"button",25),e.qZA()()(),e.TgZ(89,"mat-step",26)(90,"form",7,8),e.YNc(92,I1,1,0,"ng-template",9),e.TgZ(93,"div",10)(94,"div",11),e._uU(95," R\xe9seau commercial "),e.qZA(),e.TgZ(96,"div",12)(97,"mat-form-field",50)(98,"mat-label"),e._uU(99," R\xe9seau"),e.qZA(),e.TgZ(100,"mat-select",51),e.NdJ("selectionChange",function(ae){return S.onChangeEventReseauDistribution(ae)}),e.YNc(101,E1,3,2,"ng-container",20),e.qZA()(),e.TgZ(102,"mat-form-field",50)(103,"mat-label"),e._uU(104," Dur\xe9e"),e.qZA(),e.TgZ(105,"mat-select",52),e.YNc(106,R1,3,2,"ng-container",20),e.qZA()(),e.TgZ(107,"mat-form-field",50)(108,"mat-label"),e._uU(109," Questionnaire"),e.qZA(),e.TgZ(110,"mat-select",53),e.YNc(111,D1,3,2,"ng-container",20),e.qZA()(),e.TgZ(112,"mat-form-field",50)(113,"mat-label"),e._uU(114," Pack"),e.qZA(),e.TgZ(115,"mat-select",54),e.YNc(116,w1,3,2,"ng-container",20),e.qZA()(),e.TgZ(117,"mat-form-field",50)(118,"mat-label"),e._uU(119," Type d'avenant"),e.qZA(),e.TgZ(120,"mat-select",55),e.YNc(121,O1,3,2,"ng-container",20),e.qZA()()()(),e.TgZ(122,"div",10)(123,"div",11),e._uU(124," Fractionnement "),e.qZA(),e.TgZ(125,"div",56)(126,"mat-radio-group",57),e.NdJ("change",function(){return S.changeFractionnement()}),e.TgZ(127,"mat-radio-button",31),e._uU(128,"Fractionnable"),e.qZA(),e.TgZ(129,"mat-radio-button",31),e._uU(130,"Non Fractionnable"),e.qZA()(),e.TgZ(131,"mat-form-field",58)(132,"mat-label"),e._uU(133," Type de fractionnement"),e.qZA(),e.TgZ(134,"mat-select",59),e.YNc(135,k1,3,2,"ng-container",20),e.qZA()()()(),e.TgZ(136,"div",10)(137,"div",11),e._uU(138," Taxes "),e.qZA(),e.TgZ(139,"div",12)(140,"mat-form-field",50)(141,"mat-label"),e._uU(142," Taxes"),e.qZA(),e.TgZ(143,"mat-select",60),e.NdJ("selectionChange",function(ae){return S.onChangeEventTaxes(ae)}),e.YNc(144,M1,3,2,"ng-container",20),e.qZA()(),e.YNc(145,Zn,17,8,"div",61),e.qZA()(),e.TgZ(146,"div",22)(147,"button",62),e._uU(148,"Retour"),e.qZA(),e.YNc(149,qn,2,0,"button",24),e.YNc(150,Rn,2,0,"button",63),e.qZA()()()()()()),2&_){const k=e.MAs(11);e.xp6(4),e.Q6J("ngIf",S.ProduitCreationSuccess),e.xp6(1),e.Q6J("ngIf",S.ProduitCreationError),e.xp6(4),e.Q6J("stepControl",S.formCreationProduit),e.xp6(1),e.Q6J("formGroup",S.formCreationProduit),e.xp6(11),e.Q6J("ngIf",S.formCreationProduit.controls.description.errors),e.xp6(5),e.Q6J("ngIf",S.formCreationProduit.controls.description.errors),e.xp6(9),e.Q6J("ngForOf",null==S.dataSourceFamilleProduit?null:S.dataSourceFamilleProduit.data),e.xp6(1),e.Q6J("ngIf",S.consultations),e.xp6(4),e.Q6J("ngIf",""==S.formCreationProduit.value.codeProduit||""==S.formCreationProduit.value.description||""==S.formCreationProduit.value.codificationNationale),e.xp6(1),e.Q6J("ngIf",""!=S.formCreationProduit.value.codeProduit&&""!=S.formCreationProduit.value.description&&""!=S.formCreationProduit.value.codificationNationale),e.xp6(1),e.Q6J("stepControl",S.formCreationProduit),e.xp6(1),e.Q6J("formGroup",S.formCreationProduit),e.xp6(11),e.Q6J("ngForOf",null==S.dataSourceTypeRisque?null:S.dataSourceTypeRisque.data),e.xp6(2),e.Q6J("value",51),e.xp6(2),e.Q6J("value",50),e.xp6(4),e.Q6J("dataSource",S.dataSourceParamRisque),e.xp6(18),e.Q6J("matHeaderRowDef",e.DdM(38,At)),e.xp6(1),e.Q6J("matHeaderRowDef",S.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",S.displayedColumns),e.xp6(1),e.Q6J("pageSize",5)("pageSizeOptions",e.DdM(39,kt)),e.xp6(4),e.Q6J("ngIf",""==S.formCreationProduit.value.idTypeRisqueProduit),e.xp6(1),e.Q6J("ngIf",""!=S.formCreationProduit.value.idTypeRisqueProduit),e.xp6(1),e.Q6J("stepControl",S.formCreationProduit),e.xp6(1),e.Q6J("formGroup",S.formCreationProduit),e.xp6(11),e.Q6J("ngForOf",null==S.dataSourceReseauDistribution?null:S.dataSourceReseauDistribution.data),e.xp6(5),e.Q6J("ngForOf",null==S.dataSourceDuree?null:S.dataSourceDuree.data),e.xp6(5),e.Q6J("ngForOf",null==S.dataSourceDureeQuestionnaire?null:S.dataSourceDureeQuestionnaire.data),e.xp6(5),e.Q6J("ngForOf",null==S.dataSourcePack?null:S.dataSourcePack.data),e.xp6(5),e.Q6J("ngForOf",null==S.dataSourceAvenant?null:S.dataSourceAvenant.data),e.xp6(6),e.Q6J("value",50),e.xp6(2),e.Q6J("value",51),e.xp6(5),e.Q6J("disabled",51==S.formCreationProduit.value.fractionnement),e.xp6(1),e.Q6J("ngForOf",null==S.dataSourceFractionnement?null:S.dataSourceFractionnement.data),e.xp6(9),e.Q6J("ngForOf",null==S.dataSourceTaxes?null:S.dataSourceTaxes.data),e.xp6(1),e.Q6J("ngIf",S.tableAremplirTaxe),e.xp6(4),e.Q6J("ngIf",!k.valid),e.xp6(1),e.Q6J("ngIf",k.valid)}},dependencies:[Se.sg,Se.O5,O.d,Mn.Hw,w._Y,w.Fj,w.JJ,w.JL,w.sg,w.u,J.TO,J.KE,J.hX,J.R9,he.Nt,Q.BZ,Q.fO,Q.as,Q.w1,Q.Dz,Q.nj,Q.ge,Q.ev,Q.XQ,Q.Gk,oo.gM,Le.NW,xe.xY,Ze.Mq,Ze.hl,Ze.nW,l.gD,t.ey,Bi.VQ,Bi.U0,vn.lW,er.C0,er.VY,er.Vq,er.Ic,er.fd,Se.uU],styles:[".container[_ngcontent-%COMP%]{background-color:#fff;padding:40px 43px;height:100%;overflow-x:hidden;box-shadow:0 .5rem 1rem #00000026}.buttons.row[_ngcontent-%COMP%]{justify-content:space-between;padding:0 21px}h2.heading[_ngcontent-%COMP%]{color:#00008f;font-weight:700!important;letter-spacing:.5px}.mat-dialog-content[_ngcontent-%COMP%]{padding-top:15px}.mat-radio-button[_ngcontent-%COMP%]{margin:0 12px}.mat-form-field[_ngcontent-%COMP%]{padding-top:15px}.mat-error[_ngcontent-%COMP%]{font-size:11px}.container[_ngcontent-%COMP%]{background-color:#fff;padding:40px 0;height:100%;overflow:auto}.container[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}table.question-table[_ngcontent-%COMP%]{width:100%}.mat-header-cell[_ngcontent-%COMP%]{color:#333;font-weight:600;letter-spacing:.5px;font-size:15px;width:165px}.header-tab[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}.mat-paginator[_ngcontent-%COMP%]{background-color:transparent;margin:20px auto auto;width:80%}.example-first-header-row[_ngcontent-%COMP%]{background-color:#00008f}.example-first-header-row[_ngcontent-%COMP%]   th.mat-header-cell[_ngcontent-%COMP%]{border:none;color:#fff;font-size:18px}.mat-column-valeurGarantie.mat-cell[_ngcontent-%COMP%], .mat-column-valeurEnvloppe.mat-cell[_ngcontent-%COMP%]{text-align:center}.mat-icon[_ngcontent-%COMP%]{height:100%;font-size:36px;width:-moz-fit-content;width:fit-content}.mat-cell[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{color:#00008f}.mat-header-cell.mat-icon[_ngcontent-%COMP%]{color:#fff}.mat-cell[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]:hover, .mat-header-cell[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]:hover{color:#d14723;cursor:pointer}  .mat-tooltip{font-size:14px}  .mat-horizontal-stepper-header{pointer-events:none!important}.row-button[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:2rem}"]}),p})();function Si(p,E){1&p&&e._uU(0,"Produit")}function Wi(p,E){if(1&p&&(e.ynx(0),e.TgZ(1,"mat-option",27),e._uU(2),e.qZA(),e.BQk()),2&p){const _=E.$implicit;e.xp6(1),e.Q6J("value",_.id_famille),e.xp6(1),e.Oqu(_.description)}}function Io(p,E){if(1&p&&(e.TgZ(0,"mat-radio-group",65)(1,"mat-radio-button",27),e._uU(2,"Oui"),e.qZA(),e.TgZ(3,"mat-radio-button",66),e._uU(4,"Non"),e.qZA()()),2&p){const _=e.oxw().$implicit;e.Q6J("formControlName",_.libelle),e.uIk("aria-label",_.libelle),e.xp6(1),e.Q6J("value",50),e.xp6(2),e.Q6J("value",51)}}function Xi(p,E){1&p&&e._UZ(0,"input",67)}function Lo(p,E){1&p&&e._UZ(0,"input",68)}function jo(p,E){if(1&p&&e._UZ(0,"input",69),2&p){e.oxw();const _=e.MAs(10);e.Q6J("matDatepicker",_)}}function Qc(p,E){if(1&p&&e._UZ(0,"mat-datepicker-toggle",70),2&p){e.oxw();const _=e.MAs(10);e.Q6J("for",_)}}function cs(p,E){if(1&p&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e.YNc(4,Io,5,4,"mat-radio-group",59),e.YNc(5,Xi,1,0,"input",60),e.YNc(6,Lo,1,0,"input",61),e.YNc(7,jo,1,1,"input",62),e.YNc(8,Qc,1,1,"mat-datepicker-toggle",63),e._UZ(9,"mat-datepicker",null,64),e.qZA()()),2&p){const _=E.$implicit;e.Akn(11!=_.idParamProduit&&12!=_.idParamProduit?"height: 40px;":"display: none; height: 40px;"),e.xp6(2),e.Oqu(_.description),e.xp6(2),e.Q6J("ngIf","checkbox"==_.type),e.xp6(1),e.Q6J("ngIf","string"==_.type),e.xp6(1),e.Q6J("ngIf","number"==_.type),e.xp6(1),e.Q6J("ngIf","date"==_.type),e.xp6(1),e.Q6J("ngIf","date"==_.type)}}function Jc(p,E){if(1&p&&(e.TgZ(0,"div",9)(1,"div",10),e._uU(2," Detail du produit "),e.qZA(),e.TgZ(3,"div",56)(4,"table",57),e.YNc(5,cs,11,8,"tr",58),e.qZA()()()),2&p){const _=e.oxw(2);e.xp6(5),e.Q6J("ngForOf",_.consultations)}}function yr(p,E){1&p&&e._uU(0,"Parametres du produit")}function Su(p,E){if(1&p&&(e.ynx(0),e.TgZ(1,"mat-option",27),e._uU(2),e.qZA(),e.BQk()),2&p){const _=E.$implicit;e.xp6(1),e.Q6J("value",_.idTypeRisque),e.xp6(1),e.Oqu(_.description)}}function Dm(p,E){1&p&&e._uU(0,"Parametre tableau")}function Ng(p,E){if(1&p&&(e.TgZ(0,"th",71)(1,"div",72)(2,"span"),e._uU(3,"Liste des parametres "),e.qZA()()()),2&p){const _=e.oxw(2);e.uIk("colspan",_.lengthColumns)}}function k0(p,E){1&p&&(e.TgZ(0,"th",71),e._uU(1," Actif "),e.qZA())}function M0(p,E){1&p&&(e.TgZ(0,"mat-icon",76),e._uU(1,"check_circle "),e.qZA())}function U0(p,E){1&p&&(e.TgZ(0,"mat-icon",77),e._uU(1,"cancel "),e.qZA())}function F0(p,E){if(1&p&&(e.TgZ(0,"td",73),e.YNc(1,M0,2,0,"mat-icon",74),e.YNc(2,U0,2,0,"mat-icon",75),e.qZA()),2&p){const _=E.$implicit,S=e.oxw(2);e.xp6(1),e.Q6J("ngIf",S.condition(_)),e.xp6(1),e.Q6J("ngIf",!S.condition(_))}}function Q0(p,E){1&p&&(e.TgZ(0,"th",71),e._uU(1," Libell\xe9 "),e.qZA())}function J0(p,E){if(1&p&&(e.TgZ(0,"td",73),e._uU(1),e.qZA()),2&p){const _=E.$implicit;e.xp6(1),e.hij(" ",_.libelle," ")}}function X1(p,E){1&p&&(e.TgZ(0,"th",78),e._uU(1," Description "),e.qZA())}function L0(p,E){if(1&p&&(e.TgZ(0,"td",79),e._uU(1),e.qZA()),2&p){const _=E.$implicit;e.xp6(1),e.hij(" ",_.descriptionChamp," ")}}function Y0(p,E){1&p&&(e.TgZ(0,"th",71),e._uU(1," Date debut "),e.qZA())}function G0(p,E){if(1&p&&(e.TgZ(0,"td",73),e._uU(1),e.ALo(2,"date"),e.qZA()),2&p){const _=E.$implicit;e.xp6(1),e.hij(" ",e.xi3(2,1,_.dateDebut,"dd/MM/yyyy")," ")}}function B0(p,E){1&p&&(e.TgZ(0,"th",71),e._uU(1," Action "),e.qZA())}function z0(p,E){if(1&p){const _=e.EpF();e.TgZ(0,"td",80)(1,"mat-icon",81),e.NdJ("mouseup",function(){const ae=e.CHM(_).$implicit,Ue=e.oxw(2);return e.KtG(Ue.openDialogViewParam(ae))}),e._uU(2,"visibility "),e.qZA()()}}function V0(p,E){1&p&&e._UZ(0,"tr",82)}function j0(p,E){1&p&&e._UZ(0,"tr",83)}function H0(p,E){1&p&&e._UZ(0,"tr",84)}function $0(p,E){1&p&&e._uU(0,"Detail Produit")}function K0(p,E){if(1&p&&(e.ynx(0),e.TgZ(1,"mat-option",27),e._uU(2),e.qZA(),e.BQk()),2&p){const _=E.$implicit;e.xp6(1),e.Q6J("value",_.idTaxe),e.xp6(1),e.Oqu(_.description)}}function W0(p,E){if(1&p&&(e.TgZ(0,"th",71)(1,"div",72)(2,"span"),e._uU(3,"Liste des taxes selectionn\xe9es"),e.qZA()()()),2&p){const _=e.oxw(3);e.uIk("colspan",_.lengthColumnsTaxe)}}function X0(p,E){1&p&&(e.TgZ(0,"th",71),e._uU(1," Id taxe "),e.qZA())}function eh(p,E){if(1&p&&(e.TgZ(0,"td",73),e._uU(1),e.qZA()),2&p){const _=E.$implicit;e.xp6(1),e.hij(" ",_.idTaxe," ")}}function th(p,E){1&p&&(e.TgZ(0,"th",78),e._uU(1," Description "),e.qZA())}function nh(p,E){if(1&p&&(e.TgZ(0,"td",79),e._uU(1),e.qZA()),2&p){const _=E.$implicit;e.xp6(1),e.hij(" ",_.description," ")}}function ih(p,E){1&p&&(e.TgZ(0,"th",71),e._uU(1," Valeur de la taxe "),e.qZA())}function oh(p,E){if(1&p&&(e.TgZ(0,"td",73),e._uU(1),e.qZA()),2&p){const _=E.$implicit;e.xp6(1),e.hij(" ",_.valeur," ")}}function rh(p,E){1&p&&e._UZ(0,"tr",82)}function ah(p,E){1&p&&e._UZ(0,"tr",83)}function sh(p,E){1&p&&e._UZ(0,"tr",84)}const e0=function(){return["header-question"]},t0=function(){return[5,10]};function lh(p,E){if(1&p&&(e.TgZ(0,"div",28)(1,"table",29),e.ynx(2,30),e.YNc(3,W0,4,1,"th",31),e.BQk(),e.ynx(4,85),e.YNc(5,X0,2,0,"th",31),e.YNc(6,eh,2,1,"td",33),e.BQk(),e.ynx(7,35),e.YNc(8,th,2,0,"th",36),e.YNc(9,nh,2,1,"td",37),e.BQk(),e.ynx(10,86),e.YNc(11,ih,2,0,"th",31),e.YNc(12,oh,2,1,"td",33),e.BQk(),e.YNc(13,rh,1,0,"tr",41),e.YNc(14,ah,1,0,"tr",42),e.YNc(15,sh,1,0,"tr",43),e.qZA(),e._UZ(16,"mat-paginator",44),e.qZA()),2&p){const _=e.oxw(2);e.xp6(1),e.Q6J("dataSource",_.tableAremplirTaxe),e.xp6(12),e.Q6J("matHeaderRowDef",e.DdM(6,e0)),e.xp6(1),e.Q6J("matHeaderRowDef",_.displayedColumnsTaxes),e.xp6(1),e.Q6J("matRowDefColumns",_.displayedColumnsTaxes),e.xp6(1),e.Q6J("pageSize",5)("pageSizeOptions",e.DdM(7,t0))}}function n0(p,E){if(1&p&&(e.ynx(0),e.TgZ(1,"mat-option",27),e._uU(2),e.qZA(),e.BQk()),2&p){const _=E.$implicit;e.xp6(1),e.Q6J("value",_.idReseau),e.xp6(1),e.Oqu(_.description)}}function ch(p,E){if(1&p&&(e.ynx(0),e.TgZ(1,"mat-option",27),e._uU(2),e.qZA(),e.BQk()),2&p){const _=E.$implicit;e.xp6(1),e.Q6J("value",_.idQuestionnaire),e.xp6(1),e.Oqu(_.description)}}function uh(p,E){if(1&p&&(e.ynx(0),e.TgZ(1,"mat-option",27),e._uU(2),e.qZA(),e.BQk()),2&p){const _=E.$implicit;e.xp6(1),e.Q6J("value",_.id_duree),e.xp6(1),e.Oqu(_.type_duree)}}function mh(p,E){if(1&p&&(e.ynx(0),e.TgZ(1,"mat-option",27),e._uU(2),e.qZA(),e.BQk()),2&p){const _=E.$implicit;e.xp6(1),e.Q6J("value",_.idCodeTypeAvenant),e.xp6(1),e.Oqu(_.description)}}function dh(p,E){if(1&p&&(e.ynx(0),e.TgZ(1,"mat-option",27),e._uU(2),e.qZA(),e.BQk()),2&p){const _=E.$implicit;e.xp6(1),e.Q6J("value",_.idCodeTypeFractionnement),e.xp6(1),e.Oqu(_.description)}}function _h(p,E){if(1&p&&(e.ynx(0),e.TgZ(1,"mat-option",27),e._uU(2),e.qZA(),e.BQk()),2&p){const _=E.$implicit;e.xp6(1),e.Q6J("value",_.idPack0),e.xp6(1),e.Oqu(_.description)}}function ph(p,E){if(1&p){const _=e.EpF();e.TgZ(0,"div",2)(1,"h2",3),e._uU(2,"Consultation du produit"),e.qZA(),e._UZ(3,"mat-divider"),e.TgZ(4,"mat-dialog-content",4)(5,"mat-stepper",null,5)(7,"mat-step")(8,"form",6,7),e.YNc(10,Si,1,0,"ng-template",8),e.TgZ(11,"div",9)(12,"div",10),e._uU(13," Informations g\xe9nerales du produit "),e.qZA(),e.TgZ(14,"div",11)(15,"mat-form-field",12)(16,"mat-label"),e._uU(17,"Code du produit"),e.qZA(),e._UZ(18,"input",13),e.qZA(),e.TgZ(19,"mat-form-field",12)(20,"mat-label"),e._uU(21,"Nom du produit"),e.qZA(),e._UZ(22,"input",14),e.qZA(),e.TgZ(23,"mat-form-field",12)(24,"mat-label"),e._uU(25,"Codification nationale"),e.qZA(),e._UZ(26,"input",15),e.qZA(),e.TgZ(27,"mat-form-field",16)(28,"mat-label"),e._uU(29," Famille produit "),e.qZA(),e.TgZ(30,"mat-select",17),e.YNc(31,Wi,3,2,"ng-container",18),e.qZA()()()(),e.YNc(32,Jc,6,1,"div",19),e.TgZ(33,"div",20)(34,"button",21),e.NdJ("mouseup",function(){e.CHM(_);const k=e.oxw();return e.KtG(k.back())}),e._uU(35,"Retour"),e.qZA(),e.TgZ(36,"button",22),e._uU(37,"Suivant"),e.qZA()()()(),e.TgZ(38,"mat-step")(39,"form",6,7),e.YNc(41,yr,1,0,"ng-template",8),e.TgZ(42,"div",9)(43,"div",10),e._uU(44," Param\xe9tres du risque "),e.qZA(),e.TgZ(45,"div",11)(46,"mat-form-field",23)(47,"mat-label"),e._uU(48," Risque assur\xe9 "),e.qZA(),e.TgZ(49,"mat-select",24),e.NdJ("selectionChange",function(k){e.CHM(_);const ae=e.oxw();return e.KtG(ae.onChangeEventTypeRisque(k))}),e.YNc(50,Su,3,2,"ng-container",18),e.qZA()(),e.TgZ(51,"mat-radio-group",25)(52,"mat-radio-button",26),e._uU(53,"Mono risque"),e.qZA(),e.TgZ(54,"mat-radio-button",27),e._uU(55,"Multirisque"),e.qZA()(),e.YNc(56,Dm,1,0,"ng-template",8),e.TgZ(57,"div",28)(58,"table",29),e.ynx(59,30),e.YNc(60,Ng,4,1,"th",31),e.BQk(),e.ynx(61,32),e.YNc(62,k0,2,0,"th",31),e.YNc(63,F0,3,2,"td",33),e.BQk(),e.ynx(64,34),e.YNc(65,Q0,2,0,"th",31),e.YNc(66,J0,2,1,"td",33),e.BQk(),e.ynx(67,35),e.YNc(68,X1,2,0,"th",36),e.YNc(69,L0,2,1,"td",37),e.BQk(),e.ynx(70,38),e.YNc(71,Y0,2,0,"th",31),e.YNc(72,G0,3,4,"td",33),e.BQk(),e.ynx(73,39),e.YNc(74,B0,2,0,"th",31),e.YNc(75,z0,3,0,"td",40),e.BQk(),e.YNc(76,V0,1,0,"tr",41),e.YNc(77,j0,1,0,"tr",42),e.YNc(78,H0,1,0,"tr",43),e.qZA(),e._UZ(79,"mat-paginator",44),e.qZA()()(),e.TgZ(80,"div",20)(81,"button",45),e._uU(82,"Retour"),e.qZA(),e.TgZ(83,"button",22),e._uU(84,"Suivant"),e.qZA()()()(),e.TgZ(85,"mat-step")(86,"form",6,7),e.YNc(88,$0,1,0,"ng-template",8),e.TgZ(89,"div",9)(90,"div",10),e._uU(91," Taxes "),e.qZA(),e.TgZ(92,"div",11)(93,"mat-form-field",46)(94,"mat-label"),e._uU(95," Taxes"),e.qZA(),e.TgZ(96,"mat-select",47),e.NdJ("selectionChange",function(k){e.CHM(_);const ae=e.oxw();return e.KtG(ae.onChangeEventTaxes(k))}),e.YNc(97,K0,3,2,"ng-container",18),e.qZA()(),e.YNc(98,lh,17,8,"div",48),e.qZA()(),e.TgZ(99,"div",9)(100,"div",10),e._uU(101," Detail du Produit "),e.qZA(),e.TgZ(102,"div",11)(103,"mat-form-field",46)(104,"mat-label"),e._uU(105," R\xe9seau"),e.qZA(),e.TgZ(106,"mat-select",49),e.YNc(107,n0,3,2,"ng-container",18),e.qZA()(),e.TgZ(108,"mat-form-field",46)(109,"mat-label"),e._uU(110," Questionnaire"),e.qZA(),e.TgZ(111,"mat-select",50),e.YNc(112,ch,3,2,"ng-container",18),e.qZA()(),e.TgZ(113,"mat-form-field",46)(114,"mat-label"),e._uU(115," Dur\xe9e"),e.qZA(),e.TgZ(116,"mat-select",51),e.YNc(117,uh,3,2,"ng-container",18),e.qZA()(),e.TgZ(118,"mat-form-field",46)(119,"mat-label"),e._uU(120," Type d'avenant"),e.qZA(),e.TgZ(121,"mat-select",52),e.YNc(122,mh,3,2,"ng-container",18),e.qZA()(),e.TgZ(123,"mat-form-field",46)(124,"mat-label"),e._uU(125," Type de fractionnement"),e.qZA(),e.TgZ(126,"mat-select",53),e.YNc(127,dh,3,2,"ng-container",18),e.qZA()(),e.TgZ(128,"mat-form-field",46)(129,"mat-label"),e._uU(130," Pack"),e.qZA(),e.TgZ(131,"mat-select",54),e.YNc(132,_h,3,2,"ng-container",18),e.qZA()()()(),e.TgZ(133,"div",20)(134,"button",55),e._uU(135,"Retour"),e.qZA(),e.TgZ(136,"button",22),e._uU(137,"Suivant"),e.qZA()()()()()()()}if(2&p){const _=e.oxw();e.xp6(8),e.Q6J("formGroup",_.formConsulationProduit),e.xp6(23),e.Q6J("ngForOf",null==_.dataSourceFamilleProduit?null:_.dataSourceFamilleProduit.data),e.xp6(1),e.Q6J("ngIf",_.consultations),e.xp6(7),e.Q6J("formGroup",_.formConsulationProduit),e.xp6(11),e.Q6J("ngForOf",null==_.dataSourceTypeRisque?null:_.dataSourceTypeRisque.data),e.xp6(2),e.Q6J("value",51),e.xp6(2),e.Q6J("value",50),e.xp6(4),e.Q6J("dataSource",_.dataSourceParamRisque),e.xp6(18),e.Q6J("matHeaderRowDef",e.DdM(22,e0)),e.xp6(1),e.Q6J("matHeaderRowDef",_.displayedColumnsParam),e.xp6(1),e.Q6J("matRowDefColumns",_.displayedColumnsParam),e.xp6(1),e.Q6J("pageSize",5)("pageSizeOptions",e.DdM(23,t0)),e.xp6(7),e.Q6J("formGroup",_.formConsulationProduit),e.xp6(11),e.Q6J("ngForOf",null==_.dataSourceTaxes?null:_.dataSourceTaxes.data),e.xp6(1),e.Q6J("ngIf",_.tableAremplirTaxe),e.xp6(9),e.Q6J("ngForOf",null==_.dataSourceReseauDistribution?null:_.dataSourceReseauDistribution.data),e.xp6(5),e.Q6J("ngForOf",null==_.dataSourceDureeQuestionnaire?null:_.dataSourceDureeQuestionnaire.data),e.xp6(5),e.Q6J("ngForOf",null==_.dataSourceDuree?null:_.dataSourceDuree.data),e.xp6(5),e.Q6J("ngForOf",null==_.dataSourceAvenant?null:_.dataSourceAvenant.data),e.xp6(5),e.Q6J("ngForOf",null==_.dataSourceFractionnement?null:_.dataSourceFractionnement.data),e.xp6(5),e.Q6J("ngForOf",null==_.dataSourcePack?null:_.dataSourcePack.data)}}function fh(p,E){1&p&&(e.TgZ(0,"div",87)(1,"div",88)(2,"h1"),e._uU(3,"Hey, cette page n'existe pas !"),e.qZA(),e.TgZ(4,"a",89),e._uU(5," Retourner \xe0 l' accueil "),e.qZA()()())}let gh=(()=>{class p{constructor(_,S,k,ae,Ue,On,vr,xc,im,Nd,Dg,Sx,yx,Nx,r2){this.formBuilderAuth=_,this.produitService=S,this.familleProduitService=k,this.taxeService=ae,this.reseauDistributionService=Ue,this.questionnaireService=On,this.dureeService=vr,this.avenantService=xc,this.fractionnementService=im,this.packService=Nd,this.paramRisqueService=Dg,this.typeRisqueService=Sx,this.dialog=yx,this.router=Nx,this.route=r2,this.consultations=fg,this.tableAremplirTaxe=[],this.listeTaxe=[],this.listeReseau=[],this.listeQuestionnaire=[],this.listeDuree=[],this.listePack=[],this.listeAvenant=[],this.listeFractionnement=[],this.displayedColumnsTaxes=["id","description","Valeur"],this.displayedColumnsParam=["actif","libelle","description","dateDebut","action"],this.lengthColumns=this.displayedColumnsParam.length,this.lengthColumnsTaxe=this.displayedColumnsTaxes.length,this.detailRisqueProduit=[]}ngOnInit(){let _=this.route.snapshot.paramMap.get("idProduitRisque");this.getAllQuestionnaires(),this.getAllFamilleProduit(),this.getAllFractionnement(),this.getAllPacks(),this.getAllDuree(),this.getAllTaxes(),this.getAllAvenant(),this.getAllReseauDistribution(),this.getAllTypeRisque(),this.getProduitById(_)}condition(_){return 0!=this.selectedProduct?.paramRisqueProduits?.filter(S=>S?.paramRisque?.idParamRisque==_?.idParamRisque).length}openDialogViewParam(_){this.dialog.open(Ag,{width:"60%",data:{paramRisqueProduit:this.selectedProduct?.paramRisqueProduits.filter(k=>k.paramRisque.idParamRisque==_.idParamRisque&&""!=k.valeur),paramRisqueWorkflows:this.selectedProduct?.paramRisqueWorkflows.filter(k=>k.paramRisque.idParamRisque==_.idParamRisque)}}).afterClosed().subscribe(k=>{})}back(){this.router.navigateByUrl("gestion-produits/gestion-produit-risque")}getProduitById(_){this.produitService.getProduitById(_).subscribe({next:S=>{this.selectedProduct=S,this.selectedProduct?.produitTaxes?.forEach(k=>{this.listeTaxe.push(k.taxe?.idTaxe),this.tableAremplirTaxe.push(k.taxe)}),this.selectedProduct?.produitReseaux?.forEach(k=>{this.listeReseau.push(k.reseau?.idReseau)}),this.selectedProduct?.questionnaires?.forEach(k=>{this.listeQuestionnaire.push(k.idQuestionnaire)}),this.selectedProduct?.produitDurees?.forEach(k=>{this.listeDuree.push(k.duree?.id_duree)}),this.selectedProduct?.produitTypeAvenants?.forEach(k=>{this.listeAvenant.push(k.typeAvenant?.idCodeTypeAvenant)}),this.selectedProduct?.produitTypeFractionnements?.forEach(k=>{this.listeFractionnement.push(k.typeFractionnement?.idCodeTypeFractionnement)}),this.selectedProduct?.produitPacks?.forEach(k=>{this.listePack.push(k.idPack0)}),this.getParamRisqueById(Number(this.selectedProduct?.idTypeRisqueProduit?.idTypeRisque)),this.selectedProduct?.param_Produit_Reponses.forEach(k=>{this.selectedProduct&&(this.selectedProduct[k.idParamProduit.libelle]=k.reponse.idParam)}),this.formConsulationProduit=this.formBuilderAuth.group({codeProduit:[this.selectedProduct?.codeProduit,[w.kI.required]],codificationNationale:[this.selectedProduct?.codificationNationale,[w.kI.required]],description:[this.selectedProduct?.description,[w.kI.required]],idFamilleProduit:[this.selectedProduct?.idFamilleProduit?.id_famille,[w.kI.required]],dateDebut:[new Date,[w.kI.required]],dateFin:[""],multirisque:[this.selectedProduct?.multirisque,[w.kI.required]],devis:[this.selectedProduct?.devis,[w.kI.required]],devisEnLigne:[this.selectedProduct?.devisEnLigne,[w.kI.required]],souscriptionEnLigne:[this.selectedProduct?.souscriptionEnLigne,[w.kI.required]],payPrint:[this.selectedProduct?.payPrint,[w.kI.required]],gestionDeSinistre:[this.selectedProduct?.gestionDeSinistre,[w.kI.required]],bonusMalus:[this.selectedProduct?.bonusMalus,[w.kI.required]],prunning:[this.selectedProduct?.prunning,[w.kI.required]],capping:[this.selectedProduct?.capping,[w.kI.required]],convetion:[this.selectedProduct?.convetion,[w.kI.required]],gestionDeSinistreLigne:[this.selectedProduct?.gestionDeSinistreLigne,[w.kI.required]],fractionnement:["",[w.kI.required]],multiRisque:["",[w.kI.required]],produitTaxes:[this.listeTaxe,[w.kI.required]],produitReseaux:[this.listeReseau,[w.kI.required]],questionnaires:[this.listeQuestionnaire,[w.kI.required]],produitDurees:[this.listeDuree,[w.kI.required]],produitTypeAvenants:[this.listeAvenant,[w.kI.required]],produitTypeFractionnements:[this.listeFractionnement,[w.kI.required]],produitPacks:[this.listePack,[w.kI.required]],idTypeRisqueProduit:[this.selectedProduct?.idTypeRisqueProduit?.idTypeRisque,[w.kI.required]]}),this.formConsulationProduit.disable()},error:S=>{console.log(S)}})}getAllFamilleProduit(){this.familleProduitService.getFamilleProduitsList().subscribe({next:_=>{this.dataSourceFamilleProduit=new Q.by(_),console.table(_)},error:_=>{console.log(_)}})}getAllTaxes(){this.taxeService.getTaxesList().subscribe({next:_=>{this.listetaxes=_,this.dataSourceTaxes=new Q.by(_),this.paginateTaxe()},error:_=>{console.log(_)}})}paginateTaxe(){this.dataSourceTaxes.paginator=this.paginator,this.dataSourceTaxes.sort=this.sort}onChangeEventTaxes(_){this.selectedTaxes=_.value,this.tableAremplirTaxe=[];for(let S=0;S<this.selectedTaxes.length;S++)this.elementtaxe=this.listetaxes.find(k=>k.idTaxe===this.selectedTaxes[S]),this.tableAremplirTaxe.push(this.elementtaxe)}getAllReseauDistribution(){this.reseauDistributionService.getAllReseauDistribution().subscribe({next:_=>{this.listeReseauSelected=_,this.dataSourceReseauDistribution=new Q.by(_)},error:_=>{console.log(_)}})}getAllQuestionnaires(){this.questionnaireService.getAllQuestionnaires().subscribe({next:_=>{this.dataSourceDureeQuestionnaire=new Q.by(_)},error:_=>{console.log(_)}})}getAllDuree(){this.dureeService.getAllDuree().subscribe({next:_=>{this.dataSourceDuree=new Q.by(_)},error:_=>{console.log(_)}})}getAllAvenant(){this.avenantService.getTypeAvenant().subscribe({next:_=>{this.dataSourceAvenant=new Q.by(_)},error:_=>{console.log(_)}})}getAllFractionnement(){this.fractionnementService.getAllFractionnement().subscribe({next:_=>{this.dataSourceFractionnement=new Q.by(_)},error:_=>{console.log(_)}})}getAllPacks(){this.packService.getAllPack().subscribe({next:_=>{this.dataSourcePack=new Q.by(_),console.table(_)},error:_=>{console.log(_)}})}getParamRisqueById(_){this.paramRisqueService.getParamRisqueByTypeRisque(_).subscribe({next:S=>{this.dataSourceParamRisque=new Q.by(S),this.detailRisqueProduit=[],this.dataSourceParamRisque.data?.forEach(k=>{this.detailRisqueProduit.push({idParam:k.idParamRisque,paramRisqueWorkflows:[],paramRisqueProduits:[]})}),this.paginateParamRisque()},error:S=>{console.log(S)}})}paginateParamRisque(){this.dataSourceParamRisque.paginator=this.paginator,this.dataSourceParamRisque.sort=this.sort}getAllTypeRisque(){this.typeRisqueService.getTypeRisqueList().subscribe({next:_=>{this.dataSourceTypeRisque=new Q.by(_),console.table(`Hello world : ${_}`)},error:_=>{console.log(_)}})}onChangeEventTypeRisque(_){this.idTypeRisque=_.value,this.getParamRisqueById(_.value)}}return p.\u0275fac=function(_){return new(_||p)(e.Y36(w.qu),e.Y36(Xm.d),e.Y36(la),e.Y36(Z),e.Y36(_c),e.Y36(M),e.Y36(tc.Y),e.Y36(C_.n),e.Y36(Tg),e.Y36(nc.F),e.Y36(Xa.D),e.Y36(Hr),e.Y36(xe.uw),e.Y36(ee.F0),e.Y36(ee.gz))},p.\u0275cmp=e.Xpm({type:p,selectors:[["app-consultation-produit"]],viewQuery:function(_,S){if(1&_&&(e.Gf(Le.NW,5),e.Gf(qi.YE,5)),2&_){let k;e.iGM(k=e.CRH())&&(S.paginator=k.first),e.iGM(k=e.CRH())&&(S.sort=k.first)}},decls:2,vars:2,consts:[["style","padding-left: 3%; padding: 3%;","class","container",4,"ngIf"],["style","padding-left: 36%;","class","center",4,"ngIf"],[1,"container",2,"padding-left","3%","padding","3%"],[1,"heading",2,"padding-left","3%"],[1,"mat-typography"],["stepper",""],[1,"login-form",3,"formGroup"],["formDirective","ngForm"],["matStepLabel",""],[2,"border","1px solid #E0E0E0","margin-bottom","3%"],[2,"padding","8px 24px","background","#E0E0E0","font-weight","700","font-size","14px"],[2,"padding","8px 24px"],["appearance","outline",1,"col-md-3",2,"padding-right","1%"],["type","text","matInput","","placeholder","","formControlName","codeProduit"],["type","text","matInput","","placeholder","","formControlName","description"],["type","text","matInput","","placeholder","","formControlName","codificationNationale"],["appearance","outline",1,"col-md-3",2,"padding-left","1%","padding-right","1%"],["formControlName","idFamilleProduit"],[4,"ngFor","ngForOf"],["style","border: 1px solid #E0E0E0; margin-bottom: 3%;",4,"ngIf"],[1,"row-button"],[1,"btn","btn-cancel",3,"mouseup"],["matStepperNext","",1,"btn","btn-action"],["appearance","outline",1,"col-md-4",2,"padding-left","1%","padding-right","1%"],["formControlName","idTypeRisqueProduit",3,"selectionChange"],["aria-label","Select an option","formControlName","multirisque",1,"col-md-6",2,"margin-bottom","2%","padding-left","20%"],[2,"padding-right","8%",3,"value"],[3,"value"],[1,""],["mat-table","",1,"mat-elevation-z8","question-table",3,"dataSource"],["matColumnDef","header-question"],["mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","actif"],["mat-cell","","style","padding-top: 24px; padding-bottom: 24px;",4,"matCellDef"],["matColumnDef","libelle"],["matColumnDef","description"],["mat-header-cell","","style","padding-right: 60px;",4,"matHeaderCellDef"],["mat-cell","","style","padding-top: 24px; padding-bottom: 24px; padding-right: 60px;",4,"matCellDef"],["matColumnDef","dateDebut"],["matColumnDef","action"],["mat-cell","",4,"matCellDef"],["mat-header-row","","class","example-first-header-row",4,"matHeaderRowDef"],["mat-header-row","","class","example-second-header-row",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["aria-label","Select page  of users",3,"pageSize","pageSizeOptions"],["mat-button","","matStepperPrevious","",1,"btn","btn-cancel"],["appearance","outline",1,"col-md-12",2,"padding-left","1%","padding-right","1%"],["formControlName","produitTaxes","multiple","","multiple","",3,"selectionChange"],["class","",4,"ngIf"],["formControlName","produitReseaux","multiple",""],["formControlName","questionnaires","multiple",""],["formControlName","produitDurees","multiple",""],["formControlName","produitTypeAvenants","multiple",""],["formControlName","produitTypeFractionnements","multiple",""],["formControlName","produitPacks","multiple",""],["mat-button","",1,"btn","btn-cancel"],[2,"padding","4px 18px"],[1,"table","table-sm","table-bordered","m-t-4",2,"border-collapse","collapse","width","50%","height","18px","border","0"],[3,"style",4,"ngFor","ngForOf"],[3,"formControlName",4,"ngIf"],["type","text","matInput","","placeholder","",4,"ngIf"],["type","number","matInput","","placeholder","",4,"ngIf"],["matInput","",3,"matDatepicker",4,"ngIf"],["matSuffix","",3,"for",4,"ngIf"],["picker",""],[3,"formControlName"],[2,"padding-left","20%",3,"value"],["type","text","matInput","","placeholder",""],["type","number","matInput","","placeholder",""],["matInput","",3,"matDatepicker"],["matSuffix","",3,"for"],["mat-header-cell",""],[1,"header-tab"],["mat-cell","",2,"padding-top","24px","padding-bottom","24px"],["aria-hidden","false","aria-label","","class","material-symbols-outlined","matTooltip","","matTooltipPosition","right","style","color: green;",4,"ngIf"],["aria-hidden","false","aria-label","","class","material-symbols-outlined","matTooltip","","matTooltipPosition","right","style","color: red;",4,"ngIf"],["aria-hidden","false","aria-label","","matTooltip","","matTooltipPosition","right",1,"material-symbols-outlined",2,"color","green"],["aria-hidden","false","aria-label","","matTooltip","","matTooltipPosition","right",1,"material-symbols-outlined",2,"color","red"],["mat-header-cell","",2,"padding-right","60px"],["mat-cell","",2,"padding-top","24px","padding-bottom","24px","padding-right","60px"],["mat-cell",""],["aria-hidden","false","aria-label","edit reseau de distribution","matTooltip","Voir les valeur du param","matTooltipPosition","right",1,"material-symbols-outlined",3,"mouseup"],["mat-header-row","",1,"example-first-header-row"],["mat-header-row","",1,"example-second-header-row"],["mat-row",""],["matColumnDef","id"],["matColumnDef","Valeur"],[1,"center",2,"padding-left","36%"],[1,"center"],["routerLink","/gestion-produits/gestion-produit-risque",1,"waves-effect","waves-teal","btn-flat"]],template:function(_,S){1&_&&(e.YNc(0,ph,138,24,"div",0),e.YNc(1,fh,6,0,"div",1)),2&_&&(e.Q6J("ngIf",S.formConsulationProduit),e.xp6(1),e.Q6J("ngIf",!S.formConsulationProduit))},dependencies:[Se.sg,Se.O5,ee.rH,O.d,Mn.Hw,w._Y,w.Fj,w.JJ,w.JL,w.sg,w.u,J.KE,J.hX,J.R9,he.Nt,Q.BZ,Q.fO,Q.as,Q.w1,Q.Dz,Q.nj,Q.ge,Q.ev,Q.XQ,Q.Gk,oo.gM,Le.NW,xe.xY,Ze.Mq,Ze.hl,Ze.nW,l.gD,t.ey,Bi.VQ,Bi.U0,vn.lW,er.C0,er.VY,er.Vq,er.Ic,er.fd,Se.uU],styles:[".buttons.row[_ngcontent-%COMP%]{justify-content:space-between;padding:0 21px}h2.heading[_ngcontent-%COMP%]{color:#00008f;font-weight:700!important;letter-spacing:.5px}.mat-dialog-content[_ngcontent-%COMP%]{padding-top:15px}.mat-radio-button[_ngcontent-%COMP%]{margin:0 12px}.mat-form-field[_ngcontent-%COMP%]{padding-top:15px}.mat-error[_ngcontent-%COMP%]{font-size:11px}.container[_ngcontent-%COMP%]{background-color:#fff;padding:40px 0;height:100%;overflow:auto}.container[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}table.question-table[_ngcontent-%COMP%]{width:100%}.mat-header-cell[_ngcontent-%COMP%]{color:#333;font-weight:600;letter-spacing:.5px;font-size:15px;width:165px}.header-tab[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}.mat-paginator[_ngcontent-%COMP%]{background-color:transparent;margin:20px auto auto;width:80%}.example-first-header-row[_ngcontent-%COMP%]{background-color:#00008f}.example-first-header-row[_ngcontent-%COMP%]   th.mat-header-cell[_ngcontent-%COMP%]{border:none;color:#fff;font-size:18px}.mat-column-valeurGarantie.mat-cell[_ngcontent-%COMP%], .mat-column-valeurEnvloppe.mat-cell[_ngcontent-%COMP%]{text-align:center}.mat-icon[_ngcontent-%COMP%]{height:100%;font-size:36px;width:-moz-fit-content;width:fit-content}.mat-cell[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{color:#00008f}.mat-header-cell.mat-icon[_ngcontent-%COMP%]{color:#fff}.mat-cell[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]:hover, .mat-header-cell[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]:hover{color:#d14723;cursor:pointer}  .mat-tooltip{font-size:14px}.row-button[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:2rem}"]}),p})();function hh(p,E){1&p&&(e.TgZ(0,"th",19),e._uU(1," Garantie "),e.qZA())}function Ch(p,E){if(1&p&&(e.TgZ(0,"td",20),e._uU(1),e.qZA()),2&p){const _=E.$implicit;e.xp6(1),e.hij(" ",_.garantie.idGarantie," ")}}function xh(p,E){1&p&&(e.TgZ(0,"th",19),e._uU(1," Description "),e.qZA())}function vh(p,E){if(1&p&&(e.TgZ(0,"td",20),e._uU(1),e.qZA()),2&p){const _=E.$implicit;e.xp6(1),e.hij(" ",_.garantie.description," ")}}function Ah(p,E){1&p&&(e.TgZ(0,"th",19),e._uU(1," Obligatoire "),e.qZA())}function Th(p,E){if(1&p&&(e.TgZ(0,"td",20),e._uU(1),e.ALo(2,"obligatoireFormat"),e.qZA()),2&p){const _=E.$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,_.obligatoire)," ")}}function bh(p,E){1&p&&(e.TgZ(0,"th",19),e._uU(1," Action "),e.qZA())}function Ph(p,E){if(1&p){const _=e.EpF();e.TgZ(0,"td",20)(1,"button",21)(2,"mat-icon"),e._uU(3,"more_vert"),e.qZA()(),e.TgZ(4,"mat-menu",22,23)(6,"button",24),e.NdJ("click",function(){const ae=e.CHM(_).$implicit,Ue=e.oxw();return e.KtG(Ue.seeParam(ae.garantie.idGarantie))}),e.TgZ(7,"mat-icon"),e._uU(8,"format_list_bulleted"),e.qZA(),e.TgZ(9,"span"),e._uU(10,"Afficher param\xe8tre(s)"),e.qZA()(),e.TgZ(11,"button",24),e.NdJ("click",function(){const ae=e.CHM(_).$implicit,Ue=e.oxw();return e.KtG(Ue.seeSousGarantie(ae.garantie.idGarantie))}),e.TgZ(12,"mat-icon"),e._uU(13,"format_list_bulleted"),e.qZA(),e.TgZ(14,"span"),e._uU(15,"Afficher sous garantie(s)"),e.qZA()()()()}if(2&p){const _=e.MAs(5);e.xp6(1),e.Q6J("matMenuTriggerFor",_)}}function Zh(p,E){1&p&&e._UZ(0,"tr",25)}function qh(p,E){1&p&&e._UZ(0,"tr",26)}const wx=function(){return[5,10]};let Sh=(()=>{class p{constructor(_,S,k,ae){this.formBuilderAuth=_,this.router=S,this.route=k,this.packService=ae,this.dataSourceGaranties=new Q.by,this.displayedColumnsGarantie=["idGarantie","description","obligatoire","action"]}ngAfterViewInit(){this.dataSourceGaranties.paginator=this.paginator,this.paginator._intl.itemsPerPageLabel="Nombre d'\xe9l\xe9ments par page"}ngOnInit(){this.initFilter(),this.idPack=this.route.snapshot.paramMap.get("idPack"),this.initGaranties(this.idPack),this.lengthColumns=this.displayedColumnsGarantie.length}initFilter(){this.formFilter=this.formBuilderAuth.group({description:[""]})}initGaranties(_){this.packService.getGarantiePack(_).subscribe({next:S=>{this.dataSourceGaranties=new Q.by(S),this.dataSourceGaranties.paginator=this.paginator},error:S=>{console.log(S)}})}seeParam(_){this.router.navigateByUrl("gestion-referentiels/gestion-pack/"+this.idPack+"/garanties/"+_+"/parametres")}seeSousGarantie(_){this.router.navigateByUrl("gestion-referentiels/gestion-pack/"+this.idPack+"/garanties/"+_+"/sous-garanties")}back(){this.router.navigateByUrl("gestion-referentiels/gestion-pack")}applyFilter(_){this.dataSourceGaranties.filter=_.target.value.trim().toLowerCase()}}return p.\u0275fac=function(_){return new(_||p)(e.Y36(w.qu),e.Y36(ee.F0),e.Y36(ee.gz),e.Y36(nc.F))},p.\u0275cmp=e.Xpm({type:p,selectors:[["app-list-garanties"]],viewQuery:function(_,S){if(1&_&&e.Gf(Le.NW,5),2&_){let k;e.iGM(k=e.CRH())&&(S.paginator=k.first)}},decls:30,vars:8,consts:[[1,"container"],[1,"header"],[1,"title-table"],["aria-hidden","false","matTooltip","Retour","matTooltipPosition","left",1,"material-symbols-outlined",3,"click"],[1,"filter"],[1,"row",2,"margin-left","1rem",3,"formGroup"],["formDirective","ngForm"],[1,"col-md-5"],["type","text","matInput","","placeholder","","formControlName","description",3,"keyup"],["mat-table","",1,"table",3,"dataSource"],["matColumnDef","idGarantie"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","description"],["matColumnDef","obligatoire"],["matColumnDef","action"],["mat-header-row","","class","second-header-row",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["aria-label","Select page of users",3,"pageSize","pageSizeOptions"],["mat-header-cell",""],["mat-cell",""],["mat-icon-button","","type","button","aria-label","menu pack list",3,"matMenuTriggerFor"],["xPosition","after",1,"menu-pack"],["menu","matMenu"],["mat-menu-item","","type","button",3,"click"],["mat-header-row","",1,"second-header-row"],["mat-row",""]],template:function(_,S){1&_&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h2",2)(3,"mat-icon",3),e.NdJ("click",function(){return S.back()}),e._uU(4,"arrow_circle_left"),e.qZA(),e._uU(5," Listes des garanties"),e.qZA()(),e._UZ(6,"mat-divider"),e.TgZ(7,"div",4)(8,"form",5,6)(10,"mat-form-field",7)(11,"mat-label"),e._uU(12,"Description"),e.qZA(),e.TgZ(13,"input",8),e.NdJ("keyup",function(ae){return S.applyFilter(ae)}),e.qZA()()()(),e.TgZ(14,"table",9),e.ynx(15,10),e.YNc(16,hh,2,0,"th",11),e.YNc(17,Ch,2,1,"td",12),e.BQk(),e.ynx(18,13),e.YNc(19,xh,2,0,"th",11),e.YNc(20,vh,2,1,"td",12),e.BQk(),e.ynx(21,14),e.YNc(22,Ah,2,0,"th",11),e.YNc(23,Th,3,3,"td",12),e.BQk(),e.ynx(24,15),e.YNc(25,bh,2,0,"th",11),e.YNc(26,Ph,16,1,"td",12),e.BQk(),e.YNc(27,Zh,1,0,"tr",16),e.YNc(28,qh,1,0,"tr",17),e.qZA(),e._UZ(29,"mat-paginator",18),e.qZA()),2&_&&(e.xp6(8),e.Q6J("formGroup",S.formFilter),e.xp6(6),e.Q6J("dataSource",S.dataSourceGaranties)("@enterAnimation",void 0),e.xp6(13),e.Q6J("matHeaderRowDef",S.displayedColumnsGarantie),e.xp6(1),e.Q6J("matRowDefColumns",S.displayedColumnsGarantie),e.xp6(1),e.Q6J("pageSize",10)("pageSizeOptions",e.DdM(7,wx)))},dependencies:[O.d,Mn.Hw,Nn.VK,Nn.OP,Nn.p6,w._Y,w.Fj,w.JJ,w.JL,w.sg,w.u,J.KE,J.hX,he.Nt,Q.BZ,Q.fO,Q.as,Q.w1,Q.Dz,Q.nj,Q.ge,Q.ev,Q.XQ,Q.Gk,oo.gM,Le.NW,vn.lW,hd],styles:[".container[_ngcontent-%COMP%]{background-color:#fff;padding:40px 0;height:100%;overflow-y:auto;overflow-x:hidden}table.table[_ngcontent-%COMP%]{width:100%;margin-top:2rem}.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:16px}.mat-row[_ngcontent-%COMP%]:nth-child(even), .mat-header-row[_ngcontent-%COMP%]{background-color:#f7f7f9}.mat-header-row[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{color:#00008f}.mat-header-cell[_ngcontent-%COMP%]{color:#333;font-weight:600;letter-spacing:.5px;font-size:15px;width:165px}.header-tab[_ngcontent-%COMP%]{display:flex;align-items:center}.header-tab[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{margin-right:10px;float:right}.mat-paginator[_ngcontent-%COMP%]{background-color:transparent;margin:20px auto auto;width:80%}.first-header-row[_ngcontent-%COMP%]{background-color:#00008f}.first-header-row[_ngcontent-%COMP%]   th.mat-header-cell[_ngcontent-%COMP%]{border:none;color:#fff;font-size:18px}.mat-column-valeur.mat-cell[_ngcontent-%COMP%]{text-align:center}.mat-icon[_ngcontent-%COMP%]{height:100%;font-size:36px;width:-moz-fit-content;width:fit-content}.mat-cell[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{color:#00008f}.mat-header-cell.mat-icon[_ngcontent-%COMP%]{color:#fff}.mat-cell[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]:hover, .mat-header-cell[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]:hover{color:#d14723;cursor:pointer}  .mat-tooltip{font-size:14px}.mat-menu-item[_ngcontent-%COMP%]{font-size:16px}.mat-menu-item[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:21px;height:-moz-fit-content;height:fit-content}.mat-menu-item[_ngcontent-%COMP%]:hover:not([disabled]){color:#00008f}.mat-menu-item[_ngcontent-%COMP%]:hover:not([disabled])   .mat-icon[_ngcontent-%COMP%]{color:#00008f}.title-table[_ngcontent-%COMP%]{margin-bottom:0rem;font-weight:800!important;font-size:23px!important;color:#00008f!important;display:flex;align-items:center}.header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:0px 2rem}.header[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{height:-moz-fit-content;height:fit-content;font-size:29px;margin-right:1rem;width:-moz-fit-content;width:fit-content;cursor:pointer}.mat-divider[_ngcontent-%COMP%]{margin-bottom:2rem;margin-top:2rem}"],data:{animation:[(0,go.X$)("enterAnimation",[(0,go.eR)(":enter",[(0,go.oB)({opacity:0,transform:"translateX(-100%)"}),(0,go.jt)(400)])])]}}),p})();function yh(p,E){1&p&&(e.TgZ(0,"th",19),e._uU(1," Sous Garantie "),e.qZA())}function Nh(p,E){if(1&p&&(e.TgZ(0,"td",20),e._uU(1),e.qZA()),2&p){const _=E.$implicit;e.xp6(1),e.hij(" ",_.sousGarantie.idSousGarantie," ")}}function Ih(p,E){1&p&&(e.TgZ(0,"th",19),e._uU(1," Description "),e.qZA())}function Eh(p,E){if(1&p&&(e.TgZ(0,"td",20),e._uU(1),e.qZA()),2&p){const _=E.$implicit;e.xp6(1),e.hij(" ",_.sousGarantie.description," ")}}function Rh(p,E){1&p&&(e.TgZ(0,"th",19),e._uU(1," Obligatoire "),e.qZA())}function Ig(p,E){if(1&p&&(e.TgZ(0,"td",20),e._uU(1),e.qZA()),2&p){const _=E.$implicit;e.xp6(1),e.hij(" ",_.obligatoire," ")}}function Dh(p,E){1&p&&(e.TgZ(0,"th",19),e._uU(1," Action "),e.qZA())}function wh(p,E){if(1&p){const _=e.EpF();e.TgZ(0,"td",20)(1,"button",21)(2,"mat-icon"),e._uU(3,"more_vert"),e.qZA()(),e.TgZ(4,"mat-menu",22,23)(6,"button",24),e.NdJ("click",function(){const ae=e.CHM(_).$implicit,Ue=e.oxw();return e.KtG(Ue.seeParam(ae.sousGarantie.idSousGarantie))}),e.TgZ(7,"mat-icon"),e._uU(8,"format_list_bulleted"),e.qZA(),e.TgZ(9,"span"),e._uU(10,"Afficher param\xe8tre(s)"),e.qZA()()()()}if(2&p){const _=e.MAs(5);e.xp6(1),e.Q6J("matMenuTriggerFor",_)}}function J1(p,E){1&p&&e._UZ(0,"tr",25)}function Oh(p,E){1&p&&e._UZ(0,"tr",26)}const kh=function(){return[5,10]};let Mh=(()=>{class p{constructor(_,S,k,ae){this.formBuilderAuth=_,this.router=S,this.route=k,this.packService=ae,this.dataSourceSousGaranties=new Q.by,this.displayedColumnsSousGarantie=["idSousgarantie","description","obligatoire","action"]}ngAfterViewInit(){this.dataSourceSousGaranties.paginator=this.paginator,this.paginator._intl.itemsPerPageLabel="Nombre d'\xe9l\xe9ments par page"}ngOnInit(){this.initFilter(),this.idPack=this.route.snapshot.paramMap.get("idPack"),this.idGarantie=this.route.snapshot.paramMap.get("idGarantie"),this.initSousGaranties(),this.lengthColumns=this.displayedColumnsSousGarantie.length}initFilter(){this.formFilter=this.formBuilderAuth.group({description:[""]})}initSousGaranties(){this.packService.getSousGarantiePack(this.idPack,this.idGarantie).subscribe({next:_=>{this.dataSourceSousGaranties=new Q.by(_),this.dataSourceSousGaranties.paginator=this.paginator},error:_=>{console.log(_)}})}seeParam(_){this.router.navigateByUrl("gestion-referentiels/gestion-pack/"+this.idPack+"/garanties/"+this.idGarantie+"/sous-garanties/"+_+"/parametres")}back(){this.router.navigateByUrl("gestion-referentiels/gestion-pack/"+this.idPack+"/garanties")}applyFilter(_){this.dataSourceSousGaranties.filter=_.target.value.trim().toLowerCase()}}return p.\u0275fac=function(_){return new(_||p)(e.Y36(w.qu),e.Y36(ee.F0),e.Y36(ee.gz),e.Y36(nc.F))},p.\u0275cmp=e.Xpm({type:p,selectors:[["app-list-sous-garanties"]],viewQuery:function(_,S){if(1&_&&e.Gf(Le.NW,5),2&_){let k;e.iGM(k=e.CRH())&&(S.paginator=k.first)}},decls:30,vars:8,consts:[[1,"container"],[1,"header"],[1,"title-table"],["aria-hidden","false","matTooltip","Retour","matTooltipPosition","left",1,"material-symbols-outlined",3,"click"],[1,"filter"],[1,"row",2,"margin-left","1rem",3,"formGroup"],["formDirective","ngForm"],[1,"col-md-5"],["type","text","matInput","","placeholder","","formControlName","description",3,"keyup"],["mat-table","",1,"table",3,"dataSource"],["matColumnDef","idSousgarantie"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","description"],["matColumnDef","obligatoire"],["matColumnDef","action"],["mat-header-row","","class","second-header-row",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["aria-label","Select page of users",3,"pageSize","pageSizeOptions"],["mat-header-cell",""],["mat-cell",""],["mat-icon-button","","type","button","aria-label","menu pack list",3,"matMenuTriggerFor"],["xPosition","after",1,"menu-pack"],["menu","matMenu"],["mat-menu-item","","type","button",3,"click"],["mat-header-row","",1,"second-header-row"],["mat-row",""]],template:function(_,S){1&_&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h2",2)(3,"mat-icon",3),e.NdJ("click",function(){return S.back()}),e._uU(4,"arrow_circle_left"),e.qZA(),e._uU(5," Listes des sous garanties"),e.qZA()(),e._UZ(6,"mat-divider"),e.TgZ(7,"div",4)(8,"form",5,6)(10,"mat-form-field",7)(11,"mat-label"),e._uU(12,"Description"),e.qZA(),e.TgZ(13,"input",8),e.NdJ("keyup",function(ae){return S.applyFilter(ae)}),e.qZA()()()(),e.TgZ(14,"table",9),e.ynx(15,10),e.YNc(16,yh,2,0,"th",11),e.YNc(17,Nh,2,1,"td",12),e.BQk(),e.ynx(18,13),e.YNc(19,Ih,2,0,"th",11),e.YNc(20,Eh,2,1,"td",12),e.BQk(),e.ynx(21,14),e.YNc(22,Rh,2,0,"th",11),e.YNc(23,Ig,2,1,"td",12),e.BQk(),e.ynx(24,15),e.YNc(25,Dh,2,0,"th",11),e.YNc(26,wh,11,1,"td",12),e.BQk(),e.YNc(27,J1,1,0,"tr",16),e.YNc(28,Oh,1,0,"tr",17),e.qZA(),e._UZ(29,"mat-paginator",18),e.qZA()),2&_&&(e.xp6(8),e.Q6J("formGroup",S.formFilter),e.xp6(6),e.Q6J("dataSource",S.dataSourceSousGaranties)("@enterAnimation",void 0),e.xp6(13),e.Q6J("matHeaderRowDef",S.displayedColumnsSousGarantie),e.xp6(1),e.Q6J("matRowDefColumns",S.displayedColumnsSousGarantie),e.xp6(1),e.Q6J("pageSize",10)("pageSizeOptions",e.DdM(7,kh)))},dependencies:[O.d,Mn.Hw,Nn.VK,Nn.OP,Nn.p6,w._Y,w.Fj,w.JJ,w.JL,w.sg,w.u,J.KE,J.hX,he.Nt,Q.BZ,Q.fO,Q.as,Q.w1,Q.Dz,Q.nj,Q.ge,Q.ev,Q.XQ,Q.Gk,oo.gM,Le.NW,vn.lW],styles:[".container[_ngcontent-%COMP%]{background-color:#fff;padding:40px 0;height:100%;overflow-y:auto;overflow-x:hidden}table.table[_ngcontent-%COMP%]{width:100%;margin-top:2rem}.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:16px}.mat-row[_ngcontent-%COMP%]:nth-child(even), .mat-header-row[_ngcontent-%COMP%]{background-color:#f7f7f9}.mat-header-row[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{color:#00008f}.mat-header-cell[_ngcontent-%COMP%]{color:#333;font-weight:600;letter-spacing:.5px;font-size:15px;width:165px}.header-tab[_ngcontent-%COMP%]{display:flex;align-items:center}.header-tab[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{margin-right:10px;float:right}.mat-paginator[_ngcontent-%COMP%]{background-color:transparent;margin:20px auto auto;width:80%}.first-header-row[_ngcontent-%COMP%]{background-color:#00008f}.first-header-row[_ngcontent-%COMP%]   th.mat-header-cell[_ngcontent-%COMP%]{border:none;color:#fff;font-size:18px}.mat-column-valeur.mat-cell[_ngcontent-%COMP%]{text-align:center}.mat-icon[_ngcontent-%COMP%]{height:100%;font-size:36px;width:-moz-fit-content;width:fit-content}.mat-cell[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{color:#00008f}.mat-header-cell.mat-icon[_ngcontent-%COMP%]{color:#fff}.mat-cell[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]:hover, .mat-header-cell[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]:hover{color:#d14723;cursor:pointer}  .mat-tooltip{font-size:14px}.mat-menu-item[_ngcontent-%COMP%]{font-size:16px}.mat-menu-item[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:21px;height:-moz-fit-content;height:fit-content}.mat-menu-item[_ngcontent-%COMP%]:hover:not([disabled]){color:#00008f}.mat-menu-item[_ngcontent-%COMP%]:hover:not([disabled])   .mat-icon[_ngcontent-%COMP%]{color:#00008f}.title-table[_ngcontent-%COMP%]{margin-bottom:0rem;font-weight:800!important;font-size:23px!important;color:#00008f!important;display:flex;align-items:center}.header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:0px 2rem}.header[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{height:-moz-fit-content;height:fit-content;font-size:29px;margin-right:1rem;width:-moz-fit-content;width:fit-content;cursor:pointer}.mat-divider[_ngcontent-%COMP%]{margin-bottom:2rem;margin-top:2rem}"],data:{animation:[(0,go.X$)("enterAnimation",[(0,go.eR)(":enter",[(0,go.oB)({opacity:0,transform:"translateX(-100%)"}),(0,go.jt)(400)])])]}}),p})();const o0=["stepper"],r0=["paginatorPackGarantie"],a0=["paginatorGarantieCategory"],Uh=["paginatorSousGarantiePack"],Fh=["paginatorSousGarantieCategory"];function s0(p,E){1&p&&e._uU(0,"Pack")}function Qh(p,E){1&p&&(e.TgZ(0,"div"),e._uU(1," ce champs est obligatoire"),e.qZA())}function l0(p,E){if(1&p&&(e.TgZ(0,"mat-error",38),e.YNc(1,Qh,2,0,"div",5),e.qZA()),2&p){const _=e.oxw(3);e.xp6(1),e.Q6J("ngIf",_.creationPackStepOne.controls.description.errors.required)}}function Jh(p,E){1&p&&(e.TgZ(0,"div"),e._uU(1," ce champs est obligatoire"),e.qZA())}function Lh(p,E){if(1&p&&(e.TgZ(0,"mat-error",38),e.YNc(1,Jh,2,0,"div",5),e.qZA()),2&p){const _=e.oxw(3);e.xp6(1),e.Q6J("ngIf",_.creationPackStepOne.controls.dateDebut.errors.required)}}function c0(p,E){1&p&&(e.TgZ(0,"mat-error",38)(1,"div"),e._uU(2," Date fin est inf\xe9rieur \xe0 la date d\xe9but"),e.qZA()())}function Yh(p,E){1&p&&(e.TgZ(0,"th",39),e._uU(1," Categorie de valeur "),e.qZA())}function Gh(p,E){if(1&p&&(e.TgZ(0,"td",40),e._uU(1),e.qZA()),2&p){const _=E.$implicit;e.xp6(1),e.hij(" ",_.categorieValeur.description," ")}}function Bh(p,E){1&p&&(e.TgZ(0,"th",39),e._uU(1,"Sous Categorie de valeur "),e.qZA())}function zh(p,E){if(1&p&&(e.TgZ(0,"td",40),e._uU(1),e.qZA()),2&p){const _=E.$implicit;e.xp6(1),e.hij(" ",_.sousCategorieList.description," ")}}function Vh(p,E){1&p&&(e.TgZ(0,"th",39),e._uU(1," Type Valeur "),e.qZA())}function u0(p,E){if(1&p&&(e.TgZ(0,"td",40),e._uU(1),e.qZA()),2&p){const _=E.$implicit;e.xp6(1),e.hij(" ",_.typeValeur.description," ")}}function jh(p,E){1&p&&(e.TgZ(0,"th",39),e._uU(1," Valeur "),e.qZA())}function Hh(p,E){if(1&p&&(e.TgZ(0,"td",40),e._uU(1),e.qZA()),2&p){const _=E.$implicit;e.xp6(1),e.hij(" ",_.valeur," ")}}function $h(p,E){1&p&&(e.TgZ(0,"th",39),e._uU(1," Action "),e.qZA())}function Kh(p,E){if(1&p){const _=e.EpF();e.TgZ(0,"td",40)(1,"button",41)(2,"mat-icon"),e._uU(3,"more_vert"),e.qZA()(),e.TgZ(4,"mat-menu",42,43)(6,"button",44),e.NdJ("click",function(){const ae=e.CHM(_).$implicit,Ue=e.oxw(3);return e.KtG(Ue.EditPackCategory(ae))}),e.TgZ(7,"mat-icon"),e._uU(8,"edit"),e.qZA(),e.TgZ(9,"span"),e._uU(10,"Modifier param\xe8tre"),e.qZA()(),e.TgZ(11,"button",44),e.NdJ("click",function(){const ae=e.CHM(_).$implicit,Ue=e.oxw(3);return e.KtG(Ue.deletePackCategory(ae.idcaracteristique))}),e.TgZ(12,"mat-icon"),e._uU(13,"delete"),e.qZA(),e.TgZ(14,"span"),e._uU(15,"Supprimer param\xe8tre"),e.qZA()()()()}if(2&p){const _=e.MAs(5);e.xp6(1),e.Q6J("matMenuTriggerFor",_)}}function Wh(p,E){1&p&&e._UZ(0,"tr",45)}function Xh(p,E){1&p&&e._UZ(0,"tr",46)}const eC=function(){return[5,10,50]};function tC(p,E){if(1&p){const _=e.EpF();e.TgZ(0,"form",11),e.YNc(1,s0,1,0,"ng-template",12),e.TgZ(2,"div",13)(3,"mat-form-field",14)(4,"mat-label"),e._uU(5,"Description"),e.qZA(),e._UZ(6,"input",15),e.YNc(7,l0,2,1,"mat-error",16),e.qZA()(),e.TgZ(8,"div",13)(9,"mat-form-field",14)(10,"mat-label"),e._uU(11,"Date D\xe9but"),e.qZA(),e._UZ(12,"input",17)(13,"mat-datepicker-toggle",18)(14,"mat-datepicker",null,19),e.YNc(16,Lh,2,1,"mat-error",16),e.qZA(),e.TgZ(17,"mat-form-field",14)(18,"mat-label"),e._uU(19,"Date Fin"),e.qZA(),e._UZ(20,"input",20)(21,"mat-datepicker-toggle",18)(22,"mat-datepicker",null,21),e.YNc(24,c0,3,0,"mat-error",16),e.qZA()(),e._UZ(25,"mat-divider"),e.TgZ(26,"div",22)(27,"span",23),e._uU(28,"Listes des param\xe9tres pack "),e.qZA(),e.TgZ(29,"button",24),e.NdJ("click",function(){e.CHM(_);const k=e.oxw(2);return e.KtG(k.addCategorieToPack())}),e.TgZ(30,"mat-icon",25),e._uU(31,"add_circle"),e.qZA(),e._uU(32," Ajouter param\xe9tre(s) "),e.qZA()(),e.TgZ(33,"table",26),e.ynx(34,27),e.YNc(35,Yh,2,0,"th",28),e.YNc(36,Gh,2,1,"td",29),e.BQk(),e.ynx(37,30),e.YNc(38,Bh,2,0,"th",28),e.YNc(39,zh,2,1,"td",29),e.BQk(),e.ynx(40,31),e.YNc(41,Vh,2,0,"th",28),e.YNc(42,u0,2,1,"td",29),e.BQk(),e.ynx(43,32),e.YNc(44,jh,2,0,"th",28),e.YNc(45,Hh,2,1,"td",29),e.BQk(),e.ynx(46,33),e.YNc(47,$h,2,0,"th",28),e.YNc(48,Kh,16,1,"td",29),e.BQk(),e.YNc(49,Wh,1,0,"tr",34),e.YNc(50,Xh,1,0,"tr",35),e.qZA(),e._UZ(51,"mat-paginator",36),e.TgZ(52,"div")(53,"button",37),e._uU(54,"Suivant"),e.qZA()()()}if(2&p){const _=e.MAs(15),S=e.MAs(23),k=e.oxw(2);e.Q6J("formGroup",k.creationPackStepOne),e.xp6(7),e.Q6J("ngIf",k.creationPackStepOne.controls.description.errors),e.xp6(5),e.Q6J("matDatepicker",_),e.xp6(1),e.Q6J("for",_),e.xp6(3),e.Q6J("ngIf",k.creationPackStepOne.controls.dateDebut.errors),e.xp6(4),e.Q6J("matDatepicker",S),e.xp6(1),e.Q6J("for",S),e.xp6(3),e.Q6J("ngIf",k.creationPackStepOne.controls.dateFin.hasError("matDatepickerMin")),e.xp6(9),e.Q6J("dataSource",k.dataSourcePackCategory),e.xp6(16),e.Q6J("matHeaderRowDef",k.displayedColumnsPackCategory),e.xp6(1),e.Q6J("matRowDefColumns",k.displayedColumnsPackCategory),e.xp6(1),e.Q6J("pageSize",10)("pageSizeOptions",e.DdM(13,eC))}}function nC(p,E){1&p&&e._uU(0,"configuration garantie ")}function iC(p,E){if(1&p&&(e.TgZ(0,"mat-option",56),e._uU(1),e.qZA()),2&p){const _=E.$implicit;e.Q6J("value",_),e.xp6(1),e.AsE(" ",_.id,". ",_.libelle," ")}}function m0(p,E){if(1&p){const _=e.EpF();e.TgZ(0,"div",50)(1,"div",51)(2,"span"),e._uU(3,"Veuillez ajouter une garantie"),e.qZA(),e.TgZ(4,"mat-form-field",14)(5,"mat-label"),e._uU(6,"Garantie"),e.qZA(),e.TgZ(7,"mat-select",52),e.NdJ("selectionChange",function(k){e.CHM(_);const ae=e.oxw(3);return e.KtG(ae.addGarantiePack(k.value))}),e.TgZ(8,"mat-select-filter",53),e.NdJ("filteredReturn",function(k){e.CHM(_);const ae=e.oxw(3);return e.KtG(ae.filteredGaranties=k)}),e.qZA(),e.YNc(9,iC,2,3,"mat-option",54),e.qZA()()(),e.TgZ(10,"button",24),e.NdJ("click",function(){e.CHM(_);const k=e.oxw(3);return e.KtG(k.openCreateGarantie())}),e.TgZ(11,"mat-icon",55),e._uU(12,"add_circle"),e.qZA(),e._uU(13," Ajouter une nouvelle garantie "),e.qZA()()}if(2&p){const _=e.oxw(3);e.xp6(8),e.Q6J("placeholder","Filter")("displayMember","libelle")("array",_.garanties),e.xp6(1),e.Q6J("ngForOf",_.filteredGaranties)}}function oC(p,E){1&p&&(e.TgZ(0,"div",57),e._uU(1,"Cette garantie appartient d\xe9ja \xe0 ce pack "),e.qZA())}function rC(p,E){1&p&&(e.TgZ(0,"th",39),e._uU(1," id garantie "),e.qZA())}function aC(p,E){if(1&p&&(e.TgZ(0,"td",40),e._uU(1),e.qZA()),2&p){const _=E.$implicit;e.xp6(1),e.hij(" ",_.id," ")}}function sC(p,E){1&p&&(e.TgZ(0,"th",39),e._uU(1," Description "),e.qZA())}function lC(p,E){if(1&p&&(e.TgZ(0,"td",40),e._uU(1),e.qZA()),2&p){const _=E.$implicit;e.xp6(1),e.hij(" ",_.description," ")}}function cC(p,E){1&p&&(e.TgZ(0,"th",39),e._uU(1," obligatoire "),e.qZA())}function uC(p,E){if(1&p&&(e.TgZ(0,"td",40),e._uU(1),e.ALo(2,"obligatoireFormat"),e.qZA()),2&p){const _=E.$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,_.obligatoire)," ")}}function mC(p,E){1&p&&(e.TgZ(0,"th",39),e._uU(1," Action "),e.qZA())}function dC(p,E){if(1&p){const _=e.EpF();e.TgZ(0,"td",40)(1,"button",41)(2,"mat-icon"),e._uU(3,"more_vert"),e.qZA()(),e.TgZ(4,"mat-menu",42,43)(6,"button",44),e.NdJ("click",function(){const ae=e.CHM(_).$implicit,Ue=e.oxw(4);return e.KtG(Ue.editGarantiePack(ae.id,ae.description))}),e.TgZ(7,"mat-icon"),e._uU(8,"edit"),e.qZA(),e.TgZ(9,"span"),e._uU(10,"Modifier la garantie"),e.qZA()(),e.TgZ(11,"button",44),e.NdJ("click",function(){const ae=e.CHM(_).$implicit,Ue=e.oxw(4);return e.KtG(Ue.deleteGarantie(ae.id,ae.description,"garantie"))}),e.TgZ(12,"mat-icon"),e._uU(13,"delete"),e.qZA(),e.TgZ(14,"span"),e._uU(15,"Supprimer la garantie"),e.qZA()(),e.TgZ(16,"button",64),e.NdJ("click",function(){const ae=e.CHM(_).$implicit;e.oxw(3);const Ue=e.MAs(1),On=e.oxw();return e.KtG(On.goToSousGarantie(Ue,ae.id))}),e.TgZ(17,"mat-icon"),e._uU(18,"format_list_bulleted"),e.qZA(),e.TgZ(19,"span"),e._uU(20,"Afficher sous garantie"),e.qZA()(),e.TgZ(21,"button",65),e.NdJ("click",function(){const ae=e.CHM(_).$implicit,Ue=e.oxw(4);return e.KtG(Ue.initGarantieCategoryTab(ae.id))}),e.TgZ(22,"mat-icon"),e._uU(23,"format_list_bulleted"),e.qZA(),e.TgZ(24,"span"),e._uU(25,"Afficher param\xe8tre(s)"),e.qZA()()()()}if(2&p){const _=e.MAs(5);e.xp6(1),e.Q6J("matMenuTriggerFor",_)}}function Ox(p,E){1&p&&e._UZ(0,"tr",66)}function _C(p,E){1&p&&e._UZ(0,"tr",46)}const pC=function(){return[5,10,15]};function fC(p,E){if(1&p&&(e.TgZ(0,"div"),e._UZ(1,"mat-divider"),e.TgZ(2,"div",22)(3,"span",23),e._uU(4,"Listes des garanties pack "),e.qZA()(),e.TgZ(5,"table",26),e.ynx(6,58),e.YNc(7,rC,2,0,"th",28),e.YNc(8,aC,2,1,"td",29),e.BQk(),e.ynx(9,59),e.YNc(10,sC,2,0,"th",28),e.YNc(11,lC,2,1,"td",29),e.BQk(),e.ynx(12,60),e.YNc(13,cC,2,0,"th",28),e.YNc(14,uC,3,3,"td",29),e.BQk(),e.ynx(15,33),e.YNc(16,mC,2,0,"th",28),e.YNc(17,dC,26,1,"td",29),e.BQk(),e.YNc(18,Ox,1,0,"tr",61),e.YNc(19,_C,1,0,"tr",35),e.qZA(),e._UZ(20,"mat-paginator",62,63),e.qZA()),2&p){const _=e.oxw(3);e.Q6J("@enterAnimation",void 0),e.xp6(5),e.Q6J("dataSource",_.dataGarantiePack),e.xp6(13),e.Q6J("matHeaderRowDef",_.displayedColumnsGarantiePack),e.xp6(1),e.Q6J("matRowDefColumns",_.displayedColumnsGarantiePack),e.xp6(1),e.Q6J("pageSize",10)("pageSizeOptions",e.DdM(6,pC))}}function gC(p,E){1&p&&(e.TgZ(0,"th",39),e._uU(1," Id Garantie "),e.qZA())}function d0(p,E){if(1&p&&(e.TgZ(0,"td",40),e._uU(1),e.qZA()),2&p){const _=E.$implicit;e.xp6(1),e.hij(" ",_.idGarantie," ")}}function _0(p,E){1&p&&(e.TgZ(0,"th",39),e._uU(1," Categorie de valeur "),e.qZA())}function wm(p,E){if(1&p&&(e.TgZ(0,"td",40),e._uU(1),e.qZA()),2&p){const _=E.$implicit;e.xp6(1),e.hij(" ",_.categorieValeur.value," ")}}function hC(p,E){1&p&&(e.TgZ(0,"th",39),e._uU(1," Sous categorie de valeur "),e.qZA())}function Hf(p,E){if(1&p&&(e.TgZ(0,"td",40),e._uU(1),e.qZA()),2&p){const _=E.$implicit;e.xp6(1),e.hij(" ",_.sousCategorieList.value," ")}}function CC(p,E){1&p&&(e.TgZ(0,"th",39),e._uU(1," Type Valeur "),e.qZA())}function xC(p,E){if(1&p&&(e.TgZ(0,"td",40),e._uU(1),e.qZA()),2&p){const _=E.$implicit;e.xp6(1),e.hij(" ",_.typeValeur.value," ")}}function vC(p,E){1&p&&(e.TgZ(0,"th",39),e._uU(1," Valeur "),e.qZA())}function AC(p,E){if(1&p&&(e.TgZ(0,"td",40),e._uU(1),e.qZA()),2&p){const _=E.$implicit;e.xp6(1),e.hij(" ",_.valeur," ")}}function TC(p,E){1&p&&(e.TgZ(0,"th",39),e._uU(1," Action "),e.qZA())}function bC(p,E){if(1&p){const _=e.EpF();e.TgZ(0,"td",40)(1,"button",41)(2,"mat-icon"),e._uU(3,"more_vert"),e.qZA()(),e.TgZ(4,"mat-menu",42,43)(6,"button",44),e.NdJ("click",function(){const ae=e.CHM(_).$implicit,Ue=e.oxw(4);return e.KtG(Ue.EditGarantieCategory(ae))}),e.TgZ(7,"mat-icon"),e._uU(8,"edit"),e.qZA(),e.TgZ(9,"span"),e._uU(10,"Modifier param\xe8tre"),e.qZA()(),e.TgZ(11,"button",44),e.NdJ("click",function(){const ae=e.CHM(_).$implicit,Ue=e.oxw(4);return e.KtG(Ue.deleteCategoryGarantie(ae.idcaracteristique,ae.idGarantie))}),e.TgZ(12,"mat-icon"),e._uU(13,"delete"),e.qZA(),e.TgZ(14,"span"),e._uU(15,"Supprimer param\xe8tre"),e.qZA()()()()}if(2&p){const _=e.MAs(5);e.xp6(1),e.Q6J("matMenuTriggerFor",_)}}function L1(p,E){1&p&&e._UZ(0,"tr",45)}function Y1(p,E){1&p&&e._UZ(0,"tr",46)}const G1=function(){return[5,10]};function PC(p,E){if(1&p){const _=e.EpF();e.TgZ(0,"div")(1,"div",22)(2,"span",23)(3,"mat-icon",3),e.NdJ("click",function(){e.CHM(_);const k=e.oxw(3);return e.KtG(k.stepGarantieCategory=!0)}),e._uU(4,"arrow_circle_left"),e.qZA(),e._uU(5,"Listes des param\xe9tres garanties "),e.qZA(),e.TgZ(6,"button",24),e.NdJ("click",function(){e.CHM(_);const k=e.oxw(3);return e.KtG(k.addCategorieToGarantie())}),e.TgZ(7,"mat-icon",67),e._uU(8,"add_circle"),e.qZA(),e._uU(9," Ajouter param\xe9tre(s) "),e.qZA()(),e.TgZ(10,"table",26),e.ynx(11,58),e.YNc(12,gC,2,0,"th",28),e.YNc(13,d0,2,1,"td",29),e.BQk(),e.ynx(14,27),e.YNc(15,_0,2,0,"th",28),e.YNc(16,wm,2,1,"td",29),e.BQk(),e.ynx(17,30),e.YNc(18,hC,2,0,"th",28),e.YNc(19,Hf,2,1,"td",29),e.BQk(),e.ynx(20,31),e.YNc(21,CC,2,0,"th",28),e.YNc(22,xC,2,1,"td",29),e.BQk(),e.ynx(23,32),e.YNc(24,vC,2,0,"th",28),e.YNc(25,AC,2,1,"td",29),e.BQk(),e.ynx(26,33),e.YNc(27,TC,2,0,"th",28),e.YNc(28,bC,16,1,"td",29),e.BQk(),e.YNc(29,L1,1,0,"tr",34),e.YNc(30,Y1,1,0,"tr",35),e.qZA(),e._UZ(31,"mat-paginator",62,68),e.qZA()}if(2&p){const _=e.oxw(3);e.Q6J("@enterAnimation",void 0),e.xp6(10),e.Q6J("dataSource",_.dataSourceGarantieCategory),e.xp6(19),e.Q6J("matHeaderRowDef",_.displayedColumnsGarantieCategory),e.xp6(1),e.Q6J("matRowDefColumns",_.displayedColumnsGarantieCategory),e.xp6(1),e.Q6J("pageSize",10)("pageSizeOptions",e.DdM(6,G1))}}function ZC(p,E){1&p&&(e.TgZ(0,"div")(1,"button",69),e._uU(2,"Retour"),e.qZA(),e.TgZ(3,"button",70),e._uU(4,"Modifier"),e.qZA()())}function p0(p,E){if(1&p){const _=e.EpF();e.TgZ(0,"form",47),e.NdJ("ngSubmit",function(){e.CHM(_);const k=e.oxw(2);return e.KtG(k.submitPack())}),e.YNc(1,nC,1,0,"ng-template",12),e.YNc(2,m0,14,4,"div",48),e.YNc(3,oC,2,0,"div",49),e.YNc(4,fC,22,7,"div",5),e.YNc(5,PC,33,7,"div",5),e.YNc(6,ZC,5,0,"div",5),e.qZA()}if(2&p){const _=e.oxw(2);e.Q6J("formGroup",_.creationPackStepTwo),e.xp6(2),e.Q6J("ngIf",_.stepGarantieCategory),e.xp6(1),e.Q6J("ngIf",_.garantieExist&&_.stepGarantieCategory),e.xp6(1),e.Q6J("ngIf",_.stepGarantieCategory),e.xp6(1),e.Q6J("ngIf",!_.stepGarantieCategory),e.xp6(1),e.Q6J("ngIf",_.stepGarantieCategory)}}function qC(p,E){1&p&&e._uU(0,"configuration sous garantie ")}function SC(p,E){1&p&&(e.TgZ(0,"div",57),e._uU(1,"Cette Garantie ne contient aucune sous garantie, vous pouvez toujours en ajouter en cliquant sur le bouton ci-dessous "),e.qZA())}function yC(p,E){if(1&p&&(e.TgZ(0,"mat-option",56),e._uU(1),e.qZA()),2&p){const _=E.$implicit;e.Q6J("value",_),e.xp6(1),e.hij(" ",_.libelle," ")}}function NC(p,E){if(1&p){const _=e.EpF();e.TgZ(0,"div",50)(1,"div",51)(2,"span"),e._uU(3,"Veuillez ajouter une sous garantie"),e.qZA(),e.TgZ(4,"mat-form-field",14)(5,"mat-label"),e._uU(6,"Sous garantie"),e.qZA(),e.TgZ(7,"mat-select",71),e.NdJ("selectionChange",function(k){e.CHM(_);const ae=e.oxw(3);return e.KtG(ae.addSousGarantiePack(k.value))}),e.TgZ(8,"mat-select-filter",53),e.NdJ("filteredReturn",function(k){e.CHM(_);const ae=e.oxw(3);return e.KtG(ae.filteredSousGaranties=k)}),e.qZA(),e.YNc(9,yC,2,2,"mat-option",54),e.qZA()()(),e.TgZ(10,"button",24),e.NdJ("click",function(){e.CHM(_);const k=e.oxw(3);return e.KtG(k.openCreateSousGarantie())}),e.TgZ(11,"mat-icon",25),e._uU(12,"add_circle"),e.qZA(),e._uU(13," Ajouter une sous garantie "),e.qZA()()}if(2&p){const _=e.oxw(3);e.xp6(8),e.Q6J("placeholder","Filter")("displayMember","libelle")("array",_.garanties),e.xp6(1),e.Q6J("ngForOf",_.filteredSousGaranties)}}function IC(p,E){1&p&&(e.TgZ(0,"div",57),e._uU(1,"Cette sous garantie appartient d\xe9ja \xe0 ce pack "),e.qZA())}function EC(p,E){1&p&&(e.TgZ(0,"th",39),e._uU(1," id Sous garantie "),e.qZA())}function RC(p,E){if(1&p&&(e.TgZ(0,"td",40),e._uU(1),e.qZA()),2&p){const _=E.$implicit;e.xp6(1),e.hij(" ",_.id," ")}}function DC(p,E){1&p&&(e.TgZ(0,"th",39),e._uU(1," Description "),e.qZA())}function wC(p,E){if(1&p&&(e.TgZ(0,"td",40),e._uU(1),e.qZA()),2&p){const _=E.$implicit;e.xp6(1),e.hij(" ",_.description," ")}}function OC(p,E){1&p&&(e.TgZ(0,"th",39),e._uU(1," obligatoire "),e.qZA())}function kC(p,E){if(1&p&&(e.TgZ(0,"td",40),e._uU(1),e.ALo(2,"obligatoireFormat"),e.qZA()),2&p){const _=E.$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,_.obligatoire)," ")}}function MC(p,E){1&p&&(e.TgZ(0,"th",39),e._uU(1," Action "),e.qZA())}function td(p,E){if(1&p){const _=e.EpF();e.TgZ(0,"td",40)(1,"button",41)(2,"mat-icon"),e._uU(3,"more_vert"),e.qZA()(),e.TgZ(4,"mat-menu",42,43)(6,"button",44),e.NdJ("click",function(){const ae=e.CHM(_).$implicit,Ue=e.oxw(4);return e.KtG(Ue.editSousGarantiePack(ae.id,ae.description,ae.idGarantie))}),e.TgZ(7,"mat-icon"),e._uU(8,"edit"),e.qZA(),e.TgZ(9,"span"),e._uU(10,"Modifier la sous garantie"),e.qZA()(),e.TgZ(11,"button",44),e.NdJ("click",function(){const ae=e.CHM(_).$implicit,Ue=e.oxw(4);return e.KtG(Ue.deleteSousGarantie(ae.id,ae.description,"sousGarantie",ae.idGarantie))}),e.TgZ(12,"mat-icon"),e._uU(13,"delete"),e.qZA(),e.TgZ(14,"span"),e._uU(15,"Supprimer la sous garantie"),e.qZA()(),e.TgZ(16,"button",44),e.NdJ("click",function(){const ae=e.CHM(_).$implicit,Ue=e.oxw(4);return e.KtG(Ue.initTabSousGarantieCategory(ae.id))}),e.TgZ(17,"mat-icon"),e._uU(18,"format_list_bulleted"),e.qZA(),e.TgZ(19,"span"),e._uU(20,"Afficher param\xe8tre(s)"),e.qZA()()()()}if(2&p){const _=e.MAs(5);e.xp6(1),e.Q6J("matMenuTriggerFor",_)}}function Eg(p,E){1&p&&e._UZ(0,"tr",66)}function UC(p,E){1&p&&e._UZ(0,"tr",46)}function $f(p,E){if(1&p){const _=e.EpF();e.TgZ(0,"div"),e._UZ(1,"mat-divider"),e.TgZ(2,"div",22)(3,"span",23)(4,"mat-icon",3),e.NdJ("click",function(){e.CHM(_);const k=e.oxw(3);return e.KtG(k.goBack())}),e._uU(5,"arrow_circle_left"),e.qZA(),e._uU(6,"Listes des sous garanties pack "),e.qZA()(),e.TgZ(7,"table",26),e.ynx(8,58),e.YNc(9,EC,2,0,"th",28),e.YNc(10,RC,2,1,"td",29),e.BQk(),e.ynx(11,59),e.YNc(12,DC,2,0,"th",28),e.YNc(13,wC,2,1,"td",29),e.BQk(),e.ynx(14,60),e.YNc(15,OC,2,0,"th",28),e.YNc(16,kC,3,3,"td",29),e.BQk(),e.ynx(17,33),e.YNc(18,MC,2,0,"th",28),e.YNc(19,td,21,1,"td",29),e.BQk(),e.YNc(20,Eg,1,0,"tr",61),e.YNc(21,UC,1,0,"tr",35),e.qZA(),e._UZ(22,"mat-paginator",62,72),e.qZA()}if(2&p){const _=e.oxw(3);e.Q6J("@enterAnimation",void 0),e.xp6(7),e.Q6J("dataSource",_.dataSousGarantiePack),e.xp6(13),e.Q6J("matHeaderRowDef",_.displayedColumnsGarantiePack),e.xp6(1),e.Q6J("matRowDefColumns",_.displayedColumnsGarantiePack),e.xp6(1),e.Q6J("pageSize",10)("pageSizeOptions",e.DdM(6,G1))}}function FC(p,E){1&p&&(e.TgZ(0,"th",39),e._uU(1," Categorie de valeur "),e.qZA())}function QC(p,E){if(1&p&&(e.TgZ(0,"td",40),e._uU(1),e.qZA()),2&p){const _=E.$implicit;e.xp6(1),e.hij(" ",_.categorieValeur.value," ")}}function f0(p,E){1&p&&(e.TgZ(0,"th",39),e._uU(1," Sous categorie de valeur "),e.qZA())}function JC(p,E){if(1&p&&(e.TgZ(0,"td",40),e._uU(1),e.qZA()),2&p){const _=E.$implicit;e.xp6(1),e.hij(" ",_.sousCategorieList.value," ")}}function Kf(p,E){1&p&&(e.TgZ(0,"th",39),e._uU(1," Type Valeur "),e.qZA())}function B1(p,E){if(1&p&&(e.TgZ(0,"td",40),e._uU(1),e.qZA()),2&p){const _=E.$implicit;e.xp6(1),e.hij(" ",_.typeValeur.value," ")}}function Vn(p,E){1&p&&(e.TgZ(0,"th",39),e._uU(1," Valeur "),e.qZA())}function LC(p,E){if(1&p&&(e.TgZ(0,"td",40),e._uU(1),e.qZA()),2&p){const _=E.$implicit;e.xp6(1),e.hij(" ",_.valeur," ")}}function Wf(p,E){1&p&&(e.TgZ(0,"th",39),e._uU(1," Action "),e.qZA())}function YC(p,E){if(1&p){const _=e.EpF();e.TgZ(0,"td",40)(1,"button",41)(2,"mat-icon"),e._uU(3,"more_vert"),e.qZA()(),e.TgZ(4,"mat-menu",42,43)(6,"button",44),e.NdJ("click",function(){const ae=e.CHM(_).$implicit,Ue=e.oxw(4);return e.KtG(Ue.EditSousGarantieCategory(ae))}),e.TgZ(7,"mat-icon"),e._uU(8,"edit"),e.qZA(),e.TgZ(9,"span"),e._uU(10,"Modifier param\xe8tre"),e.qZA()(),e.TgZ(11,"button",44),e.NdJ("click",function(){const ae=e.CHM(_).$implicit,Ue=e.oxw(4);return e.KtG(Ue.deleteCategorySousGarantie(ae.idcaracteristique,ae.idSousGarantie))}),e.TgZ(12,"mat-icon"),e._uU(13,"delete"),e.qZA(),e.TgZ(14,"span"),e._uU(15,"Supprimer param\xe8tre"),e.qZA()()()()}if(2&p){const _=e.MAs(5);e.xp6(1),e.Q6J("matMenuTriggerFor",_)}}function GC(p,E){1&p&&e._UZ(0,"tr",45)}function BC(p,E){1&p&&e._UZ(0,"tr",46)}function zC(p,E){if(1&p){const _=e.EpF();e.TgZ(0,"div")(1,"div",22)(2,"span",23)(3,"mat-icon",3),e.NdJ("click",function(){e.CHM(_);const k=e.oxw(3);return e.KtG(k.stepGarantieCategory=!0)})("click",function(){e.CHM(_);const k=e.oxw(3);return e.KtG(k.stepSousGarantieCategory=!0)}),e._uU(4,"arrow_circle_left"),e.qZA(),e._uU(5,"Listes des param\xe9tres sous garanties "),e.qZA(),e.TgZ(6,"button",24),e.NdJ("click",function(){e.CHM(_);const k=e.oxw(3);return e.KtG(k.addSousGarantieCategorie())}),e.TgZ(7,"mat-icon",67),e._uU(8,"add_circle"),e.qZA(),e._uU(9," Ajouter param\xe9tre(s) "),e.qZA()(),e.TgZ(10,"table",26),e.ynx(11,27),e.YNc(12,FC,2,0,"th",28),e.YNc(13,QC,2,1,"td",29),e.BQk(),e.ynx(14,30),e.YNc(15,f0,2,0,"th",28),e.YNc(16,JC,2,1,"td",29),e.BQk(),e.ynx(17,31),e.YNc(18,Kf,2,0,"th",28),e.YNc(19,B1,2,1,"td",29),e.BQk(),e.ynx(20,32),e.YNc(21,Vn,2,0,"th",28),e.YNc(22,LC,2,1,"td",29),e.BQk(),e.ynx(23,33),e.YNc(24,Wf,2,0,"th",28),e.YNc(25,YC,16,1,"td",29),e.BQk(),e.YNc(26,GC,1,0,"tr",34),e.YNc(27,BC,1,0,"tr",35),e.qZA(),e._UZ(28,"mat-paginator",62,73),e.qZA()}if(2&p){const _=e.oxw(3);e.Q6J("@enterAnimation",void 0),e.xp6(10),e.Q6J("dataSource",_.dataSourceSousGarantieCategory),e.xp6(16),e.Q6J("matHeaderRowDef",_.displayedColumnsSousGarantieCategory),e.xp6(1),e.Q6J("matRowDefColumns",_.displayedColumnsSousGarantieCategory),e.xp6(1),e.Q6J("pageSize",10)("pageSizeOptions",e.DdM(6,G1))}}function VC(p,E){if(1&p&&(e.TgZ(0,"form",11),e.YNc(1,qC,1,0,"ng-template",12),e.YNc(2,SC,2,0,"div",49),e.YNc(3,NC,14,4,"div",48),e.YNc(4,IC,2,0,"div",49),e.YNc(5,$f,24,7,"div",5),e.YNc(6,zC,30,7,"div",5),e.qZA()),2&p){const _=e.oxw(2);e.Q6J("formGroup",_.creationPackStepTwo),e.xp6(2),e.Q6J("ngIf",_.garantieWithSousGarantie&&_.stepSousGarantieCategory),e.xp6(1),e.Q6J("ngIf",_.stepSousGarantieCategory),e.xp6(1),e.Q6J("ngIf",_.sousGarantieExist&&_.stepSousGarantieCategory),e.xp6(1),e.Q6J("ngIf",_.stepSousGarantieCategory),e.xp6(1),e.Q6J("ngIf",!_.stepSousGarantieCategory)}}function jC(p,E){if(1&p&&(e.TgZ(0,"mat-stepper",6,7)(2,"mat-step",8),e.YNc(3,tC,55,14,"form",9),e.qZA(),e.TgZ(4,"mat-step",8),e.YNc(5,p0,7,6,"form",10),e.qZA(),e.TgZ(6,"mat-step",8),e.YNc(7,VC,7,6,"form",9),e.qZA()()),2&p){const _=e.oxw();e.Q6J("linear",!0),e.xp6(2),e.Q6J("stepControl",_.creationPackStepOne),e.xp6(1),e.Q6J("ngIf",_.creationPackStepOne),e.xp6(1),e.Q6J("stepControl",_.creationPackStepTwo),e.xp6(1),e.Q6J("ngIf",_.creationPackStepTwo),e.xp6(1),e.Q6J("stepControl",_.creationPackStepTwo),e.xp6(1),e.Q6J("ngIf",_.creationPackStepTwo)}}function HC(p,E){if(1&p&&(e.TgZ(0,"div")(1,"div",74),e._uU(2),e.qZA()()),2&p){const _=e.oxw();e.xp6(2),e.hij(" Le Pack ",_.idPack," a \xe9t\xe9 Modifi\xe9 avec succ\xe8s. ")}}let $C=(()=>{class p{constructor(_,S,k,ae,Ue,On,vr,xc,im){this.genericService=_,this.router=S,this.route=k,this.packService=ae,this._snackBar=Ue,this.sousGarantiesService=On,this.garantiesService=vr,this.dialog=xc,this.formBuilder=im,this.garanties=[],this.sousGaranties=[],this.durationInSeconds=5,this.garantiePack=[],this.packCategory=[],this.sousGarantiePack=[],this.sousGarantiePackTEST=[],this.garantiesTab=[],this.sousgarantiesTab=[],this.categorieValeur=[],this.sousCategorieValeur=[],this.typeValeur=[],this.dataGarantiePack=new Q.by,this.dataSousGarantiePack=new Q.by,this.displayedColumnsGarantiePack=["idGarantie","description","obligatoire","action"],this.lengthColumns=this.displayedColumnsGarantiePack.length,this.garantieExist=!1,this.sousGarantieExist=!1,this.garantiePackCategory=[],this.tabGarantieCategories=[],this.tabSousGarantieCategories=[],this.tempCategory=[],this.garantieWithSousGarantie=!1,this.packCategoryTab=[],this.dataSourcePackCategory=new Q.by,this.displayedColumnsPackCategory=["categorieValeur","souscategories","typeValeur","valeur","action"],this.lengthColumnsPackCategory=this.displayedColumnsPackCategory.length,this.displayedColumnsSousGarantieCategory=["categorieValeur","souscategories","typeValeur","valeur","action"],this.displayedColumnsGarantieCategory=["categorieValeur","souscategories","typeValeur","valeur","action"],this.dataSourceGarantieCategory=new Q.by,this.dataSourceSousGarantieCategory=new Q.by,this.lengthColumnsGarantieCategory=this.displayedColumnsGarantieCategory.length,this.stepGarantieCategory=!0,this.stepSousGarantieCategory=!0,this.idPackCaract=1,this.idGarantieCaract=1,this.idSousGarantieCaract=1,this.successEdit=!1}set paginatorPackGarantie(_){this.dataGarantiePack&&(this.dataGarantiePack.paginator=_)}set paginatorGarantieCategory(_){this.dataSourceGarantieCategory&&(this.dataSourceGarantieCategory.paginator=_)}set paginatorSousGarantiePack(_){this.dataSousGarantiePack&&(this.dataSousGarantiePack.paginator=_)}set paginatorSousGarantieCategory(_){this.dataSourceSousGarantieCategory&&(this.dataSourceSousGarantieCategory.paginator=_)}ngOnInit(){this.idPack=this.route.snapshot.paramMap.get("idPack"),this.CategoryPackForm=this.formBuilder.group({VORows:this.formBuilder.array([])}),this.CategoryGarantieForm=this.formBuilder.group({VORows:this.formBuilder.array([])}),this.packService.getPackById(this.idPack).subscribe({next:_=>{this.onePack=_,this.initTables(),this.getAllCategories(),this.getTypeValeur(),this.initFormCreationStepOne(),this.initFormCreationStepTwo(),this.initFormCreationStepThree(),this.getAllGaranties()},error:_=>{console.log(_)}})}initTables(){this.packCategory=this.onePack.categorieList;let _=0;this.packCategory.filter(S=>{_+=1,S.idcaracteristique=_,this.packCategoryTab.push({typeValeur:{idParam:S.idtypevaleur,description:S.descriptionvVal},categorieValeur:{idCategorie:S.idcategorie,description:S.description},sousCategorieList:{idParamSCPackComplet:S.sousCategorieList[0].idParamSCPackComplet,idSousCategorie:S.sousCategorieList[0].idsouscategorie,description:S.sousCategorieList[0].description},valeur:S.valeur,idcaracteristique:_,idParamPackComplet:S.idParamPackComplet})}),this.initategoryPackTab(),null==this.onePack.garantie&&(this.onePack.garantie=[]),this.garantiePack=this.onePack.garantie,_=0,this.onePack.garantie?.filter(S=>{S.categorieList.filter(k=>{_+=1,k.idcaracteristique=_,this.sousCategorieValeur.push({idSousCategorie:k.sousCategorieList[0]?.idsouscategorie,description:k.sousCategorieList[0]?.description})}),this.garantiesTab.push({id:S.idGarantie,description:S.description,obligatoire:S.obligatoire})}),this.initTabPackGarantie(this.garantiesTab),_=0,this.onePack.garantie?.filter(S=>{0!=S.sousGarantieList.length&&S.sousGarantieList.filter(k=>{k.categorieList.filter(ae=>{_+=1,ae.idcaracteristique=_,0!=ae.sousCategorieList.length&&this.sousCategorieValeur.push({idSousCategorie:ae.sousCategorieList[0].idsouscategorie,description:ae.sousCategorieList[0].description})}),this.sousGarantiePack.push(k),this.sousgarantiesTab.push({id:k.idSousGarantie,description:k.description,obligatoire:k.obligatoire,idGarantie:k.idGarantie})})})}initFormCreationStepOne(){this.creationPackStepOne=this.formBuilder.group({description:[this.onePack.description,[w.kI.required]],dateDebut:[this.onePack.dateDebut,[w.kI.required]],dateFin:[this.onePack.dateFin]})}initFormCreationStepTwo(){this.creationPackStepTwo=this.formBuilder.group({garantie:[""],garantiePack:[""],sousGarantie:[""],tabPGF:[""]})}initFormCreationStepThree(){this.creationPackStepThree=this.formBuilder.group({sousGarantie:["",[w.kI.required]]})}initTabPackGarantie(_){this.dataGarantiePack=new Q.by(_)}initTabPackSousGarantie(_){this.dataSousGarantiePack=new Q.by(_)}initTabSousGarantieCategory(_){this.idSousGarantie=_,this.tabSousGarantieCategories=[],this.sousGarantiePack.filter(S=>{S.idSousGarantie==_&&S.categorieList.filter(k=>{this.tabSousGarantieCategories.push({typeValeur:{idParam:k.idtypevaleur,value:this.typeValeur.filter(ae=>ae.idParam==k.idtypevaleur)[0].description},categorieValeur:{idCategorie:k.idcategorie,value:this.categorieValeur.filter(ae=>ae.idCategorie==k.idcategorie)[0].description},sousCategorieList:{idSousCategorie:k.sousCategorieList[0].idsouscategorie,idParamSCPackComplet:k.sousCategorieList[0].idParamSCPackComplet,value:this.sousCategorieValeur.filter(ae=>ae.idSousCategorie==k.sousCategorieList[0].idsouscategorie)[0].description},valeur:k.valeur,idcaracteristique:k.idcaracteristique,idSousGarantie:S.idSousGarantie,idParamPackComplet:k.idParamPackComplet})})}),this.dataSourceSousGarantieCategory=new Q.by(this.tabSousGarantieCategories),this.stepSousGarantieCategory=!1}initGarantieCategoryTab(_){this.tabGarantieCategories=[],this.idGarantie=_,this.garantiePack.filter(S=>{S.idGarantie==_&&S.categorieList.filter(k=>{this.tabGarantieCategories.push({typeValeur:{idParam:k.idtypevaleur,value:this.typeValeur.filter(ae=>ae.idParam==k.idtypevaleur)[0].description},categorieValeur:{idCategorie:k.idcategorie,value:this.categorieValeur.filter(ae=>ae.idCategorie==k.idcategorie)[0].description},sousCategorieList:{idSousCategorie:k.sousCategorieList[0]?.idsouscategorie,idParamSCPackComplet:k.sousCategorieList[0]?.idParamSCPackComplet,value:this.sousCategorieValeur.filter(ae=>ae?.idSousCategorie==k.sousCategorieList[0]?.idsouscategorie)[0]?.description},valeur:k.valeur,idcaracteristique:k.idcaracteristique,idGarantie:S.idGarantie,idParamPackComplet:k.idParamPackComplet})})}),this.dataSourceGarantieCategory=new Q.by(this.tabGarantieCategories),this.stepGarantieCategory=!1}initategoryPackTab(){this.dataSourcePackCategory=new Q.by(this.packCategoryTab),this.dataSourcePackCategory.paginator=this.paginator}navigateToListPack(){this.router.navigate(["gestion-referentiels/gestion-pack"])}submitPack(){this.creationPackStepOne.valid&&(this.creationPackStepOne.get("dateDebut").setValue(o(this.creationPackStepOne.get("dateDebut").value).format("YYYY-MM-DD")),this.bigPack={description:this.creationPackStepOne.get("description").value,dateDebut:this.creationPackStepOne.get("dateDebut").value,dateFin:this.creationPackStepOne.get("dateFin").value,categorieList:this.packCategory,garantie:this.garantiePack},this.packService.editPack(this.bigPack,this.idPack).subscribe({next:_=>{"Modification effectu\xe9e"==_&&(this.successEdit=!0)},error:_=>{console.log(_)}}))}openCreateGarantie(){this.dialog.open(He,{width:"60%"}).afterClosed().subscribe(S=>{this.getAllGaranties()})}openCreateSousGarantie(){this.dialog.open(ru,{width:"60%",data:{idGarantie:this.idGarantie}}).afterClosed().subscribe(S=>{this.getSousGarantieByGarantie(this.idGarantie)})}addGarantiePack(_){this.garantieExist=!1,this.garantiesTab.filter(S=>{_.id==S.id&&(this.garantieExist=!0,setTimeout(()=>{this.garantieExist=!1},1e4))}),this.garantieExist||this.dialog.open(va,{width:"40%",data:{type:"garantie",id:_.id,description:_.libelle}}).afterClosed().subscribe(k=>{null!=k.data&&(this.garantiesTab.push(k.data),this.garantiePack.push({idGarantie:k.data.id,obligatoire:k.data.obligatoire,idPackComplet:0,categorieList:[],sousGarantieList:[]}),this.initTabPackGarantie(this.garantiesTab))})}editGarantiePack(_,S){this.dialog.open(va,{width:"60%",data:{type:"garantie",id:_,description:S}}).afterClosed().subscribe(ae=>{null!=ae.data&&(this.garantiesTab[this.garantiesTab.findIndex(Ue=>Ue.id===_)]={id:ae.data.id,description:ae.data.description,obligatoire:ae.data.obligatoire},this.garantiePack[this.garantiePack.findIndex(Ue=>Ue.idGarantie===_)].obligatoire=ae.data.obligatoire,this.initTabPackGarantie(this.garantiesTab))})}editSousGarantiePack(_,S,k){this.dialog.open(va,{width:"60%",data:{type:"garantie",id:_,description:S}}).afterClosed().subscribe(Ue=>{if(null!=Ue.data){this.sousgarantiesTab[this.sousgarantiesTab.findIndex(xc=>xc.id===_)].obligatoire=Ue.data.obligatoire,this.sousGarantiePack[this.sousGarantiePack.findIndex(xc=>xc.idSousGarantie===_)].obligatoire=Ue.data.obligatoire;let On=this.garantiePack.findIndex(xc=>xc.idGarantie===k);this.garantiePack[On].sousGarantieList.filter(xc=>{xc.idSousGarantie==_&&(xc.obligatoire=Ue.data.obligatoire)}),this.initTabPackSousGarantie(this.sousgarantiesTab)}})}deleteGarantie(_,S,k){this.dialog.open(fc,{width:"30%",data:{desc:S,categoryOf:k,type:"put"}}).afterClosed().subscribe(Ue=>{Ue.data&&"garantie"==k&&(this.garantiePack.filter(On=>{On.idGarantie==_&&(On.dateFin=Ue.data.dateFin)}),this.initTabPackGarantie(this.garantiesTab))})}deleteSousGarantie(_,S,k,ae){this.dialog.open(fc,{width:"30%",data:{desc:S,categoryOf:k,type:"put"}}).afterClosed().subscribe(On=>{if(On.data){let vr=this.garantiePack.findIndex(im=>im.idGarantie===ae);this.garantiePack[vr].sousGarantieList.filter(im=>{im.idSousGarantie==_&&(im.dateFin=On.data.dateFin)}),this.initTabPackSousGarantie(this.sousgarantiesTab.filter(im=>im.idGarantie==ae))}})}addSousGarantiePack(_){this.sousGarantieExist=!1,this.sousgarantiesTab.filter(S=>{_.id==S.id&&(this.sousGarantieExist=!0,setTimeout(()=>{this.sousGarantieExist=!1},1e4))}),this.sousGarantieExist||this.dialog.open(va,{width:"30%",data:{type:"sousGarantie",id:_.id,description:_.libelle}}).afterClosed().subscribe(k=>{if(null!=k.data){Object.assign(k.data,{idGarantie:_.idGarantie}),this.sousgarantiesTab.push(k.data);let ae={idSousGarantie:k.data.id,idGarantie:k.data.idGarantie,obligatoire:k.data.obligatoire,idPackComplet:0,categorieList:[]};this.sousGarantiePack.push(ae),this.addSousGarantieToGarantie(ae),this.initTabPackSousGarantie(this.sousgarantiesTab.filter(Ue=>Ue.idGarantie==_.idGarantie))}})}addCategorieToGarantie(){this.dialog.open(Nl,{width:"60%",data:{categoryOf:"garantie",type:"edit",idGarantie:this.idGarantie}}).afterClosed().subscribe(S=>{null!=S.data&&S.data.filter(k=>{this.sousCategorieValeur.push(k.sousCategorieList),this.garantiePack.filter(ae=>{ae.idGarantie==this.idGarantie&&ae.categorieList.push({idParamPackComplet:0,idcaracteristique:ae.categorieList.length+1,idtypevaleur:k.typeValeur.idParam,idcategorie:k.categorieValeur.idCategorie,sousCategorieList:[{idParamSCPackComplet:0,idsouscategorie:k.sousCategorieList.idSousCategorie,idtypevaleur:k.typeValeur.idParam,valeur:k.valeur}],valeur:k.valeur})}),this.initGarantieCategoryTab(this.idGarantie)})})}addCategorieToPack(){this.dialog.open(Nl,{width:"60%",data:{categoryOf:"pack",type:"edit",idGarantie:null}}).afterClosed().subscribe(S=>{null!=S.data&&S.data.filter(k=>{Object.assign(k,{idcaracteristique:this.idPackCaract}),this.packCategoryTab.push(k),this.initategoryPackTab(),this.packCategory.push({idParamPackComplet:0,idcaracteristique:this.idPackCaract,idtypevaleur:k.typeValeur.idParam,idcategorie:k.categorieValeur.idCategorie,sousCategorieList:[{idParamSCPackComplet:0,idsouscategorie:k.souscategories.idSousCategorie,idtypevaleur:k.typeValeur.idParam,valeur:k.valeur}],valeur:k.valeur}),this.idPackCaract++})})}addSousGarantieCategorie(){this.dialog.open(Nl,{width:"60%",data:{categoryOf:"sousGarantie",type:"edit",idGarantie:this.idSousGarantie}}).afterClosed().subscribe(S=>{null!=S.data&&(S.data.filter(ae=>{this.sousCategorieValeur.push(ae.sousCategorieList),this.sousGarantiePack.filter(Ue=>{Ue.idSousGarantie==this.idSousGarantie&&Ue.categorieList.push({idParamPackComplet:0,idcaracteristique:Ue.categorieList.length+1,idtypevaleur:ae.typeValeur.idParam,idcategorie:ae.categorieValeur.idCategorie,sousCategorieList:[{idParamSCPackComplet:0,idsouscategorie:ae.sousCategorieList.idSousCategorie,idtypevaleur:ae.typeValeur.idParam,valeur:ae.valeur}],valeur:ae.valeur})})}),this.initTabSousGarantieCategory(this.idSousGarantie))})}addSousGarantieToGarantie(_){this.garantiePack.filter(S=>{S.idGarantie==_.idGarantie&&S.sousGarantieList.push(_)})}getAllGaranties(){this.garanties=[],this.garantiesService.getAllGaranties().subscribe({next:_=>{_.filter(S=>{this.garanties.push({id:S.idGarantie,libelle:S.description})}),this.filteredGaranties=this.garanties.slice()},error:_=>{console.log(_)}}),this.filteredGaranties=this.garanties.slice()}getAllCategories(){this.packService.getAllCategory().subscribe({next:_=>{this.categorieValeur=_},error:_=>{console.log(_)}})}getAllSousCategories(_){this.packService.getSousCategory(_).subscribe({next:S=>{this.sousCategorieValeur=S},error:S=>{console.log(S)}})}getTypeValeur(){this.genericService.getParam(JSON.parse(sessionStorage.getItem("dictionnaire")||"{}").find(_=>"C17"==_.code).idCategorie).subscribe({next:_=>{this.typeValeur=_},error:_=>{console.log(_)}})}getSousGarantieByGarantie(_){this.idGarantie=_,this.sousGaranties=[],this.sousGarantiesService.getSousGarantiesByGarantie(_).subscribe({next:S=>{0==S.length?this.garantieWithSousGarantie=!0:(this.garantieWithSousGarantie=!1,S.filter(k=>{this.sousGaranties.push({id:k.idSousGarantie,idGarantie:_,libelle:k.description})}),this.filteredSousGaranties=this.sousGaranties.slice())},error:S=>{console.log(S)}}),this.filteredSousGaranties=this.sousGaranties.slice()}openCreateCategoryDialog(){this.dialog.open(Nl,{width:"60%",data:{categoryOf:"pack",idGarantie:0}}).afterClosed().subscribe(S=>{null!=S.data&&(this.packCategoryTab.push(S.data),this.dataSourcePackCategory=new Q.by(this.packCategoryTab))})}goToSousGarantie(_,S){this.stepSousGarantieCategory=!0,this.initTabPackSousGarantie(this.sousgarantiesTab.filter(k=>k.idGarantie==S)),_.next(),this.idGarantie=S,this.sousGaranties=[],this.getSousGarantieByGarantie(S)}EditPackCategory(_){this.dialog.open(zs,{width:"60%",data:{category:_,type:"edit"}}).afterClosed().subscribe(k=>{null!=k.data&&k.data.filter(ae=>{this.packCategoryTab[this.packCategoryTab.findIndex(Ue=>Ue.idcaracteristique===ae.idcaracteristique)]=ae,this.packCategory[this.packCategory.findIndex(Ue=>Ue.idcaracteristique===ae.idcaracteristique)]={idParamPackComplet:ae.idParamPackComplet,idcaracteristique:ae.idcaracteristique,idtypevaleur:ae.typeValeur.idParam,idcategorie:ae.categorieValeur.idCategorie,valeur:ae.valeur,sousCategorieList:[{idParamSCPackComplet:ae.idParamSCPackComplet,idsouscategorie:ae.sousCategorieList.idSousCategorie,idtypevaleur:ae.typeValeur.idParam,valeur:ae.valeur}]},this.initategoryPackTab()})})}EditGarantieCategory(_){this.dialog.open(zs,{width:"60%",data:{category:_,type:"edit"}}).afterClosed().subscribe(k=>{null!=k.data&&(k.data.filter(ae=>{this.sousCategorieValeur.push(ae.sousCategorieList),this.garantiePack.filter(Ue=>{if(Ue.idGarantie==_.idGarantie){let On=Ue.categorieList.findIndex(vr=>vr.idcaracteristique===ae.idcaracteristique);Ue.categorieList[On]={idParamPackComplet:ae.idParamPackComplet,idcaracteristique:ae.idcaracteristique,idtypevaleur:ae.typeValeur.idParam,idcategorie:ae.categorieValeur.idCategorie,sousCategorieList:[{idParamSCPackComplet:ae.idParamSCPackComplet,idsouscategorie:ae.sousCategorieList.idSousCategorie,idtypevaleur:ae.typeValeur.idParam,valeur:ae.valeur}],valeur:ae.valeur}}})}),this.initGarantieCategoryTab(_.idGarantie))})}EditSousGarantieCategory(_){this.dialog.open(zs,{width:"60%",data:{category:_,type:"edit"}}).afterClosed().subscribe(k=>{null!=k.data&&k.data.filter(ae=>{this.sousCategorieValeur.push(ae.sousCategorieList),this.sousGarantiePack.filter(Ue=>{if(Ue.idSousGarantie==_.idSousGarantie){let On=Ue.categorieList.findIndex(vr=>vr.idcaracteristique===_.idcaracteristique);Ue.categorieList[On]={idParamPackComplet:ae.idParamPackComplet,idcaracteristique:ae.idcaracteristique,idtypevaleur:ae.typeValeur.idParam,idcategorie:ae.categorieValeur.idCategorie,sousCategorieList:[{idParamSCPackComplet:ae.idParamSCPackComplet,idsouscategorie:ae.sousCategorieList.idSousCategorie,idtypevaleur:ae.typeValeur.idParam,valeur:ae.valeur}],valeur:ae.valeur}}}),this.initTabSousGarantieCategory(_.idSousGarantie)})})}deletePackCategory(_){this.dialog.open(fc,{width:"30%",data:{categoryOf:"categoryPack",type:"put"}}).afterClosed().subscribe(k=>{k.data&&(this.packCategory.filter(ae=>{ae.idcaracteristique==_&&(ae.dateFin=k.data.dateFin)}),this.initategoryPackTab())})}deleteCategoryGarantie(_,S){this.dialog.open(fc,{width:"30%",data:{categoryOf:"categoryGarantie",type:"put"}}).afterClosed().subscribe(ae=>{ae.data&&(this.garantiePack.filter(Ue=>{Ue.idGarantie==S&&Ue.categorieList.filter(On=>{On.idcaracteristique==_&&(On.dateFin=ae.data.dateFin)})}),this.initGarantieCategoryTab(S))})}deleteCategorySousGarantie(_,S){this.dialog.open(fc,{width:"30%",data:{categoryOf:"categorySousGarantie",type:"put"}}).afterClosed().subscribe(ae=>{ae.data&&(this.sousGarantiePack.filter(Ue=>{Ue.idSousGarantie==S&&Ue.categorieList.filter(On=>{On.idcaracteristique==_&&(On.dateFin=ae.data.dateFin)})}),this.initTabSousGarantieCategory(S))})}goBack(){this.stepper.previous()}set paginatorGarantie(_){this.dataSousGarantiePack&&(this.dataSousGarantiePack.paginator=_)}}return p.\u0275fac=function(_){return new(_||p)(e.Y36(_o.M),e.Y36(ee.F0),e.Y36(ee.gz),e.Y36(nc.F),e.Y36(Il.ux),e.Y36(Cl),e.Y36(Ni),e.Y36(xe.uw),e.Y36(w.qu))},p.\u0275cmp=e.Xpm({type:p,selectors:[["app-edit-pack"]],viewQuery:function(_,S){if(1&_&&(e.Gf(o0,5),e.Gf(ls,5),e.Gf(Le.NW,5),e.Gf(r0,5),e.Gf(a0,5),e.Gf(Uh,5),e.Gf(Fh,5),e.Gf(Le.NW,5)),2&_){let k;e.iGM(k=e.CRH())&&(S.stepper=k.first),e.iGM(k=e.CRH())&&(S.childC=k.first),e.iGM(k=e.CRH())&&(S.paginator=k.first),e.iGM(k=e.CRH())&&(S.paginatorPackGarantie=k.first),e.iGM(k=e.CRH())&&(S.paginatorGarantieCategory=k.first),e.iGM(k=e.CRH())&&(S.paginatorSousGarantiePack=k.first),e.iGM(k=e.CRH())&&(S.paginatorSousGarantieCategory=k.first),e.iGM(k=e.CRH())&&(S.paginatorGarantie=k.first)}},decls:8,vars:3,consts:[[1,"container"],[1,"card"],[1,"heading"],["aria-hidden","false","matTooltip","Retour","matTooltipPosition","left",1,"material-symbols-outlined",3,"click"],["labelPosition","bottom",3,"linear",4,"ngIf"],[4,"ngIf"],["labelPosition","bottom",3,"linear"],["stepper",""],[3,"stepControl"],[3,"formGroup",4,"ngIf"],[3,"formGroup","ngSubmit",4,"ngIf"],[3,"formGroup"],["matStepLabel",""],[1,"row"],["appearance","outline",1,"col-md-5"],["type","text","matInput","","placeholder","","formControlName","description"],["class","invalid-feedback",4,"ngIf"],["matInput","","formControlName","dateDebut",3,"matDatepicker"],["matSuffix","",3,"for"],["dateDebut",""],["matInput","","formControlName","dateFin",3,"matDatepicker"],["dateFin",""],[1,"header"],[1,"title-table"],["type","button",1,"btn","btn-secondary",2,"display","flex","align-items","center",3,"click"],["aria-hidden","false","aria-label","ajouter\n                                pack ",1,"material-symbols-outlined"],["mat-table","",1,"table",3,"dataSource"],["matColumnDef","categorieValeur"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","souscategories"],["matColumnDef","typeValeur"],["matColumnDef","valeur"],["matColumnDef","action"],["mat-header-row","","class","second-header-row",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["aria-label","",3,"pageSize","pageSizeOptions"],["matStepperNext","",1,"btn","btn-action"],[1,"invalid-feedback"],["mat-header-cell",""],["mat-cell",""],["mat-icon-button","","type","button","aria-label","menu garantie list",3,"matMenuTriggerFor"],["xPosition","after",1,"menu-garanties"],["menu","matMenu"],["mat-menu-item","","type","button",3,"click"],["mat-header-row","",1,"second-header-row"],["mat-row",""],[3,"formGroup","ngSubmit"],["class","form-group",4,"ngIf"],["class","alert alert-danger",4,"ngIf"],[1,"form-group"],[1,"add-sous-garantie","col-md-8"],["formControlName","garantie",3,"selectionChange"],[3,"placeholder","displayMember","array","filteredReturn"],[3,"value",4,"ngFor","ngForOf"],["aria-hidden","false","aria-label","ajouter\n                                pack ",1,"material-symbols-outlined",2,"margin-right","10px"],[3,"value"],[1,"alert","alert-danger"],["matColumnDef","idGarantie"],["matColumnDef","description"],["matColumnDef","obligatoire"],["mat-header-row","","class","example-second-header-row",4,"matHeaderRowDef"],["aria-label","Select page of users",3,"pageSize","pageSizeOptions"],["paginatorPackGarantie","matPaginator"],["mat-menu-item","","type","button","matStepperNext","",3,"click"],["type","button","mat-menu-item","",3,"click"],["mat-header-row","",1,"example-second-header-row"],["aria-hidden","false","aria-label","ajouter\n                                    pack ",1,"material-symbols-outlined"],["paginatorGarantieCategory","matPaginator"],["matStepperPrevious","",1,"btn","btn-cancel"],["type","submit",1,"btn","btn-action"],["formControlName","sousGarantie",3,"selectionChange"],["paginatorSousGarantiePack","matPaginator"],["paginatorSousGarantieCategory","matPaginator"],[1,"alert","alert-success"]],template:function(_,S){1&_&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h2",2)(3,"mat-icon",3),e.NdJ("click",function(){return S.navigateToListPack()}),e._uU(4,"arrow_circle_left"),e.qZA(),e._uU(5),e.qZA(),e.YNc(6,jC,8,7,"mat-stepper",4),e.YNc(7,HC,3,1,"div",5),e.qZA()()),2&_&&(e.xp6(5),e.hij(" Modification du pack N\xb0",S.idPack," "),e.xp6(1),e.Q6J("ngIf",!S.successEdit),e.xp6(1),e.Q6J("ngIf",S.successEdit))},dependencies:[Se.sg,Se.O5,O.d,Mn.Hw,Nn.VK,Nn.OP,Nn.p6,w._Y,w.Fj,w.JJ,w.JL,w.sg,w.u,J.TO,J.KE,J.hX,J.R9,he.Nt,Q.BZ,Q.fO,Q.as,Q.w1,Q.Dz,Q.nj,Q.ge,Q.ev,Q.XQ,Q.Gk,oo.gM,Le.NW,Ze.Mq,Ze.hl,Ze.nW,l.gD,t.ey,vn.lW,er.C0,er.VY,er.Vq,er.Ic,er.fd,gd.Fq,hd],styles:[".container[_ngcontent-%COMP%]{height:100%;overflow-y:auto}.card[_ngcontent-%COMP%]{background-color:#fff;box-shadow:0 .5rem 1rem #00000026;padding:2rem}h2.heading[_ngcontent-%COMP%]{color:#00008f;font-weight:700!important;letter-spacing:.5px}  .mat-step-header:hover:not([aria-disabled]),   .mat-step-header.cdk-keyboard-focused,   .mat-step-header.cdk-program-focused{background-color:transparent!important}  .mat-step-header:hover:not([aria-disabled]) .mat-step-icon,   .mat-step-header.cdk-keyboard-focused .mat-step-icon,   .mat-step-header.cdk-program-focused .mat-step-icon{background-color:#d14723}.btn.btn-action[_ngcontent-%COMP%]{float:right}.form-group[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}.addGarantieIcon[_ngcontent-%COMP%]{font-size:40px;margin-left:59px;margin-top:10px}.addGarantieIcon[_ngcontent-%COMP%]:hover{color:#00008f;cursor:pointer}  .mat-checkbox .mat-checkbox-inner-container{margin-left:8px;margin-right:0;order:1}.mat-checkbox[_ngcontent-%COMP%]{font-size:15px;padding:10px}.header-tab[_ngcontent-%COMP%]{display:flex;align-items:center}.header-tab[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{margin-right:10px;float:right}.example-first-header-row[_ngcontent-%COMP%]{background-color:#00008f}.example-first-header-row[_ngcontent-%COMP%]   th.mat-header-cell[_ngcontent-%COMP%]{border:none;color:#fff;font-size:18px}.searchInput[_ngcontent-%COMP%]{height:50px!important;padding:10px!important}  .mat-select-panel-wrap .mat-select-panel{overflow-x:hidden}table.table[_ngcontent-%COMP%]{width:100%;margin-top:2rem}.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:16px}.mat-row[_ngcontent-%COMP%]:nth-child(even), .mat-header-row[_ngcontent-%COMP%]{background-color:#f7f7f9}.mat-header-row[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{color:#00008f}.title-table[_ngcontent-%COMP%]{margin-bottom:0rem;font-weight:600!important;font-size:19px!important;color:#00008f!important;display:flex;align-items:center}.header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:0px 2rem}.header[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{height:-moz-fit-content;height:fit-content;font-size:29px;margin-right:1rem;width:-moz-fit-content;width:fit-content}.mat-divider[_ngcontent-%COMP%]{margin-bottom:1rem;margin-top:2rem}.mat-paginator[_ngcontent-%COMP%]{background-color:transparent;margin:20px auto auto;width:80%}.mat-header-cell[_ngcontent-%COMP%]{color:#333;font-weight:600;letter-spacing:.5px;font-size:15px;width:165px}.first-header-row[_ngcontent-%COMP%]{background-color:#00008f}.first-header-row[_ngcontent-%COMP%]   th.mat-header-cell[_ngcontent-%COMP%]{border:none;color:#fff;font-size:18px}.mat-cell[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{height:100%;font-size:36px;width:-moz-fit-content;width:fit-content;color:#00008f}.mat-header-cell.mat-icon[_ngcontent-%COMP%]{color:#fff}.mat-cell[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]:hover, .mat-header-cell[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]:hover{color:#d14723;cursor:pointer}  .mat-tooltip{font-size:14px}.mat-menu-item[_ngcontent-%COMP%]{font-size:16px}.mat-menu-item[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:21px;height:-moz-fit-content;height:fit-content}.mat-menu-item[_ngcontent-%COMP%]:hover:not([disabled]){color:#00008f}.mat-menu-item[_ngcontent-%COMP%]:hover:not([disabled])   .mat-icon[_ngcontent-%COMP%]{color:#00008f}.categoryTabForm[_ngcontent-%COMP%]   .mat-select[_ngcontent-%COMP%]{width:70%}  .mat-form-field-underline:read-only{display:none}  .mat-select-disabled .mat-select-value{color:inherit}  .disabled-select .mat-select-arrow{visibility:hidden}.add-sous-garantie[_ngcontent-%COMP%]{display:flex;align-items:center}.add-sous-garantie[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:17px;margin-right:1rem;margin-bottom:1rem}  .mat-horizontal-stepper-header{pointer-events:none!important}.heading[_ngcontent-%COMP%]{display:flex;align-items:center}.heading[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{margin-right:1rem}"],data:{animation:[(0,go.X$)("enterAnimation",[(0,go.eR)(":enter",[(0,go.oB)({opacity:0,transform:"translateX(-100%)"}),(0,go.jt)(400)])])]}}),p})(),KC=(()=>{class p{}return p.\u0275fac=function(_){return new(_||p)},p.\u0275cmp=e.Xpm({type:p,selectors:[["app-confirmation-delete-dialog"]],decls:11,vars:2,consts:[[1,"heading"],[1,"mat-typography"],["type","button",1,"btn","btn-cancel",3,"mat-dialog-close"],[1,"btn","btn-delete",3,"mat-dialog-close"]],template:function(_,S){1&_&&(e.TgZ(0,"h2",0),e._uU(1,"Confirmation de la suppression"),e.qZA(),e._UZ(2,"mat-divider"),e.TgZ(3,"mat-dialog-content",1)(4,"p"),e._uU(5,"\xcates-vous certain(e) de vouloir continuer avec la suppression ? Votre confirmation est requise pour assurer la s\xe9curit\xe9 de cette action."),e.qZA(),e.TgZ(6,"div")(7,"button",2),e._uU(8,"Retour"),e.qZA(),e.TgZ(9,"button",3),e._uU(10,"Supprimer"),e.qZA()()()),2&_&&(e.xp6(7),e.Q6J("mat-dialog-close",!1),e.xp6(2),e.Q6J("mat-dialog-close",!0))},dependencies:[O.d,xe.ZT,xe.xY],styles:["p[_ngcontent-%COMP%]{margin-bottom:2rem;font-size:19px;text-align:center;line-height:3rem}.mat-dialog-content[_ngcontent-%COMP%]{padding-top:15px}.btn.btn-cancel[_ngcontent-%COMP%]{float:left}.btn.btn-delete[_ngcontent-%COMP%]{float:right}"]}),p})();var Xf=B(6436);function WC(p,E){if(1&p&&(e.ynx(0),e.TgZ(1,"mat-option",28),e._uU(2),e.qZA(),e.BQk()),2&p){const _=E.$implicit;e.xp6(1),e.Q6J("value",_.idParam),e.xp6(1),e.hij(" ",_.marque," ")}}function XC(p,E){if(1&p&&(e.ynx(0),e.TgZ(1,"mat-option",28),e._uU(2),e.qZA(),e.BQk()),2&p){const _=E.$implicit;e.xp6(1),e.Q6J("value",_.idParam),e.xp6(1),e.hij(" ",_.description," ")}}function ex(p,E){if(1&p&&(e.ynx(0),e.TgZ(1,"mat-option",28),e._uU(2),e.qZA(),e.BQk()),2&p){const _=E.$implicit;e.xp6(1),e.Q6J("value",_.idParam),e.xp6(1),e.hij(" ",_.modele," ")}}function tx(p,E){1&p&&(e.TgZ(0,"th",29),e._uU(1," N\xb0. V\xe9hicule "),e.qZA())}function us(p,E){if(1&p&&(e.TgZ(0,"td",30),e._uU(1),e.qZA()),2&p){const _=E.$implicit;e.xp6(1),e.hij(" ",_.idVehicule," ")}}function nx(p,E){1&p&&(e.TgZ(0,"th",29),e._uU(1,"Marque"),e.qZA())}function ix(p,E){if(1&p&&(e.TgZ(0,"td",30),e._uU(1),e.qZA()),2&p){const _=E.$implicit;e.xp6(1),e.hij(" ",null!=_.marque&&_.marque.description?null==_.marque?null:_.marque.description:_.marque," ")}}function g0(p,E){1&p&&(e.TgZ(0,"th",29),e._uU(1," Modele "),e.qZA())}function h0(p,E){if(1&p&&(e.TgZ(0,"td",30),e._uU(1),e.qZA()),2&p){const _=E.$implicit;e.xp6(1),e.hij("",null!=_.modele&&_.modele.description?null==_.modele?null:_.modele.description:_.modele," ")}}function ox(p,E){1&p&&(e.TgZ(0,"th",29),e._uU(1," Action "),e.qZA())}function C0(p,E){if(1&p){const _=e.EpF();e.TgZ(0,"td",30)(1,"button",31)(2,"mat-icon"),e._uU(3,"more_vert"),e.qZA()(),e.TgZ(4,"mat-menu",32,33)(6,"button",34),e.NdJ("click",function(){const ae=e.CHM(_).$implicit,Ue=e.oxw();return e.KtG(Ue.deleteVehicule(ae.idVehicule))}),e.TgZ(7,"mat-icon"),e._uU(8,"delete"),e.qZA(),e.TgZ(9,"span"),e._uU(10,"Supprimer v\xe9hicule"),e.qZA()(),e.TgZ(11,"button",34),e.NdJ("click",function(){const ae=e.CHM(_).$implicit,Ue=e.oxw();return e.KtG(Ue.editVehicule(ae.idVehicule))}),e.TgZ(12,"mat-icon"),e._uU(13,"edit"),e.qZA(),e.TgZ(14,"span"),e._uU(15,"Modifier v\xe9hicule "),e.qZA()(),e.TgZ(16,"button",34),e.NdJ("click",function(){const ae=e.CHM(_).$implicit,Ue=e.oxw();return e.KtG(Ue.consulterVehicule(ae.idVehicule))}),e.TgZ(17,"mat-icon"),e._uU(18,"consultar"),e.qZA(),e.TgZ(19,"span"),e._uU(20,"consulter v\xe9hicule"),e.qZA()()()()}if(2&p){const _=e.MAs(5);e.xp6(1),e.Q6J("matMenuTriggerFor",_)}}function x0(p,E){1&p&&e._UZ(0,"tr",35)}function v0(p,E){1&p&&e._UZ(0,"tr",36)}const A0=function(){return["creation-vehicule"]},rx=function(){return[5,10,50]};let T0=(()=>{class p{constructor(_,S,k,ae,Ue){this.genericService=_,this.router=S,this.formBuilder=k,this.vehiculeService=ae,this.dialog=Ue,this.marques=[],this.genres=[],this.models=[],this.displayedColumns=["idVehicule","marque","modele","action"],this.dataSource=new Q.by}ngOnInit(){this.geAllVehicules(),this.initFormFilter(),this.getGenre(),this.getMarque()}getGenre(){console.log("je rentre l\xe0 "),this.genericService.getParam(JSON.parse(sessionStorage.getItem("dictionnaire")||"{}").find(_=>"C18"==_.code).idCategorie).subscribe({next:_=>{this.genres=_},error:_=>{console.log(_)}})}geAllVehicules(){this.vehiculeService.getAllVehicules().subscribe({next:_=>{this.dataSource=new Q.by(_),this.dataSource.paginator=this.paginator},error:_=>{console.log(_)}})}initFormFilter(){this.formFilterVehicule=this.formBuilder.group({idVehicule:[],marque:[],genre:[],modele:[],dateCreation:[]})}getMarque(){this.vehiculeService.getAllMarque().subscribe({next:_=>{this.marques=_},error:_=>{console.log(_)}})}submitFilter(){this.formFilterVehicule.valid&&this.vehiculeService.filtresVehicule(this.formFilterVehicule.value).subscribe({next:_=>{this.dataSource=new Q.by(_),this.dataSource.paginator=this.paginator},error:_=>{console.log(_)}})}deleteVehicule(_){this.dialog.open(KC,{width:"40%",data:{id:_}}).afterClosed().subscribe(k=>{k&&this.vehiculeService.deleteVehicule(_).subscribe({next:ae=>{const Ue=this.dataSource.data.findIndex(On=>On.idVehicule===_);-1!==Ue&&(this.dataSource.data.splice(Ue,1),this.dataSource._updateChangeSubscription(),this.dataSource.paginator=this.paginator)},error:ae=>{console.log(ae)}})})}editVehicule(_){this.router.navigate(["gestion-vehicules/modifier-vehicule/"+_])}consulterVehicule(_){this.router.navigate(["gestion-vehicules/consulter-vehicule/"+_])}resetTable(_){this.geAllVehicules(),_.resetForm()}getModele(_){this.vehiculeService.getModelByMarque(_).subscribe({next:S=>{this.models=S},error:S=>{console.log(S)}})}}return p.\u0275fac=function(_){return new(_||p)(e.Y36(_o.M),e.Y36(ee.F0),e.Y36(w.qu),e.Y36(Xf.t),e.Y36(xe.uw))},p.\u0275cmp=e.Xpm({type:p,selectors:[["app-gestion-vehicule"]],viewQuery:function(_,S){if(1&_&&e.Gf(Le.NW,5),2&_){let k;e.iGM(k=e.CRH())&&(S.paginator=k.first)}},decls:53,vars:12,consts:[[1,"container"],[1,"header"],[1,"title-table"],[1,"btn","btn-secondary",2,"display","flex","align-items","center",3,"routerLink"],["aria-hidden","false","aria-label","ajouter pack ",1,"material-symbols-outlined"],[1,"filtre"],[1,"row","formFiltre",3,"formGroup","ngSubmit"],["formDirective","ngForm"],[1,"row"],["appearance","outline",1,"col-md-5"],["type","text","matInput","","placeholder","","formControlName","idVehicule"],["formControlName","marque",3,"selectionChange"],[4,"ngFor","ngForOf"],["formControlName","genre"],["formControlName","modele"],[1,"row","buttons"],["type","submit",1,"btn","btn-action"],["matTooltip","R\xe9nitialisation","matTooltipPosition","right",1,"material-symbols-outlined",3,"click"],["mat-table","",1,"gestion-table",3,"dataSource"],["matColumnDef","idVehicule"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","marque"],["matColumnDef","modele"],["matColumnDef","action"],["mat-header-row","","class","example-second-header-row",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["aria-label","Select page of users",3,"pageSize","pageSizeOptions"],[3,"value"],["mat-header-cell",""],["mat-cell",""],["mat-icon-button","","type","button","aria-label","menu devis list",3,"matMenuTriggerFor"],["xPosition","after",1,"menu-devis"],["menu","matMenu"],["mat-menu-item","","type","button",3,"click"],["mat-header-row","",1,"example-second-header-row"],["mat-row",""]],template:function(_,S){if(1&_){const k=e.EpF();e.TgZ(0,"div",0)(1,"div",1)(2,"h2",2),e._uU(3,"Listes des v\xe9hicules"),e.qZA(),e.TgZ(4,"button",3)(5,"mat-icon",4),e._uU(6,"add_circle"),e.qZA(),e._uU(7," Ajouter v\xe9hicule(s) "),e.qZA()(),e.TgZ(8,"div",5)(9,"form",6,7),e.NdJ("ngSubmit",function(){return S.submitFilter()}),e.TgZ(11,"div",8)(12,"mat-form-field",9)(13,"mat-label"),e._uU(14,"N\xb0 V\xe9hicule"),e.qZA(),e._UZ(15,"input",10),e.qZA(),e.TgZ(16,"mat-form-field",9)(17,"mat-label"),e._uU(18,"Marque"),e.qZA(),e.TgZ(19,"mat-select",11),e.NdJ("selectionChange",function(Ue){return S.getModele(Ue.value)}),e.YNc(20,WC,3,2,"ng-container",12),e.qZA()()(),e.TgZ(21,"div",8)(22,"mat-form-field",9)(23,"mat-label"),e._uU(24,"Type Vehicule"),e.qZA(),e.TgZ(25,"mat-select",13),e.YNc(26,XC,3,2,"ng-container",12),e.qZA()(),e.TgZ(27,"mat-form-field",9)(28,"mat-label"),e._uU(29,"Modele"),e.qZA(),e.TgZ(30,"mat-select",14),e.YNc(31,ex,3,2,"ng-container",12),e.qZA()()(),e.TgZ(32,"div",15)(33,"button",16),e._uU(34,"Filtrer"),e.qZA(),e.TgZ(35,"mat-icon",17),e.NdJ("click",function(){e.CHM(k);const Ue=e.MAs(10);return e.KtG(S.resetTable(Ue))}),e._uU(36,"restart_alt"),e.qZA()()()(),e.TgZ(37,"table",18),e.ynx(38,19),e.YNc(39,tx,2,0,"th",20),e.YNc(40,us,2,1,"td",21),e.BQk(),e.ynx(41,22),e.YNc(42,nx,2,0,"th",20),e.YNc(43,ix,2,1,"td",21),e.BQk(),e.ynx(44,23),e.YNc(45,g0,2,0,"th",20),e.YNc(46,h0,2,1,"td",21),e.BQk(),e.ynx(47,24),e.YNc(48,ox,2,0,"th",20),e.YNc(49,C0,21,1,"td",21),e.BQk(),e.YNc(50,x0,1,0,"tr",25),e.YNc(51,v0,1,0,"tr",26),e.qZA(),e._UZ(52,"mat-paginator",27),e.qZA()}2&_&&(e.xp6(4),e.Q6J("routerLink",e.DdM(10,A0)),e.xp6(5),e.Q6J("formGroup",S.formFilterVehicule),e.xp6(11),e.Q6J("ngForOf",S.marques),e.xp6(6),e.Q6J("ngForOf",S.genres),e.xp6(5),e.Q6J("ngForOf",S.models),e.xp6(6),e.Q6J("dataSource",S.dataSource),e.xp6(13),e.Q6J("matHeaderRowDef",S.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",S.displayedColumns),e.xp6(1),e.Q6J("pageSize",10)("pageSizeOptions",e.DdM(11,rx)))},dependencies:[Se.sg,ee.rH,Mn.Hw,Nn.VK,Nn.OP,Nn.p6,w._Y,w.Fj,w.JJ,w.JL,w.sg,w.u,J.KE,J.hX,he.Nt,Q.BZ,Q.fO,Q.as,Q.w1,Q.Dz,Q.nj,Q.ge,Q.ev,Q.XQ,Q.Gk,oo.gM,Le.NW,l.gD,t.ey,vn.lW],styles:[".container[_ngcontent-%COMP%]{background-color:#fff;padding:40px 0;height:100%;overflow-y:auto;overflow-x:hidden}.gestion-table[_ngcontent-%COMP%]{width:100%}.gestion-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .gestion-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:16px}.gestion-table[_ngcontent-%COMP%]   .mat-header-cell[_ngcontent-%COMP%]{color:#00008f;font-weight:600}.gestion-table[_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]:nth-child(even), .gestion-table[_ngcontent-%COMP%]   .mat-header-row[_ngcontent-%COMP%]{background-color:#f7f7f9}.gestion-table[_ngcontent-%COMP%]   .mat-paginator[_ngcontent-%COMP%]{background-color:transparent;margin:20px auto auto;width:80%}.gestion-table[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{height:100%;font-size:26px;color:#00008f;width:-moz-fit-content;width:fit-content}.mat-menu-item[_ngcontent-%COMP%]{font-size:15px}.mat-menu-item[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:18px;height:-moz-fit-content;height:fit-content}.mat-menu-item[_ngcontent-%COMP%]:hover:not([disabled]), .mat-menu-item[_ngcontent-%COMP%]:hover:not([disabled])   .mat-icon[_ngcontent-%COMP%]{color:#00008f}.header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:0px 2rem}.header[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{height:-moz-fit-content;height:fit-content;font-size:29px;margin-right:1rem;width:-moz-fit-content;width:fit-content}.title-table[_ngcontent-%COMP%]{margin-bottom:0rem;font-weight:800!important;font-size:23px!important;color:#00008f!important}.filtre[_ngcontent-%COMP%]   .row.formFiltre[_ngcontent-%COMP%]{width:100%;padding:0 2rem;margin-top:2rem}.row.buttons[_ngcontent-%COMP%]{justify-content:flex-end}.row.buttons[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{color:#00008f;cursor:pointer}.btn.btn-action[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content}.filtre[_ngcontent-%COMP%]     .mat-form-field-wrapper{padding-bottom:.5rem}"]}),p})();function ax(p,E){1&p&&(e.TgZ(0,"div"),e._uU(1," Ce champ est obligatoire"),e.qZA())}function sx(p,E){if(1&p&&(e.TgZ(0,"mat-error",10),e.YNc(1,ax,2,0,"div",11),e.qZA()),2&p){const _=e.oxw();e.xp6(1),e.Q6J("ngIf",("marque"==_.data.type?_.formCreationMarque:_.formCreationModele).controls["marque"==_.data.type?"marque":"modele"].errors.required)}}let eg=(()=>{class p{constructor(_,S,k,ae,Ue){this.vehiculeService=_,this.router=S,this.formBuilder=k,this.dialogRef=ae,this.data=Ue}ngOnInit(){this.header="marque"==this.data.type?"Ajouter une nouvelle marque":"Ajouter un nouveau modele",this.formCreationMarque=this.formBuilder.group({marque:["",[w.kI.required]]}),this.formCreationModele=this.formBuilder.group({modele:["",[w.kI.required]],marque:[""]})}sendObject(){this.vehiculeService.send({modele:this.formCreationModele.value.modele,idParam:"tempid"})}submitForm(){"marque"===this.data.type?this.formCreationMarque.valid&&this.vehiculeService.addMarque(this.formCreationMarque.value).subscribe({next:_=>{this.dialogRef.close({marque:this.formCreationMarque.value.marque,idParam:_.idParam}),Yo().fire("marque ajouter avec succ\xe9s","","success")},error:_=>{Yo().fire(_.error,"","error")}}):(this.formCreationModele.get("modele"),this.formCreationModele.valid&&this.vehiculeService.addModele(this.formCreationModele.value).subscribe({next:S=>{this.dialogRef.close({modele:this.formCreationModele.value.modele,idParam:S.idParam})},error:S=>{Yo().fire(S.error,"model exist deja","error")}}))}}return p.\u0275fac=function(_){return new(_||p)(e.Y36(Xf.t),e.Y36(ee.F0),e.Y36(w.qu),e.Y36(xe.so),e.Y36(xe.WI))},p.\u0275cmp=e.Xpm({type:p,selectors:[["app-new-config-vehicule-dialog"]],decls:16,vars:6,consts:[[1,"heading"],[1,"mat-typography"],[1,"row",3,"formGroup","ngSubmit"],["formDirective","ngForm"],["appearance","outline",1,"col-md-5"],["type","text","matInput","","placeholder","",3,"formControlName"],["class","invalid-feedback",4,"ngIf"],[1,"button-row"],["type","button",1,"btn","btn-cancel",3,"mat-dialog-close"],["type","submit",1,"btn","btn-action"],[1,"invalid-feedback"],[4,"ngIf"]],template:function(_,S){1&_&&(e.TgZ(0,"h2",0),e._uU(1),e.qZA(),e._UZ(2,"mat-divider"),e.TgZ(3,"mat-dialog-content",1)(4,"form",2,3),e.NdJ("ngSubmit",function(){return S.submitForm()}),e.TgZ(6,"mat-form-field",4)(7,"mat-label"),e._uU(8),e.qZA(),e._UZ(9,"input",5),e.YNc(10,sx,2,1,"mat-error",6),e.qZA(),e.TgZ(11,"div",7)(12,"button",8),e._uU(13,"Retour"),e.qZA(),e.TgZ(14,"button",9),e._uU(15,"Ajouter"),e.qZA()()()()),2&_&&(e.xp6(1),e.Oqu(S.header),e.xp6(3),e.Q6J("formGroup","marque"==S.data.type?S.formCreationMarque:S.formCreationModele),e.xp6(4),e.Oqu("marque"==S.data.type?"Nouvelle marque":"Nouveau Modele"),e.xp6(1),e.Q6J("formControlName","marque"==S.data.type?"marque":"modele"),e.xp6(1),e.Q6J("ngIf",("marque"==S.data.type?S.formCreationMarque:S.formCreationModele).controls["marque"==S.data.type?"marque":"modele"].errors),e.xp6(2),e.Q6J("mat-dialog-close",!1))},dependencies:[Se.O5,O.d,w._Y,w.Fj,w.JJ,w.JL,w.sg,w.u,J.TO,J.KE,J.hX,he.Nt,xe.ZT,xe.xY],styles:[".mat-dialog-content[_ngcontent-%COMP%]{padding-top:15px}.btn.btn-cancel[_ngcontent-%COMP%]{float:left}.btn.btn-action[_ngcontent-%COMP%]{float:right}"]}),p})();function b0(p,E){if(1&p&&(e.ynx(0),e.TgZ(1,"mat-option",15),e._uU(2),e.qZA(),e.BQk()),2&p){const _=E.$implicit;e.xp6(1),e.Q6J("value",_.idParam),e.xp6(1),e.hij(" ",_.marque," ")}}function P0(p,E){1&p&&(e.TgZ(0,"div"),e._uU(1," ce champs est obligatoire"),e.qZA())}function Z0(p,E){if(1&p&&(e.TgZ(0,"mat-error",16),e.YNc(1,P0,2,0,"div",17),e.qZA()),2&p){const _=e.oxw();e.xp6(1),e.Q6J("ngIf",_.formCreationVehicule.controls.marque.errors.required)}}function lx(p,E){if(1&p&&(e.ynx(0),e.TgZ(1,"mat-option",15),e._uU(2),e.qZA(),e.BQk()),2&p){const _=E.$implicit;e.xp6(1),e.Q6J("value",_.idParam),e.xp6(1),e.hij(" ",_.modele," ")}}function q0(p,E){1&p&&(e.TgZ(0,"div"),e._uU(1," ce champs est obligatoire"),e.qZA())}function S0(p,E){if(1&p&&(e.TgZ(0,"mat-error",16),e.YNc(1,q0,2,0,"div",17),e.qZA()),2&p){const _=e.oxw();e.xp6(1),e.Q6J("ngIf",_.formCreationVehicule.controls.modele.errors.required)}}function zp(p,E){if(1&p&&(e.ynx(0),e.TgZ(1,"mat-option",15),e._uU(2),e.qZA(),e.BQk()),2&p){const _=E.$implicit;e.xp6(1),e.Q6J("value",_.idParam),e.xp6(1),e.hij(" ",_.description," ")}}function z1(p,E){1&p&&(e.TgZ(0,"div"),e._uU(1," ce champs est obligatoire"),e.qZA())}function cx(p,E){if(1&p&&(e.TgZ(0,"mat-error",16),e.YNc(1,z1,2,0,"div",17),e.qZA()),2&p){const _=e.oxw();e.xp6(1),e.Q6J("ngIf",_.formCreationVehicule.controls.typeVehicule.errors.required)}}let ux=(()=>{class p{constructor(_,S,k,ae){this.genericService=_,this.vehiculeService=S,this.formBuilder=k,this.dialog=ae,this.marques=[],this.modeles=[],this.genres=[],this.energies=[],this.minDate=new Date}ngOnInit(){this.initFormVehicule(),this.getMarque(),this.getGenre(),this.getEnergie()}getGenre(){this.genericService.getParam(JSON.parse(sessionStorage.getItem("dictionnaire")||"{}").find(_=>"C18"==_.code).idCategorie).subscribe({next:_=>{this.genres=_},error:_=>{console.log(_)}})}getEnergie(){this.genericService.getParam(JSON.parse(sessionStorage.getItem("dictionnaire")||"{}").find(_=>"C31"==_.code).idCategorie).subscribe({next:_=>{this.energies=_},error:_=>{console.log(_)}})}initFormVehicule(){const _=this.formCreationVehicule?.value?.marque;this.formCreationVehicule=this.formBuilder.group({marque:[this.receivedObject&&this.receivedObject.modele?_:" ",[w.kI.required]],modele:[this.receivedObject&&this.receivedObject.modele?this.receivedObject.idParam:"",[w.kI.required]],typeVehicule:["",[w.kI.required]],puissanceFiscale:["",[w.kI.required]],nbPlace:["",[w.kI.required]],energie:[""],poidsTotalEnCharge:["",[w.kI.required]],dateDebut:["",[w.kI.required]],dateFin:[""]})}debutDateChange(_){this.minDate=_}getMarque(){this.vehiculeService.getAllMarque().subscribe({next:_=>{this.marques=_},error:_=>{console.log(_)}})}changeMarque(_){"new"==_?this.dialog.open(eg,{width:"60%",data:{type:"marque"}}).afterClosed().subscribe(k=>{this.formCreationVehicule.get("marque").setValue(k.idParam),this.marques=[...this.marques,k]}):(this.marqueChoisi=_,this.getModele(_))}getModele(_){this.vehiculeService.getModelByMarque(_).subscribe({next:S=>{this.modeles=S},error:S=>{console.log(S)}})}changeModele(_){"new"==_&&this.dialog.open(eg,{width:"60%",data:{type:"modele",marques:this.marques}}).afterClosed().subscribe(k=>{this.formCreationVehicule.get("modele").setValue(k.idParam),this.modeles=[...this.modeles,k]})}submitVehicule(_){this.formCreationVehicule.get("energie").setValue(1),this.vehiculeService.addVehicule(this.formCreationVehicule.value).subscribe({next:S=>{Yo().fire("v\xe9hicule ajouter avec succ\xe9s","","success"),_.resetForm(),this.formCreationVehicule.reset()},error:S=>{Yo().fire(S.error?S.erro:S.error,"v\xe9hicule exist deja","error")}})}}return p.\u0275fac=function(_){return new(_||p)(e.Y36(_o.M),e.Y36(Xf.t),e.Y36(w.qu),e.Y36(xe.uw))},p.\u0275cmp=e.Xpm({type:p,selectors:[["app-create-vehicule"]],decls:34,vars:7,consts:[["id","containerRef",1,"container"],["containerRef",""],[1,"header-title"],[1,"",3,"formGroup","ngSubmit"],["formDirective","ngForm"],[1,"row"],["appearance","outline",1,"col-md-5"],["formControlName","marque",3,"selectionChange"],["value","new"],[4,"ngFor","ngForOf"],["class","invalid-feedback",4,"ngIf"],["formControlName","modele",3,"selectionChange"],["formControlName","typeVehicule"],[1,"col-md-12","row-button"],["type","submit",1,"btn","btn-action"],[3,"value"],[1,"invalid-feedback"],[4,"ngIf"]],template:function(_,S){if(1&_){const k=e.EpF();e.TgZ(0,"div",0,1)(2,"h2",2),e._uU(3," Cr\xe9ation v\xe9hicule"),e.qZA(),e.TgZ(4,"form",3,4),e.NdJ("ngSubmit",function(){e.CHM(k);const Ue=e.MAs(5);return e.KtG(S.submitVehicule(Ue))}),e.TgZ(6,"div",5)(7,"mat-form-field",6)(8,"mat-label"),e._uU(9,"Marque"),e.qZA(),e.TgZ(10,"mat-select",7),e.NdJ("selectionChange",function(Ue){return S.changeMarque(Ue.value)}),e.TgZ(11,"mat-option",8),e._uU(12," Ajouter une marque"),e.qZA(),e.YNc(13,b0,3,2,"ng-container",9),e.qZA(),e.YNc(14,Z0,2,1,"mat-error",10),e.qZA(),e.TgZ(15,"mat-form-field",6)(16,"mat-label"),e._uU(17,"Mod\xe9le"),e.qZA(),e.TgZ(18,"mat-select",11),e.NdJ("selectionChange",function(Ue){return S.changeModele(Ue.value)}),e.TgZ(19,"mat-option",8),e._uU(20," Ajouter un modele"),e.qZA(),e.YNc(21,lx,3,2,"ng-container",9),e.qZA(),e.YNc(22,S0,2,1,"mat-error",10),e.qZA()(),e.TgZ(23,"div",5)(24,"mat-form-field",6)(25,"mat-label"),e._uU(26,"Type Vehicule"),e.qZA(),e.TgZ(27,"mat-select",12),e.YNc(28,zp,3,2,"ng-container",9),e.qZA(),e.YNc(29,cx,2,1,"mat-error",10),e.qZA()(),e._UZ(30,"div",5),e.TgZ(31,"div",13)(32,"button",14),e._uU(33,"Ajouter "),e.qZA()()()()}2&_&&(e.xp6(4),e.Q6J("formGroup",S.formCreationVehicule),e.xp6(9),e.Q6J("ngForOf",S.marques),e.xp6(1),e.Q6J("ngIf",S.formCreationVehicule.controls.marque.errors),e.xp6(7),e.Q6J("ngForOf",S.modeles),e.xp6(1),e.Q6J("ngIf",S.formCreationVehicule.controls.modele.errors),e.xp6(6),e.Q6J("ngForOf",S.genres),e.xp6(1),e.Q6J("ngIf",S.formCreationVehicule.controls.typeVehicule.errors))},dependencies:[Se.sg,Se.O5,w._Y,w.JJ,w.JL,w.sg,w.u,J.TO,J.KE,J.hX,l.gD,t.ey],styles:["h2.header-title[_ngcontent-%COMP%]{padding:0 24px;font-size:21px!important;color:#00008f;font-weight:600!important;letter-spacing:1px;display:flex;justify-content:flex-end}h2.header-title[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{margin-right:1rem}.container[_ngcontent-%COMP%]{background-color:#fff;padding:40px 23px;height:100%;overflow-y:auto;box-shadow:0 .5rem 1rem #00000026}.row-button[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;padding:0 3rem;margin-top:2rem}"]}),p})();function A_(p,E){if(1&p&&(e.ynx(0),e.TgZ(1,"mat-option",16),e._uU(2),e.qZA(),e.BQk()),2&p){const _=E.$implicit;e.xp6(1),e.Q6J("value",_.idParam),e.xp6(1),e.hij(" ",_.marque," ")}}function y0(p,E){1&p&&(e.TgZ(0,"div"),e._uU(1," ce champs est obligatoire"),e.qZA())}function mx(p,E){if(1&p&&(e.TgZ(0,"mat-error",17),e.YNc(1,y0,2,0,"div",18),e.qZA()),2&p){const _=e.oxw(2);e.xp6(1),e.Q6J("ngIf",_.formEditVehicule.controls.marque.errors.required)}}function dx(p,E){if(1&p&&(e.ynx(0),e.TgZ(1,"mat-option",16),e._uU(2),e.qZA(),e.BQk()),2&p){const _=E.$implicit;e.xp6(1),e.Q6J("value",_.idParam),e.xp6(1),e.hij(" ",_.modele," ")}}function tg(p,E){1&p&&(e.TgZ(0,"div"),e._uU(1," ce champs est obligatoire"),e.qZA())}function Pr(p,E){if(1&p&&(e.TgZ(0,"mat-error",17),e.YNc(1,tg,2,0,"div",18),e.qZA()),2&p){const _=e.oxw(2);e.xp6(1),e.Q6J("ngIf",_.formEditVehicule.controls.modele.errors.required)}}function Ga(p,E){if(1&p&&(e.ynx(0),e.TgZ(1,"mat-option",16),e._uU(2),e.qZA(),e.BQk()),2&p){const _=E.$implicit;e.xp6(1),e.Q6J("value",_.idParam),e.xp6(1),e.hij(" ",_.description," ")}}function gr(p,E){1&p&&(e.TgZ(0,"div"),e._uU(1," ce champs est obligatoire"),e.qZA())}function Hl(p,E){if(1&p&&(e.TgZ(0,"mat-error",17),e.YNc(1,gr,2,0,"div",18),e.qZA()),2&p){const _=e.oxw(2);e.xp6(1),e.Q6J("ngIf",_.formEditVehicule.controls.typeVehicule.errors.required)}}function V1(p,E){if(1&p){const _=e.EpF();e.TgZ(0,"form",4,5),e.NdJ("ngSubmit",function(){e.CHM(_);const k=e.oxw();return e.KtG(k.submitVehicule())}),e.TgZ(2,"div",6)(3,"mat-form-field",7)(4,"mat-label"),e._uU(5,"Marque"),e.qZA(),e.TgZ(6,"mat-select",8),e.NdJ("selectionChange",function(k){e.CHM(_);const ae=e.oxw();return e.KtG(ae.changeMarque(k.value))}),e.YNc(7,A_,3,2,"ng-container",9),e.qZA(),e.YNc(8,mx,2,1,"mat-error",10),e.qZA(),e.TgZ(9,"mat-form-field",7)(10,"mat-label"),e._uU(11,"Mod\xe9le"),e.qZA(),e.TgZ(12,"mat-select",11),e.NdJ("selectionChange",function(k){e.CHM(_);const ae=e.oxw();return e.KtG(ae.changeModele(k.value))}),e.TgZ(13,"mat-option",12),e._uU(14," Ajouter un modele"),e.qZA(),e.YNc(15,dx,3,2,"ng-container",9),e.qZA(),e.YNc(16,Pr,2,1,"mat-error",10),e.qZA(),e.TgZ(17,"mat-form-field",7)(18,"mat-label"),e._uU(19,"Type Vehicule"),e.qZA(),e.TgZ(20,"mat-select",13),e.YNc(21,Ga,3,2,"ng-container",9),e.qZA(),e.YNc(22,Hl,2,1,"mat-error",10),e.qZA()(),e._UZ(23,"div",6),e.TgZ(24,"div",14)(25,"button",15),e._uU(26,"Ajouter "),e.qZA()()()}if(2&p){const _=e.oxw();e.Q6J("formGroup",_.formEditVehicule),e.xp6(7),e.Q6J("ngForOf",_.marques),e.xp6(1),e.Q6J("ngIf",_.formEditVehicule.controls.marque.errors),e.xp6(7),e.Q6J("ngForOf",_.modeles),e.xp6(1),e.Q6J("ngIf",_.formEditVehicule.controls.modele.errors),e.xp6(5),e.Q6J("ngForOf",_.genres),e.xp6(1),e.Q6J("ngIf",_.formEditVehicule.controls.typeVehicule.errors)}}let tm=(()=>{class p{constructor(_,S,k,ae,Ue,On){this.dialog=_,this.route=S,this.router=k,this.genericService=ae,this.vehiculeService=Ue,this.formBuilder=On,this.marques=[],this.genres=[],this.energies=[],this.minDate=new Date}ngOnInit(){this.getVehiculeById(this.route.snapshot.paramMap.get("idVehicule")),this.getMarque(),this.getGenre(),this.getEnergie()}getGenre(){this.genericService.getParam(JSON.parse(sessionStorage.getItem("dictionnaire")||"{}").find(_=>"C18"==_.code).idCategorie).subscribe({next:_=>{this.genres=_},error:_=>{console.log(_)}})}getEnergie(){this.genericService.getParam(JSON.parse(sessionStorage.getItem("dictionnaire")||"{}").find(_=>"C31"==_.code).idCategorie).subscribe({next:_=>{this.energies=_},error:_=>{console.log(_)}})}debutDateChange(_){this.minDate=_}getVehiculeById(_){this.vehiculeService.getVehiculeById(_).subscribe({next:S=>{this.infoVehicule=S,this.initFormVehicule()},error:S=>{console.log(S)}})}changeMarque(_){"new"==_?this.dialog.open(eg,{width:"60%",data:{type:"marque"}}).afterClosed().subscribe(k=>{}):this.getModele(_)}getModele(_){this.vehiculeService.getModelByMarque(_).subscribe({next:S=>{this.modeles=S,this.formEditVehicule.get("modele").setValue(220),console.log(this.formEditVehicule.get("modele").value)},error:S=>{console.log(S)}})}changeModele(_){"new"==_&&this.dialog.open(eg,{width:"60%",data:{type:"modele",marques:this.marques}}).afterClosed().subscribe(k=>{})}initFormVehicule(){this.formEditVehicule=this.formBuilder.group({idVehicule:[this.infoVehicule.idVehicule],marque:[this.infoVehicule.marque.idParam,[w.kI.required]],modele:[this.infoVehicule.modele.idParam,[w.kI.required]],typeVehicule:[this.infoVehicule.typeVehicule.idParam,[w.kI.required]],puissanceFiscale:["",[w.kI.required]],nbPlace:["",[w.kI.required]],energie:["",[w.kI.required]],poidsTotalEnCharge:["",[w.kI.required]],dateDebut:["",[w.kI.required]],dateFin:[""]})}getMarque(){this.vehiculeService.getAllMarque().subscribe({next:_=>{this.marques=_},error:_=>{console.log(_)}})}submitVehicule(){this.vehiculeService.editVehicule(this.formEditVehicule.value,this.route.snapshot.paramMap.get("idVehicule")).subscribe(_=>{Yo().fire({title:"v\xe9hicule a \xe9t\xe9 modifi\xe9 avec succ\xe9s",icon:"info",allowOutsideClick:!1,confirmButtonText:"Ok",width:600}).then(S=>{S.isConfirmed&&this.router.navigate(["gestion-vehicules"])})},_=>{Yo().fire(_.ErreurMessage?_.ErreurMessage:_.message,"","error")})}}return p.\u0275fac=function(_){return new(_||p)(e.Y36(xe.uw),e.Y36(ee.gz),e.Y36(ee.F0),e.Y36(_o.M),e.Y36(Xf.t),e.Y36(w.qu))},p.\u0275cmp=e.Xpm({type:p,selectors:[["app-edit-vehicule"]],decls:5,vars:1,consts:[["id","containerRef",1,"container"],["containerRef",""],[1,"header-title"],["class","",3,"formGroup","ngSubmit",4,"ngIf"],[1,"",3,"formGroup","ngSubmit"],["formDirective","ngForm"],[1,"row"],["appearance","outline",1,"col-md-5"],["formControlName","marque",3,"selectionChange"],[4,"ngFor","ngForOf"],["class","invalid-feedback",4,"ngIf"],["formControlName","modele",3,"selectionChange"],["value","new"],["formControlName","typeVehicule"],[1,"col-md-12","row-button"],["type","submit",1,"btn","btn-action"],[3,"value"],[1,"invalid-feedback"],[4,"ngIf"]],template:function(_,S){1&_&&(e.TgZ(0,"div",0,1)(2,"h2",2),e._uU(3," modifier v\xe9hicule"),e.qZA(),e.YNc(4,V1,27,7,"form",3),e.qZA()),2&_&&(e.xp6(4),e.Q6J("ngIf",S.formEditVehicule))},dependencies:[Se.sg,Se.O5,w._Y,w.JJ,w.JL,w.sg,w.u,J.TO,J.KE,J.hX,l.gD,t.ey],styles:[".container[_ngcontent-%COMP%]{background-color:#fff;padding:40px 23px;height:100%;overflow-y:auto;overflow-x:hidden;box-shadow:0 .5rem 1rem #00000026}h2.header-title[_ngcontent-%COMP%]{padding:0 24px;font-size:21px!important;color:#00008f;font-weight:600!important;letter-spacing:1px;display:flex;justify-content:flex-end}.btn.btn-cancel[_ngcontent-%COMP%]{float:left;margin-top:25px}h2.header-title[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{margin-right:1rem;font-size:32px;height:-moz-fit-content;height:fit-content;width:-moz-fit-content;width:fit-content}.form.row[_ngcontent-%COMP%]{flex-direction:column;padding:1rem}.row-button[_ngcontent-%COMP%]   .btn.btn-action[_ngcontent-%COMP%]{float:right;margin-top:2rem}.mat-expansion-panel-header[_ngcontent-%COMP%]{background:rgba(199,199,199,.2)!important;font-weight:600;font-size:16px}.mat-expansion-panel-header.mat-expanded[_ngcontent-%COMP%]{height:48px}.mat-expansion-panel-header-title[_ngcontent-%COMP%]{color:#00008f}"]}),p})();var lf=B(8661),nd=B(7084);let nm=(()=>{class p{constructor(_,S,k,ae){this.route=_,this.router=S,this.vehiculeService=k,this.authentificationService=ae,this.rib=null,this.decompteOp={}}ngOnInit(){null!==this.codeSinistre&&(this.codeSinistre=this.route.snapshot.paramMap.get("codeSinistre")),null!==this.idVehicule&&(this.idVehicule=this.route.snapshot.paramMap.get("idVehicule")),this.getVehiculeById(this.idVehicule)}getVehiculeById(_){this.vehiculeService.getVehiculeById(_).subscribe({next:S=>{this.vehiculeInfo=S},error:S=>{console.log(S)}})}goBack(){this.router.navigate(["../../"],{relativeTo:this.route})}}return p.\u0275fac=function(_){return new(_||p)(e.Y36(ee.gz),e.Y36(ee.F0),e.Y36(Xf.t),e.Y36(lf.g))},p.\u0275cmp=e.Xpm({type:p,selectors:[["app-consulter-vehicule"]],decls:70,vars:17,consts:[[1,"container"],[1,"header-title"],["aria-hidden","false","matTooltip","Retour","matTooltipPosition","left",1,"material-symbols-outlined",3,"click"],["multi","",1,"example-headers-align"],["hideToggle","",3,"expanded"],[1,"container",2,"padding","1rem 2rem"],[1,"row","infos"],[1,"col-md-6"],[1,"row"],[1,"col-md-6","key"],[1,"col-md-6","value"]],template:function(_,S){1&_&&(e.TgZ(0,"div",0)(1,"h2",1)(2,"mat-icon",2),e.NdJ("click",function(){return S.goBack()}),e._uU(3,"arrow_circle_left"),e.qZA(),e._uU(4),e.qZA(),e.TgZ(5,"mat-accordion",3)(6,"mat-expansion-panel",4)(7,"div",5),e._UZ(8,"div"),e.TgZ(9,"div",6)(10,"div",7)(11,"div",8)(12,"div",9),e._uU(13,"Marque :"),e.qZA(),e.TgZ(14,"div",10),e._uU(15),e.qZA()()(),e.TgZ(16,"div",7)(17,"div",8)(18,"div",9),e._uU(19,"Modele : "),e.qZA(),e.TgZ(20,"div",10),e._uU(21),e.qZA()()()(),e.TgZ(22,"div",6)(23,"div",7)(24,"div",8)(25,"div",9),e._uU(26,"Type Vehicule : "),e.qZA(),e.TgZ(27,"div",10),e._uU(28),e.qZA()()(),e.TgZ(29,"div",7)(30,"div",8)(31,"div",9),e._uU(32,"puissanceFiscale: "),e.qZA(),e.TgZ(33,"div",10),e._uU(34),e.qZA()()()(),e.TgZ(35,"div",6)(36,"div",7)(37,"div",8)(38,"div",9),e._uU(39,"Nombre de places :"),e.qZA(),e.TgZ(40,"div",10),e._uU(41),e.qZA()()(),e.TgZ(42,"div",7)(43,"div",8)(44,"div",9),e._uU(45,"Poids total en charge : "),e.qZA(),e.TgZ(46,"div",10),e._uU(47),e.qZA()()()(),e.TgZ(48,"div",6)(49,"div",7)(50,"div",8)(51,"div",9),e._uU(52,"Date Debut :"),e.qZA(),e.TgZ(53,"div",10),e._uU(54),e.ALo(55,"date"),e.qZA()()(),e.TgZ(56,"div",7)(57,"div",8)(58,"div",9),e._uU(59,"Date Fin: "),e.qZA(),e.TgZ(60,"div",10),e._uU(61),e.ALo(62,"date"),e.qZA()()()(),e.TgZ(63,"div",6)(64,"div",7)(65,"div",8)(66,"div",9),e._uU(67,"Energie :"),e.qZA(),e.TgZ(68,"div",10),e._uU(69),e.qZA()()()()()()()()),2&_&&(e.xp6(4),e.hij(" Consultation v\xe9hicule N\xb0 ",S.vehiculeInfo.idVehicule," "),e.xp6(2),e.Q6J("expanded",!0),e.xp6(9),e.hij(" ",S.vehiculeInfo.marque.description," "),e.xp6(6),e.hij(" ",S.vehiculeInfo.modele.description," "),e.xp6(7),e.hij(" ",S.vehiculeInfo.typeVehicule.description," "),e.xp6(6),e.hij(" ",S.vehiculeInfo.puissanceFiscale," "),e.xp6(7),e.hij(" ",S.vehiculeInfo.nbPlace," "),e.xp6(6),e.hij(" ",S.vehiculeInfo.poidsTotalEnCharge," "),e.xp6(7),e.hij(" ",e.xi3(55,11,S.vehiculeInfo.auditDate,"dd/MM/yyyy")," "),e.xp6(7),e.hij(" ",e.xi3(62,14,S.vehiculeInfo.dateFin,"dd/MM/yyyy")," "),e.xp6(8),e.hij(" ",S.vehiculeInfo.energie.description," "))},dependencies:[Mn.Hw,nd.pp,nd.ib,oo.gM,Se.uU],styles:[".container[_ngcontent-%COMP%]{background-color:#fff;padding:40px 0;height:100%;overflow-x:hidden;box-shadow:0 .5rem 1rem #00000026}h2.header-title[_ngcontent-%COMP%]{padding:0 24px;font-size:21px!important;color:#00008f;font-weight:600!important;letter-spacing:1px;display:flex;justify-content:space-between}.header-title[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{cursor:pointer;width:-moz-fit-content;width:fit-content;height:-moz-fit-content;height:fit-content;font-size:33px}.row.formFiltre[_ngcontent-%COMP%]{width:100%;padding:0 2rem;margin-top:2rem}.row.infos[_ngcontent-%COMP%]{font-size:16px;margin-bottom:2rem;font-weight:600}.value[_ngcontent-%COMP%]{color:#00008f;font-weight:600}.mat-expansion-panel-header[_ngcontent-%COMP%]{background:rgba(199,199,199,.2)!important;font-weight:600;font-size:16px}.mat-expansion-panel-header.mat-expanded[_ngcontent-%COMP%]{height:48px}.mat-expansion-panel-header-title[_ngcontent-%COMP%]{color:#00008f}.mat-expansion-panel[_ngcontent-%COMP%]:not([class*=mat-elevation-z]){box-shadow:none}"]}),p})();var T_=B(9576);function _x(p,E){1&p&&(e.TgZ(0,"th",24),e._uU(1," # "),e.qZA())}function px(p,E){if(1&p&&(e.TgZ(0,"td",25),e._uU(1),e.qZA()),2&p){const _=E.$implicit;e.xp6(1),e.hij(" ",_.userid," ")}}function j1(p,E){1&p&&(e.TgZ(0,"th",24),e._uU(1," Nom "),e.qZA())}function H1(p,E){if(1&p&&(e.TgZ(0,"td",25),e._uU(1),e.qZA()),2&p){const _=E.$implicit;e.xp6(1),e.hij(" ",_.nom," ")}}function fx(p,E){1&p&&(e.TgZ(0,"th",24),e._uU(1," Pr\xe9nom "),e.qZA())}function Cc(p,E){if(1&p&&(e.TgZ(0,"td",25),e._uU(1),e.qZA()),2&p){const _=E.$implicit;e.xp6(1),e.hij(" ",_.prenom," ")}}function Mx(p,E){1&p&&(e.TgZ(0,"th",24),e._uU(1," E-mail "),e.qZA())}function N0(p,E){if(1&p&&(e.TgZ(0,"td",25),e._uU(1),e.qZA()),2&p){const _=E.$implicit;e.xp6(1),e.hij(" ",_.email," ")}}function gx(p,E){1&p&&(e.TgZ(0,"th",24),e._uU(1," Action "),e.qZA())}function hx(p,E){if(1&p){const _=e.EpF();e.TgZ(0,"td",25)(1,"button",26)(2,"mat-icon"),e._uU(3,"more_vert"),e.qZA()(),e.TgZ(4,"mat-menu",27,28)(6,"button",29),e.NdJ("click",function(){const ae=e.CHM(_).$implicit,Ue=e.oxw();return e.KtG(Ue.updateUser(ae.userid))}),e.TgZ(7,"mat-icon"),e._uU(8,"zoom_in"),e.qZA(),e.TgZ(9,"span"),e._uU(10,"Modifier Utilisateur"),e.qZA()()()()}if(2&p){const _=e.MAs(5);e.xp6(1),e.Q6J("matMenuTriggerFor",_)}}function Cx(p,E){1&p&&e._UZ(0,"tr",30)}function xx(p,E){1&p&&e._UZ(0,"tr",31)}const vx=function(){return[5,10]};let I0=(()=>{class p{constructor(_,S,k){this.usersService=_,this.formBuilder=S,this.router=k,this.displayedColumns=["userid","nom","prenom","email","action"],this.dataSource=new Q.by}ngOnInit(){this.getAllUsers(),this.initFormFilter()}getAllUsers(){this.usersService.getAllUsers().subscribe({next:_=>{this.dataSource=new Q.by(_),this.dataSource.paginator=this.paginator},error:_=>{console.log(_)}})}initFormFilter(){this.formFilter=this.formBuilder.group({emailUser:[null],nomUser:[null]})}submitFilter(){let _=this.formFilter.get("emailUser").value?this.formFilter.get("emailUser").value:this.formFilter.get("nomUser").value;this.usersService.filterUser(_).subscribe({next:S=>{this.dataSource=new Q.by(S),this.paginate()},error:S=>{console.log(S)}})}navigateToCreation(){this.router.navigate(["gestion-user/add-user"])}updateUser(_){this.router.navigate(["gestion-user/edit-user/"+_])}updatePassword(_){}resetTable(){this.getAllUsers(),this.formFilter.reset(),this.initFormFilter()}paginate(){this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort}}return p.\u0275fac=function(_){return new(_||p)(e.Y36(T_.f),e.Y36(w.qu),e.Y36(ee.F0))},p.\u0275cmp=e.Xpm({type:p,selectors:[["app-gestion-user"]],viewQuery:function(_,S){if(1&_&&(e.Gf(Le.NW,5),e.Gf(qi.YE,5)),2&_){let k;e.iGM(k=e.CRH())&&(S.paginator=k.first),e.iGM(k=e.CRH())&&(S.sort=k.first)}},decls:43,vars:7,consts:[[1,"container"],[1,"header"],[1,"title-table"],[1,"btn","btn-secondary",2,"display","flex","align-items","center",3,"click"],["aria-hidden","false","aria-label","ajouter une reduction ",1,"material-symbols-outlined"],[1,"form","row",3,"formGroup","ngSubmit"],["formDirective","ngForm"],["appearance","outline",1,"col-md-5"],["type","text","matInput","","placeholder","","formControlName","emailUser"],["type","text","matInput","","placeholder","","formControlName","nomUser"],[1,"col-md-12","button-row"],["matTooltip","Reset","matTooltipPosition","left",1,"material-symbols-outlined",3,"click"],[1,"btn","btn-action"],["mat-table","",1,"gestion-table",3,"dataSource"],["matColumnDef","userid"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","nom"],["matColumnDef","prenom"],["matColumnDef","email"],["matColumnDef","action"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["aria-label","Select page of users",3,"pageSize","pageSizeOptions"],["mat-header-cell",""],["mat-cell",""],["mat-icon-button","","type","button","aria-label","menu reduction list",3,"matMenuTriggerFor"],["xPosition","after"],["menu","matMenu"],["mat-menu-item","","type","button",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(_,S){1&_&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h2",2),e._uU(3,"Liste des utilisateurs"),e.qZA(),e.TgZ(4,"button",3),e.NdJ("click",function(){return S.navigateToCreation()}),e.TgZ(5,"mat-icon",4),e._uU(6,"add_circle"),e.qZA(),e._uU(7," Ajouter un nouvel utilisateur "),e.qZA()(),e._UZ(8,"mat-divider"),e.TgZ(9,"form",5,6),e.NdJ("ngSubmit",function(){return S.submitFilter()}),e.TgZ(11,"mat-form-field",7)(12,"mat-label"),e._uU(13,"Email User"),e.qZA(),e._UZ(14,"input",8),e.qZA(),e.TgZ(15,"mat-form-field",7)(16,"mat-label"),e._uU(17,"Nom User"),e.qZA(),e._UZ(18,"input",9),e.qZA(),e.TgZ(19,"div",10)(20,"mat-icon",11),e.NdJ("click",function(){return S.resetTable()}),e._uU(21,"restart_alt"),e.qZA(),e.TgZ(22,"button",12),e._uU(23,"Filtrer"),e.qZA()()(),e.TgZ(24,"table",13),e.ynx(25,14),e.YNc(26,_x,2,0,"th",15),e.YNc(27,px,2,1,"td",16),e.BQk(),e.ynx(28,17),e.YNc(29,j1,2,0,"th",15),e.YNc(30,H1,2,1,"td",16),e.BQk(),e.ynx(31,18),e.YNc(32,fx,2,0,"th",15),e.YNc(33,Cc,2,1,"td",16),e.BQk(),e.ynx(34,19),e.YNc(35,Mx,2,0,"th",15),e.YNc(36,N0,2,1,"td",16),e.BQk(),e.ynx(37,20),e.YNc(38,gx,2,0,"th",15),e.YNc(39,hx,11,1,"td",16),e.BQk(),e.YNc(40,Cx,1,0,"tr",21),e.YNc(41,xx,1,0,"tr",22),e.qZA(),e._UZ(42,"mat-paginator",23),e.qZA()),2&_&&(e.xp6(9),e.Q6J("formGroup",S.formFilter),e.xp6(15),e.Q6J("dataSource",S.dataSource),e.xp6(16),e.Q6J("matHeaderRowDef",S.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",S.displayedColumns),e.xp6(1),e.Q6J("pageSize",10)("pageSizeOptions",e.DdM(6,vx)))},dependencies:[O.d,Mn.Hw,Nn.VK,Nn.OP,Nn.p6,w._Y,w.Fj,w.JJ,w.JL,w.sg,w.u,J.KE,J.hX,he.Nt,Q.BZ,Q.fO,Q.as,Q.w1,Q.Dz,Q.nj,Q.ge,Q.ev,Q.XQ,Q.Gk,oo.gM,Le.NW,vn.lW],styles:[".container[_ngcontent-%COMP%]{background-color:#fff;padding:40px 0;height:100%;overflow-y:auto;overflow-x:hidden}.gestion-table[_ngcontent-%COMP%]{width:100%;margin-top:2rem}.gestion-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .gestion-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:16px}.gestion-table[_ngcontent-%COMP%]   .mat-header-cell[_ngcontent-%COMP%]{color:#00008f;font-weight:600}.gestion-table[_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]:nth-child(even), .gestion-table[_ngcontent-%COMP%]   .mat-header-row[_ngcontent-%COMP%]{background-color:#f7f7f9}.gestion-table[_ngcontent-%COMP%]   .mat-paginator[_ngcontent-%COMP%]{background-color:transparent;margin:20px auto auto;width:80%}.gestion-table[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{height:100%;font-size:26px;color:#00008f;width:-moz-fit-content;width:fit-content}.form.row[_ngcontent-%COMP%]{padding:1rem}.button-row[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-end}.button-row[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{margin-right:2rem}.mat-menu-item[_ngcontent-%COMP%]{font-size:15px}.mat-menu-item[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:18px;height:-moz-fit-content;height:fit-content}.mat-menu-item[_ngcontent-%COMP%]:hover:not([disabled]), .mat-menu-item[_ngcontent-%COMP%]:hover:not([disabled])   .mat-icon[_ngcontent-%COMP%]{color:#00008f}.header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:0px 2rem}.header[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{height:-moz-fit-content;height:fit-content;font-size:29px;margin-right:1rem;width:-moz-fit-content;width:fit-content}.title-table[_ngcontent-%COMP%]{margin-bottom:0rem;font-weight:800!important;font-size:23px!important;color:#00008f!important}"]}),p})();var Rg=B(2644),E0=B(6944);function Ax(p,E){if(1&p&&(e.TgZ(0,"div",24),e._uU(1),e.qZA()),2&p){const _=e.oxw();e.xp6(1),e.Oqu(_.errorHandler.msg)}}function f(p,E){1&p&&(e.TgZ(0,"div"),e._uU(1," ce champs est obligatoire"),e.qZA())}function D(p,E){if(1&p&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&p){const _=e.oxw(2);e.xp6(1),e.hij(" ",_.formCreation.controls.nom.errors.invalidName.message," ")}}function m(p,E){if(1&p&&(e.TgZ(0,"mat-error",25),e.YNc(1,f,2,0,"div",26),e.YNc(2,D,2,1,"div",26),e.qZA()),2&p){const _=e.oxw();e.xp6(1),e.Q6J("ngIf",_.formCreation.controls.nom.errors.required),e.xp6(1),e.Q6J("ngIf",_.formCreation.controls.nom.errors.invalidName)}}function I(p,E){1&p&&(e.TgZ(0,"div"),e._uU(1," ce champs est obligatoire"),e.qZA())}function j(p,E){if(1&p&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&p){const _=e.oxw(2);e.xp6(1),e.hij(" ",_.formCreation.controls.prenom.errors.invalidName.message," ")}}function be(p,E){if(1&p&&(e.TgZ(0,"mat-error",25),e.YNc(1,I,2,0,"div",26),e.YNc(2,j,2,1,"div",26),e.qZA()),2&p){const _=e.oxw();e.xp6(1),e.Q6J("ngIf",_.formCreation.controls.prenom.errors.required),e.xp6(1),e.Q6J("ngIf",_.formCreation.controls.prenom.errors.invalidName)}}function It(p,E){1&p&&(e.TgZ(0,"div"),e._uU(1," Ce champs est obligatoire"),e.qZA())}function ri(p,E){1&p&&(e.TgZ(0,"div"),e._uU(1,"Adresse email Invalid "),e.qZA())}function Mi(p,E){if(1&p&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&p){const _=e.oxw(2);e.xp6(1),e.hij(" ",_.formCreation.controls.email.errors.invalidEmail.message," ")}}function $s(p,E){if(1&p&&(e.TgZ(0,"mat-error",25),e.YNc(1,It,2,0,"div",26),e.YNc(2,ri,2,0,"div",26),e.YNc(3,Mi,2,1,"div",26),e.qZA()),2&p){const _=e.oxw();e.xp6(1),e.Q6J("ngIf",_.formCreation.controls.email.errors.required),e.xp6(1),e.Q6J("ngIf",_.formCreation.controls.email.errors.email),e.xp6(1),e.Q6J("ngIf",_.formCreation.controls.email.errors.invalidEmail)}}function ng(p,E){if(1&p&&(e.ynx(0),e.TgZ(1,"mat-option",27),e._uU(2),e.qZA(),e.BQk()),2&p){const _=E.$implicit;e.xp6(1),e.Q6J("value",_.idAgence),e.xp6(1),e.hij(" ",_.nomAgence," ")}}function id(p,E){1&p&&(e.TgZ(0,"div"),e._uU(1," ce champs est obligatoire"),e.qZA())}function Tx(p,E){if(1&p&&(e.TgZ(0,"mat-error",25),e.YNc(1,id,2,0,"div",26),e.qZA()),2&p){const _=e.oxw();e.xp6(1),e.Q6J("ngIf",_.formCreation.controls.agence.errors.required)}}function Hx(p,E){if(1&p&&(e.ynx(0),e.TgZ(1,"mat-option",27),e._uU(2),e.qZA(),e.BQk()),2&p){const _=E.$implicit;e.xp6(1),e.Q6J("value",_.id),e.xp6(1),e.hij(" ",_.description," ")}}function $x(p,E){1&p&&(e.TgZ(0,"div"),e._uU(1," ce champs est obligatoire"),e.qZA())}function Ux(p,E){if(1&p&&(e.TgZ(0,"mat-error",25),e.YNc(1,$x,2,0,"div",26),e.qZA()),2&p){const _=e.oxw();e.xp6(1),e.Q6J("ngIf",_.formCreation.controls.role.errors.required)}}const Kx=function(){return["/gestion-user"]};let Wx=(()=>{class p{constructor(_,S,k,ae){this.formBuilder=_,this.agencesService=S,this.usersService=k,this.router=ae,this.agences=[],this.roles=[],this.jsonUser={},this.errorHandler={error:!1,msg:""}}ngOnInit(){this.initFormCreation(),this.getAllAgences(),this.getAllRoles()}initFormCreation(){this.formCreation=this.formBuilder.group({nom:["",[w.kI.required,this.customNameValidator]],prenom:["",[w.kI.required,this.customLastNameValidator]],email:["",[w.kI.required,w.kI.pattern(Rg.e.email),w.kI.email,this.customEmailValidator]],agence:["",w.kI.required],role:["",w.kI.required]})}customEmailValidator(_){const S=_.value;return S&&!S.includes("@")?{invalidEmail:{message:"Adresse e-mail invalide"}}:null}customNameValidator(_){return/[0-9!@#$%^&*()+,.?":{}|<>]/.test(_.value)?{invalidName:{message:"Le nom ne peut pas contenir contain nombres  ou symboles"}}:null}customLastNameValidator(_){return/[!@#$%^&*()+,.?":{}|<>]/.test(_.value)?{invalidName:{message:"Le pr\xe9nom ne peut pas contenir contain symboles"}}:null}toggleAllSelection(_){_.options.filter(k=>null===k.value).map(k=>k.selected)[0]?_.options.forEach(k=>k.select()):_.options.forEach(k=>k.deselect())}toggleAllSelectionRole(_){_.options.filter(k=>null===k.value).map(k=>k.selected)[0]?_.options.forEach(k=>k.select()):_.options.forEach(k=>k.deselect())}getAllRoles(){this.usersService.getAllRole().subscribe({next:_=>{this.roles=_},error:_=>{console.log(_)}})}getAllAgences(){this.agencesService.getAllAgence().subscribe({next:_=>{this.agences=_},error:_=>{console.log(_)}})}submitUser(){this.jsonUser={},this.formCreation.valid&&(this.jsonUser={},this.jsonUser.nom=this.formCreation.get("nom").value,this.jsonUser.prenom=this.formCreation.get("prenom").value,this.jsonUser.email=this.formCreation.get("email").value,this.jsonUser.agence=this.formCreation.get("agence").value.filter(_=>null!==_),this.jsonUser.roles=this.formCreation.get("role").value.filter(_=>null!==_),this.usersService.addUser(this.jsonUser).subscribe({next:_=>{Yo().fire({title:_,icon:"info",allowOutsideClick:!1,confirmButtonText:"Ok",width:600}).then(S=>{S.isConfirmed&&this.router.navigate(["gestion-user"])})},error:_=>{console.log(_),Yo().fire({title:_.text,icon:"info",allowOutsideClick:!1,confirmButtonText:"Ok",width:600}).then(S=>{S.isConfirmed&&this.router.navigate(["gestion-user"])})}}))}}return p.\u0275fac=function(_){return new(_||p)(e.Y36(w.qu),e.Y36(E0.e),e.Y36(T_.f),e.Y36(ee.F0))},p.\u0275cmp=e.Xpm({type:p,selectors:[["app-add-user"]],decls:52,vars:14,consts:[[1,"container"],[1,"header-title"],["aria-label","directions_car",1,"mat-icon","notranslate","material-symbols-outlined","material-icons","mat-icon-no-color"],["class","alert alert-danger",4,"ngIf"],[3,"formGroup","ngSubmit"],["formDirective","ngForm"],["multi",""],["hideToggle","",1,"panel-risque",3,"expanded"],[1,""],[1,"form","row"],["appearance","outline",1,"col-md-5"],["type","text","matInput","","placeholder","","formControlName","nom"],["class","invalid-feedback",4,"ngIf"],["type","text","matInput","","placeholder","","formControlName","prenom"],["type","text","matInput","","placeholder","","formControlName","email"],["formControlName","agence","multiple",""],["mySelAgences",""],[3,"value","click"],[4,"ngFor","ngForOf"],["formControlName","role","multiple",""],["mySelRole",""],["mat-dialog-close","","type","button",1,"btn","btn-cancel",3,"routerLink"],[1,"row-button"],["type","submit",1,"btn","btn-action"],[1,"alert","alert-danger"],[1,"invalid-feedback"],[4,"ngIf"],[3,"value"]],template:function(_,S){if(1&_){const k=e.EpF();e.TgZ(0,"div",0)(1,"h2",1)(2,"mat-icon",2),e._uU(3,"redeem"),e.qZA(),e._uU(4," Ajouter Utilisateur"),e.qZA(),e.YNc(5,Ax,2,1,"div",3),e.TgZ(6,"form",4,5),e.NdJ("ngSubmit",function(){return S.submitUser()}),e.TgZ(8,"mat-accordion",6)(9,"mat-expansion-panel",7)(10,"mat-expansion-panel-header")(11,"mat-panel-title",8),e._uU(12," Informations Utilisateur "),e.qZA()(),e.TgZ(13,"div",9)(14,"mat-form-field",10)(15,"mat-label"),e._uU(16,"Nom "),e.qZA(),e._UZ(17,"input",11),e.YNc(18,m,3,2,"mat-error",12),e.qZA(),e.TgZ(19,"mat-form-field",10)(20,"mat-label"),e._uU(21,"Pr\xe9om "),e.qZA(),e._UZ(22,"input",13),e.YNc(23,be,3,2,"mat-error",12),e.qZA(),e.TgZ(24,"mat-form-field",10)(25,"mat-label"),e._uU(26,"E-mail "),e.qZA(),e._UZ(27,"input",14),e.YNc(28,$s,4,3,"mat-error",12),e.qZA(),e.TgZ(29,"mat-form-field",10)(30,"mat-label"),e._uU(31,"Agences"),e.qZA(),e.TgZ(32,"mat-select",15,16)(34,"mat-option",17),e.NdJ("click",function(){e.CHM(k);const Ue=e.MAs(33);return e.KtG(S.toggleAllSelection(Ue))}),e._uU(35,"Tout s\xe9lectionner"),e.qZA(),e.YNc(36,ng,3,2,"ng-container",18),e.qZA(),e.YNc(37,Tx,2,1,"mat-error",12),e.qZA(),e.TgZ(38,"mat-form-field",10)(39,"mat-label"),e._uU(40,"R\xf4le "),e.qZA(),e.TgZ(41,"mat-select",19,20)(43,"mat-option",17),e.NdJ("click",function(){e.CHM(k);const Ue=e.MAs(42);return e.KtG(S.toggleAllSelectionRole(Ue))}),e._uU(44,"Tout s\xe9lectionner"),e.qZA(),e.YNc(45,Hx,3,2,"ng-container",18),e.qZA(),e.YNc(46,Ux,2,1,"mat-error",12),e.qZA()()()(),e.TgZ(47,"button",21),e._uU(48,"Annuler"),e.qZA(),e.TgZ(49,"div",22)(50,"button",23),e._uU(51,"Enregistrer"),e.qZA()()()()}2&_&&(e.xp6(5),e.Q6J("ngIf",S.errorHandler.error),e.xp6(1),e.Q6J("formGroup",S.formCreation),e.xp6(3),e.Q6J("expanded",!0),e.xp6(9),e.Q6J("ngIf",S.formCreation.controls.nom.errors),e.xp6(5),e.Q6J("ngIf",S.formCreation.controls.prenom.errors),e.xp6(5),e.Q6J("ngIf",S.formCreation.controls.email.errors),e.xp6(6),e.Q6J("value",null),e.xp6(2),e.Q6J("ngForOf",S.agences),e.xp6(1),e.Q6J("ngIf",S.formCreation.controls.agence.errors),e.xp6(6),e.Q6J("value",null),e.xp6(2),e.Q6J("ngForOf",S.roles),e.xp6(1),e.Q6J("ngIf",S.formCreation.controls.role.errors),e.xp6(1),e.Q6J("routerLink",e.DdM(13,Kx)))},dependencies:[Se.sg,Se.O5,ee.rH,Mn.Hw,nd.pp,nd.ib,nd.yz,nd.yK,w._Y,w.Fj,w.JJ,w.JL,w.sg,w.u,J.TO,J.KE,J.hX,he.Nt,xe.ZT,l.gD,t.ey],styles:[".container[_ngcontent-%COMP%]{background-color:#fff;padding:40px 23px;height:100%;overflow-y:auto;overflow-x:hidden;box-shadow:0 .5rem 1rem #00000026}.btn.btn-cancel[_ngcontent-%COMP%]{float:left;margin-top:25px}h2.header-title[_ngcontent-%COMP%]{padding:0 24px;font-size:21px!important;color:#00008f;font-weight:600!important;letter-spacing:1px;display:flex;justify-content:flex-end}h2.header-title[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{margin-right:1rem;font-size:32px;height:-moz-fit-content;height:fit-content;width:-moz-fit-content;width:fit-content}.form.row[_ngcontent-%COMP%]{flex-direction:column;padding:1rem}.row-button[_ngcontent-%COMP%]   .btn.btn-action[_ngcontent-%COMP%]{float:right;margin-top:2rem}.mat-expansion-panel-header[_ngcontent-%COMP%]{background:rgba(199,199,199,.2)!important;font-weight:600;font-size:16px}.mat-expansion-panel-header.mat-expanded[_ngcontent-%COMP%]{height:48px}.mat-expansion-panel-header-title[_ngcontent-%COMP%]{color:#00008f}"]}),p})();function Xx(p,E){if(1&p&&(e.TgZ(0,"div",27),e._uU(1),e.qZA()),2&p){const _=e.oxw();e.xp6(1),e.Oqu(_.errorHandler.msg)}}function bx(p,E){1&p&&(e.TgZ(0,"div"),e._uU(1," ce champs est obligatoire"),e.qZA())}function R0(p,E){if(1&p&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&p){const _=e.oxw(2);e.xp6(1),e.hij(" ",_.formModifier.controls.nom.errors.invalidName.message," ")}}function p2(p,E){if(1&p&&(e.TgZ(0,"mat-error",28),e.YNc(1,bx,2,0,"div",29),e.YNc(2,R0,2,1,"div",29),e.qZA()),2&p){const _=e.oxw();e.xp6(1),e.Q6J("ngIf",_.formModifier.controls.nom.errors.required),e.xp6(1),e.Q6J("ngIf",_.formModifier.controls.nom.errors.invalidName)}}function Fx(p,E){1&p&&(e.TgZ(0,"div"),e._uU(1," ce champs est obligatoire"),e.qZA())}function e2(p,E){if(1&p&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&p){const _=e.oxw(2);e.xp6(1),e.hij(" ",_.formModifier.controls.prenom.errors.invalidName.message," ")}}function t2(p,E){if(1&p&&(e.TgZ(0,"mat-error",28),e.YNc(1,Fx,2,0,"div",29),e.YNc(2,e2,2,1,"div",29),e.qZA()),2&p){const _=e.oxw();e.xp6(1),e.Q6J("ngIf",_.formModifier.controls.prenom.errors.required),e.xp6(1),e.Q6J("ngIf",_.formModifier.controls.prenom.errors.invalidName)}}function Qx(p,E){1&p&&(e.TgZ(0,"div"),e._uU(1," Ce champs est obligatoire"),e.qZA())}function n2(p,E){1&p&&(e.TgZ(0,"div"),e._uU(1,"Adresse email Invalid "),e.qZA())}function b_(p,E){if(1&p&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&p){const _=e.oxw(2);e.xp6(1),e.hij(" ",_.formModifier.controls.email.errors.invalidEmail.message," ")}}function i2(p,E){if(1&p&&(e.TgZ(0,"mat-error",28),e.YNc(1,Qx,2,0,"div",29),e.YNc(2,n2,2,0,"div",29),e.YNc(3,b_,2,1,"div",29),e.qZA()),2&p){const _=e.oxw();e.xp6(1),e.Q6J("ngIf",_.formModifier.controls.email.errors.required),e.xp6(1),e.Q6J("ngIf",_.formModifier.controls.email.errors.email),e.xp6(1),e.Q6J("ngIf",_.formModifier.controls.email.errors.invalidEmail)}}function D0(p,E){if(1&p&&(e.ynx(0),e.TgZ(1,"mat-option",30),e._uU(2),e.qZA(),e.BQk()),2&p){const _=E.$implicit;e.xp6(1),e.Q6J("value",_.idAgence),e.xp6(1),e.hij(" ",_.nomAgence," ")}}function Jx(p,E){1&p&&(e.TgZ(0,"div"),e._uU(1," ce champs est obligatoire"),e.qZA())}function Px(p,E){if(1&p&&(e.TgZ(0,"mat-error",28),e.YNc(1,Jx,2,0,"div",29),e.qZA()),2&p){const _=e.oxw();e.xp6(1),e.Q6J("ngIf",_.formModifier.controls.agence.errors.required)}}function Zx(p,E){if(1&p&&(e.ynx(0),e.TgZ(1,"mat-option",30),e._uU(2),e.qZA(),e.BQk()),2&p){const _=E.$implicit;e.xp6(1),e.Q6J("value",_.id),e.xp6(1),e.hij(" ",_.description," ")}}function f2(p,E){1&p&&(e.TgZ(0,"div"),e._uU(1," ce champs est obligatoire"),e.qZA())}function g2(p,E){if(1&p&&(e.TgZ(0,"mat-error",28),e.YNc(1,f2,2,0,"div",29),e.qZA()),2&p){const _=e.oxw();e.xp6(1),e.Q6J("ngIf",_.formModifier.controls.role.errors.required)}}function h2(p,E){1&p&&(e.TgZ(0,"div"),e._uU(1," ce champs est obligatoire"),e.qZA())}function Lx(p,E){if(1&p&&(e.TgZ(0,"mat-error",28),e.YNc(1,h2,2,0,"div",29),e.qZA()),2&p){const _=e.oxw();e.xp6(1),e.Q6J("ngIf",_.formModifier.controls.etat.errors.required)}}const w0=function(){return["/gestion-user"]};let Yx=(()=>{class p{constructor(_,S,k,ae,Ue){this.formBuilder=_,this.agencesService=S,this.router=k,this.route=ae,this.usersService=Ue,this.agences=[],this.roles=[],this.selectedRole=[],this.selectedAgence=[],this.selectedEtat=[],this.jsonUpdate={},this.errorHandler={error:!1,msg:""}}ngOnInit(){this.getAllAgences(),this.getAllRoles(),null!==this.id&&(this.id=this.route.snapshot.paramMap.get("id"),this.getUserById(this.id)),this.initFormCreation()}getAllRoles(){this.usersService.getAllRole().subscribe({next:_=>{this.roles=_},error:_=>{console.log(_)}})}initFormCreation(){this.formModifier=this.formBuilder.group({nom:["",[w.kI.required,this.customNameValidator]],prenom:["",[w.kI.required,this.customLastNameValidator]],email:["",[w.kI.required,w.kI.pattern(Rg.e.email),w.kI.email,this.customEmailValidator]],agence:["",w.kI.required],role:["",w.kI.required],etat:["",w.kI.required]})}customEmailValidator(_){const S=_.value;return S&&!S.includes("@")?{invalidEmail:{message:"Adresse e-mail invalide"}}:null}customLastNameValidator(_){return/[!@#$%^&*()+,.?":{}|<>]/.test(_.value)?{invalidName:{message:"Le pr\xe9nom ne peut pas contenir contain symboles"}}:null}customNameValidator(_){return/[0-9!@#$%^&*()+,.?":{}|<>]/.test(_.value)?{invalidName:{message:"Le nom et le pr\xe9nom ne peuvent pas contenir contain nombres  ou symboles"}}:null}getAllAgences(){this.agencesService.getAllAgence().subscribe({next:_=>{this.agences=_},error:_=>{console.log(_)}})}getUserById(_){this.usersService.getUserById(_).subscribe({next:S=>{this.user=S,this.formModifier.controls.nom.setValue(this.user.nom),this.formModifier.controls.prenom.setValue(this.user.prenom),this.formModifier.controls.email.setValue(this.user.email),this.selectedEtat=this.user.accountStatus,this.selectedRole=this.user.role?.map(k=>k.idRole)||[],this.selectedAgence=this.user.agence?.map(k=>k.idAgence)||[],this.formModifier.get("agence").setValue(this.selectedAgence),this.formModifier.get("role").setValue(this.selectedRole),this.formModifier.get("etat").setValue(this.selectedEtat?this.selectedEtat.toString():"2")},error:S=>{console.log(S)}})}toggleAllSelection(_){_.options.filter(k=>null===k.value).map(k=>k.selected)[0]?_.options.forEach(k=>k.select()):_.options.forEach(k=>k.deselect())}toggleAllSelectionRole(_){_.options.filter(k=>null===k.value).map(k=>k.selected)[0]?_.options.forEach(k=>k.select()):_.options.forEach(k=>k.deselect())}submit(){this.jsonUpdate={},this.formModifier.valid&&(this.jsonUpdate={},this.jsonUpdate.nom=this.formModifier.get("nom").value,this.jsonUpdate.prenom=this.formModifier.get("prenom").value,this.jsonUpdate.mail=this.formModifier.get("email").value,this.jsonUpdate.agence=this.formModifier.get("agence").value.filter(_=>null!==_),this.jsonUpdate.roles=this.formModifier.get("role").value.filter(_=>null!==_),this.jsonUpdate.etat=this.formModifier.get("etat").value,this.usersService.updateUser(this.jsonUpdate).subscribe({next:_=>{Yo().fire({title:_,icon:"info",allowOutsideClick:!1,confirmButtonText:"Ok",width:600}).then(S=>{S.isConfirmed&&this.router.navigate(["gestion-user"])})},error:_=>{console.log(_),Yo().fire({title:_.text,icon:"info",allowOutsideClick:!1,confirmButtonText:"Ok",width:600}).then(S=>{S.isConfirmed&&this.router.navigate(["gestion-user"])})}}))}}return p.\u0275fac=function(_){return new(_||p)(e.Y36(w.qu),e.Y36(E0.e),e.Y36(ee.F0),e.Y36(ee.gz),e.Y36(T_.f))},p.\u0275cmp=e.Xpm({type:p,selectors:[["app-edit-user"]],decls:62,vars:15,consts:[[1,"container"],[1,"header-title"],["aria-label","directions_car",1,"mat-icon","notranslate","material-symbols-outlined","material-icons","mat-icon-no-color"],["class","alert alert-danger",4,"ngIf"],[3,"formGroup","ngSubmit"],["formDirective","ngForm"],["multi",""],["hideToggle","",1,"panel-risque",3,"expanded"],[1,""],[1,"form","row"],["appearance","outline",1,"col-md-5"],["type","text","matInput","","placeholder","","formControlName","nom"],["class","invalid-feedback",4,"ngIf"],["type","text","matInput","","placeholder","","formControlName","prenom"],["type","text","matInput","","placeholder","","formControlName","email"],["formControlName","agence","multiple",""],["mySelAgences",""],[3,"value","click"],[4,"ngFor","ngForOf"],["formControlName","role","multiple",""],["mySelRole",""],["formControlName","etat"],["value","1"],["value","2"],["mat-dialog-close","","type","button",1,"btn","btn-cancel",3,"routerLink"],[1,"row-button"],["type","submit",1,"btn","btn-action"],[1,"alert","alert-danger"],[1,"invalid-feedback"],[4,"ngIf"],[3,"value"]],template:function(_,S){if(1&_){const k=e.EpF();e.TgZ(0,"div",0)(1,"h2",1)(2,"mat-icon",2),e._uU(3,"redeem"),e.qZA(),e._uU(4," Modifier Utilisateur"),e.qZA(),e.YNc(5,Xx,2,1,"div",3),e.TgZ(6,"form",4,5),e.NdJ("ngSubmit",function(){return S.submit()}),e.TgZ(8,"mat-accordion",6)(9,"mat-expansion-panel",7)(10,"mat-expansion-panel-header")(11,"mat-panel-title",8),e._uU(12," Informations Utilisateur "),e.qZA()(),e.TgZ(13,"div",9)(14,"mat-form-field",10)(15,"mat-label"),e._uU(16,"Nom "),e.qZA(),e._UZ(17,"input",11),e.YNc(18,p2,3,2,"mat-error",12),e.qZA(),e.TgZ(19,"mat-form-field",10)(20,"mat-label"),e._uU(21,"Pr\xe9om "),e.qZA(),e._UZ(22,"input",13),e.YNc(23,t2,3,2,"mat-error",12),e.qZA(),e.TgZ(24,"mat-form-field",10)(25,"mat-label"),e._uU(26,"E-mail "),e.qZA(),e._UZ(27,"input",14),e.YNc(28,i2,4,3,"mat-error",12),e.qZA(),e.TgZ(29,"mat-form-field",10)(30,"mat-label"),e._uU(31,"Agences"),e.qZA(),e.TgZ(32,"mat-select",15,16)(34,"mat-option",17),e.NdJ("click",function(){e.CHM(k);const Ue=e.MAs(33);return e.KtG(S.toggleAllSelection(Ue))}),e._uU(35,"Tout s\xe9lectionner"),e.qZA(),e.YNc(36,D0,3,2,"ng-container",18),e.qZA(),e.YNc(37,Px,2,1,"mat-error",12),e.qZA(),e.TgZ(38,"mat-form-field",10)(39,"mat-label"),e._uU(40,"R\xf4le "),e.qZA(),e.TgZ(41,"mat-select",19,20)(43,"mat-option",17),e.NdJ("click",function(){e.CHM(k);const Ue=e.MAs(42);return e.KtG(S.toggleAllSelectionRole(Ue))}),e._uU(44,"Tout s\xe9lectionner"),e.qZA(),e.YNc(45,Zx,3,2,"ng-container",18),e.qZA(),e.YNc(46,g2,2,1,"mat-error",12),e.qZA(),e.TgZ(47,"mat-form-field",10)(48,"mat-label"),e._uU(49,"Etat "),e.qZA(),e.TgZ(50,"mat-select",21),e.ynx(51),e.TgZ(52,"mat-option",22),e._uU(53," Actif "),e.qZA(),e.TgZ(54,"mat-option",23),e._uU(55," inactif "),e.qZA(),e.BQk(),e.qZA(),e.YNc(56,Lx,2,1,"mat-error",12),e.qZA()()()(),e.TgZ(57,"button",24),e._uU(58,"Annuler"),e.qZA(),e.TgZ(59,"div",25)(60,"button",26),e._uU(61,"Enregistrer"),e.qZA()()()()}2&_&&(e.xp6(5),e.Q6J("ngIf",S.errorHandler.error),e.xp6(1),e.Q6J("formGroup",S.formModifier),e.xp6(3),e.Q6J("expanded",!0),e.xp6(9),e.Q6J("ngIf",S.formModifier.controls.nom.errors),e.xp6(5),e.Q6J("ngIf",S.formModifier.controls.prenom.errors),e.xp6(5),e.Q6J("ngIf",S.formModifier.controls.email.errors),e.xp6(6),e.Q6J("value",null),e.xp6(2),e.Q6J("ngForOf",S.agences),e.xp6(1),e.Q6J("ngIf",S.formModifier.controls.agence.errors),e.xp6(6),e.Q6J("value",null),e.xp6(2),e.Q6J("ngForOf",S.roles),e.xp6(1),e.Q6J("ngIf",S.formModifier.controls.role.errors),e.xp6(10),e.Q6J("ngIf",S.formModifier.controls.etat.errors),e.xp6(1),e.Q6J("routerLink",e.DdM(14,w0)))},dependencies:[Se.sg,Se.O5,ee.rH,Mn.Hw,nd.pp,nd.ib,nd.yz,nd.yK,w._Y,w.Fj,w.JJ,w.JL,w.sg,w.u,J.TO,J.KE,J.hX,he.Nt,xe.ZT,l.gD,t.ey],styles:[".container[_ngcontent-%COMP%]{background-color:#fff;padding:40px 23px;height:100%;overflow-y:auto;overflow-x:hidden;box-shadow:0 .5rem 1rem #00000026}h2.header-title[_ngcontent-%COMP%]{padding:0 24px;font-size:21px!important;color:#00008f;font-weight:600!important;letter-spacing:1px;display:flex;justify-content:flex-end}.btn.btn-cancel[_ngcontent-%COMP%]{float:left;margin-top:25px}h2.header-title[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{margin-right:1rem;font-size:32px;height:-moz-fit-content;height:fit-content;width:-moz-fit-content;width:fit-content}.form.row[_ngcontent-%COMP%]{flex-direction:column;padding:1rem}.row-button[_ngcontent-%COMP%]   .btn.btn-action[_ngcontent-%COMP%]{float:right;margin-top:2rem}.mat-expansion-panel-header[_ngcontent-%COMP%]{background:rgba(199,199,199,.2)!important;font-weight:600;font-size:16px}.mat-expansion-panel-header.mat-expanded[_ngcontent-%COMP%]{height:48px}.mat-expansion-panel-header-title[_ngcontent-%COMP%]{color:#00008f}"]}),p})();var Gx=B(7179);const Bx=[{path:"gestion-produits",component:Sa,canActivate:[me.k],data:{roles:["ROLE_SUPER_ADMIN","ANALYSTE"]}},{path:"gestion-produits/gestion-taxes",component:el,canActivate:[me.k],data:{roles:["ROLE_SUPER_ADMIN","ANALYSTE"]}},{path:"gestion-produits/gestion-famille-produit",component:jr,canActivate:[me.k],data:{roles:["ROLE_SUPER_ADMIN","ANALYSTE"]}},{path:"gestion-produits/gestion-type-risque",component:sc,canActivate:[me.k],data:{roles:["ROLE_SUPER_ADMIN","ANALYSTE"]}},{path:"gestion-produits/gestion-duree",component:Ju,canActivate:[me.k],data:{roles:["ROLE_SUPER_ADMIN","ANALYSTE"]}},{path:"gestion-produits/gestion-formule",component:ql,canActivate:[me.k],data:{roles:["ROLE_SUPER_ADMIN","ANALYSTE"]}},{path:"gestion-produits/gestion-reseaux-distribution",component:yl,canActivate:[me.k],data:{roles:["ROLE_SUPER_ADMIN","ANALYSTE"]}},{path:"gestion-produits/gestion-garanties",component:km,canActivate:[me.k],data:{roles:["ROLE_SUPER_ADMIN","ANALYSTE"]}},{path:"gestion-produits/gestion-garanties/:id/gestion-sous-garanties",component:jc,canActivate:[me.k],data:{roles:["ROLE_SUPER_ADMIN","ANALYSTE"]}},{path:"gestion-produits/gestion-pack",component:rd,canActivate:[me.k],data:{roles:["ROLE_SUPER_ADMIN","ANALYSTE"]}},{path:"gestion-produits/gestion-pack/creation-pack",component:u,canActivate:[me.k],data:{roles:["ROLE_SUPER_ADMIN","ANALYSTE"]}},{path:"gestion-vehicules",component:T0,canActivate:[me.k],data:{roles:["ROLE_SUPER_ADMIN",,"DATA","ANALYSTE"]}},{path:"gestion-vehicules/creation-vehicule",component:ux,canActivate:[me.k],data:{roles:["ROLE_SUPER_ADMIN","DATA","ANALYSTE"]}},{path:"gestion-vehicules/modifier-vehicule/:idVehicule",component:tm,canActivate:[me.k],data:{roles:["ROLE_SUPER_ADMIN","DATA","ANALYSTE"]}},{path:"gestion-vehicules/consulter-vehicule/:idVehicule",component:nm,canActivate:[me.k],data:{roles:["ROLE_SUPER_ADMIN","DATA","ANALYSTE"]}},{path:"gestion-produits/gestion-questionnaires",component:df,canActivate:[me.k],data:{roles:["ROLE_SUPER_ADMIN","ANALYSTE"]}},{path:"gestion-produits/gestion-questionnaires/:idQuestionnaire/edit-questions",component:af,canActivate:[me.k],data:{roles:["ROLE_SUPER_ADMIN","ANALYSTE"]}},{path:"gestion-produits/gestion-questionnaires/create",component:Jf,canActivate:[me.k],data:{roles:["ROLE_SUPER_ADMIN","ANALYSTE"]}},{path:"gestion-produits/gestion-produit-risque",component:t1,canActivate:[me.k],data:{roles:["ROLE_SUPER_ADMIN","ANALYSTE"]}},{path:"gestion-produits/gestion-produit-risque/create",component:oi,canActivate:[me.k],data:{roles:["ROLE_SUPER_ADMIN","ANALYSTE"]}},{path:"gestion-produits/gestion-produit-risque/:idProduitRisque/edit",component:gh,canActivate:[me.k],data:{roles:["ROLE_SUPER_ADMIN","ANALYSTE"]}},{path:"gestion-referentiels/gestion-pack",component:rd,canActivate:[me.k],data:{roles:["ROLE_SUPER_ADMIN","ANALYSTE"]}},{path:"gestion-referentiels/gestion-pack/creation-pack",component:u,canActivate:[me.k],data:{roles:["ROLE_SUPER_ADMIN","ANALYSTE"]}},{path:"gestion-referentiels/gestion-pack/modification-pack/:idPack",component:$C,canActivate:[me.k],data:{roles:["ROLE_SUPER_ADMIN","ANALYSTE"]}},{path:"gestion-referentiels/gestion-pack/:idPack/parametres",component:ls,canActivate:[me.k],data:{roles:["ROLE_SUPER_ADMIN","ANALYSTE"]}},{path:"gestion-referentiels/gestion-pack/:idPack/garanties",component:Sh,canActivate:[me.k],data:{roles:["ROLE_SUPER_ADMIN","ANALYSTE"]}},{path:"gestion-referentiels/gestion-pack/:idPack/garanties/:idGarantie/parametres",component:ls,canActivate:[me.k],data:{roles:["ROLE_SUPER_ADMIN","ANALYSTE"]}},{path:"gestion-referentiels/gestion-pack/:idPack/garanties/:idGarantie/sous-garanties",component:Mh,canActivate:[me.k],data:{roles:["ROLE_SUPER_ADMIN","ANALYSTE"]}},{path:"gestion-referentiels/gestion-pack/:idPack/garanties/:idGarantie/sous-garanties/:idSousGarantie/parametres",component:ls,canActivate:[me.k],data:{roles:["ROLE_SUPER_ADMIN","ANALYSTE"]}},{path:"gestion-user",component:I0,canActivate:[me.k],data:{roles:["ROLE_SUPER_ADMIN","ANALYSTE"]}},{path:"gestion-user/add-user",component:Wx,canActivate:[me.k],data:{roles:["ROLE_SUPER_ADMIN","ANALYSTE"]}},{path:"gestion-user/edit-user/:id",component:Yx,canActivate:[me.k],data:{roles:["ROLE_SUPER_ADMIN","ANALYSTE"]}},{path:"gestion-user",component:I0,canActivate:[me.k],data:{roles:["ROLE_SUPER_ADMIN","ANALYSTE"]}},{path:"migration-auto",component:(()=>{class p{constructor(_,S,k){this.formBuilder=_,this.contratService=S,this.router=k}ngOnInit(){this.formMigration=this.formBuilder.group({police:[null]})}submitMigration(){this.contratService.Migration(this.formMigration.get("police").value).subscribe({next:_=>{console.log("data ",_),Yo().fire(`Migration de la police ${this.formMigration.get("police").value} a \xe9t\xe9 \xe9ffectu\xe9 avec succ\xe9es`,"","success")},error:_=>{console.log(_),Yo().fire(_,"","error")}})}}return p.\u0275fac=function(_){return new(_||p)(e.Y36(w.qu),e.Y36(Gx.H),e.Y36(ee.F0))},p.\u0275cmp=e.Xpm({type:p,selectors:[["app-migration-automobile"]],decls:14,vars:1,consts:[[1,"container"],[1,"header"],[1,"title-table"],[1,"form","row",3,"formGroup","ngSubmit"],["formDirective","ngForm"],["appearance","outline",1,"col-md-5"],["type","text","matInput","","placeholder","","formControlName","police"],[1,"col-md-5","button-row"],[1,"btn","btn-action"]],template:function(_,S){1&_&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h2",2),e._uU(3,"Migration Police Automobile"),e.qZA()(),e._UZ(4,"mat-divider"),e.TgZ(5,"form",3,4),e.NdJ("ngSubmit",function(){return S.submitMigration()}),e.TgZ(7,"mat-form-field",5)(8,"mat-label"),e._uU(9,"N\xb0 Police"),e.qZA(),e._UZ(10,"input",6),e.qZA(),e.TgZ(11,"div",7)(12,"button",8),e._uU(13,"Migrer"),e.qZA()()()()),2&_&&(e.xp6(5),e.Q6J("formGroup",S.formMigration))},dependencies:[O.d,w._Y,w.Fj,w.JJ,w.JL,w.sg,w.u,J.KE,J.hX,he.Nt],styles:[".container[_ngcontent-%COMP%]{background-color:#fff;padding:40px 0;height:100%;overflow-y:auto;overflow-x:hidden}.gestion-table[_ngcontent-%COMP%]{width:100%;margin-top:2rem}.gestion-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .gestion-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:16px}.gestion-table[_ngcontent-%COMP%]   .mat-header-cell[_ngcontent-%COMP%]{color:#00008f;font-weight:600}.gestion-table[_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]:nth-child(even), .gestion-table[_ngcontent-%COMP%]   .mat-header-row[_ngcontent-%COMP%]{background-color:#f7f7f9}.gestion-table[_ngcontent-%COMP%]   .mat-paginator[_ngcontent-%COMP%]{background-color:transparent;margin:20px auto auto;width:80%}.gestion-table[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{height:100%;font-size:26px;color:#00008f;width:-moz-fit-content;width:fit-content}.form.row[_ngcontent-%COMP%]{padding:1rem}.button-row[_ngcontent-%COMP%]{display:flex;align-items:center}.button-row[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{margin-right:2rem}.mat-menu-item[_ngcontent-%COMP%]{font-size:15px}.mat-menu-item[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:18px;height:-moz-fit-content;height:fit-content}.mat-menu-item[_ngcontent-%COMP%]:hover:not([disabled]), .mat-menu-item[_ngcontent-%COMP%]:hover:not([disabled])   .mat-icon[_ngcontent-%COMP%]{color:#00008f}.header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:0px 2rem}.header[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{height:-moz-fit-content;height:fit-content;font-size:29px;margin-right:1rem;width:-moz-fit-content;width:fit-content}.title-table[_ngcontent-%COMP%]{margin-bottom:0rem;font-weight:800!important;font-size:23px!important;color:#00008f!important}"]}),p})(),canActivate:[me.k],data:{roles:["ROLE_SUPER_ADMIN","ANALYSTE","MIGRATION"]}}];let o2=(()=>{class p{}return p.\u0275fac=function(_){return new(_||p)},p.\u0275mod=e.oAB({type:p}),p.\u0275inj=e.cJS({imports:[ee.Bz.forChild(Bx),ee.Bz]}),p})(),zx=(()=>{class p{}return p.\u0275fac=function(_){return new(_||p)},p.\u0275mod=e.oAB({type:p}),p.\u0275inj=e.cJS({imports:[Se.ez,o2,h.m,Ge.q,K.I,gd.FF,J.lN,l.LD]}),p})();e.B6R(Jf,[Se.O5,O.d,Mn.Hw,Nn.VK,Nn.OP,Nn.p6,w._Y,w.Fj,w.JJ,w.JL,w.sg,w.u,J.TO,J.KE,J.hX,J.R9,he.Nt,Q.BZ,Q.fO,Q.as,Q.w1,Q.Dz,Q.nj,Q.ge,Q.ev,Q.XQ,Q.Gk,oo.gM,Le.NW,xe.xY,Ze.Mq,Ze.hl,Ze.nW,vn.lW,er.C0,er.VY,er.Vq,er.Ic,er.fd,Pd],[Se.uU])},8173:(co,wn,B)=>{"use strict";B.r(wn),B.d(wn,{AppDateAdapter:()=>pl,FeaturesModule:()=>Jl});var Se=B(6895),K=B(4092),Ge=B(2510),h=B(4650),ee=B(6338),me=B(4850),Le=B(7392),Q=B(3162),w=B(5649);let o=(()=>{class Ce{constructor(){this.pieChartOptions={responsive:!1},this.pieChartLabels=["Voyage","Sant\xe9","Auto","Entreprises et professionnels","Habitation","Pr\xe9voyance"],this.pieChartDatasets=[{data:[300,500,100,300,500,100],backgroundColor:["#183b66","#6a4a86","#b9538a","#f66a73","#ff9c4f","#ffdb38"]}],this.pieChartLegend=!0,this.pieChartPlugins=[],this.barChartLegend=!0,this.barChartPlugins=[],this.barChartData={labels:["2006"],datasets:[{data:[65],label:"Sinistres en cours"},{data:[28],label:"Sinistres r\xe9gl\xe9s"},{data:[28],label:"Sinistres "}]},this.barChartOptions={responsive:!1,maintainAspectRatio:!1},this.valueEnCours=40,this.valueRegle=20,this.valueOuvert=50}ngOnInit(){}}return Ce.\u0275fac=function(Pe){return new(Pe||Ce)},Ce.\u0275cmp=h.Xpm({type:Ce,selectors:[["ng-component"]],decls:236,vars:12,consts:[[1,"container-fluid"],[1,"row","general-numbers"],[1,"col-md-2","card"],[1,"row"],[1,"col-md-8"],[1,"number"],[1,"col-md-4","col-img"],["src","../../../assets/img/icons/clients.png","width","100%"],["src","../../../assets/img/icons/budget.png","width","100%"],["src","../../../assets/img/icons/contract.png","width","100%"],["src","../../../assets/img/icons/deadline.png","width","100%"],[1,"row","products-numbers"],[1,"col-md-5","card"],["baseChart","","height","350","width","350",3,"type","datasets","labels","options","plugins","legend"],[1,"row","progress"],[1,"value-bar"],["mode","determinate",3,"value"],[1,"row","products-details"],[1,"voyage"],[1,"icon-title"],["matListItemIcon",""],["matListItemTitle",""],["matListItemLine",""],[1,"sante"],[1,"auto"],[1,"entreprises"],[1,"habitation"],[1,"prevoyance"]],template:function(Pe,_t){1&Pe&&(h.TgZ(0,"div",0)(1,"h1"),h._uU(2,"Dashboard"),h.qZA(),h.TgZ(3,"div",1)(4,"div",2)(5,"div",3)(6,"div",4)(7,"h2"),h._uU(8,"Clients"),h.qZA(),h.TgZ(9,"span",5),h._uU(10,"1 000 "),h.qZA()(),h.TgZ(11,"div",6),h._UZ(12,"img",7),h.qZA()()(),h.TgZ(13,"div",2)(14,"div",3)(15,"div",4)(16,"h2"),h._uU(17,"Devis"),h.qZA(),h.TgZ(18,"span",5),h._uU(19,"1 500 "),h.qZA()(),h.TgZ(20,"div",6),h._UZ(21,"img",8),h.qZA()()(),h.TgZ(22,"div",2)(23,"div",3)(24,"div",4)(25,"h2"),h._uU(26,"Contrat"),h.qZA(),h.TgZ(27,"span",5),h._uU(28,"950 "),h.qZA()(),h.TgZ(29,"div",6),h._UZ(30,"img",9),h.qZA()()(),h.TgZ(31,"div",2)(32,"div",3)(33,"div",4)(34,"h2"),h._uU(35,"Contrats arriv\xe9s \xe0 \xe9cheances"),h.qZA(),h.TgZ(36,"span",5),h._uU(37,"50 "),h.qZA()(),h.TgZ(38,"div",6),h._UZ(39,"img",10),h.qZA()()()(),h.TgZ(40,"div",11)(41,"div",12),h._UZ(42,"canvas",13),h.qZA(),h.TgZ(43,"div",12)(44,"h2"),h._uU(45,"Sinistres"),h.qZA(),h.TgZ(46,"div",14)(47,"span"),h._uU(48,"Sinistres ouverts"),h.qZA(),h.TgZ(49,"div",15),h._UZ(50,"mat-progress-bar",16),h.TgZ(51,"span"),h._uU(52),h.qZA()()(),h.TgZ(53,"div",14)(54,"span"),h._uU(55,"Sinistres en cours "),h.qZA(),h.TgZ(56,"div",15),h._UZ(57,"mat-progress-bar",16),h.TgZ(58,"span"),h._uU(59),h.qZA()()(),h.TgZ(60,"div",14)(61,"span"),h._uU(62,"Sinistres r\xe9gl\xe9s"),h.qZA(),h.TgZ(63,"div",15),h._UZ(64,"mat-progress-bar",16),h.TgZ(65,"span"),h._uU(66),h.qZA()()()()(),h.TgZ(67,"div",17)(68,"div",12)(69,"h2"),h._uU(70,"Contrats Accidents individuels"),h.qZA(),h.TgZ(71,"mat-list",18)(72,"mat-list-item")(73,"div",19)(74,"mat-icon",20),h._uU(75,"travel_explore"),h.qZA(),h.TgZ(76,"div",21),h._uU(77,"Voyage"),h.qZA()(),h.TgZ(78,"div",22),h._uU(79,"20%"),h.qZA(),h._UZ(80,"mat-divider"),h.qZA(),h.TgZ(81,"mat-list-item")(82,"div",19)(83,"mat-icon",20),h._uU(84,"travel_explore"),h.qZA(),h.TgZ(85,"div",21),h._uU(86,"GAV"),h.qZA()(),h.TgZ(87,"div",22),h._uU(88,"40%"),h.qZA(),h._UZ(89,"mat-divider"),h.qZA()()(),h.TgZ(90,"div",12)(91,"h2"),h._uU(92,"Contrats Sant\xe9"),h.qZA(),h.TgZ(93,"mat-list",23)(94,"mat-list-item")(95,"div",19)(96,"mat-icon",20),h._uU(97,"personal_injury"),h.qZA(),h.TgZ(98,"div",21),h._uU(99,"Sant\xe9 individuelle"),h.qZA()(),h.TgZ(100,"div",22),h._uU(101,"40%"),h.qZA(),h._UZ(102,"mat-divider"),h.qZA(),h.TgZ(103,"mat-list-item")(104,"div",19)(105,"mat-icon",20),h._uU(106,"personal_injury"),h.qZA(),h.TgZ(107,"div",21),h._uU(108,"Sant\xe9 collective"),h.qZA()(),h.TgZ(109,"div",22),h._uU(110,"40%"),h.qZA(),h._UZ(111,"mat-divider"),h.qZA()()(),h.TgZ(112,"div",12)(113,"h2"),h._uU(114,"Contrats Auto"),h.qZA(),h.TgZ(115,"mat-list",24)(116,"mat-list-item")(117,"div",19)(118,"mat-icon",20),h._uU(119,"directions_car"),h.qZA(),h.TgZ(120,"div",21),h._uU(121,"Auto Mono"),h.qZA()(),h.TgZ(122,"div",22),h._uU(123,"40%"),h.qZA(),h._UZ(124,"mat-divider"),h.qZA(),h.TgZ(125,"mat-list-item")(126,"div",19)(127,"mat-icon",20),h._uU(128,"directions_car"),h.qZA(),h.TgZ(129,"div",21),h._uU(130,"Auto flotte"),h.qZA()(),h.TgZ(131,"div",22),h._uU(132,"40%"),h.qZA(),h._UZ(133,"mat-divider"),h.qZA(),h.TgZ(134,"mat-list-item")(135,"div",19)(136,"mat-icon",20),h._uU(137,"directions_car"),h.qZA(),h.TgZ(138,"div",21),h._uU(139,"Auto leasing"),h.qZA()(),h.TgZ(140,"div",22),h._uU(141,"40%"),h.qZA(),h._UZ(142,"mat-divider"),h.qZA()()(),h.TgZ(143,"div",12)(144,"h2"),h._uU(145,"Contrats entreprises et professionnels "),h.qZA(),h.TgZ(146,"mat-list",25)(147,"mat-list-item")(148,"div",19)(149,"mat-icon",20),h._uU(150,"local_fire_department"),h.qZA(),h.TgZ(151,"div",21),h._uU(152,"Incendie"),h.qZA()(),h.TgZ(153,"div",22),h._uU(154,"40%"),h.qZA(),h._UZ(155,"mat-divider"),h.qZA(),h.TgZ(156,"mat-list-item")(157,"div",19)(158,"mat-icon",20),h._uU(159,"engineering"),h.qZA(),h.TgZ(160,"div",21),h._uU(161,"Engineering"),h.qZA()(),h.TgZ(162,"div",22),h._uU(163,"40%"),h.qZA(),h._UZ(164,"mat-divider"),h.qZA(),h.TgZ(165,"mat-list-item")(166,"div",19)(167,"mat-icon",20),h._uU(168,"directions_car"),h.qZA(),h.TgZ(169,"div",21),h._uU(170,"Transport"),h.qZA()(),h.TgZ(171,"div",22),h._uU(172,"40%"),h.qZA(),h._UZ(173,"mat-divider"),h.qZA(),h.TgZ(174,"mat-list-item")(175,"div",19)(176,"mat-icon",20),h._uU(177,"store"),h.qZA(),h.TgZ(178,"div",21),h._uU(179,"MRP"),h.qZA()(),h.TgZ(180,"div",22),h._uU(181,"40%"),h.qZA(),h._UZ(182,"mat-divider"),h.qZA()()(),h.TgZ(183,"div",12)(184,"h2"),h._uU(185,"Contrats habitation"),h.qZA(),h.TgZ(186,"mat-list",26)(187,"mat-list-item")(188,"div",19)(189,"mat-icon",20),h._uU(190,"real_estate_agent"),h.qZA(),h.TgZ(191,"div",21),h._uU(192,"MRH"),h.qZA()(),h.TgZ(193,"div",22),h._uU(194,"40%"),h.qZA(),h._UZ(195,"mat-divider"),h.qZA(),h.TgZ(196,"mat-list-item")(197,"div",19)(198,"mat-icon",20),h._uU(199,"flood"),h.qZA(),h.TgZ(200,"div",21),h._uU(201,"CATNAT"),h.qZA()(),h.TgZ(202,"div",22),h._uU(203,"40%"),h.qZA(),h._UZ(204,"mat-divider"),h.qZA()()(),h.TgZ(205,"div",12)(206,"h2"),h._uU(207,"Contrats Pr\xe9voyance"),h.qZA(),h.TgZ(208,"mat-list",27)(209,"mat-list-item")(210,"div",19)(211,"mat-icon",20),h._uU(212,"account_balance"),h.qZA(),h.TgZ(213,"div",21),h._uU(214,"DC entreprise"),h.qZA()(),h.TgZ(215,"div",22),h._uU(216,"40%"),h.qZA(),h._UZ(217,"mat-divider"),h.qZA(),h.TgZ(218,"mat-list-item")(219,"div",19)(220,"mat-icon",20),h._uU(221,"account_balance"),h.qZA(),h.TgZ(222,"div",21),h._uU(223,"Prevoyance Individuelle"),h.qZA()(),h.TgZ(224,"div",22),h._uU(225,"40%"),h.qZA(),h._UZ(226,"mat-divider"),h.qZA(),h.TgZ(227,"mat-list-item")(228,"div",19)(229,"mat-icon",20),h._uU(230,"account_balance"),h.qZA(),h.TgZ(231,"div",21),h._uU(232,"Prevoyance Collective"),h.qZA()(),h.TgZ(233,"div",22),h._uU(234,"40%"),h.qZA(),h._UZ(235,"mat-divider"),h.qZA()()()()()),2&Pe&&(h.xp6(42),h.Q6J("type","pie")("datasets",_t.pieChartDatasets)("labels",_t.pieChartLabels)("options",_t.pieChartOptions)("plugins",_t.pieChartPlugins)("legend",_t.pieChartLegend),h.xp6(8),h.Q6J("value",_t.valueOuvert),h.xp6(2),h.hij("",_t.valueOuvert,"%"),h.xp6(5),h.Q6J("value",_t.valueEnCours),h.xp6(2),h.hij("",_t.valueEnCours,"%"),h.xp6(5),h.Q6J("value",_t.valueRegle),h.xp6(2),h.hij("",_t.valueRegle,"%"))},dependencies:[ee.i$,ee.Tg,me.d,Le.Hw,Q.pW,w.jh],styles:[".row.numbers[_ngcontent-%COMP%]{justify-content:center}.card[_ngcontent-%COMP%]{background:white;border-radius:1rem;padding:1rem 2rem;display:flex;flex-direction:column;margin-left:3rem;transition:box-shadow .3s ease-in-out}.card[_ngcontent-%COMP%]:hover{box-shadow:0 .5rem 1rem #00000026!important}.row.general-numbers[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#606060;line-height:26px!important}.row.general-numbers[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .number[_ngcontent-%COMP%]{font-size:21px;font-weight:700}.col-img[_ngcontent-%COMP%]{display:flex;align-items:center}.row.products-details[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-weight:600!important}.row.products-details[_ngcontent-%COMP%]{margin-top:3rem}.products-details[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%], .products-numbers[_ngcontent-%COMP%]{margin-top:1rem}.voyage[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{color:#183b66}.sante[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{color:#6a4a86}.auto[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{color:#b9538a}.entreprises[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{color:#f66a73}.habitation[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{color:#ff9c4f}.prevoyance[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{color:#ffdb38}.products-details[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:20px;margin-right:10px}  .mat-list-item-content{justify-content:space-between}.mat-list-item[_ngcontent-%COMP%]   .icon-title[_ngcontent-%COMP%]{display:flex}.row.progress[_ngcontent-%COMP%]{margin-top:2rem}.row.progress[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:15px;font-weight:600}.value-bar[_ngcontent-%COMP%]{display:flex;align-items:center}.value-bar[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-left:2rem}  .mat-progress-bar-fill:after{background-color:#00008f}  .mat-progress-bar-buffer{background:#E4E8EB}@media (min-width: 768px){.col-md-2[_ngcontent-%COMP%]{flex:0 0 auto;width:20.666667%}}"]}),Ce})();var e=B(9523),xe=B(8739),n=B(6308),i=B(7155),Z=B(7179),O=B(8255),J=B(4859),he=B(4803);function Ze(Ce,mt){1&Ce&&(h.TgZ(0,"th",18),h._uU(1," N\xb0. police "),h.qZA())}function l(Ce,mt){if(1&Ce&&(h.TgZ(0,"td",19),h._uU(1),h.qZA()),2&Ce){const Pe=mt.$implicit;h.xp6(1),h.hij(" ",Pe.id," ")}}function t(Ce,mt){1&Ce&&(h.TgZ(0,"th",18),h._uU(1," Produit "),h.qZA())}function Ft(Ce,mt){if(1&Ce&&(h.TgZ(0,"td",19),h._uU(1),h.qZA()),2&Ce){const Pe=mt.$implicit;h.xp6(1),h.hij(" ",Pe.descriptionProduit," ")}}function ln(Ce,mt){1&Ce&&(h.TgZ(0,"th",18),h._uU(1,"Sous produit"),h.qZA())}function ut(Ce,mt){if(1&Ce&&(h.TgZ(0,"td",19),h._uU(1),h.qZA()),2&Ce){const Pe=mt.$implicit;h.xp6(1),h.hij(" ",Pe.descriptionSousProduit," ")}}function ot(Ce,mt){1&Ce&&(h.TgZ(0,"th",18),h._uU(1," Mouvemant "),h.qZA())}function tt(Ce,mt){if(1&Ce&&(h.TgZ(0,"td",19),h._uU(1),h.qZA()),2&Ce){const Pe=mt.$implicit;h.xp6(1),h.hij(" ",Pe.mouvement," ")}}function Zt(Ce,mt){1&Ce&&(h.TgZ(0,"th",18),h._uU(1," Date d\xe9but "),h.qZA())}function nn(Ce,mt){if(1&Ce&&(h.TgZ(0,"td",19),h._uU(1),h.ALo(2,"dateFormatPipe"),h.qZA()),2&Ce){const Pe=mt.$implicit;h.xp6(1),h.hij(" ",h.lcZ(2,1,Pe.dateDebut)," ")}}function _n(Ce,mt){1&Ce&&(h.TgZ(0,"th",18),h._uU(1," Date fin "),h.qZA())}function xn(Ce,mt){if(1&Ce&&(h.TgZ(0,"td",19),h._uU(1),h.ALo(2,"dateFormatPipe"),h.qZA()),2&Ce){const Pe=mt.$implicit;h.xp6(1),h.hij(" ",h.lcZ(2,1,Pe.dateFin)," ")}}function mn(Ce,mt){1&Ce&&(h.TgZ(0,"th",18),h._uU(1," Action "),h.qZA())}function Ri(Ce,mt){if(1&Ce){const Pe=h.EpF();h.TgZ(0,"td",19)(1,"button",20)(2,"mat-icon"),h._uU(3,"more_vert"),h.qZA()(),h.TgZ(4,"mat-menu",21,22)(6,"button",23),h.NdJ("click",function(){const rn=h.CHM(Pe).$implicit,eo=h.oxw();return h.KtG(eo.consultContrat(rn.id))}),h.TgZ(7,"mat-icon"),h._uU(8,"zoom_in"),h.qZA(),h.TgZ(9,"span"),h._uU(10,"Consulter"),h.qZA()(),h.TgZ(11,"button",23),h.NdJ("click",function(){const rn=h.CHM(Pe).$implicit,eo=h.oxw();return h.KtG(eo.addSite(rn.id))}),h.TgZ(12,"mat-icon"),h._uU(13,"zoom_in"),h.qZA(),h.TgZ(14,"span"),h._uU(15,"Ajouter"),h.qZA()()()()}if(2&Ce){const Pe=h.MAs(5);h.xp6(1),h.Q6J("matMenuTriggerFor",Pe)}}function Xn(Ce,mt){1&Ce&&h._UZ(0,"tr",24)}function Mt(Ce,mt){1&Ce&&h._UZ(0,"tr",25)}function Lt(Ce,mt){if(1&Ce){const Pe=h.EpF();h.TgZ(0,"mat-paginator",26),h.NdJ("page",function(yt){h.CHM(Pe);const rn=h.oxw();return h.KtG(rn.onPageChange(yt))}),h.qZA()}if(2&Ce){const Pe=h.oxw();h.Q6J("length",Pe.personneTable.totalElements)("pageSize",10)}}let xt=(()=>{class Ce{constructor(Pe,_t,yt){this.route=Pe,this.router=_t,this.contratService=yt,this.displayedColumns=["idContrat","produit","sousProduit","mouvemant","dateDebut","dateFin","action"],this.dataSource=new i.by}ngOnInit(){this.getContrats(0,10)}onPageChange(Pe){this.getContrats(Pe.pageIndex,Pe.pageSize)}paginate(){this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort}getContrats(Pe,_t){this.contratService.getAllContratsCommercialLine(Pe,_t).subscribe({next:yt=>{this.personneTable=yt,this.dataSource=new i.by(yt.content),this.paginator&&(this.paginator.length=yt.totalElements),this.paginate()},error:yt=>{console.log(yt)}})}redirectToCreation(){this.router.navigate(["gestion-commercial-line/creation-commercial-line"])}consultContrat(Pe){this.router.navigate(["gestion-commercial-line/"+Pe])}addSite(Pe){this.router.navigate(["gestion-commercial-line/create-site-police/"+Pe])}}return Ce.\u0275fac=function(Pe){return new(Pe||Ce)(h.Y36(Ge.gz),h.Y36(Ge.F0),h.Y36(Z.H))},Ce.\u0275cmp=h.Xpm({type:Ce,selectors:[["app-product-commercial-line"]],viewQuery:function(Pe,_t){if(1&Pe&&(h.Gf(xe.NW,7),h.Gf(n.YE,5)),2&Pe){let yt;h.iGM(yt=h.CRH())&&(_t.paginator=yt.first),h.iGM(yt=h.CRH())&&(_t.sort=yt.first)}},decls:33,vars:4,consts:[[1,"container"],[1,"header"],[1,"title-table"],[1,"btn","btn-secondary",2,"display","flex","align-items","center",3,"click"],["aria-hidden","false","aria-label","ajouter pack ",1,"material-symbols-outlined"],["mat-table","",1,"gestion-table",3,"dataSource"],["matColumnDef","idContrat"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","produit"],["matColumnDef","sousProduit"],["matColumnDef","mouvemant"],["matColumnDef","dateDebut"],["matColumnDef","dateFin"],["matColumnDef","action"],["mat-header-row","","class","example-second-header-row",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"length","pageSize","page",4,"ngIf"],["mat-header-cell",""],["mat-cell",""],["mat-icon-button","","type","button","aria-label","menu devis list",3,"matMenuTriggerFor"],["xPosition","after",1,"menu-devis"],["menu","matMenu"],["mat-menu-item","","type","button",3,"click"],["mat-header-row","",1,"example-second-header-row"],["mat-row",""],[3,"length","pageSize","page"]],template:function(Pe,_t){1&Pe&&(h.TgZ(0,"div",0)(1,"div",1)(2,"h2",2),h._uU(3,"Listes des contrats commercial"),h.qZA(),h.TgZ(4,"button",3),h.NdJ("click",function(){return _t.redirectToCreation()}),h.TgZ(5,"mat-icon",4),h._uU(6,"add_circle"),h.qZA(),h._uU(7," Soumettre un contrat "),h.qZA()(),h.TgZ(8,"table",5),h.ynx(9,6),h.YNc(10,Ze,2,0,"th",7),h.YNc(11,l,2,1,"td",8),h.BQk(),h.ynx(12,9),h.YNc(13,t,2,0,"th",7),h.YNc(14,Ft,2,1,"td",8),h.BQk(),h.ynx(15,10),h.YNc(16,ln,2,0,"th",7),h.YNc(17,ut,2,1,"td",8),h.BQk(),h.ynx(18,11),h.YNc(19,ot,2,0,"th",7),h.YNc(20,tt,2,1,"td",8),h.BQk(),h.ynx(21,12),h.YNc(22,Zt,2,0,"th",7),h.YNc(23,nn,3,3,"td",8),h.BQk(),h.ynx(24,13),h.YNc(25,_n,2,0,"th",7),h.YNc(26,xn,3,3,"td",8),h.BQk(),h.ynx(27,14),h.YNc(28,mn,2,0,"th",7),h.YNc(29,Ri,16,1,"td",8),h.BQk(),h.YNc(30,Xn,1,0,"tr",15),h.YNc(31,Mt,1,0,"tr",16),h.qZA(),h.YNc(32,Lt,1,2,"mat-paginator",17),h.qZA()),2&Pe&&(h.xp6(8),h.Q6J("dataSource",_t.dataSource),h.xp6(22),h.Q6J("matHeaderRowDef",_t.displayedColumns),h.xp6(1),h.Q6J("matRowDefColumns",_t.displayedColumns),h.xp6(1),h.Q6J("ngIf",0!=_t.dataSource.data.length))},dependencies:[Le.Hw,O.VK,O.OP,O.p6,i.BZ,i.fO,i.as,i.w1,i.Dz,i.nj,i.ge,i.ev,i.XQ,i.Gk,xe.NW,J.lW,Se.O5,he.y],styles:[".container[_ngcontent-%COMP%]{background-color:#fff;padding:40px 0;height:100%;overflow-y:auto;overflow-x:hidden}.gestion-table[_ngcontent-%COMP%]{width:100%}.gestion-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .gestion-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:16px}.gestion-table[_ngcontent-%COMP%]   .mat-header-cell[_ngcontent-%COMP%]{color:#00008f;font-weight:600}.gestion-table[_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]:nth-child(even), .gestion-table[_ngcontent-%COMP%]   .mat-header-row[_ngcontent-%COMP%]{background-color:#f7f7f9}.gestion-table[_ngcontent-%COMP%]   .mat-paginator[_ngcontent-%COMP%]{background-color:transparent;margin:20px auto auto;width:80%}.gestion-table[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{height:100%;font-size:26px;color:#00008f;width:-moz-fit-content;width:fit-content}.mat-menu-item[_ngcontent-%COMP%]{font-size:15px}.mat-menu-item[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:18px;height:-moz-fit-content;height:fit-content}.mat-menu-item[_ngcontent-%COMP%]:hover:not([disabled]), .mat-menu-item[_ngcontent-%COMP%]:hover:not([disabled])   .mat-icon[_ngcontent-%COMP%]{color:#00008f}.header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:0px 2rem}.header[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{height:-moz-fit-content;height:fit-content;font-size:29px;margin-right:1rem;width:-moz-fit-content;width:fit-content}.title-table[_ngcontent-%COMP%]{margin-bottom:0rem;font-weight:800!important;font-size:23px!important;color:#00008f!important}"]}),Ce})();var ht=B(4006),Yn=B(5226),Jn=B.n(Yn),pi=B(5120),Qn=B(3776),Kn=B(6944),xi=B(9549),tn=B(284),Kt=B(9602),hi=B(4385),$i=B(3238);function Sn(Ce,mt){if(1&Ce&&(h.ynx(0),h.TgZ(1,"mat-option",37),h._uU(2),h.qZA(),h.BQk()),2&Ce){const Pe=mt.$implicit;h.xp6(1),h.Q6J("value",Pe.idParam),h.xp6(1),h.hij(" ",Pe.description," ")}}function vt(Ce,mt){1&Ce&&(h.TgZ(0,"div"),h._uU(1," ce champs est obligatoire"),h.qZA())}function $e(Ce,mt){if(1&Ce&&(h.TgZ(0,"mat-error",38),h.YNc(1,vt,2,0,"div",39),h.qZA()),2&Ce){const Pe=h.oxw(2);h.xp6(1),h.Q6J("ngIf",Pe.formCreation.controls.produit.errors.required)}}function bn(Ce,mt){if(1&Ce&&(h.ynx(0),h.TgZ(1,"mat-option",37),h._uU(2),h.qZA(),h.BQk()),2&Ce){const Pe=mt.$implicit;h.xp6(1),h.Q6J("value",Pe.idParam),h.xp6(1),h.hij(" ",Pe.description," ")}}function Vt(Ce,mt){1&Ce&&(h.TgZ(0,"div"),h._uU(1," ce champs est obligatoire"),h.qZA())}function Gn(Ce,mt){if(1&Ce&&(h.TgZ(0,"mat-error",38),h.YNc(1,Vt,2,0,"div",39),h.qZA()),2&Ce){const Pe=h.oxw(2);h.xp6(1),h.Q6J("ngIf",Pe.formCreation.controls.SousProduit.errors.required)}}function ei(Ce,mt){1&Ce&&(h.TgZ(0,"div"),h._uU(1," ce champs est obligatoire"),h.qZA())}function vi(Ce,mt){if(1&Ce&&(h.TgZ(0,"mat-error",38),h.YNc(1,ei,2,0,"div",39),h.qZA()),2&Ce){const Pe=h.oxw(2);h.xp6(1),h.Q6J("ngIf",Pe.formCreation.controls.numPolice.errors.required)}}function uo(Ce,mt){1&Ce&&(h.TgZ(0,"div"),h._uU(1," ce champs est obligatoire"),h.qZA())}function bo(Ce,mt){if(1&Ce&&(h.TgZ(0,"mat-error",38),h.YNc(1,uo,2,0,"div",39),h.qZA()),2&Ce){const Pe=h.oxw(2);h.xp6(1),h.Q6J("ngIf",Pe.formCreation.controls.numQuittance.errors.required)}}function oe(Ce,mt){1&Ce&&(h.TgZ(0,"div"),h._uU(1," ce champs est obligatoire"),h.qZA())}function pn(Ce,mt){if(1&Ce&&(h.TgZ(0,"mat-error",38),h.YNc(1,oe,2,0,"div",39),h.qZA()),2&Ce){const Pe=h.oxw(2);h.xp6(1),h.Q6J("ngIf",Pe.formCreation.controls.nomClient.errors.required)}}function Zi(Ce,mt){1&Ce&&(h.TgZ(0,"div"),h._uU(1," ce champs est obligatoire"),h.qZA())}function Ai(Ce,mt){if(1&Ce&&(h.TgZ(0,"mat-error",38),h.YNc(1,Zi,2,0,"div",39),h.qZA()),2&Ce){const Pe=h.oxw(2);h.xp6(1),h.Q6J("ngIf",Pe.formCreation.controls.primeTotale.errors.required)}}function Di(Ce,mt){1&Ce&&(h.TgZ(0,"div"),h._uU(1," ce champs est obligatoire"),h.qZA())}function Mn(Ce,mt){if(1&Ce&&(h.TgZ(0,"mat-error",38),h.YNc(1,Di,2,0,"div",39),h.qZA()),2&Ce){const Pe=h.oxw(2);h.xp6(1),h.Q6J("ngIf",Pe.formCreation.controls.primeNette.errors.required)}}function Nn(Ce,mt){1&Ce&&(h.TgZ(0,"div"),h._uU(1," ce champs est obligatoire"),h.qZA())}function vn(Ce,mt){if(1&Ce&&(h.TgZ(0,"mat-error",38),h.YNc(1,Nn,2,0,"div",39),h.qZA()),2&Ce){const Pe=h.oxw(2);h.xp6(1),h.Q6J("ngIf",Pe.formCreation.controls.coutPolice.errors.required)}}function Et(Ce,mt){1&Ce&&(h.TgZ(0,"div"),h._uU(1," ce champs est obligatoire"),h.qZA())}function mo(Ce,mt){if(1&Ce&&(h.TgZ(0,"mat-error",38),h.YNc(1,Et,2,0,"div",39),h.qZA()),2&Ce){const Pe=h.oxw(2);h.xp6(1),h.Q6J("ngIf",Pe.formCreation.controls.tva.errors.required)}}function mr(Ce,mt){1&Ce&&(h.TgZ(0,"div"),h._uU(1," ce champs est obligatoire"),h.qZA())}function zr(Ce,mt){if(1&Ce&&(h.TgZ(0,"mat-error",38),h.YNc(1,mr,2,0,"div",39),h.qZA()),2&Ce){const Pe=h.oxw(2);h.xp6(1),h.Q6J("ngIf",Pe.formCreation.controls.timbreDimension.errors.required)}}function Eo(Ce,mt){1&Ce&&(h.TgZ(0,"div"),h._uU(1," ce champs est obligatoire"),h.qZA())}function ra(Ce,mt){if(1&Ce&&(h.TgZ(0,"mat-error",38),h.YNc(1,Eo,2,0,"div",39),h.qZA()),2&Ce){const Pe=h.oxw(2);h.xp6(1),h.Q6J("ngIf",Pe.formCreation.controls.dateDebut.errors.required)}}function aa(Ce,mt){1&Ce&&(h.TgZ(0,"div"),h._uU(1," ce champs est obligatoire"),h.qZA())}function Ba(Ce,mt){if(1&Ce&&(h.TgZ(0,"mat-error",38),h.YNc(1,aa,2,0,"div",39),h.qZA()),2&Ce){const Pe=h.oxw(2);h.xp6(1),h.Q6J("ngIf",Pe.formCreation.controls.dateFin.errors.required)}}function za(Ce,mt){1&Ce&&(h.TgZ(0,"div"),h._uU(1," ce champs est obligatoire"),h.qZA())}function Aa(Ce,mt){if(1&Ce&&(h.TgZ(0,"mat-error",38),h.YNc(1,za,2,0,"div",39),h.qZA()),2&Ce){const Pe=h.oxw(2);h.xp6(1),h.Q6J("ngIf",Pe.formCreation.controls.mouvement.errors.required)}}function Ks(Ce,mt){1&Ce&&(h.TgZ(0,"div"),h._uU(1," ce champs est obligatoire"),h.qZA())}function ds(Ce,mt){if(1&Ce&&(h.TgZ(0,"mat-error",38),h.YNc(1,Ks,2,0,"div",39),h.qZA()),2&Ce){const Pe=h.oxw(2);h.xp6(1),h.Q6J("ngIf",Pe.formCreation.controls.dateOperation.errors.required)}}function _s(Ce,mt){if(1&Ce&&(h.ynx(0),h.TgZ(1,"mat-option",37),h._uU(2),h.qZA(),h.BQk()),2&Ce){const Pe=mt.$implicit;h.xp6(1),h.Q6J("value",Pe.idAgence),h.xp6(1),h.hij(" ",Pe.nomAgence," ")}}function Ta(Ce,mt){1&Ce&&(h.TgZ(0,"div"),h._uU(1," ce champs est obligatoire"),h.qZA())}function sa(Ce,mt){if(1&Ce&&(h.TgZ(0,"mat-error",38),h.YNc(1,Ta,2,0,"div",39),h.qZA()),2&Ce){const Pe=h.oxw(2);h.xp6(1),h.Q6J("ngIf",Pe.formCreation.controls.agence.errors.required)}}function Ws(Ce,mt){1&Ce&&(h.TgZ(0,"div"),h._uU(1," ce champs est obligatoire"),h.qZA())}function Xs(Ce,mt){if(1&Ce&&(h.TgZ(0,"mat-error",38),h.YNc(1,Ws,2,0,"div",39),h.qZA()),2&Ce){const Pe=h.oxw(2);h.xp6(1),h.Q6J("ngIf",Pe.formCreation.controls.capital.errors.required)}}function dr(Ce,mt){1&Ce&&(h.TgZ(0,"div"),h._uU(1," ce champs est obligatoire"),h.qZA())}function Va(Ce,mt){if(1&Ce&&(h.TgZ(0,"mat-error",38),h.YNc(1,dr,2,0,"div",39),h.qZA()),2&Ce){const Pe=h.oxw(2);h.xp6(1),h.Q6J("ngIf",Pe.formCreation.controls.limite.errors.required)}}function ps(Ce,mt){1&Ce&&(h.TgZ(0,"div"),h._uU(1," ce champs est obligatoire"),h.qZA())}function fs(Ce,mt){if(1&Ce&&(h.TgZ(0,"mat-error",38),h.YNc(1,ps,2,0,"div",39),h.qZA()),2&Ce){const Pe=h.oxw(2);h.xp6(1),h.Q6J("ngIf",Pe.formCreation.controls.limiteRc.errors.required)}}function Ra(Ce,mt){if(1&Ce&&(h.ynx(0),h.TgZ(1,"mat-option",37),h._uU(2),h.qZA(),h.BQk()),2&Ce){const Pe=mt.$implicit;h.xp6(1),h.Q6J("value",Pe.idParam),h.xp6(1),h.hij(" ",Pe.description," ")}}function gs(Ce,mt){1&Ce&&(h.TgZ(0,"div"),h._uU(1," ce champs est obligatoire"),h.qZA())}function ja(Ce,mt){if(1&Ce&&(h.TgZ(0,"mat-error",38),h.YNc(1,gs,2,0,"div",39),h.qZA()),2&Ce){const Pe=h.oxw(2);h.xp6(1),h.Q6J("ngIf",Pe.formCreation.controls.canal.errors.required)}}function el(Ce,mt){1&Ce&&(h.TgZ(0,"div"),h._uU(1," ce champs est obligatoire"),h.qZA())}function la(Ce,mt){if(1&Ce&&(h.TgZ(0,"mat-error",38),h.YNc(1,el,2,0,"div",39),h.qZA()),2&Ce){const Pe=h.oxw(2);h.xp6(1),h.Q6J("ngIf",Pe.formCreation.controls.nbSite.errors.required)}}const hs=function(){return[".."]};function Cs(Ce,mt){if(1&Ce){const Pe=h.EpF();h.TgZ(0,"form",4,5),h.NdJ("ngSubmit",function(){h.CHM(Pe);const yt=h.MAs(1),rn=h.oxw();return h.KtG(rn.submitProduct(yt))}),h.TgZ(2,"div",6)(3,"mat-form-field",7)(4,"mat-label"),h._uU(5,"Produit"),h.qZA(),h.TgZ(6,"mat-select",8),h.NdJ("selectionChange",function(yt){h.CHM(Pe);const rn=h.oxw();return h.KtG(rn.getRelation(yt.value))}),h.YNc(7,Sn,3,2,"ng-container",9),h.qZA(),h.YNc(8,$e,2,1,"mat-error",10),h.qZA(),h.TgZ(9,"mat-form-field",7)(10,"mat-label"),h._uU(11,"Sous produit"),h.qZA(),h.TgZ(12,"mat-select",11),h.YNc(13,bn,3,2,"ng-container",9),h.qZA(),h.YNc(14,Gn,2,1,"mat-error",10),h.qZA()(),h.TgZ(15,"div",6)(16,"mat-form-field",7)(17,"mat-label"),h._uU(18,"N\xb0 police"),h.qZA(),h._UZ(19,"input",12),h.YNc(20,vi,2,1,"mat-error",10),h.qZA(),h.TgZ(21,"mat-form-field",7)(22,"mat-label"),h._uU(23,"N\xb0 quittance"),h.qZA(),h._UZ(24,"input",13),h.YNc(25,bo,2,1,"mat-error",10),h.qZA()(),h.TgZ(26,"div",6)(27,"mat-form-field",7)(28,"mat-label"),h._uU(29,"Nom client "),h.qZA(),h._UZ(30,"input",14),h.YNc(31,pn,2,1,"mat-error",10),h.qZA()(),h.TgZ(32,"div",6)(33,"mat-form-field",7)(34,"mat-label"),h._uU(35,"Prime totale"),h.qZA(),h._UZ(36,"input",15),h.YNc(37,Ai,2,1,"mat-error",10),h.qZA(),h.TgZ(38,"mat-form-field",7)(39,"mat-label"),h._uU(40,"Prime nette"),h.qZA(),h._UZ(41,"input",16),h.YNc(42,Mn,2,1,"mat-error",10),h.qZA()(),h.TgZ(43,"div",6)(44,"mat-form-field",7)(45,"mat-label"),h._uU(46,"Cout de police"),h.qZA(),h._UZ(47,"input",17),h.YNc(48,vn,2,1,"mat-error",10),h.qZA(),h.TgZ(49,"mat-form-field",7)(50,"mat-label"),h._uU(51,"TVA"),h.qZA(),h._UZ(52,"input",18),h.YNc(53,mo,2,1,"mat-error",10),h.qZA()(),h.TgZ(54,"div",6)(55,"mat-form-field",7)(56,"mat-label"),h._uU(57,"Timbre dimension"),h.qZA(),h._UZ(58,"input",19),h.YNc(59,zr,2,1,"mat-error",10),h.qZA()(),h.TgZ(60,"div",6)(61,"mat-form-field",7)(62,"mat-label"),h._uU(63,"Date d\xe9but"),h.qZA(),h.TgZ(64,"input",20),h.NdJ("dateChange",function(yt){h.CHM(Pe);const rn=h.oxw();return h.KtG(rn.dateDebut=yt.value)}),h.qZA(),h._UZ(65,"mat-datepicker-toggle",21)(66,"mat-datepicker",null,22),h.YNc(68,ra,2,1,"mat-error",10),h.qZA(),h.TgZ(69,"mat-form-field",7)(70,"mat-label"),h._uU(71,"Date fin"),h.qZA(),h._UZ(72,"input",23)(73,"mat-datepicker-toggle",21)(74,"mat-datepicker",null,24),h.YNc(76,Ba,2,1,"mat-error",10),h.qZA()(),h.TgZ(77,"div",6)(78,"mat-form-field",7)(79,"mat-label"),h._uU(80,"Mouvement"),h.qZA(),h._UZ(81,"input",25),h.YNc(82,Aa,2,1,"mat-error",10),h.qZA(),h.TgZ(83,"mat-form-field",7)(84,"mat-label"),h._uU(85,"Date op\xe9ration"),h.qZA(),h._UZ(86,"input",26)(87,"mat-datepicker-toggle",21)(88,"mat-datepicker",null,27),h.YNc(90,ds,2,1,"mat-error",10),h.qZA()(),h.TgZ(91,"div",6)(92,"mat-form-field",7)(93,"mat-label"),h._uU(94,"Agence"),h.qZA(),h.TgZ(95,"mat-select",28),h.YNc(96,_s,3,2,"ng-container",9),h.qZA(),h.YNc(97,sa,2,1,"mat-error",10),h.qZA(),h.TgZ(98,"mat-form-field",7)(99,"mat-label"),h._uU(100,"Capital"),h.qZA(),h._UZ(101,"input",29),h.YNc(102,Xs,2,1,"mat-error",10),h.qZA()(),h.TgZ(103,"div",6)(104,"mat-form-field",7)(105,"mat-label"),h._uU(106,"Limite"),h.qZA(),h._UZ(107,"input",30),h.YNc(108,Va,2,1,"mat-error",10),h.qZA(),h.TgZ(109,"mat-form-field",7)(110,"mat-label"),h._uU(111,"Limite Rc"),h.qZA(),h._UZ(112,"input",31),h.YNc(113,fs,2,1,"mat-error",10),h.qZA()(),h.TgZ(114,"div",6)(115,"mat-form-field",7)(116,"mat-label"),h._uU(117,"Canal"),h.qZA(),h.TgZ(118,"mat-select",32),h.YNc(119,Ra,3,2,"ng-container",9),h.qZA(),h.YNc(120,ja,2,1,"mat-error",10),h.qZA(),h.TgZ(121,"mat-form-field",7)(122,"mat-label"),h._uU(123,"Nombre site "),h.qZA(),h._UZ(124,"input",33),h.YNc(125,la,2,1,"mat-error",10),h.qZA()(),h.TgZ(126,"div",34)(127,"button",35),h._uU(128,"Annuler "),h.qZA(),h.TgZ(129,"button",36),h._uU(130,"Enregistrer "),h.qZA()()()}if(2&Ce){const Pe=h.MAs(67),_t=h.MAs(75),yt=h.MAs(89),rn=h.oxw();h.Q6J("formGroup",rn.formCreation),h.xp6(7),h.Q6J("ngForOf",rn.produits),h.xp6(1),h.Q6J("ngIf",rn.formCreation.controls.produit.errors),h.xp6(5),h.Q6J("ngForOf",rn.sousProduit),h.xp6(1),h.Q6J("ngIf",rn.formCreation.controls.SousProduit.errors),h.xp6(6),h.Q6J("ngIf",rn.formCreation.controls.numPolice.errors),h.xp6(5),h.Q6J("ngIf",rn.formCreation.controls.numQuittance.errors),h.xp6(6),h.Q6J("ngIf",rn.formCreation.controls.nomClient.errors),h.xp6(6),h.Q6J("ngIf",rn.formCreation.controls.primeTotale.errors),h.xp6(5),h.Q6J("ngIf",rn.formCreation.controls.primeNette.errors),h.xp6(6),h.Q6J("ngIf",rn.formCreation.controls.coutPolice.errors),h.xp6(5),h.Q6J("ngIf",rn.formCreation.controls.tva.errors),h.xp6(6),h.Q6J("ngIf",rn.formCreation.controls.timbreDimension.errors),h.xp6(5),h.Q6J("matDatepicker",Pe),h.xp6(1),h.Q6J("for",Pe),h.xp6(3),h.Q6J("ngIf",rn.formCreation.controls.dateDebut.errors),h.xp6(4),h.Q6J("matDatepicker",_t)("min",rn.dateDebut),h.xp6(1),h.Q6J("for",_t),h.xp6(3),h.Q6J("ngIf",rn.formCreation.controls.dateFin.errors),h.xp6(6),h.Q6J("ngIf",rn.formCreation.controls.mouvement.errors),h.xp6(4),h.Q6J("matDatepicker",yt),h.xp6(1),h.Q6J("for",yt),h.xp6(3),h.Q6J("ngIf",rn.formCreation.controls.dateOperation.errors),h.xp6(6),h.Q6J("ngForOf",rn.agences),h.xp6(1),h.Q6J("ngIf",rn.formCreation.controls.agence.errors),h.xp6(5),h.Q6J("ngIf",rn.formCreation.controls.capital.errors),h.xp6(6),h.Q6J("ngIf",rn.formCreation.controls.limite.errors),h.xp6(5),h.Q6J("ngIf",rn.formCreation.controls.limiteRc.errors),h.xp6(6),h.Q6J("ngForOf",rn.canalList),h.xp6(1),h.Q6J("ngIf",rn.formCreation.controls.canal.errors),h.xp6(5),h.Q6J("ngIf",rn.formCreation.controls.nbSite.errors),h.xp6(2),h.Q6J("routerLink",h.DdM(33,hs))}}let rr=(()=>{class Ce{constructor(Pe,_t,yt,rn,eo,sr){this.router=Pe,this.sinistresService=_t,this.genericService=yt,this.contratService=rn,this.agencesService=eo,this.formBuilder=sr,this.agences=[],this.dateDebut=new Date}ngOnInit(){this.getAgences(),this.genericService.getParam(JSON.parse(sessionStorage.getItem("dictionnaire")||"{}").find(Pe=>"C102"==Pe.code).idCategorie).subscribe(Pe=>{this.produits=Pe}),this.genericService.getParam(JSON.parse(sessionStorage.getItem("dictionnaire")||"{}").find(Pe=>"C22"==Pe.code).idCategorie).subscribe(Pe=>{this.canalList=Pe})}getRelation(Pe){this.sinistresService.getByLien(Pe).subscribe({next:_t=>{this.sousProduit=_t},error:_t=>{console.log(_t)}})}initForm(){this.formCreation=this.formBuilder.group({produit:["",[ht.kI.required]],SousProduit:["",[ht.kI.required]],numPolice:["",[ht.kI.required]],numQuittance:["",[ht.kI.required]],mouvement:["",[ht.kI.required]],dateOperation:["",[ht.kI.required]],dateDebut:["",[ht.kI.required]],dateFin:["",[ht.kI.required]],primeTotale:["",[ht.kI.required]],primeNette:["",[ht.kI.required]],coutPolice:["",[ht.kI.required]],tva:["",[ht.kI.required]],timbreDimension:["",[ht.kI.required]],agence:["",[ht.kI.required]],capital:["",[ht.kI.required]],limite:["",[ht.kI.required]],limiteRc:["",[ht.kI.required]],canal:["",[ht.kI.required]],nbSite:["",[ht.kI.required]],nomClient:["",[ht.kI.required]]})}getAgences(){this.agencesService.getAllAgence().subscribe({next:Pe=>{this.agences=Pe,this.initForm()},error:Pe=>{console.log(Pe)}})}submitProduct(Pe){let _t=this.formCreation.value;_t.produit={idParam:this.formCreation.get("produit").value},_t.sousProduit={idParam:this.formCreation.get("SousProduit").value},this.contratService.addContratCommercialLine(_t).subscribe({next:yt=>{Jn().fire("Contrat cr\xe9\xe9 avec succ\xe8s","","success"),Jn().fire({title:"Contrat cr\xe9\xe9 avec succ\xe8s",icon:"success",confirmButtonText:"Ok"}).then(rn=>{rn.isConfirmed&&this.router.navigate(["/gestion-commercial-line"])})},error:yt=>{console.log(yt)}})}}return Ce.\u0275fac=function(Pe){return new(Pe||Ce)(h.Y36(Ge.F0),h.Y36(pi.m),h.Y36(Qn.M),h.Y36(Z.H),h.Y36(Kn.e),h.Y36(ht.qu))},Ce.\u0275cmp=h.Xpm({type:Ce,selectors:[["app-create-product-commercial-line"]],decls:6,vars:1,consts:[[1,"container"],[1,"header-title"],["aria-label","",1,"mat-icon","notranslate","material-symbols-outlined","material-icons","mat-icon-no-color"],["class","",3,"formGroup","ngSubmit",4,"ngIf"],[1,"",3,"formGroup","ngSubmit"],["formDirective","ngForm"],[1,"row"],["appearance","outline",1,"col-md-5"],["formControlName","produit",3,"selectionChange"],[4,"ngFor","ngForOf"],["class","invalid-feedback",4,"ngIf"],["formControlName","SousProduit"],["type","text","matInput","","placeholder","","formControlName","numPolice"],["type","text","matInput","","placeholder","","formControlName","numQuittance"],["type","text","matInput","","placeholder","","formControlName","nomClient"],["type","number","matInput","","placeholder","","formControlName","primeTotale"],["type","number","matInput","","placeholder","","formControlName","primeNette"],["type","number","matInput","","placeholder","","formControlName","coutPolice"],["type","number","matInput","","placeholder","","formControlName","tva"],["type","number","matInput","","placeholder","","formControlName","timbreDimension"],["matInput","","formControlName","dateDebut",3,"matDatepicker","dateChange"],["matSuffix","",3,"for"],["pickerdateDebut",""],["matInput","","formControlName","dateFin",3,"matDatepicker","min"],["pickerdateFin",""],["type","text","matInput","","placeholder","","formControlName","mouvement"],["matInput","","formControlName","dateOperation",3,"matDatepicker"],["pickerDateOperation",""],["formControlName","agence"],["type","number","matInput","","placeholder","","formControlName","capital"],["type","number","matInput","","placeholder","","formControlName","limite"],["type","number","matInput","","placeholder","","formControlName","limiteRc"],["formControlName","canal"],["type","number","matInput","","placeholder","","formControlName","nbSite"],[1,"col-md-12","row-button"],[1,"btn","btn-cancel",3,"routerLink"],[1,"btn","btn-action"],[3,"value"],[1,"invalid-feedback"],[4,"ngIf"]],template:function(Pe,_t){1&Pe&&(h.TgZ(0,"div",0)(1,"h2",1)(2,"mat-icon",2),h._uU(3,"directions_boat"),h.qZA(),h._uU(4," Produits Commercial line "),h.qZA(),h.YNc(5,Cs,131,34,"form",3),h.qZA()),2&Pe&&(h.xp6(5),h.Q6J("ngIf",_t.formCreation))},dependencies:[Le.Hw,ht._Y,ht.Fj,ht.wV,ht.JJ,ht.JL,ht.sg,ht.u,xi.TO,xi.KE,xi.hX,xi.R9,tn.Nt,Kt.Mq,Kt.hl,Kt.nW,hi.gD,$i.ey,Se.sg,Se.O5,Ge.rH],styles:[".container[_ngcontent-%COMP%]{background-color:#fff;padding:40px 23px;height:100%;overflow-x:hidden;box-shadow:0 .5rem 1rem #00000026}h2.header-title[_ngcontent-%COMP%]{padding:0 24px;font-size:21px!important;color:#00008f;font-weight:600!important;letter-spacing:1px;display:flex;justify-content:flex-end}h2.header-title[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{margin-right:1rem}.btn.btn-action[_ngcontent-%COMP%], .btn.btn-secondary[_ngcontent-%COMP%]{margin-top:2rem;float:right}.btn.btn-cancel[_ngcontent-%COMP%]{margin-top:2rem;float:left}"]}),Ce})();var xs=B(266);function vs(Ce,mt){1&Ce&&(h.TgZ(0,"th",26),h._uU(1," N\xb0 "),h.qZA())}function tl(Ce,mt){if(1&Ce&&(h.TgZ(0,"td",27),h._uU(1),h.qZA()),2&Ce){const Pe=mt.$implicit;h.xp6(1),h.hij("",Pe.id," ")}}function As(Ce,mt){1&Ce&&(h.TgZ(0,"th",26),h._uU(1," Valeur Assur\xe9e "),h.qZA())}function Ar(Ce,mt){if(1&Ce&&(h.TgZ(0,"td",27),h._uU(1),h.qZA()),2&Ce){const Pe=mt.$implicit;h.xp6(1),h.hij(" ",Pe.valAssure," ")}}function nl(Ce,mt){1&Ce&&(h.TgZ(0,"th",26),h._uU(1," Valeur Contenu "),h.qZA())}function il(Ce,mt){if(1&Ce&&(h.TgZ(0,"td",27),h._uU(1),h.qZA()),2&Ce){const Pe=mt.$implicit;h.xp6(1),h.hij(" ",Pe.contenu," ")}}function Ts(Ce,mt){1&Ce&&(h.TgZ(0,"th",26),h._uU(1," Valeur Contenant "),h.qZA())}function Nr(Ce,mt){if(1&Ce&&(h.TgZ(0,"td",27),h._uU(1),h.qZA()),2&Ce){const Pe=mt.$implicit;h.xp6(1),h.hij(" ",Pe.contenant," ")}}function Lr(Ce,mt){1&Ce&&(h.TgZ(0,"th",26),h._uU(1," Valeur Risque locatif "),h.qZA())}function Da(Ce,mt){if(1&Ce&&(h.TgZ(0,"td",27),h._uU(1),h.qZA()),2&Ce){const Pe=mt.$implicit;h.xp6(1),h.hij(" ",Pe.risqueLocatif," ")}}function bs(Ce,mt){1&Ce&&(h.TgZ(0,"th",26),h._uU(1," Valeur BI "),h.qZA())}function Ir(Ce,mt){if(1&Ce&&(h.TgZ(0,"td",27),h._uU(1),h.qZA()),2&Ce){const Pe=mt.$implicit;h.xp6(1),h.hij(" ",Pe.bi," ")}}function ol(Ce,mt){1&Ce&&(h.TgZ(0,"th",26),h._uU(1," SMP "),h.qZA())}function Ps(Ce,mt){if(1&Ce&&(h.TgZ(0,"td",27),h._uU(1),h.qZA()),2&Ce){const Pe=mt.$implicit;h.xp6(1),h.hij(" ",Pe.smp," ")}}function Zs(Ce,mt){1&Ce&&(h.TgZ(0,"th",26),h._uU(1," Adresse "),h.qZA())}function qs(Ce,mt){if(1&Ce&&(h.TgZ(0,"td",27),h._uU(1),h.qZA()),2&Ce){const Pe=mt.$implicit;h.xp6(1),h.hij(" ",Pe.adresse," ")}}function _r(Ce,mt){1&Ce&&(h.TgZ(0,"th",26),h._uU(1," Longitude "),h.qZA())}function Zr(Ce,mt){if(1&Ce&&(h.TgZ(0,"td",27),h._uU(1),h.qZA()),2&Ce){const Pe=mt.$implicit;h.xp6(1),h.hij(" ",Pe.longitude," ")}}function it(Ce,mt){1&Ce&&(h.TgZ(0,"th",26),h._uU(1," Latitude "),h.qZA())}function ha(Ce,mt){if(1&Ce&&(h.TgZ(0,"td",27),h._uU(1),h.qZA()),2&Ce){const Pe=mt.$implicit;h.xp6(1),h.hij(" ",Pe.latitude,"")}}function Ci(Ce,mt){1&Ce&&h._UZ(0,"tr",28)}function qi(Ce,mt){1&Ce&&h._UZ(0,"tr",29)}const Ha=function(){return[5,10,50]};function Ss(Ce,mt){if(1&Ce){const Pe=h.EpF();h.TgZ(0,"div",1)(1,"h2",2)(2,"mat-icon",3),h.NdJ("click",function(){h.CHM(Pe);const yt=h.oxw();return h.KtG(yt.goBack())}),h._uU(3,"arrow_circle_left"),h.qZA(),h._uU(4),h.qZA(),h.TgZ(5,"div",4)(6,"div",5)(7,"div",6)(8,"div",7),h._uU(9,"N\xb0 police: "),h.qZA(),h.TgZ(10,"div",8),h._uU(11),h.qZA()()()(),h.TgZ(12,"div",4)(13,"div",5)(14,"div",6)(15,"div",7),h._uU(16,"produit: "),h.qZA(),h.TgZ(17,"div",8),h._uU(18),h.qZA()()(),h.TgZ(19,"div",5)(20,"div",6)(21,"div",7),h._uU(22,"sous produit:"),h.qZA(),h.TgZ(23,"div",8),h._uU(24),h.qZA()()()(),h.TgZ(25,"div",4)(26,"div",5)(27,"div",6)(28,"div",7),h._uU(29,"date operation: "),h.qZA(),h.TgZ(30,"div",8),h._uU(31),h.ALo(32,"dateFormatPipe"),h.qZA()()(),h.TgZ(33,"div",5)(34,"div",6)(35,"div",7),h._uU(36,"mouvement: "),h.qZA(),h.TgZ(37,"div",8),h._uU(38),h.qZA()()()(),h.TgZ(39,"div",4)(40,"div",5)(41,"div",6)(42,"div",7),h._uU(43,"date d\xe9but: "),h.qZA(),h.TgZ(44,"div",8),h._uU(45),h.ALo(46,"dateFormatPipe"),h.qZA()()(),h.TgZ(47,"div",5)(48,"div",6)(49,"div",7),h._uU(50,"date d\xe9but: "),h.qZA(),h.TgZ(51,"div",8),h._uU(52),h.ALo(53,"dateFormatPipe"),h.qZA()()()(),h.TgZ(54,"div",4)(55,"div",5)(56,"div",6)(57,"div",7),h._uU(58,"date d\xe9but: "),h.qZA(),h.TgZ(59,"div",8),h._uU(60),h.qZA()()(),h.TgZ(61,"div",5)(62,"div",6)(63,"div",7),h._uU(64,"date d\xe9but: "),h.qZA(),h.TgZ(65,"div",8),h._uU(66),h.qZA()()()(),h.TgZ(67,"div",4)(68,"div",5)(69,"div",6)(70,"div",7),h._uU(71,"agence: "),h.qZA(),h.TgZ(72,"div",8),h._uU(73),h.qZA()()(),h.TgZ(74,"div",5)(75,"div",6)(76,"div",7),h._uU(77,"capital "),h.qZA(),h.TgZ(78,"div",8),h._uU(79),h.qZA()()()(),h.TgZ(80,"h2",9),h._uU(81),h.qZA(),h.TgZ(82,"table",10),h.ynx(83,11),h.YNc(84,vs,2,0,"th",12),h.YNc(85,tl,2,1,"td",13),h.BQk(),h.ynx(86,14),h.YNc(87,As,2,0,"th",12),h.YNc(88,Ar,2,1,"td",13),h.BQk(),h.ynx(89,15),h.YNc(90,nl,2,0,"th",12),h.YNc(91,il,2,1,"td",13),h.BQk(),h.ynx(92,16),h.YNc(93,Ts,2,0,"th",12),h.YNc(94,Nr,2,1,"td",13),h.BQk(),h.ynx(95,17),h.YNc(96,Lr,2,0,"th",12),h.YNc(97,Da,2,1,"td",13),h.BQk(),h.ynx(98,18),h.YNc(99,bs,2,0,"th",12),h.YNc(100,Ir,2,1,"td",13),h.BQk(),h.ynx(101,19),h.YNc(102,ol,2,0,"th",12),h.YNc(103,Ps,2,1,"td",13),h.BQk(),h.ynx(104,20),h.YNc(105,Zs,2,0,"th",12),h.YNc(106,qs,2,1,"td",13),h.BQk(),h.ynx(107,21),h.YNc(108,_r,2,0,"th",12),h.YNc(109,Zr,2,1,"td",13),h.BQk(),h.ynx(110,22),h.YNc(111,it,2,0,"th",12),h.YNc(112,ha,2,1,"td",13),h.BQk(),h.YNc(113,Ci,1,0,"tr",23),h.YNc(114,qi,1,0,"tr",24),h.qZA(),h._UZ(115,"mat-paginator",25),h.qZA()}if(2&Ce){const Pe=h.oxw();h.xp6(4),h.hij(" Consultation du contrat N\xb0",Pe.informationsContrat.numPolice,""),h.xp6(7),h.Oqu(Pe.informationsContrat.numPolice),h.xp6(7),h.Oqu(Pe.informationsContrat.produit.description),h.xp6(6),h.hij("",Pe.informationsContrat.sousProduit.description," "),h.xp6(7),h.Oqu(h.lcZ(32,18,Pe.informationsContrat.dateOperation)),h.xp6(7),h.Oqu(Pe.informationsContrat.mouvement),h.xp6(7),h.Oqu(h.lcZ(46,20,Pe.informationsContrat.dateDebut)),h.xp6(7),h.Oqu(h.lcZ(53,22,Pe.informationsContrat.dateFin)),h.xp6(8),h.Oqu(Pe.informationsContrat.primeNette),h.xp6(6),h.Oqu(Pe.informationsContrat.primeTotale),h.xp6(7),h.Oqu(Pe.informationsContrat.agence),h.xp6(6),h.Oqu(Pe.informationsContrat.capital),h.xp6(2),h.hij(" Liste des sites relatif au contrat N\xb0",Pe.informationsContrat.numPolice,""),h.xp6(1),h.Q6J("dataSource",Pe.dataSource),h.xp6(31),h.Q6J("matHeaderRowDef",Pe.displayedColumns),h.xp6(1),h.Q6J("matRowDefColumns",Pe.displayedColumns),h.xp6(1),h.Q6J("pageSize",10)("pageSizeOptions",h.DdM(24,Ha))}}let ys=(()=>{class Ce{constructor(Pe,_t,yt){this.router=Pe,this.route=_t,this.contratService=yt,this.displayedColumns=["id","valeurAssure","contenu","contenant","risqueLocatif","bi","smp","adresse","longitude","latitude"],this.dataSource=new i.by}ngOnInit(){this.getContratById(this.route.snapshot.paramMap.get("idContrat"))}goBack(){this.router.navigate(["gestion-commercial-line/"])}getContratById(Pe){this.contratService.getContratCommercialLine(Pe).subscribe({next:_t=>{this.informationsContrat=_t,this.dataSource=new i.by(_t.siteList)},error:_t=>{console.log(_t)}})}}return Ce.\u0275fac=function(Pe){return new(Pe||Ce)(h.Y36(Ge.F0),h.Y36(Ge.gz),h.Y36(Z.H))},Ce.\u0275cmp=h.Xpm({type:Ce,selectors:[["app-consult-product-commercial-line"]],decls:1,vars:1,consts:[["class","container ",4,"ngIf"],[1,"container"],[1,"header-title"],["aria-hidden","false","matTooltip","Retour","matTooltipPosition","left",1,"material-symbols-outlined",3,"click"],[1,"row","infos"],[1,"col-md-6"],[1,"row"],[1,"col-md-6","key"],[1,"col-md-6","value"],[1,"seconde-title"],["mat-table","",1,"gestion-table",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","valeurAssure"],["matColumnDef","contenu"],["matColumnDef","contenant"],["matColumnDef","risqueLocatif"],["matColumnDef","bi"],["matColumnDef","smp"],["matColumnDef","adresse"],["matColumnDef","longitude"],["matColumnDef","latitude"],["mat-header-row","","class","example-second-header-row",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["aria-label","Select page of users",3,"pageSize","pageSizeOptions"],["mat-header-cell",""],["mat-cell",""],["mat-header-row","",1,"example-second-header-row"],["mat-row",""]],template:function(Pe,_t){1&Pe&&h.YNc(0,Ss,116,25,"div",0),2&Pe&&h.Q6J("ngIf",_t.informationsContrat)},dependencies:[Le.Hw,i.BZ,i.fO,i.as,i.w1,i.Dz,i.nj,i.ge,i.ev,i.XQ,i.Gk,xs.gM,xe.NW,Se.O5,he.y],styles:[".container[_ngcontent-%COMP%]{background-color:#fff;padding:40px 0;height:100%;overflow-y:auto;overflow-x:hidden}.gestion-table[_ngcontent-%COMP%]{width:100%}.gestion-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .gestion-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:16px}.gestion-table[_ngcontent-%COMP%]   .mat-header-cell[_ngcontent-%COMP%]{color:#00008f;font-weight:600}.gestion-table[_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]:nth-child(even), .gestion-table[_ngcontent-%COMP%]   .mat-header-row[_ngcontent-%COMP%]{background-color:#f7f7f9}.gestion-table[_ngcontent-%COMP%]   .mat-paginator[_ngcontent-%COMP%]{background-color:transparent;margin:20px auto auto;width:80%}.gestion-table[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{height:100%;font-size:26px;color:#00008f;width:-moz-fit-content;width:fit-content}.mat-menu-item[_ngcontent-%COMP%]{font-size:15px}.mat-menu-item[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:18px;height:-moz-fit-content;height:fit-content}.mat-menu-item[_ngcontent-%COMP%]:hover:not([disabled]), .mat-menu-item[_ngcontent-%COMP%]:hover:not([disabled])   .mat-icon[_ngcontent-%COMP%]{color:#00008f}.header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:0px 2rem}.header[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{height:-moz-fit-content;height:fit-content;font-size:29px;margin-right:1rem;width:-moz-fit-content;width:fit-content}.title-table[_ngcontent-%COMP%]{margin-bottom:0rem;font-weight:800!important;font-size:23px!important;color:#00008f!important}.container[_ngcontent-%COMP%]{background-color:#fff;padding:40px 28px;height:100%;overflow-x:hidden;box-shadow:0 .5rem 1rem #00000026}h2.header-title[_ngcontent-%COMP%]{padding:0 24px;margin-bottom:3rem;font-size:21px!important;color:#00008f;font-weight:600!important;letter-spacing:1px;display:flex;justify-content:space-between}h2.seconde-title[_ngcontent-%COMP%]{padding:0 24px;margin-bottom:3rem;font-size:21px!important;color:#00008f;font-weight:600!important;letter-spacing:1px;display:flex;justify-content:space-between;float:right}.value[_ngcontent-%COMP%]{color:#00008f;font-weight:600}.row.infos[_ngcontent-%COMP%]{font-size:16px;margin-bottom:2rem;font-weight:600}"]}),Ce})();function wa(Ce,mt){1&Ce&&(h.TgZ(0,"div"),h._uU(1," ce champs est obligatoire"),h.qZA())}function di(Ce,mt){if(1&Ce&&(h.TgZ(0,"mat-error",21),h.YNc(1,wa,2,0,"div",22),h.qZA()),2&Ce){const Pe=h.oxw(2);h.xp6(1),h.Q6J("ngIf",Pe.formCreation.controls.valAssure.errors.required)}}function Yr(Ce,mt){1&Ce&&(h.TgZ(0,"div"),h._uU(1," ce champs est obligatoire"),h.qZA())}function $a(Ce,mt){if(1&Ce&&(h.TgZ(0,"mat-error",21),h.YNc(1,Yr,2,0,"div",22),h.qZA()),2&Ce){const Pe=h.oxw(2);h.xp6(1),h.Q6J("ngIf",Pe.formCreation.controls.contenu.errors.required)}}function Ns(Ce,mt){1&Ce&&(h.TgZ(0,"div"),h._uU(1," ce champs est obligatoire"),h.qZA())}function ba(Ce,mt){if(1&Ce&&(h.TgZ(0,"mat-error",21),h.YNc(1,Ns,2,0,"div",22),h.qZA()),2&Ce){const Pe=h.oxw(2);h.xp6(1),h.Q6J("ngIf",Pe.formCreation.controls.contenant.errors.required)}}function Ka(Ce,mt){1&Ce&&(h.TgZ(0,"div"),h._uU(1," ce champs est obligatoire"),h.qZA())}function Ro(Ce,mt){if(1&Ce&&(h.TgZ(0,"mat-error",21),h.YNc(1,Ka,2,0,"div",22),h.qZA()),2&Ce){const Pe=h.oxw(2);h.xp6(1),h.Q6J("ngIf",Pe.formCreation.controls.risqueLocatif.errors.required)}}function Oa(Ce,mt){1&Ce&&(h.TgZ(0,"div"),h._uU(1," ce champs est obligatoire"),h.qZA())}function qr(Ce,mt){if(1&Ce&&(h.TgZ(0,"mat-error",21),h.YNc(1,Oa,2,0,"div",22),h.qZA()),2&Ce){const Pe=h.oxw(2);h.xp6(1),h.Q6J("ngIf",Pe.formCreation.controls.bi.errors.required)}}function Ca(Ce,mt){1&Ce&&(h.TgZ(0,"div"),h._uU(1," ce champs est obligatoire"),h.qZA())}function Vr(Ce,mt){if(1&Ce&&(h.TgZ(0,"mat-error",21),h.YNc(1,Ca,2,0,"div",22),h.qZA()),2&Ce){const Pe=h.oxw(2);h.xp6(1),h.Q6J("ngIf",Pe.formCreation.controls.smp.errors.required)}}function ca(Ce,mt){1&Ce&&(h.TgZ(0,"div"),h._uU(1," ce champs est obligatoire"),h.qZA())}function So(Ce,mt){if(1&Ce&&(h.TgZ(0,"mat-error",21),h.YNc(1,ca,2,0,"div",22),h.qZA()),2&Ce){const Pe=h.oxw(2);h.xp6(1),h.Q6J("ngIf",Pe.formCreation.controls.adresse.errors.required)}}function jr(Ce,mt){1&Ce&&(h.TgZ(0,"div"),h._uU(1," ce champs est obligatoire"),h.qZA())}function Hr(Ce,mt){if(1&Ce&&(h.TgZ(0,"mat-error",21),h.YNc(1,jr,2,0,"div",22),h.qZA()),2&Ce){const Pe=h.oxw(2);h.xp6(1),h.Q6J("ngIf",Pe.formCreation.controls.longitude.errors.required)}}function oo(Ce,mt){1&Ce&&(h.TgZ(0,"div"),h._uU(1," ce champs est obligatoire"),h.qZA())}function nt(Ce,mt){if(1&Ce&&(h.TgZ(0,"mat-error",21),h.YNc(1,oo,2,0,"div",22),h.qZA()),2&Ce){const Pe=h.oxw(2);h.xp6(1),h.Q6J("ngIf",Pe.formCreation.controls.latitude.errors.required)}}const jt=function(){return["/gestion-commercial-line"]};function Be(Ce,mt){if(1&Ce){const Pe=h.EpF();h.TgZ(0,"form",4,5),h.NdJ("ngSubmit",function(){h.CHM(Pe);const yt=h.MAs(1),rn=h.oxw();return h.KtG(rn.submitProduct(yt))}),h.TgZ(2,"div",6)(3,"mat-form-field",7)(4,"mat-label"),h._uU(5,"Valeur Assur\xe9e"),h.qZA(),h._UZ(6,"input",8),h.YNc(7,di,2,1,"mat-error",9),h.qZA(),h.TgZ(8,"mat-form-field",7)(9,"mat-label"),h._uU(10,"Valeur contenu"),h.qZA(),h._UZ(11,"input",10),h.YNc(12,$a,2,1,"mat-error",9),h.qZA()(),h.TgZ(13,"div",6)(14,"mat-form-field",7)(15,"mat-label"),h._uU(16,"Valeur Contenant"),h.qZA(),h._UZ(17,"input",11),h.YNc(18,ba,2,1,"mat-error",9),h.qZA(),h.TgZ(19,"mat-form-field",7)(20,"mat-label"),h._uU(21,"Valeur Risque locatif"),h.qZA(),h._UZ(22,"input",12),h.YNc(23,Ro,2,1,"mat-error",9),h.qZA()(),h.TgZ(24,"div",6)(25,"mat-form-field",7)(26,"mat-label"),h._uU(27,"Valeur BI"),h.qZA(),h._UZ(28,"input",13),h.YNc(29,qr,2,1,"mat-error",9),h.qZA()(),h.TgZ(30,"div",6)(31,"mat-form-field",7)(32,"mat-label"),h._uU(33,"SMP"),h.qZA(),h._UZ(34,"input",14),h.YNc(35,Vr,2,1,"mat-error",9),h.qZA(),h.TgZ(36,"mat-form-field",7)(37,"mat-label"),h._uU(38,"Adresse"),h.qZA(),h._UZ(39,"input",15),h.YNc(40,So,2,1,"mat-error",9),h.qZA()(),h.TgZ(41,"div",6)(42,"mat-form-field",7)(43,"mat-label"),h._uU(44,"Longiture"),h.qZA(),h._UZ(45,"input",16),h.YNc(46,Hr,2,1,"mat-error",9),h.qZA(),h.TgZ(47,"mat-form-field",7)(48,"mat-label"),h._uU(49,"Latitude"),h.qZA(),h._UZ(50,"input",17),h.YNc(51,nt,2,1,"mat-error",9),h.qZA()(),h.TgZ(52,"div",18)(53,"button",19),h._uU(54,"Annuler "),h.qZA(),h.TgZ(55,"button",20),h._uU(56,"Enregistrer "),h.qZA()()()}if(2&Ce){const Pe=h.oxw();h.Q6J("formGroup",Pe.formCreation),h.xp6(7),h.Q6J("ngIf",Pe.formCreation.controls.valAssure.errors),h.xp6(5),h.Q6J("ngIf",Pe.formCreation.controls.contenu.errors),h.xp6(6),h.Q6J("ngIf",Pe.formCreation.controls.contenant.errors),h.xp6(5),h.Q6J("ngIf",Pe.formCreation.controls.risqueLocatif.errors),h.xp6(6),h.Q6J("ngIf",Pe.formCreation.controls.bi.errors),h.xp6(6),h.Q6J("ngIf",Pe.formCreation.controls.smp.errors),h.xp6(5),h.Q6J("ngIf",Pe.formCreation.controls.adresse.errors),h.xp6(6),h.Q6J("ngIf",Pe.formCreation.controls.longitude.errors),h.xp6(5),h.Q6J("ngIf",Pe.formCreation.controls.latitude.errors),h.xp6(2),h.Q6J("routerLink",h.DdM(11,jt))}}let zt=(()=>{class Ce{constructor(Pe,_t,yt,rn,eo){this.formBuilder=Pe,this.route=_t,this.router=yt,this.genericService=rn,this.contratService=eo}ngOnInit(){this.initForm(),this.idContrat=this.route.snapshot.paramMap.get("idContrat"),this.genericService.getParam(JSON.parse(sessionStorage.getItem("dictionnaire")||"{}").find(Pe=>"C104"==Pe.code).idCategorie).subscribe(Pe=>{this.listValAssure=Pe})}initForm(){this.formCreation=this.formBuilder.group({valAssure:["",[ht.kI.required]],contenu:["",[ht.kI.required]],contenant:["",[ht.kI.required]],risqueLocatif:["",[ht.kI.required]],bi:["",[ht.kI.required]],smp:["",[ht.kI.required]],adresse:["",[ht.kI.required]],longitude:["",[ht.kI.required]],latitude:["",[ht.kI.required]]})}submitProduct(Pe){let _t={};_t.valAssure=this.formCreation.get("valAssure").value,_t.contenu=this.formCreation.get("contenu").value,_t.contenant=this.formCreation.get("contenant").value,_t.risqueLocatif=this.formCreation.get("risqueLocatif").value,_t.bi=this.formCreation.get("bi").value,_t.commercialLineId=this.route.snapshot.paramMap.get("idContrat"),_t.smp=this.formCreation.get("smp").value,_t.adresse=this.formCreation.get("adresse").value,_t.longitude=this.formCreation.get("longitude").value,_t.latitude=this.formCreation.get("latitude").value,this.contratService.createSiteComercial(_t).subscribe({next:yt=>{Jn().fire({title:"Site cr\xe9e avec succ\xe9e",icon:"success",allowOutsideClick:!1,confirmButtonText:"Ok",width:600}).then(rn=>{rn.isConfirmed&&this.router.navigate(["/gestion-commercial-line"])})},error:yt=>{console.log(yt)}})}}return Ce.\u0275fac=function(Pe){return new(Pe||Ce)(h.Y36(ht.qu),h.Y36(Ge.gz),h.Y36(Ge.F0),h.Y36(Qn.M),h.Y36(Z.H))},Ce.\u0275cmp=h.Xpm({type:Ce,selectors:[["app-create-site"]],decls:6,vars:1,consts:[[1,"container"],[1,"header-title"],["aria-label","",1,"mat-icon","notranslate","material-symbols-outlined","material-icons","mat-icon-no-color"],["class","",3,"formGroup","ngSubmit",4,"ngIf"],[1,"",3,"formGroup","ngSubmit"],["formDirective","ngForm"],[1,"row"],["appearance","outline",1,"col-md-5"],["type","number","matInput","","placeholder","","formControlName","valAssure"],["class","invalid-feedback",4,"ngIf"],["type","number","matInput","","placeholder","","formControlName","contenu"],["type","number","matInput","","placeholder","","formControlName","contenant"],["type","number","matInput","","placeholder","","formControlName","risqueLocatif"],["type","number","matInput","","placeholder","","formControlName","bi"],["type","number","matInput","","placeholder","","formControlName","smp"],["type","text","matInput","","placeholder","","formControlName","adresse"],["type","number","matInput","","placeholder","","formControlName","longitude"],["type","number","matInput","","placeholder","","formControlName","latitude"],[1,"col-md-12","row-button"],[1,"btn","btn-cancel",3,"routerLink"],[1,"btn","btn-action"],[1,"invalid-feedback"],[4,"ngIf"]],template:function(Pe,_t){1&Pe&&(h.TgZ(0,"div",0)(1,"h2",1)(2,"mat-icon",2),h._uU(3,"directions_boat"),h.qZA(),h._uU(4," Produits Commercial line "),h.qZA(),h.YNc(5,Be,57,12,"form",3),h.qZA()),2&Pe&&(h.xp6(5),h.Q6J("ngIf",_t.formCreation))},dependencies:[Le.Hw,ht._Y,ht.Fj,ht.wV,ht.JJ,ht.JL,ht.sg,ht.u,xi.TO,xi.KE,xi.hX,tn.Nt,Se.O5,Ge.rH],styles:[".container[_ngcontent-%COMP%]{background-color:#fff;padding:40px 23px;height:100%;overflow-x:hidden;box-shadow:0 .5rem 1rem #00000026}h2.header-title[_ngcontent-%COMP%]{padding:0 24px;font-size:21px!important;color:#00008f;font-weight:600!important;letter-spacing:1px;display:flex;justify-content:flex-end}h2.header-title[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{margin-right:1rem}.btn.btn-action[_ngcontent-%COMP%], .btn.btn-secondary[_ngcontent-%COMP%]{margin-top:2rem;float:right}.btn.btn-cancel[_ngcontent-%COMP%]{margin-top:2rem;float:left}"]}),Ce})();var yn=B(7947),Un=B(8661),wi=B(852),ro=B(5210),ko=B(9576),hr=B(1572);function Rl(Ce,mt){if(1&Ce&&(h.TgZ(0,"div")(1,"mat-form-field",17)(2,"mat-label"),h._uU(3,"Votre Email CDC"),h.qZA(),h._UZ(4,"input",18),h.qZA()()),2&Ce){const Pe=h.oxw();h.xp6(4),h.Q6J("value",Pe.cdcEmail)}}function ka(Ce,mt){if(1&Ce&&(h.TgZ(0,"mat-option",34),h._uU(1),h.qZA()),2&Ce){const Pe=mt.$implicit;h.Q6J("value",Pe),h.xp6(1),h.hij(" ",Pe," ")}}function rl(Ce,mt){if(1&Ce&&(h.TgZ(0,"mat-form-field",17)(1,"mat-label"),h._uU(2,"S\xe9lectionnez un Email CDC"),h.qZA(),h.TgZ(3,"mat-select"),h.YNc(4,ka,2,2,"mat-option",21),h.qZA()()),2&Ce){const Pe=h.oxw();h.xp6(4),h.Q6J("ngForOf",Pe.allCdcEmails)}}function Is(Ce,mt){if(1&Ce&&(h.TgZ(0,"div")(1,"mat-form-field",17),h._UZ(2,"input",35),h.qZA()()),2&Ce){const Pe=h.oxw();h.xp6(2),h.Q6J("value",Pe.agenceUnique.codeAgence+" - "+Pe.agenceUnique.nomAgence)}}function Dl(Ce,mt){if(1&Ce&&(h.TgZ(0,"mat-option",34),h._uU(1),h.qZA()),2&Ce){const Pe=mt.$implicit;h.Q6J("value",Pe.codeAgence+" - "+Pe.nomAgence),h.xp6(1),h.AsE(" ",Pe.codeAgence," - ",Pe.nomAgence," ")}}function $l(Ce,mt){1&Ce&&(h.TgZ(0,"mat-error"),h._uU(1," Le choix d'une agence est "),h.TgZ(2,"strong"),h._uU(3,"obligatoire"),h.qZA(),h._uU(4,". "),h.qZA())}function Er(Ce,mt){if(1&Ce&&(h.TgZ(0,"mat-form-field",17)(1,"mat-label"),h._uU(2,"Choisissez une agence"),h.qZA(),h.TgZ(3,"mat-select",36),h.YNc(4,Dl,2,3,"mat-option",21),h.qZA(),h.YNc(5,$l,5,0,"mat-error",14),h.qZA()),2&Ce){const Pe=h.oxw();let _t;h.xp6(4),h.Q6J("ngForOf",Pe.agencesUtilisateur),h.xp6(1),h.Q6J("ngIf",(null==(_t=Pe.rapportForm.get("agence"))?null:_t.hasError("required"))&&(null==(_t=Pe.rapportForm.get("agence"))?null:_t.touched))}}function al(Ce,mt){1&Ce&&(h.TgZ(0,"div",37),h._uU(1," Aucune agence trouv\xe9e pour cet utilisateur. "),h.qZA())}function Oi(Ce,mt){if(1&Ce&&(h.TgZ(0,"mat-option",34),h._uU(1),h.qZA()),2&Ce){const Pe=mt.$implicit;h.Q6J("value",Pe.idCodeProduit),h.xp6(1),h.hij(" ",Pe.description," ")}}function zi(Ce,mt){if(1&Ce&&(h.TgZ(0,"mat-option",34),h._uU(1),h.qZA()),2&Ce){const Pe=mt.$implicit;h.Q6J("value",Pe.idSousProduit),h.xp6(1),h.AsE(" ",Pe.code," - ",Pe.description," ")}}function wl(Ce,mt){if(1&Ce&&(h.TgZ(0,"mat-option",34),h._uU(1),h.qZA()),2&Ce){const Pe=mt.$implicit;h.Q6J("value",Pe.description),h.xp6(1),h.hij(" ",Pe.description," ")}}function sl(Ce,mt){if(1&Ce&&(h.TgZ(0,"mat-option",34),h._uU(1),h.qZA()),2&Ce){const Pe=mt.$implicit;h.Q6J("value",Pe.typeAvenant),h.xp6(1),h.hij(" ",Pe.typeAvenant," ")}}function Fi(Ce,mt){if(1&Ce&&(h.TgZ(0,"mat-option",34),h._uU(1),h.qZA()),2&Ce){const Pe=mt.$implicit;h.Q6J("value",Pe),h.xp6(1),h.hij(" ",Pe," ")}}function ll(Ce,mt){1&Ce&&(h.TgZ(0,"mat-error"),h._uU(1," Veuillez entrer uniquement des lettres (sans espace ni caract\xe8res sp\xe9ciaux). "),h.qZA())}function Wa(Ce,mt){if(1&Ce&&(h.TgZ(0,"mat-option",34),h._uU(1),h.qZA()),2&Ce){const Pe=mt.$implicit;h.Q6J("value",Pe),h.xp6(1),h.hij(" ",Pe," ")}}function Tr(Ce,mt){1&Ce&&h._UZ(0,"mat-spinner",38)}function Xa(Ce,mt){if(1&Ce&&(h.TgZ(0,"mat-option",5),h._uU(1),h.qZA()),2&Ce){const Pe=mt.$implicit;h.Q6J("value",Pe.value),h.xp6(1),h.hij(" ",Pe.label," ")}}function Do(Ce,mt){if(1&Ce&&(h.TgZ(0,"mat-option",5),h._uU(1),h.qZA()),2&Ce){const Pe=mt.$implicit;h.Q6J("value",Pe.idParam),h.xp6(1),h.hij(" ",Pe.description," ")}}function $r(Ce,mt){if(1&Ce&&(h.TgZ(0,"mat-option",5),h._uU(1),h.qZA()),2&Ce){const Pe=mt.$implicit;h.Q6J("value",Pe.idCodeProduit),h.xp6(1),h.hij(" ",Pe.description," ")}}function Vo(Ce,mt){if(1&Ce&&(h.TgZ(0,"div")(1,"mat-form-field",28),h._UZ(2,"input",29),h.qZA()()),2&Ce){const Pe=h.oxw(2);h.xp6(2),h.Q6J("value",Pe.agenceUnique.codeAgence+" - "+Pe.agenceUnique.nomAgence)}}function cl(Ce,mt){if(1&Ce&&(h.TgZ(0,"mat-option",5),h._uU(1),h.qZA()),2&Ce){const Pe=mt.$implicit;h.Q6J("value",Pe.codeAgence+" - "+Pe.nomAgence),h.xp6(1),h.AsE(" ",Pe.codeAgence," - ",Pe.nomAgence," ")}}function ul(Ce,mt){1&Ce&&(h.TgZ(0,"mat-error"),h._uU(1," Le choix d'une agence est "),h.TgZ(2,"strong"),h._uU(3,"obligatoire"),h.qZA(),h._uU(4,". "),h.qZA())}function si(Ce,mt){if(1&Ce&&(h.TgZ(0,"mat-form-field",28)(1,"mat-label"),h._uU(2,"Choisissez une agence"),h.qZA(),h.TgZ(3,"mat-select",30),h.YNc(4,cl,2,3,"mat-option",3),h.qZA(),h.YNc(5,ul,5,0,"mat-error",4),h.qZA()),2&Ce){const Pe=h.oxw(2);let _t;h.xp6(4),h.Q6J("ngForOf",Pe.agencesUtilisateur),h.xp6(1),h.Q6J("ngIf",(null==(_t=Pe.sinistreForm.get("agence"))?null:_t.hasError("required"))&&(null==(_t=Pe.sinistreForm.get("agence"))?null:_t.touched))}}function Gr(Ce,mt){1&Ce&&(h.TgZ(0,"div",31),h._uU(1," Aucune agence trouv\xe9e pour cet utilisateur. "),h.qZA())}function ml(Ce,mt){if(1&Ce&&(h.TgZ(0,"mat-option",5),h._uU(1),h.qZA()),2&Ce){const Pe=mt.$implicit;h.Q6J("value",Pe),h.xp6(1),h.hij(" ",Pe," ")}}function Es(Ce,mt){if(1&Ce){const Pe=h.EpF();h.TgZ(0,"div")(1,"h2"),h._uU(2,"Rapport Sinistre"),h.qZA(),h.TgZ(3,"form",6)(4,"div",7)(5,"div",7)(6,"div",8)(7,"mat-form-field",9)(8,"mat-label"),h._uU(9,"Date \xe9mission Du"),h.qZA(),h._UZ(10,"input",10)(11,"mat-datepicker-toggle",11)(12,"mat-datepicker",null,12),h.qZA(),h.TgZ(14,"mat-form-field",9)(15,"mat-label"),h._uU(16,"Date \xe9mission Au"),h.qZA(),h._UZ(17,"input",13)(18,"mat-datepicker-toggle",11)(19,"mat-datepicker",null,14),h.qZA()()()(),h.TgZ(21,"div",15)(22,"mat-form-field",1)(23,"mat-label"),h._uU(24,"N\xb0 de Sinistre"),h.qZA(),h._UZ(25,"input",16),h.qZA(),h.TgZ(26,"mat-form-field",1)(27,"mat-label"),h._uU(28,"N\xb0 de Police"),h.qZA(),h._UZ(29,"input",17),h.qZA(),h.TgZ(30,"mat-form-field",1)(31,"mat-label"),h._uU(32,"N\xb0 de OP"),h.qZA(),h._UZ(33,"input",18),h.qZA()(),h.TgZ(34,"div",15)(35,"mat-form-field",19)(36,"mat-label"),h._uU(37,"Situation Sinistre"),h.qZA(),h.TgZ(38,"mat-select"),h.YNc(39,Do,2,2,"mat-option",3),h.qZA()(),h.TgZ(40,"mat-form-field",20)(41,"mat-label"),h._uU(42,"Produit"),h.qZA(),h.TgZ(43,"mat-select",21),h.YNc(44,$r,2,2,"mat-option",3),h.qZA()(),h.YNc(45,Vo,3,1,"div",4),h.YNc(46,si,6,2,"mat-form-field",22),h.YNc(47,Gr,2,0,"div",23),h.qZA(),h.TgZ(48,"div",15)(49,"mat-form-field",1)(50,"mat-label"),h._uU(51,"Zone"),h.qZA(),h._UZ(52,"input",24),h.qZA(),h.TgZ(53,"mat-form-field",20)(54,"mat-label"),h._uU(55,"Soci\xe9t\xe9"),h.qZA(),h.TgZ(56,"mat-select",25),h.YNc(57,ml,2,2,"mat-option",3),h.qZA()()(),h._UZ(58,"div",26),h.TgZ(59,"div",26)(60,"button",27),h.NdJ("click",function(){h.CHM(Pe);const yt=h.oxw();return h.KtG(yt.exportFormData("sinistres"))}),h._uU(61," Exporter en Excel "),h.qZA()()()()}if(2&Ce){const Pe=h.MAs(13),_t=h.MAs(20),yt=h.oxw();let rn;h.xp6(3),h.Q6J("formGroup",yt.sinistreForm),h.xp6(1),h.Q6J("formGroup",yt.sinistreForm),h.xp6(1),h.Q6J("formGroup",yt.sinistreForm),h.xp6(5),h.Q6J("matDatepicker",Pe)("min",yt.minDate)("max",yt.today),h.xp6(1),h.Q6J("for",Pe),h.xp6(6),h.Q6J("matDatepicker",_t)("min",yt.startDateValue)("max",yt.maxEndDate)("disabled",!(null!=(rn=yt.sinistreForm.get("startDate"))&&rn.value)),h.xp6(1),h.Q6J("for",_t),h.xp6(21),h.Q6J("ngForOf",yt.situations),h.xp6(5),h.Q6J("ngForOf",yt.produits),h.xp6(1),h.Q6J("ngIf",yt.agenceUnique&&!yt.afficherListeAgences),h.xp6(1),h.Q6J("ngIf",yt.afficherListeAgences),h.xp6(1),h.Q6J("ngIf",yt.aucuneAgence),h.xp6(5),h.Q6J("value",yt.zoneNom),h.xp6(5),h.Q6J("ngForOf",yt.societes)}}function ao(Ce,mt){if(1&Ce&&(h.TgZ(0,"mat-option",5),h._uU(1),h.qZA()),2&Ce){const Pe=mt.$implicit;h.Q6J("value",Pe.idCodeProduit),h.xp6(1),h.hij(" ",Pe.description," ")}}function Rs(Ce,mt){if(1&Ce&&(h.TgZ(0,"mat-option",5),h._uU(1),h.qZA()),2&Ce){const Pe=mt.$implicit;h.Q6J("value",Pe.idPack0),h.xp6(1),h.hij(" ",Pe.description," ")}}function Ol(Ce,mt){if(1&Ce&&(h.TgZ(0,"mat-option",5),h._uU(1),h.qZA()),2&Ce){const Pe=mt.$implicit;h.Q6J("value",Pe.garantie.idGarantie),h.xp6(1),h.hij(" ",Pe.garantie.description," ")}}function Vi(Ce,mt){if(1&Ce&&(h.TgZ(0,"mat-option",5),h._uU(1),h.qZA()),2&Ce){const Pe=mt.$implicit;h.Q6J("value",Pe.codeAgence),h.xp6(1),h.hij(" ",Pe.nomAgence," ")}}function Ma(Ce,mt){if(1&Ce&&(h.TgZ(0,"mat-option",5),h._uU(1),h.qZA()),2&Ce){const Pe=mt.$implicit;h.Q6J("value",Pe.codeAgence),h.xp6(1),h.hij(" ",Pe.nomAgence," ")}}function ar(Ce,mt){if(1&Ce&&(h.TgZ(0,"mat-option",5),h._uU(1),h.qZA()),2&Ce){const Pe=mt.$implicit;h.Q6J("value",Pe),h.xp6(1),h.hij(" ",Pe," ")}}function Ds(Ce,mt){if(1&Ce&&(h.TgZ(0,"mat-option",5),h._uU(1),h.qZA()),2&Ce){const Pe=mt.$implicit;h.Q6J("value",Pe),h.xp6(1),h.hij(" ",Pe," ")}}function Br(Ce,mt){if(1&Ce){const Pe=h.EpF();h.TgZ(0,"div")(1,"h2"),h._uU(2,"Rapport Sinistre d\xe9clar\xe9"),h.qZA(),h.TgZ(3,"form",6)(4,"div",7)(5,"div",8)(6,"mat-form-field",9)(7,"mat-label"),h._uU(8,"Date \xe9mission Du"),h.qZA(),h._UZ(9,"input",10)(10,"mat-datepicker-toggle",11)(11,"mat-datepicker",null,12),h.qZA(),h.TgZ(13,"mat-form-field",9)(14,"mat-label"),h._uU(15,"Date \xe9mission Au"),h.qZA(),h._UZ(16,"input",13)(17,"mat-datepicker-toggle",11)(18,"mat-datepicker",null,14),h.qZA()()(),h.TgZ(20,"div",15)(21,"mat-form-field",1)(22,"mat-label"),h._uU(23,"Produit"),h.qZA(),h.TgZ(24,"mat-select",21),h.YNc(25,ao,2,2,"mat-option",3),h.qZA()(),h.TgZ(26,"mat-form-field",1)(27,"mat-label"),h._uU(28,"Pack"),h.qZA(),h.TgZ(29,"mat-select",32),h.YNc(30,Rs,2,2,"mat-option",3),h.qZA()(),h.TgZ(31,"mat-form-field",9)(32,"mat-label"),h._uU(33,"Garantie"),h.qZA(),h.TgZ(34,"mat-select",33),h.YNc(35,Ol,2,2,"mat-option",3),h.qZA()()(),h.TgZ(36,"div",15)(37,"mat-form-field",1)(38,"mat-label"),h._uU(39,"Agence de souscription"),h.qZA(),h.TgZ(40,"mat-select"),h.YNc(41,Vi,2,2,"mat-option",3),h.qZA()(),h.TgZ(42,"mat-form-field",1)(43,"mat-label"),h._uU(44,"Agence de d\xe9clarfation "),h.qZA(),h.TgZ(45,"mat-select"),h.YNc(46,Ma,2,2,"mat-option",3),h.qZA()(),h.TgZ(47,"mat-form-field",1)(48,"mat-label"),h._uU(49,"Compagnie Adverse"),h.qZA(),h.TgZ(50,"mat-select",34),h.YNc(51,ar,2,2,"mat-option",3),h.qZA()()(),h.TgZ(52,"div",15)(53,"div",35)(54,"mat-form-field",1)(55,"mat-label"),h._uU(56,"Nature Dommage"),h.qZA(),h.TgZ(57,"mat-select",36),h.YNc(58,Ds,2,2,"mat-option",3),h.qZA()()()(),h.TgZ(59,"div",26)(60,"button",27),h.NdJ("click",function(){h.CHM(Pe);const yt=h.oxw();return h.KtG(yt.exportFormData("sinistresdec"))}),h._uU(61," Exporter en Excel "),h.qZA()()()()}if(2&Ce){const Pe=h.MAs(12),_t=h.MAs(19),yt=h.oxw();let rn;h.xp6(3),h.Q6J("formGroup",yt.sinistredecForm),h.xp6(1),h.Q6J("formGroup",yt.sinistreForm),h.xp6(5),h.Q6J("matDatepicker",Pe)("min",yt.minDate)("max",yt.today),h.xp6(1),h.Q6J("for",Pe),h.xp6(6),h.Q6J("matDatepicker",_t)("min",yt.startDateValue)("max",yt.maxEndDate)("disabled",!(null!=(rn=yt.sinistreForm.get("startDate"))&&rn.value)),h.xp6(1),h.Q6J("for",_t),h.xp6(8),h.Q6J("ngForOf",yt.produitsDec),h.xp6(5),h.Q6J("ngForOf",yt.packsDec),h.xp6(5),h.Q6J("ngForOf",yt.garantiesDec),h.xp6(6),h.Q6J("ngForOf",yt.allAgencesDetails),h.xp6(5),h.Q6J("ngForOf",yt.allAgencesDetails),h.xp6(5),h.Q6J("ngForOf",yt.CompagnieAdverse),h.xp6(7),h.Q6J("ngForOf",yt.NatureDommage)}}function Rr(Ce,mt){if(1&Ce&&(h.TgZ(0,"mat-option",5),h._uU(1),h.qZA()),2&Ce){const Pe=mt.$implicit;h.Q6J("value",Pe.idCodeProduit),h.xp6(1),h.Oqu(Pe.description)}}function ws(Ce,mt){if(1&Ce&&(h.TgZ(0,"mat-option",5),h._uU(1),h.qZA()),2&Ce){const Pe=mt.$implicit;h.Q6J("value",Pe.idPack0),h.xp6(1),h.hij(" ",Pe.description," ")}}function Po(Ce,mt){if(1&Ce&&(h.TgZ(0,"mat-option",5),h._uU(1),h.qZA()),2&Ce){const Pe=mt.$implicit;h.Q6J("value",Pe.codeAgence),h.xp6(1),h.hij(" ",Pe.nomAgence," ")}}function yo(Ce,mt){if(1&Ce&&(h.TgZ(0,"mat-option",5),h._uU(1),h.qZA()),2&Ce){const Pe=mt.$implicit;h.Q6J("value",Pe.codeAgence),h.xp6(1),h.hij(" ",Pe.nomAgence," ")}}function ua(Ce,mt){if(1&Ce&&(h.TgZ(0,"mat-option",5),h._uU(1),h.qZA()),2&Ce){const Pe=mt.$implicit;h.Q6J("value",Pe),h.xp6(1),h.hij(" ",Pe," ")}}function Os(Ce,mt){if(1&Ce&&(h.TgZ(0,"mat-option",5),h._uU(1),h.qZA()),2&Ce){const Pe=mt.$implicit;h.Q6J("value",Pe.description),h.xp6(1),h.hij(" ",Pe.description," ")}}function ks(Ce,mt){if(1&Ce){const Pe=h.EpF();h.TgZ(0,"div")(1,"h2"),h._uU(2,"Rapport Sinistre en provision"),h.qZA(),h.TgZ(3,"form",6)(4,"div",15)(5,"div",8)(6,"mat-form-field",37)(7,"mat-label"),h._uU(8,"Date de Mouvement"),h.qZA(),h._UZ(9,"input",10)(10,"mat-datepicker-toggle",11)(11,"mat-datepicker",null,12),h.qZA()()(),h.TgZ(13,"div",15)(14,"mat-form-field",20)(15,"mat-label"),h._uU(16,"Produit"),h.qZA(),h.TgZ(17,"mat-select",21),h.YNc(18,Rr,2,2,"mat-option",3),h.qZA()(),h.TgZ(19,"mat-form-field",1)(20,"mat-label"),h._uU(21,"Pack"),h.qZA(),h.TgZ(22,"mat-select",32),h.YNc(23,ws,2,2,"mat-option",3),h.qZA()(),h.TgZ(24,"mat-form-field",1)(25,"mat-label"),h._uU(26,"AgencesDeSouscription"),h.qZA(),h.TgZ(27,"mat-select"),h.YNc(28,Po,2,2,"mat-option",3),h.qZA()()(),h.TgZ(29,"div",15)(30,"mat-form-field",1)(31,"mat-label"),h._uU(32,"Agence de d\xe9clarfation "),h.qZA(),h.TgZ(33,"mat-select"),h.YNc(34,yo,2,2,"mat-option",3),h.qZA()(),h.TgZ(35,"mat-form-field",1)(36,"mat-label"),h._uU(37,"Nature Dommage"),h.qZA(),h.TgZ(38,"mat-select",36),h.YNc(39,ua,2,2,"mat-option",3),h.qZA()(),h._UZ(40,"div"),h.TgZ(41,"mat-form-field",1)(42,"mat-label"),h._uU(43,"Situation sinistre"),h.qZA(),h.TgZ(44,"mat-select"),h.YNc(45,Os,2,2,"mat-option",3),h.qZA()()(),h.TgZ(46,"div",26)(47,"button",27),h.NdJ("click",function(){h.CHM(Pe);const yt=h.oxw();return h.KtG(yt.exportFormData("sinistreprov"))}),h._uU(48," Exporter en Excel "),h.qZA()()()()}if(2&Ce){const Pe=h.MAs(12),_t=h.oxw();h.xp6(3),h.Q6J("formGroup",_t.sinistreprovForm),h.xp6(6),h.Q6J("matDatepicker",Pe)("min",_t.minDate)("max",_t.today),h.xp6(1),h.Q6J("for",Pe),h.xp6(8),h.Q6J("ngForOf",_t.produits),h.xp6(5),h.Q6J("ngForOf",_t.packsprov),h.xp6(5),h.Q6J("ngForOf",_t.allAgencesDetails),h.xp6(6),h.Q6J("ngForOf",_t.allAgencesDetails),h.xp6(5),h.Q6J("ngForOf",_t.NatureDommage),h.xp6(6),h.Q6J("ngForOf",_t.dictionnaires)}}function ho(Ce,mt){if(1&Ce&&(h.TgZ(0,"mat-option",5),h._uU(1),h.qZA()),2&Ce){const Pe=mt.$implicit;h.Q6J("value",Pe.idCodeProduit),h.xp6(1),h.hij(" ",Pe.description," ")}}function Kr(Ce,mt){if(1&Ce&&(h.TgZ(0,"mat-option",5),h._uU(1),h.qZA()),2&Ce){const Pe=mt.$implicit;h.Q6J("value",Pe.idPack0),h.xp6(1),h.hij(" ",Pe.description," ")}}function es(Ce,mt){if(1&Ce&&(h.TgZ(0,"mat-option",5),h._uU(1),h.qZA()),2&Ce){const Pe=mt.$implicit;h.Q6J("value",Pe),h.xp6(1),h.hij(" ",Pe," ")}}function kl(Ce,mt){if(1&Ce&&(h.TgZ(0,"mat-option",5),h._uU(1),h.qZA()),2&Ce){const Pe=mt.$implicit;h.Q6J("value",Pe.garantie.idGarantie),h.xp6(1),h.hij(" ",Pe.garantie.description," ")}}function Ml(Ce,mt){if(1&Ce){const Pe=h.EpF();h.TgZ(0,"div")(1,"h2"),h._uU(2,"Rapport Sinistre sans suite"),h.qZA(),h.TgZ(3,"form",6)(4,"div",7)(5,"div",8)(6,"mat-form-field",9)(7,"mat-label"),h._uU(8,"Date \xe9mission Du"),h.qZA(),h._UZ(9,"input",10)(10,"mat-datepicker-toggle",11)(11,"mat-datepicker",null,12),h.qZA(),h.TgZ(13,"mat-form-field",9)(14,"mat-label"),h._uU(15,"Date \xe9mission Au"),h.qZA(),h._UZ(16,"input",13)(17,"mat-datepicker-toggle",11)(18,"mat-datepicker",null,14),h.qZA()()(),h.TgZ(20,"div",15)(21,"mat-form-field",20)(22,"mat-label"),h._uU(23,"Produit"),h.qZA(),h.TgZ(24,"mat-select",21),h.YNc(25,ho,2,2,"mat-option",3),h.qZA()(),h.TgZ(26,"mat-form-field",20)(27,"mat-label"),h._uU(28,"Pack"),h.qZA(),h.TgZ(29,"mat-select",32),h.YNc(30,Kr,2,2,"mat-option",3),h.qZA()(),h.TgZ(31,"mat-form-field",1)(32,"mat-label"),h._uU(33,"Nature Dommage"),h.qZA(),h.TgZ(34,"mat-select",36),h.YNc(35,es,2,2,"mat-option",3),h.qZA()()(),h.TgZ(36,"div",15)(37,"mat-form-field",20)(38,"mat-label"),h._uU(39,"Garantie"),h.qZA(),h.TgZ(40,"mat-select",33),h.YNc(41,kl,2,2,"mat-option",3),h.qZA()(),h.TgZ(42,"mat-form-field",20)(43,"mat-label"),h._uU(44,"Nom Gestionnaire"),h.qZA(),h._UZ(45,"mat-select",38),h.qZA(),h.TgZ(46,"mat-form-field",1)(47,"mat-label"),h._uU(48,"Motif"),h.qZA(),h._UZ(49,"mat-select",39),h.qZA()(),h.TgZ(50,"div",26)(51,"button",27),h.NdJ("click",function(){h.CHM(Pe);const yt=h.oxw();return h.KtG(yt.exportFormData("sinistressuite"))}),h._uU(52," Exporter en Excel "),h.qZA()()()()}if(2&Ce){const Pe=h.MAs(12),_t=h.MAs(19),yt=h.oxw();let rn;h.xp6(3),h.Q6J("formGroup",yt.sinistresuiteForm),h.xp6(1),h.Q6J("formGroup",yt.sinistreForm),h.xp6(5),h.Q6J("matDatepicker",Pe)("min",yt.minDate)("max",yt.today),h.xp6(1),h.Q6J("for",Pe),h.xp6(6),h.Q6J("matDatepicker",_t)("min",yt.startDateValue)("max",yt.maxEndDate)("disabled",!(null!=(rn=yt.sinistreForm.get("startDate"))&&rn.value)),h.xp6(1),h.Q6J("for",_t),h.xp6(8),h.Q6J("ngForOf",yt.produitsSuite),h.xp6(5),h.Q6J("ngForOf",yt.packsSuite),h.xp6(5),h.Q6J("ngForOf",yt.NatureDommage),h.xp6(6),h.Q6J("ngForOf",yt.garantiesSuite)}}const Ua=[{path:"dashboard",component:o},{path:"",redirectTo:"/dashboard",pathMatch:"full"},{path:"",loadChildren:()=>Promise.resolve().then(B.bind(B,967)).then(Ce=>Ce.VieModule)},{path:"",loadChildren:()=>Promise.resolve().then(B.bind(B,1308)).then(Ce=>Ce.GestionDevisModule)},{path:"",loadChildren:()=>Promise.resolve().then(B.bind(B,4294)).then(Ce=>Ce.GestionContratModule)},{path:"",loadChildren:()=>Promise.resolve().then(B.bind(B,9512)).then(Ce=>Ce.GestionSinistresModule)},{path:"",loadChildren:()=>Promise.resolve().then(B.bind(B,836)).then(Ce=>Ce.GestionAvenantModule)},{path:"",loadChildren:()=>Promise.resolve().then(B.bind(B,8749)).then(Ce=>Ce.GestionConventionModule)},{path:"",loadChildren:()=>Promise.resolve().then(B.bind(B,3394)).then(Ce=>Ce.GestionReductionModule)},{path:"",loadChildren:()=>Promise.resolve().then(B.bind(B,2720)).then(Ce=>Ce.AdministrationModule)},{path:"",loadChildren:()=>Promise.resolve().then(B.bind(B,8732)).then(Ce=>Ce.ReseauCommercialModule)},{path:"gestion-commercial-line",component:xt,canActivate:[e.k],data:{roles:["ROLE_SUPER_ADMIN","BO","BO_CL"]}},{path:"gestion-commercial-line/creation-commercial-line",component:rr,canActivate:[e.k],data:{roles:["ROLE_SUPER_ADMIN","BO","BO_CL"]}},{path:"gestion-commercial-line/:idContrat",component:ys,canActivate:[e.k],data:{roles:["ROLE_SUPER_ADMIN","BO","BO_CL"]}},{path:"gestion-commercial-line/create-site-police/:idContrat",component:zt,canActivate:[e.k],data:{roles:["ROLE_SUPER_ADMIN","BO","BO_CL"]}},{path:"production",component:(()=>{class Ce{constructor(Pe,_t,yt,rn,eo,sr,Dr,wr){this.fb=Pe,this.produitService=_t,this.agencesService=yt,this.authService=rn,this.packService=eo,this.avenantService=sr,this.dateAdapter=Dr,this.usersService=wr,this.produits=[],this.selectedSousProduits=[],this.agences=[],this.agencesUtilisateur=[],this.agenceUnique=null,this.afficherListeAgences=!1,this.aucuneAgence=!1,this.packs=[],this.avenants=[],this.zoneNom="",this.allAgencesDetails=[],this.maxDate=new Date("2025-01-01"),this.today=new Date,this.minDate=new Date("2025-01-01"),this.statutsQuittance=["\xc9mis","Encaiss\xe9","Annul\xe9"],this.societes=["Vie","Dommage"],this.isLoading=!1,this.dateRangeValidator=Or=>{const pr=Or.get("startDate")?.value,Za=Or.get("endDate")?.value;if(pr&&Za){const fl=new Date(Za).getTime()-new Date(pr).getTime();if(fl>2592e6||fl<0)return{dateRange:!0}}return null}}ngOnInit(){this.rapportForm=this.fb.group({produit:[],sousProduit:[{value:null,disabled:!0}],agence:["",ht.kI.required],codeUser:[""],pack:[{value:null,disabled:!0}],numeroPolice:[""],avenant:[""],statutQuittance:[""],zoneNom:"",nomAssure:["",[ht.kI.pattern("^[A-Za-z]+$")]],societe:[""],startDate:[null,[ht.kI.required]],endDate:[{value:null,disabled:!0},ht.kI.required],allCdcEmails:[""]},{validators:[this.dateRangeValidator]});const Pe=sessionStorage.getItem("roles");if(this.role=Pe?JSON.parse(Pe)[0]:null,"CDC"===this.role){const yt=sessionStorage.getItem("userEmail");this.cdcEmail=yt||""}else this.loadCdcUsers();this.rapportForm.get("startDate")?.valueChanges.subscribe(yt=>{if(yt){this.startDateValue=yt;const rn=new Date(yt);rn.setDate(rn.getDate()+30),this.maxEndDate=rn>this.today?this.today:rn;const eo=this.rapportForm.get("endDate");eo?.enable(),eo?.reset()}}),this.getAllProduits(),this.getAllAgenceDetails();const _t=this.Userinformation();if(this.rapportForm.patchValue({codeUser:_t.email?.slice(1,-1)}),_t.email){const yt=_t.email.replace(/"/g,"");this.authService.getUserId(yt).subscribe({next:rn=>{1===rn.agences?.length?(this.agenceUnique=rn.agences[0],this.rapportForm.patchValue({agence:`${this.agenceUnique.codeAgence} - ${this.agenceUnique.nomAgence}`}),this.afficherListeAgences=!1):rn.agences?.length>1?(this.agencesUtilisateur=rn.agences,this.afficherListeAgences=!0):this.aucuneAgence=!0},error:rn=>{console.error("Erreur lors de la r\xe9cup\xe9ration des agences utilisateur",rn),this.aucuneAgence=!0}})}this.rapportForm.get("sousProduit")?.valueChanges.subscribe(yt=>{yt&&this.getPacksByProduit(yt)}),this.rapportForm.get("produit")?.valueChanges.subscribe(yt=>{const rn=this.produits.find(sr=>sr.idCodeProduit===yt);this.selectedSousProduits=rn?.sousProduits||[];const eo=this.rapportForm.get("sousProduit");eo?.reset(),yt&&0!==this.selectedSousProduits.length?eo?.enable():eo?.disable(),this.packs=[],yt&&this.getPacksByProduit(yt)}),this.rapportForm.get("sousProduit")?.valueChanges.subscribe(yt=>{const rn=this.rapportForm.get("pack");rn?.reset(),yt?this.getPacksByProduit(yt):(this.packs=[],rn?.disable())}),this.rapportForm.get("numeroPolice")?.valueChanges.subscribe(yt=>{yt&&""!==yt.trim()?this.avenantService.getAvenantByContrat(yt).subscribe({next:rn=>{this.avenants=rn},error:rn=>{console.error("Erreur chargement avenants :",rn),this.avenants=[]}}):this.avenants=[]}),this.rapportForm.get("agence")?.valueChanges.subscribe(yt=>{if(yt?.trim()){const rn=yt.split(" - ")[0],eo=this.allAgencesDetails.find(sr=>sr.codeAgence===rn);eo?(this.zoneNom=eo.zone,this.rapportForm.get("zoneNom")?.setValue(eo.zone,{emitEvent:!1})):(this.zoneNom="",this.rapportForm.get("zoneNom")?.setValue("",{emitEvent:!1}))}})}loadCdcUsers(){this.usersService.getAllUsers().subscribe({next:Pe=>{console.log("Liste de user",Pe),this.cdcList=Pe.email,console.log("Liste des CDC:",this.cdcList)},error:Pe=>{console.error("Erreur lors du chargement des CDC:",Pe)}})}getMonthDifference(Pe,_t){return Math.abs(new Date(_t).getTime()-new Date(Pe).getTime())/2592e6}getAllProduits(){this.produitService.getAllProduits().subscribe({next:Pe=>{this.produits=Pe},error:Pe=>{console.error("Error fetching produits:",Pe)}})}getAllAgences(){this.agencesService.getAllAgence().subscribe({next:Pe=>{this.agences=Pe},error:Pe=>{console.log(Pe)}})}Userinformation(){return{id:Number(sessionStorage.getItem("userId")),email:sessionStorage.getItem("userEmail"),agence:Number(sessionStorage.getItem("agence"))}}AppartienAgence(){return{}}getPacksByProduit(Pe){this.packService.getPackByProduit(Pe).subscribe(_t=>{this.packs=_t||[];const yt=this.rapportForm.get("pack");this.packs.length>0?yt?.enable():yt?.disable()})}getAllAgenceDetails(){this.agencesService.getAllAgenceDetails().subscribe({next:Pe=>{this.allAgencesDetails=Pe},error:Pe=>{console.error("Erreur lors du chargement des agences :",Pe)}})}onSubmit(){if(this.rapportForm.invalid)return void this.rapportForm.markAllAsTouched();this.isLoading=!0;const Pe=this.rapportForm.getRawValue();console.log("Donn\xe9es envoy\xe9es au backend :",Pe),fetch("http://localhost:4200",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Pe)}).then(_t=>{if(this.isLoading=!1,!_t.ok)throw new Error("Erreur lors de la g\xe9n\xe9ration du fichier");return _t.blob()}).then(_t=>{const yt=window.URL.createObjectURL(_t),rn=document.createElement("a");rn.href=yt,rn.download="rapport.xlsx",rn.click(),window.URL.revokeObjectURL(yt)}).catch(_t=>{this.isLoading=!1,alert("Une erreur est survenue : "+_t.message)})}}return Ce.\u0275fac=function(Pe){return new(Pe||Ce)(h.Y36(ht.qu),h.Y36(yn.d),h.Y36(Kn.e),h.Y36(Un.g),h.Y36(wi.F),h.Y36(ro.n),h.Y36($i._A),h.Y36(ko.f))},Ce.\u0275cmp=h.Xpm({type:Ce,selectors:[["app-production"]],decls:80,vars:28,consts:[[1,"rapport-container"],[3,"formGroup"],[1,"form-row","date-range-row",3,"formGroup"],[1,"date-fields",3,"formGroup"],["appearance","outline",1,"date-field"],["matInput","","formControlName","startDate",3,"matDatepicker","min","max"],["matSuffix","",3,"for"],["picker1",""],["matInput","","formControlName","endDate",3,"matDatepicker","min","max","disabled"],["picker2",""],[1,"form-row"],[1,"form-column"],[4,"ngIf","ngIfElse"],["selectEmail",""],[4,"ngIf"],["appearance","outline","class","full-width-field",4,"ngIf"],["style","color: red;",4,"ngIf"],["appearance","outline",1,"full-width-field"],["matInput","","readonly","",3,"value"],["appearance","outline",1,"full-width"],["formControlName","produit"],[3,"value",4,"ngFor","ngForOf"],["formControlName","sousProduit"],["appearance","outline"],["formControlName","pack"],["appearance","outline",2,"width","100%"],["matInput","","type","text","formControlName","numeroPolice","placeholder","Entrez le num\xe9ro de police"],["formControlName","avenant"],["formControlName","statutQuittance"],["matInput","","formControlName","nomAssure","placeholder","Ex: Dupont"],["formControlName","societe"],[1,"form-row","right"],["mat-raised-button","","type","button",1,"btn-prod",3,"disabled","click"],["diameter","0","style","margin-left: 8px;",4,"ngIf"],[3,"value"],["matInput","","disabled","",3,"value"],["formControlName","agence"],[2,"color","red"],["diameter","0",2,"margin-left","8px"]],template:function(Pe,_t){if(1&Pe&&(h.TgZ(0,"div",0)(1,"h2"),h._uU(2,"Rapport Production"),h.qZA(),h.TgZ(3,"form",1)(4,"div",2)(5,"div",3)(6,"mat-form-field",4)(7,"mat-label"),h._uU(8,"Date \xe9mission Du"),h.qZA(),h._UZ(9,"input",5)(10,"mat-datepicker-toggle",6)(11,"mat-datepicker",null,7),h.qZA(),h.TgZ(13,"mat-form-field",4)(14,"mat-label"),h._uU(15,"Date \xe9mission Au"),h.qZA(),h._UZ(16,"input",8)(17,"mat-datepicker-toggle",6)(18,"mat-datepicker",null,9),h.qZA()()(),h.TgZ(20,"div",10)(21,"div",11),h.YNc(22,Rl,5,1,"div",12),h.YNc(23,rl,5,1,"ng-template",null,13,h.W1O),h.qZA(),h.TgZ(25,"div",11),h.YNc(26,Is,3,1,"div",14),h.YNc(27,Er,6,2,"mat-form-field",15),h.YNc(28,al,2,0,"div",16),h.qZA(),h.TgZ(29,"div",11)(30,"mat-form-field",17)(31,"mat-label"),h._uU(32,"Zone"),h.qZA(),h._UZ(33,"input",18),h.qZA()()(),h.TgZ(34,"div",10)(35,"mat-form-field",19)(36,"mat-label"),h._uU(37,"Produit"),h.qZA(),h.TgZ(38,"mat-select",20),h.YNc(39,Oi,2,2,"mat-option",21),h.qZA()(),h.TgZ(40,"mat-form-field",19)(41,"mat-label"),h._uU(42,"Sous Produit"),h.qZA(),h.TgZ(43,"mat-select",22),h.YNc(44,zi,2,3,"mat-option",21),h.qZA()(),h.TgZ(45,"mat-form-field",23)(46,"mat-label"),h._uU(47,"Pack"),h.qZA(),h.TgZ(48,"mat-select",24),h.YNc(49,wl,2,2,"mat-option",21),h.qZA()()(),h.TgZ(50,"div",10)(51,"mat-form-field",25)(52,"mat-label"),h._uU(53,"N\xb0 de Police"),h.qZA(),h._UZ(54,"input",26),h.qZA(),h.TgZ(55,"mat-form-field",25)(56,"mat-label"),h._uU(57,"Avenant"),h.qZA(),h.TgZ(58,"mat-select",27),h.YNc(59,sl,2,2,"mat-option",21),h.qZA()(),h.TgZ(60,"mat-form-field",19)(61,"mat-label"),h._uU(62,"Statut Quittance"),h.qZA(),h.TgZ(63,"mat-select",28),h.YNc(64,Fi,2,2,"mat-option",21),h.qZA()()(),h.TgZ(65,"div",10)(66,"mat-form-field",19)(67,"mat-label"),h._uU(68,"Nom de l\u2019assur\xe9"),h.qZA(),h._UZ(69,"input",29),h.YNc(70,ll,2,0,"mat-error",14),h.qZA(),h.TgZ(71,"mat-form-field",19)(72,"mat-label"),h._uU(73,"Soci\xe9t\xe9"),h.qZA(),h.TgZ(74,"mat-select",30),h.YNc(75,Wa,2,2,"mat-option",21),h.qZA()()(),h.TgZ(76,"div",31)(77,"button",32),h.NdJ("click",function(){return _t.onSubmit()}),h._uU(78),h.YNc(79,Tr,1,0,"mat-spinner",33),h.qZA()()()()),2&Pe){const yt=h.MAs(12),rn=h.MAs(19),eo=h.MAs(24);let sr,Dr;h.xp6(3),h.Q6J("formGroup",_t.rapportForm),h.xp6(1),h.Q6J("formGroup",_t.rapportForm),h.xp6(1),h.Q6J("formGroup",_t.rapportForm),h.xp6(4),h.Q6J("matDatepicker",yt)("min",_t.minDate)("max",_t.today),h.xp6(1),h.Q6J("for",yt),h.xp6(6),h.Q6J("matDatepicker",rn)("min",_t.startDateValue)("max",_t.maxEndDate)("disabled",!(null!=(sr=_t.rapportForm.get("startDate"))&&sr.value)),h.xp6(1),h.Q6J("for",rn),h.xp6(5),h.Q6J("ngIf","CDC"===_t.role)("ngIfElse",eo),h.xp6(4),h.Q6J("ngIf",_t.agenceUnique&&!_t.afficherListeAgences),h.xp6(1),h.Q6J("ngIf",_t.afficherListeAgences),h.xp6(1),h.Q6J("ngIf",_t.aucuneAgence),h.xp6(5),h.Q6J("value",_t.zoneNom),h.xp6(6),h.Q6J("ngForOf",_t.produits),h.xp6(5),h.Q6J("ngForOf",_t.selectedSousProduits),h.xp6(5),h.Q6J("ngForOf",_t.packs),h.xp6(10),h.Q6J("ngForOf",_t.avenants),h.xp6(5),h.Q6J("ngForOf",_t.statutsQuittance),h.xp6(6),h.Q6J("ngIf",(null==(Dr=_t.rapportForm.get("nomAssure"))?null:Dr.invalid)&&(null==(Dr=_t.rapportForm.get("nomAssure"))?null:Dr.touched)),h.xp6(5),h.Q6J("ngForOf",_t.societes),h.xp6(2),h.Q6J("disabled",_t.isLoading),h.xp6(1),h.hij(" ",_t.isLoading?"Chargement...":"Exporter"," "),h.xp6(1),h.Q6J("ngIf",_t.isLoading)}},dependencies:[Se.sg,Se.O5,ht._Y,ht.Fj,ht.JJ,ht.JL,ht.sg,ht.u,xi.TO,xi.KE,xi.hX,xi.R9,tn.Nt,Kt.Mq,Kt.hl,Kt.nW,hi.gD,$i.ey,J.lW,hr.Ou],styles:[".rapport-container[_ngcontent-%COMP%]{max-width:1320px;margin:auto;padding:20px;background:#fff;border-radius:12px;box-shadow:0 0 15px #0000001a}.rapport-container[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{height:60px;margin-bottom:10px}.rapport-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;color:#00008f;margin-bottom:20px}.rapport-container[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]{display:flex;gap:15px;width:100%;flex-wrap:wrap}.rapport-container[_ngcontent-%COMP%]   .form-row.right[_ngcontent-%COMP%]{justify-content:flex-end}.rapport-container[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{flex:1}.date-range-row[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}.date-fields[_ngcontent-%COMP%]{display:flex;margin:auto;flex-wrap:wrap}.date-field[_ngcontent-%COMP%]{min-width:350px;max-width:450px}.form-column[_ngcontent-%COMP%]{flex:1;min-width:250px}.full-width-field[_ngcontent-%COMP%]{width:100%}.btn-prod[_ngcontent-%COMP%]{background-color:#00008f;color:#fff}"]}),Ce})()},{path:"sinistre",component:(()=>{class Ce{constructor(Pe,_t,yt,rn,eo,sr,Dr){this.fb=Pe,this.produitService=_t,this.agencesService=yt,this.authService=rn,this.packService=eo,this.sinistreService=sr,this.genericService=Dr,this.today=new Date,this.minDate=new Date("2025-01-01"),this.statutsSinistre=["\xc9mis","Encaiss\xe9","Annul\xe9"],this.produits=[],this.afficherListeAgences=!1,this.agencesUtilisateur=[],this.agenceUnique=null,this.aucuneAgence=!1,this.agences=[],this.zoneNom="",this.allAgencesDetails=[],this.societes=["Vie","Dommage"],this.isLoading=!1,this.selectedForm="sinistres",this.availableForms=[{label:"sinistres",value:"sinistres"},{label:"sinistres d\xe9clar\xe9s",value:"sinistresdec"},{label:"sinistre en provisions",value:"sinistreprov"},{label:"sinistres sans suite",value:"sinistressuite"}],this.packs=[],this.AgencesDeSouscription=[],this.natureDommageList=[],this.CompagnieAdverse=["CompanyA","CompanyB","CompanyC","CompanyD","CompanyE","CompanyF"],this.NatureDommage=["M","Mc"],this.dictionnaires=[],this.produitsSuite=[],this.packsSuite=[],this.garantiesSuite=[],this.produitsDec=[],this.packsDec=[],this.packsprov=[],this.garantiesDec=[],this.produitssuite=[],this.dateRangeValidator=wr=>{const Or=wr.get("startDate")?.value,pr=wr.get("endDate")?.value;if(Or&&pr){const os=new Date(pr).getTime()-new Date(Or).getTime();if(os>2592e6||os<0)return{dateRange:!0}}return null}}ngOnInit(){this.initsinistreForm(),this.initsinistredecForm(),this.initsinistreprovForm(),this.initsinistresuiteForm(),this.getAllProduits(),this.getAllAgenceDetails(),this.getAllAgences(),this.getSituation()}onFormChange(){this.sinistreForm?.reset(),this.sinistredecForm?.reset(),this.sinistreprovForm?.reset(),this.sinistresuiteForm?.reset(),console.log("Form chang\xe9 :",this.selectedForm),"sinistres"===this.selectedForm?this.initsinistreForm():"sinistresdec"===this.selectedForm?this.initsinistredecForm():"sinistreprov"===this.selectedForm?this.initsinistreprovForm():"sinistressuite"===this.selectedForm&&this.initsinistresuiteForm()}initsinistreForm(){this.sinistreForm=this.fb.group({startDate:[null,[ht.kI.required]],endDate:[{value:null,disabled:!0},ht.kI.required],numeroPolice:[""],numeroSinistre:[null],numeroOP:[""],produit:[],agence:["",ht.kI.required],email:[""],pack:[""],avenant:[""],statutSinistre:[""],zoneNom:"",nomAssure:["",[ht.kI.pattern("^[A-Za-z]+$")]],societe:[""]},{validators:[this.dateRangeValidator]});const Pe=this.Userinformation();if(this.sinistreForm.patchValue({email:Pe.email?.slice(1,-1)}),Pe.email){const _t=Pe.email.replace(/"/g,"");this.authService.getUserId(_t).subscribe({next:yt=>{1===yt.agences?.length?(this.agenceUnique=yt.agences[0],this.sinistreForm.patchValue({agence:`${this.agenceUnique.codeAgence} - ${this.agenceUnique.nomAgence}`}),this.afficherListeAgences=!1):yt.agences?.length>1?(this.agencesUtilisateur=yt.agences,this.afficherListeAgences=!0):this.aucuneAgence=!0},error:yt=>{console.error("Erreur lors de la r\xe9cup\xe9ration des agences utilisateur",yt),this.aucuneAgence=!0}})}this.sinistreForm.get("agence")?.valueChanges.subscribe(_t=>{if(_t?.trim()){const yt=_t.split(" - ")[0],rn=this.allAgencesDetails.find(eo=>eo.codeAgence===yt);rn?(this.zoneNom=rn.zone,this.sinistreForm.get("zoneNom")?.setValue(rn.zone,{emitEvent:!1})):(this.zoneNom="",this.sinistreForm.get("zoneNom")?.setValue("",{emitEvent:!1}))}}),this.sinistreForm.get("startDate")?.valueChanges.subscribe(_t=>{if(_t){this.startDateValue=_t;const yt=new Date(_t);yt.setDate(yt.getDate()+30),this.maxEndDate=yt>this.today?this.today:yt;const rn=this.sinistreForm.get("endDate");rn?.enable(),rn?.reset()}}),this.sinistreForm.get("numeroPolice"),this.sinistreForm.get("numeroSinistre"),this.sinistreForm.get("numeroOP"),this.sinistreForm.get("produit")}initsinistredecForm(){this.sinistredecForm=this.fb.group({produit:[],pack:[{value:null,disabled:!0}],garantie:[{value:null,disabled:!0}],AgenceDeSouscription:[""],AgenceDeclaration:[""],CompagnieAdverse:[""],NatureDommage:[""],startDate:[null,[ht.kI.required]],endDate:[{value:null,disabled:!0},ht.kI.required]},{validators:[this.dateRangeValidator]}),this.produitService.getAllProduits().subscribe({next:Pe=>{this.produitsDec=Pe},error:Pe=>{console.error("Erreur chargement produits suite:",Pe)}}),this.sinistredecForm.get("produit")?.valueChanges.subscribe(Pe=>{const _t=this.sinistredecForm.get("pack"),yt=this.sinistredecForm.get("garantie");this.packsDec=[],this.garantiesDec=[],_t?.reset(),yt?.reset(),_t?.disable(),yt?.disable(),Pe&&this.packService.getPackByProduit(Pe).subscribe({next:rn=>{this.packsDec=rn||[],this.packsDec.length>0?_t?.enable():_t?.disable()},error:rn=>{console.error("Erreur chargement packs suite:",rn),this.packsDec=[],_t?.disable()}})}),this.sinistredecForm.get("pack")?.valueChanges.subscribe(Pe=>{const _t=this.sinistredecForm.get("garantie");this.garantiesDec=[],_t?.reset(),_t?.disable(),Pe&&this.packService.getGarantiePack(Pe).subscribe({next:yt=>{this.garantiesDec=yt||[],this.garantiesDec.length>0?_t?.enable():_t?.disable()},error:yt=>{console.error("Erreur chargement garanties suite:",yt),this.garantiesDec=[],_t?.disable()}})})}initsinistreprovForm(){this.sinistreprovForm=this.fb.group({produit:[],pack:[{value:null,disabled:!0}],AgenceDeSouscription:[""],AgenceDeclaration:[""],dictionnaires:[""],NatureDommage:[""],startDate:[null,[ht.kI.required]],endDate:[{value:null,disabled:!0},ht.kI.required]},{validators:[this.dateRangeValidator]}),this.sinistreprovForm.get("produit")?.valueChanges.subscribe(_t=>{const yt=this.sinistreprovForm.get("pack");this.packsprov=[],yt?.reset(),yt?.disable(),_t&&this.packService.getPackByProduit(_t).subscribe({next:rn=>{this.packsprov=rn||[],this.packsprov.length>0?yt?.enable():yt?.disable()},error:rn=>{console.error("Erreur chargement packs suite:",rn),this.packsprov=[],yt?.disable()}})}),this.sinistreprovForm.get("pack")?.valueChanges.subscribe(_t=>{_t&&this.getGarantiePack(_t)}),this.getDictionnaireData(8)}initsinistresuiteForm(){this.sinistresuiteForm=this.fb.group({produit:[],pack:[{value:null,disabled:!0}],garantie:[{value:null,disabled:!0}],NatureDommage:[""],startDate:[null,[ht.kI.required]],endDate:[{value:null,disabled:!0},ht.kI.required]},{validators:[this.dateRangeValidator]}),this.produitService.getAllProduits().subscribe({next:Pe=>{this.produitsSuite=Pe},error:Pe=>{console.error("Erreur chargement produits suite:",Pe)}}),this.sinistresuiteForm.get("produit")?.valueChanges.subscribe(Pe=>{const _t=this.sinistresuiteForm.get("pack"),yt=this.sinistresuiteForm.get("garantie");this.packsSuite=[],this.garantiesSuite=[],_t?.reset(),yt?.reset(),_t?.disable(),yt?.disable(),Pe&&this.packService.getPackByProduit(Pe).subscribe({next:rn=>{this.packsSuite=rn||[],this.packsSuite.length>0?_t?.enable():_t?.disable()},error:rn=>{console.error("Erreur chargement packs suite:",rn),this.packsSuite=[],_t?.disable()}})}),this.sinistresuiteForm.get("pack")?.valueChanges.subscribe(Pe=>{const _t=this.sinistresuiteForm.get("garantie");this.garantiesSuite=[],_t?.reset(),_t?.disable(),Pe&&this.packService.getGarantiePack(Pe).subscribe({next:yt=>{this.garantiesSuite=yt||[],this.garantiesSuite.length>0?_t?.enable():_t?.disable()},error:yt=>{console.error("Erreur chargement garanties suite:",yt),this.garantiesSuite=[],_t?.disable()}})})}getAllProduits(){this.produitService.getAllProduits().subscribe({next:Pe=>{this.produits=Pe},error:Pe=>{console.error("Error fetching produits:",Pe)}})}getAllAgences(){this.agencesService.getAllAgence().subscribe({next:Pe=>{this.agences=Pe},error:Pe=>{console.log(Pe)}})}Userinformation(){return{id:Number(sessionStorage.getItem("userId")),email:sessionStorage.getItem("userEmail"),agence:Number(sessionStorage.getItem("agence"))}}getAllAgenceDetails(){this.agencesService.getAllAgenceDetails().subscribe({next:Pe=>{this.allAgencesDetails=Pe},error:Pe=>{console.error("Erreur lors du chargement des agences :",Pe)}})}getPacksByProduit(Pe){this.packService.getPackByProduit(Pe).subscribe({next:_t=>{this.packs=_t},error:_t=>{console.error("Erreur lors du chargement des packs:",_t),this.packs=[]}})}getGarantiePack(Pe){this.packService.getGarantiePack(Pe).subscribe({next:_t=>{this.garanties=_t,console.log("Garanties:",_t)},error:_t=>{console.error("Erreur lors du chargement des garanties:",_t),this.garanties=[]}})}getDictionnaireData(Pe){this.sinistreService.getDictionnaire(Pe).subscribe({next:_t=>{console.log("Dictionnaire:",_t),this.dictionnaires=_t},error:_t=>{console.error("Erreur lors du chargement du dictionnaire:",_t)}})}exportFormData(Pe){let _t;switch(Pe){case"sinistres":if(this.sinistreForm.invalid)return;_t=this.sinistreForm.value;break;case"sinistresdec":if(this.sinistredecForm.invalid)return;_t=this.sinistredecForm.value;break;case"sinistresuite":if(this.sinistresuiteForm.invalid)return;_t=this.sinistresuiteForm.value;break;case"sinistreprov":if(this.sinistreprovForm.invalid)return;_t=this.sinistreprovForm.value;break;default:return}this.http.post("loclahost:4000/export",_t,{responseType:"blob"}).subscribe(yt=>{const rn=new Blob([yt],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),eo=window.URL.createObjectURL(rn),sr=document.createElement("a");sr.href=eo,sr.download=`rapport-${Pe}.xlsx`,sr.click(),window.URL.revokeObjectURL(eo)},yt=>{console.error("Erreur export:",yt)})}getSituation(){this.genericService.getParam(JSON.parse(sessionStorage.getItem("dictionnaire")||"{}").find(Pe=>"C48"==Pe.code).idCategorie).subscribe({next:Pe=>{this.situations=Pe},error:Pe=>{}})}}return Ce.\u0275fac=function(Pe){return new(Pe||Ce)(h.Y36(ht.qu),h.Y36(yn.d),h.Y36(Kn.e),h.Y36(Un.g),h.Y36(wi.F),h.Y36(pi.m),h.Y36(Qn.M))},Ce.\u0275cmp=h.Xpm({type:Ce,selectors:[["app-components"]],decls:10,vars:6,consts:[[1,"rapport-container"],["appearance","outline"],[3,"value","valueChange","selectionChange"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],[3,"value"],[3,"formGroup"],[1,"form-row","date-range-row",3,"formGroup"],[1,"date-fields"],["appearance","outline",1,"date-field"],["matInput","","formControlName","startDate",3,"matDatepicker","min","max"],["matSuffix","",3,"for"],["picker1",""],["matInput","","formControlName","endDate",3,"matDatepicker","min","max","disabled"],["picker2",""],[1,"form-row"],["matInput","","type","text","formControlName","numeroSinistre","placeholder","Entrez le num\xe9ro de Sinistre"],["matInput","","type","text","formControlName","numeroPolice","placeholder","Entrez le num\xe9ro de police"],["matInput","","type","text","formControlName","numeroOP","placeholder","Entrez le num\xe9ro de OP"],["appearance","outline",1,"full-width-field"],["appearance","outline",1,"full-width"],["formControlName","produit"],["appearance","outline","style","width: 100%;",4,"ngIf"],["style","color: red;",4,"ngIf"],["matInput","","readonly","",3,"value"],["formControlName","societe"],[1,"form-row","right"],["mat-raised-button","",1,"btn-rap",3,"click"],["appearance","outline",2,"width","100%"],["matInput","","disabled","",3,"value"],["formControlName","agence"],[2,"color","red"],["formControlName","pack"],["formControlName","garantie"],["formControlName","CompagnieAdverse"],[1,"one-mat"],["formControlName","NatureDommage"],["appearance","outline",1,"date-field",2,"width","100%"],["formControlName","NomGestionnaire"],["formControlName","Motif"]],template:function(Pe,_t){1&Pe&&(h.TgZ(0,"div",0)(1,"mat-form-field",1)(2,"mat-label"),h._uU(3,"Choisir un type de rapport"),h.qZA(),h.TgZ(4,"mat-select",2),h.NdJ("valueChange",function(rn){return _t.selectedForm=rn})("selectionChange",function(){return _t.onFormChange()}),h.YNc(5,Xa,2,2,"mat-option",3),h.qZA()(),h.YNc(6,Es,62,19,"div",4),h.YNc(7,Br,62,18,"div",4),h.YNc(8,ks,49,11,"div",4),h.YNc(9,Ml,53,15,"div",4),h.qZA()),2&Pe&&(h.xp6(4),h.Q6J("value",_t.selectedForm),h.xp6(1),h.Q6J("ngForOf",_t.availableForms),h.xp6(1),h.Q6J("ngIf","sinistres"===_t.selectedForm),h.xp6(1),h.Q6J("ngIf","sinistresdec"===_t.selectedForm),h.xp6(1),h.Q6J("ngIf","sinistreprov"===_t.selectedForm),h.xp6(1),h.Q6J("ngIf","sinistressuite"===_t.selectedForm))},dependencies:[Se.sg,Se.O5,ht._Y,ht.Fj,ht.JJ,ht.JL,ht.sg,ht.u,xi.TO,xi.KE,xi.hX,xi.R9,tn.Nt,Kt.Mq,Kt.hl,Kt.nW,hi.gD,$i.ey,J.lW],styles:[".rapport-container[_ngcontent-%COMP%]{max-width:1320px;margin:auto;padding:20px;background:#fff;border-radius:12px;box-shadow:0 0 15px #0000001a}.rapport-container[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{height:60px;margin-bottom:10px}.rapport-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;color:#00008f;margin-bottom:20px}.rapport-container[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]{display:flex;gap:15px;width:100%;flex-wrap:wrap}.rapport-container[_ngcontent-%COMP%]   .form-row.right[_ngcontent-%COMP%]{justify-content:flex-end}.rapport-container[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{flex:1}.date-range-row[_ngcontent-%COMP%]{display:flex;gap:20px;flex-wrap:wrap}.date-fields[_ngcontent-%COMP%]{display:flex;margin:auto;gap:15px;flex-wrap:wrap}.date-field[_ngcontent-%COMP%]{min-width:350px;max-width:450px}.btn-rap[_ngcontent-%COMP%]{background-color:#00008f;color:#fff}.one-mat[_ngcontent-%COMP%]{display:flex;flex:.3256}"]}),Ce})()}];let Ul=(()=>{class Ce{}return Ce.\u0275fac=function(Pe){return new(Pe||Ce)},Ce.\u0275mod=h.oAB({type:Ce}),Ce.\u0275inj=h.cJS({imports:[Ge.Bz.forChild(Ua),Ge.Bz]}),Ce})();var dl=B(4466),tr=B(294),Ms=B(6838),Dn=B(4479),ts=B(3567),Kl=B(3394),ns=B(8749),Pa=B(9512),Ho=B(1308),ma=B(4294),wo=B(2720),Us=B(8732),is=B(836),_l=B(967);const Fs=[{path:"",loadChildren:()=>B.e(208).then(B.bind(B,3208)).then(Ce=>Ce.GestionDevisCommercialLineModule)}];let Fl=(()=>{class Ce{}return Ce.\u0275fac=function(Pe){return new(Pe||Ce)},Ce.\u0275mod=h.oAB({type:Ce}),Ce.\u0275inj=h.cJS({imports:[Ge.Bz.forChild(Fs),Ge.Bz]}),Ce})();const Qs={parse:{dateInput:"DD/MM/YYYY"},display:{dateInput:"DD/MM/YYYY",monthYearLabel:"MMMM YYYY",dateA11yLabel:"LL",monthYearA11yLabel:"MMMM YYYY"}};let Ql=(()=>{class Ce{}return Ce.\u0275fac=function(Pe){return new(Pe||Ce)},Ce.\u0275mod=h.oAB({type:Ce}),Ce.\u0275inj=h.cJS({providers:[{provide:$i._A,useClass:Dn.t},{provide:$i.sG,useValue:Qs},ts.b],imports:[Se.ez,Fl]}),Ce})();const pl={parse:{dateInput:"DD/MM/YYYY"},display:{dateInput:"DD/MM/YYYY",monthYearLabel:"MMMM YYYY",dateA11yLabel:"LL",monthYearA11yLabel:"MMMM YYYY"}};let Jl=(()=>{class Ce{}return Ce.\u0275fac=function(Pe){return new(Pe||Ce)},Ce.\u0275mod=h.oAB({type:Ce}),Ce.\u0275inj=h.cJS({providers:[{provide:$i._A,useClass:Dn.t},{provide:$i.sG,useValue:pl},ts.b],imports:[Ql,_l.VieModule,Kl.GestionReductionModule,ns.GestionConventionModule,Pa.GestionSinistresModule,Ho.GestionDevisModule,ma.GestionContratModule,wo.AdministrationModule,Us.ReseauCommercialModule,is.GestionAvenantModule,K.q,Ms.FF,Se.ez,Ul,dl.m,w.vQ,tr.I]}),Ce})()},3412:(co,wn,B)=>{"use strict";B.d(wn,{D:()=>Mt});var Se=B(7155),K=B(4650),Ge=B(3776),h=B(2510),ee=B(7179),me=B(6895),Le=B(7392),Q=B(7084),w=B(266),o=B(1572),e=B(2768);function xe(Lt,xt){1&Lt&&(K.TgZ(0,"th",29),K._uU(1," Garantie"),K.qZA())}function n(Lt,xt){if(1&Lt&&(K.TgZ(0,"td",30),K._uU(1),K.qZA()),2&Lt){const ht=xt.$implicit;K.xp6(1),K.hij(" ",ht.description," ")}}function i(Lt,xt){1&Lt&&(K.TgZ(0,"th",29),K._uU(1," Plafond "),K.qZA())}function Z(Lt,xt){if(1&Lt&&(K.TgZ(0,"td",30),K._uU(1),K.qZA()),2&Lt){const ht=xt.$implicit;K.xp6(1),K.hij(" ",ht.plafond," ")}}function O(Lt,xt){1&Lt&&(K.TgZ(0,"th",29),K._uU(1," Franchise "),K.qZA())}function J(Lt,xt){if(1&Lt&&(K.TgZ(0,"td",30),K._uU(1),K.qZA()),2&Lt){const ht=xt.$implicit;K.xp6(1),K.hij(" ",ht.franchise," ")}}function he(Lt,xt){1&Lt&&(K.TgZ(0,"th",29),K._uU(1," Formule "),K.qZA())}function Ze(Lt,xt){if(1&Lt&&(K.TgZ(0,"td",30),K._uU(1),K.qZA()),2&Lt){const ht=xt.$implicit;K.xp6(1),K.hij(" ",ht.formule," ")}}function l(Lt,xt){1&Lt&&(K.TgZ(0,"th",29),K._uU(1," Prime "),K.qZA())}function t(Lt,xt){if(1&Lt&&(K.TgZ(0,"td",30),K._uU(1),K.TgZ(2,"sup"),K._uU(3,"DA"),K.qZA()()),2&Lt){const ht=xt.$implicit;K.xp6(1),K.hij(" ",ht.prime,"")}}function Ft(Lt,xt){1&Lt&&K._UZ(0,"tr",31)}function ln(Lt,xt){1&Lt&&K._UZ(0,"tr",32)}function ut(Lt,xt){if(1&Lt&&(K.TgZ(0,"mat-expansion-panel",7)(1,"mat-expansion-panel-header")(2,"mat-panel-title"),K._uU(3),K.qZA()(),K.TgZ(4,"mat-expansion-panel",18)(5,"mat-expansion-panel-header")(6,"mat-panel-title"),K._uU(7," Pack "),K.qZA()(),K.TgZ(8,"table",19),K.ynx(9,20),K.YNc(10,xe,2,0,"th",21),K.YNc(11,n,2,1,"td",22),K.BQk(),K.ynx(12,23),K.YNc(13,i,2,0,"th",21),K.YNc(14,Z,2,1,"td",22),K.BQk(),K.ynx(15,24),K.YNc(16,O,2,0,"th",21),K.YNc(17,J,2,1,"td",22),K.BQk(),K.ynx(18,25),K.YNc(19,he,2,0,"th",21),K.YNc(20,Ze,2,1,"td",22),K.BQk(),K.ynx(21,26),K.YNc(22,l,2,0,"th",21),K.YNc(23,t,4,1,"td",22),K.BQk(),K.YNc(24,Ft,1,0,"tr",27),K.YNc(25,ln,1,0,"tr",28),K.qZA()()()),2&Lt){const ht=xt.$implicit,Yn=K.oxw(3);K.Q6J("expanded",!0),K.xp6(3),K.hij(" Risque N\xb0",ht.idRisque," "),K.xp6(1),K.Q6J("expanded",!0),K.xp6(4),K.Q6J("dataSource",ht.garanties),K.xp6(16),K.Q6J("matHeaderRowDef",Yn.displayedColumnsPack),K.xp6(1),K.Q6J("matRowDefColumns",Yn.displayedColumnsPack)}}function ot(Lt,xt){if(1&Lt&&(K.ynx(0),K.YNc(1,ut,26,6,"mat-expansion-panel",17),K.BQk()),2&Lt){const ht=K.oxw(2);K.xp6(1),K.Q6J("ngForOf",ht.tabRisquesPack)}}function tt(Lt,xt){if(1&Lt&&(K.ynx(0),K.TgZ(1,"td"),K._uU(2),K.qZA(),K.TgZ(3,"td"),K._uU(4),K.ALo(5,"money"),K.ALo(6,"number"),K.TgZ(7,"sup"),K._uU(8,"DA"),K.qZA()(),K.BQk()),2&Lt){const ht=K.oxw().$implicit;K.xp6(2),K.Oqu(ht.typePrime.description),K.xp6(2),K.hij("",K.lcZ(5,2,K.xi3(6,4,ht.primeProrata,"1.0-0"))," ")}}function Zt(Lt,xt){if(1&Lt&&(K.TgZ(0,"tr"),K.YNc(1,tt,9,7,"ng-container",14),K.qZA()),2&Lt){const ht=xt.$implicit;K.xp6(1),K.Q6J("ngIf",101==ht.typePrime.idParam)}}function nn(Lt,xt){if(1&Lt&&(K.TgZ(0,"tr")(1,"td"),K._uU(2),K.qZA(),K.TgZ(3,"td"),K._uU(4),K.ALo(5,"money"),K.ALo(6,"number"),K.TgZ(7,"sup"),K._uU(8,"DA"),K.qZA()()()),2&Lt){const ht=xt.$implicit;K.xp6(2),K.Oqu(ht.taxe.description),K.xp6(2),K.hij("",K.lcZ(5,2,K.xi3(6,4,ht.primeProrata,"1.0-0"))," ")}}function _n(Lt,xt){if(1&Lt&&(K.ynx(0),K.TgZ(1,"td",33),K._uU(2),K.qZA(),K.TgZ(3,"td",33),K._uU(4),K.ALo(5,"money"),K.ALo(6,"number"),K.TgZ(7,"sup"),K._uU(8,"DA"),K.qZA()(),K.BQk()),2&Lt){const ht=K.oxw().$implicit;K.xp6(2),K.Oqu(ht.typePrime.description),K.xp6(2),K.hij("",K.lcZ(5,2,K.xi3(6,4,ht.primeProrata,"1.0-0"))," ")}}function xn(Lt,xt){if(1&Lt&&(K.TgZ(0,"tr"),K.YNc(1,_n,9,7,"ng-container",14),K.qZA()),2&Lt){const ht=xt.$implicit;K.xp6(1),K.Q6J("ngIf",186==ht.typePrime.idParam)}}const mn=function(Lt){return[Lt]};function Ri(Lt,xt){if(1&Lt&&(K.TgZ(0,"div",3)(1,"h2",4)(2,"mat-icon",5),K._uU(3,"arrow_circle_left"),K.qZA(),K._uU(4),K.qZA(),K.TgZ(5,"mat-accordion",6)(6,"mat-expansion-panel",7)(7,"mat-expansion-panel-header")(8,"mat-panel-title"),K._uU(9," Quittance "),K.qZA()(),K.TgZ(10,"div",8)(11,"div",9)(12,"div",10)(13,"div",11)(14,"div",12),K._uU(15,"Num\xe9ro de police : "),K.qZA(),K.TgZ(16,"div",13),K._uU(17),K.qZA()()(),K.TgZ(18,"div",10)(19,"div",11)(20,"div",12),K._uU(21,"Num\xe9ro quittance : "),K.qZA(),K.TgZ(22,"div",13),K._uU(23),K.qZA()()()(),K.TgZ(24,"div",9)(25,"div",10)(26,"div",11)(27,"div",12),K._uU(28,"Etat de la quittance : "),K.qZA(),K.TgZ(29,"div",13),K._uU(30),K.qZA()()()()()(),K.YNc(31,ot,2,1,"ng-container",14),K.TgZ(32,"mat-expansion-panel",7)(33,"mat-expansion-panel-header")(34,"mat-panel-title"),K._uU(35," Prime "),K.qZA()(),K.TgZ(36,"table",15),K.YNc(37,Zt,2,1,"tr",16),K.YNc(38,nn,9,7,"tr",16),K.YNc(39,xn,2,1,"tr",16),K.qZA()()()()),2&Lt){const ht=K.oxw();K.xp6(2),K.Q6J("routerLink","20A"==ht.codeProduit||"20G"==ht.codeProduit?K.VKq(11,mn,"/consultation-avenants/vie/"+ht.codeProduit+"/"+(null==ht.quittance?null:ht.quittance.idContrat)):K.VKq(13,mn,"/consultation-avenants/"+ht.codeProduit+"/"+(null==ht.quittance?null:ht.quittance.idContrat))),K.xp6(2),K.hij(" Consultation quittance N\xb0",ht.quittance.idQuittance,""),K.xp6(2),K.Q6J("expanded",!0),K.xp6(11),K.hij("",ht.quittance.idContrat," "),K.xp6(6),K.hij("",ht.quittance.idQuittance," "),K.xp6(7),K.Oqu(ht.quittance.statue.description),K.xp6(1),K.Q6J("ngIf",0!=ht.quittance.risqueList.length),K.xp6(1),K.Q6J("expanded",!0),K.xp6(5),K.Q6J("ngForOf",ht.dataSourcePrime),K.xp6(1),K.Q6J("ngForOf",ht.dataSourceTaxe),K.xp6(1),K.Q6J("ngForOf",ht.dataSourcePrime)}}function Xn(Lt,xt){1&Lt&&K._UZ(0,"mat-spinner",34)}let Mt=(()=>{class Lt{constructor(ht,Yn,Jn,pi){this.genericService=ht,this.route=Yn,this.contratService=Jn,this.router=pi,this.dataSourcePack=new Se.by,this.displayedColumnsPack=["description","plafond","franchise","formule","prime"],this.displayedColumnsPrime=["description","prime"],this.informationsPack=[],this.tabRisquesPack=[],this.codeProduit=[],this.multiRisque=!1}ngOnInit(){this.getInfoProduit(),this.idQuittance=this.route.snapshot.paramMap.get("idQuittance"),this.codeProduit=this.route.snapshot.paramMap.get("codeProduit"),this.getQuittance()}getInfoProduit(){let ht=JSON.parse(sessionStorage.getItem("products")||"{}").find(Yn=>Yn.codeProduit==this.route.snapshot.paramMap.get("codeProduit")).idProduit;this.genericService.getPorduitById(ht).subscribe({next:Yn=>{this.multiRisque="Oui"==Yn.param_Produit_Reponses.filter(Jn=>"multirisque"==Jn.idParamProduit.libelle)[0].reponse.description},error:Yn=>{console.log(Yn)}})}getQuittance(){this.contratService.getQuittanceById(this.idQuittance).subscribe({next:ht=>{this.quittance=ht,this.multiRisque?ht.risqueList.map(Yn=>{Yn.garantieList.map(Jn=>{let pi="/",Qn="/",Kn="/";Jn.categorieList.map(xi=>{"C15"==xi.code?Kn=xi.valeur:"C16"==xi.code?Qn=xi.valeur:"C7"==xi.code&&(pi=xi.valeur)}),this.informationsPack.push({idGarantie:Jn.idGarantie,description:Jn.description,prime:Number(Jn.primeProrata).toFixed(2),plafond:pi,formule:Qn,franchise:Kn})}),this.tabRisquesPack.push({idRisque:Yn.risque,garanties:new Se.by(this.informationsPack)})}):(ht.risqueList[0]?.garantieList.map(Yn=>{let Jn="/",pi="/",Qn="/";Yn.categorieList.map(Kn=>{"C15"==Kn.code?Qn=Kn.valeur:"C16"==Kn.code?pi=Kn.valeur:"C7"==Kn.code&&(Jn=Kn.valeur)}),this.informationsPack.push({idGarantie:Yn.idGarantie,description:Yn.description,prime:Number(Yn.primeProrata).toFixed(2),plafond:Jn,formule:pi,franchise:Qn})}),this.tabRisquesPack.push({idRisque:ht?.risqueList[0]?.risque,garanties:new Se.by(this.informationsPack)})),this.dataSourcePrime=ht.primeList,this.dataSourceTaxe=ht.taxeList},error:ht=>{console.log(ht)}})}}return Lt.\u0275fac=function(ht){return new(ht||Lt)(K.Y36(Ge.M),K.Y36(h.gz),K.Y36(ee.H),K.Y36(h.F0))},Lt.\u0275cmp=K.Xpm({type:Lt,selectors:[["app-consult-quittance"]],decls:3,vars:2,consts:[["class","container",4,"ngIf"],[1,"center-spinner"],["diameter","100",4,"ngIf"],[1,"container"],[1,"header-title"],["aria-hidden","false","matTooltip","Retour","matTooltipPosition","left",1,"material-symbols-outlined",3,"routerLink"],["multi","",1,"example-headers-align"],["hideToggle","",3,"expanded"],[1,"container",2,"padding","1rem 2rem"],[1,"row","infos"],[1,"col-md-6"],[1,"row"],[1,"col-md-6","key"],[1,"col-md-6","value"],[4,"ngIf"],[1,"resume"],[4,"ngFor","ngForOf"],["hideToggle","",3,"expanded",4,"ngFor","ngForOf"],["hideToggle","",1,"child-expansion",3,"expanded"],["mat-table","",1,"pack-table",3,"dataSource"],["matColumnDef","description"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","plafond"],["matColumnDef","franchise"],["matColumnDef","formule"],["matColumnDef","prime"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],["mat-header-row",""],["mat-row",""],[1,"primeTotale"],["diameter","100"]],template:function(ht,Yn){1&ht&&(K.YNc(0,Ri,40,15,"div",0),K.TgZ(1,"div",1),K.YNc(2,Xn,1,0,"mat-spinner",2),K.qZA()),2&ht&&(K.Q6J("ngIf",Yn.quittance),K.xp6(2),K.Q6J("ngIf",!Yn.quittance))},dependencies:[me.sg,me.O5,Le.Hw,Q.pp,Q.ib,Q.yz,Q.yK,Se.BZ,Se.fO,Se.as,Se.w1,Se.Dz,Se.nj,Se.ge,Se.ev,Se.XQ,Se.Gk,w.gM,o.Ou,h.rH,me.JJ,e.X],styles:[".container[_ngcontent-%COMP%]{background-color:#fff;padding:40px 0;height:100%;overflow-x:hidden;box-shadow:0 .5rem 1rem #00000026}.mat-expansion-panel-header[_ngcontent-%COMP%]{background:rgba(199,199,199,.2)!important;font-weight:600;font-size:16px}.mat-expansion-panel-header.mat-expanded[_ngcontent-%COMP%]{height:48px}.mat-expansion-panel-header-title[_ngcontent-%COMP%]{color:#00008f}.child-expansion[_ngcontent-%COMP%]{margin:2rem}.mat-expansion-panel[_ngcontent-%COMP%]:not([class*=mat-elevation-z]){box-shadow:none}.row.infos[_ngcontent-%COMP%]{font-size:16px;margin-bottom:2rem;font-weight:600}.panel-risque[_ngcontent-%COMP%]   .row.infos[_ngcontent-%COMP%]{margin-left:10px;margin-top:10px}.panel-risque[_ngcontent-%COMP%]{width:70%}.categoryTitle[_ngcontent-%COMP%]{text-transform:capitalize}.value[_ngcontent-%COMP%]{color:#00008f;font-weight:600}h2.header-title[_ngcontent-%COMP%]{padding:0 24px;font-size:21px!important;color:#00008f;font-weight:600!important;letter-spacing:1px;display:flex;justify-content:space-between}table.pack-table[_ngcontent-%COMP%]{width:100%;margin-top:1rem}.mat-header-row[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{color:#00008f}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:16px;font-weight:600;border-right:1px solid #e7e7e7;padding-left:1rem}.mat-header-cell[_ngcontent-%COMP%]{color:#333;font-weight:600;letter-spacing:.5px;font-size:15px}table.resume[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;border-spacing:0 19px}table.resume[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:17px;padding:12px 19px;border:1px solid rgba(0,0,0,.12)}.resume-buttons[_ngcontent-%COMP%]{margin-top:4rem;width:50%;display:flex;justify-content:space-between}.resume-buttons[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{margin-right:9px;font-size:24px}.center-spinner[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%) translateY(-50%)}"]}),Lt})()},836:(co,wn,B)=>{"use strict";B.r(wn),B.d(wn,{GestionAvenantModule:()=>Up});var Se=B(6895),K=B(2510),Ge=B(9523),h=B(5861),ee=B(8739),me=B(6308),Le=B(7155),Q=B(5412),w=B(4006),o=B(4650),e=B(3567),xe=B(7179),n=B(5210),i=B(4850),Z=B(9549),O=B(4385),J=B(3238),he=B(6838);function Ze(y,ne){if(1&y&&(o.ynx(0),o.TgZ(1,"mat-option",11),o._uU(2),o.qZA(),o.BQk()),2&y){const u=ne.$implicit;o.xp6(1),o.Q6J("value",u),o.xp6(1),o.hij(" ",u.description," ")}}function l(y,ne){if(1&y&&(o.ynx(0),o.TgZ(1,"mat-option",11),o._uU(2),o.qZA(),o.BQk()),2&y){const u=ne.$implicit,M=o.oxw(2);o.xp6(1),o.ekj("hide",!M.isFiltered(u)),o.Q6J("value",u),o.xp6(1),o.hij(" ",u.description," ")}}function t(y,ne){if(1&y){const u=o.EpF();o.TgZ(0,"mat-form-field",4)(1,"mat-label"),o._uU(2,"Risque"),o.qZA(),o.TgZ(3,"mat-select",12)(4,"mat-select-filter",13),o.NdJ("filteredReturn",function(W){o.CHM(u);const ie=o.oxw();return o.KtG(ie.filteredcausesRisques=W)}),o.qZA(),o.YNc(5,l,3,4,"ng-container",6),o.qZA()()}if(2&y){const u=o.oxw();o.xp6(3),o.Q6J("multiple","A11"!=u.typeAvenant.code),o.xp6(1),o.Q6J("displayMember","description")("array",u.risques),o.xp6(1),o.Q6J("ngForOf",u.risques)}}let Ft=(()=>{class y{constructor(u,M,W,ie,ve,Re,Oe,ke){this.formBuilder=u,this.dataTransferService=M,this.contratService=W,this.route=ie,this.data=ve,this.dialogRef=Re,this.avenantService=Oe,this.router=ke,this.types_avenant=[],this.getTypeAvenant={idProduit:"",idAvenantPrecedent:""},this.today=new Date,this.dateExpirationContrat=new Date(this.data.dateExpiration),this.multiRisque=!1,this.risquesArray=[]}ngOnInit(){this.formTypeAvenant=this.formBuilder.group({typeAvenant:["",[w.kI.required]],risque:["",[]]}),this.types_avenant=this.data.types_avenant}isFiltered(u){return this.filteredcausesRisques.find(M=>M.idRisque===u.idRisque)}getInfoAvenant(){this.dataTransferService.emptyDataArray(),this.avenantService.getAvenantById(this.typeAvenant.idTypeAvenant).subscribe({next:u=>{this.multiRisque=u.multirisque,this.multiRisque?this.formTypeAvenant.get("risque")?.setValidators([w.kI.required]):this.formTypeAvenant.get("risque")?.setValidators([]),this.multiRisque&&this.contratService.getRisquesByContrat(this.data.idContrat,this.data.codeProduit).subscribe({next:M=>{this.risques=M,this.filteredcausesRisques=this.risques.slice(),"A03"==this.typeAvenant.code||"A04"==this.typeAvenant.code?(this.formTypeAvenant.get("risque")?.setValue(M),this.formTypeAvenant.get("risque")?.disable()):(this.formTypeAvenant.get("risque")?.setValue(""),this.formTypeAvenant.get("risque")?.enable())},error:M=>{console.log(M)}})},error:u=>{console.log(u)}})}submitAvenant(){this.formTypeAvenant.valid&&(this.dataTransferService.setDataRisquesArray(this.formTypeAvenant.get("risque")?.value),this.dialogRef.close(),this.router.navigate(["application-avenant/"+this.data.codeProduit+"/"+this.typeAvenant.idTypeAvenant+"/"+this.data.idContrat]))}}return y.\u0275fac=function(u){return new(u||y)(o.Y36(w.qu),o.Y36(e.b),o.Y36(xe.H),o.Y36(K.gz),o.Y36(Q.WI),o.Y36(Q.so),o.Y36(n.n),o.Y36(K.F0))},y.\u0275cmp=o.Xpm({type:y,selectors:[["app-soumettre-avenant"]],decls:17,vars:4,consts:[[1,"heading"],[1,"mat-typography"],[1,"login-form","row",3,"formGroup","ngSubmit"],["formDirective","ngForm"],["appearance","outline",1,"col-md-6"],["formControlName","typeAvenant",3,"ngModel","ngModelChange","selectionChange"],[4,"ngFor","ngForOf"],["appearance","outline","class","col-md-6",4,"ngIf"],[1,"row-button"],["mat-dialog-close","",1,"btn","btn-cancel"],["type","submit",1,"btn","btn-action"],[3,"value"],["formControlName","risque",3,"multiple"],[3,"displayMember","array","filteredReturn"]],template:function(u,M){1&u&&(o.TgZ(0,"h2",0),o._uU(1,"Selectionnez le type d'avenant"),o.qZA(),o._UZ(2,"mat-divider"),o.TgZ(3,"mat-dialog-content",1)(4,"form",2,3),o.NdJ("ngSubmit",function(){return M.submitAvenant()}),o.TgZ(6,"mat-form-field",4)(7,"mat-label"),o._uU(8,"Type d'Avenant"),o.qZA(),o.TgZ(9,"mat-select",5),o.NdJ("ngModelChange",function(ie){return M.typeAvenant=ie})("selectionChange",function(){return M.getInfoAvenant()}),o.YNc(10,Ze,3,2,"ng-container",6),o.qZA()(),o.YNc(11,t,6,4,"mat-form-field",7),o.TgZ(12,"div",8)(13,"button",9),o._uU(14,"Annuler"),o.qZA(),o.TgZ(15,"button",10),o._uU(16,"Soumettre"),o.qZA()()()()),2&u&&(o.xp6(4),o.Q6J("formGroup",M.formTypeAvenant),o.xp6(5),o.Q6J("ngModel",M.typeAvenant),o.xp6(1),o.Q6J("ngForOf",M.types_avenant),o.xp6(1),o.Q6J("ngIf",M.multiRisque))},dependencies:[Se.sg,Se.O5,i.d,w._Y,w.JJ,w.JL,w.sg,w.u,Z.KE,Z.hX,Q.ZT,Q.xY,O.gD,J.ey,he.Fq],styles:["button.btn.btn-action[_ngcontent-%COMP%]{float:right}h2.heading[_ngcontent-%COMP%]{color:#00008f;font-weight:700!important;letter-spacing:.5px}.mat-dialog-content[_ngcontent-%COMP%]{padding-top:15px}.mat-radio-button[_ngcontent-%COMP%]{margin:0 12px}.row-button[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:2rem}.mat-option.hide[_ngcontent-%COMP%]{display:none}"]}),y})();var ln=B(5226),ut=B.n(ln),ot=B(7392),tt=B(8255),Zt=B(266),nn=B(4859),_n=B(7331);function xn(y,ne){1&y&&(o.TgZ(0,"th",17),o._uU(1," ID "),o.qZA())}function mn(y,ne){if(1&y&&(o.TgZ(0,"td",18),o._uU(1),o.qZA()),2&y){const u=ne.$implicit;o.xp6(1),o.hij(" ",u.idContratAvenant," ")}}function Ri(y,ne){1&y&&(o.TgZ(0,"th",17),o._uU(1," Type avenant "),o.qZA())}function Xn(y,ne){if(1&y&&(o.TgZ(0,"td",18),o._uU(1),o.qZA()),2&y){const u=ne.$implicit;o.xp6(1),o.hij(" ",u.typeAvenant," ")}}function Mt(y,ne){1&y&&(o.TgZ(0,"th",17),o._uU(1," Date et heure "),o.qZA())}function Lt(y,ne){if(1&y&&(o.TgZ(0,"td",18),o._uU(1),o.ALo(2,"date"),o.qZA()),2&y){const u=ne.$implicit;o.xp6(1),o.hij(" ",o.xi3(2,1,u.date,"dd-MM-yyyy HH:mm:ss")," ")}}function xt(y,ne){1&y&&(o.TgZ(0,"th",17),o._uU(1," Statut "),o.qZA())}function ht(y,ne){if(1&y&&(o.TgZ(0,"td",18)(1,"mat-chip-list",19)(2,"mat-chip",20),o._uU(3),o.qZA()()()),2&y){const u=ne.$implicit;o.xp6(3),o.hij(" ",u.statut.description," ")}}function Yn(y,ne){1&y&&(o.TgZ(0,"th",17),o._uU(1," Action "),o.qZA())}function Jn(y,ne){if(1&y){const u=o.EpF();o.TgZ(0,"td",18)(1,"button",21)(2,"mat-icon"),o._uU(3,"more_vert"),o.qZA()(),o.TgZ(4,"mat-menu",22,23)(6,"button",24),o.NdJ("click",function(){const ie=o.CHM(u).$implicit,ve=o.oxw();return o.KtG(ve.consulterAvenant(null==ie?null:ie.idContratAvenant))}),o.TgZ(7,"mat-icon"),o._uU(8,"zoom_in"),o.qZA(),o.TgZ(9,"span"),o._uU(10,"Consulter avenant"),o.qZA()(),o.TgZ(11,"button",24),o.NdJ("click",function(){const ie=o.CHM(u).$implicit,ve=o.oxw();return o.KtG(ve.consultContratAvenant(null==ie?null:ie.idContratAvenant))}),o.TgZ(12,"mat-icon"),o._uU(13,"zoom_in"),o.qZA(),o.TgZ(14,"span"),o._uU(15,"Consulter image contrat"),o.qZA()(),o.TgZ(16,"button",24),o.NdJ("click",function(){const ie=o.CHM(u).$implicit,ve=o.oxw();return o.KtG(ve.consultQuittance(null==ie?null:ie.idQuittance))}),o.TgZ(17,"mat-icon"),o._uU(18,"zoom_in"),o.qZA(),o.TgZ(19,"span"),o._uU(20,"Consulter quittance"),o.qZA()(),o.TgZ(21,"button",24),o.NdJ("click",function(){const ie=o.CHM(u).$implicit,ve=o.oxw();return o.KtG(ve.outputAvenant(ie))}),o.TgZ(22,"mat-icon"),o._uU(23,"print"),o.qZA(),o.TgZ(24,"span"),o._uU(25,"Imprimer"),o.qZA()()()()}if(2&y){const u=ne.$implicit,M=o.MAs(5);o.xp6(1),o.Q6J("matMenuTriggerFor",M),o.xp6(5),o.Q6J("disabled","Affaire nouvelle"==(null==u?null:u.typeAvenant)),o.xp6(5),o.Q6J("disabled","S05"==u.statut.code),o.xp6(5),o.Q6J("disabled",!u.quittance||"S05"==u.statut.code),o.xp6(5),o.Q6J("disabled",!u.quittance&&!u.cp&&!u.attestation||"S05"==u.statut.code||"S09"==u.statut.code)}}function pi(y,ne){1&y&&o._UZ(0,"tr",25)}function Qn(y,ne){1&y&&o._UZ(0,"tr",26)}const Kn=function(y){return[y]},xi=function(){return[5,10]};let tn=(()=>{class y{constructor(u,M,W,ie,ve){this.route=u,this.dialog=M,this.avenantService=W,this.contratService=ie,this.router=ve,this.displayedColumns=["id","typeAvenant","dateAvenant","statut","action"]}ngOnInit(){this.idContrat=this.route.snapshot.paramMap.get("idContrat"),this.getContratById(),this.getAvenantByContrat()}getContratById(){this.contratService.getContratById(this.idContrat).subscribe({next:u=>{this.contrat=u},error:u=>{console.log(u)}})}getAvenantByContrat(){this.avenantService.getAvenantByContrat(this.idContrat).subscribe({next:u=>{this.dataSource=new Le.by(u)},error:u=>{console.log(u)}})}consulterAvenant(u){this.router.navigate(["consultation-avenant/"+this.route.snapshot.paramMap.get("codeProduit")+"/"+u])}consultContratAvenant(u){this.router.navigate(["consultation-contrat-avenant/"+this.route.snapshot.paramMap.get("codeProduit")+"/"+u])}consultQuittance(u){this.router.navigate(["consultation-quittance/"+this.route.snapshot.paramMap.get("codeProduit")+"/"+u])}outputAvenant(u){var M=this;let W;W=this.route.snapshot.paramMap.get("codeProduit");let ie=[],ve=[];switch(W){case"45F":this.avenantService.getAttributsAvenant(u.idContratAvenant).subscribe({next:Oe=>{this.contratService.getContratHistoriqueById(u.hisContrat).subscribe({next:ke=>{let Qe;Qe=ke.nmouvement>1?ke.nmouvement-1:ke.nmouvement,this.avenantService.getContratPrev(ke?.idContrat,Qe).subscribe({next:Bt=>{"A12"==Oe?.typeAvenant?.code?(ie=Bt?.groupesList?.filter(Yt=>Yt?.risques),ie?.forEach(Yt=>{Yt?.risques&&Yt?.risques?.map(dn=>{ve.push(dn?.idRisque)})})):Oe?.risqueList?.filter(Yt=>{ve.push(Yt?.idRisque)}),this.contratService.getQuittanceById(u?.idQuittance).subscribe({next:Yt=>{var dn;this.contratService.getParamContratFlotteByIdRisque(ke?.idContrat,ve).subscribe({next:(dn=(0,h.Z)(function*(Ut){switch(Oe.dateExpirationAvenant=u.dateExpirationAvenant,Oe.typeAvenant.code){case"A12":M.contratService.outputContratFlotte(Bt,Ut),M.contratService.outputQuittance(Bt,Yt,Oe),M.contratService.outputAttestationFlotte(Bt,Oe);break;case"A20":M.avenantService.outputAvenantFlotte(ke,Oe,Yt,Ut,Bt),M.contratService.outputAttestationFlotte(ke,Oe),M.contratService.outputQuittance(ke,Yt,Oe);break;case"A11":Oe.typeAvenant.attestation&&M.contratService.outputAttestationFlotte(ke,Oe),Oe.typeAvenant.quittance&&M.contratService.outputQuittance(ke,Yt,Oe);break;default:Oe.typeAvenant.cp&&M.avenantService.outputAvenantFlotte(ke,Oe,Yt,Ut,Bt),Oe.typeAvenant.attestation&&M.contratService.outputAttestationFlotte(ke,Oe),Oe.typeAvenant.quittance&&M.contratService.outputQuittance(ke,Yt,Oe)}}),function(gn){return dn.apply(this,arguments)}),error:dn=>{console.log(dn)}})},error:Yt=>{console.log(Yt)}})},error:Bt=>{console.log(Bt)}})},error:ke=>{console.log(ke)}})},error:Oe=>{console.log(Oe)}});break;case"45L":ie=this.contrat?.groupeList.filter(Oe=>Oe?.risques),ie?.forEach(Oe=>{Oe?.risques&&Oe.risques.map(ke=>{ve.push(ke.idRisque)})}),this.avenantService.getAttributsAvenant(u.idContratAvenant).subscribe({next:Oe=>{this.contratService.getContratHistoriqueById(u.hisContrat).subscribe({next:ke=>{let Qe;Qe=ke.nmouvement>1?ke.nmouvement-1:ke.nmouvement,this.avenantService.getContratPrev(ke.idContrat,Qe).subscribe({next:Bt=>{this.contratService.getQuittanceById(u.idQuittance).subscribe({next:Yt=>{var dn;this.contratService.getParamContratFlotteByIdRisque(ke.idContrat,ve).subscribe({next:(dn=(0,h.Z)(function*(Ut){0==ke.groupesList.length?ut().fire("Ce contrat ne comporte pas de risques ","","info"):"A12"==Oe.typeAvenant.code||"A20"==Oe.typeAvenant.code||"A11"==Oe.typeAvenant.code||"A18"==Oe.typeAvenant.code?(M.avenantService.outputAvenantLeasing(ke,Yt,Ut,Oe),M.contratService.outputAttestationFlotte(ke,Oe)):"A22"==Oe.typeAvenant.code&&"45L"==M.contrat.produit.codeProduit?(Oe.dateExpirationAvenant=u.dateExpirationAvenant,M.avenantService.outputAvenantFlotte(ke,Oe,Yt,Ut,Bt)):(M.avenantService.outputAvenantLeasing(ke,Yt,Ut,Oe),M.contratService.outputAttestationFlotte(ke,Oe))}),function(gn){return dn.apply(this,arguments)}),error:dn=>{console.log(dn)}})},error:Yt=>{console.log(Yt)}})},error:Bt=>{console.log(Bt)}})},error:ke=>{console.log(ke)}})}});break;default:this.avenantService.getAttributsAvenant(u.idContratAvenant).subscribe({next:Oe=>{this.contratService.getContratHistoriqueById(u.hisContrat).subscribe({next:ke=>{var Qe;this.contratService.getParamHistoByIdRisque(ke.idHistorique,ke.groupesList[0].idGroupe,ke.groupesList[0].risques[0].idRisque).subscribe({next:(Qe=(0,h.Z)(function*(Bt){var Yt;ke.risqueList=Object.values(Bt),yield M.contratService.getPackIdRisqueHistorique(ke.idHistorique,ke.groupesList[0].risques[0].idRisque).subscribe({next:(Yt=(0,h.Z)(function*(dn){ke.paramContratList=dn.garantieList,ke.pack=dn.pack,M.contratService.getQuittanceById(u.idQuittance).subscribe({next:Ut=>{Oe.dateExpirationAvenant=u.dateExpirationAvenant,"95"==ke.produit.codeProduit&&("A07"==Oe.typeAvenant.code||"A18"==Oe.typeAvenant.code||"A12"==Oe.typeAvenant.code||"A168"==Oe.typeAvenant.code)&&(ke.primeList=Ut.primeList,ke.taxeList=Ut.taxeList,ke.isAvenant=!0,ke.avenantName=Oe?.typeAvenant?.libelle,ke.dateEffet=Oe.dateAvenant,ke.auditDate=Oe.auditDate),u.cp&&("95"!=ke.produit.codeProduit||"A07"!=Oe.typeAvenant.code&&"A18"!=Oe.typeAvenant.code&&"A12"!=Oe.typeAvenant.code&&"A168"!=Oe.typeAvenant.code?M.avenantService.outputAvenant(ke,Oe,Ut):M.contratService.outputContrat(ke)),u.quittance&&M.contratService.outputQuittance(ke,Ut,Oe),u.attestation&&"A22"!=Oe.typeAvenant.code&&"95"!=ke.produit.codeProduit&&"97"!=ke.produit.codeProduit&&M.contratService.outputAttestation(ke,Ut,Oe)},error:Ut=>{console.log(Ut)}})}),function(Ut){return Yt.apply(this,arguments)}),error:Yt=>{console.log(Yt)}})}),function(Yt){return Qe.apply(this,arguments)}),error:Qe=>{console.log(Qe)}})},error:ke=>{console.log(ke)}})},error:Oe=>{console.log(Oe)}})}}openDialogAdd(){this.avenantService.getTypeAvenantbyAvenantPrecedent({idProduit:this.dataSource.data[0].idProduit,idAvenantPrecedent:this.dataSource.data[this.dataSource.data.length-1].idTypeAvenant,statut:this.dataSource.data[this.dataSource.data.length-1].statut.idParam}).subscribe({next:M=>{this.dialog.open(Ft,{width:"40%",data:{types_avenant:M,idContrat:this.idContrat,dateExpiration:this.contrat.dateExpiration,codeProduit:this.route.snapshot.paramMap.get("codeProduit")}}).afterClosed().subscribe(ie=>{this.getAvenantByContrat()})},error:M=>{console.log(M)}})}paginate(){this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort}}return y.\u0275fac=function(u){return new(u||y)(o.Y36(K.gz),o.Y36(Q.uw),o.Y36(n.n),o.Y36(xe.H),o.Y36(K.F0))},y.\u0275cmp=o.Xpm({type:y,selectors:[["app-gestion-avenant"]],viewQuery:function(u,M){if(1&u&&(o.Gf(ee.NW,5),o.Gf(me.YE,5)),2&u){let W;o.iGM(W=o.CRH())&&(M.paginator=W.first),o.iGM(W=o.CRH())&&(M.sort=W.first)}},decls:30,vars:13,consts:[[1,"container"],[1,"header"],["aria-hidden","false","matTooltip","Retour","matTooltipPosition","left",1,"material-symbols-outlined",3,"routerLink"],[1,"title-table"],[2,"display","flex","align-items","center",3,"disabled","click"],["aria-hidden","false","aria-label","ajouter une risque ",1,"material-symbols-outlined"],["mat-table","",1,"gestion-table",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","typeAvenant"],["matColumnDef","dateAvenant"],["matColumnDef","statut"],["matColumnDef","action"],["mat-header-row","","class","example-second-header-row",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["aria-label","Select\n      page of users",3,"pageSize","pageSizeOptions"],["mat-header-cell",""],["mat-cell",""],["aria-label","Fish selection"],["color","primary"],["mat-icon-button","","type","button","aria-label","menu contrat list",3,"matMenuTriggerFor"],["xPosition","after",1,"menu-contrat"],["menu","matMenu"],["mat-menu-item","","type","button",3,"disabled","click"],["mat-header-row","",1,"example-second-header-row"],["mat-row",""]],template:function(u,M){1&u&&(o.TgZ(0,"div",0)(1,"div",1)(2,"mat-icon",2),o._uU(3,"arrow_circle_left"),o.qZA(),o.TgZ(4,"h2",3),o._uU(5),o.qZA(),o.TgZ(6,"button",4),o.NdJ("click",function(){return M.openDialogAdd()}),o.TgZ(7,"mat-icon",5),o._uU(8,"add_circle"),o.qZA(),o._uU(9," Soumettre un avenant "),o.qZA()(),o._UZ(10,"mat-divider"),o.TgZ(11,"table",6),o.ynx(12,7),o.YNc(13,xn,2,0,"th",8),o.YNc(14,mn,2,1,"td",9),o.BQk(),o.ynx(15,10),o.YNc(16,Ri,2,0,"th",8),o.YNc(17,Xn,2,1,"td",9),o.BQk(),o.ynx(18,11),o.YNc(19,Mt,2,0,"th",8),o.YNc(20,Lt,3,4,"td",9),o.BQk(),o.ynx(21,12),o.YNc(22,xt,2,0,"th",8),o.YNc(23,ht,4,1,"td",9),o.BQk(),o.ynx(24,13),o.YNc(25,Yn,2,0,"th",8),o.YNc(26,Jn,26,5,"td",9),o.BQk(),o.YNc(27,pi,1,0,"tr",14),o.YNc(28,Qn,1,0,"tr",15),o.qZA(),o._UZ(29,"mat-paginator",16),o.qZA()),2&u&&(o.xp6(2),o.Q6J("routerLink",o.VKq(10,Kn,"/consultation-police/"+(null==M.contrat||null==M.contrat.produit?null:M.contrat.produit.codeProduit)+"/"+(null==M.contrat||null==M.contrat.produit?null:M.contrat.produit.description))),o.xp6(3),o.hij("Liste des avenant li\xe9 au contrat N\xb0 ",M.idContrat,""),o.xp6(1),o.Tol("S01"==(null==M.contrat||null==M.contrat.statue?null:M.contrat.statue.code)||"S09"==(null==M.contrat||null==M.contrat.statue?null:M.contrat.statue.code)?"btn btn-disable":"btn btn-secondary"),o.Q6J("disabled","S01"==(null==M.contrat||null==M.contrat.statue?null:M.contrat.statue.code)||"S09"==(null==M.contrat||null==M.contrat.statue?null:M.contrat.statue.code)),o.xp6(5),o.Q6J("dataSource",M.dataSource),o.xp6(16),o.Q6J("matHeaderRowDef",M.displayedColumns),o.xp6(1),o.Q6J("matRowDefColumns",M.displayedColumns),o.xp6(1),o.Q6J("pageSize",10)("pageSizeOptions",o.DdM(12,xi)))},dependencies:[i.d,ot.Hw,tt.VK,tt.OP,tt.p6,Le.BZ,Le.fO,Le.as,Le.w1,Le.Dz,Le.nj,Le.ge,Le.ev,Le.XQ,Le.Gk,Zt.gM,ee.NW,nn.lW,_n.qn,_n.HS,K.rH,Se.uU],styles:[".container[_ngcontent-%COMP%]{background-color:#fff;padding:40px 0;height:100%;overflow-y:auto;overflow-x:hidden}.gestion-table[_ngcontent-%COMP%]{width:100%}.gestion-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .gestion-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:16px}.gestion-table[_ngcontent-%COMP%]   .mat-header-cell[_ngcontent-%COMP%]{color:#00008f;font-weight:600}.gestion-table[_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]:nth-child(even), .gestion-table[_ngcontent-%COMP%]   .mat-header-row[_ngcontent-%COMP%]{background-color:#f7f7f9}.gestion-table[_ngcontent-%COMP%]   .mat-paginator[_ngcontent-%COMP%]{background-color:transparent;margin:20px auto auto;width:80%}.gestion-table[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{height:100%;font-size:26px;color:#00008f;width:-moz-fit-content;width:fit-content}.mat-menu-item[_ngcontent-%COMP%]{font-size:15px}.mat-menu-item[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:18px;height:-moz-fit-content;height:fit-content}.mat-menu-item[_ngcontent-%COMP%]:hover:not([disabled]), .mat-menu-item[_ngcontent-%COMP%]:hover:not([disabled])   .mat-icon[_ngcontent-%COMP%]{color:#00008f}.header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:0px 2rem}.header[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{height:-moz-fit-content;height:fit-content;font-size:29px;margin-right:1rem;width:-moz-fit-content;width:fit-content}.title-table[_ngcontent-%COMP%]{margin-bottom:0rem;font-weight:800!important;font-size:23px!important;color:#00008f!important}"]}),y})();var Kt=B(4128),hi=B(3900),$i=B(4004),Sn=B(5017),vt=B(5439),$e=B(2644),bn=B(7843),Vt=B(7340),Gn=B(6274),ei=B(6666),vi=B(8692),uo=B(5617),bo=B(2473),oe=B(3388),pn=B(7009),Zi=B(8153),Ai=B(8056),Di=B(6944),Mn=B(6127),Nn=B(852),vn=B(1351),Et=B(6436),mo=B(3776),mr=B(7084),zr=B(284),Eo=B(9602),ra=B(1948),aa=B(6257),Ba=B(6709),za=B(1572),Aa=B(2768);const Ks=["stepper"],ds=["fileInput"];function _s(y,ne){1&y&&o._uU(0,"Informations contrat, souscripteur, assur\xe9 ")}function Ta(y,ne){1&y&&(o.TgZ(0,"mat-form-field",27)(1,"mat-label"),o._uU(2,"N\xb0 Carte Orange"),o.qZA(),o._UZ(3,"input",33),o.qZA())}function sa(y,ne){1&y&&(o.TgZ(0,"mat-label"),o._uU(1,"N\xb0 Attestation"),o.qZA())}function Ws(y,ne){if(1&y&&(o.TgZ(0,"mat-form-field",27),o.YNc(1,sa,2,0,"mat-label",19),o._UZ(2,"input",34),o.qZA()),2&y){const u=o.oxw(3);o.xp6(1),o.Q6J("ngIf","A22"!=(null==u.avenant?null:u.avenant.code))}}function Xs(y,ne){if(1&y&&(o.ynx(0),o.TgZ(1,"mat-option",36),o._uU(2),o.qZA(),o.BQk()),2&y){const u=ne.$implicit;o.xp6(1),o.Q6J("value",u),o.xp6(1),o.hij(" ",u.idMotif.description," ")}}function dr(y,ne){if(1&y&&(o.TgZ(0,"mat-form-field",27)(1,"mat-label"),o._uU(2,"Motifs"),o.qZA(),o.TgZ(3,"mat-select",35),o.YNc(4,Xs,3,2,"ng-container",14),o.qZA()()),2&y){const u=o.oxw(3);o.xp6(4),o.Q6J("ngForOf",u.avenant.motifs)}}function Va(y,ne){1&y&&(o.TgZ(0,"mat-form-field",27)(1,"mat-label"),o._uU(2,"Commentaire"),o.qZA(),o._UZ(3,"input",37),o.qZA())}function ps(y,ne){if(1&y){const u=o.EpF();o.TgZ(0,"mat-form-field",27)(1,"mat-label"),o._uU(2,"Date avenant"),o.qZA(),o.TgZ(3,"input",38),o.NdJ("dateChange",function(){o.CHM(u);const W=o.oxw(3);let ie;return o.KtG(W.getDateExpiration(null==(ie=W.formApplicationAvenant.get("duree"))?null:ie.value))}),o.qZA(),o._UZ(4,"mat-datepicker-toggle",39)(5,"mat-datepicker",null,40),o.qZA()}if(2&y){const u=o.MAs(6),M=o.oxw(3);o.xp6(3),o.Q6J("matDatepicker",u)("min","A13"==M.avenant.code?M.dateMinRenouv:null)("max","A13"==M.avenant.code?M.dateMaxRenouv:""),o.xp6(1),o.Q6J("for",u)}}function fs(y,ne){if(1&y&&(o.ynx(0),o.TgZ(1,"mat-option",36),o._uU(2),o.qZA(),o.BQk()),2&y){const u=ne.$implicit;o.xp6(1),o.Q6J("value",u),o.xp6(1),o.hij(" ",u.description," ")}}function Ra(y,ne){if(1&y&&(o.TgZ(0,"mat-form-field",27)(1,"mat-label"),o._uU(2),o.qZA(),o.TgZ(3,"mat-select",41),o.YNc(4,fs,3,2,"ng-container",14),o.qZA()()),2&y){const u=o.oxw().$implicit;o.xp6(2),o.Oqu(u.idAtrribut.attribut),o.xp6(1),o.s9C("formControlName",u.idAtrribut.nomBdd),o.xp6(1),o.Q6J("ngForOf",u.idAtrribut.reponses)}}function gs(y,ne){if(1&y&&(o.TgZ(0,"mat-form-field",27)(1,"mat-label"),o._uU(2),o.qZA(),o._UZ(3,"input",42),o.qZA()),2&y){const u=o.oxw().$implicit;o.xp6(2),o.Oqu(u.idAtrribut.attribut),o.xp6(1),o.s9C("formControlName",u.idAtrribut.nomBdd)}}function ja(y,ne){if(1&y){const u=o.EpF();o.TgZ(0,"mat-form-field",27)(1,"mat-label"),o._uU(2),o.qZA(),o.TgZ(3,"input",43),o.NdJ("dateChange",function(){o.CHM(u);const W=o.oxw(4);let ie;return o.KtG(W.getDateExpiration(null==(ie=W.formApplicationAvenant.get("duree"))?null:ie.value))}),o.qZA(),o._UZ(4,"mat-datepicker-toggle",39)(5,"mat-datepicker",null,44),o.qZA()}if(2&y){const u=o.MAs(6),M=o.oxw().$implicit,W=o.oxw(3);let ie;o.xp6(2),o.Oqu(M.idAtrribut.attribut),o.xp6(1),o.s9C("formControlName",M.idAtrribut.nomBdd),o.Q6J("matDatepicker",u)("min","dateEffet"==M.idAtrribut.nomBdd?null==(ie=W.formApplicationAvenant.get("dateEffet"))?null:ie.value:""),o.xp6(1),o.Q6J("for",u)}}function el(y,ne){if(1&y&&(o.ynx(0),o.YNc(1,Ra,5,3,"mat-form-field",24),o.YNc(2,gs,4,2,"mat-form-field",24),o.YNc(3,ja,7,5,"mat-form-field",24),o.BQk()),2&y){const u=ne.$implicit;o.xp6(1),o.Q6J("ngIf","Liste of values"==(null==u.idAtrribut.type?null:u.idAtrribut.type.description)),o.xp6(1),o.Q6J("ngIf","String"==(null==u.idAtrribut.type?null:u.idAtrribut.type.description)||"Number"==(null==u.idAtrribut.type?null:u.idAtrribut.type.description)),o.xp6(1),o.Q6J("ngIf","date"==(null==u.idAtrribut.type?null:u.idAtrribut.type.description))}}function la(y,ne){if(1&y&&(o.ynx(0),o.TgZ(1,"mat-option",36),o._uU(2),o.qZA(),o.BQk()),2&y){const u=ne.$implicit;o.xp6(1),o.Q6J("value",u.id_duree),o.xp6(1),o.hij(" ",u.description," ")}}function hs(y,ne){if(1&y){const u=o.EpF();o.TgZ(0,"mat-form-field",27)(1,"mat-label"),o._uU(2,"Dur\xe9e"),o.qZA(),o.TgZ(3,"mat-select",45),o.NdJ("selectionChange",function(W){o.CHM(u);const ie=o.oxw(3);return o.KtG(ie.getDateExpiration(W.value))}),o.YNc(4,la,3,2,"ng-container",14),o.qZA()()}if(2&y){const u=o.oxw(3);o.xp6(4),o.Q6J("ngForOf",u.durees)}}function Cs(y,ne){if(1&y&&(o.ynx(0),o.TgZ(1,"mat-option",36),o._uU(2),o.qZA(),o.BQk()),2&y){const u=ne.$implicit;o.xp6(1),o.Q6J("value",u.idAgence),o.xp6(1),o.hij(" ",u.nomAgence," ")}}function rr(y,ne){if(1&y&&(o.ynx(0),o.TgZ(1,"mat-option",36),o._uU(2),o.qZA(),o.BQk()),2&y){const u=ne.$implicit;o.xp6(1),o.Q6J("value",u.idParam),o.xp6(1),o.hij(" ",u.description," ")}}function xs(y,ne){1&y&&(o.TgZ(0,"div"),o._uU(1," ce champs est obligatoire"),o.qZA())}function vs(y,ne){if(1&y&&(o.TgZ(0,"mat-error",61),o.YNc(1,xs,2,0,"div",19),o.qZA()),2&y){const u=o.oxw(5);o.xp6(1),o.Q6J("ngIf",null==u.formCreationAssure.controls||null==u.formCreationAssure.controls.typeClient?null:u.formCreationAssure.controls.typeClient.errors.required)}}function tl(y,ne){if(1&y){const u=o.EpF();o.TgZ(0,"mat-form-field",59)(1,"mat-label"),o._uU(2,"Type client"),o.qZA(),o.TgZ(3,"mat-select",60),o.NdJ("selectionChange",function(W){o.CHM(u);const ie=o.oxw(4);return o.KtG(ie.changeTypeClient(W.value))}),o.YNc(4,rr,3,2,"ng-container",14),o.qZA(),o.YNc(5,vs,2,1,"mat-error",54),o.qZA()}if(2&y){const u=o.oxw(4);o.xp6(4),o.Q6J("ngForOf",u.typeClients),o.xp6(1),o.Q6J("ngIf",null==u.formCreationAssure.controls||null==u.formCreationAssure.controls.typeClient?null:u.formCreationAssure.controls.typeClient.errors)}}function As(y,ne){1&y&&(o.TgZ(0,"div"),o._uU(1," ce champs est obligatoire"),o.qZA())}function Ar(y,ne){if(1&y&&(o.TgZ(0,"mat-error",61),o.YNc(1,As,2,0,"div",19),o.qZA()),2&y){const u=o.oxw(5);o.xp6(1),o.Q6J("ngIf",u.formCreationAssure.controls.nom.errors.required)}}function nl(y,ne){1&y&&(o.TgZ(0,"div"),o._uU(1," ce champs est obligatoire"),o.qZA())}function il(y,ne){if(1&y&&(o.TgZ(0,"mat-error",61),o.YNc(1,nl,2,0,"div",19),o.qZA()),2&y){const u=o.oxw(5);o.xp6(1),o.Q6J("ngIf",u.formCreationSouscripteur.controls.nom.errors.required)}}function Ts(y,ne){1&y&&(o.TgZ(0,"div"),o._uU(1," ce champs est obligatoire"),o.qZA())}function Nr(y,ne){if(1&y&&(o.TgZ(0,"mat-error",61),o.YNc(1,Ts,2,0,"div",19),o.qZA()),2&y){const u=o.oxw(5);o.xp6(1),o.Q6J("ngIf",u.formCreationAssure.controls.prenom.errors.required)}}function Lr(y,ne){1&y&&(o.TgZ(0,"div"),o._uU(1," ce champs est obligatoire"),o.qZA())}function Da(y,ne){if(1&y&&(o.TgZ(0,"mat-error",61),o.YNc(1,Lr,2,0,"div",19),o.qZA()),2&y){const u=o.oxw(5);o.xp6(1),o.Q6J("ngIf",u.formCreationSouscripteur.controls.prenom.errors.required)}}function bs(y,ne){1&y&&(o.TgZ(0,"div"),o._uU(1," L'age du souscripteur doit etre sup\xe9rieur \xe0 18 ans"),o.qZA())}function Ir(y,ne){1&y&&(o.TgZ(0,"div"),o._uU(1," L'age du souscripteur doit etre inf\xe9rieur \xe0 107 ans "),o.qZA())}function ol(y,ne){1&y&&(o.TgZ(0,"div"),o._uU(1," ce champs est obligatoire"),o.qZA())}function Ps(y,ne){if(1&y&&(o.TgZ(0,"mat-error",61),o.YNc(1,bs,2,0,"div",19),o.YNc(2,Ir,2,0,"div",19),o.YNc(3,ol,2,0,"div",19),o.qZA()),2&y){const u=o.oxw(5);o.xp6(1),o.Q6J("ngIf",u.formCreationSouscripteur.controls.dateNaissance.errors.ageInf18),o.xp6(1),o.Q6J("ngIf",u.formCreationSouscripteur.controls.dateNaissance.errors.ageSup107),o.xp6(1),o.Q6J("ngIf",u.formCreationSouscripteur.controls.dateNaissance.errors.required)}}function Zs(y,ne){1&y&&(o.TgZ(0,"div"),o._uU(1," L'age du souscripteur doit etre sup\xe9rieur \xe0 18 ans"),o.qZA())}function qs(y,ne){1&y&&(o.TgZ(0,"div"),o._uU(1," L'age du souscripteur doit etre inf\xe9rieur \xe0 107 ans "),o.qZA())}function _r(y,ne){1&y&&(o.TgZ(0,"div"),o._uU(1," ce champs est obligatoire"),o.qZA())}function Zr(y,ne){if(1&y&&(o.TgZ(0,"mat-error",61),o.YNc(1,Zs,2,0,"div",19),o.YNc(2,qs,2,0,"div",19),o.YNc(3,_r,2,0,"div",19),o.qZA()),2&y){const u=o.oxw(5);o.xp6(1),o.Q6J("ngIf",u.formCreationAssure.controls.dateNaissance.errors.ageInf18),o.xp6(1),o.Q6J("ngIf",u.formCreationAssure.controls.dateNaissance.errors.ageSup107),o.xp6(1),o.Q6J("ngIf",u.formCreationAssure.controls.dateNaissance.errors.required)}}function it(y,ne){if(1&y){const u=o.EpF();o.TgZ(0,"button",71),o.NdJ("mouseup",function(){o.CHM(u);const W=o.oxw(6);return o.KtG(W.recherchePersonne("assure"))}),o._uU(1," Rechercher "),o.qZA()}}function ha(y,ne){if(1&y){const u=o.EpF();o.TgZ(0,"button",72),o.NdJ("mouseup",function(){o.CHM(u);const W=o.oxw(6);return o.KtG(W.recherchePersonne("assure"))}),o._uU(1," Rechercher "),o.qZA()}}function Ci(y,ne){if(1&y&&(o.TgZ(0,"div",68),o.YNc(1,it,2,0,"button",69),o.YNc(2,ha,2,0,"button",70),o.qZA()),2&y){const u=o.oxw(5);o.xp6(1),o.Q6J("ngIf",""!=u.formCreationAssure.get("nom").value&&""!=u.formCreationAssure.get("prenom").value&&null!=u.formCreationAssure.get("dateNaissance").value),o.xp6(1),o.Q6J("ngIf",""==u.formCreationAssure.get("nom").value||""==u.formCreationAssure.get("prenom").value||null==u.formCreationAssure.get("dateNaissance").value)}}function qi(y,ne){if(1&y){const u=o.EpF();o.ynx(0),o.TgZ(1,"mat-form-field",62)(2,"mat-label"),o._uU(3,"Nom"),o.qZA(),o.TgZ(4,"input",63),o.NdJ("ngModelChange",function(){o.CHM(u);const W=o.oxw(4);return o.KtG(W.changePersonne("Assure"))}),o.qZA(),o.YNc(5,Ar,2,1,"mat-error",54),o.YNc(6,il,2,1,"mat-error",54),o.qZA(),o.TgZ(7,"mat-form-field",62)(8,"mat-label"),o._uU(9,"Pr\xe9nom"),o.qZA(),o.TgZ(10,"input",64),o.NdJ("ngModelChange",function(){o.CHM(u);const W=o.oxw(4);return W.isAssure=!1,o.KtG(W.isConducteurAssure=!1)}),o.qZA(),o.YNc(11,Nr,2,1,"mat-error",54),o.YNc(12,Da,2,1,"mat-error",54),o.qZA(),o.TgZ(13,"mat-form-field",62)(14,"mat-label"),o._uU(15,"Date de naissance"),o.qZA(),o.TgZ(16,"input",65),o.NdJ("ngModelChange",function(){o.CHM(u);const W=o.oxw(4);return W.isAssure=!1,o.KtG(W.isConducteurAssure=!1)}),o.qZA(),o._UZ(17,"mat-datepicker-toggle",39)(18,"mat-datepicker",null,66),o.YNc(20,Ps,4,3,"mat-error",54),o.YNc(21,Zr,4,3,"mat-error",54),o.qZA(),o.YNc(22,Ci,3,2,"div",67),o.BQk()}if(2&y){const u=o.MAs(19),M=o.oxw(4);o.xp6(5),o.Q6J("ngIf",M.formCreationAssure.controls.nom.errors),o.xp6(1),o.Q6J("ngIf",M.formCreationSouscripteur.controls.nom.errors),o.xp6(5),o.Q6J("ngIf",M.formCreationAssure.controls.prenom.errors),o.xp6(1),o.Q6J("ngIf",M.formCreationSouscripteur.controls.prenom.errors),o.xp6(4),o.Q6J("max",M.now)("matDatepicker",u),o.xp6(1),o.Q6J("for",u),o.xp6(3),o.Q6J("ngIf",M.formCreationSouscripteur.controls.dateNaissance.errors),o.xp6(1),o.Q6J("ngIf",M.formCreationAssure.controls.dateNaissance.errors),o.xp6(1),o.Q6J("ngIf","A17"==M.avenant.code||"A21"==M.avenant.code||"A13"==M.avenant.code)}}function Ha(y,ne){1&y&&(o.TgZ(0,"div"),o._uU(1," ce champs est obligatoire"),o.qZA())}function Ss(y,ne){if(1&y&&(o.TgZ(0,"mat-error",61),o.YNc(1,Ha,2,0,"div",19),o.qZA()),2&y){const u=o.oxw(5);o.xp6(1),o.Q6J("ngIf",u.formCreationAssure.controls.raisonSocial.errors.required)}}function ys(y,ne){if(1&y){const u=o.EpF();o.TgZ(0,"button",71),o.NdJ("mouseup",function(){o.CHM(u);const W=o.oxw(6);return o.KtG(W.recherchePersonne("assure"))}),o._uU(1," Rechercher "),o.qZA()}}function wa(y,ne){if(1&y){const u=o.EpF();o.TgZ(0,"button",72),o.NdJ("mouseup",function(){o.CHM(u);const W=o.oxw(6);return o.KtG(W.recherchePersonne("assure"))}),o._uU(1," Rechercher "),o.qZA()}}function di(y,ne){if(1&y&&(o.TgZ(0,"div",68),o.YNc(1,ys,2,0,"button",69),o.YNc(2,wa,2,0,"button",74),o.qZA()),2&y){const u=o.oxw(5);o.xp6(1),o.Q6J("ngIf",""!=u.formCreationAssure.value.raisonSocial),o.xp6(1),o.Q6J("ngIf",""==u.formCreationAssure.value.raisonSocial)}}function Yr(y,ne){if(1&y&&(o.TgZ(0,"mat-form-field",27)(1,"mat-label"),o._uU(2,"Raison social"),o.qZA(),o._UZ(3,"input",73),o.YNc(4,Ss,2,1,"mat-error",54),o.qZA(),o.YNc(5,di,3,2,"div",67)),2&y){const u=o.oxw(4);o.xp6(4),o.Q6J("ngIf",u.formCreationAssure.controls.raisonSocial.errors),o.xp6(1),o.Q6J("ngIf","A17"==u.avenant.code||"A21"==u.avenant.code||"A13"==u.avenant.code)}}function $a(y,ne){1&y&&(o.TgZ(0,"mat-error",61),o._uU(1," ce champs n'est pas conforme "),o.qZA())}function Ns(y,ne){if(1&y&&(o.ynx(0),o.TgZ(1,"mat-option",36),o._uU(2),o.qZA(),o.BQk()),2&y){const u=ne.$implicit;o.xp6(1),o.Q6J("value",u.idParam),o.xp6(1),o.Oqu(u.description)}}function ba(y,ne){1&y&&(o.TgZ(0,"div"),o._uU(1," ce champs est obligatoire"),o.qZA())}function Ka(y,ne){if(1&y&&(o.TgZ(0,"mat-error",61),o.YNc(1,ba,2,0,"div",19),o.qZA()),2&y){const u=o.oxw(5);o.xp6(1),o.Q6J("ngIf",u.formCreationAssure.controls.genre.errors.required)}}function Ro(y,ne){if(1&y&&(o.ynx(0),o.TgZ(1,"mat-option",36),o._uU(2),o.qZA(),o.BQk()),2&y){const u=ne.$implicit;o.xp6(1),o.Q6J("value",u.idParam),o.xp6(1),o.Oqu(u.description)}}function Oa(y,ne){if(1&y&&(o.ynx(0),o.TgZ(1,"mat-option",36),o._uU(2),o.qZA(),o.BQk()),2&y){const u=ne.$implicit;o.xp6(1),o.Q6J("value",u.idProfession),o.xp6(1),o.Oqu(u.description)}}function qr(y,ne){if(1&y){const u=o.EpF();o.ynx(0),o.TgZ(1,"mat-form-field",75)(2,"mat-label"),o._uU(3,"NIN"),o.qZA(),o.TgZ(4,"input",76),o.NdJ("ngModelChange",function(W){o.CHM(u);const ie=o.oxw(4);return o.KtG(ie.onChangeValueFormAssure("nin",W))}),o.qZA(),o.YNc(5,$a,2,0,"mat-error",54),o.qZA(),o.TgZ(6,"mat-form-field",51)(7,"mat-label"),o._uU(8," Genre "),o.qZA(),o.TgZ(9,"mat-select",77),o.NdJ("ngModelChange",function(W){o.CHM(u);const ie=o.oxw(4);return o.KtG(ie.onChangeValueFormAssure("genre",W))}),o.YNc(10,Ns,3,2,"ng-container",14),o.qZA(),o.YNc(11,Ka,2,1,"mat-error",54),o.qZA(),o.TgZ(12,"mat-form-field",51)(13,"mat-label"),o._uU(14," Situation Familiale "),o.qZA(),o.TgZ(15,"mat-select",78),o.NdJ("ngModelChange",function(W){o.CHM(u);const ie=o.oxw(4);return o.KtG(ie.onChangeValueFormAssure("situation",W))}),o.YNc(16,Ro,3,2,"ng-container",14),o.qZA()(),o.TgZ(17,"mat-form-field",51)(18,"mat-label"),o._uU(19," Profession "),o.qZA(),o.TgZ(20,"mat-select",79),o.NdJ("ngModelChange",function(W){o.CHM(u);const ie=o.oxw(4);return o.KtG(ie.onChangeValueFormAssure("profession",W))}),o.YNc(21,Oa,3,2,"ng-container",14),o.qZA()(),o.BQk()}if(2&y){const u=o.oxw(4);o.xp6(5),o.Q6J("ngIf",((null==u.formCreationAssure.controls.nin.errors?null:u.formCreationAssure.controls.nin.errors.pattern)||(null==u.formCreationAssure.controls.nin.errors?null:u.formCreationAssure.controls.nin.errors.maxlength)||(null==u.formCreationAssure.controls.nin.errors?null:u.formCreationAssure.controls.nin.errors.minlength))&&"personne physique"==u.typeClient),o.xp6(5),o.Q6J("ngForOf",u.genres),o.xp6(1),o.Q6J("ngIf",u.formCreationAssure.controls.genre.errors),o.xp6(5),o.Q6J("ngForOf",u.situations),o.xp6(5),o.Q6J("ngForOf",u.professions)}}function Ca(y,ne){1&y&&(o.TgZ(0,"div"),o._uU(1," ce champs est obligatoire"),o.qZA())}function Vr(y,ne){if(1&y&&(o.TgZ(0,"mat-error",61),o.YNc(1,Ca,2,0,"div",19),o.qZA()),2&y){const u=o.oxw(5);o.xp6(1),o.Q6J("ngIf",u.formCreationAssure.controls.nif.errors.required)}}function ca(y,ne){1&y&&(o.TgZ(0,"mat-error",61),o._uU(1," ce champs n'est pas conforme "),o.qZA())}function So(y,ne){if(1&y&&(o.TgZ(0,"mat-form-field",80)(1,"mat-label"),o._uU(2,"NIF"),o.qZA(),o._UZ(3,"input",81),o.YNc(4,Vr,2,1,"mat-error",54),o.YNc(5,ca,2,0,"mat-error",54),o.qZA()),2&y){const u=o.oxw(4);o.xp6(4),o.Q6J("ngIf",u.formCreationAssure.controls.nif.errors),o.xp6(1),o.Q6J("ngIf",(null==u.formCreationAssure.controls.nif.errors?null:u.formCreationAssure.controls.nif.errors.pattern)||(null==u.formCreationAssure.controls.nif.errors?null:u.formCreationAssure.controls.nif.errors.maxlength)||(null==u.formCreationAssure.controls.nif.errors?null:u.formCreationAssure.controls.nif.errors.minlength))}}function jr(y,ne){1&y&&(o.TgZ(0,"div"),o._uU(1," ce champs est obligatoire"),o.qZA())}function Hr(y,ne){if(1&y&&(o.TgZ(0,"mat-error",61),o.YNc(1,jr,2,0,"div",19),o.qZA()),2&y){const u=o.oxw(4);o.xp6(1),o.Q6J("ngIf",u.formCreationAssure.controls.telephone.errors.required)}}function oo(y,ne){1&y&&(o.TgZ(0,"mat-error",61),o._uU(1," ce champs n'est pas conforme "),o.qZA())}function nt(y,ne){1&y&&(o.TgZ(0,"div"),o._uU(1," ce champs est obligatoire"),o.qZA())}function jt(y,ne){if(1&y&&(o.TgZ(0,"mat-error",61),o.YNc(1,nt,2,0,"div",19),o.qZA()),2&y){const u=o.oxw(4);o.xp6(1),o.Q6J("ngIf",u.formCreationAssure.controls.email.errors.required)}}function Be(y,ne){1&y&&(o.TgZ(0,"mat-error",61),o._uU(1," ce champs n'est pas conforme "),o.qZA())}function zt(y,ne){1&y&&(o.TgZ(0,"div"),o._uU(1," ce champs est obligatoire "),o.qZA())}function yn(y,ne){if(1&y&&(o.TgZ(0,"mat-error",61),o.YNc(1,zt,2,0,"div",19),o.qZA()),2&y){const u=o.oxw(4);o.xp6(1),o.Q6J("ngIf",u.formCreationAssure.controls.adresse.errors.required)}}function Un(y,ne){if(1&y&&(o.ynx(0),o.TgZ(1,"mat-option",36),o._uU(2),o.qZA(),o.BQk()),2&y){const u=ne.$implicit;o.xp6(1),o.Q6J("value",u.idWilaya),o.xp6(1),o.hij(" ",u.description," ")}}function wi(y,ne){1&y&&(o.TgZ(0,"div"),o._uU(1," ce champs est obligatoire"),o.qZA())}function ro(y,ne){if(1&y&&(o.TgZ(0,"mat-error",61),o.YNc(1,wi,2,0,"div",19),o.qZA()),2&y){const u=o.oxw(4);o.xp6(1),o.Q6J("ngIf",u.formCreationAssure.controls.wilaya.errors.required)}}function ko(y,ne){if(1&y&&(o.ynx(0),o.TgZ(1,"mat-option",36),o._uU(2),o.qZA(),o.BQk()),2&y){const u=ne.$implicit;o.xp6(1),o.Q6J("value",u.idCommune),o.xp6(1),o.hij(" ",u.description," ")}}function hr(y,ne){1&y&&(o.TgZ(0,"div"),o._uU(1," ce champs est obligatoire"),o.qZA())}function Rl(y,ne){if(1&y&&(o.TgZ(0,"mat-error",61),o.YNc(1,hr,2,0,"div",19),o.qZA()),2&y){const u=o.oxw(4);o.xp6(1),o.Q6J("ngIf",u.formCreationAssure.controls.commune.errors.required)}}function ka(y,ne){if(1&y){const u=o.EpF();o.TgZ(0,"form",46)(1,"mat-expansion-panel",25)(2,"mat-expansion-panel-header")(3,"mat-panel-title"),o._uU(4," Informations assur\xe9 "),o.qZA()(),o.TgZ(5,"div",26),o.YNc(6,tl,6,2,"mat-form-field",47),o.TgZ(7,"div",48),o.YNc(8,qi,23,10,"ng-container",12),o.YNc(9,Yr,6,2,"ng-template",null,49,o.W1O),o.qZA(),o.YNc(11,qr,22,5,"ng-container",12),o.YNc(12,So,6,2,"ng-template",null,50,o.W1O),o.TgZ(14,"mat-form-field",51)(15,"mat-label"),o._uU(16,"Mobile"),o.qZA(),o.TgZ(17,"span",52),o._uU(18,"+213 \xa0"),o.qZA(),o.TgZ(19,"input",53),o.NdJ("ngModelChange",function(W){o.CHM(u);const ie=o.oxw(3);return o.KtG(ie.onChangeValueFormAssure("telephone",W))}),o.qZA(),o.YNc(20,Hr,2,1,"mat-error",54),o.YNc(21,oo,2,0,"mat-error",54),o.qZA(),o.TgZ(22,"mat-form-field",51)(23,"mat-label"),o._uU(24,"Email"),o.qZA(),o.TgZ(25,"input",55),o.NdJ("ngModelChange",function(W){o.CHM(u);const ie=o.oxw(3);return o.KtG(ie.onChangeValueFormAssure("email",W))}),o.qZA(),o.YNc(26,jt,2,1,"mat-error",54),o.YNc(27,Be,2,0,"mat-error",54),o.qZA(),o.TgZ(28,"mat-form-field",51)(29,"mat-label"),o._uU(30,"Adresse"),o.qZA(),o.TgZ(31,"input",56),o.NdJ("ngModelChange",function(W){o.CHM(u);const ie=o.oxw(3);return o.KtG(ie.onChangeValueFormAssure("adresse",W))}),o.qZA(),o.YNc(32,yn,2,1,"mat-error",54),o.qZA(),o.TgZ(33,"mat-form-field",51)(34,"mat-label"),o._uU(35,"Wilaya"),o.qZA(),o.TgZ(36,"mat-select",57),o.NdJ("ngModelChange",function(W){o.CHM(u);const ie=o.oxw(3);return o.KtG(ie.onChangeValueFormAssure("wilaya",W))})("selectionChange",function(W){o.CHM(u);const ie=o.oxw(3);return o.KtG(ie.getCommune(W.value,"Assure"))}),o.YNc(37,Un,3,2,"ng-container",14),o.qZA(),o.YNc(38,ro,2,1,"mat-error",54),o.qZA(),o.TgZ(39,"mat-form-field",51)(40,"mat-label"),o._uU(41,"Commune"),o.qZA(),o.TgZ(42,"mat-select",58),o.NdJ("ngModelChange",function(W){o.CHM(u);const ie=o.oxw(3);return o.KtG(ie.onChangeValueFormAssure("commune",W))}),o.YNc(43,ko,3,2,"ng-container",14),o.qZA(),o.YNc(44,Rl,2,1,"mat-error",54),o.qZA()()()()}if(2&y){const u=o.MAs(10),M=o.MAs(13),W=o.oxw(3);o.Q6J("formGroup",W.formCreationAssure),o.xp6(1),o.Q6J("expanded",!0),o.xp6(5),o.Q6J("ngIf","A21"==(null==W.avenant?null:W.avenant.code)),o.xp6(2),o.Q6J("ngIf","personne morale"!=W.typeClient)("ngIfElse",u),o.xp6(3),o.Q6J("ngIf","personne morale"!=W.typeClient)("ngIfElse",M),o.xp6(9),o.Q6J("ngIf",W.formCreationAssure.controls.telephone.errors),o.xp6(1),o.Q6J("ngIf",(null==W.formCreationAssure.controls.telephone.errors?null:W.formCreationAssure.controls.telephone.errors.pattern)||(null==W.formCreationAssure.controls.telephone.errors?null:W.formCreationAssure.controls.telephone.errors.maxlength)||(null==W.formCreationAssure.controls.telephone.errors?null:W.formCreationAssure.controls.telephone.errors.minlength)),o.xp6(5),o.Q6J("ngIf",W.formCreationAssure.controls.email.errors),o.xp6(1),o.Q6J("ngIf",(null==W.formCreationAssure.controls.email.errors?null:W.formCreationAssure.controls.email.errors.pattern)||(null==W.formCreationAssure.controls.email.errors?null:W.formCreationAssure.controls.email.errors.maxlength)||(null==W.formCreationAssure.controls.email.errors?null:W.formCreationAssure.controls.email.errors.minlength)),o.xp6(5),o.Q6J("ngIf",W.formCreationAssure.controls.adresse.errors),o.xp6(5),o.Q6J("ngForOf",W.wilayas),o.xp6(1),o.Q6J("ngIf",W.formCreationAssure.controls.wilaya.errors),o.xp6(5),o.Q6J("ngForOf",W.communes_assure),o.xp6(1),o.Q6J("ngIf",W.formCreationAssure.controls.commune.errors)}}function rl(y,ne){if(1&y){const u=o.EpF();o.TgZ(0,"mat-radio-group",92),o.NdJ("change",function(W){o.CHM(u);const ie=o.oxw(4);return o.KtG(ie.changeRoleClient("oui"===W.value,"Souscripteur"))}),o.TgZ(1,"label"),o._uU(2,"Le souscripteur est-il l'assur\xe9 ?"),o.qZA(),o.TgZ(3,"mat-radio-button",93),o._uU(4,"Oui"),o.qZA(),o.TgZ(5,"mat-radio-button",94),o._uU(6,"Non"),o.qZA()()}if(2&y){const u=o.oxw(4);o.xp6(3),o.Q6J("checked",u.isAssure),o.xp6(2),o.Q6J("checked",!u.isAssure)}}function Is(y,ne){1&y&&(o.TgZ(0,"div"),o._uU(1," ce champs est obligatoire"),o.qZA())}function Dl(y,ne){if(1&y&&(o.TgZ(0,"mat-error",61),o.YNc(1,Is,2,0,"div",19),o.qZA()),2&y){const u=o.oxw(4);o.xp6(1),o.Q6J("ngIf",u.formCreationSouscripteur.controls.nom.errors.required)}}function $l(y,ne){1&y&&(o.TgZ(0,"div"),o._uU(1," ce champs est obligatoire"),o.qZA())}function Er(y,ne){if(1&y&&(o.TgZ(0,"mat-error",61),o.YNc(1,$l,2,0,"div",19),o.qZA()),2&y){const u=o.oxw(4);o.xp6(1),o.Q6J("ngIf",u.formCreationSouscripteur.controls.prenom.errors.required)}}function al(y,ne){1&y&&(o.TgZ(0,"div"),o._uU(1," L'age du souscripteur doit etre sup\xe9rieur \xe0 18 ans"),o.qZA())}function Oi(y,ne){1&y&&(o.TgZ(0,"div"),o._uU(1," L'age du souscripteur doit etre inf\xe9rieur \xe0 107 ans "),o.qZA())}function zi(y,ne){1&y&&(o.TgZ(0,"div"),o._uU(1," ce champs est obligatoire"),o.qZA())}function wl(y,ne){if(1&y&&(o.TgZ(0,"mat-error",61),o.YNc(1,al,2,0,"div",19),o.YNc(2,Oi,2,0,"div",19),o.YNc(3,zi,2,0,"div",19),o.qZA()),2&y){const u=o.oxw(4);o.xp6(1),o.Q6J("ngIf",u.formCreationSouscripteur.controls.dateNaissance.errors.ageInf18),o.xp6(1),o.Q6J("ngIf",u.formCreationSouscripteur.controls.dateNaissance.errors.ageSup107),o.xp6(1),o.Q6J("ngIf",u.formCreationSouscripteur.controls.dateNaissance.errors.required)}}function sl(y,ne){if(1&y){const u=o.EpF();o.TgZ(0,"button",71),o.NdJ("mouseup",function(){o.CHM(u);const W=o.oxw(4);return o.KtG(W.recherchePersonne("souscripteur"))}),o._uU(1," Rechercher "),o.qZA()}}function Fi(y,ne){if(1&y){const u=o.EpF();o.TgZ(0,"button",72),o.NdJ("mouseup",function(){o.CHM(u);const W=o.oxw(4);return o.KtG(W.recherchePersonne("souscripteur"))}),o._uU(1," Rechercher "),o.qZA()}}function ll(y,ne){1&y&&(o.TgZ(0,"div"),o._uU(1," ce champs est obligatoire"),o.qZA())}function Wa(y,ne){if(1&y&&(o.TgZ(0,"mat-error",61),o.YNc(1,ll,2,0,"div",19),o.qZA()),2&y){const u=o.oxw(4);o.xp6(1),o.Q6J("ngIf",u.formCreationSouscripteur.controls.nin.errors.required)}}function Tr(y,ne){1&y&&(o.TgZ(0,"mat-error",61),o._uU(1," ce champs n'est pas conforme "),o.qZA())}function _o(y,ne){1&y&&(o.TgZ(0,"div"),o._uU(1," ce champs est obligatoire"),o.qZA())}function Xa(y,ne){if(1&y&&(o.TgZ(0,"mat-error",61),o.YNc(1,_o,2,0,"div",19),o.qZA()),2&y){const u=o.oxw(4);o.xp6(1),o.Q6J("ngIf",u.formCreationSouscripteur.controls.telephone.errors.required)}}function Do(y,ne){1&y&&(o.TgZ(0,"mat-error",61),o._uU(1," ce champs n'est pas conforme "),o.qZA())}function $r(y,ne){1&y&&(o.TgZ(0,"div"),o._uU(1," ce champs est obligatoire"),o.qZA())}function Vo(y,ne){if(1&y&&(o.TgZ(0,"mat-error",61),o.YNc(1,$r,2,0,"div",19),o.qZA()),2&y){const u=o.oxw(4);o.xp6(1),o.Q6J("ngIf",u.formCreationSouscripteur.controls.email.errors.required)}}function cl(y,ne){1&y&&(o.TgZ(0,"mat-error",61),o._uU(1," ce champs n'est pas conforme "),o.qZA())}function ul(y,ne){1&y&&(o.TgZ(0,"div"),o._uU(1," ce champs est obligatoire"),o.qZA())}function si(y,ne){if(1&y&&(o.TgZ(0,"mat-error",61),o.YNc(1,ul,2,0,"div",19),o.qZA()),2&y){const u=o.oxw(4);o.xp6(1),o.Q6J("ngIf",u.formCreationSouscripteur.controls.adresse.errors.required)}}function Gr(y,ne){if(1&y&&(o.ynx(0),o.TgZ(1,"mat-option",36),o._uU(2),o.qZA(),o.BQk()),2&y){const u=ne.$implicit;o.xp6(1),o.Q6J("value",u.idWilaya),o.xp6(1),o.hij(" ",u.description," ")}}function ml(y,ne){1&y&&(o.TgZ(0,"div"),o._uU(1," ce champs est obligatoire"),o.qZA())}function Es(y,ne){if(1&y&&(o.TgZ(0,"mat-error",61),o.YNc(1,ml,2,0,"div",19),o.qZA()),2&y){const u=o.oxw(4);o.xp6(1),o.Q6J("ngIf",u.formCreationSouscripteur.controls.wilaya.errors.required)}}function ao(y,ne){if(1&y&&(o.ynx(0),o.TgZ(1,"mat-option",36),o._uU(2),o.qZA(),o.BQk()),2&y){const u=ne.$implicit;o.xp6(1),o.Q6J("value",u.idCommune),o.xp6(1),o.hij(" ",u.description," ")}}function Rs(y,ne){1&y&&(o.TgZ(0,"div"),o._uU(1," ce champs est obligatoire"),o.qZA())}function Ol(y,ne){if(1&y&&(o.TgZ(0,"mat-error",61),o.YNc(1,Rs,2,0,"div",19),o.qZA()),2&y){const u=o.oxw(4);o.xp6(1),o.Q6J("ngIf",u.formCreationSouscripteur.controls.commune.errors.required)}}function Vi(y,ne){if(1&y&&(o.ynx(0),o.TgZ(1,"mat-option",36),o._uU(2),o.qZA(),o.BQk()),2&y){const u=ne.$implicit;o.xp6(1),o.Q6J("value",u.idParam),o.xp6(1),o.Oqu(u.description)}}function Ma(y,ne){1&y&&(o.TgZ(0,"div"),o._uU(1," ce champs est obligatoire"),o.qZA())}function ar(y,ne){if(1&y&&(o.TgZ(0,"mat-error",61),o.YNc(1,Ma,2,0,"div",19),o.qZA()),2&y){const u=o.oxw(4);o.xp6(1),o.Q6J("ngIf",u.formCreationSouscripteur.controls.genre.errors.required)}}function Ds(y,ne){if(1&y&&(o.ynx(0),o.TgZ(1,"mat-option",36),o._uU(2),o.qZA(),o.BQk()),2&y){const u=ne.$implicit;o.xp6(1),o.Q6J("value",u.idParam),o.xp6(1),o.Oqu(u.description)}}function Br(y,ne){if(1&y&&(o.ynx(0),o.TgZ(1,"mat-option",36),o._uU(2),o.qZA(),o.BQk()),2&y){const u=ne.$implicit;o.xp6(1),o.Q6J("value",u.idProfession),o.xp6(1),o.Oqu(u.description)}}function Rr(y,ne){if(1&y){const u=o.EpF();o.TgZ(0,"form",46)(1,"mat-expansion-panel",25)(2,"mat-expansion-panel-header")(3,"mat-panel-title"),o._uU(4," Informations souscripteur "),o.qZA()(),o.TgZ(5,"div",26),o.YNc(6,rl,7,2,"mat-radio-group",82),o.TgZ(7,"div",48)(8,"mat-form-field",62)(9,"mat-label"),o._uU(10,"Nom"),o.qZA(),o.TgZ(11,"input",63),o.NdJ("ngModelChange",function(){o.CHM(u);const W=o.oxw(3);return o.KtG(W.changePersonne("Souscripteur"))}),o.qZA(),o.YNc(12,Dl,2,1,"mat-error",54),o.qZA(),o.TgZ(13,"mat-form-field",62)(14,"mat-label"),o._uU(15,"Pr\xe9nom"),o.qZA(),o.TgZ(16,"input",64),o.NdJ("ngModelChange",function(){o.CHM(u);const W=o.oxw(3);return o.KtG(W.changePersonne("Souscripteur"))}),o.qZA(),o.YNc(17,Er,2,1,"mat-error",54),o.qZA(),o.TgZ(18,"mat-form-field",62)(19,"mat-label"),o._uU(20,"Date de naissance"),o.qZA(),o.TgZ(21,"input",65),o.NdJ("ngModelChange",function(){o.CHM(u);const W=o.oxw(3);return o.KtG(W.changePersonne("Souscripteur"))}),o.qZA(),o._UZ(22,"mat-datepicker-toggle",39)(23,"mat-datepicker",null,66),o.YNc(25,wl,4,3,"mat-error",54),o.qZA(),o.YNc(26,sl,2,0,"button",69),o.YNc(27,Fi,2,0,"button",70),o.qZA(),o.TgZ(28,"mat-form-field",75)(29,"mat-label"),o._uU(30,"NIN"),o.qZA(),o._UZ(31,"input",83),o.YNc(32,Wa,2,1,"mat-error",54),o.YNc(33,Tr,2,0,"mat-error",54),o.qZA(),o.TgZ(34,"mat-form-field",51)(35,"mat-label"),o._uU(36,"Mobile"),o.qZA(),o.TgZ(37,"span",52),o._uU(38,"+213 \xa0"),o.qZA(),o._UZ(39,"input",84),o.YNc(40,Xa,2,1,"mat-error",54),o.YNc(41,Do,2,0,"mat-error",54),o.qZA(),o.TgZ(42,"mat-form-field",51)(43,"mat-label"),o._uU(44,"Email"),o.qZA(),o._UZ(45,"input",85),o.YNc(46,Vo,2,1,"mat-error",54),o.YNc(47,cl,2,0,"mat-error",54),o.qZA(),o.TgZ(48,"mat-form-field",51)(49,"mat-label"),o._uU(50,"Adresse"),o.qZA(),o._UZ(51,"input",86),o.YNc(52,si,2,1,"mat-error",54),o.qZA(),o.TgZ(53,"mat-form-field",51)(54,"mat-label"),o._uU(55,"Wilaya"),o.qZA(),o.TgZ(56,"mat-select",87),o.NdJ("selectionChange",function(W){o.CHM(u);const ie=o.oxw(3);return o.KtG(ie.getCommune(W.value,"Souscripteur"))}),o.YNc(57,Gr,3,2,"ng-container",14),o.qZA(),o.YNc(58,Es,2,1,"mat-error",54),o.qZA(),o.TgZ(59,"mat-form-field",51)(60,"mat-label"),o._uU(61,"Commune"),o.qZA(),o.TgZ(62,"mat-select",88),o.YNc(63,ao,3,2,"ng-container",14),o.qZA(),o.YNc(64,Ol,2,1,"mat-error",54),o.qZA(),o.TgZ(65,"mat-form-field",51)(66,"mat-label"),o._uU(67," Genre "),o.qZA(),o.TgZ(68,"mat-select",89),o.YNc(69,Vi,3,2,"ng-container",14),o.qZA(),o.YNc(70,ar,2,1,"mat-error",54),o.qZA(),o.TgZ(71,"mat-form-field",51)(72,"mat-label"),o._uU(73," Situation Familiale "),o.qZA(),o.TgZ(74,"mat-select",90),o.YNc(75,Ds,3,2,"ng-container",14),o.qZA()(),o.TgZ(76,"mat-form-field",51)(77,"mat-label"),o._uU(78," Profession "),o.qZA(),o.TgZ(79,"mat-select",91),o.YNc(80,Br,3,2,"ng-container",14),o.qZA()()()()()}if(2&y){const u=o.MAs(24),M=o.oxw(3);o.Q6J("formGroup",M.formCreationSouscripteur),o.xp6(1),o.Q6J("expanded",!0),o.xp6(5),o.Q6J("ngIf","personne physique"==M.typeClient&&("A21"==M.avenant.code||"A17"==M.avenant.code||"A13"==M.avenant.code)),o.xp6(6),o.Q6J("ngIf",M.formCreationSouscripteur.controls.nom.errors),o.xp6(5),o.Q6J("ngIf",M.formCreationSouscripteur.controls.prenom.errors),o.xp6(4),o.Q6J("max",M.now)("matDatepicker",u),o.xp6(1),o.Q6J("for",u),o.xp6(3),o.Q6J("ngIf",M.formCreationSouscripteur.controls.dateNaissance.errors),o.xp6(1),o.Q6J("ngIf",""!=M.formCreationSouscripteur.value.nom&&""!=M.formCreationSouscripteur.value.prenom&&null!=M.formCreationSouscripteur.value.dateNaissance&&!M.isAssure),o.xp6(1),o.Q6J("ngIf",""==M.formCreationSouscripteur.value.nom||""==M.formCreationSouscripteur.value.prenom||null==M.formCreationSouscripteur.value.dateNaissance||M.isAssure),o.xp6(5),o.Q6J("ngIf",M.formCreationSouscripteur.controls.nin.errors),o.xp6(1),o.Q6J("ngIf",(null==M.formCreationSouscripteur.controls.nin.errors?null:M.formCreationSouscripteur.controls.nin.errors.pattern)||(null==M.formCreationSouscripteur.controls.nin.errors?null:M.formCreationSouscripteur.controls.nin.errors.maxlength)||(null==M.formCreationSouscripteur.controls.nin.errors?null:M.formCreationSouscripteur.controls.nin.errors.minlength)),o.xp6(7),o.Q6J("ngIf",M.formCreationSouscripteur.controls.telephone.errors),o.xp6(1),o.Q6J("ngIf",(null==M.formCreationSouscripteur.controls.telephone.errors?null:M.formCreationSouscripteur.controls.telephone.errors.pattern)||(null==M.formCreationSouscripteur.controls.telephone.errors?null:M.formCreationSouscripteur.controls.telephone.errors.maxlength)||(null==M.formCreationSouscripteur.controls.telephone.errors?null:M.formCreationSouscripteur.controls.telephone.errors.minlength)),o.xp6(5),o.Q6J("ngIf",M.formCreationSouscripteur.controls.email.errors),o.xp6(1),o.Q6J("ngIf",(null==M.formCreationSouscripteur.controls.email.errors?null:M.formCreationSouscripteur.controls.email.errors.pattern)||(null==M.formCreationSouscripteur.controls.email.errors?null:M.formCreationSouscripteur.controls.email.errors.maxlength)||(null==M.formCreationSouscripteur.controls.email.errors?null:M.formCreationSouscripteur.controls.email.errors.minlength)),o.xp6(5),o.Q6J("ngIf",M.formCreationSouscripteur.controls.adresse.errors),o.xp6(5),o.Q6J("ngForOf",M.wilayas),o.xp6(1),o.Q6J("ngIf",M.formCreationSouscripteur.controls.wilaya.errors),o.xp6(5),o.Q6J("ngForOf",M.communes_sous),o.xp6(1),o.Q6J("ngIf",M.formCreationSouscripteur.controls.commune.errors),o.xp6(5),o.Q6J("ngForOf",M.genres),o.xp6(1),o.Q6J("ngIf",M.formCreationSouscripteur.controls.genre.errors),o.xp6(5),o.Q6J("ngForOf",M.situations),o.xp6(5),o.Q6J("ngForOf",M.professions)}}function ws(y,ne){if(1&y){const u=o.EpF();o.TgZ(0,"div",15)(1,"button",95),o.NdJ("mouseup",function(){o.CHM(u);const W=o.oxw(3);return o.KtG(W.redirectConsultation())}),o._uU(2,"Annuler"),o.qZA(),o.TgZ(3,"button",17),o.NdJ("click",function(){o.CHM(u);const W=o.oxw(3);return o.KtG(W.getAllPackByProduit(1))}),o._uU(4," Suivant "),o.qZA()()}}function Po(y,ne){if(1&y){const u=o.EpF();o.TgZ(0,"div")(1,"button",17),o.NdJ("click",function(){o.CHM(u);const W=o.oxw(4);return o.KtG(W.stepnext())}),o._uU(2," Suivant "),o.qZA()()}}function yo(y,ne){if(1&y&&o.YNc(0,Po,3,0,"div",12),2&y){o.oxw();const u=o.MAs(30),M=o.oxw(2);o.Q6J("ngIf","A172"==(null==M.avenant?null:M.avenant.code))("ngIfElse",u)}}function ua(y,ne){1&y&&o._uU(0,"Organismes")}function Os(y,ne){1&y&&(o.TgZ(0,"mat-error"),o._uU(1," Ce champ est obligatoire "),o.qZA())}function ks(y,ne){1&y&&(o.TgZ(0,"mat-error"),o._uU(1," Ce champ est obligatoire "),o.qZA())}function ho(y,ne){1&y&&(o.TgZ(0,"mat-error"),o._uU(1," Veuillez entrer un classement valide "),o.qZA())}function Kr(y,ne){1&y&&(o.TgZ(0,"mat-error"),o._uU(1," Ce classement est d\xe9j\xe0 utilis\xe9. Veuillez choisir un autre. "),o.qZA())}function es(y,ne){1&y&&(o.TgZ(0,"mat-error"),o._uU(1," Ce champ est obligatoire "),o.qZA())}function kl(y,ne){1&y&&(o.TgZ(0,"mat-error"),o._uU(1," Veuillez entrer un montant valide "),o.qZA())}function Ml(y,ne){if(1&y&&(o.TgZ(0,"mat-option",36),o._uU(1),o.qZA()),2&y){const u=ne.$implicit;o.Q6J("value",u.idParam),o.xp6(1),o.hij(" ",u.description," ")}}function Yo(y,ne){1&y&&(o.TgZ(0,"th",117),o._uU(1,"Organisme"),o.qZA())}function Ua(y,ne){if(1&y&&(o.TgZ(0,"td",118),o._uU(1),o.qZA()),2&y){const u=ne.$implicit;o.xp6(1),o.hij(" ",u.organisme," ")}}function Ul(y,ne){1&y&&(o.TgZ(0,"th",117),o._uU(1,"Classement"),o.qZA())}function dl(y,ne){if(1&y&&(o.TgZ(0,"td",118),o._uU(1),o.qZA()),2&y){const u=ne.$implicit;o.xp6(1),o.hij(" ",u.classementOrganisme," ")}}function tr(y,ne){1&y&&(o.TgZ(0,"th",117),o._uU(1,"Montant"),o.qZA())}function Ms(y,ne){if(1&y&&(o.TgZ(0,"td",118),o._uU(1),o.qZA()),2&y){const u=ne.$implicit;o.xp6(1),o.hij(" ",u.montant," ")}}function Dn(y,ne){1&y&&(o.TgZ(0,"th",117),o._uU(1,"Type Perte"),o.qZA())}function ts(y,ne){if(1&y&&(o.TgZ(0,"td",118),o._uU(1),o.qZA()),2&y){const u=ne.$implicit;o.xp6(1),o.hij(" ",null==u.typePerte?null:u.typePerte.description," ")}}function Kl(y,ne){1&y&&(o.TgZ(0,"th",117),o._uU(1,"Actions"),o.qZA())}function ns(y,ne){if(1&y){const u=o.EpF();o.TgZ(0,"td",118)(1,"button",119),o.NdJ("click",function(){const ie=o.CHM(u).index,ve=o.oxw(4);return o.KtG(ve.removeOrganisme(ie))}),o.TgZ(2,"mat-icon"),o._uU(3,"delete"),o.qZA()()()}}function Pa(y,ne){1&y&&o._UZ(0,"tr",120)}function Ho(y,ne){1&y&&o._UZ(0,"tr",121)}function ma(y,ne){if(1&y){const u=o.EpF();o.ynx(0),o.TgZ(1,"button",17),o.NdJ("click",function(){o.CHM(u);const W=o.oxw(5);return o.KtG(W.stepnext())}),o._uU(2," Suivant "),o.qZA(),o.BQk()}}function wo(y,ne){1&y&&o._uU(0,"Taille du risque")}function Us(y,ne){if(1&y){const u=o.EpF();o.ynx(0),o.TgZ(1,"p"),o._uU(2,"Veuillez choisir le nombre de v\xe9hicule "),o.qZA(),o.TgZ(3,"div",23)(4,"mat-form-field",59)(5,"mat-label"),o._uU(6,"Nombre de v\xe9hicule"),o.qZA(),o._UZ(7,"input",122),o.qZA()(),o.TgZ(8,"div")(9,"button",123),o._uU(10,"Retour"),o.qZA(),o.TgZ(11,"button",17),o.NdJ("click",function(){o.CHM(u);const W=o.oxw(6);return o.KtG(W.submitNumberVehicule())}),o._uU(12," Suivant "),o.qZA()(),o.BQk()}if(2&y){const u=o.oxw(6);o.xp6(7),o.Q6J("formControl",u.nmbVehicule)}}function is(y,ne){if(1&y&&(o.TgZ(0,"mat-step",8),o.YNc(1,wo,1,0,"ng-template",9),o.YNc(2,Us,13,1,"ng-container",19),o.qZA()),2&y){const u=o.oxw(5);o.Q6J("editable",!0),o.xp6(2),o.Q6J("ngIf","A168"==(null==u.avenant?null:u.avenant.code)&&("45F"==u.codeProduit||"45L"==u.codeProduit))}}function _l(y,ne){if(1&y){const u=o.EpF();o.TgZ(0,"div",15)(1,"button",95),o.NdJ("mouseup",function(){o.CHM(u);const W=o.oxw(4);return o.KtG(W.backk())}),o._uU(2," Annuler "),o.qZA(),o.YNc(3,ma,3,0,"ng-container",19),o.YNc(4,is,3,2,"mat-step",7),o.qZA()}if(2&y){const u=o.oxw(4);o.xp6(3),o.Q6J("ngIf","A168"==(null==u.avenant?null:u.avenant.code)&&("45F"==u.codeProduit||"45L"==u.codeProduit)),o.xp6(1),o.Q6J("ngIf","A168"==(null==u.avenant?null:u.avenant.code)&&("45F"==u.codeProduit||"45L"==u.codeProduit))}}const Fs=function(){return["organisme","classementOrganisme","montant","typePerte","remove"]};function Fl(y,ne){if(1&y){const u=o.EpF();o.TgZ(0,"mat-step",8),o.YNc(1,ua,1,0,"ng-template",9),o.TgZ(2,"div")(3,"mat-accordion",10)(4,"mat-expansion-panel",96)(5,"mat-expansion-panel-header")(6,"mat-panel-title"),o._uU(7," Ajouter Organisme "),o.qZA()(),o.TgZ(8,"form",97),o.NdJ("ngSubmit",function(){o.CHM(u);const W=o.oxw(3);return o.KtG(W.addOrganisme())}),o.TgZ(9,"div",26)(10,"mat-form-field",59)(11,"mat-label"),o._uU(12,"Organisme"),o.qZA(),o._UZ(13,"input",98),o.YNc(14,Os,2,0,"mat-error",19),o.qZA(),o.TgZ(15,"mat-form-field",59)(16,"mat-label"),o._uU(17,"Classement Organisme"),o.qZA(),o._UZ(18,"input",99),o.YNc(19,ks,2,0,"mat-error",19),o.YNc(20,ho,2,0,"mat-error",19),o.YNc(21,Kr,2,0,"mat-error",19),o.qZA(),o.TgZ(22,"mat-form-field",59)(23,"mat-label"),o._uU(24,"Montant"),o.qZA(),o._UZ(25,"input",100),o.YNc(26,es,2,0,"mat-error",19),o.YNc(27,kl,2,0,"mat-error",19),o.qZA(),o.TgZ(28,"mat-form-field",101)(29,"mat-label"),o._uU(30,"Type de Perte"),o.qZA(),o.TgZ(31,"div",102)(32,"mat-select",103),o.YNc(33,Ml,2,2,"mat-option",104),o.qZA()()(),o.TgZ(34,"div",105)(35,"button",106),o.NdJ("click",function(){o.CHM(u);const W=o.oxw(3);return o.KtG(W.addOrganisme())}),o._uU(36," Ajouter "),o.qZA()()()(),o.TgZ(37,"div",105)(38,"h3"),o._uU(39,"Liste des Organismes"),o.qZA(),o.TgZ(40,"table",107),o.ynx(41,108),o.YNc(42,Yo,2,0,"th",109),o.YNc(43,Ua,2,1,"td",110),o.BQk(),o.ynx(44,111),o.YNc(45,Ul,2,0,"th",109),o.YNc(46,dl,2,1,"td",110),o.BQk(),o.ynx(47,112),o.YNc(48,tr,2,0,"th",109),o.YNc(49,Ms,2,1,"td",110),o.BQk(),o.ynx(50,113),o.YNc(51,Dn,2,0,"th",109),o.YNc(52,ts,2,1,"td",110),o.BQk(),o.ynx(53,114),o.YNc(54,Kl,2,0,"th",109),o.YNc(55,ns,4,0,"td",110),o.BQk(),o.YNc(56,Pa,1,0,"tr",115),o.YNc(57,Ho,1,0,"tr",116),o.qZA()()()()(),o.YNc(58,_l,5,2,"div",30),o.qZA()}if(2&y){o.oxw();const u=o.MAs(30),M=o.oxw(2);let W,ie,ve,Re,Oe,ke;o.Q6J("editable",!0),o.xp6(4),o.Q6J("expanded",!0),o.xp6(4),o.Q6J("formGroup",M.organismeForm),o.xp6(6),o.Q6J("ngIf",null==(W=M.organismeForm.get("organisme"))?null:W.hasError("required")),o.xp6(5),o.Q6J("ngIf",null==(ie=M.organismeForm.get("classementOrganisme"))?null:ie.hasError("required")),o.xp6(1),o.Q6J("ngIf",null==(ve=M.organismeForm.get("classementOrganisme"))?null:ve.hasError("pattern")),o.xp6(1),o.Q6J("ngIf",null==(Re=M.organismeForm.get("classementOrganisme"))?null:Re.hasError("duplicate")),o.xp6(5),o.Q6J("ngIf",null==(Oe=M.organismeForm.get("montant"))?null:Oe.hasError("required")),o.xp6(1),o.Q6J("ngIf",null==(ke=M.organismeForm.get("montant"))?null:ke.hasError("pattern")),o.xp6(4),o.Q6J("formGroupName","typePerte"),o.xp6(2),o.Q6J("ngForOf",M.typePerteOptions),o.xp6(7),o.Q6J("dataSource",M.avenantOrganismeList),o.xp6(16),o.Q6J("matHeaderRowDef",o.DdM(16,Fs)),o.xp6(1),o.Q6J("matRowDefColumns",o.DdM(17,Fs)),o.xp6(1),o.Q6J("ngIf",0!=(null==M.avenant||null==M.avenant.paramRisque?null:M.avenant.paramRisque.length)||(null==M.avenant?null:M.avenant.packAffecte)||(null==M.avenant?null:M.avenant.garantieAffecte))("ngIfElse",u)}}function Qs(y,ne){1&y&&o._UZ(0,"mat-spinner",124)}function Ql(y,ne){1&y&&(o.TgZ(0,"span"),o._uU(1," Suivant"),o.qZA())}function pl(y,ne){if(1&y){const u=o.EpF();o.TgZ(0,"div",15)(1,"button",95),o.NdJ("mouseup",function(){o.CHM(u);const W=o.oxw(3);return o.KtG(W.redirectConsultation())}),o._uU(2," Annuler "),o.qZA(),o.TgZ(3,"button",17),o.NdJ("click",function(){o.CHM(u);const W=o.oxw(3);return o.KtG(W.calculPrime())}),o.YNc(4,Qs,1,0,"mat-spinner",18),o.YNc(5,Ql,2,0,"span",19),o.qZA()()}if(2&y){const u=o.oxw(3);o.xp6(4),o.Q6J("ngIf",u.loaderCalcul),o.xp6(1),o.Q6J("ngIf",!u.loaderCalcul)}}function Jl(y,ne){if(1&y&&(o.TgZ(0,"mat-step",20),o.YNc(1,_s,1,0,"ng-template",9),o.TgZ(2,"mat-accordion",10)(3,"form",21,22)(5,"div",23),o.YNc(6,Ta,4,0,"mat-form-field",24),o.YNc(7,Ws,3,1,"mat-form-field",24),o.YNc(8,dr,5,1,"mat-form-field",24),o.YNc(9,Va,4,0,"mat-form-field",24),o.YNc(10,ps,7,4,"mat-form-field",24),o.qZA(),o.TgZ(11,"mat-expansion-panel",25)(12,"mat-expansion-panel-header")(13,"mat-panel-title"),o._uU(14," Informations contrat "),o.qZA()(),o.TgZ(15,"div",26),o.YNc(16,el,4,3,"ng-container",14),o.YNc(17,hs,5,1,"mat-form-field",24),o.TgZ(18,"mat-form-field",27)(19,"mat-label"),o._uU(20,"Agence"),o.qZA(),o.TgZ(21,"mat-select",28),o.YNc(22,Cs,3,2,"ng-container",14),o.qZA()()()()(),o.YNc(23,ka,45,16,"form",29),o.YNc(24,Rr,81,26,"form",29),o.YNc(25,ws,5,0,"div",30),o.YNc(26,yo,1,2,"ng-template",null,31,o.W1O),o.YNc(28,Fl,59,18,"mat-step",7),o.YNc(29,pl,6,2,"ng-template",null,32,o.W1O),o.qZA()()),2&y){const u=o.MAs(27),M=o.oxw(2);o.Q6J("stepControl",M.formApplicationAvenant)("editable",!0),o.xp6(3),o.Q6J("formGroup",M.formApplicationAvenant),o.xp6(3),o.Q6J("ngIf",(null==M.avenant?null:M.avenant.attestation)&&"A22"==(null==M.avenant?null:M.avenant.code)),o.xp6(1),o.Q6J("ngIf",(null==M.avenant?null:M.avenant.attestation)&&"A22"!=(null==M.avenant?null:M.avenant.code)),o.xp6(1),o.Q6J("ngIf",0!=(null==M.avenant||null==M.avenant.motifs?null:M.avenant.motifs.length)),o.xp6(1),o.Q6J("ngIf","Autre"==(null==M.formApplicationAvenant.value||null==M.formApplicationAvenant.value.motif||null==M.formApplicationAvenant.value.motif.idMotif?null:M.formApplicationAvenant.value.motif.idMotif.description)),o.xp6(1),o.Q6J("ngIf","A01"!=(null==M.avenant?null:M.avenant.code)&&"A03"!=(null==M.avenant?null:M.avenant.code)&&"A04"!=(null==M.avenant?null:M.avenant.code)),o.xp6(1),o.Q6J("expanded",!0),o.xp6(5),o.Q6J("ngForOf",M.avenant.attributs),o.xp6(1),o.Q6J("ngIf",null==M.avenant?null:M.avenant.duree),o.xp6(5),o.Q6J("ngForOf",M.agences),o.xp6(1),o.Q6J("ngIf",null==M.avenant?null:M.avenant.assuree),o.xp6(1),o.Q6J("ngIf",null==M.avenant?null:M.avenant.souscripteur),o.xp6(1),o.Q6J("ngIf",0!=(null==M.avenant||null==M.avenant.paramRisque?null:M.avenant.paramRisque.length)||(null==M.avenant?null:M.avenant.packAffecte)||(null==M.avenant?null:M.avenant.garantieAffecte))("ngIfElse",u),o.xp6(3),o.Q6J("ngIf","A172"===(null==M.avenant?null:M.avenant.code))}}function Ce(y,ne){1&y&&o._uU(0,"Taille du risque")}function mt(y,ne){if(1&y){const u=o.EpF();o.ynx(0),o.TgZ(1,"p"),o._uU(2,"Veuillez choisir le nombre de v\xe9hicule "),o.qZA(),o.TgZ(3,"div",23)(4,"mat-form-field",59)(5,"mat-label"),o._uU(6,"Nombre de v\xe9hicule"),o.qZA(),o._UZ(7,"input",122),o.qZA(),o.TgZ(8,"mat-form-field",59)(9,"mat-label"),o._uU(10,"Nombre de pages "),o._UZ(11,"output"),o.qZA(),o._UZ(12,"input",122),o.qZA()(),o.TgZ(13,"div")(14,"button",123),o._uU(15,"Retour"),o.qZA(),o.TgZ(16,"button",17),o.NdJ("click",function(){o.CHM(u);const W=o.oxw(3);return o.KtG(W.submitNumberVehicule())}),o._uU(17," Suivant "),o.qZA()(),o.BQk()}if(2&y){const u=o.oxw(3);o.xp6(7),o.Q6J("formControl",u.nmbVehicule),o.xp6(5),o.Q6J("formControl",u.nbrPages)}}function Pe(y,ne){if(1&y&&(o.TgZ(0,"mat-step",8),o.YNc(1,Ce,1,0,"ng-template",9),o.YNc(2,mt,18,2,"ng-container",19),o.qZA()),2&y){const u=o.oxw(2);o.Q6J("editable",!0),o.xp6(2),o.Q6J("ngIf","A168"==(null==u.avenant?null:u.avenant.code)&&("45F"==u.codeProduit||"45L"==u.codeProduit))}}function _t(y,ne){1&y&&o._uU(0,"Informations du risque")}function yt(y,ne){if(1&y&&(o.TgZ(0,"li"),o._uU(1),o.qZA()),2&y){const u=ne.$implicit;o.xp6(1),o.hij(" ",u," ")}}function rn(y,ne){if(1&y&&(o.ynx(0),o.TgZ(1,"div",131)(2,"ul",132)(3,"span"),o._uU(4),o.qZA(),o.YNc(5,yt,2,1,"li",14),o.qZA()(),o.BQk()),2&y){const u=o.oxw().$implicit;o.xp6(4),o.hij("ligne ",u.ligne," "),o.xp6(1),o.Q6J("ngForOf",u.description)}}function eo(y,ne){if(1&y&&(o.TgZ(0,"div"),o.YNc(1,rn,6,2,"ng-container",19),o.qZA()),2&y){const u=ne.$implicit;o.xp6(1),o.Q6J("ngIf",0!=u.description.length)}}function sr(y,ne){if(1&y){const u=o.EpF();o.TgZ(0,"div",127)(1,"div",23)(2,"p"),o._uU(3," Veuillez importer le mod\xe8le."),o.qZA()(),o.TgZ(4,"div",23)(5,"div",128)(6,"input",129,130),o.NdJ("change",function(W){o.CHM(u);const ie=o.oxw(3);return o.KtG(ie.onFileSelected(W))}),o.qZA(),o.YNc(8,eo,2,1,"div",14),o.qZA()()()}if(2&y){const u=o.oxw(3);o.xp6(8),o.Q6J("ngForOf",u.fileControle)}}function Dr(y,ne){if(1&y){const u=o.EpF();o.TgZ(0,"button",133),o.NdJ("click",function(){o.CHM(u);const W=o.oxw(3);return o.KtG(W.generateTarif())}),o._uU(1,"Suivant"),o.qZA()}}function wr(y,ne){if(1&y&&(o.TgZ(0,"mat-step",8),o.YNc(1,_t,1,0,"ng-template",9),o.YNc(2,sr,9,1,"div",125),o.YNc(3,Dr,2,0,"button",126),o.TgZ(4,"button",123),o._uU(5,"Retour"),o.qZA()()),2&y){const u=o.oxw(2);o.Q6J("editable",!0),o.xp6(2),o.Q6J("ngIf","45F"==u.codeProduit&&"A168"==u.avenant.code),o.xp6(1),o.Q6J("ngIf",1==u.fileSuccess)}}function Or(y,ne){1&y&&o._uU(0,"Consultation des risques ")}function pr(y,ne){1&y&&(o.TgZ(0,"th",117),o._uU(1,"N\xb0.Risque"),o.qZA())}function Za(y,ne){if(1&y&&(o.TgZ(0,"td",118),o._uU(1),o.qZA()),2&y){const u=ne.$implicit;o.xp6(1),o.hij(" ",u.idRisque," ")}}function os(y,ne){1&y&&(o.TgZ(0,"th",117),o._uU(1,"Risque"),o.qZA())}function fl(y,ne){if(1&y&&(o.TgZ(0,"td",118),o._uU(1),o.qZA()),2&y){const u=ne.$implicit;o.xp6(1),o.hij(" ",u.description," ")}}function Js(y,ne){1&y&&(o.TgZ(0,"th",117),o._uU(1,"R\xe9f\xe9rence"),o.qZA())}function qa(y,ne){1&y&&(o.TgZ(0,"div"),o._uU(1," ce champs est obligatoire "),o.qZA())}function Ac(y,ne){if(1&y&&(o.TgZ(0,"mat-error",61),o.YNc(1,qa,2,0,"div",19),o.qZA()),2&y){const u=o.oxw().index,M=o.oxw(4);let W,ie;o.xp6(1),o.Q6J("ngIf",null==M.carteOrangeRisqueRefference||null==(W=M.carteOrangeRisqueRefference.at(u))||null==(ie=W.get("reference"))||null==ie.errors?null:ie.errors.required)}}function Wo(y,ne){if(1&y&&(o.TgZ(0,"td",118)(1,"mat-form-field",27)(2,"mat-label"),o._uU(3,"R\xe9f\xe9rence"),o.qZA(),o._UZ(4,"input",143),o.YNc(5,Ac,2,1,"mat-error",54),o.qZA()()),2&y){const u=ne.index,M=o.oxw(4);let W,ie;o.xp6(4),o.Q6J("formControl",M.getReferenceControl(u)),o.xp6(1),o.Q6J("ngIf",null==M.carteOrangeRisqueRefference||null==(W=M.carteOrangeRisqueRefference.at(u))||null==(ie=W.get("reference"))?null:ie.errors)}}function qt(y,ne){1&y&&(o.ynx(0,142),o.YNc(1,Js,2,0,"th",109),o.YNc(2,Wo,6,2,"td",110),o.BQk())}function an(y,ne){1&y&&o._UZ(0,"tr",144)}function Gt(y,ne){1&y&&o._UZ(0,"tr",121)}const Wn=function(){return[5,10]};function Qi(y,ne){if(1&y&&(o.TgZ(0,"mat-step",8),o.YNc(1,Or,1,0,"ng-template",9),o.TgZ(2,"div",134)(3,"table",135),o.ynx(4,136),o.YNc(5,pr,2,0,"th",109),o.YNc(6,Za,2,1,"td",110),o.BQk(),o.ynx(7,137),o.YNc(8,os,2,0,"th",109),o.YNc(9,fl,2,1,"td",110),o.BQk(),o.YNc(10,qt,3,0,"ng-container",138),o.YNc(11,an,1,0,"tr",139),o.YNc(12,Gt,1,0,"tr",116),o.qZA(),o._UZ(13,"mat-paginator",140),o.TgZ(14,"div",15)(15,"button",123),o._uU(16,"Retour"),o.qZA(),o.TgZ(17,"button",141),o._uU(18,"Suivant"),o.qZA()()()()),2&y){const u=o.oxw(2);o.Q6J("editable",!0),o.xp6(3),o.Q6J("dataSource",u.dataSourceConsultRisque),o.xp6(7),o.Q6J("ngIf","A22"===(null==u.avenant?null:u.avenant.code)&&!(null!=u.avenant&&u.avenant.attestation)&&"45A"!=u.codeProduit),o.xp6(1),o.Q6J("matHeaderRowDef",u.displayedColumnsRisque),o.xp6(1),o.Q6J("matRowDefColumns",u.displayedColumnsRisque),o.xp6(1),o.Q6J("pageSize",10)("pageSizeOptions",o.DdM(7,Wn))}}function xo(y,ne){1&y&&o._uU(0,"Informations risque ")}function lr(y,ne){1&y&&(o.TgZ(0,"th",117),o._uU(1,"N\xb0.Risque"),o.qZA())}function ue(y,ne){if(1&y&&(o.TgZ(0,"td",118),o._uU(1),o.qZA()),2&y){const u=ne.$implicit;o.xp6(1),o.hij(" ",u.idRisque," ")}}function je(y,ne){1&y&&(o.TgZ(0,"th",117),o._uU(1,"Risque"),o.qZA())}function z(y,ne){if(1&y&&(o.TgZ(0,"td",118),o._uU(1),o.qZA()),2&y){const u=ne.$implicit;o.xp6(1),o.hij(" ",u.description," ")}}function ge(y,ne){if(1&y&&(o.TgZ(0,"th",117),o._uU(1),o.qZA()),2&y){const u=o.oxw(4);o.xp6(1),o.Oqu("A26"==u.avenant.code?"Attestation":"R\xe9f\xe9rence")}}function we(y,ne){1&y&&(o.TgZ(0,"div"),o._uU(1," ce champs est obligatoire "),o.qZA())}function wt(y,ne){if(1&y&&(o.TgZ(0,"mat-error",61),o.YNc(1,we,2,0,"div",19),o.qZA()),2&y){const u=o.oxw().index,M=o.oxw(4);let W,ie;o.xp6(1),o.Q6J("ngIf",null==M.carteOrangeRisqueRefference||null==(W=M.carteOrangeRisqueRefference.at(u))||null==(ie=W.get("reference"))||null==ie.errors?null:ie.errors.required)}}function st(y,ne){if(1&y&&(o.TgZ(0,"td",118)(1,"mat-form-field",27)(2,"mat-label"),o._uU(3),o.qZA(),o._UZ(4,"input",143),o.YNc(5,wt,2,1,"mat-error",54),o.qZA()()),2&y){const u=ne.index,M=o.oxw(4);let W,ie;o.xp6(3),o.Oqu("A26"==M.avenant.code?"Attestation":"R\xe9f\xe9rence"),o.xp6(1),o.Q6J("formControl",M.getReferenceControl(u)),o.xp6(1),o.Q6J("ngIf",null==M.carteOrangeRisqueRefference||null==(W=M.carteOrangeRisqueRefference.at(u))||null==(ie=W.get("reference"))?null:ie.errors)}}function Tn(y,ne){1&y&&(o.TgZ(0,"th",117),o._uU(1,"Action"),o.qZA())}function Qo(y,ne){if(1&y){const u=o.EpF();o.TgZ(0,"td",118)(1,"button",148)(2,"mat-icon"),o._uU(3,"more_vert"),o.qZA()(),o.TgZ(4,"mat-menu",149,150)(6,"button",151),o.NdJ("click",function(){const ie=o.CHM(u).$implicit,ve=o.oxw(4);return o.KtG(ve.editRisque(ie.idRisque,ie.description))}),o.TgZ(7,"mat-icon"),o._uU(8,"source_notes"),o.qZA(),o.TgZ(9,"span"),o._uU(10,"Modifier information "),o.qZA()()()()}if(2&y){const u=o.MAs(5);o.xp6(1),o.Q6J("matMenuTriggerFor",u)}}function li(y,ne){1&y&&o._UZ(0,"tr",144)}function To(y,ne){1&y&&o._UZ(0,"tr",121)}function Mo(y,ne){if(1&y&&(o.TgZ(0,"div")(1,"table",135),o.ynx(2,136),o.YNc(3,lr,2,0,"th",109),o.YNc(4,ue,2,1,"td",110),o.BQk(),o.ynx(5,137),o.YNc(6,je,2,0,"th",109),o.YNc(7,z,2,1,"td",110),o.BQk(),o.ynx(8,142),o.YNc(9,ge,2,1,"th",109),o.YNc(10,st,6,3,"td",110),o.BQk(),o.ynx(11,147),o.YNc(12,Tn,2,0,"th",109),o.YNc(13,Qo,11,1,"td",110),o.BQk(),o.YNc(14,li,1,0,"tr",139),o.YNc(15,To,1,0,"tr",116),o.qZA(),o._UZ(16,"mat-paginator",140),o.qZA()),2&y){const u=o.oxw(3);o.xp6(1),o.Q6J("dataSource",u.dataSourceParamRisque),o.xp6(13),o.Q6J("matHeaderRowDef",u.displayedColumnsParamRisque),o.xp6(1),o.Q6J("matRowDefColumns",u.displayedColumnsParamRisque),o.xp6(1),o.Q6J("pageSize",10)("pageSizeOptions",o.DdM(5,Wn))}}function Zo(y,ne){if(1&y){const u=o.EpF();o.TgZ(0,"div")(1,"p",152),o._uU(2," choisissez la m\xe9thode qui vous convient le mieux pour g\xe9rer les risques : importez un fichier Excel ou remplissez notre formulaire en ligne. "),o.qZA(),o.TgZ(3,"div",153)(4,"button",17),o.NdJ("click",function(){o.CHM(u);const W=o.oxw(3);return o.KtG(W.formStep=2)}),o.TgZ(5,"span",154),o._uU(6," ios_share "),o.qZA(),o._uU(7," Importer mod\xe9le "),o.qZA(),o.TgZ(8,"button",17),o.NdJ("click",function(){o.CHM(u);const W=o.oxw(3);return o.KtG(W.formStep=1)}),o.TgZ(9,"span",154),o._uU(10," edit_note "),o.qZA(),o._uU(11," Formulaire "),o.qZA()(),o.TgZ(12,"button",123),o._uU(13,"Retour"),o.qZA()()}}function Wl(y,ne){1&y&&(o.TgZ(0,"div",162),o._uU(1," Risque modifi\xe9. "),o.qZA())}function eu(y,ne){if(1&y&&(o.TgZ(0,"mat-radio-button",177),o._uU(1,"l'assur\xe9"),o.qZA()),2&y){const u=o.oxw(9);o.Q6J("checked",u.isConducteurAssure)}}function Tc(y,ne){if(1&y){const u=o.EpF();o.TgZ(0,"mat-radio-group",92),o.NdJ("change",function(W){o.CHM(u);const ie=o.oxw(8);return o.KtG(ie.changeRoleClient(!0,W.value))}),o.TgZ(1,"label"),o._uU(2,"Le conducteur est ?"),o.qZA(),o.YNc(3,eu,2,1,"mat-radio-button",174),o.TgZ(4,"mat-radio-button",175),o._uU(5,"le souscripteur"),o.qZA(),o.TgZ(6,"mat-radio-button",176),o._uU(7,"Autre"),o.qZA()()}if(2&y){const u=o.oxw(8);o.xp6(3),o.Q6J("ngIf","personne physique"==u.typeClient),o.xp6(1),o.Q6J("checked",u.isConducteur),o.xp6(2),o.Q6J("checked",!u.isConducteurAssure&&!u.isConducteur)}}function Uo(y,ne){1&y&&(o.TgZ(0,"div"),o._uU(1," ce champs est obligatoire "),o.qZA())}function Ls(y,ne){if(1&y&&(o.TgZ(0,"mat-error",61),o.YNc(1,Uo,2,0,"div",19),o.qZA()),2&y){const u=o.oxw(8);o.xp6(1),o.Q6J("ngIf",u.formCreationConducteur.controls.nom.errors.required)}}function sc(y,ne){1&y&&(o.TgZ(0,"div"),o._uU(1," ce champs est obligatoire "),o.qZA())}function Yc(y,ne){if(1&y&&(o.TgZ(0,"mat-error",61),o.YNc(1,sc,2,0,"div",19),o.qZA()),2&y){const u=o.oxw(8);o.xp6(1),o.Q6J("ngIf",u.formCreationConducteur.controls.prenom.errors.required)}}function Go(y,ne){1&y&&(o.TgZ(0,"div"),o._uU(1," L'age du souscripteur doit etre sup\xe9rieur \xe0 18 ans "),o.qZA())}function yi(y,ne){1&y&&(o.TgZ(0,"div"),o._uU(1," L'age du souscripteur ne doit pas etre sup\xe9rieur \xe0 107 ans "),o.qZA())}function Wr(y,ne){1&y&&(o.TgZ(0,"div"),o._uU(1," ce champs est obligatoire "),o.qZA())}function Li(y,ne){if(1&y&&(o.TgZ(0,"mat-error",61),o.YNc(1,Go,2,0,"div",19),o.YNc(2,yi,2,0,"div",19),o.YNc(3,Wr,2,0,"div",19),o.qZA()),2&y){const u=o.oxw(8);o.xp6(1),o.Q6J("ngIf",null==u.formCreationConducteur.controls.dateNaissance.errors?null:u.formCreationConducteur.controls.dateNaissance.errors.ageInf18),o.xp6(1),o.Q6J("ngIf",null==u.formCreationConducteur.controls.dateNaissance.errors?null:u.formCreationConducteur.controls.dateNaissance.errors.ageSup107),o.xp6(1),o.Q6J("ngIf",null==u.formCreationConducteur.controls.dateNaissance.errors?null:u.formCreationConducteur.controls.dateNaissance.errors.required)}}function so(y,ne){if(1&y){const u=o.EpF();o.TgZ(0,"button",71),o.NdJ("mouseup",function(){o.CHM(u);const W=o.oxw(8);return o.KtG(W.recherchePersonne("Conducteur"))}),o._uU(1," Rechercher "),o.qZA()}}function Ll(y,ne){if(1&y){const u=o.EpF();o.TgZ(0,"button",72),o.NdJ("mouseup",function(){o.CHM(u);const W=o.oxw(8);return o.KtG(W.recherchePersonne("Conducteur"))}),o._uU(1," Rechercher "),o.qZA()}}function kr(y,ne){1&y&&(o.TgZ(0,"div"),o._uU(1," ce champs est obligatoire "),o.qZA())}function Sa(y,ne){if(1&y&&(o.TgZ(0,"mat-error",61),o.YNc(1,kr,2,0,"div",19),o.qZA()),2&y){const u=o.oxw(8);o.xp6(1),o.Q6J("ngIf",u.formCreationConducteur.controls.telephone.errors.required)}}function Bo(y,ne){1&y&&(o.TgZ(0,"mat-error",61),o._uU(1," ce champs n'est pas conforme "),o.qZA())}function Oo(y,ne){1&y&&(o.TgZ(0,"div"),o._uU(1," ce champs est obligatoire "),o.qZA())}function da(y,ne){if(1&y&&(o.TgZ(0,"mat-error",61),o.YNc(1,Oo,2,0,"div",19),o.qZA()),2&y){const u=o.oxw(8);o.xp6(1),o.Q6J("ngIf",u.formCreationConducteur.controls.email.errors.required)}}function Ni(y,ne){1&y&&(o.TgZ(0,"mat-error",61),o._uU(1," ce champs n'est pas conforme "),o.qZA())}function Bi(y,ne){1&y&&(o.TgZ(0,"div"),o._uU(1," ce champs est obligatoire "),o.qZA())}function Cr(y,ne){if(1&y&&(o.TgZ(0,"mat-error",61),o.YNc(1,Bi,2,0,"div",19),o.qZA()),2&y){const u=o.oxw(8);o.xp6(1),o.Q6J("ngIf",u.formCreationConducteur.controls.adresse.errors.required)}}function tu(y,ne){if(1&y&&(o.ynx(0),o.TgZ(1,"mat-option",36),o._uU(2),o.qZA(),o.BQk()),2&y){const u=ne.$implicit;o.xp6(1),o.Q6J("value",u.idWilaya),o.xp6(1),o.hij(" ",u.description," ")}}function Gc(y,ne){1&y&&(o.TgZ(0,"div"),o._uU(1," ce champs est obligatoire "),o.qZA())}function bc(y,ne){if(1&y&&(o.TgZ(0,"mat-error",61),o.YNc(1,Gc,2,0,"div",19),o.qZA()),2&y){const u=o.oxw(8);o.xp6(1),o.Q6J("ngIf",u.formCreationConducteur.controls.wilaya.errors.required)}}function yu(y,ne){if(1&y&&(o.ynx(0),o.TgZ(1,"mat-option",36),o._uU(2),o.qZA(),o.BQk()),2&y){const u=ne.$implicit;o.xp6(1),o.Q6J("value",u.idCommune),o.xp6(1),o.hij(" ",u.description," ")}}function xr(y,ne){1&y&&(o.TgZ(0,"div"),o._uU(1," ce champs est obligatoire "),o.qZA())}function Mr(y,ne){if(1&y&&(o.TgZ(0,"mat-error",61),o.YNc(1,xr,2,0,"div",19),o.qZA()),2&y){const u=o.oxw(8);o.xp6(1),o.Q6J("ngIf",u.formCreationConducteur.controls.commune.errors.required)}}function _a(y,ne){if(1&y&&(o.ynx(0),o.TgZ(1,"mat-option",36),o._uU(2),o.qZA(),o.BQk()),2&y){const u=ne.$implicit;o.xp6(1),o.Q6J("value",u.idParam),o.xp6(1),o.Oqu(u.description)}}function gl(y,ne){if(1&y&&(o.ynx(0),o.TgZ(1,"mat-option",36),o._uU(2),o.qZA(),o.BQk()),2&y){const u=ne.$implicit;o.xp6(1),o.Q6J("value",u.idProfession),o.xp6(1),o.Oqu(u.description)}}function se(y,ne){1&y&&(o.TgZ(0,"div"),o._uU(1," ce champs est obligatoire "),o.qZA())}function He(y,ne){if(1&y&&(o.TgZ(0,"mat-error",61),o.YNc(1,se,2,0,"div",19),o.qZA()),2&y){const u=o.oxw(8);o.xp6(1),o.Q6J("ngIf",u.formCreationConducteur.controls.profession.errors.required)}}function Y(y,ne){1&y&&(o.TgZ(0,"div"),o._uU(1," ce champs est obligatoire "),o.qZA())}function Ee(y,ne){if(1&y&&(o.TgZ(0,"mat-error",61),o.YNc(1,Y,2,0,"div",19),o.qZA()),2&y){const u=o.oxw(8);o.xp6(1),o.Q6J("ngIf",u.formCreationConducteur.controls.numeroPermis.errors.required)}}function Ye(y,ne){if(1&y&&(o.ynx(0),o.TgZ(1,"mat-option",36),o._uU(2),o.qZA(),o.BQk()),2&y){const u=ne.$implicit;o.xp6(1),o.Q6J("value",u),o.xp6(1),o.Oqu(u)}}function Ct(y,ne){1&y&&(o.TgZ(0,"div"),o._uU(1," ce champs est obligatoire "),o.qZA())}function sn(y,ne){if(1&y&&(o.TgZ(0,"mat-error",61),o.YNc(1,Ct,2,0,"div",19),o.qZA()),2&y){const u=o.oxw(8);o.xp6(1),o.Q6J("ngIf",u.formCreationConducteur.controls.categoriePermis.errors.required)}}function Pn(y,ne){if(1&y){const u=o.EpF();o.ynx(0),o.YNc(1,Tc,8,3,"mat-radio-group",168),o.TgZ(2,"div",48)(3,"mat-form-field",62)(4,"mat-label"),o._uU(5,"Nom"),o.qZA(),o.TgZ(6,"input",63),o.NdJ("ngModelChange",function(){o.CHM(u);const W=o.oxw(7);return o.KtG(W.changePersonne("Conducteur"))}),o.qZA(),o.YNc(7,Ls,2,1,"mat-error",54),o.qZA(),o.TgZ(8,"mat-form-field",62)(9,"mat-label"),o._uU(10,"Pr\xe9nom"),o.qZA(),o.TgZ(11,"input",64),o.NdJ("ngModelChange",function(){o.CHM(u);const W=o.oxw(7);return o.KtG(W.changePersonne("Conducteur"))}),o.qZA(),o.YNc(12,Yc,2,1,"mat-error",54),o.qZA(),o.TgZ(13,"mat-form-field",62)(14,"mat-label"),o._uU(15,"Date de naissance"),o.qZA(),o.TgZ(16,"input",169),o.NdJ("ngModelChange",function(){o.CHM(u);const W=o.oxw(7);return o.KtG(W.changePersonne("Conducteur"))}),o.qZA(),o._UZ(17,"mat-datepicker-toggle",39)(18,"mat-datepicker",null,66),o.YNc(20,Li,4,3,"mat-error",54),o.qZA(),o.YNc(21,so,2,0,"button",170),o.YNc(22,Ll,2,0,"button",171),o.qZA(),o.TgZ(23,"mat-form-field",59)(24,"mat-label"),o._uU(25,"Mobile"),o.qZA(),o.TgZ(26,"span",52),o._uU(27,"+213 \xa0"),o.qZA(),o._UZ(28,"input",84),o.YNc(29,Sa,2,1,"mat-error",54),o.YNc(30,Bo,2,0,"mat-error",54),o.qZA(),o.TgZ(31,"mat-form-field",59)(32,"mat-label"),o._uU(33,"Email"),o.qZA(),o._UZ(34,"input",85),o.YNc(35,da,2,1,"mat-error",54),o.YNc(36,Ni,2,0,"mat-error",54),o.qZA(),o.TgZ(37,"mat-form-field",59)(38,"mat-label"),o._uU(39,"Adresse"),o.qZA(),o._UZ(40,"input",86),o.YNc(41,Cr,2,1,"mat-error",54),o.qZA(),o.TgZ(42,"mat-form-field",59)(43,"mat-label"),o._uU(44,"Wilaya"),o.qZA(),o.TgZ(45,"mat-select",87),o.NdJ("selectionChange",function(W){o.CHM(u);const ie=o.oxw(7);return o.KtG(ie.getCommune(W.value,"Conducteur"))}),o.YNc(46,tu,3,2,"ng-container",14),o.qZA(),o.YNc(47,bc,2,1,"mat-error",54),o.qZA(),o.TgZ(48,"mat-form-field",59)(49,"mat-label"),o._uU(50,"Commune"),o.qZA(),o.TgZ(51,"mat-select",88),o.YNc(52,yu,3,2,"ng-container",14),o.qZA(),o.YNc(53,Mr,2,1,"mat-error",54),o.qZA(),o.TgZ(54,"mat-form-field",59)(55,"mat-label"),o._uU(56," Situation Familiale "),o.qZA(),o.TgZ(57,"mat-select",90),o.YNc(58,_a,3,2,"ng-container",14),o.qZA()(),o.TgZ(59,"mat-form-field",59)(60,"mat-label"),o._uU(61," Profession "),o.qZA(),o.TgZ(62,"mat-select",91),o.YNc(63,gl,3,2,"ng-container",14),o.qZA(),o.YNc(64,He,2,1,"mat-error",54),o.qZA(),o.TgZ(65,"mat-form-field",59)(66,"mat-label"),o._uU(67,"Numero Permis"),o.qZA(),o._UZ(68,"input",172),o.YNc(69,Ee,2,1,"mat-error",54),o.qZA(),o.TgZ(70,"mat-form-field",59)(71,"mat-label"),o._uU(72," Cat\xe9gorie Permis "),o.qZA(),o.TgZ(73,"mat-select",173),o.YNc(74,Ye,3,2,"ng-container",14),o.qZA(),o.YNc(75,sn,2,1,"mat-error",54),o.qZA(),o.BQk()}if(2&y){const u=o.MAs(19),M=o.oxw(2),W=M.$implicit,ie=M.index,ve=o.oxw(5);let Re,Oe;o.xp6(1),o.Q6J("ngIf","Conducteur"==(null==W||null==W[ie]||null==W[ie].paramRisque||null==W[ie].paramRisque.categorieParamRisque?null:W[ie].paramRisque.categorieParamRisque.description)),o.xp6(6),o.Q6J("ngIf",ve.formCreationConducteur.controls.nom.errors),o.xp6(5),o.Q6J("ngIf",ve.formCreationConducteur.controls.prenom.errors),o.xp6(4),o.Q6J("max",ve.now)("matDatepicker",u)("disabled",!0),o.xp6(1),o.Q6J("for",u),o.xp6(3),o.Q6J("ngIf",ve.formCreationConducteur.controls.dateNaissance.errors),o.xp6(1),o.Q6J("ngIf",!("A17"!=ve.avenant.code&&"A21"!=ve.avenant.code||null==(null==(Re=ve.formCreationConducteur.get("nom"))?null:Re.value)||null==(null==(Re=ve.formCreationConducteur.get("prenom"))?null:Re.value)||null==(null==(Re=ve.formCreationConducteur.get("dateNaissance"))?null:Re.value)||ve.isConducteur||ve.isConducteurAssure)),o.xp6(1),o.Q6J("ngIf",("A17"==ve.avenant.code||"A21"==ve.avenant.code)&&null==(null==(Oe=ve.formCreationConducteur.get("nom"))?null:Oe.value)||null==(null==(Oe=ve.formCreationConducteur.get("prenom"))?null:Oe.value)||null==(null==(Oe=ve.formCreationConducteur.get("dateNaissance"))?null:Oe.value)||ve.isConducteur||ve.isConducteurAssure),o.xp6(7),o.Q6J("ngIf",ve.formCreationConducteur.controls.telephone.errors),o.xp6(1),o.Q6J("ngIf",(null==ve.formCreationConducteur.controls.telephone.errors?null:ve.formCreationConducteur.controls.telephone.errors.pattern)||(null==ve.formCreationConducteur.controls.telephone.errors?null:ve.formCreationConducteur.controls.telephone.errors.maxlength)||(null==ve.formCreationConducteur.controls.telephone.errors?null:ve.formCreationConducteur.controls.telephone.errors.minlength)),o.xp6(5),o.Q6J("ngIf",ve.formCreationConducteur.controls.email.errors),o.xp6(1),o.Q6J("ngIf",(null==ve.formCreationConducteur.controls.email.errors?null:ve.formCreationConducteur.controls.email.errors.pattern)||(null==ve.formCreationConducteur.controls.email.errors?null:ve.formCreationConducteur.controls.email.errors.maxlength)||(null==ve.formCreationConducteur.controls.email.errors?null:ve.formCreationConducteur.controls.email.errors.minlength)),o.xp6(5),o.Q6J("ngIf",ve.formCreationConducteur.controls.adresse.errors),o.xp6(5),o.Q6J("ngForOf",ve.wilayas),o.xp6(1),o.Q6J("ngIf",ve.formCreationConducteur.controls.wilaya.errors),o.xp6(5),o.Q6J("ngForOf",ve.communes_cond),o.xp6(1),o.Q6J("ngIf",ve.formCreationConducteur.controls.commune.errors),o.xp6(5),o.Q6J("ngForOf",ve.situations),o.xp6(5),o.Q6J("ngForOf",ve.professions),o.xp6(1),o.Q6J("ngIf",ve.formCreationConducteur.controls.profession.errors),o.xp6(5),o.Q6J("ngIf",ve.formCreationConducteur.controls.numeroPermis.errors),o.xp6(5),o.Q6J("ngForOf",ve.categories),o.xp6(1),o.Q6J("ngIf",ve.formCreationConducteur.controls.categoriePermis.errors)}}function fn(y,ne){if(1&y&&(o.TgZ(0,"form",167,22),o.YNc(2,Pn,76,25,"ng-container",19),o.qZA()),2&y){const u=o.oxw(),M=u.$implicit,W=u.index,ie=o.oxw(5);o.Q6J("formGroup",ie.formCreationConducteur),o.xp6(2),o.Q6J("ngIf","Conducteur"==(null==M||null==M[W]||null==M[W].paramRisque||null==M[W].paramRisque.categorieParamRisque?null:M[W].paramRisque.categorieParamRisque.description))}}function ui(y,ne){if(1&y&&(o.ynx(0),o.TgZ(1,"mat-option",36),o._uU(2),o.qZA(),o.BQk()),2&y){const u=ne.$implicit;o.xp6(1),o.Q6J("value",u.idParam),o.xp6(1),o.hij(" ",u.marque," ")}}function bi(y,ne){1&y&&(o.TgZ(0,"div"),o._uU(1," ce champs est obligatoire "),o.qZA())}function to(y,ne){if(1&y&&(o.TgZ(0,"mat-error",61),o.YNc(1,bi,2,0,"div",19),o.qZA()),2&y){const u=o.oxw(2).$implicit,M=o.oxw(7);let W;o.xp6(1),o.Q6J("ngIf",null==(W=M.formParamRisque.get(u.paramRisque.codeParam))||null==W.errors?null:W.errors.required)}}function fo(y,ne){if(1&y){const u=o.EpF();o.TgZ(0,"mat-form-field",59)(1,"mat-label"),o._uU(2),o.qZA(),o.TgZ(3,"mat-select",180),o.NdJ("selectionChange",function(W){o.CHM(u);const ie=o.oxw(8);return o.KtG(ie.getModeleByMarque(W.value))}),o.YNc(4,ui,3,2,"ng-container",14),o.qZA(),o.YNc(5,to,2,1,"mat-error",54),o.qZA()}if(2&y){const u=o.oxw().$implicit,M=o.oxw(7);let W;o.xp6(2),o.hij(" ",u.paramRisque.libelle," "),o.xp6(1),o.s9C("formControlName",u.paramRisque.codeParam),o.xp6(1),o.Q6J("ngForOf",M.marques),o.xp6(1),o.Q6J("ngIf",null==(W=M.formParamRisque.get(u.paramRisque.codeParam))?null:W.errors)}}function Xo(y,ne){if(1&y&&(o.ynx(0),o.TgZ(1,"mat-option",36),o._uU(2),o.qZA(),o.BQk()),2&y){const u=ne.$implicit;o.xp6(1),o.Q6J("value",u.idParam),o.xp6(1),o.hij(" ",u.modele," ")}}function Ur(y,ne){1&y&&(o.TgZ(0,"div"),o._uU(1," ce champs est obligatoire "),o.qZA())}function fi(y,ne){if(1&y&&(o.TgZ(0,"mat-error",61),o.YNc(1,Ur,2,0,"div",19),o.qZA()),2&y){const u=o.oxw(2).$implicit,M=o.oxw(7);let W;o.xp6(1),o.Q6J("ngIf",null==(W=M.formParamRisque.get(u.paramRisque.codeParam))||null==W.errors?null:W.errors.required)}}function Ki(y,ne){if(1&y&&(o.TgZ(0,"mat-form-field",59)(1,"mat-label"),o._uU(2),o.qZA(),o.TgZ(3,"mat-select",41),o.YNc(4,Xo,3,2,"ng-container",14),o.qZA(),o.YNc(5,fi,2,1,"mat-error",54),o.qZA()),2&y){const u=o.oxw().$implicit,M=o.oxw(7);let W;o.xp6(2),o.hij(" ",u.paramRisque.libelle," "),o.xp6(1),o.s9C("formControlName",u.paramRisque.codeParam),o.xp6(1),o.Q6J("ngForOf",M.modeles),o.xp6(1),o.Q6J("ngIf",null==(W=M.formParamRisque.get(u.paramRisque.codeParam))?null:W.errors)}}function br(y,ne){if(1&y&&(o.ynx(0),o.YNc(1,fo,6,4,"mat-form-field",179),o.YNc(2,Ki,6,4,"mat-form-field",179),o.BQk()),2&y){const u=ne.$implicit;o.xp6(1),o.Q6J("ngIf","P25"==u.paramRisque.codeParam),o.xp6(1),o.Q6J("ngIf","P26"==u.paramRisque.codeParam)}}function De(y,ne){if(1&y&&(o.ynx(0),o.TgZ(1,"div",178),o.YNc(2,br,3,2,"ng-container",14),o.qZA(),o.BQk()),2&y){const u=o.oxw().$implicit;o.xp6(2),o.Q6J("ngForOf",u)}}function lc(y,ne){if(1&y&&(o.ynx(0),o.TgZ(1,"mat-option",36),o._uU(2),o.qZA(),o.BQk()),2&y){const u=ne.$implicit;o.xp6(1),o.Q6J("value",u.idParam),o.xp6(1),o.hij(" ",u.description," ")}}function Bc(y,ne){1&y&&(o.TgZ(0,"mat-error",61),o._uU(1," ce champs est obligatoire "),o.qZA())}function ya(y,ne){if(1&y&&(o.TgZ(0,"mat-error",61),o._uU(1),o.qZA()),2&y){const u=o.oxw(2).$implicit,M=o.oxw(6);let W;o.xp6(1),o.hij(" ",null==(W=M.formParamRisque.get(u.paramRisque.codeParam))||null==W.errors?null:W.errors.msg," ")}}function Co(y,ne){if(1&y){const u=o.EpF();o.TgZ(0,"mat-form-field",59)(1,"mat-label"),o._uU(2),o.qZA(),o.TgZ(3,"mat-select",180),o.NdJ("selectionChange",function(W){o.CHM(u);const ie=o.oxw().$implicit,ve=o.oxw(6);return o.KtG(ve.getRelation(null==ie.paramRisque||null==ie.paramRisque.typeChamp?null:ie.paramRisque.typeChamp.description,ie.paramRisque.isParent,ie.paramRisque.idParamRisque,W.value))}),o.YNc(4,lc,3,2,"ng-container",14),o.qZA(),o.YNc(5,Bc,2,0,"mat-error",54),o.YNc(6,ya,2,1,"mat-error",54),o.qZA()}if(2&y){const u=o.oxw().$implicit,M=o.oxw(6);let W,ie;o.xp6(2),o.Oqu(u.paramRisque.libelle),o.xp6(1),o.s9C("formControlName",u.paramRisque.codeParam),o.xp6(1),o.Q6J("ngForOf",u.paramRisque.categorie.paramDictionnaires),o.xp6(1),o.Q6J("ngIf",null==(W=M.formParamRisque.get(u.paramRisque.codeParam))||null==W.errors?null:W.errors.required),o.xp6(1),o.Q6J("ngIf",null==(ie=M.formParamRisque.get(u.paramRisque.codeParam))||null==ie.errors?null:ie.errors.bloquant)}}function om(y,ne){1&y&&(o.TgZ(0,"mat-error",61),o._uU(1," ce champs est obligatoire "),o.qZA())}function nu(y,ne){1&y&&(o.TgZ(0,"mat-error",61),o._uU(1," ce champs n'est pas conforme "),o.qZA())}function xa(y,ne){1&y&&(o.TgZ(0,"mat-error",61),o._uU(1," La baisse du capital n'est pas permise "),o.qZA())}function Ys(y,ne){if(1&y&&(o.TgZ(0,"mat-error",61),o._uU(1),o.qZA()),2&y){const u=o.oxw(2).$implicit,M=o.oxw(6);let W;o.xp6(1),o.hij(" ",null==(W=M.formParamRisque.get(u.paramRisque.codeParam))||null==W.errors?null:W.errors.msg," ")}}function Nu(y,ne){if(1&y){const u=o.EpF();o.TgZ(0,"mat-form-field",59)(1,"mat-label"),o._uU(2),o.qZA(),o.TgZ(3,"input",182),o.NdJ("ngModelChange",function(W){o.CHM(u);const ie=o.oxw().$implicit,ve=o.oxw(6);return o.KtG(ve.onInput(W,ie.paramRisque.codeParam))}),o.qZA(),o.YNc(4,om,2,0,"mat-error",54),o.YNc(5,nu,2,0,"mat-error",54),o.YNc(6,xa,2,0,"mat-error",54),o.YNc(7,Ys,2,1,"mat-error",54),o.qZA()}if(2&y){const u=o.oxw().$implicit,M=o.oxw(6);let W,ie,ve,Re;o.xp6(2),o.Oqu(u.paramRisque.libelle),o.xp6(1),o.s9C("formControlName",u.paramRisque.codeParam),o.Q6J("type","L02"==(null==u.paramRisque||null==u.paramRisque.typeChamp?null:u.paramRisque.typeChamp.code)||"L07"==(null==u.paramRisque||null==u.paramRisque.typeChamp?null:u.paramRisque.typeChamp.code)?"text":"number")("readonly","P198"==u.paramRisque.codeParam),o.xp6(1),o.Q6J("ngIf",null==(W=M.formParamRisque.get(u.paramRisque.codeParam))||null==W.errors?null:W.errors.required),o.xp6(1),o.Q6J("ngIf",(null==(ie=M.formParamRisque.get(u.paramRisque.codeParam))||null==ie.errors?null:ie.errors.pattern)||(null==(ie=M.formParamRisque.get(u.paramRisque.codeParam))||null==ie.errors?null:ie.errors.maxlength)||(null==(ie=M.formParamRisque.get(u.paramRisque.codeParam))||null==ie.errors?null:ie.errors.minlength)),o.xp6(1),o.Q6J("ngIf",null==(ve=M.formParamRisque.get(u.paramRisque.codeParam))||null==ve.errors?null:ve.errors.min),o.xp6(1),o.Q6J("ngIf",null==(Re=M.formParamRisque.get(u.paramRisque.codeParam))||null==Re.errors?null:Re.errors.bloquant)}}function Pc(y,ne){1&y&&(o.TgZ(0,"mat-error",61),o._uU(1," ce champs est obligatoire "),o.qZA())}function Iu(y,ne){if(1&y&&(o.TgZ(0,"mat-error",61),o._uU(1),o.qZA()),2&y){const u=o.oxw(2).$implicit,M=o.oxw(6);let W;o.xp6(1),o.hij(" ",null==(W=M.formParamRisque.get(u.paramRisque.codeParam))||null==W.errors?null:W.errors.msg," ")}}function cc(y,ne){if(1&y&&(o.TgZ(0,"mat-form-field",59)(1,"mat-label"),o._uU(2),o.qZA(),o._UZ(3,"input",183)(4,"mat-datepicker-toggle",39)(5,"mat-datepicker",null,184),o.YNc(7,Pc,2,0,"mat-error",54),o.YNc(8,Iu,2,1,"mat-error",54),o.qZA()),2&y){const u=o.MAs(6),M=o.oxw().$implicit,W=o.oxw(6);let ie,ve;o.xp6(2),o.Oqu(M.paramRisque.libelle),o.xp6(1),o.s9C("formControlName",M.paramRisque.codeParam),o.Q6J("matDatepicker",u),o.xp6(1),o.Q6J("for",u),o.xp6(3),o.Q6J("ngIf",null==(ie=W.formParamRisque.get(M.paramRisque.codeParam))||null==ie.errors?null:ie.errors.required),o.xp6(1),o.Q6J("ngIf",null==(ve=W.formParamRisque.get(M.paramRisque.codeParam))||null==ve.errors?null:ve.errors.bloquant)}}function rm(y,ne){1&y&&(o.TgZ(0,"mat-error",61),o._uU(1," ce champs est obligatoire "),o.qZA())}function hl(y,ne){if(1&y&&(o.TgZ(0,"mat-error",61),o._uU(1),o.qZA()),2&y){const u=o.oxw(2).$implicit,M=o.oxw(6);let W;o.xp6(1),o.hij(" ",null==(W=M.formParamRisque.get(u.paramRisque.codeParam))||null==W.errors?null:W.errors.msg," ")}}function km(y,ne){if(1&y&&(o.TgZ(0,"mat-form-field",59)(1,"mat-label"),o._uU(2),o.qZA(),o.TgZ(3,"mat-select",41)(4,"mat-option",36),o._uU(5,"Oui "),o.qZA(),o.TgZ(6,"mat-option",36),o._uU(7,"Non "),o.qZA()(),o.YNc(8,rm,2,0,"mat-error",54),o.YNc(9,hl,2,1,"mat-error",54),o.qZA()),2&y){const u=o.oxw().$implicit,M=o.oxw(6);let W,ie;o.xp6(2),o.hij("",u.paramRisque.libelle," "),o.xp6(1),o.s9C("formControlName",u.paramRisque.codeParam),o.xp6(1),o.Q6J("value",!0),o.xp6(2),o.Q6J("value",!1),o.xp6(2),o.Q6J("ngIf",null==(W=M.formParamRisque.get(u.paramRisque.codeParam))||null==W.errors?null:W.errors.required),o.xp6(1),o.Q6J("ngIf",null==(ie=M.formParamRisque.get(u.paramRisque.codeParam))||null==ie.errors?null:ie.errors.bloquant)}}function Yl(y,ne){if(1&y&&(o.ynx(0),o.TgZ(1,"mat-option",36),o._uU(2),o.qZA(),o.BQk()),2&y){const u=ne.$implicit;o.xp6(1),o.Q6J("value",""+u.id),o.xp6(1),o.hij(" ",u.description," ")}}function Cl(y,ne){1&y&&(o.TgZ(0,"mat-error",61),o._uU(1," ce champs est obligatoire "),o.qZA())}function Sr(y,ne){if(1&y&&(o.TgZ(0,"mat-error",61),o._uU(1),o.qZA()),2&y){const u=o.oxw(2).$implicit,M=o.oxw(6);let W;o.xp6(1),o.hij(" ",null==(W=M.formParamRisque.get(u.paramRisque.codeParam))||null==W.errors?null:W.errors.msg," ")}}function Eu(y,ne){if(1&y){const u=o.EpF();o.TgZ(0,"mat-form-field",59)(1,"mat-label"),o._uU(2),o.qZA(),o.TgZ(3,"mat-select",180),o.NdJ("selectionChange",function(W){o.CHM(u);const ie=o.oxw().$implicit,ve=o.oxw(6);return o.KtG(ve.getRelation(null==ie.paramRisque||null==ie.paramRisque.typeChamp?null:ie.paramRisque.typeChamp.description,ie.isParent,ie.idParamRisque,W.value.id))}),o.YNc(4,Yl,3,2,"ng-container",14),o.qZA(),o.YNc(5,Cl,2,0,"mat-error",54),o.YNc(6,Sr,2,1,"mat-error",54),o.qZA()}if(2&y){const u=o.oxw().$implicit,M=o.oxw(6);let W,ie;o.xp6(2),o.hij("",u.paramRisque.libelle," "),o.xp6(1),o.s9C("formControlName",u.paramRisque.codeParam),o.xp6(1),o.Q6J("ngForOf",u.paramRisque.reponses),o.xp6(1),o.Q6J("ngIf",null==(W=M.formParamRisque.get(u.paramRisque.codeParam))||null==W.errors?null:W.errors.required),o.xp6(1),o.Q6J("ngIf",null==(ie=M.formParamRisque.get(u.paramRisque.codeParam))||null==ie.errors?null:ie.errors.bloquant)}}function xl(y,ne){if(1&y&&(o.ynx(0),o.YNc(1,Co,7,5,"mat-form-field",179),o.YNc(2,Nu,8,8,"mat-form-field",179),o.YNc(3,cc,9,6,"mat-form-field",181),o.YNc(4,km,10,6,"mat-form-field",179),o.YNc(5,Eu,7,5,"mat-form-field",179),o.BQk()),2&y){const u=ne.$implicit;o.xp6(1),o.Q6J("ngIf","L01"==(null==u.paramRisque||null==u.paramRisque.typeChamp?null:u.paramRisque.typeChamp.code)&&"P56"!=u.paramRisque.codeParam&&"P98"!=u.paramRisque.codeParam&&"P25"!=u.paramRisque.codeParam&&"P26"!=u.paramRisque.codeParam),o.xp6(1),o.Q6J("ngIf",("L02"==(null==u.paramRisque||null==u.paramRisque.typeChamp?null:u.paramRisque.typeChamp.code)||"L03"==(null==u.paramRisque||null==u.paramRisque.typeChamp?null:u.paramRisque.typeChamp.code)||"L07"==(null==u.paramRisque||null==u.paramRisque.typeChamp?null:u.paramRisque.typeChamp.code))&&"P56"!=u.paramRisque.codeParam&&"P98"!=u.paramRisque.codeParam&&"P25"!=u.paramRisque.codeParam&&"P26"!=u.paramRisque.codeParam),o.xp6(1),o.Q6J("ngIf","P55"!=u.paramRisque.codeParam&&"L06"==(null==u.paramRisque||null==u.paramRisque.typeChamp?null:u.paramRisque.typeChamp.code)),o.xp6(1),o.Q6J("ngIf","L04"==(null==u.paramRisque||null==u.paramRisque.typeChamp?null:u.paramRisque.typeChamp.code)),o.xp6(1),o.Q6J("ngIf","L08"==(null==u.paramRisque||null==u.paramRisque.typeChamp?null:u.paramRisque.typeChamp.code))}}function iu(y,ne){if(1&y){const u=o.EpF();o.TgZ(0,"div",15)(1,"button",17),o.NdJ("click",function(){o.CHM(u);const W=o.oxw(6);return o.KtG(W.editMatricule())}),o._uU(2," Modifier "),o.qZA()()}}function ou(y,ne){if(1&y&&(o.TgZ(0,"mat-expansion-panel",163)(1,"mat-expansion-panel-header")(2,"mat-panel-title",164),o._uU(3),o.qZA()(),o.TgZ(4,"div",26),o.YNc(5,fn,3,2,"form",165),o.YNc(6,De,3,1,"ng-container",19),o.YNc(7,xl,6,5,"ng-container",14),o.YNc(8,iu,3,0,"div",166),o.qZA()()),2&y){const u=ne.$implicit,M=ne.index,W=o.oxw(5);o.Q6J("expanded",!0),o.xp6(3),o.hij(" Informations ",null==u||null==u[M]||null==u[M].paramRisque||null==u[M].paramRisque.categorieParamRisque?null:u[M].paramRisque.categorieParamRisque.description," "),o.xp6(2),o.Q6J("ngIf",W.formCreationConducteur&&"A26"!=W.avenant.code),o.xp6(1),o.Q6J("ngIf","vehicule"==(null==u||null==u[M]||null==u[M].paramRisque||null==u[M].paramRisque.categorieParamRisque?null:u[M].paramRisque.categorieParamRisque.description)),o.xp6(1),o.Q6J("ngForOf",u),o.xp6(1),o.Q6J("ngIf",W.risqueSelected)}}function Ru(y,ne){if(1&y&&(o.TgZ(0,"mat-option",36),o._uU(1),o.qZA()),2&y){const u=ne.$implicit;o.Q6J("value",u),o.xp6(1),o.hij(" ",u.description,"")}}function am(y,ne){1&y&&(o.TgZ(0,"mat-error",61),o._uU(1," ce champs est obligatoire "),o.qZA())}function ru(y,ne){1&y&&(o.TgZ(0,"mat-error",61),o._uU(1," ce champs est obligatoire "),o.qZA())}function Xl(y,ne){if(1&y&&(o.TgZ(0,"mat-form-field",59)(1,"mat-label"),o._uU(2,"Nouveau groupe"),o.qZA(),o._UZ(3,"input",188),o.YNc(4,ru,2,0,"mat-error",54),o.qZA()),2&y){const u=o.oxw(6);let M;o.xp6(4),o.Q6J("ngIf",null==(M=u.formParamRisque.get("newGroupe"))||null==M.errors?null:M.errors.required)}}function ec(y,ne){if(1&y&&(o.TgZ(0,"span"),o._uU(1),o.qZA()),2&y){const u=o.oxw(6);o.xp6(1),o.hij("Pack: ",u.selectedGroup.descriptionPack,"")}}function vl(y,ne){if(1&y){const u=o.EpF();o.TgZ(0,"mat-expansion-panel",185)(1,"mat-expansion-panel-header")(2,"mat-panel-title"),o._uU(3," Groupe "),o.qZA()(),o.TgZ(4,"div",23)(5,"mat-form-field",62)(6,"mat-label"),o._uU(7,"Groupes"),o.qZA(),o.TgZ(8,"mat-select",186),o.NdJ("ngModelChange",function(W){o.CHM(u);const ie=o.oxw(5);return o.KtG(ie.selectedGroup=W)}),o.TgZ(9,"mat-option",187),o._uU(10,"Nouveau groupe"),o.qZA(),o.YNc(11,Ru,2,2,"mat-option",104),o.qZA(),o.YNc(12,am,2,0,"mat-error",54),o.qZA(),o.YNc(13,Xl,5,1,"mat-form-field",179),o.qZA(),o.YNc(14,ec,2,1,"span",19),o.qZA()}if(2&y){const u=o.oxw(5);let M,W;o.Q6J("expanded",!0),o.xp6(8),o.Q6J("ngModel",u.selectedGroup),o.xp6(3),o.Q6J("ngForOf",u.groupArray),o.xp6(1),o.Q6J("ngIf",null==(M=u.formParamRisque.get("groupe"))||null==M.errors?null:M.errors.required),o.xp6(1),o.Q6J("ngIf","new"==(null==(W=u.formParamRisque.get("groupe"))?null:W.value)),o.xp6(1),o.Q6J("ngIf",null==u.selectedGroup?null:u.selectedGroup.descriptionPack)}}function Fa(y,ne){1&y&&(o.TgZ(0,"th",117),o._uU(1,"Risque N\xb0"),o.qZA())}function au(y,ne){if(1&y&&(o.TgZ(0,"td",118),o._uU(1),o.qZA()),2&y){const u=ne.$implicit;o.xp6(1),o.hij(" ",u.risqueNum," ")}}function zc(y,ne){1&y&&(o.TgZ(0,"th",117),o._uU(1,"Immatriculation"),o.qZA())}function su(y,ne){if(1&y&&(o.TgZ(0,"td",118),o._uU(1),o.qZA()),2&y){const u=ne.$implicit;o.xp6(1),o.hij(" ",u.P38," ")}}function sm(y,ne){1&y&&(o.TgZ(0,"th",117),o._uU(1,"Groupe"),o.qZA())}function Du(y,ne){if(1&y&&(o.TgZ(0,"td",118),o._uU(1),o.qZA()),2&y){const u=ne.$implicit;o.xp6(1),o.hij(" ",u.groupe," ")}}function ji(y,ne){1&y&&(o.TgZ(0,"th",117),o._uU(1,"Action"),o.qZA())}function uc(y,ne){if(1&y){const u=o.EpF();o.TgZ(0,"td",118)(1,"button",193)(2,"mat-icon"),o._uU(3,"more_vert"),o.qZA()(),o.TgZ(4,"mat-menu",194,150)(6,"button",151),o.NdJ("click",function(){const ie=o.CHM(u).$implicit,ve=o.oxw(6);return o.KtG(ve.openDialog(ie.risqueNum))}),o.TgZ(7,"mat-icon"),o._uU(8,"zoom_in"),o.qZA(),o.TgZ(9,"span"),o._uU(10,"Consulter risque"),o.qZA()(),o.TgZ(11,"button",151),o.NdJ("click",function(){const ie=o.CHM(u).$implicit,ve=o.oxw(6);return o.KtG(ve.deleteRisque(ie.risqueNum))}),o.TgZ(12,"mat-icon"),o._uU(13,"delete"),o.qZA(),o.TgZ(14,"span"),o._uU(15,"Supprimer risque"),o.qZA()()()()}if(2&y){const u=o.MAs(5);o.xp6(1),o.Q6J("matMenuTriggerFor",u)}}function Zc(y,ne){1&y&&o._UZ(0,"tr",144)}function mc(y,ne){1&y&&o._UZ(0,"tr",121)}function No(y,ne){if(1&y&&(o.TgZ(0,"table",189),o.ynx(1,190),o.YNc(2,Fa,2,0,"th",109),o.YNc(3,au,2,1,"td",110),o.BQk(),o.ynx(4,191),o.YNc(5,zc,2,0,"th",109),o.YNc(6,su,2,1,"td",110),o.BQk(),o.ynx(7,192),o.YNc(8,sm,2,0,"th",109),o.YNc(9,Du,2,1,"td",110),o.BQk(),o.ynx(10,147),o.YNc(11,ji,2,0,"th",109),o.YNc(12,uc,16,1,"td",110),o.BQk(),o.YNc(13,Zc,1,0,"tr",139),o.YNc(14,mc,1,0,"tr",116),o.qZA()),2&y){const u=o.oxw(5);o.Q6J("dataSource",u.dataSourceRisque),o.xp6(13),o.Q6J("matHeaderRowDef",u.displayedColumnsRisqueAdd),o.xp6(1),o.Q6J("matRowDefColumns",u.displayedColumnsRisqueAdd)}}function qc(y,ne){if(1&y){const u=o.EpF();o.TgZ(0,"button",17),o.NdJ("click",function(){o.CHM(u);const W=o.oxw(6);return o.KtG(W.changeVehicule())}),o._uU(1," Suivant "),o.qZA()}}function Vc(y,ne){if(1&y&&(o.TgZ(0,"div",15)(1,"button",123),o._uU(2,"Retour"),o.qZA(),o.YNc(3,qc,2,0,"button",195),o.qZA()),2&y){const u=o.oxw(5);o.xp6(3),o.Q6J("ngIf",u.showButtonSuivantRisque())}}function lm(y,ne){if(1&y){const u=o.EpF();o.TgZ(0,"div",15)(1,"button",123),o._uU(2,"Retour"),o.qZA(),o.TgZ(3,"button",17),o.NdJ("click",function(){o.CHM(u);const W=o.oxw(6);return o.KtG(W.calculPrime())}),o._uU(4," Suivant2 "),o.qZA()()}}function lu(y,ne){if(1&y){const u=o.EpF();o.TgZ(0,"div",15)(1,"button",17),o.NdJ("click",function(){o.CHM(u);const W=o.oxw(6);return o.KtG(W.submitRisques())}),o._uU(2," Ajouter "),o.qZA()()}}function cm(y,ne){if(1&y&&(o.YNc(0,lm,5,0,"div",30),o.YNc(1,lu,3,0,"ng-template",null,196,o.W1O)),2&y){const u=o.MAs(2),M=o.oxw(5);o.Q6J("ngIf","A20"!=(null==M.avenant?null:M.avenant.code)&&"A27"!=(null==M.avenant?null:M.avenant.code))("ngIfElse",u)}}function Al(y,ne){if(1&y&&(o.TgZ(0,"form",21,22)(2,"div",23),o.YNc(3,Wl,2,0,"div",157),o.TgZ(4,"mat-accordion",10),o.YNc(5,ou,9,6,"mat-expansion-panel",158),o.YNc(6,vl,15,6,"mat-expansion-panel",159),o.YNc(7,No,15,3,"table",160),o.qZA()(),o.YNc(8,Vc,4,1,"div",30),o.YNc(9,cm,3,2,"ng-template",null,161,o.W1O),o.qZA()),2&y){const u=o.MAs(10),M=o.oxw(4);o.Q6J("formGroup",M.formParamRisque),o.xp6(3),o.Q6J("ngIf",M.risqueEdited),o.xp6(2),o.Q6J("ngForOf",M.paraRisqueProduitCategory),o.xp6(1),o.Q6J("ngIf",M.multiRisqueProduct&&!M.multiRisqueAvenant),o.xp6(1),o.Q6J("ngIf",M.multiRisqueProduct&&0!=M.dataSourceRisque.data.length),o.xp6(1),o.Q6J("ngIf","A08"!=(null==M.avenant?null:M.avenant.code)&&"A17"!=(null==M.avenant?null:M.avenant.code)&&"A20"!=(null==M.avenant?null:M.avenant.code)&&"A27"!=(null==M.avenant?null:M.avenant.code)&&"A23"!=(null==M.avenant?null:M.avenant.code))("ngIfElse",u)}}function cu(y,ne){if(1&y){const u=o.EpF();o.TgZ(0,"div",15)(1,"button",197),o.NdJ("click",function(){o.CHM(u);const W=o.oxw(4);return o.KtG(W.formStep=0)}),o._uU(2," Retour "),o.qZA(),o.TgZ(3,"button",198),o._uU(4," Suivant3 "),o.qZA()()}}function Fr(y,ne){if(1&y&&(o.TgZ(0,"mat-accordion",10),o.YNc(1,Al,11,7,"form",155),o.YNc(2,cu,5,0,"div",156),o.qZA()),2&y){const u=o.oxw(3);o.xp6(1),o.Q6J("ngIf",u.formRisqueReady),o.xp6(1),o.Q6J("ngIf",u.multiRisqueProduct&&0!=u.dataSourceRisque.data.length)}}function Qa(y,ne){if(1&y&&(o.TgZ(0,"li"),o._uU(1),o.qZA()),2&y){const u=ne.$implicit;o.xp6(1),o.hij(" ",u," ")}}function rs(y,ne){if(1&y&&(o.ynx(0),o.TgZ(1,"div",131)(2,"ul",132)(3,"span"),o._uU(4),o.qZA(),o.YNc(5,Qa,2,1,"li",14),o.qZA()(),o.BQk()),2&y){const u=o.oxw().$implicit;o.xp6(4),o.hij("ligne ",u.ligne," "),o.xp6(1),o.Q6J("ngForOf",u.description)}}function jc(y,ne){if(1&y&&(o.TgZ(0,"div"),o.YNc(1,rs,6,2,"ng-container",19),o.qZA()),2&y){const u=ne.$implicit;o.xp6(1),o.Q6J("ngIf",0!=u.description.length)}}function tc(y,ne){if(1&y){const u=o.EpF();o.TgZ(0,"div",199)(1,"div",23)(2,"p"),o._uU(3,"Veuillez importer le mod\xe8le."),o.qZA()(),o.TgZ(4,"div",23)(5,"div",128)(6,"button",200),o._uU(7,"T\xe9l\xe9charg\xe9 mod\xe9le"),o.qZA(),o.TgZ(8,"input",129,130),o.NdJ("change",function(W){o.CHM(u);const ie=o.oxw(3);return o.KtG(ie.onFileSelected(W))}),o.qZA(),o.YNc(10,jc,2,1,"div",14),o.qZA()(),o.TgZ(11,"button",197),o.NdJ("click",function(){o.CHM(u);const W=o.oxw(3);return o.KtG(W.formStep=0)}),o._uU(12," Retour "),o.qZA(),o.TgZ(13,"button",17),o.NdJ("click",function(){o.CHM(u);const W=o.oxw(3);return W.generateCalcul(),o.KtG(W.loaderTarif=!0)}),o._uU(14," Suivant4 "),o.qZA()()}if(2&y){const u=o.oxw(3);o.xp6(10),o.Q6J("ngForOf",u.fileControle)}}function as(y,ne){if(1&y&&(o.TgZ(0,"mat-step",8),o.YNc(1,xo,1,0,"ng-template",9),o.YNc(2,Mo,17,6,"div",19),o.YNc(3,Zo,14,0,"div",19),o.YNc(4,Fr,3,2,"mat-accordion",145),o.YNc(5,tc,15,1,"div",146),o.qZA()),2&y){const u=o.oxw(2);o.Q6J("editable",!0),o.xp6(2),o.Q6J("ngIf",u.multiRisqueAvenant),o.xp6(1),o.Q6J("ngIf",("A20"==u.avenant.code||"A27"==u.avenant.code)&&0==u.formStep),o.xp6(1),o.Q6J("ngIf",(!u.multiRisqueAvenant||u.risqueSelected)&&(("A20"==u.avenant.code||"A27"==u.avenant.code)&&1==u.formStep||"A20"!=u.avenant.code&&"A27"!=u.avenant.code)),o.xp6(1),o.Q6J("ngIf",2==u.formStep)}}function Tl(y,ne){1&y&&o._uU(0,"Informations pack")}function uu(y,ne){if(1&y&&(o.ynx(0),o.TgZ(1,"mat-option",36),o._uU(2),o.qZA(),o.BQk()),2&y){const u=ne.$implicit;o.xp6(1),o.Q6J("value",u.idPack0),o.xp6(1),o.hij(" ",u.description," ")}}function um(y,ne){if(1&y){const u=o.EpF();o.TgZ(0,"button",225),o.NdJ("click",function(){o.CHM(u);const W=o.oxw(4);return o.KtG(W.generateCalcul())}),o.TgZ(1,"mat-icon",226),o._uU(2," autorenew "),o.qZA(),o._uU(3," Calculer"),o.qZA()}}function Sc(y,ne){if(1&y&&(o.TgZ(0,"div",131),o._uU(1),o.qZA()),2&y){const u=o.oxw(4);o.xp6(1),o.Oqu(u.errorTarif.msg)}}function mm(y,ne){if(1&y&&(o.TgZ(0,"div",131),o._uU(1),o.qZA()),2&y){const u=o.oxw(4);o.xp6(1),o.Oqu(u.errorHandler.msg)}}function wu(y,ne){1&y&&(o.TgZ(0,"div",131),o._uU(1,"Veuillez remplir tous les champs des garanties obligatoires/coch\xe9es"),o.qZA())}function Qr(y,ne){1&y&&o._UZ(0,"th",117)}function yc(y,ne){if(1&y){const u=o.EpF();o.TgZ(0,"td",118)(1,"mat-checkbox",227),o.NdJ("click",function(){const ie=o.CHM(u).$implicit,ve=o.oxw(4);return o.KtG(ve.handleClick(ie))})("change",function(W){const ve=o.CHM(u).$implicit,Re=o.oxw(4);return o.KtG(Re.checkAlertVol(ve,W.checked))}),o.qZA()()}if(2&y){const u=ne.$implicit,M=ne.dataIndex,W=o.oxw(4);o.xp6(1),o.Q6J("checked",u.checked)("formControl",W.getControl(M,"checked"))}}function Hc(y,ne){1&y&&(o.TgZ(0,"th",117),o._uU(1,"Garantie "),o.qZA())}function Gs(y,ne){if(1&y&&(o.TgZ(0,"td",118),o._uU(1),o.qZA()),2&y){const u=ne.$implicit;o.xp6(1),o.hij(" ",u.description," ")}}function mu(y,ne){1&y&&(o.TgZ(0,"th",117),o._uU(1," Plafond"),o.qZA())}function $c(y,ne){1&y&&(o.TgZ(0,"span"),o._uU(1,"-"),o.qZA())}function bl(y,ne){if(1&y&&(o.ynx(0),o.TgZ(1,"mat-option",36),o._uU(2),o.ALo(3,"money"),o.ALo(4,"number"),o.qZA(),o.BQk()),2&y){const u=ne.$implicit;o.xp6(1),o.Q6J("value",u.valeur),o.xp6(1),o.hij(" ",o.lcZ(3,2,o.xi3(4,4,u.valeur,"1.0-0"))," ")}}function Ou(y,ne){if(1&y&&(o.TgZ(0,"mat-form-field")(1,"mat-label"),o._uU(2,"Plafond"),o.qZA(),o.TgZ(3,"mat-select",230),o.YNc(4,bl,5,7,"ng-container",14),o.qZA()()),2&y){const u=o.oxw(2),M=u.dataIndex,W=u.$implicit,ie=o.oxw(4);o.xp6(3),o.Q6J("formControl",ie.getControl(M,"plafond")),o.xp6(1),o.Q6J("ngForOf",W.plafond)}}function Xr(y,ne){if(1&y&&(o.TgZ(0,"mat-form-field")(1,"mat-label"),o._uU(2,"Plafond"),o.qZA(),o._UZ(3,"input",143),o.qZA()),2&y){const u=o.oxw(3).dataIndex,M=o.oxw(4);o.xp6(3),o.Q6J("formControl",M.getControl(u,"plafond"))}}function Kc(y,ne){if(1&y&&(o.TgZ(0,"span"),o._uU(1),o.ALo(2,"money"),o.ALo(3,"number"),o.qZA()),2&y){const u=o.oxw(4).$implicit;o.xp6(1),o.Oqu(o.lcZ(2,1,o.xi3(3,3,u.plafond[0].valeur,"1.0-0")))}}function ku(y,ne){1&y&&o._uU(0," - ")}function du(y,ne){if(1&y&&(o.YNc(0,Kc,4,6,"span",12),o.YNc(1,ku,1,0,"ng-template",null,232,o.W1O)),2&y){const u=o.MAs(2),M=o.oxw(3).$implicit;o.Q6J("ngIf","0"!=M.plafond[0].valeur)("ngIfElse",u)}}function dm(y,ne){if(1&y&&(o.YNc(0,Xr,4,1,"mat-form-field",12),o.YNc(1,du,3,2,"ng-template",null,231,o.W1O)),2&y){const u=o.MAs(2),M=o.oxw(2).$implicit;o.Q6J("ngIf","input"==M.plafond[0].descriptionvVal)("ngIfElse",u)}}function _u(y,ne){if(1&y&&(o.YNc(0,Ou,5,2,"mat-form-field",12),o.YNc(1,dm,3,2,"ng-template",null,229,o.W1O)),2&y){const u=o.MAs(2),M=o.oxw().$implicit;o.Q6J("ngIf",M.plafond.length>1)("ngIfElse",u)}}function _m(y,ne){if(1&y&&(o.TgZ(0,"td",118),o.YNc(1,$c,2,0,"span",12),o.YNc(2,_u,3,2,"ng-template",null,228,o.W1O),o.qZA()),2&y){const u=ne.$implicit,M=o.MAs(3);o.xp6(1),o.Q6J("ngIf",0==u.plafond.length)("ngIfElse",M)}}function Nc(y,ne){1&y&&(o.TgZ(0,"th",117),o._uU(1," Franchise "),o.qZA())}function Mu(y,ne){1&y&&(o.TgZ(0,"span"),o._uU(1,"-"),o.qZA())}function Uu(y,ne){if(1&y&&(o.ynx(0),o.TgZ(1,"mat-option",36),o._uU(2),o.ALo(3,"money"),o.ALo(4,"number"),o.qZA(),o.BQk()),2&y){const u=ne.$implicit;o.xp6(1),o.Q6J("value",u.valeur),o.xp6(1),o.hij(" ",o.lcZ(3,2,o.xi3(4,4,u.valeur,"1.0-0"))," ")}}function Fu(y,ne){if(1&y&&(o.TgZ(0,"mat-form-field")(1,"mat-label"),o._uU(2,"Franchise"),o.qZA(),o.TgZ(3,"mat-select",230),o.YNc(4,Uu,5,7,"ng-container",14),o.qZA()()),2&y){const u=o.oxw(2),M=u.dataIndex,W=u.$implicit,ie=o.oxw(4);o.xp6(3),o.Q6J("formControl",ie.getControl(M,"franchise")),o.xp6(1),o.Q6J("ngForOf",W.franchise)}}function Ic(y,ne){if(1&y&&(o.TgZ(0,"mat-form-field")(1,"mat-label"),o._uU(2,"Franchise"),o.qZA(),o._UZ(3,"input",143),o.qZA()),2&y){const u=o.oxw(3).dataIndex,M=o.oxw(4);o.xp6(3),o.Q6J("formControl",M.getControl(u,"franchise"))}}function Ec(y,ne){if(1&y&&(o.TgZ(0,"span"),o._uU(1),o.ALo(2,"money"),o.ALo(3,"number"),o.qZA()),2&y){const u=o.oxw(3).$implicit;o.xp6(1),o.Oqu(o.lcZ(2,1,o.xi3(3,3,u.franchise[0].valeur,"1.0-0")))}}function Qu(y,ne){if(1&y&&(o.YNc(0,Ic,4,1,"mat-form-field",12),o.YNc(1,Ec,4,6,"ng-template",null,235,o.W1O)),2&y){const u=o.MAs(2),M=o.oxw(2).$implicit;o.Q6J("ngIf","input"==M.franchise[0].descriptionvVal)("ngIfElse",u)}}function Rc(y,ne){if(1&y&&(o.YNc(0,Fu,5,2,"mat-form-field",12),o.YNc(1,Qu,3,2,"ng-template",null,234,o.W1O)),2&y){const u=o.MAs(2),M=o.oxw().$implicit;o.Q6J("ngIf",M.franchise.length>1)("ngIfElse",u)}}function pu(y,ne){if(1&y&&(o.TgZ(0,"td",118),o.YNc(1,Mu,2,0,"span",12),o.YNc(2,Rc,3,2,"ng-template",null,233,o.W1O),o.qZA()),2&y){const u=ne.$implicit,M=o.MAs(3);o.xp6(1),o.Q6J("ngIf",0==u.franchise.length)("ngIfElse",M)}}function pm(y,ne){1&y&&(o.TgZ(0,"th",117),o._uU(1," Formule "),o.qZA())}function Ju(y,ne){1&y&&(o.TgZ(0,"span"),o._uU(1,"-"),o.qZA())}function Wc(y,ne){if(1&y&&(o.ynx(0),o.TgZ(1,"mat-option",36),o._uU(2),o.ALo(3,"money"),o.ALo(4,"number"),o.qZA(),o.BQk()),2&y){const u=ne.$implicit;o.xp6(1),o.Q6J("value",u.valeur),o.xp6(1),o.AsE(" ",o.lcZ(3,3,o.xi3(4,5,u.valeur,"1.0-0"))," ",null==u?null:u.unite," ")}}function fu(y,ne){if(1&y&&(o.TgZ(0,"mat-form-field")(1,"mat-label"),o._uU(2,"Formule"),o.qZA(),o.TgZ(3,"mat-select",230),o.YNc(4,Wc,5,8,"ng-container",14),o.qZA()()),2&y){const u=o.oxw(2),M=u.dataIndex,W=u.$implicit,ie=o.oxw(4);o.xp6(3),o.Q6J("formControl",ie.getControl(M,"formule")),o.xp6(1),o.Q6J("ngForOf",W.formule)}}function Bs(y,ne){if(1&y&&(o.TgZ(0,"mat-form-field")(1,"mat-label"),o._uU(2,"Formule"),o.qZA(),o._UZ(3,"input",143),o.qZA()),2&y){const u=o.oxw(3).dataIndex,M=o.oxw(4);o.xp6(3),o.Q6J("formControl",M.getControl(u,"formule"))}}function fm(y,ne){if(1&y&&(o.TgZ(0,"span"),o._uU(1),o.ALo(2,"money"),o.ALo(3,"number"),o.qZA()),2&y){const u=o.oxw(3).$implicit;o.xp6(1),o.Oqu(o.lcZ(2,1,o.xi3(3,3,u.formule[0].valeur,"1.0-0")))}}function gu(y,ne){if(1&y&&(o.YNc(0,Bs,4,1,"mat-form-field",12),o.YNc(1,fm,4,6,"ng-template",null,238,o.W1O)),2&y){const u=o.MAs(2),M=o.oxw(2).$implicit;o.Q6J("ngIf","input"==M.formule[0].descriptionvVal)("ngIfElse",u)}}function fr(y,ne){if(1&y&&(o.YNc(0,fu,5,2,"mat-form-field",12),o.YNc(1,gu,3,2,"ng-template",null,237,o.W1O)),2&y){const u=o.MAs(2),M=o.oxw().$implicit;o.Q6J("ngIf",M.formule.length>1)("ngIfElse",u)}}function ea(y,ne){if(1&y&&(o.TgZ(0,"td",118),o.YNc(1,Ju,2,0,"span",12),o.YNc(2,fr,3,2,"ng-template",null,236,o.W1O),o.qZA()),2&y){const u=ne.$implicit,M=o.MAs(3);o.xp6(1),o.Q6J("ngIf",0==u.formule.length)("ngIfElse",M)}}function $o(y,ne){1&y&&(o.TgZ(0,"th",117),o._uU(1," Prime N-1 "),o.qZA())}function pa(y,ne){if(1&y&&(o.ynx(0),o._uU(1),o.ALo(2,"money"),o.ALo(3,"number"),o.TgZ(4,"sup"),o._uU(5,"DA"),o.qZA(),o.BQk()),2&y){const u=o.oxw().$implicit;o.xp6(1),o.hij(" ",o.lcZ(2,1,o.xi3(3,3,u.primePre,"1.0-0"))," ")}}function Lu(y,ne){1&y&&o._uU(0,"/")}function hu(y,ne){if(1&y&&(o.TgZ(0,"td",118),o.YNc(1,pa,6,6,"ng-container",12),o.YNc(2,Lu,1,0,"ng-template",null,240,o.W1O),o.qZA()),2&y){const u=ne.$implicit,M=o.MAs(3);o.xp6(1),o.Q6J("ngIf",null!=u.primePre)("ngIfElse",M)}}function Cu(y,ne){1&y&&(o.ynx(0,239),o.YNc(1,$o,2,0,"th",109),o.YNc(2,hu,4,2,"td",110),o.BQk())}function Dc(y,ne){1&y&&(o.TgZ(0,"th",117),o._uU(1," Bonus/Malus "),o.qZA())}function Yu(y,ne){if(1&y&&(o.ynx(0),o._uU(1),o.BQk()),2&y){const u=o.oxw().$implicit;o.xp6(1),o.hij(" ",u.primeBonus," ")}}function gm(y,ne){1&y&&o._uU(0,"/")}function Pl(y,ne){if(1&y&&(o.TgZ(0,"td",118),o.YNc(1,Yu,2,1,"ng-container",12),o.YNc(2,gm,1,0,"ng-template",null,242,o.W1O),o.qZA()),2&y){const u=ne.$implicit,M=o.MAs(3);o.xp6(1),o.Q6J("ngIf",null!=u.primeBonus)("ngIfElse",M)}}function dc(y,ne){1&y&&(o.ynx(0,241),o.YNc(1,Dc,2,0,"th",109),o.YNc(2,Pl,4,2,"td",110),o.BQk())}function Zl(y,ne){1&y&&(o.TgZ(0,"th",117),o._uU(1," Prime nette "),o.qZA())}function Gu(y,ne){if(1&y&&(o.ynx(0),o._uU(1),o.ALo(2,"money"),o.ALo(3,"number"),o.TgZ(4,"sup"),o._uU(5,"DZD"),o.qZA(),o.BQk()),2&y){const u=o.oxw().$implicit;o.xp6(1),o.hij(" ",o.lcZ(2,1,o.xi3(3,3,u.prime,"1.2-2"))," ")}}function xu(y,ne){1&y&&o._uU(0,"-")}function lo(y,ne){if(1&y&&(o.TgZ(0,"td",118),o.YNc(1,Gu,6,6,"ng-container",12),o.YNc(2,xu,1,0,"ng-template",null,240,o.W1O),o.qZA()),2&y){const u=ne.$implicit,M=o.MAs(3),W=o.oxw(4);o.xp6(1),o.Q6J("ngIf",W.tarifReady&&null!=u.prime)("ngIfElse",M)}}function hm(y,ne){1&y&&o._UZ(0,"th",117)}function Cm(y,ne){if(1&y){const u=o.EpF();o.TgZ(0,"button",245),o.NdJ("click",function(){o.CHM(u);const W=o.oxw().$implicit,ie=o.oxw(4);return o.KtG(ie.expandedElement=ie.expandedElement===W?null:W)}),o.TgZ(1,"mat-icon"),o._uU(2),o.qZA()()}if(2&y){const u=o.oxw().$implicit,M=o.oxw(4);o.xp6(2),o.Oqu(M.expandedElement===u?"indeterminate_check_box":"add_box")}}function Gl(y,ne){if(1&y&&(o.TgZ(0,"td",243),o.YNc(1,Cm,3,1,"button",244),o.qZA()),2&y){const u=ne.$implicit,M=o.oxw(4);o.ekj("example-expanded-row",M.expandedElement===u),o.xp6(1),o.Q6J("ngIf",0!=u.sousGarantieList.data.length)}}function vu(y,ne){1&y&&o._UZ(0,"th",117)}function xm(y,ne){if(1&y){const u=o.EpF();o.TgZ(0,"td",118)(1,"mat-checkbox",227),o.NdJ("click",function(W){const ve=o.CHM(u).$implicit,Re=o.oxw(6);return W.stopPropagation(),o.KtG(Re.sousGarantieSelectedIds.push(ve.idSousGarantie))})("change",function(W){const ve=o.CHM(u).$implicit,Re=o.oxw(6);return o.KtG(W?Re.selection.toggle(ve):null)}),o.qZA()()}if(2&y){const u=ne.dataIndex,M=o.oxw(6);o.xp6(1),o.Q6J("checked",!1)("formControl",M.getSousGarantieControl(u,"checked"))}}function vm(y,ne){1&y&&(o.TgZ(0,"th",117),o._uU(1,"Sous garantie "),o.qZA())}function Na(y,ne){if(1&y&&(o.TgZ(0,"td",118),o._uU(1),o.qZA()),2&y){const u=ne.$implicit;o.xp6(1),o.hij(" ",u.description," ")}}function Bu(y,ne){1&y&&(o.TgZ(0,"th",117),o._uU(1,"plafond "),o.qZA())}function Ia(y,ne){1&y&&(o.TgZ(0,"span"),o._uU(1,"/"),o.qZA())}function ql(y,ne){if(1&y&&(o.ynx(0),o.TgZ(1,"mat-option",36),o._uU(2),o.ALo(3,"money"),o.ALo(4,"number"),o.qZA(),o.BQk()),2&y){const u=ne.$implicit;o.xp6(1),o.Q6J("value",u.valeur),o.xp6(1),o.hij(" ",o.lcZ(3,2,o.xi3(4,4,u.valeur,"1.0-0"))," ")}}function _c(y,ne){if(1&y&&(o.TgZ(0,"mat-form-field")(1,"mat-label"),o._uU(2,"Plafond"),o.qZA(),o.TgZ(3,"mat-select",230),o.YNc(4,ql,5,7,"ng-container",14),o.qZA()()),2&y){const u=o.oxw(2),M=u.dataIndex,W=u.$implicit,ie=o.oxw(6);o.xp6(3),o.Q6J("formControl",ie.getSousGarantieControl(M,"plafond")),o.xp6(1),o.Q6J("ngForOf",W.plafond)}}function zu(y,ne){if(1&y&&(o.TgZ(0,"mat-form-field")(1,"mat-label"),o._uU(2,"Plafond"),o.qZA(),o._UZ(3,"input",143),o.qZA()),2&y){const u=o.oxw(3).dataIndex,M=o.oxw(6);o.xp6(3),o.Q6J("formControl",M.getSousGarantieControl(u,"plafond"))}}function Ea(y,ne){if(1&y&&(o.TgZ(0,"span"),o._uU(1),o.ALo(2,"money"),o.ALo(3,"number"),o.qZA()),2&y){const u=o.oxw(3).$implicit;o.xp6(1),o.Oqu(o.lcZ(2,1,o.xi3(3,3,u.plafond[0].valeur,"1.0-0")))}}function Sl(y,ne){if(1&y&&(o.YNc(0,zu,4,1,"mat-form-field",12),o.YNc(1,Ea,4,6,"ng-template",null,231,o.W1O)),2&y){const u=o.MAs(2),M=o.oxw(2).$implicit;o.Q6J("ngIf","input"==M.plafond[0].descriptionvVal)("ngIfElse",u)}}function Au(y,ne){if(1&y&&(o.YNc(0,_c,5,2,"mat-form-field",12),o.YNc(1,Sl,3,2,"ng-template",null,229,o.W1O)),2&y){const u=o.MAs(2),M=o.oxw().$implicit;o.Q6J("ngIf",M.plafond.length>1)("ngIfElse",u)}}function wc(y,ne){if(1&y&&(o.TgZ(0,"td",118),o.YNc(1,Ia,2,0,"span",12),o.YNc(2,Au,3,2,"ng-template",null,228,o.W1O),o.qZA()),2&y){const u=ne.$implicit,M=o.MAs(3);o.xp6(1),o.Q6J("ngIf",0==u.plafond.length)("ngIfElse",M)}}function U(y,ne){1&y&&(o.TgZ(0,"th",117),o._uU(1," Franchise "),o.qZA())}function Te(y,ne){1&y&&(o.TgZ(0,"span"),o._uU(1,"/"),o.qZA())}function N(y,ne){if(1&y&&(o.ynx(0),o.TgZ(1,"mat-option",36),o._uU(2),o.ALo(3,"money"),o.ALo(4,"number"),o.qZA(),o.BQk()),2&y){const u=ne.$implicit;o.xp6(1),o.Q6J("value",u.valeur),o.xp6(1),o.hij(" ",o.lcZ(3,2,o.xi3(4,4,u.valeur,"1.0-0"))," ")}}function q(y,ne){if(1&y&&(o.TgZ(0,"mat-form-field")(1,"mat-label"),o._uU(2,"Franchise"),o.qZA(),o.TgZ(3,"mat-select",230),o.YNc(4,N,5,7,"ng-container",14),o.qZA()()),2&y){const u=o.oxw(2),M=u.dataIndex,W=u.$implicit,ie=o.oxw(6);o.xp6(3),o.Q6J("formControl",ie.getSousGarantieControl(M,"franchise")),o.xp6(1),o.Q6J("ngForOf",W.franchise)}}function G(y,ne){if(1&y&&(o.TgZ(0,"mat-form-field")(1,"mat-label"),o._uU(2,"Franchise"),o.qZA(),o._UZ(3,"input",143),o.qZA()),2&y){const u=o.oxw(3).dataIndex,M=o.oxw(6);o.xp6(3),o.Q6J("formControl",M.getSousGarantieControl(u,"franchise"))}}function b(y,ne){if(1&y&&(o.TgZ(0,"span"),o._uU(1),o.ALo(2,"money"),o.ALo(3,"number"),o.qZA()),2&y){const u=o.oxw(3).$implicit;o.xp6(1),o.Oqu(o.lcZ(2,1,o.xi3(3,3,u.franchise[0].valeur,"1.0-0")))}}function te(y,ne){if(1&y&&(o.YNc(0,G,4,1,"mat-form-field",12),o.YNc(1,b,4,6,"ng-template",null,235,o.W1O)),2&y){const u=o.MAs(2),M=o.oxw(2).$implicit;o.Q6J("ngIf","input"==M.franchise[0].descriptionvVal)("ngIfElse",u)}}function _e(y,ne){if(1&y&&(o.YNc(0,q,5,2,"mat-form-field",12),o.YNc(1,te,3,2,"ng-template",null,234,o.W1O)),2&y){const u=o.MAs(2),M=o.oxw().$implicit;o.Q6J("ngIf",M.franchise.length>1)("ngIfElse",u)}}function ye(y,ne){if(1&y&&(o.TgZ(0,"td",118),o.YNc(1,Te,2,0,"span",12),o.YNc(2,_e,3,2,"ng-template",null,233,o.W1O),o.qZA()),2&y){const u=ne.$implicit,M=o.MAs(3);o.xp6(1),o.Q6J("ngIf",0==u.franchise.length)("ngIfElse",M)}}function Ke(y,ne){1&y&&(o.TgZ(0,"th",117),o._uU(1," Formule "),o.qZA())}function Pt(y,ne){1&y&&(o.TgZ(0,"span"),o._uU(1,"/"),o.qZA())}function ft(y,ne){if(1&y&&(o.ynx(0),o.TgZ(1,"mat-option",36),o._uU(2),o.ALo(3,"money"),o.ALo(4,"number"),o.qZA(),o.BQk()),2&y){const u=ne.$implicit;o.xp6(1),o.Q6J("value",u.valeur),o.xp6(1),o.AsE(" ",o.lcZ(3,3,o.xi3(4,5,u.valeur,"1.0-0"))," ",null==u?null:u.unite," ")}}function St(y,ne){if(1&y&&(o.TgZ(0,"mat-form-field")(1,"mat-label"),o._uU(2,"Formule"),o.qZA(),o.TgZ(3,"mat-select",230),o.YNc(4,ft,5,8,"ng-container",14),o.qZA()()),2&y){const u=o.oxw(2),M=u.dataIndex,W=u.$implicit,ie=o.oxw(6);o.xp6(3),o.Q6J("formControl",ie.getSousGarantieControl(M,"formule")),o.xp6(1),o.Q6J("ngForOf",W.formule)}}function Nt(y,ne){if(1&y&&(o.TgZ(0,"mat-form-field")(1,"mat-label"),o._uU(2,"Formule"),o.qZA(),o._UZ(3,"input",143),o.qZA()),2&y){const u=o.oxw(3).dataIndex,M=o.oxw(6);o.xp6(3),o.Q6J("formControl",M.getSousGarantieControl(u,"formule"))}}function Bn(y,ne){if(1&y&&(o.TgZ(0,"span"),o._uU(1),o.ALo(2,"money"),o.ALo(3,"number"),o.qZA()),2&y){const u=o.oxw(3).$implicit;o.xp6(1),o.Oqu(o.lcZ(2,1,o.xi3(3,3,u.formule[0].valeur,"1.0-0")))}}function hn(y,ne){if(1&y&&(o.YNc(0,Nt,4,1,"mat-form-field",12),o.YNc(1,Bn,4,6,"ng-template",null,238,o.W1O)),2&y){const u=o.MAs(2),M=o.oxw(2).$implicit;o.Q6J("ngIf","input"==M.formule[0].descriptionvVal)("ngIfElse",u)}}function no(y,ne){if(1&y&&(o.YNc(0,St,5,2,"mat-form-field",12),o.YNc(1,hn,3,2,"ng-template",null,237,o.W1O)),2&y){const u=o.MAs(2),M=o.oxw().$implicit;o.Q6J("ngIf",M.formule.length>1)("ngIfElse",u)}}function kn(y,ne){if(1&y&&(o.TgZ(0,"td",118),o.YNc(1,Pt,2,0,"span",12),o.YNc(2,no,3,2,"ng-template",null,236,o.W1O),o.qZA()),2&y){const u=ne.$implicit,M=o.MAs(3);o.xp6(1),o.Q6J("ngIf",0==u.formule.length)("ngIfElse",M)}}function Gi(y,ne){if(1&y&&(o.TgZ(0,"th",117),o._uU(1),o.qZA()),2&y){const u=o.oxw(6);o.xp6(1),o.hij(" ","95"==u.codeProduit?"Prime nette":""," ")}}function vo(y,ne){if(1&y&&(o.ynx(0),o._uU(1),o.ALo(2,"money"),o.ALo(3,"number"),o.TgZ(4,"sup"),o._uU(5,"DZD"),o.qZA(),o.BQk()),2&y){const u=o.oxw().$implicit;o.xp6(1),o.hij(" ",o.lcZ(2,1,o.xi3(3,3,u.prime,"1.0-0"))," ")}}function Jo(y,ne){1&y&&o._uU(0,"-")}function Ii(y,ne){if(1&y&&(o.TgZ(0,"td",118),o.YNc(1,vo,6,6,"ng-container",12),o.YNc(2,Jo,1,0,"ng-template",null,240,o.W1O),o.qZA()),2&y){const u=ne.$implicit,M=o.MAs(3),W=o.oxw(6);o.xp6(1),o.Q6J("ngIf",W.tarifReady&&"95"==W.codeProduit&&null!=u.prime)("ngIfElse",M)}}function ci(y,ne){1&y&&o._UZ(0,"th",117)}function io(y,ne){1&y&&o._UZ(0,"td",118)}function yl(y,ne){1&y&&o._UZ(0,"tr",120)}function go(y,ne){1&y&&o._UZ(0,"tr",121)}function nc(y,ne){if(1&y&&(o.TgZ(0,"table",248),o.ynx(1,206),o.YNc(2,vu,1,0,"th",109),o.YNc(3,xm,2,2,"td",110),o.BQk(),o.ynx(4,207),o.YNc(5,vm,2,0,"th",109),o.YNc(6,Na,2,1,"td",110),o.BQk(),o.ynx(7,208),o.YNc(8,Bu,2,0,"th",109),o.YNc(9,wc,4,2,"td",110),o.BQk(),o.ynx(10,209),o.YNc(11,U,2,0,"th",109),o.YNc(12,ye,4,2,"td",110),o.BQk(),o.ynx(13,210),o.YNc(14,Ke,2,0,"th",109),o.YNc(15,kn,4,2,"td",110),o.BQk(),o.ynx(16,147),o.YNc(17,Gi,2,1,"th",109),o.YNc(18,Ii,4,2,"td",110),o.BQk(),o.ynx(19,249),o.YNc(20,ci,1,0,"th",109),o.YNc(21,io,1,0,"td",110),o.BQk(),o.YNc(22,yl,1,0,"tr",115),o.YNc(23,go,1,0,"tr",116),o.qZA()),2&y){const u=o.oxw().$implicit,M=o.oxw(4);o.Q6J("dataSource",u.sousGarantieList),o.xp6(22),o.Q6J("matHeaderRowDef",M.DisplayedColumnsSousGarantie),o.xp6(1),o.Q6J("matRowDefColumns",M.DisplayedColumnsSousGarantie)}}function Rd(y,ne){if(1&y&&(o.TgZ(0,"td",118)(1,"div",246),o.YNc(2,nc,24,3,"table",247),o.qZA()()),2&y){const u=ne.$implicit,M=o.oxw(4);o.uIk("colspan",M.displayedColumns.length),o.xp6(1),o.Q6J("@detailExpand",u==M.expandedElement?"expanded":"collapsed"),o.xp6(1),o.Q6J("ngIf",M.loadTable)}}function q_(y,ne){1&y&&o._UZ(0,"tr",120)}function Dd(y,ne){1&y&&o._UZ(0,"tr",121)}function Vu(y,ne){1&y&&o._UZ(0,"tr",250)}function Am(y,ne){1&y&&(o.TgZ(0,"th",117),o._uU(1," ID "),o.qZA())}function S_(y,ne){if(1&y&&(o.TgZ(0,"td",118),o._uU(1),o.qZA()),2&y){const u=ne.$implicit;o.xp6(1),o.hij(" ",u.idListParamRisque," ")}}function wd(y,ne){1&y&&(o.TgZ(0,"th",117),o._uU(1," Description "),o.qZA())}function Od(y,ne){if(1&y&&(o.TgZ(0,"td",118),o._uU(1),o.qZA()),2&y){const u=ne.$implicit;o.xp6(1),o.hij(" ",u.description," ")}}function Mm(y,ne){1&y&&(o.TgZ(0,"th",117),o._uU(1," Action "),o.qZA())}function kd(y,ne){if(1&y){const u=o.EpF();o.TgZ(0,"td",118)(1,"button",256)(2,"mat-icon"),o._uU(3,"more_vert"),o.qZA()(),o.TgZ(4,"mat-menu",194,150)(6,"button",151),o.NdJ("click",function(){const ie=o.CHM(u).$implicit,ve=o.oxw(6);return o.KtG(ve.getListParamRisque(ie.idListParamRisque,ie.idGarantie))}),o.TgZ(7,"mat-icon"),o._uU(8,"zoom_in"),o.qZA(),o.TgZ(9,"span"),o._uU(10,"Consulter la liste "),o.qZA()()()()}if(2&y){const u=o.MAs(5);o.xp6(1),o.Q6J("matMenuTriggerFor",u)}}function ju(y,ne){1&y&&o._UZ(0,"tr",144)}function Um(y,ne){1&y&&o._UZ(0,"tr",121)}const Fm=function(){return[5,10,20]};function y_(y,ne){if(1&y&&(o.TgZ(0,"div",105)(1,"table",252),o.ynx(2,253),o.YNc(3,Am,2,0,"th",109),o.YNc(4,S_,2,1,"td",110),o.BQk(),o.ynx(5,254),o.YNc(6,wd,2,0,"th",109),o.YNc(7,Od,2,1,"td",110),o.BQk(),o.ynx(8,147),o.YNc(9,Mm,2,0,"th",109),o.YNc(10,kd,11,1,"td",110),o.BQk(),o.YNc(11,ju,1,0,"tr",139),o.YNc(12,Um,1,0,"tr",116),o.qZA(),o._UZ(13,"mat-paginator",255),o.qZA()),2&y){const u=o.oxw(5);o.xp6(1),o.Q6J("dataSource",u.dataSourceListOfListes),o.xp6(10),o.Q6J("matHeaderRowDef",u.displayedColumnsListOfList),o.xp6(1),o.Q6J("matRowDefColumns",u.displayedColumnsListOfList),o.xp6(1),o.Q6J("pageSize",5)("pageSizeOptions",o.DdM(5,Fm))}}function rd(y,ne){if(1&y&&(o.TgZ(0,"mat-expansion-panel",163)(1,"mat-expansion-panel-header")(2,"mat-panel-title",164),o._uU(3," Consulter les listes "),o.qZA()(),o.YNc(4,y_,14,6,"div",251),o.qZA()),2&y){const u=o.oxw(4);o.Q6J("expanded",!0),o.xp6(4),o.Q6J("ngIf",0!=u.dataSourceListOfListes.data.length)}}function Hu(y,ne){if(1&y&&(o.TgZ(0,"div",219)(1,"div",220)(2,"span",221),o._uU(3,"Montant pruning:"),o.qZA(),o.TgZ(4,"span",222),o._uU(5),o.ALo(6,"money"),o.ALo(7,"number"),o.TgZ(8,"sup"),o._uU(9,"DA"),o.qZA()()()()),2&y){const u=o.oxw(4);o.xp6(5),o.hij("",o.lcZ(6,1,o.xi3(7,3,u.PrimeAfterPruning,"1.0-0"))," ")}}function ad(y,ne){if(1&y&&(o.TgZ(0,"div",219)(1,"div",220)(2,"span",221),o._uU(3,"Montant Bonus/Malus:"),o.qZA(),o.TgZ(4,"span",222),o._uU(5),o.ALo(6,"money"),o.ALo(7,"number"),o.TgZ(8,"sup"),o._uU(9,"DA"),o.qZA()()()()),2&y){const u=o.oxw(4);o.xp6(5),o.hij("",o.lcZ(6,1,o.xi3(7,3,u.PrimeBonusMalus,"1.0-0"))," ")}}function Qm(y,ne){1&y&&o._UZ(0,"mat-spinner",124)}function Oc(y,ne){1&y&&(o.TgZ(0,"span"),o._uU(1," Suivant "),o.qZA())}function Md(y,ne){if(1&y){const u=o.EpF();o.TgZ(0,"button",17),o.NdJ("click",function(){o.CHM(u);const W=o.oxw(4);return o.KtG(W.nextPrime())}),o.YNc(1,Qm,1,0,"mat-spinner",18),o.YNc(2,Oc,2,0,"span",19),o.qZA()}if(2&y){const u=o.oxw(4);o.xp6(1),o.Q6J("ngIf",u.loaderCalcul),o.xp6(1),o.Q6J("ngIf",!u.loaderCalcul)}}function kc(y,ne){1&y&&o._UZ(0,"mat-spinner",124)}function sd(y,ne){1&y&&(o.TgZ(0,"span"),o._uU(1," Suivant "),o.qZA())}function Ud(y,ne){if(1&y&&(o.TgZ(0,"button",141),o.YNc(1,kc,1,0,"mat-spinner",18),o.YNc(2,sd,2,0,"span",19),o.qZA()),2&y){const u=o.oxw(5);o.xp6(1),o.Q6J("ngIf",u.loaderCalcul),o.xp6(1),o.Q6J("ngIf",!u.loaderCalcul)}}function N_(y,ne){if(1&y&&o.YNc(0,Ud,3,2,"button",257),2&y){const u=o.oxw(4);o.Q6J("ngIf",!u.calcul)}}const Fd=function(){return["expandedDetail"]};function Qd(y,ne){if(1&y){const u=o.EpF();o.TgZ(0,"form",21,22)(2,"div",23),o.ynx(3),o.TgZ(4,"div",201)(5,"mat-form-field",59)(6,"mat-label"),o._uU(7,"Pack"),o.qZA(),o.TgZ(8,"mat-select",202),o.NdJ("selectionChange",function(W){o.CHM(u);const ie=o.oxw(3);return o.KtG(ie.getPack(W.value,!0,!1))}),o.YNc(9,uu,3,2,"ng-container",14),o.qZA()(),o.YNc(10,um,4,0,"button",203),o.qZA(),o.YNc(11,Sc,2,1,"div",204),o.YNc(12,mm,2,1,"div",204),o.YNc(13,wu,2,0,"div",204),o.TgZ(14,"table",205),o.ynx(15,206),o.YNc(16,Qr,1,0,"th",109),o.YNc(17,yc,2,2,"td",110),o.BQk(),o.ynx(18,207),o.YNc(19,Hc,2,0,"th",109),o.YNc(20,Gs,2,1,"td",110),o.BQk(),o.ynx(21,208),o.YNc(22,mu,2,0,"th",109),o.YNc(23,_m,4,2,"td",110),o.BQk(),o.ynx(24,209),o.YNc(25,Nc,2,0,"th",109),o.YNc(26,pu,4,2,"td",110),o.BQk(),o.ynx(27,210),o.YNc(28,pm,2,0,"th",109),o.YNc(29,ea,4,2,"td",110),o.BQk(),o.YNc(30,Cu,3,0,"ng-container",211),o.YNc(31,dc,3,0,"ng-container",212),o.ynx(32,147),o.YNc(33,Zl,2,0,"th",109),o.YNc(34,lo,4,2,"td",110),o.BQk(),o.ynx(35,213),o.YNc(36,hm,1,0,"th",109),o.YNc(37,Gl,2,3,"td",214),o.BQk(),o.ynx(38,215),o.YNc(39,Rd,3,3,"td",110),o.BQk(),o.YNc(40,q_,1,0,"tr",115),o.YNc(41,Dd,1,0,"tr",116),o.YNc(42,Vu,1,0,"tr",216),o.qZA(),o.YNc(43,rd,5,2,"mat-expansion-panel",217),o.TgZ(44,"div",218)(45,"div",219)(46,"div",220)(47,"span",221),o._uU(48,"Prime Net:"),o.qZA(),o.TgZ(49,"span",222),o._uU(50),o.ALo(51,"money"),o.ALo(52,"number"),o.TgZ(53,"sup"),o._uU(54,"DA"),o.qZA()()()(),o.YNc(55,Hu,10,6,"div",223),o.YNc(56,ad,10,6,"div",223),o.qZA(),o.BQk(),o.qZA(),o.TgZ(57,"div",15)(58,"button",197),o.NdJ("click",function(){o.CHM(u);const W=o.oxw(3);return o.KtG(W.calcul=!0)}),o._uU(59,"Retour"),o.qZA(),o.YNc(60,Md,3,2,"button",224),o.YNc(61,N_,1,1,"ng-template",null,13,o.W1O),o.qZA()()}if(2&y){const u=o.MAs(62),M=o.oxw(3);o.Q6J("formGroup",M.formApplicationAvenant),o.xp6(8),o.Q6J("value",null==M.contrat||null==M.contrat.groupeList[0]||null==M.contrat.groupeList[0].pack?null:M.contrat.groupeList[0].pack.idPack0)("disabled",!(null!=M.avenant&&M.avenant.packAffecte)),o.xp6(1),o.Q6J("ngForOf",M.packs),o.xp6(1),o.Q6J("ngIf",0!=(null==M.avenant||null==M.avenant.paramRisque?null:M.avenant.paramRisque.length)||(null==M.avenant?null:M.avenant.packAffecte)||(null==M.avenant?null:M.avenant.garantieAffecte)),o.xp6(1),o.Q6J("ngIf",M.errorTarif.error),o.xp6(1),o.Q6J("ngIf",M.errorHandler.error),o.xp6(1),o.Q6J("ngIf",M.errorPackForm),o.xp6(1),o.Q6J("dataSource",M.dataSource),o.xp6(16),o.Q6J("ngIf","A13"==(null==M.avenant?null:M.avenant.code)&&"45A"==M.codeProduit),o.xp6(1),o.Q6J("ngIf","A13"==(null==M.avenant?null:M.avenant.code)&&"45A"==M.codeProduit),o.xp6(9),o.Q6J("matHeaderRowDef",M.displayedColumns),o.xp6(1),o.Q6J("matRowDefColumns",M.displayedColumns),o.xp6(1),o.Q6J("matRowDefColumns",o.DdM(25,Fd)),o.xp6(1),o.Q6J("ngIf",0!=M.dataSourceListOfListes.data.length&&0!=M.dataSource.data.length),o.xp6(7),o.hij("",o.lcZ(51,20,o.xi3(52,22,M.PrimeTotaleTarif,"1.0-0"))," "),o.xp6(5),o.Q6J("ngIf","A13"==(null==M.avenant?null:M.avenant.code)&&"45A"==M.codeProduit),o.xp6(1),o.Q6J("ngIf","A13"==(null==M.avenant?null:M.avenant.code)&&"45A"==M.codeProduit),o.xp6(4),o.Q6J("ngIf",!M.calcul&&"A13"!=(null==M.avenant?null:M.avenant.code)&&"A18"!=(null==M.avenant?null:M.avenant.code)&&"A22"!=(null==M.avenant?null:M.avenant.code))("ngIfElse",u)}}function I_(y,ne){1&y&&(o.TgZ(0,"mat-header-cell"),o._uU(1,"Groupe"),o.qZA())}function pc(y,ne){if(1&y&&(o.TgZ(0,"mat-cell"),o._uU(1),o.qZA()),2&y){const u=ne.$implicit;o.xp6(1),o.Oqu(u.descriptionGroupe)}}function ld(y,ne){1&y&&(o.TgZ(0,"mat-header-cell"),o._uU(1,"Pack"),o.qZA())}function Jm(y,ne){if(1&y&&(o.TgZ(0,"mat-option",36),o._uU(1),o.qZA()),2&y){const u=ne.$implicit;o.Q6J("value",u.idPack0),o.xp6(1),o.Oqu(u.description)}}function Lm(y,ne){if(1&y){const u=o.EpF();o.TgZ(0,"mat-cell")(1,"mat-select",264),o.NdJ("ngModelChange",function(W){const ve=o.CHM(u).$implicit;return o.KtG(ve.pack=W)})("selectionChange",function(W){const ve=o.CHM(u).$implicit,Re=o.oxw(4);return o.KtG(Re.getPackMulti(W.value,ve.idGroupe))}),o.YNc(2,Jm,2,2,"mat-option",104),o.qZA()()}if(2&y){const u=ne.$implicit,M=o.oxw(4);o.xp6(1),o.MGl("placeholder","veuillez choisir le pack assign\xe9 au groupe: ",u.group,"")("name","pack",u.group,""),o.Q6J("ngModel",u.pack)("disabled",1==u.newGroupe&&"A06"!=M.avenant.code),o.xp6(1),o.Q6J("ngForOf",M.packs)}}function Ym(y,ne){1&y&&o._UZ(0,"mat-header-row")}function Nl(y,ne){1&y&&o._UZ(0,"mat-row")}function Yi(y,ne){if(1&y){const u=o.EpF();o.TgZ(0,"div")(1,"mat-table",258),o.ynx(2,192),o.YNc(3,I_,2,0,"mat-header-cell",259),o.YNc(4,pc,2,1,"mat-cell",260),o.BQk(),o.ynx(5,261),o.YNc(6,ld,2,0,"mat-header-cell",259),o.YNc(7,Lm,3,5,"mat-cell",260),o.BQk(),o.YNc(8,Ym,1,0,"mat-header-row",262),o.YNc(9,Nl,1,0,"mat-row",263),o.qZA(),o.TgZ(10,"div",15)(11,"button",123),o._uU(12,"Retour"),o.qZA(),o.TgZ(13,"button",17),o.NdJ("click",function(){o.CHM(u);const W=o.oxw(3);return W.generateCalcul(),o.KtG(W.loaderTarif=!0)}),o._uU(14,"Suivant "),o.qZA()()()}if(2&y){const u=o.oxw(3);o.xp6(1),o.Q6J("dataSource",u.dataSourceGroupePack),o.xp6(7),o.Q6J("matHeaderRowDef",u.displayedColumnsGroupePack),o.xp6(1),o.Q6J("matRowDefColumns",u.displayedColumnsGroupePack)}}function Tm(y,ne){if(1&y&&(o.TgZ(0,"mat-step",20),o.YNc(1,Tl,1,0,"ng-template",9),o.TgZ(2,"mat-accordion",10),o.YNc(3,Qd,63,26,"form",155),o.YNc(4,Yi,15,3,"div",19),o.qZA()()),2&y){const u=o.oxw(2);o.Q6J("stepControl",u.formApplicationAvenant)("editable",!0),o.xp6(3),o.Q6J("ngIf",!u.multiRisqueProduct),o.xp6(1),o.Q6J("ngIf",u.multiRisqueProduct)}}function cd(y,ne){1&y&&o._uU(0,"R\xe9duction")}function Tu(y,ne){if(1&y&&(o.TgZ(0,"div",131),o._uU(1),o.qZA()),2&y){const u=o.oxw(3);o.xp6(1),o.Oqu(u.errorHandler.msg)}}function E_(y,ne){if(1&y&&(o.ynx(0),o.TgZ(1,"mat-option",36),o._uU(2),o.qZA(),o.BQk()),2&y){const u=ne.$implicit;o.xp6(1),o.Q6J("value",u.idConvention),o.xp6(1),o.hij(" ",u.nomConvention," ")}}function ud(y,ne){if(1&y&&(o.ynx(0),o.TgZ(1,"mat-option",36),o._uU(2),o.qZA(),o.BQk()),2&y){const u=ne.$implicit;o.xp6(1),o.Q6J("value",u.idReduction),o.xp6(1),o.hij(" ",u.nomReduction," ")}}function Jd(y,ne){if(1&y){const u=o.EpF();o.TgZ(0,"mat-step",8),o.YNc(1,cd,1,0,"ng-template",9),o.TgZ(2,"p"),o._uU(3,"Veuillez choisir une Convention/R\xe9duction"),o.qZA(),o.YNc(4,Tu,2,1,"div",204),o.TgZ(5,"form",265),o.NdJ("ngSubmit",function(){o.CHM(u);const W=o.oxw(2);return o.KtG(W.submitReduction())}),o.TgZ(6,"mat-form-field",59)(7,"mat-label"),o._uU(8," Convention"),o.qZA(),o.TgZ(9,"mat-select",266),o.NdJ("valueChange",function(W){o.CHM(u);const ie=o.oxw(2);return o.KtG(ie.defaultConvention=W)})("selectionChange",function(W){o.CHM(u);const ie=o.oxw(2);return o.KtG(ie.getReductionByConvention(W.value))}),o.TgZ(10,"mat-option",36),o._uU(11," Aucune Convention "),o.qZA(),o.YNc(12,E_,3,2,"ng-container",14),o.qZA()(),o.TgZ(13,"mat-form-field",59)(14,"mat-label"),o._uU(15," R\xe9duction"),o.qZA(),o.TgZ(16,"mat-select",267),o.NdJ("valueChange",function(W){o.CHM(u);const ie=o.oxw(2);return o.KtG(ie.defaultReduction=W)}),o.TgZ(17,"mat-option",36),o._uU(18," Aucune Reduction "),o.qZA(),o.YNc(19,ud,3,2,"ng-container",14),o.qZA()(),o.TgZ(20,"div",134)(21,"button",268)(22,"span"),o._uU(23,"Suivant"),o.qZA()(),o.TgZ(24,"button",269),o._uU(25,"Retour"),o.qZA()()()()}if(2&y){const u=o.oxw(2);o.Q6J("editable",!0),o.xp6(4),o.Q6J("ngIf",u.errorHandler.error),o.xp6(1),o.Q6J("formGroup",u.formReduction),o.xp6(4),o.Q6J("value",u.defaultConvention),o.xp6(1),o.Q6J("value","aucuneConvention"),o.xp6(2),o.Q6J("ngForOf",u.conventions),o.xp6(4),o.Q6J("value",u.defaultReduction),o.xp6(1),o.Q6J("value","aucuneReduction"),o.xp6(2),o.Q6J("ngForOf",u.reductions)}}function Ja(y,ne){1&y&&o._uU(0,"R\xe9sum\xe9")}function R_(y,ne){if(1&y&&(o.ynx(0),o.TgZ(1,"td"),o._uU(2),o.qZA(),o.TgZ(3,"td"),o._uU(4),o.ALo(5,"money"),o.ALo(6,"number"),o.TgZ(7,"sup"),o._uU(8,"DA"),o.qZA()(),o.BQk()),2&y){const u=o.oxw().$implicit;o.xp6(2),o.Oqu(u.description),o.xp6(2),o.hij("",o.lcZ(5,2,o.xi3(6,4,u.primeProrata,"1.0-0"))," ")}}function D_(y,ne){if(1&y&&(o.ynx(0),o.YNc(1,R_,9,7,"ng-container",19),o.BQk()),2&y){const u=ne.$implicit;o.xp6(1),o.Q6J("ngIf",101==u.idPrime)}}function Ld(y,ne){if(1&y&&(o.TgZ(0,"tr"),o.YNc(1,D_,2,1,"ng-container",14),o.qZA()),2&y){const u=o.oxw(2);o.xp6(1),o.Q6J("ngForOf",u.retourCalcul.primeList)}}function w_(y,ne){if(1&y&&(o.TgZ(0,"tr")(1,"td"),o._uU(2,"Prime Nette"),o.qZA(),o.TgZ(3,"td"),o._uU(4),o.ALo(5,"money"),o.ALo(6,"number"),o.TgZ(7,"sup"),o._uU(8,"DA"),o.qZA()()()),2&y){const u=o.oxw(2);o.xp6(4),o.hij("",o.lcZ(5,1,o.xi3(6,3,u.PrimeTotale,"1.0-0"))," ")}}function Yd(y,ne){if(1&y&&(o.TgZ(0,"tr")(1,"td"),o._uU(2),o.qZA(),o.TgZ(3,"td"),o._uU(4),o.ALo(5,"money"),o.ALo(6,"number"),o.TgZ(7,"sup"),o._uU(8,"DA"),o.qZA()()()),2&y){const u=ne.$implicit;o.xp6(2),o.Oqu(u.description),o.xp6(2),o.hij("",o.lcZ(5,2,o.xi3(6,4,u.primeProrata,"1.0-0"))," ")}}function O_(y,ne){if(1&y&&(o.ynx(0),o.TgZ(1,"td",270),o._uU(2),o.qZA(),o.TgZ(3,"td",270),o._uU(4),o.ALo(5,"money"),o.ALo(6,"number"),o.TgZ(7,"sup"),o._uU(8,"DA"),o.qZA()(),o.BQk()),2&y){const u=o.oxw().$implicit;o.xp6(2),o.Oqu(u.description),o.xp6(2),o.hij("",o.lcZ(5,2,o.xi3(6,4,u.primeProrata,"1.0-0"))," ")}}function Gd(y,ne){if(1&y&&(o.TgZ(0,"tr"),o.YNc(1,O_,9,7,"ng-container",19),o.qZA()),2&y){const u=ne.$implicit;o.xp6(1),o.Q6J("ngIf",186==u.idPrime)}}function k_(y,ne){1&y&&o._UZ(0,"mat-spinner",124)}function zs(y,ne){1&y&&(o.TgZ(0,"span"),o._uU(1," Appliquer "),o.qZA())}function ss(y,ne){if(1&y){const u=o.EpF();o.TgZ(0,"div",1)(1,"h2",2)(2,"mat-icon",3),o.NdJ("mouseup",function(){o.CHM(u);const W=o.oxw();return o.KtG(W.redirectConsultation())}),o._uU(3,"arrow_circle_left"),o.qZA(),o._uU(4),o.qZA(),o._UZ(5,"mat-divider"),o.TgZ(6,"mat-stepper",4,5),o.YNc(8,Jl,31,17,"mat-step",6),o.YNc(9,Pe,3,2,"mat-step",7),o.YNc(10,wr,6,3,"mat-step",7),o.YNc(11,Qi,19,8,"mat-step",7),o.YNc(12,as,6,5,"mat-step",7),o.YNc(13,Tm,5,4,"mat-step",6),o.YNc(14,Jd,26,9,"mat-step",7),o.TgZ(15,"mat-step",8),o.YNc(16,Ja,1,0,"ng-template",9),o.TgZ(17,"mat-accordion",10)(18,"table",11),o.YNc(19,Ld,2,1,"tr",12),o.YNc(20,w_,9,6,"ng-template",null,13,o.W1O),o.YNc(22,Yd,9,7,"tr",14),o.YNc(23,Gd,2,1,"tr",14),o.qZA(),o.TgZ(24,"div",15)(25,"button",16),o.NdJ("click",function(){o.CHM(u);const W=o.oxw();return o.KtG(W.goBackReduc())}),o._uU(26,"Retour"),o.qZA(),o.TgZ(27,"button",17),o.NdJ("click",function(){o.CHM(u);const W=o.oxw();return o.KtG(W.submitApplicationAvenant())}),o.YNc(28,k_,1,0,"mat-spinner",18),o.YNc(29,zs,2,0,"span",19),o.qZA()()()()()()}if(2&y){const u=o.MAs(21),M=o.oxw();o.xp6(4),o.hij(" Application ",M.avenant.description," "),o.xp6(2),o.Q6J("linear",!0),o.xp6(2),o.Q6J("ngIf",0!=(null==M.avenant||null==M.avenant.motifs?null:M.avenant.motifs.length)),o.xp6(1),o.Q6J("ngIf","A168"==(null==M.avenant?null:M.avenant.code)&&("45F"==M.codeProduit||"45L"==M.codeProduit)),o.xp6(1),o.Q6J("ngIf","A168"==(null==M.avenant?null:M.avenant.code)&&("45F"==M.codeProduit||"45L"==M.codeProduit)),o.xp6(1),o.Q6J("ngIf",M.multiRisqueAvenant&&0==(null==M.avenant||null==M.avenant.paramRisque?null:M.avenant.paramRisque.length)),o.xp6(1),o.Q6J("ngIf",0!=(null==M.avenant||null==M.avenant.paramRisque?null:M.avenant.paramRisque.length)),o.xp6(1),o.Q6J("ngIf",(0!=(null==M.avenant||null==M.avenant.paramRisque?null:M.avenant.paramRisque.length)&&"A08"!=(null==M.avenant?null:M.avenant.code)&&"A17"!=(null==M.avenant?null:M.avenant.code)||(null==M.avenant?null:M.avenant.packAffecte)||(null==M.avenant?null:M.avenant.garantieAffecte))&&2!=M.formStep),o.xp6(1),o.Q6J("ngIf",M.reductionExist),o.xp6(1),o.Q6J("editable",!0),o.xp6(4),o.Q6J("ngIf","A13"!=(null==M.avenant?null:M.avenant.code)&&"A18"!=(null==M.avenant?null:M.avenant.code)&&"A22"!=(null==M.avenant?null:M.avenant.code))("ngIfElse",u),o.xp6(3),o.Q6J("ngForOf",M.retourCalcul.taxeList),o.xp6(1),o.Q6J("ngForOf",M.retourCalcul.primeList),o.xp6(5),o.Q6J("ngIf",M.loaderApplication),o.xp6(1),o.Q6J("ngIf",!M.loaderApplication)}}const Gm=new Date;function va(y){var ne=new Date(y.value);return Gm.getFullYear()-ne.getFullYear()<18?{ageInf18:!0}:Gm.getFullYear()-ne.getFullYear()>106?{ageSup107:!0}:null}let M_=(()=>{class y{constructor(u,M,W,ie,ve,Re,Oe,ke,Qe,Bt,Yt,dn,Ut,gn,Fn,Pi,ki,ta,zl,na,Vl){this.cd=u,this.conventionService=M,this.cryptoService=W,this.reductionService=ie,this._snackBar=ve,this.dataTransferService=Re,this.dialog=Oe,this.personneService=ke,this.formBuilder=Qe,this.dureeService=Bt,this.agencesService=Yt,this.paramRisqueService=dn,this.route=Ut,this.avenantService=gn,this.formBuilderAuth=Fn,this.router=Pi,this.contratService=ki,this.packService=ta,this.devisService=zl,this.vehiculeService=na,this.genericService=Vl,this.sousGarantieTab=[],this.sousGarantieExist=!1,this.franchiseExist=!1,this.plafondExist=!1,this.formuleExist=!1,this.maxContenue=1e7,this.displayedColumnsListOfList=["idList","description","action"],this.basicTarif={},this.selection=new Sn.Ov(!0,[]),this.avenantSave=!1,this.tarifReady=!1,this.errorHandler={error:!1,msg:""},this.errorTarif={error:!1,msg:""},this.roles=[],this.risqueSelected=!1,this.garantieTab=[],this.garantieAll=[],this.ancientPack=[],this.newGaranties=[],this.valeurVenale=0,this.errorPackForm=!1,this.loadTable=!1,this.garantieSelectedIds=[],this.loaderTarif=!1,this.paraRisqueProduitCategory=[],this.marques=[],this.modeles=[],this.wilayas=[],this.agences=[],this.durees=[],this.communes_sous=[],this.communes_assure=[],this.communes_cond=[],this.genres=[],this.situations=[],this.professions=[],this.warningMessage=[],this.controleDevis=[],this.categories=["A","B","C","D","E","F"],this.isAssure=!1,this.isConducteur=!1,this.isConducteurAssure=!1,this.displayedColumnsGroupePack=["groupe","pack"],this.groupesPacks=[],this.sousGarantieSelectedIds=[],this.risqueConsult={},this.paramElement={},this.devis={},this.devisAccess={},this.assure={},this.souscripteur={},this.conducteur={},this.retourApplication={},this.retourCalcul={},this.oneRisqueInfo=[],this.DisplayedColumnsSousGarantie=["select","garantie","plafond","franchise","formule","action","more"],this.displayedColumnsParamRisque=["idRisque","paramRisque","action"],this.displayedColumnsRisque=["idRisque","paramRisque"],this.displayedColumnsRisqueAdd=["risqueNum","NDImmatriculation","groupe","action"],this.PrimeTotale=0,this.packs=[],this.informationsPack=[],this.jsonAvenant={},this.loaderApplication=!1,this.loaderCalcul=!1,this.loaderpack=!1,this.calcul=!1,this.now=new Date,this.multiRisqueProduct=!1,this.multiRisqueAvenant=!1,this.groupArray=[],this.dataSourceRisque=new Le.by,this.controleRisque=[],this.risqueIndexBody=0,this.risqueIndex=0,this.risqueGroupe=[],this.multiRisqueArray=[],this.filterReduction=ei.P,this.defaultConvention="aucuneConvention",this.defaultReduction="aucuneReduction",this.reductionExist=!1,this.returnedTarif={},this.isCourtier=sessionStorage.getItem("roles")?.includes("COURTIER"),this.agencePersonne=parseInt(sessionStorage.getItem("agence")||"0"),this.risqueEdited=!1,this.formStep=0,this.fileSuccess=!1,this.displayedColumnsListParamRisque=[],this.listParamRisque=[],this.dataSourceListParamRisque=[],this.paramRisqueList=[],this.paraRisqueType=[],this.idsListParams=[],this.codesListParams=[],this.paramList=[],this.dataSourceListOfListes=new Le.by,this.indexGarantieMrp=0,this.indexSousGarantieMrp=0,this.avenantOrganismeList=[],this.totalMontant=0,this.typePerteOptions=[],this.promisesRisques=[],this.risquesModified=[],this.tkn=JSON.parse(sessionStorage.getItem("access_token")||"")?.access_token,this.nmbVehicule=new w.NI,this.risqueStep=0,this.nbrPages=new w.NI,this.withFile=!1}getTypeClient(){this.genericService.getParam(JSON.parse(sessionStorage.getItem("dictionnaire")||"{}").find(u=>"C24"==u.code).idCategorie).subscribe({next:u=>{this.typeClients=u},error:u=>{console.log(u)}})}initFormOrganisme(){this.organismeForm=this.formBuilder.group({organisme:["",[w.kI.required]],classementOrganisme:["",[w.kI.required,w.kI.pattern("^[1-9][0-9]*$")]],montant:["",[w.kI.required,w.kI.pattern("^(0|[1-9][0-9]*)(\\.[0-9]+)?$")]],typePerte:this.formBuilder.group({idParam:[""]})})}getAllParamRisque(){let u=!1;this.paramRisqueService.getParamByProduit(this.idProduit).subscribe({next:W=>{this.paramRisqueService.getWorkFlowByProduit(this.idProduit,45).subscribe({next:ie=>{W.map(ve=>{let Re={},Oe=null,ke=null;ie.filter(Qe=>{ve.paramRisque.idParamRisque==Qe.paramRisque.idParamRisque&&(u=!0,Oe=Qe.enabled,ke=Qe.obligatoire)}),Re.idParamRisque=ve.paramRisque.idParamRisque,Re.libelle=ve.paramRisque.libelle,Re.formName=ve.paramRisque.libelle.split(" ").map(Qe=>Qe.charAt(0).toUpperCase()+Qe.substring(1)).join("").replace(/[\xb0']/g,""),Re.orderChamp=ve.paramRisque.orderChamp,Re.position=ve.paramRisque.position,Re.typeChamp=ve.paramRisque.typeChamp,Re.sizeChamp=ve.paramRisque.sizeChamp,Re.codeParam=ve.paramRisque.codeParam,Re.reponses=ve.paramRisque.categorie?.paramDictionnaires,Re.typeValeur=ve.iddictionnaire,Re.defaultValue=ve.valeur,Re.obligatoire=ke,Re.enable=Oe,Re.category=ve.paramRisque.categorieParamRisque?.description,Re.parent=ve.paramRisque.paramRisqueParent,Re.isParent=ve.paramRisque.isParent,"valeur minimum"==ve?.iddictionnaire?.description&&(Re.valeurMin=ve.valeur),"valeur maximum"==ve?.iddictionnaire?.description&&(Re.valeurMax=ve.valeur),this.paraRisqueType.push(Re)})},error:ie=>{console.log(ie)}})},error:W=>{console.log(W)}})}getTypePerte(){this.genericService.getParam("178").subscribe(u=>{this.typePerteOptions=u}),this.initFormOrganisme()}getListParamRisque(u,M){this.paramRisqueService.getListParamRisque(u).subscribe(W=>{this.listParamRisque=[],this.displayedColumnsListParamRisque=[],this.idsListParams=[],this.codesListParams=[],this.formListParamRisque=this.formBuilder.group({}),W.map(ie=>{this.listParamRisque.push(this.paraRisqueType.find(ve=>ve.idParamRisque==ie.idParamRisqueFils.idParamRisque))}),this.listParamRisque.map(ie=>{this.formListParamRisque.addControl(ie.formName,new w.NI(ie.defaultValue,0!=ie.sizeChamp&&null!=ie.sizeChamp?[w.kI.required,w.kI.minLength(ie.sizeChamp),w.kI.maxLength(ie.sizeChamp)]:[w.kI.required])),"L08"==ie.typeChamp.code&&null==ie.paramRisqueParent&&this.paramRisqueService.getTableParamParent(ie.idParamRisque).subscribe({next:ve=>{ie.reponses="P279"==ie.codeParam?ve.filter(Re=>1==Re.is_professionnel):ve},error:ve=>{console.log(ve)}}),this.displayedColumnsListParamRisque.push(ie.formName),this.idsListParams.push(ie.idParamRisque),this.codesListParams.push(ie.codeParam)}),this.lengthColumnsListParamRisque=this.displayedColumnsListParamRisque.length,this.openDialogList(M,this.listParamRisque,this.idsListParams,this.codesListParams)})}openDialogList(u,M,W,ie){const ve=JSON.parse(JSON.stringify(this.listParamRisque));this.dialog.open(vi.I,{width:"60%",data:{displayedColumnsListParamRisque:this.displayedColumnsListParamRisque,idListParamList:this.idListParamList,listParamRisque:M,formListParamRisque:this.formListParamRisque,garantie:this.garantieAll.find(Oe=>Oe.idGarantie==u),dataSourceListParamRisque:this.dataSourceListParamRisque,numberEffective:this.formParamRisque?.get("P132")?.value}}).afterClosed().subscribe(Oe=>{if(Oe){const ke=JSON.parse(JSON.stringify(Oe.data));this.dataSourceListParamRisque=ke;const Qe=W,Bt=ie;this.displayedColumnsListParamRisque.splice(-1,1),this.paramList=ke.filter(Fn=>Oe.listAtt.some(Pi=>Fn.hasOwnProperty(Pi))).map(Fn=>{let Pi=[],ki=Object.keys(Fn),ta=null,zl="debase";for(let na=0;na<ki.length;na++)"Liste of values"==ve.find(Vl=>Vl.formName==ki[na])?.typeChamp?.description?(ta=Fn[ki[na]].idParam,zl=Fn[ki[na]].code):(ta=null,"From Table"==ve.find(Vl=>Vl.formName==ki[na])?.typeChamp?.description?zl=Fn[ki[na]].code:"date"!=ve.find(Vl=>Vl.formName==ki[na])?.typeChamp?.description?34==ve.find(Vl=>Vl.formName==ki[na])?.idParamRisque?zl=String(Number(Fn[ki[na]])):"Marque"==ki[na]||"Mod\xe8le"==ki[na]?(ta=Fn[ki[na]],zl=""):zl=Fn[ki[na]]:zl=Fn[ki[na]]),Pi.push({idParam:Qe[na],codeParam:Bt[na],reponse:{idReponse:ta,description:zl}});return Pi});const Yt={idListParamRisque:this.idListParamList,idGarantie:u,paramList:[]};this.paramList.map(Fn=>{Yt.paramList.push({prime:"",paramListsValues:Fn})});let dn="";"G53"==this.garantieAll.find(Fn=>Fn.idGarantie==u)?.codeGarantie?(Yt.idListParamRisque=1,dn="Effectifs"):(Yt.idListParamRisque=2,dn="Mat\xe9riel informatique");let gn=this.devis.list.findIndex(Fn=>Fn.idListParamRisque==Yt.idListParamRisque);if(-1!=gn){if(this.devis.list[gn]=Yt,null==this.dataSourceListOfListes.data.find(Fn=>Fn.idListParamRisque==Yt.idListParamRisque)){const Fn=[...this.dataSourceListOfListes.data,{idListParamRisque:Yt.idListParamRisque,idGarantie:u,description:dn}];this.dataSourceListOfListes.data=Fn,this.cd.detectChanges()}}else{this.devis.list.push(Yt);const Fn=[...this.dataSourceListOfListes.data,{idListParamRisque:Yt.idListParamRisque,idGarantie:u,description:dn}];this.dataSourceListOfListes.data=Fn}this.formListParamRisque.reset(),""!=u&&(-1==this.garantieAll.findIndex(Fn=>Fn.idGarantie==u)&&this.indexSousGarantieMrp++,this.checkListSousGaranties(this.garantieAll[this.indexGarantieMrp].sousGarantieList,this.formPackGaranties.controls.find(Fn=>Fn.controls.idPackComplet.value==this.garantieAll[this.indexGarantieMrp].idPackComplet)?.controls?.souGarantieArray))}else{let ke=this.devis.list.findIndex(Qe=>Qe.idListParamRisque==this.idListParamList);-1!=ke&&(this.devis.list[ke].idGarantie=u),""!=u&&(-1==this.garantieAll.findIndex(Qe=>Qe.idGarantie==u)&&this.indexSousGarantieMrp++,this.checkListSousGaranties(this.garantieAll[this.indexGarantieMrp]?.sousGarantieList,this.formPackGaranties.controls.find(Qe=>Qe.controls.idPackComplet.value==this.garantieAll[this.indexGarantieMrp]?.idPackComplet)?.controls?.souGarantieArray))}})}getMedical(){this.paramRisqueService.getTableParamParent(133).subscribe({next:u=>{this.newdata=u}})}getpro(u){for(let M=0;M<this.newdata.length;M++)if(this.newdata[M].description===u)return this.newdata[M]}getisProfession(u,M){for(let W=0;W<u.length;W++)if(u[W].codeRisque===M)return u[W].reponse.description;return null}openDialogMRP(){this.indexSousGarantieMrp=0,this.p=this.getisProfession(this.oneRisqueInfo,"P129"),this.statusM=this.getpro(this.p),this.indexGarantieMrp<this.garantieAll.length&&this.formPackGaranties.controls.find(u=>u.controls.idPackComplet.value==this.garantieAll[this.indexGarantieMrp].idPackComplet)?.controls.checked.value&&(this.garantieAll[this.indexGarantieMrp].list&&("G53"!=this.garantieAll[this.indexGarantieMrp].codeGarantie||this.statusM.is_medical)?this.getListParamRisque(this.garantieAll[this.indexGarantieMrp].idListParamRisque,this.garantieAll[this.indexGarantieMrp].idGarantie):(this.indexSousGarantieMrp=0,this.checkListSousGaranties(this.garantieAll[this.indexGarantieMrp].sousGarantieList,this.formPackGaranties.controls.find(u=>u.controls.idPackComplet.value==this.garantieAll[this.indexGarantieMrp].idPackComplet)?.controls?.souGarantieArray)))}checkListSousGaranties(u,M){this.indexSousGarantieMrp<u?.length?u[this.indexSousGarantieMrp].list&&M.controls.find(W=>W.controls.idPackComplet.value==u[this.indexSousGarantieMrp].idPackComplet)?.controls.checked.value?this.getListParamRisque(u[this.indexSousGarantieMrp].idListParamRisque,u[this.indexSousGarantieMrp].idSousGarantie):(this.indexSousGarantieMrp++,this.checkListSousGaranties(u,M)):this.indexGarantieMrp++}isAllSelected(){return this.selection.selected.length===this.dataSource.data.length}getSousGarantieControl(u,M){return this.formPackGaranties.at(this.actualControlGarantie).get("souGarantieArray").at(u).get(M)}masterToggle(){this.isAllSelected()?this.selection.clear():this.dataSource.data.forEach(u=>{this.formPackGaranties.controls.map(M=>{M.value.idPackComplet==u.idPackComplet&&(M.controls.checked.value=!0)}),this.selection.select(u)})}getControl(u,M){return this.actualControlGarantie=u,this.formPackGaranties.at(u).get(M)}changeCheckBox(u,M,W){const ve=this.formPackGaranties.at(u).get(M);ve.setValue(!ve.value)}changeAllGarentierState(u,M){let W=[];u.controls.forEach(ie=>{const ve=ie,Re=M.garantie.findIndex(Qe=>ve.value.idPackComplet==Qe.idPackComplet),Oe=M.garantie[Re],ke=ve.get("checked");if(ke){if(Oe.obligatoire)ke.disable(),ke.setValue(!0);else if(null!=this.RisqueGaranties.garantieList?.find(Qe=>Qe.idGarantie==Oe.idGarantie))ke.enable(),ke.setValue(!0);else if(this.avenant.optional)ke.enable(),ke.setValue(!1);else if(Oe.active)ke.enable(),ke.setValue(!1);else{ke.disable(),ke.setValue(!1);const Qe=u.controls.indexOf(ve);W.push(Qe)}"95"==this.codeProduit&&"A07"!=this.avenant.code&&(Oe.obligatoire?ke.disable():ke.enable(),ke.setValue(!0))}}),W.forEach(ie=>{-1!==ie&&(u.removeAt(ie),this.dataSource.data.splice(ie,1),this.dataSource._updateChangeSubscription())})}changeAccess(){this.devisService.updateAccessDevis({idDevisAccess:this.devisAccess?.idDevisAccess,devis:this.devisAccess.devis,accessContrat:1,accessAvenant:1}).subscribe({next:M=>{},error:M=>{console.log(M)}})}redirectConsultation(){this.router.navigate(["consultation-avenants/"+this.codeProduit+"/"+this.idContrat])}checkAccess(){this.devisService.getAccessByDevis(this.contrat?.idDevis).subscribe({next:u=>{this.devisAccess=u,u?.accessAvenant?this.devisService.updateAccessDevis({idDevisAccess:u?.idDevisAccess,devis:u?.devis,accessContrat:1,accessAvenant:0}).subscribe({next:W=>{},error:W=>{console.log(W)}}):ut().fire({title:"Une personne est en train de faire un avenant sur cette police.",icon:"warning",allowOutsideClick:!1,confirmButtonText:"Ok",width:400}).then(M=>{M.isConfirmed&&this.router.navigate(["consultation-avenants/"+this.codeProduit+"/"+this.idContrat])})},error:u=>{console.log(u)}})}addOrganisme(){if(console.log("this.contrat",this.contrat),console.log("this.avenant",this.avenant),this.organismeForm.valid){const u=this.organismeForm.value;if(this.avenantOrganismeList.find(W=>W.classementOrganisme===u.classementOrganisme))return void this.organismeForm.get("classementOrganisme")?.setErrors({duplicate:!0});this.organismeForm.get("classementOrganisme")?.setErrors(null),this.contratService.getParamContratByIdRisque(this.contrat.idContrat,this.contrat.groupeList[0].idGroupe,this.contrat.groupeList[0].risques[0].idRisque).subscribe({next:W=>{this.valeurVenale=W.find(ve=>"Valeur V\xe9nal"===ve.libelle)?.reponse?.valeur,console.log("Valeur Venal:",this.valeurVenale);const ie=this.totalMontant+Number(u.montant);if(console.log("New total montant:",ie),ie>this.valeurVenale)ut().fire({title:"La somme des montants d\xe9passe la Valeur V\xe9nale",text:`Le montant total (${ie}) d\xe9passe la valeur v\xe9nale (${this.valeurVenale}).`,icon:"error",confirmButtonText:"Ok"});else{this.totalMontant=ie;const ve=this.typePerteOptions.find(ke=>ke.idParam===u.typePerte.idParam),Re={...u,typePerte:{idParam:ve.idParam,description:ve.description}};this.avenantOrganismeList=[...this.avenantOrganismeList,Re],Array.isArray(this.jsonAvenant.avenantOrganismeList)||(this.jsonAvenant.avenantOrganismeList=[]);const Oe={...u,typePerte:{idParam:ve.idParam}};this.jsonAvenant.avenantOrganismeList.push(Oe),this.organismeForm.reset()}},error:W=>{console.error("Error fetching data:",W)}})}}removeOrganisme(u){if(u>=0&&u<this.avenantOrganismeList.length){const M=Number(this.avenantOrganismeList[u].montant);this.totalMontant-=M,this.avenantOrganismeList=[...this.avenantOrganismeList.slice(0,u),...this.avenantOrganismeList.slice(u+1)],Array.isArray(this.jsonAvenant.avenantOrganismeList)&&(this.jsonAvenant.avenantOrganismeList=[...this.jsonAvenant.avenantOrganismeList.slice(0,u),...this.jsonAvenant.avenantOrganismeList.slice(u+1)])}else console.error("Invalid index provided for removal:",u);console.log("after : ",this.avenantOrganismeList),console.log("after json : ",this.jsonAvenant.avenantOrganismeList)}ngOnInit(){if(this.getMedical(),this.risquesInvolved=this.dataTransferService.getDataRisquesArray(),this.risquesInvolved){const u=Array.isArray(this.risquesInvolved)?this.risquesInvolved:[this.risquesInvolved];this.risquesModified=u.map(M=>({id:M.idRisque,modified:!1}))}this.codeProduit=this.route.snapshot.paramMap.get("codeProduit"),this.idTypeAvenant=this.route.snapshot.paramMap.get("idTypeAvenant"),this.idContrat=this.route.snapshot.paramMap.get("idContrat"),this.idProduit=JSON.parse(sessionStorage.getItem("products")||"{}").find(u=>u.codeProduit==this.codeProduit).idProduit,this.getInfoProduit(),this.formApplicationAvenant=this.formBuilderAuth.group({idTypeAvenant:[this.idTypeAvenant],idContrat:[this.idContrat],dateAvenant:[{value:new Date,disabled:!0}],motif:["",[w.kI.required]],commentaire:[""],agence:[this.isCourtier?this.agencePersonne:"",[w.kI.required]]}),this.formListParamRisque=this.formBuilder.group({}),this.formParamRisque=this.formBuilderAuth.group({}),this.formReduction=this.formBuilder.group({reduction:["aucuneReduction"],convention:["aucuneConvention"]}),this.getTypeClient(),this.getAgence(),this.getDuree(),this.getGenre(),this.getSituation(),this.getProfession(),this.getIdPays("DZA"),this.getMarque(),this.getAllPack(),this.getRoles(),this.getAllParamRisque(),"45A"==this.codeProduit&&this.getTypePerte(),this.isCourtier?this.formApplicationAvenant.get("agence")?.disable():this.formApplicationAvenant.get("agence")?.enable()}changeTypeClient(u){this.typeClient=this.typeClients.find(M=>M.idParam==u)?.description,"personne morale"==this.typeClient?(this.formCreationAssure.get("nom")?.setValidators([]),this.formCreationAssure.get("prenom")?.setValidators([]),this.formCreationAssure.get("dateNaissance")?.setValidators([]),this.formCreationAssure.get("nom").disable(),this.formCreationAssure.get("prenom").disable(),this.formCreationAssure.get("dateNaissance").disable(),this.formCreationAssure.get("raisonSocial")?.setValidators([w.kI.required,w.kI.maxLength(40)]),this.formCreationAssure.get("raisonSocial").enable(),this.formCreationAssure.get("nif")?.setValidators([w.kI.required,w.kI.pattern($e.e.NIF)]),this.formCreationAssure.get("nif").enable(),this.formCreationAssure.get("email")?.setValidators([w.kI.required,w.kI.pattern($e.e.email)]),this.formCreationAssure?.get("nom")?.setValue(null),this.formCreationAssure?.get("prenom")?.setValue(null),this.formCreationAssure?.get("dateNaissance")?.setValue(null)):(this.formCreationAssure.get("nom")?.setValidators([w.kI.required,w.kI.pattern($e.e.nom),w.kI.maxLength(40)]),this.formCreationAssure.get("prenom")?.setValidators([w.kI.required,w.kI.pattern($e.e.nom),w.kI.maxLength(40)]),this.formCreationAssure.get("dateNaissance")?.setValidators([w.kI.required,va]),this.formCreationAssure.get("nom").enable(),this.formCreationAssure.get("prenom").enable(),this.formCreationAssure.get("dateNaissance").enable(),this.formCreationAssure.get("email")?.setValidators([w.kI.pattern($e.e.email)]),this.formCreationAssure.get("raisonSocial")?.setValidators([]),this.formCreationAssure.get("raisonSocial").disable(),this.formCreationAssure?.get("raisonSocial")?.setValue(null),this.formCreationAssure.get("nif")?.setValidators([]),this.formCreationAssure.get("nif").disable(),this.formCreationAssure?.get("nif")?.setValue(null)),this.formCreationAssure.get("nif").updateValueAndValidity(),this.formCreationAssure.get("raisonSocial").updateValueAndValidity(),this.formCreationAssure.get("nom").updateValueAndValidity(),this.formCreationAssure.get("prenom").updateValueAndValidity(),this.formCreationAssure.get("dateNaissance").updateValueAndValidity(),this.formCreationAssure.get("email").updateValueAndValidity()}getInfoProduit(){this.genericService.getPorduitById(this.idProduit).subscribe({next:u=>{this.multiRisqueProduct="Oui"==u.param_Produit_Reponses.filter(M=>"multirisque"==M.idParamProduit.libelle)[0].reponse.description},error:u=>{console.log(u)}})}getAgence(){this.agencesService.getAllAgence().subscribe({next:u=>{this.agences=u},error:u=>{console.log(u)}})}getDuree(){this.dureeService.getAllDuree().subscribe({next:u=>{this.durees=u},error:u=>{console.log(u)}})}getRelation(u,M,W,ie){if(1==M)if("Liste of values"==u)this.paramRisqueService.getParamRelation(W,ie).subscribe({next:ve=>{this.paraRisqueProduitCategory[0].filter(Re=>{Re.paramRisque.idParamRisque==ve[0].idParamRisque&&(Re.paramRisque.categorie.paramDictionnaires=ve[0].categorie.paramDictionnaires)})},error:ve=>{console.log(ve)}});else{let ve=this.avenant.paramRisque.find(Re=>Re.parent?.idParamRisque==W)?.idParamRisque;ve&&this.paramRisqueService.getTableParamChild(ve,ie).subscribe({next:Re=>{this.avenant.paramRisque.filter(Oe=>{Oe.idParamRisque==ve&&(Oe.reponses=Re,this.formParamRisque.controls[Oe.formName].enable())})},error:Re=>{console.log(Re)}})}}getAllPack(){this.packService.getPackByProduit(this.idProduit).subscribe({next:u=>{this.packs=u,this.getContrat()},error:u=>{console.log(u)}})}getAllPackByProduit(u){const M=this.formCreationSouscripteur.valid||"DISABLED"===this.formCreationSouscripteur.status,W=this.formCreationAssure.valid||"DISABLED"===this.formCreationAssure.status,ie=this.formCreationAssure.get("nom")?.dirty||this.formCreationAssure.get("prenom")?.dirty||this.formCreationAssure.get("dateNaissance")?.dirty,ve=this.formCreationSouscripteur.get("nom")?.dirty||this.formCreationSouscripteur.get("prenom")?.dirty||this.formCreationSouscripteur.get("dateNaissance")?.dirty,Re="INVALID"===this.formCreationAssure?.controls?.telephone?.status||"INVALID"===this.formCreationAssure?.controls?.commune?.status,Oe="INVALID"===this.formCreationSouscripteur?.controls?.telephone?.status||"INVALID"===this.formCreationSouscripteur?.controls?.commune?.status;if(ie)ut().fire("Vous devez cliquer sur le button Rechercher pour l'assur\xe9","","error");else if(ve)ut().fire("Vous devez cliquer sur le button Rechercher pour le souscripteur","","error");else{if(Re&&ut().fire("Veuillez verifier et corriger la commune et le numero de telephone de l'assur\xe9 avec l'identifiant : "+this.formCreationAssure?.controls?.codeClient?.value,"","error"),Oe&&ut().fire("Veuillez verifier et corriger la commune et le numero de telephone du souscripteur avec l'identifiant : "+this.formCreationSouscripteur?.controls?.codeClient?.value,"","error"),console.log("formassure",W,this.formCreationAssure),"45A"==this.codeProduit&&("A22"===this.avenant.code||W&&(M||this.isAssure)&&this.formApplicationAvenant.valid)){let Qe,Bt,ke={};"A13"==this.avenant?.code||"A18"==this.avenant?.code?(ke={dateMiseEnCirculation:vt(this.formParamRisque.get("P28")?.value).format("YYYY-MM-DD"),duree:this.formApplicationAvenant.get("duree")?.value},Bt=this.packService.getPackByProduitParam(this.idProduit,ke)):2==u?(ke={dateMiseEnCirculation:vt(this.formParamRisque.get("P28")?.value).format("YYYY-MM-DD"),duree:this.contrat?.duree?.id_duree},Bt=this.packService.getPackByProduitParam(this.idProduit,ke)):(Qe=this.contratService.getParamContratByIdRisque(this.contrat.idContrat,this.contrat.groupeList?.[0]?.idGroupe,this.contrat.groupeList?.[0]?.risques?.[0]?.idRisque),Bt=(0,Kt.D)([Qe]).pipe((0,hi.w)(([Yt])=>(Yt&&(ke={dateMiseEnCirculation:vt(Yt.find(dn=>"P28"==dn.codeRisque)?.reponse.valeur).format("YYYY-MM-DD"),duree:this.contrat?.duree?.id_duree}),console.log("33333333333333"),this.packService.getPackByProduitParam(this.idProduit,ke))))),"A17"!=this.avenant.code&&"A18"!=this.avenant.code&&"A07"!=this.avenant.code?Bt.subscribe({next:Yt=>{this.packs=[],Yt.map(dn=>{this.packs.push(dn)}),console.log("blabla",this.packs),console.log("moncontat",this.contrat),this.packs.some(dn=>dn.idPack0==this.contrat.groupeList[0].pack.idPack0)||5===this.contrat.groupeList[0].pack.idPack0?(5===this.contrat.groupeList[0].pack.idPack0&&("A13"==this.avenant?.code?this.contrat.groupeList[0].pack.idPack0=4:this.packs.push({description:this.contrat.groupeList[0].pack.description,idPack0:this.contrat.groupeList[0].pack.idPack0})),this.myStepper.next()):2==u&&"95"!=this.codeProduit&&0!=this.packs.length?("A26"!=this.avenant?.code&&ut().fire("L'age de v\xe9hicule ne permet pas les packs tout en 1 et tout en 1 limit\xe9","","error"),this.getPack(this.contrat.groupeList[0].pack.idPack0,!1,!1),("A13"==this.avenant?.code||"A18"==this.avenant?.code||"A26"==this.avenant?.code)&&this.myStepper.next()):this.myStepper.next()},error:Yt=>{console.log(Yt)}}):this.myStepper.next()}else"45A"!=this.codeProduit&&this.myStepper.next();this.isConducteur&&this.changeRoleClient(!0,"Conducteur"),this.isConducteurAssure&&this.changeRoleClient(!0,"ConducteurAssure")}}getPack(u,M,W,ie=!1){if(this.tarifReady=!1,this.calcul=!0,this.PrimeAfterPruning=null,this.PrimeBonusMalus=null,this.PrimeTotaleTarif=null,this.loaderpack=!0,this.errorHandler.error=!1,this.errorHandler.msg="",this.devis.pack=u,this.devis.idPack=u,this.newGaranties=[],this.packService.getPackById(u).subscribe({next:ve=>{this.acctuelPack=ve,this.garantieTab=[],this.garantieAll=ve.garantie,this.valeurVenale=null!=this.formParamRisque.value?.P40?this.formParamRisque.value?.P40:this.oneRisqueInfo?.find(Re=>"P40"==Re.codeRisque)?.reponse.valeur,this.DisplayedColumnsSousGarantie=["select","garantie","plafond","franchise","formule","action","more"],this.franchiseExist=!1,this.plafondExist=!1,this.formuleExist=!1,this.groupesPacks="A26"!=this.avenant?.code||"45F"!=this.codeProduit&&"45L"!=this.codeProduit?[{group:this.contrat.groupeList[0].idGroupe,pack:ve}]:[{group:this.contrat?.groupeList?.find(Re=>Re?.pack?.idPack0==u)?.idGroupe,pack:ve}],this.risqueGroupe[0].idPack=u,this.contratService.getPackIdRisque(this.idContrat,"A26"!=this.avenant?.code||"45F"!=this.codeProduit&&"45L"!=this.codeProduit?this.contrat.groupeList[0].risques[0].idRisque:this.contrat.groupeList.find(Re=>Re?.pack?.idPack0==u).risques[0].idRisque).subscribe({next:Re=>{if(this.p=this.getisProfession(this.oneRisqueInfo,"P129"),this.statusM=this.getpro(this.p),this.RisqueGaranties=Re,"95"==this.route.snapshot.paramMap.get("codeProduit")&&this.statusM.is_professionnel){let Oe=this.garantieAll.map(ke=>ke.codeGarantie).indexOf("G45");-1!==Oe&&this.garantieAll.splice(Oe,1)}else{let Oe=this.garantieAll.map(ke=>ke.codeGarantie).indexOf("G53");-1!==Oe&&this.garantieAll.splice(Oe,1)}if(!Re.garantieList.some(Oe=>"G51"===Oe.codeGarantie)){let Oe=this.garantieAll.map(ke=>ke.codeGarantie).indexOf("G51");-1!==Oe&&this.garantieAll.splice(Oe,1)}this.garantieAll.filter(Oe=>{let ke=[],Qe=[],Bt=[];Oe.sousGarantieList?.filter(dn=>{this.sousGarantieExist=!0;let Ut=[],gn=[],Fn=[];dn.categorieList.filter(Pi=>{switch(Pi.description){case"plafond":"input valeur venale"==Pi.descriptionvVal&&"45A"==this.route.snapshot.paramMap.get("codeProduit")&&(Pi.valeur=this.valeurVenale),Ut.push(Pi),this.plafondExist=!0;break;case"formule":gn.push(Pi),this.formuleExist=!0;break;case"franchise":Fn.push(Pi),this.franchiseExist=!0}}),this.sousGarantieTab.push({idSousGarantie:dn.idSousGarantie,codeSousGarantie:dn.codeSousGarantie,idListParamRisque:dn.idListParamRisque,idPackComplet:dn.idPackComplet,description:dn.description,obligatoire:dn.obligatoire,prime:"",plafond:Ut,formule:gn,franchise:Fn})}),Oe.categorieList.filter(dn=>{switch(dn.description){case"plafond":"input valeur venale"==dn.descriptionvVal&&"45A"==this.route.snapshot.paramMap.get("codeProduit")&&(dn.valeur=this.valeurVenale),ke.push(dn);break;case"formule":Qe.push(dn);break;case"franchise":Bt.push(dn),this.franchiseExist=!0}});let Yt=Re.garantieList?.find(dn=>dn.idGarantie==Oe.idGarantie);this.garantieTab.push({idGarantie:Oe.idGarantie,idPackComplet:Oe.idPackComplet,codeGarantie:Oe.codeGarantie,idListParamRisque:Oe.idListParamRisque,description:Oe.description,obligatoire:Oe.obligatoire,primePre:M?Number(Yt?.prime).toFixed(2):"",prime:"",bonus:"",plafond:ke,formule:Qe,franchise:Bt,sousGarantieList:new Le.by(this.sousGarantieTab)}),this.sousGarantieTab=[]}),this.garantieTab.sort((Oe,ke)=>Number(ke.obligatoire)-Number(Oe.obligatoire)),this.dataSource=new Le.by(this.garantieTab),this.formPackGaranties=new w.Oe(this.dataSource.data.map(Oe=>{let ke=Re.garantieList?.find(Qe=>Qe.idGarantie==Oe.idGarantie);return new w.cw(M?{idPackComplet:new w.NI(Oe.idPackComplet),franchise:new w.NI({value:ke?.categorieList?.find(Qe=>18==Qe.idCategorie)?.valeur,disabled:!this.avenant?.garantieAffecte}),idfranchise:new w.NI({value:Oe.franchise,disabled:"input"!=Oe.franchise.descriptionvVal}),plafond:new w.NI({value:ke?.categorieList?.find(Qe=>7==Qe.idCategorie)?.valeur,disabled:!this.avenant?.garantieAffecte}),idplafond:new w.NI({value:Oe.plafond,disabled:!0}),formule:new w.NI({value:ke?.categorieList?.find(Qe=>19==Qe.idCategorie)?.valeur,disabled:!this.avenant?.garantieAffecte}),idformule:new w.NI({value:Oe.formule,disabled:!0}),checked:new w.NI({value:Oe.obligatoire||null!=ke,disabled:Oe.obligatoire||!this.avenant?.garantieAffecte||"A21"==this.avenant?.code||"A22"==this.avenant?.code}),souGarantieArray:new w.Oe(Oe.sousGarantieList.data.map(Qe=>{let Bt=ke?.sousGarantieList?.find(Yt=>Yt.idSousGarantie==Qe.idSousGarantie);return new w.cw({idPackComplet:new w.NI(Qe.idPackComplet),franchise:new w.NI({value:Bt?.categorieList?.find(Yt=>18==Yt.idCategorie)?.valeur,disabled:!this.avenant?.garantieAffecte}),idfranchise:new w.NI({value:Qe.franchise,disabled:"input"!=Qe.franchise.descriptionvVal}),plafond:new w.NI({value:Bt?.categorieList?.find(Yt=>7==Yt.idCategorie)?.valeur,disabled:!this.avenant?.garantieAffecte}),idplafond:new w.NI({value:Qe.plafond,disabled:!0}),formule:new w.NI({value:Bt?.categorieList?.find(Yt=>19==Yt.idCategorie)?.valeur,disabled:!this.avenant?.garantieAffecte}),idformule:new w.NI({value:Qe.formule,disabled:!0}),checked:new w.NI({value:Qe.obligatoire||null!=Bt,disabled:Qe.obligatoire||!this.avenant?.garantieAffecte||"A21"==this.avenant?.code||"A22"==this.avenant?.code||"A18"!=this.avenant.code})})}))}:{idPackComplet:new w.NI(Oe.idPackComplet),franchise:new w.NI({value:"",disabled:!1}),idfranchise:new w.NI({value:Oe.franchise,disabled:"input"!=Oe.franchise.descriptionvVal}),plafond:new w.NI({value:"",disabled:!1}),idplafond:new w.NI({value:Oe.plafond,disabled:!0}),formule:new w.NI({value:"",disabled:!1}),idformule:new w.NI({value:Oe.formule,disabled:!0}),checked:new w.NI({value:Oe.obligatoire||null!=ke,disabled:Oe.obligatoire||"A21"==this.avenant?.code||"A22"==this.avenant?.code}),souGarantieArray:new w.Oe(Oe.sousGarantieList.data.map(Qe=>new w.cw({idPackComplet:new w.NI(Qe.idPackComplet),franchise:new w.NI({value:"",disabled:!1}),idfranchise:new w.NI({value:Qe.franchise,disabled:"input"!=Qe.franchise.descriptionvVal}),plafond:new w.NI({value:"",disabled:!1}),idplafond:new w.NI({value:Qe.plafond,disabled:!0}),formule:new w.NI({value:"",disabled:!1}),idformule:new w.NI({value:Qe.formule,disabled:!0}),checked:new w.NI({value:!0,disabled:Qe.obligatoire||"A21"==this.avenant?.code||"A22"==this.avenant?.code})})))})})),this.formPackGaranties.valueChanges.subscribe(()=>{this.errorPackForm=!1}),this.changeAllGarentierState(this.formPackGaranties,this.acctuelPack),this.loadTable=!0,this.loaderpack=!1,W&&this.objectDevis(!0)},error:Re=>{this.loaderTarif=!1,this.handleError(Re)}})},error:ve=>{console.log(ve)}}),!ie){const ve=this.dataSource?.data?.find(Oe=>"G53"==Oe.codeGarantie);ve?.obligatoire&&(this.handleClick(ve),this.checkAlertVol(ve,!0));const Re=this.dataSource?.data?.find(Oe=>"G50"==Oe.codeGarantie);(Re?.obligatoire||null!=this.contrat.groupeList[0].garantieList.find(Oe=>"G50"==Oe.codeGarantie))&&(this.handleClick(Re),this.checkAlertVol(Re,!0))}}handleClick(u){this.garantieSelectedIds.push(u.idGarantie)}getContrat(){this.jsonAvenant.packCompletList=[],this.contratService.getContratById(this.idContrat).subscribe({next:u=>{this.contrat=u,this.typeClient=this.contrat?.typeClient?.description,"S09"==this.contrat.statue.code&&this.redirectConsultation(),null!=this.contrat.convention&&this.getReductionByConvention(this.contrat.convention),this.multiRisqueProduct&&this.contrat.groupeList.map(Re=>{(0===this.groupArray.length||!this.groupArray.some(Oe=>Oe.idGroupe===Re.idGroupe))&&this.groupArray.push({description:Re.description,idGroupe:Re.idGroupe,idPack:Re.pack?.idPack0,descriptionPack:Re.pack?.description,new:0})});var W=this.contrat.paramsRisqueContratList?.reduce((Re,Oe)=>{let ke=Oe.idListParamRisque.idListParamRisque;return Re.hasOwnProperty(ke)?Re[ke].push(Oe):Re[ke]=[Oe],Re},{});W=Object.values(W);var ie=[];W.map(Re=>{ie.push(Re.reduce((Oe,ke)=>{let Qe=ke.paramGrp;return Oe.hasOwnProperty(Qe)?Oe[Qe].push(ke):Oe[Qe]=[ke],Oe},[]))}),ie=Object.values(ie);let ve=[];ie.map(Re=>{let ke,Oe={idListParamRisque:"",paramList:[]};Re.map(Qe=>{ke={prime:"",paramListsValues:[]},Oe.idListParamRisque=Qe[0].idListParamRisque.idListParamRisque;let Bt={};Qe.forEach(Yt=>{let dn=Yt.risque.libelle.split(" ").map(Ut=>Ut.charAt(0).toUpperCase()+Ut.substring(1)).join("");if("Liste of values"===Yt?.risque?.typeChamp?.description){let Ut=this.paraRisqueType.find(gn=>gn.codeParam==Yt?.risque.codeParam)?.reponses;Bt={...Bt,[dn]:Ut.find(gn=>gn.idParam==Yt.response.idReponse)}}else if("From Table"==Yt?.risque?.typeChamp?.description)Bt={...Bt,[dn]:Yt.response.description};else if("date"!=Yt?.risque?.typeChamp?.description)if(34==Yt.risque.idParamRisque)Bt={...Bt,[dn]:Yt.response.description};else if("Marque"==Yt?.risque?.libelle||"Mod\xe8le"==Yt?.risque?.libelle){let Ut=this.paraRisqueType.find(gn=>gn.codeParam==Yt?.risque.codeParam)?.reponses;Bt={...Bt,[dn]:Ut.find(gn=>gn.idParam==Yt.response.idReponse)}}else Bt={...Bt,[dn]:Yt.response.description};else Bt={...Bt,[dn]:Yt.response.description};ke.paramListsValues.push({idParam:Yt.risque.idParamRisque,reponse:Yt.response})}),this.dataSourceListParamRisque.push(Bt),ke.prime=this.contrat.listPrimes?.find(Yt=>Yt.idListParamRisque==Qe[0].idListParamRisque.idListParamRisque&&Yt.paramGrp==Qe[0].paramGrp)?.prime,Oe.paramList.push(ke)}),ve.push(Oe)}),this.getParamAvenant(),this.devis.list=ve,this.PrimeTotale=this.contrat?.primeList?.find(Re=>101==Re.typePrime?.idParam)?.prime,this.ancientPack=this.contrat.groupeList,this.getAllConventions(),this.getAllReductions(),u.convention&&(this.defaultConvention=u.convention,this.formReduction?.get("convention")?.setValue(u.convention)),u.reduction&&(this.defaultReduction=u.reduction,this.formReduction?.get("reduction")?.setValue(u.reduction))},error:u=>{console.log(u)}})}getIdPays(u){this.genericService.getPays().subscribe({next:M=>{this.idPays=M.find(W=>W.codePays==u).idPays,this.getWilaya()},error:M=>{console.log(M)}})}getWilaya(){this.genericService.getAllWilayas(this.idPays).subscribe({next:u=>{this.wilayas=u},error:u=>{console.log(u)}})}getCommune(u,M){this.genericService.getAllCommuneByWilaya(u).subscribe({next:W=>{switch(M){case"Souscripteur":this.communes_sous=W;break;case"Assure":this.communes_assure=W;break;case"Conducteur":this.communes_cond=W}},error:W=>{console.log(W)}})}getGenre(){this.genericService.getParam(JSON.parse(sessionStorage.getItem("dictionnaire")||"{}").find(u=>"C6"==u.code).idCategorie).subscribe({next:u=>{this.genres=u},error:u=>{console.log(u)}})}getSituation(){this.genericService.getParam(JSON.parse(sessionStorage.getItem("dictionnaire")||"{}").find(u=>"C1"==u.code).idCategorie).subscribe({next:u=>{this.situations=u},error:u=>{console.log(u)}})}getProfession(){this.genericService.getProfession().subscribe({next:u=>{this.professions=u},error:u=>{console.log(u)}})}getMarque(){this.vehiculeService.getAllMarque().subscribe({next:u=>{this.marques=u},error:u=>{console.log(u)}})}getModeleByMarque(u){this.vehiculeService.getModelByMarque(u).subscribe({next:M=>{this.modeles=M},error:M=>{console.log(M)}})}changeRoleClient(u,M){if(u)switch(M){case"Souscripteur":this.isAssure=!0,this.getCommune(this.formCreationAssure.value.wilaya,"Souscripteur"),this.formCreationSouscripteur=this.formBuilder.group({codeClient:[""==this.formCreationAssure?.value.idClient?null:this.formCreationAssure?.value.idClient],nom:[this.formCreationAssure?.controls?.nom?.value,[w.kI.required,w.kI.pattern($e.e.nom),w.kI.maxLength(40)]],prenom:[this.formCreationAssure?.controls?.prenom?.value,[w.kI.required,w.kI.pattern($e.e.nom),w.kI.maxLength(40)]],dateNaissance:[this.formCreationAssure?.controls?.dateNaissance?.value,[w.kI.required,va]],nin:[{value:this.formCreationAssure?.value.nin,disabled:!1},[w.kI.pattern($e.e.NIN)]],telephone:[{value:this.formCreationAssure.value.telephone,disabled:!1},[w.kI.required,w.kI.pattern($e.e.mobile)]],email:[{value:this.formCreationAssure.value.email,disabled:!1},[w.kI.pattern($e.e.email)]],adresse:[{value:this.formCreationAssure.value.adresse,disabled:!1},[w.kI.required,w.kI.maxLength(60)]],wilaya:[{value:this.formCreationAssure.value.wilaya,disabled:"A17"==this.avenant.code},[w.kI.required]],commune:[{value:this.formCreationAssure.value.commune,disabled:"A17"==this.avenant.code},[w.kI.required]],genre:[{value:this.formCreationAssure.value.genre,disabled:"A17"==this.avenant.code},[w.kI.required]],situation:[{value:this.formCreationAssure.value.situation,disabled:!1}],profession:[{value:this.formCreationAssure?.value?.profession,disabled:!1}]}),this.formCreationSouscripteur.disable();break;case"Conducteur":console.log("conducteur===>",this.formCreationSouscripteur),this.isConducteur=!0,this.isConducteurAssure=!1,this.formCreationConducteur=this.formBuilder.group({codeClient:[""==this.formCreationSouscripteur?.value?.codeClient?null:{value:this.formCreationSouscripteur?.value?.codeClient,disabled:!0}],nom:[""==this.formCreationSouscripteur?.controls?.nom?.value?null:{value:this.formCreationSouscripteur?.value?.nom,disabled:"A21"!=this.avenant.code&&"A17"!=this.avenant.code||"A21"===this.avenant.code},[w.kI.required,w.kI.pattern($e.e.nom),w.kI.maxLength(40)]],prenom:[""==this.formCreationSouscripteur?.controls?.prenom?.value?null:{value:this.formCreationSouscripteur?.value?.prenom,disabled:"A21"!=this.avenant.code&&"A17"!=this.avenant.code||"A21"===this.avenant.code},[w.kI.required,w.kI.pattern($e.e.nom),w.kI.maxLength(40)]],dateNaissance:[""==this.formCreationSouscripteur?.controls?.dateNaissance?.value?null:{value:this.formCreationSouscripteur?.value?.dateNaissance,disabled:"A21"!=this.avenant.code||"A21"===this.avenant.code}],telephone:[{value:this.formCreationSouscripteur?.value?.telephone,disabled:"A21"===this.avenant.code},[w.kI.required,w.kI.minLength(this.formCreationSouscripteur?.value?.telephone?.length),w.kI.maxLength(this.formCreationSouscripteur?.value?.telephone?.length)]],email:[{value:this.formCreationSouscripteur?.value?.email,disabled:"A21"===this.avenant.code},[w.kI.pattern($e.e.email)]],adresse:[{value:this.formCreationSouscripteur?.value?.adresse,disabled:"A21"===this.avenant.code},[w.kI.required,w.kI.maxLength(60)]],wilaya:[{value:this.formCreationSouscripteur?.value?.wilaya,disabled:"A17"==this.avenant.code||"A21"===this.avenant.code},[w.kI.required]],commune:[{value:this.formCreationSouscripteur?.value?.commune,disabled:"A17"==this.avenant.code||"A21"===this.avenant.code},[w.kI.required]],situation:[{value:this.formCreationSouscripteur?.value?.situation,disabled:"A21"===this.avenant.code}],profession:[{value:this.formCreationSouscripteur?.value?.profession,disabled:"A21"===this.avenant.code},[w.kI.required]],numeroPermis:[{value:"",disabled:"A21"!=this.avenant.code},[w.kI.required]],categoriePermis:[{value:"",disabled:!1},[w.kI.required]]}),this.getCommune(this.formCreationConducteur.value.wilaya,"Conducteur"),this.formCreationConducteur.updateValueAndValidity();break;case"ConducteurAssure":this.isConducteurAssure=!0,this.isConducteur=!1,this.formCreationConducteur=this.formBuilder.group({codeClient:[""==this.formCreationAssure?.get("codeClient")?.value?null:{value:this.formCreationAssure?.get("codeClient")?.value,disabled:!0}],nom:[""==this.formCreationAssure?.controls?.nom?.value?null:{value:this.formCreationAssure?.get("nom")?.value,disabled:"A17"!=this.avenant.code},[w.kI.required,w.kI.pattern($e.e.nom),w.kI.maxLength(40)]],prenom:[""==this.formCreationAssure?.controls?.prenom?.value?null:{value:this.formCreationAssure?.get("prenom")?.value,disabled:"A17"!=this.avenant.code},[w.kI.required,w.kI.pattern($e.e.nom),w.kI.maxLength(40)]],dateNaissance:[""==this.formCreationAssure?.controls?.dateNaissance?.value?null:{value:this.formCreationAssure?.get("dateNaissance")?.value,disabled:!0}],telephone:[{value:this.formCreationAssure?.get("telephone")?.value,disabled:"A21"===this.avenant.code},[w.kI.required,w.kI.minLength(this.formCreationAssure?.get("telephone")?.value?.length),w.kI.maxLength(this.formCreationAssure?.get("telephone")?.value?.length)]],email:[{value:this.formCreationAssure?.get("email")?.value,disabled:"A21"===this.avenant.code},[w.kI.pattern($e.e.email)]],adresse:[{value:this.formCreationAssure?.get("adresse")?.value,disabled:"A21"===this.avenant.code},[w.kI.required,w.kI.maxLength(60)]],wilaya:[{value:this.formCreationAssure?.get("wilaya")?.value,disabled:"A17"==this.avenant.code||"A21"===this.avenant.code},[w.kI.required]],commune:[{value:this.formCreationAssure?.get("commune")?.value,disabled:"A17"==this.avenant.code||"A21"===this.avenant.code},[w.kI.required]],situation:[{value:this.formCreationAssure?.get("situation")?.value,disabled:"A21"===this.avenant.code}],profession:[{value:this.formCreationAssure?.get("profession")?.value,disabled:"A21"===this.avenant.code}],numeroPermis:[{value:"",disabled:"A21"!=this.avenant.code},[w.kI.required]],categoriePermis:[{value:"",disabled:!1},[w.kI.required]]}),this.getCommune(this.formCreationConducteur.value.wilaya,"Conducteur"),this.formCreationConducteur.updateValueAndValidity();break;default:this.isConducteurAssure=!1,this.isConducteur=!1,this.formCreationConducteur=this.formBuilder.group({codeClient:[""==this.conducteur?.idClient||"A21"==this.avenant.code||"A13"==this.avenant.code?null:{value:this.conducteur?.idClient,disabled:!0}],nom:[{value:"A21"==this.avenant.code||"A13"==this.avenant.code?"":this.conducteur?.nom,disabled:"A21"!=this.avenant.code&&"A17"!=this.avenant.code&&"A13"!=this.avenant.code},[w.kI.required,w.kI.pattern($e.e.nom),w.kI.maxLength(40)]],prenom:[{value:"A21"==this.avenant.code||"A13"==this.avenant.code?"":this.conducteur?.prenom1,disabled:"A21"!=this.avenant.code&&"A17"!=this.avenant.code&&"A13"!=this.avenant.code},[w.kI.required,w.kI.pattern($e.e.nom),w.kI.maxLength(40)]],dateNaissance:[{value:"A21"==this.avenant.code||"A13"==this.avenant.code?"":this.conducteur?.dateNaissance,disabled:"A21"!=this.avenant.code&&"A13"!=this.avenant.code},[w.kI.required,va]],telephone:[{value:"A21"==this.avenant.code||"A13"==this.avenant.code?"":this.conducteur?.contactList?.find(W=>"CNT1"==W?.typeContact?.code)?.description,disabled:!1},[w.kI.required,w.kI.pattern($e.e.mobile)]],email:[{value:"A21"==this.avenant.code||"A13"==this.avenant.code?"":this.conducteur?.contactList?.find(W=>"CNT2"==W?.typeContact?.icode)?.description,disabled:!1},[w.kI.pattern($e.e.email)]],adresse:[{value:"A21"==this.avenant.code||"A13"==this.avenant.code?"":0!=this.conducteur?.adressesList?.length?this.conducteur?.adressesList?.[0]?.description:"",disabled:!1},[w.kI.required,w.kI.maxLength(60)]],wilaya:[{value:"A21"==this.avenant.code||"A13"==this.avenant.code?"":0!=this.conducteur?.adressesList?.length?this.conducteur?.adressesList?.[0]?.wilaya?.idWilaya:"",disabled:"A17"==this.avenant.code},[w.kI.required]],commune:[{value:"A21"==this.avenant.code||"A13"==this.avenant.code?"":0!=this.conducteur?.adressesList?.length?this.conducteur?.adressesList?.[0]?.commune?.idCommune:"",disabled:"A17"==this.avenant.code},[w.kI.required]],situation:[{value:"A21"==this.avenant.code||"A13"==this.avenant.code?"":this.conducteur?.situationFamiliale?.idParam,disabled:!1}],profession:[{value:"A21"==this.avenant.code||"A13"==this.avenant.code?"":0!=this.conducteur?.adressesList?.length?this.conducteur?.professionSecteurList?.[0]?.profession?.idProfession:"",disabled:!1}],numeroPermis:[{value:"A21"==this.avenant.code||"A13"==this.avenant.code?"":this.conducteur?.documentList.find(W=>"D02"==W?.typeDocument?.code)?.description,disabled:"A21"!=this.avenant.code},[w.kI.required]],categoriePermis:[{value:"A21"==this.avenant.code||"A13"==this.avenant.code?"":this.conducteur?.documentList.find(W=>"D02"==W?.typeDocument?.code)?.sousCategorie,disabled:!1},[w.kI.required]]})}else switch(M){case"Souscripteur":this.isAssure=!1,this.formCreationSouscripteur=this.formBuilder.group({codeClient:[""==this.souscripteur?.idClient||"A21"==this.avenant.code?null:this.souscripteur?.idClient],nom:["A21"==this.avenant.code||"A13"==this.avenant.code?"":this.souscripteur?.nom,[w.kI.required,w.kI.pattern($e.e.nom),w.kI.maxLength(40)]],prenom:["A21"==this.avenant.code||"A13"==this.avenant.code?"":this.souscripteur?.prenom1,[w.kI.required,w.kI.pattern($e.e.nom),w.kI.maxLength(40)]],dateNaissance:["A21"==this.avenant.code||"A13"==this.avenant.code?null:this.souscripteur?.dateNaissance,[w.kI.required,va]],nin:[{value:"A21"==this.avenant.code||"A13"==this.avenant.code?"":this.souscripteur?.nin,disabled:!1},[w.kI.pattern($e.e.NIN)]],telephone:[{value:"A21"==this.avenant.code||"A13"==this.avenant.code?"":this.souscripteur?.contactList?.find(W=>"CNT1"==W?.typeContact?.code)?.description,disabled:!1},[w.kI.required,w.kI.pattern($e.e.mobile)]],email:[{value:"A21"==this.avenant.code||"A13"==this.avenant.code?"":this.souscripteur?.contactList?.find(W=>"CNT2"==W?.typeContact?.code)?.description,disabled:!1},[w.kI.pattern($e.e.email)]],adresse:[{value:"A21"==this.avenant.code||"A13"==this.avenant.code?"":0!=this.souscripteur?.adressesList?.length?this.souscripteur?.adressesList?.[0]?.description:"",disabled:!1},[w.kI.required,w.kI.maxLength(60)]],wilaya:[{value:"A21"==this.avenant.code||"A13"==this.avenant.code?"":0!=this.souscripteur?.adressesList?.length?this.souscripteur?.adressesList?.[0]?.wilaya?.idWilaya:"",disabled:"A17"==this.avenant.code},[w.kI.required]],commune:[{value:"A21"==this.avenant.code||"A13"==this.avenant.code?"":0!=this.souscripteur?.adressesList?.length?this.souscripteur?.adressesList?.[0]?.commune?.idCommune:"",disabled:"A17"==this.avenant.code},[w.kI.required]],genre:[{value:"A21"==this.avenant.code||"A13"==this.avenant.code?"":this.souscripteur?.sexe?.idParam,disabled:"A17"==this.avenant.code},[w.kI.required]],situation:[{value:"A21"==this.avenant.code||"A13"==this.avenant.code?"":this.souscripteur?.situationFamiliale?.idParam,disabled:!1}],profession:[{value:"A21"==this.avenant.code||"A13"==this.avenant.code?"":0!=this.souscripteur?.professionSecteurList?.length&&this.souscripteur?.professionSecteurList?this.souscripteur?.professionSecteurList[0]?.profession?.idProfession:"",disabled:!1}]});break;case"Conducteur":this.isConducteur=!1,this.formCreationConducteur=this.formBuilder.group({codeClient:[""==this.conducteur?.idClient||"A21"==this.avenant.code||"A13"==this.avenant.code?null:{value:this.conducteur?.idClient,disabled:!0}],nom:[{value:"A21"==this.avenant.code||"A13"==this.avenant.code?"":this.conducteur?.nom,disabled:"A21"!=this.avenant.code&&"A17"!=this.avenant.code},[w.kI.required,w.kI.pattern($e.e.nom),w.kI.maxLength(40)]],prenom:[{value:"A21"==this.avenant.code||"A13"==this.avenant.code?"":this.conducteur?.prenom1,disabled:"A21"!=this.avenant.code&&"A17"!=this.avenant.code},[w.kI.required,w.kI.pattern($e.e.nom),w.kI.maxLength(40)]],dateNaissance:[{value:"A21"==this.avenant.code||"A13"==this.avenant.code?"":this.conducteur?.dateNaissance,disabled:"A21"!=this.avenant.code},[w.kI.required,va]],telephone:[{value:"A21"==this.avenant.code||"A13"==this.avenant.code?"":this.conducteur?.contactList?.find(W=>"CNT1"==W?.typeContact?.code)?.description,disabled:!1},[w.kI.required,w.kI.pattern($e.e.mobile)]],email:[{value:"A21"==this.avenant.code||"A13"==this.avenant.code?"":this.conducteur?.contactList?.find(W=>"CNT2"==W?.typeContact?.icode)?.description,disabled:!1},[w.kI.pattern($e.e.email)]],adresse:[{value:"A21"==this.avenant.code||"A13"==this.avenant.code?"":0!=this.conducteur?.adressesList?.length?this.conducteur?.adressesList?.[0]?.description:"",disabled:!1},[w.kI.required,w.kI.maxLength(60)]],wilaya:[{value:"A21"==this.avenant.code||"A13"==this.avenant.code?"":0!=this.conducteur?.adressesList?.length?this.conducteur?.adressesList?.[0]?.wilaya?.idWilaya:"",disabled:"A17"==this.avenant.code},[w.kI.required]],commune:[{value:"A21"==this.avenant.code||"A13"==this.avenant.code?"":0!=this.conducteur?.adressesList?.length?this.conducteur?.adressesList?.[0]?.commune?.idCommune:"",disabled:"A17"==this.avenant.code},[w.kI.required]],situation:[{value:"A21"==this.avenant.code||"A13"==this.avenant.code?"":this.conducteur?.situationFamiliale?.idParam,disabled:!1}],profession:[{value:"A21"==this.avenant.code||"A13"==this.avenant.code?"":0!=this.conducteur?.adressesList?.length?this.conducteur?.professionSecteurList[0].profession?.idProfession:"",disabled:!1}],numeroPermis:[{value:"A21"==this.avenant.code||"A13"==this.avenant.code?"":this.conducteur?.documentList.find(W=>"D02"==W?.typeDocument?.code)?.description,disabled:"A21"!=this.avenant.code},[w.kI.required]],categoriePermis:[{value:"A21"==this.avenant.code||"A13"==this.avenant.code?"":this.conducteur?.documentList.find(W=>"D02"==W?.typeDocument?.code)?.sousCategorie,disabled:!1},[w.kI.required]]});break;case"ConducteurAssure":this.isConducteurAssure=!1,this.formCreationConducteur=this.formBuilder.group({codeClient:[""==this.conducteur?.idClient||"A21"==this.avenant.code||"A13"==this.avenant.code?null:{value:this.conducteur?.idClient,disabled:!0}],nom:[{value:"A21"==this.avenant.code||"A13"==this.avenant.code?"":this.conducteur?.nom,disabled:"A21"!=this.avenant.code&&"A17"!=this.avenant.code},[w.kI.required,w.kI.pattern($e.e.nom),w.kI.maxLength(40)]],prenom:[{value:"A21"==this.avenant.code||"A13"==this.avenant.code?"":this.conducteur?.prenom1,disabled:"A21"!=this.avenant.code&&"A17"!=this.avenant.code},[w.kI.required,w.kI.pattern($e.e.nom),w.kI.maxLength(40)]],dateNaissance:[{value:"A21"==this.avenant.code||"A13"==this.avenant.code?"":this.conducteur?.dateNaissance,disabled:"A21"!=this.avenant.code},[w.kI.required,va]],telephone:[{value:"A21"==this.avenant.code||"A13"==this.avenant.code?"":this.conducteur?.contactList?.find(W=>"CNT1"==W?.typeContact?.code)?.description,disabled:!1},[w.kI.required,w.kI.pattern($e.e.mobile)]],email:[{value:"A21"==this.avenant.code||"A13"==this.avenant.code?"":this.conducteur?.contactList?.find(W=>"CNT2"==W?.typeContact?.code)?.description,disabled:!1},[w.kI.pattern($e.e.email)]],adresse:[{value:"A21"==this.avenant.code||"A13"==this.avenant.code?"":0!=this.conducteur?.adressesList?.length?this.conducteur?.adressesList?.[0]?.description:"",disabled:!1},[w.kI.required,w.kI.maxLength(60)]],wilaya:[{value:"A21"==this.avenant.code||"A13"==this.avenant.code?"":0!=this.conducteur?.adressesList?.length?this.conducteur?.adressesList?.[0]?.wilaya?.idWilaya:"",disabled:"A17"==this.avenant.code},[w.kI.required]],commune:[{value:"A21"==this.avenant.code||"A13"==this.avenant.code?"":0!=this.conducteur?.adressesList?.length?this.conducteur?.adressesList?.[0]?.commune?.idCommune:"",disabled:"A17"==this.avenant.code},[w.kI.required]],situation:[{value:"A21"==this.avenant.code||"A13"==this.avenant.code?"":this.conducteur?.situationFamiliale?.idParam,disabled:!1}],profession:[{value:"A21"==this.avenant.code||"A13"==this.avenant.code?"":0!=this.conducteur?.adressesList?.length?this.conducteur?.professionSecteurList[0].profession?.idProfession:"",disabled:!1}],numeroPermis:[{value:"A21"==this.avenant.code||"A13"==this.avenant.code?"":this.conducteur?.documentList.find(W=>"D02"==W?.typeDocument?.code)?.description,disabled:"A21"!=this.avenant.code},[w.kI.required]],categoriePermis:[{value:"A21"==this.avenant.code||"A13"==this.avenant.code?"":this.conducteur?.documentList.find(W=>"D02"==W?.typeDocument?.code)?.sousCategorie,disabled:!1},[w.kI.required]]})}}showButtonSuivantRisque(){return"A26"!=this.avenant.code||!this.risquesModified.some(u=>0==u?.modified)}getParamAvenant(){this.avenantService.getAvenantById(this.idTypeAvenant).subscribe({next:u=>{if(this.avenant=u,this.avenant.dateOuverte&&this.formApplicationAvenant?.get("dateAvenant")?.enable(),"A18"!=this.avenant?.code&&"A13"!=this.avenant?.code){if("A21"!=this.avenant?.code&&"A168"!=this.avenant?.code)this.formReduction?.get("convention")?.disable(),this.formReduction?.get("reduction")?.disable();else if(this.formReduction?.get("convention")?.enable(),this.formReduction?.get("reduction")?.enable(),"A168"==this.avenant?.code){let W=new Date>new Date(new Date(this.contrat.dateExpiration).getTime()+864e5)?new Date:new Date(new Date(this.contrat.dateExpiration).getTime()+864e5);this.dateMinRenouv=W;let ie=new Date(W);ie.setMonth(ie.getMonth()+1),this.dateMaxRenouv=ie,this.formApplicationAvenant?.get("dateAvenant")?.setValue(W),this.formApplicationAvenant?.get("dateAvenant")?.enable(),this.getDateExpiration(this.contrat?.duree?.id_duree)}}else{let W=new Date>new Date(new Date(this.contrat.dateExpiration).getTime()+864e5)?new Date:new Date(new Date(this.contrat.dateExpiration).getTime()+864e5);this.dateMinRenouv=W;let ie=new Date(W);ie.setMonth(ie.getMonth()+1),this.dateMaxRenouv=ie,this.formApplicationAvenant?.get("dateAvenant")?.setValue(W),this.formApplicationAvenant?.get("dateAvenant")?.enable(),this.getDateExpiration(this.contrat?.duree?.id_duree),this.formReduction?.get("convention")?.enable(),this.formReduction?.get("reduction")?.enable()}if(this.reductionExist=u.reduction,this.multiRisqueAvenant=this.avenant.multirisque,this.multiRisqueAvenant?("A11"==this.avenant.code&&(this.risquesInvolved=[this.risquesInvolved]),this.risquesInvolved.length>1?this.dataSourceConsultRisque=new Le.by(this.risquesInvolved):(this.dataSourceConsultRisque=new Le.by,this.dataSourceConsultRisque.data=[],this.dataSourceConsultRisque.data.push(this.risquesInvolved[0]))):this.multiRisqueProduct||(this.risquesInvolved=[{idGroupe:this.contrat.groupeList[0].idGroupe,description:this.contrat.groupeList[0].description,idRisque:this.contrat.groupeList[0].risques[0].idRisque}],this.groupesPacks=[{group:this.contrat.groupeList[0].idGroupe,pack:this.contrat.groupeList[0].pack}]),this.displayedColumns="A13"==this.avenant?.code&&"45A"==this.codeProduit?["select","garantie","plafond","franchise","formule","prime","bonus","action","sousGarantie"]:["select","garantie","plafond","franchise","formule","action","sousGarantie"],this.formApplicationAvenant.addControl("agence",new w.NI("",[w.kI.required])),this.formApplicationAvenant.addControl("duree",this.avenant?.duree?new w.NI(this.contrat?.duree.id_duree,[w.kI.required]):new w.NI(this.contrat?.duree.id_duree)),("A18"==this.avenant?.code||"A21"==this.avenant?.code)&&this.formApplicationAvenant.get("duree")?.disable(),(0!=this.avenant?.paramRisque?.length&&"A08"!=this.avenant?.code||this.avenant?.packAffecte||this.avenant?.garantieAffecte)&&(this.calcul=!0),this.multiRisqueProduct&&0!=this.avenant?.paramRisque?.length&&(this.dataSourceParamRisque=new Le.by(this.risquesInvolved),this.dataSourceParamRisque.paginator=this.paginator),this.avenant?.attestation&&"45L"!=this.codeProduit&&"A22"!=this.avenant?.code&&this.formApplicationAvenant.addControl("attestation",new w.NI("",[w.kI.required])),"A22"===this.avenant?.code&&"45F"!=this.codeProduit&&this.formApplicationAvenant.addControl("attestation",new w.NI("",[w.kI.required,w.kI.pattern("[0-9/]*")])),"A22"===this.avenant?.code&&!this.avenant?.attestation&&"45A"!=this.codeProduit||"A26"===this.avenant?.code){"A22"===this.avenant?.code&&"45L"==this.codeProduit&&(this.formApplicationAvenant.get("attestation")?.clearValidators(),this.formApplicationAvenant.get("attestation")?.updateValueAndValidity(),console.log("formApplicationAvenant",this.formApplicationAvenant)),this.displayedColumnsRisque.push("refference"),this.displayedColumnsParamRisque.splice(this.displayedColumnsParamRisque.length-1,0,"refference");const W=new w.Oe(this.risquesInvolved.map(ie=>new w.cw({idRisque:new w.NI(ie.idRisque),idGroupe:new w.NI(ie.idGroupe),codeParam:new w.NI(ie.codeParam),description:new w.NI(ie.description),reference:new w.NI("")})));console.log("hello"),this.carteOrangeRisqueRefference=W}if(this.avenant.attributs.forEach(W=>{let ie;ie="A13"!=this.avenant.code&&"A18"!=this.avenant.code||"dateEffet"!=W.idAtrribut.nomBdd||new Date>new Date(new Date(this.contrat.dateExpiration).getTime()+864e5)?new Date:new Date(new Date(this.contrat.dateExpiration).getTime()+864e5),this.formApplicationAvenant.addControl(W.idAtrribut.nomBdd,new w.NI("date"==W?.idAtrribut?.type?.description?{value:ie,disabled:W.idAtrribut.figee}:{value:"",disabled:W.idAtrribut.figee})),("A13"==this.avenant.code||"A18"==this.avenant.code)&&"dateEffet"==W.idAtrribut.nomBdd&&this.getDateExpiration(this.contrat?.duree?.id_duree)}),this.avenant.attributs.reverse(),!this.multiRisqueProduct||"A22"===this.avenant.code&&this.avenant.multirisque)this.contratService.getParamContratByIdRisque(this.contrat.idContrat,this.contrat.groupeList[0].idGroupe,this.contrat.groupeList[0].risques[0].idRisque).subscribe({next:W=>{let ie;this.oneRisqueInfo=W,this.avenant.paramRisque.forEach(ve=>{ie=W.find(Re=>Re?.codeRisque==ve?.paramRisque?.codeParam),"Liste of values"==ie?.typeChamp?(this.formParamRisque.addControl(ve?.paramRisque?.codeParam,new w.NI({value:ie?.reponse?.idParamReponse.idParam,disabled:ve.grise},[w.kI.required])),this.getRelation(ve?.paramRisque?.typeChamp,ve.paramRisque.isParent,ve.paramRisque.idParamRisque,ie?.reponse?.idParamReponse?.idParam)):("From Table"==ie?.typeChamp&&null==ve.paramRisque.paramRisqueParent&&this.paramRisqueService.getTableParamParent(ve.paramRisque.idParamRisque).subscribe({next:Re=>{ve.paramRisque.reponses="P279"==ve.paramRisque.codeParam?Re.filter(Oe=>1==Oe.is_professionnel):Re},error:Re=>{console.log(Re)}}),console.log("valpara",ve),"P25"==ie?.codeRisque?(this.getModeleByMarque(ie?.reponse?.idParamReponse.idParam),this.formParamRisque.addControl(ve?.paramRisque?.codeParam,new w.NI({value:""+ie?.reponse?.idParamReponse.idParam,disabled:ve.grise},[w.kI.required]))):this.formParamRisque.addControl(ve?.paramRisque?.codeParam,"P26"==ie?.codeRisque?new w.NI({value:""+ie?.reponse?.idParamReponse.idParam,disabled:ve.grise},[w.kI.required]):new w.NI({value:ie?.reponse.valeur,disabled:ve.grise},"96"==this.codeProduit&&"A07"==this.avenant?.code?[w.kI.required,w.kI.min(ie?.reponse.valeur)]:[w.kI.required]))),this.paraRisqueType.map(Re=>{this.formParamRisque.get(Re.codeParam)&&(Re.valeurMin&&this.formParamRisque.get(Re.codeParam)?.addValidators([w.kI.min(Re?.valeurMin)]),Re.valeurMax&&this.formParamRisque.get(Re.codeParam)?.addValidators([w.kI.max(Re?.valeurMax)]),0!=Re.sizeChamp&&null!=Re.sizeChamp?this.formParamRisque.get(Re.codeParam)?.addValidators([w.kI.minLength(Re.sizeChamp),w.kI.maxLength(Re.sizeChamp)]):Re.obligatoire&&this.formParamRisque.get(Re.codeParam)?.addValidators([w.kI.required]))})}),this.formRisqueReady=!0},error:W=>{console.log(W)}});else{let W;this.avenant.paramRisque.forEach(ie=>{"Liste of values"==ie?.paramRisque?.typeChamp?.description?this.formParamRisque.addControl(ie?.paramRisque?.codeParam,new w.NI({value:W?.idParamReponse?.idParam,disabled:ie.grise},[w.kI.required])):("From Table"==ie?.paramRisque?.typeChamp?.description&&null==ie.paramRisque.paramRisqueParent&&this.paramRisqueService.getTableParamParent(ie.paramRisque.idParamRisque).subscribe({next:ve=>{ie.paramRisque.reponses="P279"==ie.paramRisque.codeParam?ve.filter(Re=>1==Re.is_professionnel):ve},error:ve=>{console.log(ve)}}),"P25"==W?.paramRisque?.codeParam?(this.getModeleByMarque(W?.idParamReponse?.idParam),this.formParamRisque.addControl(ie?.paramRisque?.codeParam,new w.NI({value:""+W?.idParamReponse?.idParam,disabled:ie.grise},[w.kI.required]))):this.formParamRisque.addControl(ie?.paramRisque?.codeParam,new w.NI("P26"==W?.paramRisque?.codeParam?{value:""+W?.idParamReponse?.idParam,disabled:ie.grise}:{value:W?.valeur,disabled:ie.grise},[w.kI.required])))}),this.formParamRisque.addControl("groupe",new w.NI("",[])),this.formParamRisque.addControl("newGroupe",new w.NI("",[])),this.formRisqueReady=!0}this.paraRisqueProduitCategory=this.avenant.paramRisque.reduce((W,ie)=>((W[ie.paramRisque.categorieParamRisque.description]=W[ie.paramRisque.categorieParamRisque.description]||[]).push(ie),W),{}),this.paraRisqueProduitCategory=Object.values(this.paraRisqueProduitCategory),this.paraRisqueProduitCategory.map(W=>{W.sort((ie,ve)=>ie.paramRisque.orderChamp<ve.paramRisque.orderChamp?-1:1)}),this.initForm(),this.multiRisqueProduct||(console.log("this.getPack ",this.contrat?.groupeList),this.getPack(this.contrat?.groupeList[0]?.pack?.idPack0,!0,!1,!0)),this.risquesInvolved.length>1&&(this.groupesInvolved=this.risquesInvolved.reduce((W,ie)=>(W[ie.idGroupe]||(W[ie.idGroupe]=[]),W[ie.idGroupe].push(ie),W),{}));let M=[];if(this.risquesInvolved.length>1&&this.multiRisqueAvenant){let W=[];Object.keys(this.groupesInvolved).map(ve=>{this.contrat.groupeList.map(Re=>{ve==Re.idGroupe&&(W.push({idGroupe:Re.idGroupe,descriptionGroupe:Re.description,pack:Re.pack.idPack0,newGroupe:1}),this.groupesInvolved[ve].pack=Re.pack.idPack0)})}),this.dataSourceGroupePack=new Le.by(W),Object.keys(this.groupesInvolved).map(ve=>{this.groupesInvolved[ve].map(Re=>{M.push({risque:{idRisque:Re.idRisque}})}),this.risqueGroupe.push({idGroupe:ve,description:"",idPack:this.groupesInvolved[ve].pack,groupeList:M}),M=[]})}else if(1==this.risquesInvolved.length){let W=0,ie=[];this.contrat.groupeList.map(ve=>{this.risquesInvolved[0].idGroupe==ve.idGroupe&&(ie.push({idGroupe:ve.idGroupe,descriptionGroupe:ve.description,pack:ve.pack.idPack0,newGroupe:1}),W=ve.pack.idPack0)}),this.dataSourceGroupePack=new Le.by(ie),M.push({risque:{idRisque:this.risquesInvolved[0].idRisque}}),this.risqueGroupe.push({idGroupe:this.risquesInvolved[0].idGroupe,description:"",idPack:W,groupeList:M})}},error:u=>{console.log(u)}})}getReferenceControl(u){const M=this.carteOrangeRisqueRefference?.at(u).get("reference");return M instanceof w.NI?(M.setValidators([w.kI.required,...M.validator?[M.validator]:[]]),M.updateValueAndValidity(),"A22"===this.avenant?.code&&"45L"==this.codeProduit&&M.setValidators([w.kI.required,w.kI.pattern("[a-zA-Z0-9/]*")]),M):new w.NI("",w.kI.required)}initForm(){this.contrat?.personnesList?.forEach(u=>{switch(u.personne?.contactList?.forEach(M=>{"CNT1"==M?.typeContact?.code&&M?.description?.startsWith("0")&&(M.description=M.description.substring(1))}),u?.role?.code){case"CP233":this.conducteur=u?.personne,this.getCommune(this.conducteur?.adressesList?.[0]?.wilaya?.idWilaya,"Conducteur");break;case"CP234":this.souscripteur=u?.personne,this.getCommune(this.souscripteur?.adressesList?.[0]?.wilaya?.idWilaya,"Souscripteur");break;case"CP235":this.assure=u?.personne,this.getCommune(this.assure?.adressesList?.[0]?.wilaya?.idWilaya,"Assure");break;case"CP236":this.souscripteur=u?.personne,this.assure=u?.personne,this.isAssure=!0,this.getCommune(this.souscripteur?.adressesList?.[0]?.wilaya?.idWilaya,"Souscripteur"),this.getCommune(this.assure?.adressesList?.[0]?.wilaya?.idWilaya,"Assure");break;case"CP237":this.souscripteur=u?.personne,this.conducteur=u?.personne,this.isConducteur=!0,this.getCommune(this.conducteur?.adressesList?.[0]?.wilaya?.idWilaya,"Conducteur"),this.getCommune(this.souscripteur?.adressesList?.[0]?.wilaya?.idWilaya,"Souscripteur");break;case"CP240":this.assure=u?.personne,this.conducteur=u?.personne,this.isConducteurAssure=!0,this.getCommune(this.conducteur?.adressesList?.[0]?.wilaya?.idWilaya,"Conducteur"),this.getCommune(this.assure?.adressesList?.[0]?.wilaya?.idWilaya,"Assure");break;case"CP238":this.souscripteur=u?.personne,this.assure=u?.personne,this.conducteur=u?.personne,this.isAssure=!0,this.isConducteurAssure=!0,this.getCommune(this.conducteur?.adressesList?.[0]?.wilaya?.idWilaya,"Conducteur"),this.getCommune(this.souscripteur?.adressesList?.[0]?.wilaya?.idWilaya,"Souscripteur"),this.getCommune(this.assure?.adressesList?.[0]?.wilaya?.idWilaya,"Assure")}}),this.formCreationSouscripteur=this.formBuilder.group({codeClient:[""==this.souscripteur?.idClient?null:this.souscripteur?.idClient],nom:[this.souscripteur?.nom,[w.kI.required,w.kI.pattern($e.e.nom),w.kI.maxLength(40)]],prenom:[this.souscripteur?.prenom1,[w.kI.required,w.kI.pattern($e.e.nom),w.kI.maxLength(40)]],dateNaissance:[this.souscripteur?.dateNaissance,[w.kI.required,va]],nin:[{value:this.souscripteur?.nin,disabled:!1},[w.kI.pattern($e.e.NIN)]],telephone:[{value:this.souscripteur?.contactList?.find(u=>"CNT1"==u?.typeContact?.code)?.description,disabled:!1},[w.kI.required,w.kI.pattern($e.e.mobile)]],email:[{value:this.souscripteur?.contactList?.find(u=>"CNT2"==u?.typeContact?.code)?.description,disabled:!1},[w.kI.pattern($e.e.email)]],adresse:[{value:0!=this.souscripteur?.adressesList?.length?this.souscripteur?.adressesList?.[0]?.description:"",disabled:!1},[w.kI.required,w.kI.maxLength(60)]],wilaya:[{value:0!=this.souscripteur?.adressesList?.length?this.souscripteur?.adressesList?.[0]?.wilaya?.idWilaya:"",disabled:"A17"==this.avenant.code},[w.kI.required]],commune:[{value:0!=this.souscripteur?.adressesList?.length?this.souscripteur?.adressesList?.[0]?.commune?.idCommune:"",disabled:"A17"==this.avenant.code},[w.kI.required]],genre:[{value:this.souscripteur?.sexe?.idParam,disabled:"A17"==this.avenant.code},[w.kI.required]],situation:[{value:this.souscripteur?.situationFamiliale?.idParam,disabled:!1}],profession:[{value:0!=this.souscripteur?.professionSecteurList?.length&&this.souscripteur?.professionSecteurList?this.souscripteur?.professionSecteurList[0]?.profession?.idProfession:"",disabled:!1}]}),"personne physique"==this.typeClient&&this.formCreationSouscripteur.disable(),this.formCreationAssure=this.formBuilder.group("A17"==this.avenant.code?{codeClient:[""==this.assure?.idClient?null:this.assure?.idClient],raisonSocial:[{value:this.assure?.raisonSocial,disabled:!0},"personne physique"==this.typeClient?[]:[w.kI.required]],nom:[{value:this.assure?.nom,disabled:!0},"personne physique"==this.typeClient?[w.kI.required,w.kI.pattern($e.e.nom),w.kI.maxLength(40)]:[]],prenom:[{value:this.assure?.prenom1,disabled:!0},"personne physique"==this.typeClient?[w.kI.required,w.kI.pattern($e.e.nom),w.kI.maxLength(40)]:[]],dateOuverture:[{value:this.assure?.dateOuverture,disabled:!0}],dateNaissance:[{value:this.assure?.dateNaissance,disabled:!0},[w.kI.required,va]],nin:[{value:this.assure?.nin,disabled:!0},[w.kI.pattern($e.e.NIN)]],nif:[{value:this.assure?.nif,disabled:!0},"personne physique"==this.typeClient?[w.kI.pattern($e.e.NIF)]:[w.kI.required,w.kI.pattern($e.e.NIF)]],telephone:[{value:this.assure?.contactList?.find(u=>"CNT1"==u?.typeContact?.code)?.description,disabled:!0},[w.kI.required,w.kI.pattern($e.e.mobile)]],email:[{value:this.assure?.contactList?.find(u=>"CNT2"==u?.typeContact?.code)?.description,disabled:!0},[w.kI.pattern($e.e.email)]],adresse:[{value:0!=this.assure?.adressesList?.length?this.assure?.adressesList?.[0]?.description:"",disabled:!0},[w.kI.required,w.kI.maxLength(60)]],wilaya:[{value:0!=this.assure?.adressesList?.length?this.assure?.adressesList?.[0]?.wilaya?.idWilaya:"",disabled:!0},[w.kI.required]],commune:[{value:0!=this.assure?.adressesList?.length?this.assure?.adressesList?.[0]?.commune?.idCommune:"",disabled:!0},[w.kI.required]],genre:[{value:this.assure?.sexe?.idParam,disabled:!0},[w.kI.required]],situation:[{value:this.assure?.situationFamiliale?.idParam,disabled:!0}],rib:[{value:0!=this.assure?.adressesList?.length?this.assure?.payment[0]?.donneBancaire?.description:"",disabled:!0},[w.kI.pattern($e.e.RIB)]]}:{codeClient:[""==this.assure?.idClient?null:this.assure?.idClient],typeClient:[this.contrat?.typeClient.idParam],raisonSocial:[{value:this.assure?.raisonSocial,disabled:!0},"personne physique"==this.typeClient?[]:[w.kI.required]],nom:[{value:this.assure?.nom,disabled:"A21"!=this.avenant.code},"personne physique"==this.typeClient?[w.kI.required,w.kI.pattern($e.e.nom),w.kI.maxLength(40)]:[]],prenom:[{value:this.assure?.prenom1,disabled:"A21"!=this.avenant.code},"personne physique"==this.typeClient?[w.kI.required,w.kI.pattern($e.e.nom),w.kI.maxLength(40)]:[]],dateOuverture:[{value:this.assure?.dateOuverture,disabled:"A21"!=this.avenant.code}],dateNaissance:[{value:this.assure?.dateNaissance,disabled:"A21"!=this.avenant.code},[w.kI.required,va]],nin:[{value:this.assure?.nin,disabled:"A21"!=this.avenant.code},[w.kI.pattern($e.e.NIN)]],nif:[{value:this.assure?.nif,disabled:"A21"!=this.avenant.code},"personne physique"==this.typeClient?[w.kI.pattern($e.e.NIF)]:[w.kI.required,w.kI.pattern($e.e.NIF)]],telephone:[{value:this.assure?.contactList?.find(u=>"CNT1"==u?.typeContact?.code)?.description,disabled:!1},[w.kI.required,w.kI.pattern($e.e.mobile)]],email:[{value:this.assure?.contactList?.find(u=>"CNT2"==u?.typeContact?.code)?.description,disabled:!1},[w.kI.pattern($e.e.email)]],adresse:[{value:0!=this.assure?.adressesList?.length?this.assure?.adressesList?.[0]?.description:"",disabled:!1},[w.kI.required,w.kI.maxLength(60)]],wilaya:[{value:0!=this.assure?.adressesList?.length?this.assure?.adressesList?.[0]?.wilaya?.idWilaya:"",disabled:!1},[w.kI.required]],commune:[{value:0!=this.assure?.adressesList?.length?this.assure?.adressesList?.[0]?.commune?.idCommune:"",disabled:!1},[w.kI.required]],genre:[{value:this.assure?.sexe?.idParam,disabled:"A21"!=this.avenant.code},[w.kI.required]],situation:[{value:this.assure?.situationFamiliale?.idParam,disabled:!1}],rib:[{value:0!=this.assure?.adressesList?.length?this.assure?.payment[0]?.donneBancaire?.description:"",disabled:!1},[w.kI.pattern($e.e.RIB)]]}),"personne physique"==this.typeClient&&this.formCreationAssure.addControl("profession",new w.NI({value:0!=this.assure?.professionSecteurList?.length?this.assure?.professionSecteurList[0].profession?.idProfession:"",disabled:"A17"==this.avenant.code})),"45A"==this.codeProduit&&(this.formCreationConducteur=this.formBuilder.group({codeClient:[""==this.conducteur?.idClient?null:{value:this.conducteur?.idClient,disabled:!0}],nom:[{value:this.conducteur?.nom,disabled:"A21"!=this.avenant.code&&"A17"!=this.avenant.code},[w.kI.required,w.kI.pattern($e.e.nom),w.kI.maxLength(40)]],prenom:[{value:this.conducteur?.prenom1,disabled:"A21"!=this.avenant.code&&"A17"!=this.avenant.code},[w.kI.required,w.kI.pattern($e.e.nom),w.kI.maxLength(40)]],dateNaissance:[{value:this.conducteur?.dateNaissance,disabled:"A21"!=this.avenant.code},[w.kI.required,va]],telephone:[{value:this.conducteur?.contactList?.find(u=>"CNT1"==u?.typeContact?.code)?.description,disabled:!1},[w.kI.required,w.kI.pattern($e.e.mobile)]],email:[{value:this.conducteur?.contactList?.find(u=>"CNT2"==u?.typeContact?.code)?.description,disabled:!1},[w.kI.pattern($e.e.email)]],adresse:[{value:0!=this.conducteur?.adressesList?.length?this.conducteur?.adressesList[0]?.description:"",disabled:!1},[w.kI.required,w.kI.maxLength(60)]],wilaya:[{value:0!=this.conducteur?.adressesList?.length?this.conducteur?.adressesList?.[0]?.wilaya?.idWilaya:"",disabled:"A17"==this.avenant.code},[w.kI.required]],commune:[{value:0!=this.conducteur?.adressesList?.length?this.conducteur?.adressesList?.[0]?.commune?.idCommune:"",disabled:"A17"==this.avenant.code},[w.kI.required]],situation:[{value:this.conducteur?.situationFamiliale?.idParam,disabled:!1}],profession:[{value:this.conducteur?.professionSecteurList&&0!=this.conducteur?.professionSecteurList?.length?this.conducteur?.professionSecteurList[0]?.profession?.idProfession:"",disabled:!1}],numeroPermis:[{value:this.conducteur?.documentList.filter(u=>"D02"==u?.typeDocument?.code)[0==this.conducteur?.documentList?.length?this.conducteur?.documentList?.length:this.conducteur?.documentList?.length-1]?.description,disabled:"A21"!=this.avenant.code},[w.kI.required]],categoriePermis:[{value:this.conducteur?.documentList.filter(u=>"D02"==u?.typeDocument?.code)[0==this.conducteur?.documentList?.length?this.conducteur?.documentList?.length:this.conducteur?.documentList?.length-1]?.sousCategorie,disabled:!1},[w.kI.required]]}))}onChangeValueFormAssure(u,M){this.isAssure&&this.formCreationSouscripteur.get(u).setValue(M)}recherchePersonne(u){let M;switch(u){case"souscripteur":this.formCreationSouscripteur.get("nom")?.markAsPristine(),this.formCreationSouscripteur.get("prenom")?.markAsPristine(),this.formCreationSouscripteur.get("dateNaissance")?.markAsPristine(),"A17"!==this.avenant.code&&this.formCreationSouscripteur.get("codeClient").setValue(null),this.formCreationSouscripteur.get("dateNaissance").setValue(vt.utc(this.formCreationSouscripteur.get("dateNaissance").value).add(1,"hour").toISOString()),M=this.formCreationSouscripteur.value;break;case"assure":this.formCreationAssure.get("nom")?.markAsPristine(),this.formCreationAssure.get("prenom")?.markAsPristine(),this.formCreationAssure.get("dateNaissance")?.markAsPristine(),"A17"!==this.avenant.code&&this.formCreationAssure.get("codeClient").setValue(null),"personne physique"==this.typeClient&&(this.formCreationAssure.value.dateNaissance=vt.utc(this.formCreationAssure.value.dateNaissance).add(1,"hour").toISOString()),("A17"==this.avenant.code||"A21"===this.avenant.code)&&("personne physique"==this.typeClient?(this.formCreationAssure.value.nom=this.formCreationAssure.get("nom")?.disabled?this.assure?.nom:this.formCreationAssure.value.nom,this.formCreationAssure.value.prenom=this.formCreationAssure.get("prenom")?.disabled?this.assure?.prenom1:this.formCreationAssure.value.prenom,this.formCreationAssure.value.dateNaissance=this.formCreationAssure.get("dateNaissance")?.disabled?this.assure?.dateNaissance:this.formCreationAssure.value.dateNaissance):this.formCreationAssure.value.raisonSocial=this.formCreationAssure.value.raisonSocial??this.assure?.raisonSocial),this.formCreationAssure.enable(),M=this.formCreationAssure.value;break;case"Conducteur":this.formCreationConducteur.get("nom")?.markAsPristine(),this.formCreationConducteur.get("prenom")?.markAsPristine(),this.formCreationConducteur.get("dateNaissance")?.markAsPristine(),"A17"!==this.avenant.code&&this.formCreationConducteur.get("codeClient").setValue(null),console.log("date nais before",this.formCreationConducteur.get("dateNaissance")),this.formCreationConducteur.get("dateNaissance").setValue(vt.utc(this.formCreationConducteur.get("dateNaissance").value).add(1,"hour").toISOString()),console.log("date nais",this.formCreationConducteur.get("dateNaissance")),M=this.formCreationConducteur.value}this.personneService.filterPersonne(M).subscribe(W=>{if(0==W.length)switch(ut().fire("Cette personne n'existe pas","","info"),u){case"souscripteur":"A17"!==this.avenant.code&&this.formCreationSouscripteur.get("codeClient")?.setValue(null),this.isAssure||this.formCreationSouscripteur.enable();break;case"assure":"A17"!==this.avenant.code&&this.formCreationAssure.get("codeClient")?.setValue(null),console.log("after",this.formCreationAssure,this.formCreationSouscripteur),this.formCreationAssure.enable(),"A17"==this.avenant.code&&this.formCreationAssure.get("dateNaissance").disable();break;case"Conducteur":"A17"!==this.avenant.code&&this.formCreationConducteur.get("codeClient")?.setValue(null),this.formCreationConducteur.enable(),this.avenant.paramRisque.map(ie=>{"Conducteur"==ie.category&&this.formParamRisque.get(ie.paramRisque?.codeParam)?.enable()})}else this.dialog.open(bn.I,{width:"60%",disableClose:!0,data:{personneList:W}}).afterClosed().subscribe(ve=>{switch(this.personne=ve,"A13"!==this.avenant.code&&this.formCreationAssure.enable(),u){case"assure":this.personne.idClient===this.formCreationConducteur?.controls?.codeClient?.value&&(this.isConducteurAssure=!0),this.personne.idClient===this.formCreationSouscripteur?.controls?.codeClient?.value&&(this.isAssure=!0,this.isConducteur&&(this.isConducteurAssure=!0,this.isConducteur=!1));break;case"souscripteur":console.log("condu",this.personne.idClient,this.formCreationConducteur),this.personne.idClient===this.formCreationAssure?.controls?.codeClient?.value&&(this.isAssure=!0),this.personne.idClient===this.formCreationConducteur?.controls?.codeClient?.value&&(this.isConducteur=!0);break;case"conducteur":this.personne.idClient===this.formCreationAssure?.controls?.codeClient?.value&&(this.isConducteurAssure=!0),this.personne.idClient===this.formCreationSouscripteur?.controls?.codeClient?.value&&(this.isConducteur=!0)}this.initFormPersonne(u)})}),"A13"===this.avenant.code&&(this.formCreationAssure?.get("nif")?.disable(),this.formCreationAssure?.get("raisonSocial")?.disable(),this.formCreationAssure?.get("nom")?.disable(),this.formCreationAssure?.get("prenom")?.disable(),this.formCreationAssure?.get("dateNaissance")?.disable(),this.formCreationAssure?.get("nin")?.disable(),this.formCreationAssure?.get("genre")?.disable(),this.formCreationAssure.updateValueAndValidity())}onInput(u,M){"95"==this.codeProduit&&"P128"==M&&(console.log("paraRisqueProduitCategory"),console.log(this.paraRisqueProduitCategory[0]),this.paraRisqueProduitCategory[0].filter(W=>{"P198"==W.paramRisque?.codeParam&&(this.formParamRisque.controls[W.paramRisque?.codeParam].setValue(u*this.calculCapitaleMRP),this.isFieldReadOnly=!0)}))}initFormPersonne(u){switch(this.formCreation=this.formBuilder.group({codeClient:[""==this.personne?.idClient?null:this.personne?.idClient,[w.kI.maxLength(40)]],raisonSocial:[""==this.personne?.raisonSocial?null:this.personne?.raisonSocial],nom:[{value:""==this.personne?.nom?null:this.personne?.nom,disabled:"A21"!=this.avenant.code&&"A17"!=this.avenant.code&&"A13"!=this.avenant.code},[w.kI.pattern($e.e.nom),w.kI.maxLength(40)]],prenom:[{value:""==this.personne?.prenom1?null:this.personne?.prenom1,disabled:"A21"!=this.avenant.code&&"A17"!=this.avenant.code&&"A13"!=this.avenant.code},[w.kI.pattern($e.e.nom),w.kI.maxLength(40)]],dateNaissance:[""==this.personne?.dateNaissance?null:this.personne?.dateNaissance],nin:[""==this.personne?.nin?null:this.personne?.nin],idTelephone:[null],telephone:[null,[w.kI.required,w.kI.pattern($e.e.mobile)]],idEmail:[null],email:[null,[w.kI.pattern($e.e.email)]],idAdresse:[this.personne?.adressesList[0]?this.personne?.adressesList?.[0]?.idAdresse:0],adresse:[this.personne?.adressesList[0]?this.personne?.adressesList?.[0]?.description:"",[w.kI.required,w.kI.maxLength(60)]],wilaya:[{value:this.personne?.adressesList[0]?this.personne?.adressesList?.[0].wilaya?.idWilaya:"",disabled:"A17"==this.avenant.code},[w.kI.required]],commune:[{value:this.personne?.adressesList[0]?this.personne?.adressesList?.[0].commune?.idCommune:"",disabled:"A17"==this.avenant.code},[w.kI.required]],genre:[{value:this.personne?.sexe?.idParam,disabled:"A17"==this.avenant.code}],situation:[this.personne?.situationFamiliale?.idParam],rib:["",[w.kI.pattern($e.e.RIB)]]}),console.log("personne",this.personne),this.personne?.contactList?.forEach(M=>{switch(M.typeContact?.description){case"mobile":this.formCreation.get("idTelephone").value=M.idContact,this.formCreation.get("telephone").value=M.description;break;case"email":this.formCreation.get("idEmail").value=M.idContact,this.formCreation.get("email").value=M.description}}),u){case"souscripteur":this.getCommune(this.formCreation.value.wilaya,"Souscripteur"),this.formCreation.get("dateNaissance").setValue(vt.utc(this.formCreation.get("dateNaissance").value).add(1,"hour").toISOString()),this.formCreationSouscripteur=this.formCreation,this.formCreationSouscripteur.get("dateNaissance")?.setValidators([w.kI.required]),this.formCreationSouscripteur.get("genre")?.setValidators([w.kI.required]),this.formCreationSouscripteur.addControl("nif",new w.NI(this.personne?.nif,w.kI.pattern($e.e.NIF))),this.formCreationSouscripteur.addControl("idProfession",new w.NI(this.personne?.professionSecteurList[0]?this.personne?.professionSecteurList[0].id:"")),this.formCreationSouscripteur.addControl("profession",new w.NI(this.personne?.professionSecteurList[0]?this.personne?.professionSecteurList[0].profession?.idProfession:"")),this.formCreationSouscripteur.get("dateNaissance").updateValueAndValidity(),this.formCreationSouscripteur.get("genre").updateValueAndValidity();break;case"assure":this.getCommune(this.formCreation.value.wilaya,"Assure"),"personne physique"==this.typeClient&&(this.formCreation.get("dateNaissance").setValue(vt.utc(this.formCreation.get("dateNaissance").value).add(1,"hour").toISOString()),"A17"===this.avenant.code&&this.formCreation.get("dateNaissance").disable()),console.log("this.personne  iniiiiiiiiiiit"),console.log(this.personne),this.formCreationAssure=this.formCreation,this.formCreationAssure.addControl("nif",new w.NI(this.personne?.nif,w.kI.pattern($e.e.NIF))),"A13"===this.avenant.code&&(this.formCreationAssure?.get("nif")?.disable(),this.formCreationAssure?.get("raisonSocial")?.disable(),this.formCreationAssure?.get("nom")?.disable(),this.formCreationAssure?.get("prenom")?.disable(),this.formCreationAssure?.get("dateNaissance")?.disable(),this.formCreationAssure?.get("nin")?.disable(),this.formCreationAssure?.get("genre")?.disable(),this.formCreationAssure.updateValueAndValidity()),this.formCreationAssure.addControl("codeClient",new w.NI(this.personne?.idClient)),"personne physique"==this.typeClient&&(this.formCreationAssure.addControl("idProfession",new w.NI(this.personne?.professionSecteurList[0]?this.personne?.professionSecteurList[0].id:"")),this.formCreationAssure.addControl("profession",new w.NI(this.personne?.professionSecteurList[0]?this.personne?.professionSecteurList[0].profession?.idProfession:"")),this.formCreationAssure.get("dateNaissance")?.setValidators([w.kI.required]),this.formCreationAssure.get("dateNaissance").updateValueAndValidity(),this.formCreationAssure.get("genre")?.setValidators([w.kI.required]),this.formCreationAssure.get("genre").updateValueAndValidity());break;case"Conducteur":this.getCommune(this.formCreation.value.wilaya,"Conducteur"),this.formCreation.get("dateNaissance").setValue(vt.utc(this.formCreation.get("dateNaissance").value).add(1,"hour").toISOString()),this.formCreationConducteur=this.formCreation,this.formCreationConducteur.addControl("idProfession",new w.NI(this.personne?.professionSecteurList[0]?{value:this.personne?.professionSecteurList[0].id,disabled:!1}:{value:"",disabled:!1})),this.formCreationConducteur.addControl("profession",new w.NI(this.personne?.professionSecteurList[0]?{value:this.personne?.professionSecteurList[0].profession?.idProfession,disabled:!1}:{value:"",disabled:!1})),this.formCreationConducteur.addControl("numeroPermis",new w.NI({value:"",disabled:"A21"!=this.avenant.code},[w.kI.required])),this.formCreationConducteur.addControl("categoriePermis",new w.NI({value:"",disabled:!1},[w.kI.required])),this.avenant.paramRisque.map(M=>{if("Conducteur"==M.paramRisque.categorieParamRisque.description){let W=this.contrat?.risqueList?.find(ie=>ie.libelle==M.paramRisque.libelle&&ie.categorieParamRisque.description==M.paramRisque.categorieParamRisque.description);null!=W&&this.formParamRisque.get(M.paramRisque.codeParam)?.setValue({value:null!=W.reponse.valeur?W.reponse.valeur:W.reponse.idParamReponse?.idParam,disabled:!0})}}),this.formCreationConducteur.get("dateNaissance")?.setValidators([w.kI.required,va]),this.formCreationConducteur.get("dateNaissance").updateValueAndValidity(),"A17"===this.avenant.code&&this.formCreationConducteur.get("dateNaissance").disable()}}getRoles(){this.genericService.getParam(JSON.parse(sessionStorage.getItem("dictionnaire")||"{}").find(u=>"C33"==u.code).idCategorie).subscribe({next:u=>{this.roles=u},error:u=>{console.log(u)}})}objectDevis(u){this.devis.typeClient=this.formCreationAssure.get("typeClient")?.value,this.devis.typeClient=this.typeClients.find(ke=>ke.description===this.typeClient)?.idParam,this.devis.dateAssure="A21"==this.avenant?.code?this.formCreationAssure.get("dateNaissance")?.value:this.contrat?.dateAssure;let M=!1;if("A13"==this.avenant?.code||"A18"==this.avenant?.code||"A22"==this.avenant?.code)this.devis.idReduction=this.contrat.reduction?this.contrat.reduction:0,this.devis.dateAvenant=vt.utc(this.formApplicationAvenant.get("dateAvenant")?.value).add(1,"hour").toISOString(),this.devis.motif={},this.devis.motif.idMotif=this.formApplicationAvenant.value.motif.idMotif.idMotif,this.devis.motif.commentaire=this.formApplicationAvenant.value.commentaire,this.devis.idTypeAvenant=this.formApplicationAvenant.value.idTypeAvenant,this.devis.idContrat=this.formApplicationAvenant.value.idContrat,this.devis.produit=this.contrat?.produit?.idCodeProduit;else if(this.devis.idReduction=0,this.devis.produit=this.contrat?.produit?.idCodeProduit,console.log("this.contrat?.canal?.idParam ",this.contrat?.canal?.idParam),this.devis.canal=null!=this.contrat?.canal?this.contrat?.canal?.idParam:null,"personne physique"!=this.typeClient){let ke=this.contrat?.personnesList?.find(Qe=>"CP235"==Qe.role.code);this.devis.raisonSocial=ke?.personne?.raisonSocial,this.devis.prenom="",this.devis.nom="",this.devis.telephone=ke?.personne?.contactList?.find(Qe=>"CNT1"==Qe?.typeContact?.code)?.description,this.devis.email=ke?.personne?.contactList?.find(Qe=>"CNT2"==Qe?.typeContact?.code)?.description}else{let ke=this.contrat?.personnesList?.find(Qe=>"CP234"==Qe?.role?.code||"CP236"==Qe?.role?.code||"CP238"==Qe?.role?.code);this.devis.prenom=ke?.personne?.prenom1,this.devis.nom=ke?.personne?.nom,this.devis.raisonSocial="",this.devis.telephone=ke?.personne?.contactList?.find(Qe=>"CNT1"==Qe?.typeContact?.code)?.description,this.devis.email=ke?.personne?.contactList?.find(Qe=>"CNT2"==Qe?.typeContact?.code)?.description}this.devis.duree=null!=this.formApplicationAvenant.get("duree")?.value?this.formApplicationAvenant.get("duree")?.value:this.contrat?.duree?.id_duree,this.devis.agence=this.formApplicationAvenant.get("agence")?.value,this.devis.tailleRisque="A168"===this.avenant?.code&&"45F"!=this.codeProduit?this.taillersq:this.dataSourceRisque.data.length;let W=[];0!=this.avenant?.paramRisque?.length&&this.avenant.tarifaire&&2!=this.formStep?"A20"!=this.avenant.code&&"A27"!=this.avenant.code&&(this.avenant.paramRisque.forEach(ke=>{let Qe={};"Liste of values"==ke.paramRisque?.typeChamp?.description||"P56"==ke.paramRisque.codeParam||"P98"==ke.paramRisque.codeParam||"P25"==ke.paramRisque.codeParam||"P26"==ke.paramRisque.codeParam?Qe={idParam:ke.paramRisque.idParamRisque,reponse:{idReponse:this.formParamRisque.get(ke.paramRisque.codeParam)?.value,description:""}}:("54"==ke.paramRisque.idParamRisque&&console.log("le paramrisque",ke),Qe={idParam:ke.paramRisque.idParamRisque,reponse:{idReponse:"",description:this.formParamRisque.get(ke.paramRisque.codeParam)?.value}}),W.push(Qe)}),this.risqueGroupe[0].groupeList[0].risque.paramList=[],console.log("this.oneRisqueInfo ",this.oneRisqueInfo),this.oneRisqueInfo.map(ke=>{let Qe={};Qe.idParam=ke?.idParamRisque,Qe.reponse={idReponse:null,description:""},"Liste of values"==ke?.typeChamp||"P25"==ke.codeRisque||"P26"==ke.codeRisque?Qe.reponse.idReponse=null!=this.formParamRisque.get(ke.codeRisque)?.value?this.formParamRisque.get(ke.codeRisque)?.value:ke?.reponse.idParamReponse?.idParam:Qe.reponse.description="P55"==ke.codeRisque?vt.utc(this.formCreationConducteur?.controls.dateNaissance?.value).add(1,"hour").toISOString():null!=this.formParamRisque.get(ke.codeRisque)?.value?this.formParamRisque.get(ke.codeRisque)?.value:ke?.reponse.valeur,this.risqueGroupe[0].groupeList[0].risque.paramList.push(Qe)}),console.log("this.risqueGroupe 2 ",this.risqueGroupe),this.devis.groupes=this.risqueGroupe,this.jsonAvenant.groupes=this.risqueGroupe):2==this.formStep&&(this.devis.tailleRisque=this.fileControle.length,this.generateTarif());let ie=!1,ve=[],Re=[],Oe=null;if(console.log("this.multiRisqueProduct ",!this.multiRisqueProduct),this.multiRisqueProduct){let ke=[],Qe=[];this.groupesPacks.forEach((Bt,Yt)=>{ve=[],Bt.pack.garantie.map(dn=>{dn.categorieList?.map(Ut=>{Oe=null,null!=dn.sousCategorieList?.length&&0!=dn.sousCategorieList?.length&&(Oe={idSousCategoriePackComplet:Ut.sousCategorieList[0].idParamSCPackComplet,valeur:Ut.sousCategorieList[0].valeur}),Re.push({idCategoriePackComplet:Ut.idParamPackComplet,valeur:Ut.valeur,sousCategorieList:Oe})}),ve.push({idPackComplet:dn.idPackComplet,prime:"",categorieList:Re,codeGarantie:dn.codeGarantie}),Re=[]}),console.log("this.risqueGroupe 222222220",this.risqueGroupe),console.log("gp 222222220",Bt),this.risqueGroupe.map((dn,Ut)=>{dn.idGroupe==Bt.group&&dn.groupeList.forEach(gn=>{this.devis.tailleRisque=this.devis.tailleRisque+1;let Fn=this.contrat.groupeList.find(ki=>ki.idGroupe==dn.idGroupe),Pi=gn.numRisque;Pi=gn.risque.hasOwnProperty("idRisque")?Fn?.risques.find(ki=>ki.idRisque==gn.risque.idRisque).idRisque:gn.numRisque,Qe.push({idRisque:Pi,packCompletOne:ve}),console.log("this.avenant?.paramRisque ",this.avenant?.paramRisque),0==this.avenant?.paramRisque?.length?ke.push(this.contratService.getParamContratByIdRisque(this.contrat.idContrat,dn.idGroupe,Pi).pipe((0,$i.U)(ki=>({idRisque:Pi,response:ki})))):(gn.risque.hasOwnProperty("idRisque")||(gn.risque.packCompletList=Qe.find(ki=>ki.idRisque==gn.numRisque).packCompletOne),gn.risque.idRisque==Pi&&(gn.risque.packCompletList=Qe.find(ki=>ki.idRisque==gn.risque.idRisque).packCompletOne,ve=[],gn.risque.primeList=[],gn.risque.taxeList=[],this.devis.packCompletOne=[],console.log("this.risqueGroupe 4",this.risqueGroupe),this.devis.groupes=this.risqueGroupe,this.jsonAvenant.groupes=this.risqueGroupe))}),Ut===this.risqueGroupe.length-1&&this.generateTarif()})}),(0,Kt.D)(ke).subscribe(Bt=>{Bt.map((Yt,dn)=>{if(0==this.avenant?.paramRisque?.length){let Ut=[];Yt.response.forEach(gn=>{let Fn={};Fn="Liste of values"==gn.typeChamp||"Boolean"==gn.typeChamp||"P56"==gn.codeRisque||"P25"==gn.codeRisque||"P26"==gn.codeRisque?{idParam:gn.idParamRisque,reponse:{idReponse:gn.reponse.idParamReponse.idParam,description:""}}:{idParam:gn.idParamRisque,reponse:{idReponse:null,description:gn.reponse.valeur}},Ut.push(Fn)}),this.risqueGroupe.map(gn=>{gn.groupeList.map(Fn=>{Fn.risque.idRisque==Yt.idRisque&&(Fn.risque.paramList=Ut,Fn.risque.packCompletList=Qe.find(Pi=>Pi.idRisque==Fn.risque.idRisque).packCompletOne,Fn.risque.taxeList=[],this.devis.packCompletOne=[],console.log("this.risqueGroupe 5 ",this.risqueGroupe),this.devis.groupes=this.risqueGroupe,this.jsonAvenant.groupes=this.risqueGroupe)})})}else this.risqueGroupe.map(Ut=>{Ut.groupeList.map(gn=>{0==Yt.idRisque&&gn.risque.hasOwnProperty("idRisque"),gn.risque.idRisque==Yt.idRisque&&(gn.risque.packCompletList=Qe.find(Fn=>Fn.idRisque==gn.risque.idRisque).packCompletOne,ve=[],gn.risque.primeList=[],gn.risque.taxeList=[],this.devis.packCompletOne=[],this.devis.groupes=this.risqueGroupe,this.jsonAvenant.groupes=this.risqueGroupe)})});dn===Bt.length-1&&this.generateTarif()})})}else this.garantieAll.map(ke=>{this.formPackGaranties.controls.map(Qe=>{if(ke.idPackComplet==Qe.value.idPackComplet){const Bt=this.dataSource.data.find(Yt=>Yt.idPackComplet==ke.idPackComplet);(Qe.controls.checked.value||("96"==this.route.snapshot.paramMap.get("codeProduit")||"95"==this.route.snapshot.paramMap.get("codeProduit"))&&u)&&(ie=!0,0!=Qe.controls.idformule.value.length&&(Qe.controls.idformule.value.length>1?(Oe=null,this.gestionErreurPack(Qe.value.idPackComplet,"formule",this.formPackGaranties),this.errorPackForm||(null!=Qe.controls.formule?.value?.sousCategorieList?.length&&0!=Qe.controls.formule?.value?.sousCategorieList?.length&&(Oe={idSousCategoriePackComplet:Qe.controls.formule.value.sousCategorieList[0]?.idParamSCPackComplet,valeur:Qe.controls.formule.value.valeur}),Re.push({idCategoriePackComplet:Qe.controls.idformule.value.find(Yt=>Yt.valeur==Qe.controls.formule.value)?.idParamPackComplet,valeur:Bt.formule.find(Yt=>Yt.idParamPackComplet==Qe.controls.idformule.value.find(dn=>dn.valeur==Qe.controls.formule.value)?.idParamPackComplet)?.valeur,sousCategorieList:Oe}))):null!=Qe.controls.formule.value?(Oe=null,null!=Qe.controls.idformule.value[0].sousCategorieList?.length&&0!=Qe.controls.idformule.value[0].sousCategorieList?.length&&(Oe={idSousCategoriePackComplet:Qe.controls.idformule.value[0].sousCategorieList[0]?.idParamSCPackComplet,valeur:Qe.controls.formule.value}),Re.push({idCategoriePackComplet:Qe.controls.idformule.value[0].idParamPackComplet,valeur:Qe.controls.formule.value,sousCategorieList:Oe})):("input"==Qe.controls.idformule.value[0].descriptionvVal&&(this.errorPackForm=!0),Oe=null,null!=Qe.controls.idformule.value[0].sousCategorieList?.length&&0!=Qe.idformule?.value[0].sousCategorieList?.length&&(Oe={idSousCategoriePackComplet:Qe.controls.idformule.value[0].sousCategorieList[0]?.idParamSCPackComplet,valeur:Qe.controls.idformule.value[0].valeur}),Re.push({idCategoriePackComplet:Qe.controls.idformule.value[0].idParamPackComplet,valeur:Qe.controls.idformule.value[0].valeur,sousCategorieList:Oe}))),0!=Qe.controls.idfranchise.value.length&&(Qe.controls.idfranchise.value.length>1?(Oe=null,null!=Qe.controls.franchise?.value?.sousCategorieList?.length&&0!=Qe.controls.franchise?.value?.sousCategorieList?.length&&(Oe={idSousCategoriePackComplet:Qe.controls.franchise.value.sousCategorieList[0]?.idParamSCPackComplet,valeur:Qe.controls.franchise.value.valeur}),Re.push({idCategoriePackComplet:Qe.controls.idfranchise.value.find(Yt=>Yt.valeur==Qe.controls.franchise.value)?.idParamPackComplet,valeur:Bt.franchise.find(Yt=>Yt.idParamPackComplet==Qe.controls.idfranchise.value.find(dn=>dn.valeur==Qe.controls.franchise.value)?.idParamPackComplet)?.valeur,sousCategorieList:Oe})):null!=Qe.controls.franchise.value?(Oe=null,null!=Qe.controls.idfranchise.value[0].sousCategorieList?.length&&0!=Qe.controls.idfranchise.value[0].sousCategorieList?.length&&(Oe={idSousCategoriePackComplet:Qe.controls.idfranchise.value[0].sousCategorieList[0]?.idParamSCPackComplet,valeur:Qe.controls.franchise.value}),Re.push({idCategoriePackComplet:Qe.controls.idfranchise.value[0].idParamPackComplet,valeur:Qe.controls.franchise.value,sousCategorieList:Oe})):("input"==Qe.controls.idfranchise.value[0].descriptionvVal&&(this.errorPackForm=!0),Oe=null,null!=Qe.controls.idfranchise.value[0].sousCategorieList?.length&&0!=Qe.controls.idfranchise.value[0].sousCategorieList?.length&&(Oe={idSousCategoriePackComplet:Qe.controls.idfranchise.value[0].sousCategorieList[0]?.idParamSCPackComplet,valeur:Qe.controls.idfranchise.value[0].valeur}),Re.push({idCategoriePackComplet:Qe.controls.idfranchise.value[0].idParamPackComplet,valeur:Qe.controls.idfranchise.value[0].valeur,sousCategorieList:Oe}))),0!=Qe.controls.idplafond.value.length&&(Qe.controls.idplafond.value.length>1?(Oe=null,null!=Qe.controls.plafond?.value?.sousCategorieList?.length&&0!=Qe.controls.plafond?.value?.sousCategorieList?.length&&(Oe={idSousCategoriePackComplet:Qe.controls.plafond.value.sousCategorieList[0]?.idParamSCPackComplet,valeur:Qe.controls.plafond.value.valeur}),Re.push({idCategoriePackComplet:Qe.controls.idplafond.value.find(Yt=>Yt.valeur==Qe.controls.plafond.value)?.idParamPackComplet,valeur:Bt.plafond.find(Yt=>Yt.idParamPackComplet==Qe.controls.idplafond.value.find(dn=>dn.valeur==Qe.controls.plafond.value)?.idParamPackComplet)?.valeur,sousCategorieList:Oe})):null!=Qe.controls.plafond.value?(Oe=null,null!=Qe.controls.idplafond.value[0].sousCategorieList?.length&&0!=Qe.controls.idplafond.value[0].sousCategorieList?.length&&(Oe={idSousCategoriePackComplet:Qe.controls.idplafond.value[0].sousCategorieList[0]?.idParamSCPackComplet,valeur:"0"!=Bt.plafond[0]?.valeur?Bt.plafond[0]?.valeur:Qe.controls.plafond.value}),Re.push({idCategoriePackComplet:Qe.controls.idplafond.value[0].idParamPackComplet,valeur:"0"!=Bt.plafond[0]?.valeur?Bt.plafond[0]?.valeur:Qe.controls.plafond.value,sousCategorieList:Oe})):("input"==Qe.controls.idplafond.value[0].descriptionvVal&&(this.errorPackForm=!0),Oe=null,null!=Qe.controls.idplafond.value[0].sousCategorieList?.length&&0!=Qe.controls.idplafond.value[0].sousCategorieList?.length&&(Oe={idSousCategoriePackComplet:Qe.controls.idplafond.value[0].sousCategorieList[0]?.idParamSCPackComplet,valeur:Qe.controls.idplafond.value[0].valeur}),Re.push({idCategoriePackComplet:Qe.controls.idplafond.value[0].idParamPackComplet,valeur:Qe.controls.idplafond.value[0].valeur,sousCategorieList:Oe}))),ie&&!this.errorPackForm&&(ve.push({idPackComplet:ke.idPackComplet,prime:"",primePrecedent:"NaN"!=Bt.primePre?Bt.primePre:null,categorieList:Re,codeGarantie:ke.codeGarantie}),Re=[]),ke.sousGarantieList.forEach(Yt=>{const dn=Bt.sousGarantieList.data.find(Ut=>Ut.idPackComplet==Yt.idPackComplet);Qe.get("souGarantieArray").controls.forEach(Ut=>{if(Yt.idPackComplet==Ut.value.idPackComplet&&(Ut.controls.checked.value||("96"==this.route.snapshot.paramMap.get("codeProduit")||"95"==this.route.snapshot.paramMap.get("codeProduit"))&&u)){M=!0,0!=Ut.controls.idformule.value.length&&(Ut.controls.idformule.value.length>1?(Oe=null,this.gestionErreurPack(Ut.value.idPackComplet,"formule",Qe.get("souGarantieArray")),this.errorPackForm||(null!=Ut.value.formule?.sousCategorieList?.length&&0!=Ut.value.formule?.sousCategorieList?.length&&(Oe={idSousCategoriePackComplet:Ut.value.formule.sousCategorieList[0]?.idParamSCPackComplet,valeur:Ut.value.formule.valeur}),Re.push({idCategoriePackComplet:Ut.controls.idformule.value.find(Fn=>Fn.valeur==Ut.controls.formule.value)?.idParamPackComplet,valeur:dn.formule.find(Fn=>Fn.idParamPackComplet==Ut.controls.idformule.value.find(Pi=>Pi.valeur==Ut.controls.formule.value)?.idParamPackComplet)?.valeur,sousCategorieList:Oe}))):null!=Ut.value.formule?(Oe=null,null!=Ut.controls.idformule.value[0].sousCategorieList?.length&&0!=Ut.controls.idformule.value[0].sousCategorieList?.length&&(Oe={idSousCategoriePackComplet:Ut.controls.idformule.value[0].sousCategorieList[0]?.idParamSCPackComplet,valeur:Ut.value.formule}),Re.push({idCategoriePackComplet:Ut.controls.idformule.value[0].idParamPackComplet,valeur:Ut.value.formule,sousCategorieList:Oe})):("input"==Ut.controls.idformule.value[0].descriptionvVal&&(this.errorPackForm=!0),Oe=null,null!=Qe.controls.idformule.value[0].sousCategorieList?.length&&0!=Ut.idformule?.value[0].sousCategorieList?.length&&(Ut={idSousCategoriePackComplet:Ut.controls.idformule.value[0].sousCategorieList[0]?.idParamSCPackComplet,valeur:Ut.controls.idformule.value[0].valeur}),Re.push({idCategoriePackComplet:Ut.controls.idformule.value[0].idParamPackComplet,valeur:Ut.controls.idformule.value[0].valeur,sousCategorieList:Oe}))),0!=Ut.controls.idfranchise.value.length&&(Ut.controls.idfranchise.value.length>1?(Oe=null,null!=Ut.value?.franchise?.sousCategorieList?.length&&0!=Qe.value?.franchise?.sousCategorieList?.length&&(Oe={idSousCategoriePackComplet:Ut.value.franchise.sousCategorieList[0]?.idParamSCPackComplet,valeur:Ut.value.franchise.valeur}),Re.push({idCategoriePackComplet:Ut.controls.idfranchise.value.find(Fn=>Fn.valeur==Ut.controls.franchise.value)?.idParamPackComplet,valeur:dn.franchise.find(Fn=>Fn.idParamPackComplet==Ut.controls.idfranchise.value.find(Pi=>Pi.valeur==Ut.controls.franchise.value)?.idParamPackComplet)?.valeur,sousCategorieList:Oe})):null!=Ut.value.franchise?(Oe=null,null!=Ut.controls.idfranchise.value[0].sousCategorieList?.length&&0!=Ut.controls.idfranchise.value[0].sousCategorieList?.length&&(Oe={idSousCategoriePackComplet:Ut.controls.idfranchise.value[0].sousCategorieList[0]?.idParamSCPackComplet,valeur:Ut.value.franchise}),Re.push({idCategoriePackComplet:Ut.controls.idfranchise.value[0].idParamPackComplet,valeur:Ut.value.franchise,sousCategorieList:Oe})):("input"==Ut.controls.idfranchise.value[0].descriptionvVal&&(this.errorPackForm=!0),Oe=null,null!=Ut.controls.idfranchise.value[0].sousCategorieList?.length&&0!=Ut.controls.idfranchise.value[0].sousCategorieList?.length&&(Oe={idSousCategoriePackComplet:Ut.controls.idfranchise.value[0].sousCategorieList[0]?.idParamSCPackComplet,valeur:Ut.controls.idfranchise.value[0].valeur}),Re.push({idCategoriePackComplet:Ut.controls.idfranchise.value[0].idParamPackComplet,valeur:Ut.controls.idfranchise.value[0].valeur,sousCategorieList:Oe}))),0!=Ut.controls.idplafond.value.length&&(Ut.controls.idplafond.value.length>1?(Oe=null,null!=Ut.value?.plafond?.sousCategorieList?.length&&0!=Ut.value?.plafond?.sousCategorieList?.length&&(Oe={idSousCategoriePackComplet:Ut.value.plafond.sousCategorieList[0]?.idParamSCPackComplet,valeur:Ut.value.plafond.valeur}),Re.push({idCategoriePackComplet:Ut.controls.idplafond.value.find(Fn=>Fn.valeur==Ut.controls.plafond.value)?.idParamPackComplet,valeur:dn.plafond.find(Fn=>Fn.idParamPackComplet==Ut.controls.idplafond.value.find(Pi=>Pi.valeur==Ut.controls.plafond.value)?.idParamPackComplet)?.valeur,sousCategorieList:Oe})):null!=Ut.value.plafond?(Oe=null,null!=Ut.controls.idplafond.value[0].sousCategorieList?.length&&0!=Ut.controls.idplafond.value[0].sousCategorieList?.length&&(Oe={idSousCategoriePackComplet:Ut.controls.idplafond.value[0].sousCategorieList[0]?.idParamSCPackComplet,valeur:"0"!=dn.plafond[0]?.valeur?dn.plafond[0]?.valeur:Ut.controls.plafond.value}),Re.push({idCategoriePackComplet:Ut.controls.idplafond.value[0].idParamPackComplet,valeur:"0"!=dn.plafond[0]?.valeur?dn.plafond[0]?.valeur:Ut.controls.plafond.value,sousCategorieList:Oe})):("input"==Ut.controls.idplafond.value[0].descriptionvVal&&(this.errorPackForm=!0),Oe=null,null!=Ut.controls.idplafond.value[0].sousCategorieList?.length&&0!=Ut.controls.idplafond.value[0].sousCategorieList?.length&&(Oe={idSousCategoriePackComplet:Ut.controls.idplafond.value[0].sousCategorieList[0]?.idParamSCPackComplet,valeur:Ut.controls.idplafond.value[0].valeur}),Re.push({idCategoriePackComplet:Ut.controls.idplafond.value[0].idParamPackComplet,valeur:Ut.controls.idplafond.value[0].valeur,sousCategorieList:Oe}))),Oe=null;let gn=ve.some(Fn=>Fn.idPackComplet===Yt.idPackComplet);M&&!this.errorPackForm&&!gn&&(ve.push({idPackComplet:Yt.idPackComplet,prime:"",categorieList:Re}),Re=[])}})}))}}),Re=[],ie=!1}),this.errorPackForm||(this.devis.packCompletList=ve),this.risqueGroupe[0].groupeList[0].risque.packCompletList=ve,this.risqueGroupe[0].groupeList[0].risque.primeList=[],this.risqueGroupe[0].groupeList[0].risque.taxeList=[],this.devis.groupes=this.risqueGroupe,this.jsonAvenant.groupes=this.risqueGroupe,0==this.avenant?.paramRisque?.length&&2!=this.formStep?(this.risqueGroupe[0].groupeList[0].risque.paramList=[],this.contratService.getParamContratByIdRisque(this.contrat.idContrat,this.contrat.groupeList[0].idGroupe,this.contrat.groupeList[0].risques[0].idRisque).subscribe({next:ke=>{let Qe=[];ke.forEach(Bt=>{let Yt={};Yt.idParam=Bt?.idParamRisque,Yt.reponse={idReponse:null,description:""},"Liste of values"==Bt?.typeChamp||"Boolean"==Bt?.typeChamp||"P25"==Bt.codeRisque||"P26"==Bt.codeRisque?Yt.reponse.idReponse=null!=this.formParamRisque.get(Bt.codeRisque)?.value?this.formParamRisque.get(Bt.codeRisque)?.value:Bt?.reponse.idParamReponse?.idParam:Yt.reponse.description="P55"==Bt.codeRisque?this.formCreationConducteur?.controls.dateNaissance?.value:null!=this.formParamRisque.get(Bt.codeRisque)?.value?this.formParamRisque.get(Bt.codeRisque)?.value:Bt?.reponse?.valeur,Qe.push(Yt)}),this.risqueGroupe[0].groupeList[0].risque.paramList=Qe,this.loaderTarif&&this.generateTarif()},error:ke=>{}})):this.loaderTarif&&this.generateTarif();("96"==this.route.snapshot.paramMap.get("codeProduit")||"95"==this.route.snapshot.paramMap.get("codeProduit"))&&u&&(this.remplissageTarif(),"95"==this.route.snapshot.paramMap.get("codeProduit")&&this.openDialogMRP()),"A22"===this.avenant.code&&this.avenant.multirisque&&(this.risqueGroupe.forEach(ke=>{ke.groupeList.forEach(Qe=>{const Yt=[{idPackComplet:this.contrat?.groupeList?.find(Ut=>Ut.idGroupe==ke.idGroupe)?.garantieList.find(Ut=>"G00"===Ut.codeGarantie).id}],dn=new Promise((Ut,gn)=>{this.contratService.getParamContratByIdRisque(this.contrat.idContrat,ke.idGroupe,Qe.risque.idRisque).subscribe({next:Fn=>{let Pi=[];Fn.forEach(ki=>{let ta={};ta.idParam=ki?.idParamRisque,ta.reponse={idReponse:null,description:""},"Liste of values"==ki?.typeChamp||"Boolean"==ki?.typeChamp||"P25"==ki.codeRisque||"P26"==ki.codeRisque?ta.reponse.idReponse=null!=this.formParamRisque.get(ki.codeRisque)?.value?this.formParamRisque.get(ki.codeRisque)?.value:ki?.reponse.idParamReponse?.idParam:ta.reponse.description="P55"==ki.codeRisque?this.formCreationConducteur?.controls.dateNaissance?.value:null!=this.formParamRisque.get(ki.codeRisque)?.value?this.formParamRisque.get(ki.codeRisque)?.value:ki?.reponse?.valeur,Pi.push(ta)}),Qe.risque.paramList=Pi,Qe.risque.packCompletList=Yt,Ut(!0)},error:Fn=>{gn(Fn)}})});this.promisesRisques.push(dn)})}),this.generateTarif())}remplissageTarif(){this.devisService.remplissageDevis(this.devis).subscribe({next:u=>{this.garantieTab.map(M=>{M.prime=null,u.groupes[0].groupeList[0].risque.packCompletList.map(W=>{M.idPackComplet==W.idPackComplet&&M.plafond.forEach(ie=>{W.categorieList.forEach(ve=>{ie.idParamPackComplet===ve.idCategoriePackComplet&&(ie.valeur=ve.valeur)})}),M.sousGarantieList.data?.map(ie=>{ie.idPackComplet==W.idPackComplet&&ie.plafond.forEach(ve=>{W.categorieList.forEach(Re=>{ve.idParamPackComplet===Re.idCategoriePackComplet&&(ve.valeur=Re.valeur)})})})})})},error:u=>{console.log(u)}})}generateCalcul(){this.loaderTarif=!0,this.objectDevis(!1)}generateTarif(){var u=this;return(0,h.Z)(function*(){if("A168"==u.avenant?.code&&"45F"==u.codeProduit&&(u.devis.nbrPages=u.nbrPages.value,u.devis.tailleRisque=u.taillersq,u.devis.agence=u.formApplicationAvenant.get("agence")?.value,u.devis.idReduction=u.contrat.reduction?u.contrat.reduction:0,u.devis.motif={},u.devis.motif.idMotif=u.formApplicationAvenant.value.motif.idMotif.idMotif,u.devis.motif.commentaire=u.formApplicationAvenant.value.commentaire,u.devis.idTypeAvenant=u.formApplicationAvenant.value.idTypeAvenant,u.devis.idContrat=u.formApplicationAvenant.value.idContrat,u.devis.duree=u.formApplicationAvenant.value.duree,u.devis.produit=u.contrat?.produit?.idCodeProduit),"A168"==u.avenant?.code&&"45F"==u.codeProduit&&u.nmbVehicule.value!=u.taillersq&&ut().fire({icon:"error",title:"Erreur",text:"Le nombre de lignes ne correspond pas au nombre de risque indiqu\xe9, nombre de ligne= "+u.taillersq+", nombre indiqu\xe9= "+u.nmbVehicule.value+". veuillez resaisir le fichier ou modifi\xe9 le nombre de risque",confirmButtonText:"OK"}).then(()=>{u.myStepper.previous(),u.myStepper.previous()}),("A13"==u.avenant?.code||"A18"==u.avenant?.code||"A168"==u.avenant?.code)&&("45A"==u.codeProduit||"45F"==u.codeProduit||"45L"==u.codeProduit)&&(u.devis.dateEffetAvenant=vt.utc(u.formApplicationAvenant?.get("dateAvenant")?.value).add(1,"hour").toISOString()),!u.errorPackForm)if(u.loaderTarif=!0,"A13"==u.avenant?.code||"A18"==u.avenant?.code||"A168"==u.avenant?.code){const M=yield u.cryptoService.generateHmac(u.tkn,u.devis),ie={stringJson:JSON.stringify(u.devis),signature:M};u.avenantService.generateTarif(ie).subscribe({next:ve=>{if(u.primeList=ve.primeList,u.taxeList=ve.taxeList,u.retourCalcul=ve,u.returnedTarif=ve,u.errorHandler.error=!1,u.errorHandler.msg="",u.tarifReady=!0,u.calcul=!1,u.loaderTarif=!1,u.garantieTab.map(Re=>{Re.prime=null,ve.groupes[0].groupeList[0].risque.packCompletList.map(Oe=>{Re.idPackComplet==Oe.idPackComplet&&(Re.prime=Oe.prime,Re.primeBonus=Oe.coefBonusMalus)}),"95"==u.codeProduit&&Re.sousGarantieList.data.map(Oe=>{Oe.prime=null,ve.groupes[0].groupeList[0].risque.packCompletList.map(ke=>{Oe.idPackComplet==ke.idPackComplet&&(Oe.prime=ke.prime,Oe.primeBonus=ke.coefBonusMalus)})})}),u.PrimeTotaleTarif=ve.primeList?.find(Re=>101==Re.idPrime)?.prime,u.PrimeTotale=ve.primeList?.find(Re=>101==Re.idPrime)?.prime,u.PrimeAfterPruning=null!=ve.primeAfterPruning?ve.primeAfterPruning:0,u.PrimeBonusMalus=null!=ve.montantBonusMalus?ve.montantBonusMalus:0,u.dataSource=new Le.by(u.garantieTab),u.jsonAvenant.agence=u.formApplicationAvenant.get("agence")?.value,u.jsonAvenant.duree=u.formApplicationAvenant.get("duree")?.value,u.jsonAvenant.pack=ve.pack,u.jsonAvenant.packCompletList=ve.packCompletList,u.jsonAvenant.primeList=ve.primeList,u.jsonAvenant.taxeList=ve.taxeList,u.jsonAvenant.idTypeAvenant=u.formApplicationAvenant.get("idTypeAvenant")?.value,u.jsonAvenant.idContrat=u.formApplicationAvenant.get("idContrat")?.value,u.jsonAvenant.dateAvenant=vt.utc(u.formApplicationAvenant.get("dateAvenant")?.value).add(1,"hour").toISOString(),u.avenant?.attestation&&(u.jsonAvenant.numAttestation=u.formApplicationAvenant.get("attestation")?.value),u.jsonAvenant.motif={},u.jsonAvenant.motif.idMotif=u.formApplicationAvenant.get("motif")?.value.idMotif.idMotif,u.jsonAvenant.motif.commentaire=u.formApplicationAvenant.get("commentaire")?.value,u.jsonAvenant.list=ve.list,u.jsonAvenant.attributList=[],u.avenant.attributs.forEach(Re=>{u.jsonAvenant.attributList.push({idAttribut:Re.idAtrribut.idAttribut,valeur:u.formApplicationAvenant.get(Re.idAtrribut.nomBdd)?.value})}),u.jsonAvenant.paramList=[],u.avenant.paramRisque.forEach(Re=>{let Oe={};Oe="Liste of values"==Re.paramRisque?.typeChamp?.description||"P25"==Re.paramRisque.codeParam||"P26"==Re.paramRisque.codeParam?{idParam:Re.paramRisque.idParamRisque,reponse:{idReponse:u.formParamRisque.get(Re.paramRisque.codeParam)?.value,description:""}}:"L08"==Re.paramRisque?.typeChamp.code?{idParam:Re.paramRisque.idParamRisque,reponse:{idReponse:"",description:u.formParamRisque.get(Re.paramRisque.codeParam)?.value}}:"date"!=Re.paramRisque?.typeChamp?.description?34==Re.paramRisque?.idParamRisque?{idParam:Re.paramRisque.idParamRisque,reponse:{idReponse:"",description:String(Number(u.formParamRisque.get(Re.paramRisque.codeParam)?.value))}}:{idParam:Re.paramRisque.idParamRisque,reponse:{idReponse:"",description:u.formParamRisque.get(Re.paramRisque.codeParam)?.value}}:{idParam:Re.paramRisque.idParamRisque,reponse:{idReponse:null,description:u.formParamRisque.get(Re.paramRisque.codeParam)?.value}},u.jsonAvenant.paramList.push(Oe)}),u.jsonAvenant.personnes=[],u.isAssure&&u.isConducteur){console.log("quake1"),u.typePersonne=null==u.formCreationAssure?.controls.raisonSocial?.value||""==u.formCreationAssure?.controls.raisonSocial?.value?"PH":"PM";let Re={role:(u.roles.find(Oe=>"CP238"===Oe.code)||{}).idParam,typeClient:u.typePersonne,risqueList:u.contrat?.groupeList?[u.contrat?.groupeList[0]?.risques[0].idRisque]:[],idClient:u.formCreationAssure?.controls.codeClient?.value,nom:""!=u.formCreationSouscripteur?.controls.nom?.value?u.formCreationSouscripteur?.controls.nom?.value:null,prenom:""!=u.formCreationSouscripteur?.controls.prenom?.value?u.formCreationSouscripteur?.controls.prenom?.value:null,raisonSocial:""!=u.formCreationSouscripteur?.controls.raisonSocial?.value?u.formCreationSouscripteur?.controls.raisonSocial?.value:null,dateNaissance:u.formCreationConducteur?.controls.dateNaissance?.value,nif:""!=u.formCreationSouscripteur?.controls.nif?.value?u.formCreationSouscripteur?.controls.nif?.value:null,nin:""!=u.formCreationSouscripteur?.controls.nin?.value?u.formCreationSouscripteur?.controls.nin?.value:null,telephone:{idContact:u.formCreationAssure?.controls.idTelephone?.value,description:u.formCreationSouscripteur?.controls.telephone?.value},email:{idContact:u.formCreationAssure?.controls.idEmail?.value,description:u.formCreationSouscripteur?.controls.email?.value},adresse:{idAdresse:u.formCreationAssure?.controls.idAdresse?.value,description:u.formCreationSouscripteur?.controls.adresse?.value,wilaya:u.formCreationSouscripteur?.controls.wilaya?.value,commune:u.formCreationSouscripteur?.controls.commune?.value},genre:u.formCreationSouscripteur?.controls.genre?.value,situation:u.formCreationSouscripteur?.controls.situation?.value,profession:{id:u.formCreationAssure?.controls.idProfession,idProfession:u.formCreationSouscripteur?.controlst.profession?.value},rib:{idRib:0,description:u.formCreationAssure?.controls.rib?.value},permis:{idDocument:0,description:u.formCreationConducteur?.controlst.numeroPermis?.value,categorie:u.formCreationConducteur?.controlst.categoriePermis?.value,dateDelivrance:"",wilayaDelivrance:0}};u.avenant.paramRisque.map(Oe=>{if("Conducteur"==Oe.paramRisque.categorieParamRisque.description)switch(Oe.paramRisque.codeParam){case"P56":Re.permis.wilayaDelivrance=+u.formParamRisque?.get(Oe.paramRisque.codeParam)?.value;break;case"P54":Re.permis.dateDelivrance=u.formParamRisque?.get(Oe.paramRisque.codeParam)?.value}}),console.log(Re),u.jsonAvenant.personnes.push(Re)}else if(u.isAssure&&u.isConducteurAssure){console.log("quake2"),u.typePersonne=null==u.formCreationAssure?.controls.raisonSocial?.value||""==u.formCreationAssure?.controls.raisonSocial?.value?"PH":"PM";let Re={role:(u.roles.find(Oe=>"CP238"===Oe.code)||{}).idParam,risqueList:u.contrat?.groupeList?[u.contrat?.groupeList[0]?.risques[0].idRisque]:[],typeClient:u.typePersonne,idClient:u.formCreationAssure?.controls.codeClient?.value,nom:""!=u.formCreationSouscripteur?.controls.nom?.value?u.formCreationSouscripteur?.controls.nom?.value:null,prenom:""!=u.formCreationSouscripteur?.controls.prenom?.value?u.formCreationSouscripteur?.controls.prenom?.value:null,raisonSocial:""!=u.formCreationSouscripteur?.controls.raisonSocial?.value?u.formCreationSouscripteur?.controls.raisonSocial?.value:null,dateNaissance:u.formCreationConducteur?.controls.dateNaissance?.value,nif:""!=u.formCreationSouscripteur?.controls.nif?.value?u.formCreationSouscripteur?.controls.nif?.value:null,nin:""!=u.formCreationSouscripteur?.controls.nin?.value?u.formCreationSouscripteur?.controls.nin?.value:null,telephone:{idContact:u.formCreationAssure?.controls.codeClient?.value?u.formCreationAssure?.controls.idTelephone?.value:0,description:u.formCreationSouscripteur?.controls.telephone?.value},email:{idContact:u.formCreationAssure?.controls.codeClient?.value?u.formCreationAssure?.controls.idEmail?.value:0,description:u.formCreationSouscripteur?.controls.email?.value},adresse:{idAdresse:u.formCreationAssure?.controls.codeClient?.value?u.formCreationAssure?.controls.idAdresse?.value:0,description:u.formCreationSouscripteur?.controls.adresse?.value,wilaya:u.formCreationSouscripteur?.controls.wilaya?.value,commune:u.formCreationSouscripteur?.controls.commune?.value},genre:u.formCreationSouscripteur?.controls.genre?.value,situation:u.formCreationSouscripteur?.controls.situation?.value,profession:{id:u.formCreationAssure?.controls.idProfession?.value,idProfession:u.formCreationSouscripteur?.controls.profession?.value},rib:{idRib:0,description:u.formCreationAssure?.controls.rib?.value},permis:{idDocument:0,description:u.formCreationConducteur?.controls.numeroPermis?.value,categorie:u.formCreationConducteur?.controls.categoriePermis?.value,dateDelivrance:"",wilayaDelivrance:0}};u.avenant.paramRisque.map(Oe=>{if("Conducteur"==Oe.paramRisque.categorieParamRisque.description)switch(Oe.paramRisque.codeParam){case"P56":Re.permis.wilayaDelivrance=+u.formParamRisque?.get(Oe.paramRisque.codeParam)?.value;break;case"P54":Re.permis.dateDelivrance=u.formParamRisque?.get(Oe.paramRisque.codeParam)?.value}}),u.jsonAvenant.personnes.push(Re)}else if(u.isAssure){u.typePersonne=null==u.formCreationAssure?.controls.raisonSocial?.value||""==u.formCreationAssure?.controls.raisonSocial?.value?"PH":"PM";let Re={role:(u.roles.find(Oe=>"CP236"===Oe.code)||{}).idParam,idClient:u.formCreationAssure?.controls.codeClient?.value,nom:""!=u.formCreationAssure?.controls.nom?.value?u.formCreationAssure?.controls.nom?.value:null,prenom:""!=u.formCreationAssure?.controls.prenom?.value?u.formCreationAssure?.controls.prenom?.value:null,raisonSocial:""!=u.formCreationAssure?.controls.raisonSocial?.value?u.formCreationAssure?.controls.raisonSocial?.value:null,dateNaissance:u.formCreationAssure?.controls.dateNaissance?.value,nif:""!=u.formCreationAssure?.controls.nif?.value?u.formCreationAssure?.controls.nif?.value:null,nin:""!=u.formCreationAssure?.controls.nin?.value?u.formCreationAssure?.controls.nin?.value:null,risqueList:u.contrat?.groupeList?[u.contrat?.groupeList[0]?.risques[0].idRisque]:[],typeClient:u.typePersonne,telephone:{idContact:u.formCreationAssure?.controls.codeClient?.value?u.formCreationAssure?.controls.idTelephone?.value:0,description:u.formCreationAssure?.controls.telephone?.value},email:{idContact:u.formCreationAssure?.controls.codeClient?.value?u.formCreationAssure?.controls.idEmail?.value:0,description:u.formCreationAssure?.controls.email?.value},adresse:{idAdresse:u.formCreationAssure?.controls.codeClient?.value?u.formCreationAssure?.controls.idAdresse?.value:0,description:u.formCreationAssure?.controls.adresse?.value,wilaya:u.formCreationAssure?.controls.wilaya?.value,commune:u.formCreationAssure?.controls.commune?.value},genre:u.formCreationAssure?.controls.genre?.value,situation:u.formCreationAssure?.controls.situation?.value,profession:{id:u.formCreationAssure?.controls.idProfession?.value,idProfession:u.formCreationAssure?.controls.profession?.value},rib:{idRib:0,description:u.formCreationAssure?.controls.rib?.value},permis:{}};if(u.jsonAvenant.personnes.push(Re),"45A"==u.codeProduit){u.typePersonne=null==u.formCreationConducteur?.controls.raisonSocial?.value||""==u.formCreationConducteur?.controls.raisonSocial?.value?"PH":"PM";let Oe={role:(u.roles.find(ke=>"CP233"===ke.code)||{}).idParam,typeClient:u.typePersonne,risqueList:[u.contrat.groupeList[0].risques[0].idRisque],idClient:u.formCreationConducteur?.controls.codeClient?.value,nom:""!=u.formCreationConducteur?.controls.nom?.value?u.formCreationConducteur?.controls.nom?.value:null,prenom:""!=u.formCreationConducteur?.controls.prenom?.value?u.formCreationConducteur?.controls.prenom?.value:null,raisonSocial:null,dateNaissance:u.formCreationConducteur?.controls.dateNaissance?.value,nif:null,nin:"",telephone:{idContact:u.formCreationConducteur?.controls.codeClient?.value?u.formCreationConducteur?.controls.idTelephone?.value:0,description:u.formCreationConducteur?.controls.telephone?.value},email:{idContact:u.formCreationConducteur?.controls.codeClient?.value?u.formCreationConducteur?.controls.idEmail?.value:0,description:u.formCreationConducteur?.controls.email?.value},adresse:{idAdresse:u.formCreationConducteur?.controls.codeClient?.value?u.formCreationConducteur?.controls.idAdresse?.value:0,description:u.formCreationConducteur?.controls.adresse?.value,wilaya:u.formCreationConducteur?.controls.wilaya?.value,commune:u.formCreationConducteur?.controls.commune?.value},genre:"A17"==u.avenant?.code?u.oneRisqueInfo.find(ke=>"P24"==ke.codeRisque)?.reponse?.idParamReponse?.idParam:0,situation:u.formCreationConducteur?.controls.situation?.value,profession:{id:u.formCreationConducteur?.controls.idProfession?.value,idProfession:u.formCreationConducteur?.controls.profession?.value},rib:{},permis:{idDocument:0,description:u.formCreationConducteur?.controls.numeroPermis?.value,categorie:u.formCreationConducteur?.controls.categoriePermis?.value,dateDelivrance:"A17"==u.avenant?.code?u.oneRisqueInfo.find(ke=>"P54"==ke.codeRisque)?.reponse?.valeur:"",wilayaDelivrance:"A17"==u.avenant?.code?u.oneRisqueInfo.find(ke=>"P56"==ke.codeRisque)?.reponse?.valeur:0}};u.avenant.paramRisque.map(ke=>{if("Conducteur"==ke.paramRisque.categorieParamRisque.description)switch(ke.paramRisque.codeParam){case"P56":Oe.permis.wilayaDelivrance=+u.formParamRisque?.get(ke.paramRisque.codeParam)?.value;break;case"P54":Oe.permis.dateDelivrance=u.formParamRisque?.get(ke.paramRisque.codeParam)?.value;break;case"P24":Oe.genre=u.formParamRisque?.get(ke.paramRisque.codeParam)?.value}}),u.jsonAvenant.personnes.push(Oe)}}else if(u.isConducteur){u.typePersonne=null==u.formCreationSouscripteur?.controls.raisonSocial?.value||""==u.formCreationSouscripteur?.controls.raisonSocial?.value?"PH":"PM";let Re={role:(u.roles.find(ke=>"CP237"===ke.code)||{}).idParam,risqueList:[u.contrat.groupeList[0].risques[0].idRisque],typeClient:u.typePersonne,idClient:u.formCreationSouscripteur?.controls.codeClient?.value,nom:""!=u.formCreationSouscripteur?.controls.nom?.value?u.formCreationSouscripteur?.controls.nom?.value:null,prenom:""!=u.formCreationSouscripteur?.controls.prenom?.value?u.formCreationSouscripteur?.controls.prenom?.value:null,raisonSocial:""!=u.formCreationSouscripteur?.controls.raisonSocial?.value?u.formCreationSouscripteur?.controls.raisonSocial?.value:null,dateNaissance:u.formCreationConducteur?.controls.dateNaissance?.value,nif:""!=u.formCreationSouscripteur?.controls.nif?.value?u.formCreationSouscripteur?.controls.nif?.value:null,nin:""!=u.formCreationSouscripteur?.controls.nin?.value?u.formCreationSouscripteur?.controls.nin?.value:null,telephone:{idContact:u.formCreationSouscripteur?.controls.codeClient?.value?u.formCreationSouscripteur?.controls.idTelephone?.value:0,description:u.formCreationSouscripteur?.controls.telephone?.value},email:{idContact:u.formCreationSouscripteur?.controls.codeClient?.value?u.formCreationSouscripteur?.controls.idEmail?.value:0,description:u.formCreationSouscripteur?.controls.email?.value},adresse:{idAdresse:u.formCreationSouscripteur?.controls.codeClient?.value?u.formCreationSouscripteur?.controls.idAdresse?.value:0,description:u.formCreationSouscripteur?.controls.adresse?.value,wilaya:u.formCreationSouscripteur?.controls.wilaya?.value,commune:u.formCreationSouscripteur?.controls.commune?.value},genre:u.formCreationSouscripteur?.controls.genre?.value,situation:u.formCreationSouscripteur?.controls.situation?.value,profession:{id:u.formCreationSouscripteur?.controls.idProfession?.value,idProfession:u.formCreationSouscripteur?.controls.profession?.value},rib:{},permis:{idDocument:0,description:u.formCreationConducteur?.controls.numeroPermis?.value,categorie:u.formCreationConducteur?.controls.categoriePermis?.value,dateDelivrance:"",wilayaDelivrance:0}};u.avenant.paramRisque.map(ke=>{if("Conducteur"==ke.paramRisque.categorieParamRisque.description)switch(ke.paramRisque.codeParam){case"P56":Re.permis.wilayaDelivrance=+u.formParamRisque?.get(ke.paramRisque.codeParam)?.value;break;case"P54":Re.permis.dateDelivrance=u.formParamRisque?.get(ke.paramRisque.codeParam)?.value}}),u.jsonAvenant.personnes.push(Re),u.typePersonne=null==u.formCreationAssure?.controls.raisonSocial?.value||""==u.formCreationAssure?.controls.raisonSocial?.value?"PH":"PM";let Oe={role:(u.roles.find(ke=>"CP235"===ke.code)||{}).idParam,risqueList:[u.contrat.groupeList[0].risques[0].idRisque],typeClient:u.typePersonne,idClient:u.formCreationAssure?.controls.codeClient?.value,nom:""!=u.formCreationAssure?.controls.nom?.value?u.formCreationAssure?.controls.nom?.value:null,prenom:""!=u.formCreationAssure?.controls.prenom?.value?u.formCreationAssure?.controls.prenom?.value:null,raisonSocial:""!=u.formCreationAssure?.controls.raisonSocial?.value?u.formCreationAssure?.controls.raisonSocial?.value:null,dateNaissance:u.formCreationAssure?.controls.dateNaissance?.value,nif:""!=u.formCreationAssure?.controls.nif?.value?u.formCreationAssure?.controls.nif?.value:null,nin:""!=u.formCreationAssure?.controls.nin?.value?u.formCreationAssure?.controls.nin?.value:null,telephone:{idContact:u.formCreationAssure?.controls.codeClient?.value?u.formCreationAssure?.controls.idTelephone?.value:0,description:u.formCreationAssure?.controls.telephone?.value},email:{idContact:u.formCreationAssure?.controls.codeClient?.value?u.formCreationAssure?.controls.idEmail?.value:0,description:u.formCreationAssure?.controls.email?.value},adresse:{idAdresse:u.formCreationAssure?.controls.codeClient?.value?u.formCreationAssure?.controls.idAdresse?.value:0,description:u.formCreationAssure?.controls.adresse?.value,wilaya:u.formCreationAssure?.controls.wilaya?.value,commune:u.formCreationAssure?.controls.commune?.value},genre:u.formCreationAssure?.controls.genre?.value,situation:u.formCreationAssure?.controls.situation?.value,profession:{id:u.formCreationAssure?.controls.idProfession?.value,idProfession:u.formCreationAssure?.controls.profession?.value},rib:{idRib:0,description:u.formCreationAssure?.controls.rib?.value},permis:{}};u.jsonAvenant.personnes.push(Oe)}else if(u.isConducteurAssure){u.typePersonne=null==u.formCreationSouscripteur?.controls.raisonSocial?.value||""==u.formCreationSouscripteur?.controls.raisonSocial?.value?"PH":"PM";let Re={role:(u.roles.find(ke=>"CP234"===ke.code)||{}).idParam,risqueList:[u.contrat.groupeList[0].risques[0].idRisque],typeClient:u.typePersonne,idClient:u.formCreationSouscripteur?.controls.codeClient?.value,nom:""!=u.formCreationSouscripteur?.controls.nom?.value?u.formCreationSouscripteur?.controls.nom?.value:null,prenom:""!=u.formCreationSouscripteur?.controls.prenom?.value?u.formCreationSouscripteur?.controls.prenom?.value:null,raisonSocial:""!=u.formCreationSouscripteur?.controls.raisonSocial?.value?u.formCreationSouscripteur?.controls.raisonSocial?.value:null,dateNaissance:u.formCreationSouscripteur?.controls.dateNaissance?.value,nif:""!=u.formCreationSouscripteur?.controls.nif?.value?u.formCreationSouscripteur?.controls.nif?.value:null,nin:""!=u.formCreationSouscripteur?.controls.nin?.value?u.formCreationSouscripteur?.controls.nin?.value:null,telephone:{idContact:u.formCreationSouscripteur?.controls.codeClient?.value?u.formCreationSouscripteur?.controls.idTelephone?.value:0,description:u.formCreationSouscripteur?.controls.telephone?.value},email:{idContact:u.formCreationSouscripteur?.controls.codeClient?.value?u.formCreationSouscripteur?.controls.idEmail?.value:0,description:u.formCreationSouscripteur?.controls.email?.value},adresse:{idAdresse:u.formCreationSouscripteur?.controls.codeClient?.value?u.formCreationSouscripteur?.controls.idAdresse?.value:0,description:u.formCreationSouscripteur?.controls.adresse?.value,wilaya:u.formCreationSouscripteur?.controls.wilaya?.value,commune:u.formCreationSouscripteur?.controls.commune?.value},genre:u.formCreationSouscripteur?.controls.genre?.value,situation:u.formCreationSouscripteur?.controls.situation?.value,profession:{id:u.formCreationSouscripteur?.controls.idProfession?.value,idProfession:u.formCreationSouscripteur?.controls.profession?.value},rib:{},permis:{}};u.jsonAvenant.personnes.push(Re),u.typePersonne=null==u.formCreationAssure?.controls.raisonSocial?.value||""==u.formCreationAssure?.controls.raisonSocial?.value?"PH":"PM";let Oe={role:(u.roles.find(ke=>"CP240"===ke.code)||{}).idParam,typeClient:u.typePersonne,risqueList:[u.contrat.groupeList[0].risques[0].idRisque],idClient:u.formCreationAssure?.controls.codeClient?.value,nom:""!=u.formCreationAssure?.controls.nom?.value?u.formCreationAssure?.controls.nom?.value:null,prenom:""!=u.formCreationAssure?.controls.prenom?.value?u.formCreationAssure?.controls.prenom?.value:null,raisonSocial:""!=u.formCreationAssure?.controls.raisonSocial?.value?u.formCreationAssure?.controls.raisonSocial?.value:null,dateNaissance:u.formCreationConducteur?.controls.dateNaissance?.value,nif:""!=u.formCreationAssure?.controls.nif?.value?u.formCreationAssure?.controls.nif?.value:null,nin:""!=u.formCreationAssure?.controls.nin?.value?u.formCreationAssure?.controls.nin?.value:null,telephone:{idContact:u.formCreationAssure?.controls.codeClient?.value?u.formCreationAssure?.controls.idTelephone?.value:0,description:u.formCreationAssure?.controls.telephone?.value},email:{idContact:u.formCreationAssure?.controls.codeClient?.value?u.formCreationAssure?.controls.idEmail?.value:0,description:u.formCreationAssure?.controls.email?.value},adresse:{idAdresse:u.formCreationAssure?.controls.codeClient?.value?u.formCreationAssure?.controls.idAdresse?.value:0,description:u.formCreationAssure?.controls.adresse?.value,wilaya:u.formCreationAssure?.controls.wilaya?.value,commune:u.formCreationAssure?.controls.commune?.value},genre:u.formCreationAssure?.controls.genre?.value,situation:u.formCreationAssure?.controls.situation?.value,profession:{id:u.formCreationAssure?.controls.idProfession?.value,idProfession:u.formCreationAssure?.controls.profession?.value},rib:{idRib:0,description:u.formCreationAssure?.controls.rib?.value},permis:{idDocument:0,description:u.formCreationConducteur?.controls.numeroPermis?.value,categorie:u.formCreationConducteur?.controls.categoriePermis?.value,dateDelivrance:"",wilayaDelivrance:0}};u.avenant.paramRisque.map(ke=>{if("Conducteur"==ke.paramRisque.categorieParamRisque.description)switch(ke.paramRisque.codeParam){case"P56":Oe.permis.wilayaDelivrance=+u.formParamRisque?.get(ke.paramRisque.codeParam)?.value;break;case"P54":Oe.permis.dateDelivrance=u.formParamRisque?.get(ke.paramRisque.codeParam)?.value;break;case"P24":Oe.genre=u.formParamRisque?.get(ke.paramRisque.codeParam)?.value}}),u.jsonAvenant.personnes.push(Oe)}else{u.typePersonne=null==u.formCreationSouscripteur?.controls.raisonSocial?.value||""==u.formCreationSouscripteur?.controls.raisonSocial?.value?"PH":"PM";let Re={role:(u.roles.find(ke=>"CP234"===ke.code)||{}).idParam,typeClient:u.typePersonne,risqueList:[u.contrat.groupeList[0].risques[0].idRisque],idClient:u.formCreationSouscripteur?.controls.codeClient?.value,nom:""!=u.formCreationSouscripteur?.controls.nom?.value?u.formCreationSouscripteur?.controls.nom?.value:null,prenom:""!=u.formCreationSouscripteur?.controls.prenom?.value?u.formCreationSouscripteur?.controls.prenom?.value:null,raisonSocial:""!=u.formCreationSouscripteur?.controls.raisonSocial?.value?u.formCreationSouscripteur?.controls.raisonSocial?.value:null,dateNaissance:u.formCreationSouscripteur?.controls.dateNaissance?.value,nif:""!=u.formCreationSouscripteur?.controls.nif?.value?u.formCreationSouscripteur?.controls.nif?.value:null,nin:""!=u.formCreationSouscripteur?.controls.nin?.value?u.formCreationSouscripteur?.controls.nin?.value:null,telephone:{idContact:u.formCreationSouscripteur?.controls.codeClient?.value?u.formCreationSouscripteur?.controls.idTelephone?.value:0,description:u.formCreationSouscripteur?.controls.telephone?.value},email:{idContact:u.formCreationSouscripteur?.controls.codeClient?.value?u.formCreationSouscripteur?.controls.idEmail?.value:0,description:u.formCreationSouscripteur?.controls.email?.value},adresse:{idAdresse:u.formCreationSouscripteur?.controls.codeClient?.value?u.formCreationSouscripteur?.controls.idAdresse?.value:0,description:u.formCreationSouscripteur?.controls.adresse?.value,wilaya:u.formCreationSouscripteur?.controls.wilaya?.value,commune:u.formCreationSouscripteur?.controls.commune?.value},genre:u.formCreationSouscripteur?.controls.genre?.value,situation:u.formCreationSouscripteur?.controls.situation?.value,profession:{id:u.formCreationSouscripteur?.controls.idProfession?.value,idProfession:u.formCreationSouscripteur?.controls.profession?.value},rib:{},permis:{}};u.jsonAvenant.personnes.push(Re),u.typePersonne=null==u.formCreationAssure?.controls.raisonSocial?.value||""==u.formCreationAssure?.controls.raisonSocial?.value?"PH":"PM";let Oe={role:(u.roles.find(ke=>"CP235"===ke.code)||{}).idParam,typeClient:u.typePersonne,risqueList:[u.contrat.groupeList[0].risques[0].idRisque],idClient:u.formCreationAssure?.controls.codeClient?.value,nom:""!=u.formCreationAssure?.controls.nom?.value?u.formCreationAssure?.controls.nom?.value:null,prenom:""!=u.formCreationAssure?.controls.prenom?.value?u.formCreationAssure?.controls.prenom?.value:null,raisonSocial:""!=u.formCreationAssure?.controls.raisonSocial?.value?u.formCreationAssure?.controls.raisonSocial?.value:null,dateNaissance:u.formCreationAssure?.controls.dateNaissance?.value,nif:""!=u.formCreationAssure?.controls.nif?.value?u.formCreationAssure?.controls.nif?.value:null,nin:""!=u.formCreationAssure?.controls.nin?.value?u.formCreationAssure?.controls.nin?.value:null,telephone:{idContact:u.formCreationAssure?.controls.codeClient?.value?u.formCreationAssure?.controls.idTelephone?.value:0,description:u.formCreationAssure?.controls.telephone?.value},email:{idContact:u.formCreationAssure?.controls.codeClient?.value?u.formCreationAssure?.controls.idEmail?.value:0,description:u.formCreationAssure?.controls.email?.value},adresse:{idAdresse:u.formCreationAssure?.controls.codeClient?.value?u.formCreationAssure?.controls.idAdresse?.value:0,description:u.formCreationAssure?.controls.adresse?.value,wilaya:u.formCreationAssure?.controls.wilaya?.value,commune:u.formCreationAssure?.controls.commune?.value},genre:u.formCreationAssure?.controls.genre?.value,situation:u.formCreationAssure?.controls.situation?.value,profession:{id:u.formCreationAssure?.controls.idProfession?.value,idProfession:u.formCreationAssure?.controls.profession?.value},rib:{idRib:0,description:u.formCreationAssure?.controls.rib?.value},permis:{}};if(u.jsonAvenant.personnes.push(Oe),"45A"==u.codeProduit){u.typePersonne=null==u.formCreationConducteur?.controls.raisonSocial?.value||""==u.formCreationConducteur?.controls.raisonSocial?.value?"PH":"PM";let ke={role:(u.roles.find(Qe=>"CP233"===Qe.code)||{}).idParam,typeClient:u.typePersonne,risqueList:[u.contrat.groupeList[0].risques[0].idRisque],idClient:u.formCreationConducteur?.controls.codeClient?.value,nom:""!=u.formCreationConducteur?.controls.nom?.value?u.formCreationConducteur?.controls.nom?.value:null,prenom:""!=u.formCreationConducteur?.controls.prenom?.value?u.formCreationConducteur?.controls.prenom?.value:null,raisonSocial:null,dateNaissance:u.formCreationConducteur?.controls.dateNaissance?.value,nif:null,nin:"",telephone:{idContact:u.formCreationConducteur?.controls.codeClient?.value?u.formCreationConducteur?.controls.idTelephone?.value:0,description:u.formCreationConducteur?.controls.telephone?.value},email:{idContact:u.formCreationConducteur?.controls.codeClient?.value?u.formCreationConducteur?.controls.idEmail?.value:0,description:u.formCreationConducteur?.controls.email?.value},adresse:{idAdresse:u.formCreationConducteur?.controls.codeClient?.value?u.formCreationConducteur?.controls.idAdresse?.value:0,description:u.formCreationConducteur?.controls.adresse?.value,wilaya:u.formCreationConducteur?.controls.wilaya?.value,commune:u.formCreationConducteur?.controls.commune?.value},genre:"A17"==u.avenant?.code?u.oneRisqueInfo.find(Qe=>"P24"==Qe.codeRisque)?.reponse?.idParamReponse?.idParam:0,situation:u.formCreationConducteur?.controls.situation?.value,profession:{id:u.formCreationConducteur?.controls.idProfession?.value,idProfession:u.formCreationConducteur?.controls.profession?.value},rib:{},permis:{idDocument:0,description:u.formCreationConducteur?.controls.numeroPermis?.value,categorie:u.formCreationConducteur?.controls.categoriePermis?.value,dateDelivrance:"A17"==u.avenant?.code?u.oneRisqueInfo.find(Qe=>"P54"==Qe.codeRisque)?.reponse?.valeur:"",wilayaDelivrance:"A17"==u.avenant?.code?u.oneRisqueInfo.find(Qe=>"P56"==Qe.codeRisque)?.reponse?.valeur:0}};u.avenant.paramRisque.map(Qe=>{if("Conducteur"==Qe.paramRisque.categorieParamRisque.description)switch(Qe.paramRisque.codeParam){case"P56":ke.permis.wilayaDelivrance=+u.formParamRisque?.get(Qe.paramRisque.codeParam)?.value;break;case"P54":ke.permis.dateDelivrance=u.formParamRisque?.get(Qe.paramRisque.codeParam)?.value;break;case"P24":ke.genre=u.formParamRisque?.get(Qe.paramRisque.codeParam)?.value}}),u.jsonAvenant.personnes.push(ke)}}if(u.multiRisqueAvenant||!u.multiRisqueProduct){ve.groupes.map(Qe=>{Qe.groupeList.map(Bt=>{Bt.risque.packCompletList.map(Yt=>{u.groupesPacks.map(dn=>{dn.group==Qe.idGroupe&&dn.pack.garantie.map(Ut=>{Ut.idPackComplet==Yt.idPackComplet&&(Yt.codeGarantie=Ut.codeGarantie)})})})})});let Re=[],Oe=ve.groupes.map(Qe=>({...Qe,groupeList:Qe.groupeList.map(Bt=>({...Bt,risque:{...Bt.risque,packCompletList:[]}}))})),ke=[];u.risquesInvolved.map(Qe=>{ke.push(Qe.idRisque)}),u.contratService.getPackIdRisques(u.contrat.idContrat,ke).subscribe({next:Qe=>{Qe.map(Bt=>{u.risquesInvolved.map(Yt=>{Yt.idRisque==Bt.risque&&(Bt.idGroupe=Yt.idGroupe)})}),Re=Qe,ve.groupes.map(Bt=>{Re.map(Yt=>{Bt.idGroupe==Yt.idGroupe&&Bt.groupeList.map(dn=>{let Ut=[];dn.risque.idRisque==Yt.risque&&(dn.risque.packCompletList.map(gn=>{Ut.push({codeGarantie:gn.codeGarantie,categorieList:gn.categorieList,idPackComplet:gn.idPackComplet,prime:gn.prime,primeProrata:gn.primeProrata,primeReduction:null,nouveau:!0,coefBonusMalus:null,coefButoir:null,description:gn.description})}),Yt.garantieList.map(gn=>{!Ut.some(Pi=>Pi.codeGarantie===gn.codeGarantie)&&"A13"!=u.avenant?.code&&"A18"!=u.avenant?.code&&Ut.push({codeGarantie:gn.codeGarantie,categorieList:gn.categorieList,idPackComplet:gn.id,prime:gn.prime,primeProrata:gn.primeProrata,primeReduction:null,nouveau:!1,coefBonusMalus:null,coefButoir:null,description:gn.description})}),Oe.map(gn=>{gn.groupeList.map(Fn=>{Fn.risque.idRisque==Yt.risque&&(Fn.risque.packCompletList=Ut)})}))})})}),u.jsonAvenant.groupes=Oe,u.jsonAvenant.primeList=ve.primeList,u.jsonAvenant.taxeList=ve.taxeList,u.returnedTarif.groupes=u.jsonAvenant.groupes,u.multiRisqueProduct&&u.calculPrime()},error:Qe=>{console.log(Qe)}})}else ve.groupes.map(Re=>{Re.groupeList.map(Oe=>{Oe.risque.packCompletList.map(ke=>{ke.nouveau=!0})})}),u.jsonAvenant.groupes=ve.groupes,u.jsonAvenant.primeList=ve.primeList,u.jsonAvenant.taxeList=ve.taxeList,u.multiRisqueProduct&&u.calculPrime();u.multiRisqueProduct&&"A168"!=u.avenant.code&&"45F"==u.codeProduit&&u.myStepper.next()},error:ve=>{u.loaderTarif=!1,u.handleError(ve)}})}else"A22"==u.avenant?.code?(("45A"==u.codeProduit||"45F"==u.codeProduit||"45L"==u.codeProduit)&&(u.devis.dateEffetAvenant=vt.utc(u.formApplicationAvenant?.get("dateAvenant")?.value).add(1,"hour").toISOString()),console.log("this.risqueGroupe ",u.risqueGroupe),Promise.all(u.promisesRisques).then((0,h.Z)(function*(){u.devis.groupes=u.risqueGroupe;const M=yield u.cryptoService.generateHmac(u.tkn,u.devis),ie={stringJson:JSON.stringify(u.devis),signature:M};u.avenantService.generateTarifProprietaire(ie).subscribe({next:ve=>{if(u.retourCalcul=ve,u.returnedTarif=ve,u.errorHandler.error=!1,u.errorHandler.msg="",u.tarifReady=!0,u.calcul=!1,u.loaderTarif=!1,u.garantieTab.map(Re=>{Re.prime=null,ve.groupes[0].groupeList[0].risque.packCompletList.map(Oe=>{Re.idPackComplet==Oe.idPackComplet&&(Re.prime=Oe.prime,Re.primeBonus=Oe.coefBonusMalus)}),"95"==u.codeProduit&&Re.sousGarantieList.data.map(Oe=>{Oe.prime=null,ve.groupes[0].groupeList[0].risque.packCompletList.map(ke=>{Oe.idPackComplet==ke.idPackComplet&&(Oe.prime=ke.prime,Oe.primeBonus=ke.coefBonusMalus)})})}),u.PrimeTotaleTarif=ve.primeList?.find(Re=>101==Re.idPrime)?.prime,u.PrimeTotale=ve.primeList?.find(Re=>101==Re.idPrime)?.prime,u.PrimeAfterPruning=null!=ve.primeAfterPruning?ve.primeAfterPruning:0,u.PrimeBonusMalus=null!=ve.montantBonusMalus?ve.montantBonusMalus:0,u.dataSource=new Le.by(u.garantieTab),u.jsonAvenant.agence=u.formApplicationAvenant.get("agence")?.value,u.jsonAvenant.duree=u.formApplicationAvenant.get("duree")?.value,u.jsonAvenant.pack=ve.pack,u.jsonAvenant.packCompletList=ve.packCompletList,u.jsonAvenant.primeList=ve.primeList,u.jsonAvenant.taxeList=ve.taxeList,u.jsonAvenant.idTypeAvenant=u.formApplicationAvenant.get("idTypeAvenant")?.value,u.jsonAvenant.idContrat=u.formApplicationAvenant.get("idContrat")?.value,u.jsonAvenant.dateAvenant=u.formApplicationAvenant.get("dateAvenant")?.value,u.avenant?.attestation&&(u.jsonAvenant.numAttestation=u.formApplicationAvenant.get("attestation")?.value),u.jsonAvenant.motif={},u.jsonAvenant.motif.idMotif=u.formApplicationAvenant.get("motif")?.value.idMotif.idMotif,u.jsonAvenant.motif.commentaire=u.formApplicationAvenant.get("commentaire")?.value,u.jsonAvenant.list=ve.list,u.jsonAvenant.attributList=[],u.avenant.attributs.forEach(Re=>{u.jsonAvenant.attributList.push({idAttribut:Re.idAtrribut.idAttribut,valeur:u.formApplicationAvenant.get(Re.idAtrribut.nomBdd)?.value})}),u.jsonAvenant.paramList=[],u.avenant.paramRisque.forEach(Re=>{let Oe={};Oe="Liste of values"==Re.paramRisque?.typeChamp?.description||"P25"==Re.paramRisque.codeParam||"P26"==Re.paramRisque.codeParam?{idParam:Re.paramRisque.idParamRisque,reponse:{idReponse:u.formParamRisque.get(Re.paramRisque.codeParam)?.value,description:""}}:"L08"==Re.paramRisque?.typeChamp.code?{idParam:Re.paramRisque.idParamRisque,reponse:{idReponse:"",description:u.formParamRisque.get(Re.paramRisque.codeParam)?.value}}:"date"!=Re.paramRisque?.typeChamp?.description?34==Re.paramRisque?.idParamRisque?{idParam:Re.paramRisque.idParamRisque,reponse:{idReponse:"",description:String(Number(u.formParamRisque.get(Re.paramRisque.codeParam)?.value))}}:{idParam:Re.paramRisque.idParamRisque,reponse:{idReponse:"",description:u.formParamRisque.get(Re.paramRisque.codeParam)?.value}}:{idParam:Re.paramRisque.idParamRisque,reponse:{idReponse:null,description:u.formParamRisque.get(Re.paramRisque.codeParam)?.value}},u.jsonAvenant.paramList.push(Oe)}),u.jsonAvenant.personnes=[],u.isAssure&&u.isConducteur){console.log("quake3"),u.typePersonne=null==u.formCreationAssure?.controls.raisonSocial?.value||""==u.formCreationAssure?.controls.raisonSocial?.value?"PH":"PM";let Re={role:(u.roles.find(Oe=>"CP238"===Oe.code)||{}).idParam,typeClient:u.typePersonne,risqueList:u.contrat?.groupeList?[u.contrat?.groupeList[0]?.risques[0].idRisque]:[],idClient:u.formCreationAssure?.controls.codeClient?.value,nom:""!=u.formCreationSouscripteur?.controls.nom?.value?u.formCreationSouscripteur?.controls.nom?.value:null,prenom:""!=u.formCreationSouscripteur?.controls.prenom?.value?u.formCreationSouscripteur?.controls.prenom?.value:null,raisonSocial:""!=u.formCreationSouscripteur?.controls.raisonSocial?.value?u.formCreationSouscripteur?.controls.raisonSocial?.value:null,dateNaissance:u.formCreationConducteur?.controls.dateNaissance?.value,nif:""!=u.formCreationSouscripteur?.controls.nif?.value?u.formCreationSouscripteur?.controls.nif?.value:null,nin:""!=u.formCreationSouscripteur?.controls.nin?.value?u.formCreationSouscripteur?.controls.nin?.value:null,telephone:{idContact:u.formCreationAssure?.controls.idTelephone?.value,description:u.formCreationSouscripteur?.controls.telephone?.value},email:{idContact:u.formCreationAssure?.controls.idEmail?.value,description:u.formCreationSouscripteur?.controls.email?.value},adresse:{idAdresse:u.formCreationAssure?.controls.idAdresse?.value,description:u.formCreationSouscripteur?.controls.adresse?.value,wilaya:u.formCreationSouscripteur?.controls.wilaya?.value,commune:u.formCreationSouscripteur?.controls.commune?.value},genre:u.formCreationSouscripteur?.controls.genre?.value,situation:u.formCreationSouscripteur?.controls.situation?.value,profession:{id:u.formCreationAssure?.controls.idProfession,idProfession:u.formCreationSouscripteur?.controlst.profession?.value},rib:{idRib:0,description:u.formCreationAssure?.controls.rib?.value},permis:{idDocument:0,description:u.formCreationConducteur?.controlst.numeroPermis?.value,categorie:u.formCreationConducteur?.controlst.categoriePermis?.value,dateDelivrance:"",wilayaDelivrance:0}};u.avenant.paramRisque.map(Oe=>{if("Conducteur"==Oe.paramRisque.categorieParamRisque.description)switch(Oe.paramRisque.codeParam){case"P56":Re.permis.wilayaDelivrance=+u.formParamRisque?.get(Oe.paramRisque.codeParam)?.value;break;case"P54":Re.permis.dateDelivrance=u.formParamRisque?.get(Oe.paramRisque.codeParam)?.value}}),u.jsonAvenant.personnes.push(Re)}else if(u.isAssure&&u.isConducteurAssure){console.log("quake4"),u.typePersonne=null==u.formCreationAssure?.controls.raisonSocial?.value||""==u.formCreationAssure?.controls.raisonSocial?.value?"PH":"PM";let Re={role:(u.roles.find(Oe=>"CP238"===Oe.code)||{}).idParam,risqueList:u.contrat?.groupeList?[u.contrat?.groupeList[0]?.risques[0].idRisque]:[],typeClient:u.typePersonne,idClient:u.formCreationAssure?.controls.codeClient?.value,nom:""!=u.formCreationSouscripteur?.controls.nom?.value?u.formCreationSouscripteur?.controls.nom?.value:null,prenom:""!=u.formCreationSouscripteur?.controls.prenom?.value?u.formCreationSouscripteur?.controls.prenom?.value:null,raisonSocial:""!=u.formCreationSouscripteur?.controls.raisonSocial?.value?u.formCreationSouscripteur?.controls.raisonSocial?.value:null,dateNaissance:u.formCreationConducteur?.controls.dateNaissance?.value,nif:""!=u.formCreationSouscripteur?.controls.nif?.value?u.formCreationSouscripteur?.controls.nif?.value:null,nin:""!=u.formCreationSouscripteur?.controls.nin?.value?u.formCreationSouscripteur?.controls.nin?.value:null,telephone:{idContact:u.formCreationAssure?.controls.codeClient?.value?u.formCreationAssure?.controls.idTelephone?.value:0,description:u.formCreationSouscripteur?.controls.telephone?.value},email:{idContact:u.formCreationAssure?.controls.codeClient?.value?u.formCreationAssure?.controls.idEmail?.value:0,description:u.formCreationSouscripteur?.controls.email?.value},adresse:{idAdresse:u.formCreationAssure?.controls.codeClient?.value?u.formCreationAssure?.controls.idAdresse?.value:0,description:u.formCreationSouscripteur?.controls.adresse?.value,wilaya:u.formCreationSouscripteur?.controls.wilaya?.value,commune:u.formCreationSouscripteur?.controls.commune?.value},genre:u.formCreationSouscripteur?.controls.genre?.value,situation:u.formCreationSouscripteur?.controls.situation?.value,profession:{id:u.formCreationAssure?.controls.idProfession?.value,idProfession:u.formCreationSouscripteur?.controls.profession?.value},rib:{idRib:0,description:u.formCreationAssure?.controls.rib?.value},permis:{idDocument:0,description:u.formCreationConducteur?.controls.numeroPermis?.value,categorie:u.formCreationConducteur?.controls.categoriePermis?.value,dateDelivrance:"",wilayaDelivrance:0}};u.avenant.paramRisque.map(Oe=>{if("Conducteur"==Oe.paramRisque.categorieParamRisque.description)switch(Oe.paramRisque.codeParam){case"P56":Re.permis.wilayaDelivrance=+u.formParamRisque?.get(Oe.paramRisque.codeParam)?.value;break;case"P54":Re.permis.dateDelivrance=u.formParamRisque?.get(Oe.paramRisque.codeParam)?.value}}),u.jsonAvenant.personnes.push(Re)}else if(u.isAssure){u.typePersonne=null==u.formCreationAssure?.controls.raisonSocial?.value||""==u.formCreationAssure?.controls.raisonSocial?.value?"PH":"PM";let Re={role:(u.roles.find(Oe=>"CP236"===Oe.code)||{}).idParam,idClient:u.formCreationAssure?.controls.codeClient?.value,nom:""!=u.formCreationAssure?.controls.nom?.value?u.formCreationAssure?.controls.nom?.value:null,prenom:""!=u.formCreationAssure?.controls.prenom?.value?u.formCreationAssure?.controls.prenom?.value:null,raisonSocial:""!=u.formCreationAssure?.controls.raisonSocial?.value?u.formCreationAssure?.controls.raisonSocial?.value:null,dateNaissance:u.formCreationAssure?.controls.dateNaissance?.value,nif:""!=u.formCreationAssure?.controls.nif?.value?u.formCreationAssure?.controls.nif?.value:null,nin:""!=u.formCreationAssure?.controls.nin?.value?u.formCreationAssure?.controls.nin?.value:null,risqueList:u.contrat?.groupeList?[u.contrat?.groupeList[0]?.risques[0].idRisque]:[],typeClient:u.typePersonne,telephone:{idContact:u.formCreationAssure?.controls.codeClient?.value?u.formCreationAssure?.controls.idTelephone?.value:0,description:u.formCreationAssure?.controls.telephone?.value},email:{idContact:u.formCreationAssure?.controls.codeClient?.value?u.formCreationAssure?.controls.idEmail?.value:0,description:u.formCreationAssure?.controls.email?.value},adresse:{idAdresse:u.formCreationAssure?.controls.codeClient?.value?u.formCreationAssure?.controls.idAdresse?.value:0,description:u.formCreationAssure?.controls.adresse?.value,wilaya:u.formCreationAssure?.controls.wilaya?.value,commune:u.formCreationAssure?.controls.commune?.value},genre:u.formCreationAssure?.controls.genre?.value,situation:u.formCreationAssure?.controls.situation?.value,profession:{id:u.formCreationAssure?.controls.idProfession?.value,idProfession:u.formCreationAssure?.controls.profession?.value},rib:{idRib:0,description:u.formCreationAssure?.controls.rib?.value},permis:{}};if(u.jsonAvenant.personnes.push(Re),"45A"==u.codeProduit){u.typePersonne=null==u.formCreationConducteur?.controls.raisonSocial?.value||""==u.formCreationConducteur?.controls.raisonSocial?.value?"PH":"PM";let Oe={role:(u.roles.find(ke=>"CP233"===ke.code)||{}).idParam,typeClient:u.typePersonne,risqueList:[u.contrat.groupeList[0].risques[0].idRisque],idClient:u.formCreationConducteur?.controls.codeClient?.value,nom:""!=u.formCreationConducteur?.controls.nom?.value?u.formCreationConducteur?.controls.nom?.value:null,prenom:""!=u.formCreationConducteur?.controls.prenom?.value?u.formCreationConducteur?.controls.prenom?.value:null,raisonSocial:null,dateNaissance:u.formCreationConducteur?.controls.dateNaissance?.value,nif:null,nin:"",telephone:{idContact:u.formCreationConducteur?.controls.codeClient?.value?u.formCreationConducteur?.controls.idTelephone?.value:0,description:u.formCreationConducteur?.controls.telephone?.value},email:{idContact:u.formCreationConducteur?.controls.codeClient?.value?u.formCreationConducteur?.controls.idEmail?.value:0,description:u.formCreationConducteur?.controls.email?.value},adresse:{idAdresse:u.formCreationConducteur?.controls.codeClient?.value?u.formCreationConducteur?.controls.idAdresse?.value:0,description:u.formCreationConducteur?.controls.adresse?.value,wilaya:u.formCreationConducteur?.controls.wilaya?.value,commune:u.formCreationConducteur?.controls.commune?.value},genre:"A17"==u.avenant?.code?u.oneRisqueInfo.find(ke=>"P24"==ke.codeRisque)?.reponse?.idParamReponse?.idParam:0,situation:u.formCreationConducteur?.controls.situation?.value,profession:{id:u.formCreationConducteur?.controls.idProfession?.value,idProfession:u.formCreationConducteur?.controls.profession?.value},rib:{},permis:{idDocument:0,description:u.formCreationConducteur?.controls.numeroPermis?.value,categorie:u.formCreationConducteur?.controls.categoriePermis?.value,dateDelivrance:"A17"==u.avenant?.code?u.oneRisqueInfo.find(ke=>"P54"==ke.codeRisque)?.reponse?.valeur:"",wilayaDelivrance:"A17"==u.avenant?.code?u.oneRisqueInfo.find(ke=>"P56"==ke.codeRisque)?.reponse?.valeur:0}};u.avenant.paramRisque.map(ke=>{if("Conducteur"==ke.paramRisque.categorieParamRisque.description)switch(ke.paramRisque.codeParam){case"P56":Oe.permis.wilayaDelivrance=+u.formParamRisque?.get(ke.paramRisque.codeParam)?.value;break;case"P54":Oe.permis.dateDelivrance=u.formParamRisque?.get(ke.paramRisque.codeParam)?.value;break;case"P24":Oe.genre=u.formParamRisque?.get(ke.paramRisque.codeParam)?.value}}),u.jsonAvenant.personnes.push(Oe)}}else if(u.isConducteur){u.typePersonne=null==u.formCreationSouscripteur?.controls.raisonSocial?.value||""==u.formCreationSouscripteur?.controls.raisonSocial?.value?"PH":"PM";let Re={role:(u.roles.find(ke=>"CP237"===ke.code)||{}).idParam,risqueList:[u.contrat.groupeList[0].risques[0].idRisque],typeClient:u.typePersonne,idClient:u.formCreationSouscripteur?.controls.codeClient?.value,nom:""!=u.formCreationSouscripteur?.controls.nom?.value?u.formCreationSouscripteur?.controls.nom?.value:null,prenom:""!=u.formCreationSouscripteur?.controls.prenom?.value?u.formCreationSouscripteur?.controls.prenom?.value:null,raisonSocial:""!=u.formCreationSouscripteur?.controls.raisonSocial?.value?u.formCreationSouscripteur?.controls.raisonSocial?.value:null,dateNaissance:u.formCreationConducteur?.controls.dateNaissance?.value,nif:""!=u.formCreationSouscripteur?.controls.nif?.value?u.formCreationSouscripteur?.controls.nif?.value:null,nin:""!=u.formCreationSouscripteur?.controls.nin?.value?u.formCreationSouscripteur?.controls.nin?.value:null,telephone:{idContact:u.formCreationSouscripteur?.controls.codeClient?.value?u.formCreationSouscripteur?.controls.idTelephone?.value:0,description:u.formCreationSouscripteur?.controls.telephone?.value},email:{idContact:u.formCreationSouscripteur?.controls.codeClient?.value?u.formCreationSouscripteur?.controls.idEmail?.value:0,description:u.formCreationSouscripteur?.controls.email?.value},adresse:{idAdresse:u.formCreationSouscripteur?.controls.codeClient?.value?u.formCreationSouscripteur?.controls.idAdresse?.value:0,description:u.formCreationSouscripteur?.controls.adresse?.value,wilaya:u.formCreationSouscripteur?.controls.wilaya?.value,commune:u.formCreationSouscripteur?.controls.commune?.value},genre:u.formCreationSouscripteur?.controls.genre?.value,situation:u.formCreationSouscripteur?.controls.situation?.value,profession:{id:u.formCreationSouscripteur?.controls.idProfession?.value,idProfession:u.formCreationSouscripteur?.controls.profession?.value},rib:{},permis:{idDocument:0,description:u.formCreationConducteur?.controls.numeroPermis?.value,categorie:u.formCreationConducteur?.controls.categoriePermis?.value,dateDelivrance:"",wilayaDelivrance:0}};u.avenant.paramRisque.map(ke=>{if("Conducteur"==ke.paramRisque.categorieParamRisque.description)switch(ke.paramRisque.codeParam){case"P56":Re.permis.wilayaDelivrance=+u.formParamRisque?.get(ke.paramRisque.codeParam)?.value;break;case"P54":Re.permis.dateDelivrance=u.formParamRisque?.get(ke.paramRisque.codeParam)?.value}}),u.jsonAvenant.personnes.push(Re),u.typePersonne=null==u.formCreationAssure?.controls.raisonSocial?.value||""==u.formCreationAssure?.controls.raisonSocial?.value?"PH":"PM";let Oe={role:(u.roles.find(ke=>"CP235"===ke.code)||{}).idParam,risqueList:[u.contrat.groupeList[0].risques[0].idRisque],typeClient:u.typePersonne,idClient:u.formCreationAssure?.controls.codeClient?.value,nom:""!=u.formCreationAssure?.controls.nom?.value?u.formCreationAssure?.controls.nom?.value:null,prenom:""!=u.formCreationAssure?.controls.prenom?.value?u.formCreationAssure?.controls.prenom?.value:null,raisonSocial:""!=u.formCreationAssure?.controls.raisonSocial?.value?u.formCreationAssure?.controls.raisonSocial?.value:null,dateNaissance:u.formCreationAssure?.controls.dateNaissance?.value,nif:""!=u.formCreationAssure?.controls.nif?.value?u.formCreationAssure?.controls.nif?.value:null,nin:""!=u.formCreationAssure?.controls.nin?.value?u.formCreationAssure?.controls.nin?.value:null,telephone:{idContact:u.formCreationAssure?.controls.codeClient?.value?u.formCreationAssure?.controls.idTelephone?.value:0,description:u.formCreationAssure?.controls.telephone?.value},email:{idContact:u.formCreationAssure?.controls.codeClient?.value?u.formCreationAssure?.controls.idEmail?.value:0,description:u.formCreationAssure?.controls.email?.value},adresse:{idAdresse:u.formCreationAssure?.controls.codeClient?.value?u.formCreationAssure?.controls.idAdresse?.value:0,description:u.formCreationAssure?.controls.adresse?.value,wilaya:u.formCreationAssure?.controls.wilaya?.value,commune:u.formCreationAssure?.controls.commune?.value},genre:u.formCreationAssure?.controls.genre?.value,situation:u.formCreationAssure?.controls.situation?.value,profession:{id:u.formCreationAssure?.controls.idProfession?.value,idProfession:u.formCreationAssure?.controls.profession?.value},rib:{idRib:0,description:u.formCreationAssure?.controls.rib?.value},permis:{}};u.jsonAvenant.personnes.push(Oe)}else if(u.isConducteurAssure){u.typePersonne=null==u.formCreationSouscripteur?.controls.raisonSocial?.value||""==u.formCreationSouscripteur?.controls.raisonSocial?.value?"PH":"PM";let Re={role:(u.roles.find(ke=>"CP234"===ke.code)||{}).idParam,risqueList:[u.contrat.groupeList[0].risques[0].idRisque],typeClient:u.typePersonne,idClient:u.formCreationSouscripteur?.controls.codeClient?.value,nom:""!=u.formCreationSouscripteur?.controls.nom?.value?u.formCreationSouscripteur?.controls.nom?.value:null,prenom:""!=u.formCreationSouscripteur?.controls.prenom?.value?u.formCreationSouscripteur?.controls.prenom?.value:null,raisonSocial:""!=u.formCreationSouscripteur?.controls.raisonSocial?.value?u.formCreationSouscripteur?.controls.raisonSocial?.value:null,dateNaissance:u.formCreationSouscripteur?.controls.dateNaissance?.value,nif:""!=u.formCreationSouscripteur?.controls.nif?.value?u.formCreationSouscripteur?.controls.nif?.value:null,nin:""!=u.formCreationSouscripteur?.controls.nin?.value?u.formCreationSouscripteur?.controls.nin?.value:null,telephone:{idContact:u.formCreationSouscripteur?.controls.codeClient?.value?u.formCreationSouscripteur?.controls.idTelephone?.value:0,description:u.formCreationSouscripteur?.controls.telephone?.value},email:{idContact:u.formCreationSouscripteur?.controls.codeClient?.value?u.formCreationSouscripteur?.controls.idEmail?.value:0,description:u.formCreationSouscripteur?.controls.email?.value},adresse:{idAdresse:u.formCreationSouscripteur?.controls.codeClient?.value?u.formCreationSouscripteur?.controls.idAdresse?.value:0,description:u.formCreationSouscripteur?.controls.adresse?.value,wilaya:u.formCreationSouscripteur?.controls.wilaya?.value,commune:u.formCreationSouscripteur?.controls.commune?.value},genre:u.formCreationSouscripteur?.controls.genre?.value,situation:u.formCreationSouscripteur?.controls.situation?.value,profession:{id:u.formCreationSouscripteur?.controls.idProfession?.value,idProfession:u.formCreationSouscripteur?.controls.profession?.value},rib:{},permis:{}};u.jsonAvenant.personnes.push(Re),u.typePersonne=null==u.formCreationAssure?.controls.raisonSocial?.value||""==u.formCreationAssure?.controls.raisonSocial?.value?"PH":"PM";let Oe={role:(u.roles.find(ke=>"CP240"===ke.code)||{}).idParam,typeClient:u.typePersonne,risqueList:[u.contrat.groupeList[0].risques[0].idRisque],idClient:u.formCreationAssure?.controls.codeClient?.value,nom:""!=u.formCreationAssure?.controls.nom?.value?u.formCreationAssure?.controls.nom?.value:null,prenom:""!=u.formCreationAssure?.controls.prenom?.value?u.formCreationAssure?.controls.prenom?.value:null,raisonSocial:""!=u.formCreationAssure?.controls.raisonSocial?.value?u.formCreationAssure?.controls.raisonSocial?.value:null,dateNaissance:u.formCreationConducteur?.controls.dateNaissance?.value,nif:""!=u.formCreationAssure?.controls.nif?.value?u.formCreationAssure?.controls.nif?.value:null,nin:""!=u.formCreationAssure?.controls.nin?.value?u.formCreationAssure?.controls.nin?.value:null,telephone:{idContact:u.formCreationAssure?.controls.codeClient?.value?u.formCreationAssure?.controls.idTelephone?.value:0,description:u.formCreationAssure?.controls.telephone?.value},email:{idContact:u.formCreationAssure?.controls.codeClient?.value?u.formCreationAssure?.controls.idEmail?.value:0,description:u.formCreationAssure?.controls.email?.value},adresse:{idAdresse:u.formCreationAssure?.controls.codeClient?.value?u.formCreationAssure?.controls.idAdresse?.value:0,description:u.formCreationAssure?.controls.adresse?.value,wilaya:u.formCreationAssure?.controls.wilaya?.value,commune:u.formCreationAssure?.controls.commune?.value},genre:u.formCreationAssure?.controls.genre?.value,situation:u.formCreationAssure?.controls.situation?.value,profession:{id:u.formCreationAssure?.controls.idProfession?.value,idProfession:u.formCreationAssure?.controls.profession?.value},rib:{idRib:0,description:u.formCreationAssure?.controls.rib?.value},permis:{idDocument:0,description:u.formCreationConducteur?.controls.numeroPermis?.value,categorie:u.formCreationConducteur?.controls.categoriePermis?.value,dateDelivrance:"",wilayaDelivrance:0}};u.avenant.paramRisque.map(ke=>{if("Conducteur"==ke.paramRisque.categorieParamRisque.description)switch(ke.paramRisque.codeParam){case"P56":Oe.permis.wilayaDelivrance=+u.formParamRisque?.get(ke.paramRisque.codeParam)?.value;break;case"P54":Oe.permis.dateDelivrance=u.formParamRisque?.get(ke.paramRisque.codeParam)?.value;break;case"P24":Oe.genre=u.formParamRisque?.get(ke.paramRisque.codeParam)?.value}}),u.jsonAvenant.personnes.push(Oe)}else{u.typePersonne=null==u.formCreationSouscripteur?.controls.raisonSocial?.value||""==u.formCreationSouscripteur?.controls.raisonSocial?.value?"PH":"PM";let Re={role:(u.roles.find(ke=>"CP234"===ke.code)||{}).idParam,typeClient:u.typePersonne,risqueList:[u.contrat.groupeList[0].risques[0].idRisque],idClient:u.formCreationSouscripteur?.controls.codeClient?.value,nom:""!=u.formCreationSouscripteur?.controls.nom?.value?u.formCreationSouscripteur?.controls.nom?.value:null,prenom:""!=u.formCreationSouscripteur?.controls.prenom?.value?u.formCreationSouscripteur?.controls.prenom?.value:null,raisonSocial:""!=u.formCreationSouscripteur?.controls.raisonSocial?.value?u.formCreationSouscripteur?.controls.raisonSocial?.value:null,dateNaissance:u.formCreationSouscripteur?.controls.dateNaissance?.value,nif:""!=u.formCreationSouscripteur?.controls.nif?.value?u.formCreationSouscripteur?.controls.nif?.value:null,nin:""!=u.formCreationSouscripteur?.controls.nin?.value?u.formCreationSouscripteur?.controls.nin?.value:null,telephone:{idContact:u.formCreationSouscripteur?.controls.codeClient?.value?u.formCreationSouscripteur?.controls.idTelephone?.value:0,description:u.formCreationSouscripteur?.controls.telephone?.value},email:{idContact:u.formCreationSouscripteur?.controls.codeClient?.value?u.formCreationSouscripteur?.controls.idEmail?.value:0,description:u.formCreationSouscripteur?.controls.email?.value},adresse:{idAdresse:u.formCreationSouscripteur?.controls.codeClient?.value?u.formCreationSouscripteur?.controls.idAdresse?.value:0,description:u.formCreationSouscripteur?.controls.adresse?.value,wilaya:u.formCreationSouscripteur?.controls.wilaya?.value,commune:u.formCreationSouscripteur?.controls.commune?.value},genre:u.formCreationSouscripteur?.controls.genre?.value,situation:u.formCreationSouscripteur?.controls.situation?.value,profession:{id:u.formCreationSouscripteur?.controls.idProfession?.value,idProfession:u.formCreationSouscripteur?.controls.profession?.value},rib:{},permis:{}};u.jsonAvenant.personnes.push(Re),u.typePersonne=null==u.formCreationAssure?.controls.raisonSocial?.value||""==u.formCreationAssure?.controls.raisonSocial?.value?"PH":"PM";let Oe={role:(u.roles.find(ke=>"CP235"===ke.code)||{}).idParam,typeClient:u.typePersonne,risqueList:[u.contrat.groupeList[0].risques[0].idRisque],idClient:u.formCreationAssure?.controls.codeClient?.value,nom:""!=u.formCreationAssure?.controls.nom?.value?u.formCreationAssure?.controls.nom?.value:null,prenom:""!=u.formCreationAssure?.controls.prenom?.value?u.formCreationAssure?.controls.prenom?.value:null,raisonSocial:""!=u.formCreationAssure?.controls.raisonSocial?.value?u.formCreationAssure?.controls.raisonSocial?.value:null,dateNaissance:u.formCreationAssure?.controls.dateNaissance?.value,nif:""!=u.formCreationAssure?.controls.nif?.value?u.formCreationAssure?.controls.nif?.value:null,nin:""!=u.formCreationAssure?.controls.nin?.value?u.formCreationAssure?.controls.nin?.value:null,telephone:{idContact:u.formCreationAssure?.controls.codeClient?.value?u.formCreationAssure?.controls.idTelephone?.value:0,description:u.formCreationAssure?.controls.telephone?.value},email:{idContact:u.formCreationAssure?.controls.codeClient?.value?u.formCreationAssure?.controls.idEmail?.value:0,description:u.formCreationAssure?.controls.email?.value},adresse:{idAdresse:u.formCreationAssure?.controls.codeClient?.value?u.formCreationAssure?.controls.idAdresse?.value:0,description:u.formCreationAssure?.controls.adresse?.value,wilaya:u.formCreationAssure?.controls.wilaya?.value,commune:u.formCreationAssure?.controls.commune?.value},genre:u.formCreationAssure?.controls.genre?.value,situation:u.formCreationAssure?.controls.situation?.value,profession:{id:u.formCreationAssure?.controls.idProfession?.value,idProfession:u.formCreationAssure?.controls.profession?.value},rib:{idRib:0,description:u.formCreationAssure?.controls.rib?.value},permis:{}};if(u.jsonAvenant.personnes.push(Oe),"45A"==u.codeProduit){u.typePersonne=null==u.formCreationConducteur?.controls.raisonSocial?.value||""==u.formCreationConducteur?.controls.raisonSocial?.value?"PH":"PM";let ke={role:(u.roles.find(Qe=>"CP233"===Qe.code)||{}).idParam,typeClient:u.typePersonne,risqueList:[u.contrat.groupeList[0].risques[0].idRisque],idClient:u.formCreationConducteur?.controls.codeClient?.value,nom:""!=u.formCreationConducteur?.controls.nom?.value?u.formCreationConducteur?.controls.nom?.value:null,prenom:""!=u.formCreationConducteur?.controls.prenom?.value?u.formCreationConducteur?.controls.prenom?.value:null,raisonSocial:null,dateNaissance:u.formCreationConducteur?.controls.dateNaissance?.value,nif:null,nin:"",telephone:{idContact:u.formCreationConducteur?.controls.codeClient?.value?u.formCreationConducteur?.controls.idTelephone?.value:0,description:u.formCreationConducteur?.controls.telephone?.value},email:{idContact:u.formCreationConducteur?.controls.codeClient?.value?u.formCreationConducteur?.controls.idEmail?.value:0,description:u.formCreationConducteur?.controls.email?.value},adresse:{idAdresse:u.formCreationConducteur?.controls.codeClient?.value?u.formCreationConducteur?.controls.idAdresse?.value:0,description:u.formCreationConducteur?.controls.adresse?.value,wilaya:u.formCreationConducteur?.controls.wilaya?.value,commune:u.formCreationConducteur?.controls.commune?.value},genre:"A17"==u.avenant?.code?u.oneRisqueInfo.find(Qe=>"P24"==Qe.codeRisque)?.reponse?.idParamReponse?.idParam:0,situation:u.formCreationConducteur?.controls.situation?.value,profession:{id:u.formCreationConducteur?.controls.idProfession?.value,idProfession:u.formCreationConducteur?.controls.profession?.value},rib:{},permis:{idDocument:0,description:u.formCreationConducteur?.controls.numeroPermis?.value,categorie:u.formCreationConducteur?.controls.categoriePermis?.value,dateDelivrance:"A17"==u.avenant?.code?u.oneRisqueInfo.find(Qe=>"P54"==Qe.codeRisque)?.reponse?.valeur:"",wilayaDelivrance:"A17"==u.avenant?.code?u.oneRisqueInfo.find(Qe=>"P56"==Qe.codeRisque)?.reponse?.valeur:0}};u.avenant.paramRisque.map(Qe=>{if("Conducteur"==Qe.paramRisque.categorieParamRisque.description)switch(Qe.paramRisque.codeParam){case"P56":ke.permis.wilayaDelivrance=+u.formParamRisque?.get(Qe.paramRisque.codeParam)?.value;break;case"P54":ke.permis.dateDelivrance=u.formParamRisque?.get(Qe.paramRisque.codeParam)?.value;break;case"P24":ke.genre=u.formParamRisque?.get(Qe.paramRisque.codeParam)?.value}}),u.jsonAvenant.personnes.push(ke)}}if(u.multiRisqueAvenant||!u.multiRisqueProduct){ve.groupes.map(Qe=>{Qe.groupeList.map(Bt=>{Bt.risque.packCompletList.map(Yt=>{u.groupesPacks.map(dn=>{dn.group==Qe.idGroupe&&dn.pack.garantie.map(Ut=>{Ut.idPackComplet==Yt.idPackComplet&&(Yt.codeGarantie=Ut.codeGarantie)})})})})});let Re=[],Oe=ve.groupes.map(Qe=>({...Qe,groupeList:Qe.groupeList.map(Bt=>({...Bt,risque:{...Bt.risque,packCompletList:[]}}))})),ke=[];u.risquesInvolved.map(Qe=>{ke.push(Qe.idRisque)}),u.contratService.getPackIdRisques(u.contrat.idContrat,ke).subscribe({next:Qe=>{Qe.map(Bt=>{u.risquesInvolved.map(Yt=>{Yt.idRisque==Bt.risque&&(Bt.idGroupe=Yt.idGroupe)})}),Re=Qe,ve.groupes.map(Bt=>{Re.map(Yt=>{Bt.idGroupe==Yt.idGroupe&&Bt.groupeList.map(dn=>{let Ut=[];dn.risque.idRisque==Yt.risque&&(dn.risque.packCompletList.map(gn=>{Ut.push({codeGarantie:gn.codeGarantie,categorieList:gn.categorieList,idPackComplet:gn.idPackComplet,prime:gn.prime,primeProrata:gn.primeProrata,primeReduction:null,nouveau:!0,coefBonusMalus:null,coefButoir:null,description:gn.description})}),Yt.garantieList.map(gn=>{!Ut.some(Pi=>Pi.codeGarantie===gn.codeGarantie)&&"A13"!=u.avenant?.code&&"A18"!=u.avenant?.code&&"A22"!=u.avenant?.code&&Ut.push({codeGarantie:gn.codeGarantie,categorieList:gn.categorieList,idPackComplet:gn.id,prime:gn.prime,primeProrata:gn.primeProrata,primeReduction:null,nouveau:!1,coefBonusMalus:null,coefButoir:null,description:gn.description})}),Oe.map(gn=>{gn.groupeList.map(Fn=>{Fn.risque.idRisque==Yt.risque&&(Fn.risque.packCompletList=Ut)})}))})})}),u.jsonAvenant.groupes=Oe,u.jsonAvenant.primeList=ve.primeList,u.jsonAvenant.taxeList=ve.taxeList,u.returnedTarif.groupes=u.jsonAvenant.groupes,u.multiRisqueProduct&&u.calculPrime()},error:Qe=>{console.log(Qe)}})}else ve.groupes.map(Re=>{Re.groupeList.map(Oe=>{Oe.risque.packCompletList.map(ke=>{ke.nouveau=!0})})}),u.jsonAvenant.groupes=ve.groupes,u.jsonAvenant.primeList=ve.primeList,u.jsonAvenant.taxeList=ve.taxeList,u.multiRisqueProduct&&u.calculPrime();u.multiRisqueProduct&&u.myStepper.next()},error:ve=>{u.loaderTarif=!1,u.handleError(ve)}})})).catch(M=>{console.error("An error occurred:",M)})):("A26"===u.avenant.code&&(console.log("this.devis.groupes ",u.devis.groupes),u.devis.groupes.forEach(M=>{M.groupeList.forEach(W=>{W.risque.packCompletList=[]})})),("45A"==u.codeProduit||"45F"==u.codeProduit||"45L"==u.codeProduit)&&(u.devis.dateEffetAvenant=vt.utc(u.formApplicationAvenant?.get("dateAvenant")?.value).add(1,"hour").toISOString()),"45L"==u.codeProduit&&"A27"==u.avenant?.code?u.decote(u.devis):u.generateTarifNotRenouvellement(u.devis))})()}decote(u){var M=this;return(0,h.Z)(function*(){const W=yield M.cryptoService.generateHmac(M.tkn,u),ve={stringJson:JSON.stringify(u),signature:W};M.devisService.generateDecote(ve).subscribe({next:Re=>{Re.file=null,M.generateTarifNotRenouvellement(Re)},error:Re=>{M.loaderTarif=!1,M.handleError(Re)}})})()}generateTarifNotRenouvellement(u){var M=this;return(0,h.Z)(function*(){const W=yield M.cryptoService.generateHmac(M.tkn,u),ve={stringJson:JSON.stringify(u),signature:W};M.devisService.generateTarif(ve).subscribe({next:Re=>{if(console.log("tariiiiiiiiiiiiiiiiiiiiiif"),M.returnedTarif=Re,2!=M.formStep)if(M.errorHandler.error=!1,M.errorHandler.msg="",M.tarifReady=!0,M.calcul=!1,M.loaderTarif=!1,M.garantieTab.map(ke=>{ke.prime=null,Re.groupes[0].groupeList[0].risque.packCompletList.map(Qe=>{ke.idPackComplet==Qe.idPackComplet&&(ke.prime=Qe.prime)}),"95"==M.codeProduit&&ke.sousGarantieList.data.map(Qe=>{Qe.prime=null,Re.groupes[0].groupeList[0].risque.packCompletList.map(Bt=>{Qe.idPackComplet==Bt.idPackComplet&&(Qe.prime=Bt.prime)})})}),M.PrimeTotaleTarif=Re.primeList?.find(ke=>101==ke.idPrime)?.prime,M.dataSource=new Le.by(M.garantieTab),M.jsonAvenant=Re,M.multiRisqueAvenant||!M.multiRisqueProduct){Re.groupes.map(Yt=>{Yt.groupeList.map(dn=>{dn.risque.packCompletList.map(Ut=>{M.groupesPacks.map(gn=>{gn.group==Yt.idGroupe&&gn.pack.garantie.map(Fn=>{Fn.idPackComplet==Ut.idPackComplet&&(Ut.codeGarantie=Fn.codeGarantie)})})})})});let ke=[],Qe=Re.groupes.map(Yt=>({...Yt,groupeList:Yt.groupeList.map(dn=>({...dn,risque:{...dn.risque,packCompletList:[]}}))})),Bt=[];M.risquesInvolved.map(Yt=>{Bt.push(Yt.idRisque)}),M.contratService.getPackIdRisques(M.contrat.idContrat,Bt).subscribe({next:Yt=>{Yt.map(dn=>{M.risquesInvolved.map(Ut=>{Ut.idRisque==dn.risque&&(dn.idGroupe=Ut.idGroupe)})}),ke=Yt,Re.groupes.map(dn=>{ke.map(Ut=>{dn.idGroupe==Ut.idGroupe&&dn.groupeList.map(gn=>{let Fn=[];gn.risque.idRisque==Ut.risque&&(gn.risque.packCompletList.map(Pi=>{Fn.push({codeGarantie:Pi.codeGarantie,categorieList:Pi.categorieList,idPackComplet:Pi.idPackComplet,prime:Pi.prime,primeProrata:Pi.primeProrata,primeReduction:null,nouveau:!0,coefBonusMalus:null,coefButoir:null,description:Pi.description})}),Ut.garantieList.map(Pi=>{!Fn.some(ta=>ta.codeGarantie===Pi.codeGarantie)&&"A13"!=M.avenant?.code&&"A18"!=M.avenant?.code&&"A22"!=M.avenant?.code&&Fn.push({codeGarantie:Pi.codeGarantie,categorieList:Pi.categorieList,idPackComplet:Pi.id,prime:Pi.prime,primeProrata:Pi.primeProrata,primeReduction:null,nouveau:!1,coefBonusMalus:null,coefButoir:null,description:Pi.description})}),Qe.map(Pi=>{Pi.groupeList.map(ki=>{ki.risque.idRisque==Ut.risque&&(ki.risque.packCompletList=Fn)})}))})})}),M.jsonAvenant.groupes=Qe,M.jsonAvenant.primeList=Re.primeList,M.jsonAvenant.taxeList=Re.taxeList,M.multiRisqueProduct&&M.calculPrime()},error:Yt=>{console.log(Yt)}})}else Re.groupes.map(ke=>{ke.groupeList.map(Qe=>{Qe.risque.packCompletList.map(Bt=>{Bt.nouveau=!0})})}),M.jsonAvenant.groupes=Re.groupes,M.jsonAvenant.primeList=Re.primeList,M.jsonAvenant.taxeList=Re.taxeList,M.multiRisqueProduct&&M.calculPrime();else Re.groupes.map(Oe=>{Oe.groupeList.map(ke=>{ke.risque.packCompletList.map(Qe=>{Qe.nouveau=!0})})}),M.jsonAvenant=Re,M.calculPrime()},error:Re=>{M.loaderTarif=!1,M.handleError(Re)}})})()}gestionErreurPack(u,M,W){W.controls.forEach(ie=>{ie.value.idPackComplet==u&&"formule"==M?null==ie.value.formule&&!ie.controls.formule.disabled&&(this.errorPackForm=!0):ie.value.idPackComplet==u&&"plafond"==M?null==ie.value.plafond&&!ie.controls.plafond.disabled&&(this.errorPackForm=!0):ie.value.idPackComplet==u&&"franchise"==M&&null==ie.value.franchise&&!ie.controls.franchise.disabled&&(this.errorPackForm=!0)})}changePersonne(u){switch(u){case"Souscripteur":this.isConducteur&&(this.formCreationConducteur.get("nom").enable(),this.formCreationConducteur.get("prenom").enable(),this.formCreationConducteur.get("dateNaissance").enable(),this.formCreationConducteur.get("nom").setValue(""),this.formCreationConducteur.get("prenom").setValue(""),this.formCreationConducteur.get("dateNaissance").setValue(null),this.formCreationConducteur.updateValueAndValidity()),this.isConducteur=!1,this.isAssure=!1,this.formCreationSouscripteur.get("nom").enable(),this.formCreationSouscripteur.get("prenom").enable(),this.formCreationSouscripteur.get("dateNaissance").enable();break;case"Conducteur":this.isConducteur=!1,this.isConducteurAssure=!1,this.formCreationConducteur.get("nom").enable(),this.formCreationConducteur.get("prenom").enable(),this.formCreationConducteur.get("dateNaissance").enable();break;case"Assure":this.isAssure&&(this.formCreationSouscripteur.get("nom").enable(),this.formCreationSouscripteur.get("prenom").enable(),this.formCreationSouscripteur.get("dateNaissance").enable(),this.formCreationSouscripteur.get("nom").setValue(""),this.formCreationSouscripteur.get("prenom").setValue(""),this.formCreationSouscripteur.get("dateNaissance").setValue(null),this.formCreationSouscripteur.updateValueAndValidity()),this.isConducteurAssure&&(this.formCreationConducteur.get("nom").enable(),this.formCreationConducteur.get("prenom").enable(),this.formCreationConducteur.get("dateNaissance").enable(),this.formCreationConducteur.get("nom").setValue(""),this.formCreationConducteur.get("prenom").setValue(""),this.formCreationConducteur.get("dateNaissance").setValue(null),this.formCreationConducteur.updateValueAndValidity()),this.isAssure=!1,this.isConducteurAssure=!1}}backk(){this.myStepper.selectedIndex=1}stepnext(){this.myStepper.next()}calculPrime(){var u=this;return(0,h.Z)(function*(){if("45A"==u.codeProduit&&"A172"==u.avenant.code&&!(u.avenantOrganismeList.length>=1)&&ut().fire({icon:"error",title:"Erreur",text:"La liste des Organismes ne peut pas etre vide .",confirmButtonText:"OK"}).then(()=>{u.myStepper.previous()}),"A20"==u.avenant?.code&&u.formParamRisque.get("groupe")?.setValidators([w.kI.required]),u.formParamRisque.valid||2==u.formStep){if(u.loaderCalcul=!0,u.jsonAvenant.idTypeAvenant=u.formApplicationAvenant.get("idTypeAvenant")?.value,u.jsonAvenant.idContrat=u.formApplicationAvenant.get("idContrat")?.value,u.jsonAvenant.dateAvenant=u.formApplicationAvenant.get("dateAvenant")?.value,u.jsonAvenant.agence=u.formApplicationAvenant.get("agence")?.value,u.avenant?.attestation&&(u.jsonAvenant.numAttestation=u.formApplicationAvenant.value.attestation),u.jsonAvenant.motif={},u.jsonAvenant.motif.idMotif=u.formApplicationAvenant.value.motif.idMotif.idMotif,u.jsonAvenant.motif.commentaire=u.formApplicationAvenant.value.commentaire,u.jsonAvenant.attributList=[],u.avenant.attributs.forEach(W=>{u.jsonAvenant.attributList.push({idAttribut:W.idAtrribut.idAttribut,valeur:u.formApplicationAvenant.get(W.idAtrribut.nomBdd)?.value})}),u.avenant.tarifaire||(u.jsonAvenant.groupes=u.risqueGroupe),u.multiRisqueProduct||u.avenant.tarifaire||(u.jsonAvenant.groupes[0].groupeList[0].risque.paramList=[],u.avenant.paramRisque.forEach(W=>{let ie={};"Liste of values"==W.paramRisque?.typeChamp?.description?ie={idParam:W.paramRisque.idParamRisque,reponse:{idReponse:null,description:u.formParamRisque.get(W.paramRisque.codeParam)?.value}}:"date"!=W.paramRisque?.typeChamp?.description?ie=34==W.paramRisque?.idParamRisque?{idParam:W.paramRisque.idParamRisque,reponse:{idReponse:null,description:String(Number(u.formParamRisque.get(W.paramRisque.codeParam)?.value))}}:"P56"==W.paramRisque.codeParam||"P98"==W.paramRisque.codeParam||"P25"==W.paramRisque.codeParam||"P26"==W.paramRisque.codeParam?{idParam:W.paramRisque.idParamRisque,reponse:{idReponse:u.formParamRisque.get(W.paramRisque.codeParam)?.value,description:""}}:{idParam:W.paramRisque.idParamRisque,reponse:{idReponse:null,description:u.formParamRisque.get(W.paramRisque.codeParam)?.value}}:(u.formParamRisque.get(W.paramRisque.codeParam)?.setValue(u.formParamRisque.get(W.paramRisque.codeParam)?.value),ie={idParam:W.paramRisque.idParamRisque,reponse:{idReponse:null,description:u.formParamRisque.get(W.paramRisque.codeParam)?.value}}),u.jsonAvenant.groupes[0].groupeList[0].risque.paramList.push(ie)})),u.jsonAvenant.personnes=[],u.isAssure&&u.isConducteur){console.log("quake5"),u.typePersonne=null==u.formCreationAssure?.controls.raisonSocial?.value||""==u.formCreationAssure?.controls.raisonSocial?.value?"PH":"PM";let W={role:(u.roles.find(ie=>"CP238"===ie.code)||{}).idParam,risqueList:u.contrat?.groupeList?[u.contrat?.groupeList[0]?.risques[0].idRisque]:[],typeClient:u.typePersonne,idClient:u.formCreationAssure?.controls.codeClient?.value,nom:""!=u.formCreationSouscripteur?.controls.nom?.value?u.formCreationSouscripteur?.controls.nom?.value:null,prenom:""!=u.formCreationSouscripteur?.controls.prenom?.value?u.formCreationSouscripteur?.controls.prenom?.value:null,raisonSocial:""!=u.formCreationSouscripteur?.controls.raisonSocial?.value?u.formCreationSouscripteur?.controls.raisonSocial?.value:null,dateNaissance:u.formCreationConducteur?.controls.dateNaissance?.value,nif:""!=u.formCreationSouscripteur?.controls.nif?.value?u.formCreationSouscripteur?.controls.nif?.value:null,nin:""!=u.formCreationSouscripteur?.controls.nin?.value?u.formCreationSouscripteur?.controls.nin?.value:null,telephone:{idContact:u.formCreationAssure?.controls.codeClient?.value?u.formCreationAssure?.controls.idTelephone?.value:0,description:u.formCreationSouscripteur?.controls.telephone?.value},email:{idContact:u.formCreationAssure?.controls.codeClient?.value?u.formCreationAssure?.controls.idEmail?.value:0,description:u.formCreationSouscripteur?.controls.email?.value},adresse:{idAdresse:u.formCreationAssure?.controls.codeClient?.value?u.formCreationAssure?.controls.idAdresse?.value:0,description:u.formCreationSouscripteur?.controls.adresse?.value,wilaya:u.formCreationSouscripteur?.controls.wilaya?.value,commune:u.formCreationSouscripteur?.controls.commune?.value},genre:u.formCreationSouscripteur?.controls.genre?.value,situation:u.formCreationSouscripteur?.controls.situation?.value,profession:{id:u.formCreationAssure?.controls.idProfession?.value,idProfession:u.formCreationSouscripteur?.controls.profession?.value},rib:{idRib:0,description:u.formCreationAssure?.controls.rib?.value},permis:{idDocument:0,description:u.formCreationConducteur?.controls.numeroPermis?.value,categorie:u.formCreationConducteur?.controls.categoriePermis?.value,dateDelivrance:"",wilayaDelivrance:0}};u.avenant.paramRisque.map(ie=>{if("Conducteur"==ie.paramRisque.categorieParamRisque.description)switch(ie.paramRisque.codeParam){case"P56":W.permis.wilayaDelivrance=+u.formParamRisque?.get(ie.paramRisque.codeParam)?.value;break;case"P54":W.permis.dateDelivrance=u.formParamRisque?.get(ie.paramRisque.codeParam)?.value}}),u.jsonAvenant.personnes.push(W)}else if(u.isAssure&&u.isConducteurAssure){console.log("quake7"),u.typePersonne=null==u.formCreationAssure?.controls.raisonSocial?.value||""==u.formCreationAssure?.controls.raisonSocial?.value?"PH":"PM";{let W={role:(u.roles.find(ie=>"CP238"===ie.code)||{}).idParam,risqueList:u.contrat?.groupeList?[u.contrat?.groupeList[0]?.risques[0].idRisque]:[],typeClient:u.typePersonne,idClient:u.formCreationAssure?.controls.codeClient?.value,nom:""!=u.formCreationAssure?.controls.nom?.value?u.formCreationAssure?.controls.nom?.value:null,prenom:""!=u.formCreationAssure?.controls.prenom?.value?u.formCreationAssure?.controls.prenom?.value:null,raisonSocial:""!=u.formCreationAssure?.controls.raisonSocial?.value?u.formCreationAssure?.controls.raisonSocial?.value:null,dateNaissance:u.formCreationConducteur?.controls.dateNaissance?.value,nif:""!=u.formCreationAssure?.controls.nif?.value?u.formCreationAssure?.controls.nif?.value:null,nin:""!=u.formCreationAssure?.controls.nin?.value?u.formCreationAssure?.controls.nin?.value:null,telephone:{idContact:u.formCreationAssure?.controls.codeClient?.value?u.formCreationAssure?.controls.idTelephone?.value:0,description:u.formCreationAssure?.controls.telephone?.value},email:{idContact:u.formCreationAssure?.controls.codeClient?.value?u.formCreationAssure?.controls.idEmail?.value:0,description:u.formCreationAssure?.controls.email?.value},adresse:{idAdresse:u.formCreationAssure?.controls.codeClient?.value?u.formCreationAssure?.controls.idAdresse?.value:0,description:u.formCreationAssure?.controls.adresse?.value,wilaya:u.formCreationAssure?.controls.wilaya?.value,commune:u.formCreationAssure?.controls.commune?.value},genre:u.formCreationAssure?.controls.genre?.value,situation:u.formCreationAssure?.controls.situation?.value,profession:{id:u.formCreationAssure?.controls.idProfession?.value,idProfession:u.formCreationAssure?.controls.profession?.value},rib:{idRib:0,description:u.formCreationAssure?.controls.rib?.value},permis:{idDocument:0,description:u.formCreationConducteur?.controls.numeroPermis?.value,categorie:u.formCreationConducteur?.controls.categoriePermis?.value,dateDelivrance:"",wilayaDelivrance:0}};u.avenant.paramRisque.map(ie=>{if("Conducteur"==ie.paramRisque.categorieParamRisque.description)switch(ie.paramRisque.codeParam){case"P56":W.permis.wilayaDelivrance=+u.formParamRisque?.get(ie.paramRisque.codeParam)?.value;break;case"P54":W.permis.dateDelivrance=u.formParamRisque?.get(ie.paramRisque.codeParam)?.value}}),u.jsonAvenant.personnes.push(W)}}else if(u.isAssure){u.typePersonne=null==u.formCreationAssure?.controls.raisonSocial?.value||""==u.formCreationAssure?.controls.raisonSocial?.value?"PH":"PM";let W={role:(u.roles.find(ie=>"CP236"===ie.code)||{}).idParam,idClient:u.formCreationAssure?.controls.codeClient?.value,nom:""!=u.formCreationAssure?.controls.nom?.value?u.formCreationAssure?.controls.nom?.value:null,prenom:""!=u.formCreationAssure?.controls.prenom?.value?u.formCreationAssure?.controls.prenom?.value:null,raisonSocial:""!=u.formCreationAssure?.controls.raisonSocial?.value?u.formCreationAssure?.controls.raisonSocial?.value:null,dateNaissance:u.formCreationAssure?.controls.dateNaissance?.value,nif:""!=u.formCreationAssure?.controls.nif?.value?u.formCreationAssure?.controls.nif?.value:null,nin:""!=u.formCreationAssure?.controls.nin?.value?u.formCreationAssure?.controls.nin?.value:null,risqueList:u.contrat?.groupeList?[u.contrat?.groupeList[0]?.risques[0].idRisque]:[],typeClient:u.typePersonne,telephone:{idContact:u.formCreationAssure?.controls.codeClient?.value?u.formCreationAssure?.controls.idTelephone?.value:0,description:u.formCreationAssure?.controls.telephone?.value},email:{idContact:u.formCreationAssure?.controls.codeClient?.value?u.formCreationAssure?.controls.idEmail?.value:0,description:u.formCreationAssure?.controls.email?.value},adresse:{idAdresse:u.formCreationAssure?.controls.codeClient?.value?u.formCreationAssure?.controls.idAdresse?.value:0,description:u.formCreationAssure?.controls.adresse?.value,wilaya:u.formCreationAssure?.controls.wilaya?.value,commune:u.formCreationAssure?.controls.commune?.value},genre:u.formCreationAssure?.controls.genre?.value,situation:u.formCreationAssure?.controls.situation?.value,profession:{id:u.formCreationAssure?.controls.idProfession?.value,idProfession:u.formCreationAssure?.controls.profession?.value},rib:{idRib:0,description:u.formCreationAssure?.controls.rib?.value},permis:{}};if(u.jsonAvenant.personnes.push(W),"45A"==u.codeProduit){u.typePersonne=null==u.formCreationConducteur?.controls.raisonSocial?.value||""==u.formCreationConducteur?.controls.raisonSocial?.value?"PH":"PM";let ie={role:(u.roles.find(ve=>"CP233"===ve.code)||{}).idParam,typeClient:u.typePersonne,risqueList:u.contrat?.groupeList?[u.contrat?.groupeList[0]?.risques[0].idRisque]:[],idClient:u.formCreationConducteur?.controls.codeClient?.value,nom:""!=u.formCreationConducteur?.controls.nom?.value?u.formCreationConducteur?.controls.nom?.value:null,prenom:""!=u.formCreationConducteur?.controls.prenom?.value?u.formCreationConducteur?.controls.prenom?.value:null,raisonSocial:null,dateNaissance:u.formCreationConducteur?.controls.dateNaissance?.value,nif:null,nin:"",telephone:{idContact:u.formCreationConducteur?.controls.codeClient?.value?u.formCreationConducteur?.controls.idTelephone?.value:0,description:u.formCreationConducteur?.controls.telephone?.value},email:{idContact:u.formCreationConducteur?.controls.codeClient?.value?u.formCreationConducteur?.controls.idEmail?.value:0,description:u.formCreationConducteur?.controls.email?.value},adresse:{idAdresse:u.formCreationConducteur?.controls.codeClient?.value?u.formCreationConducteur?.controls.idAdresse?.value:0,description:u.formCreationConducteur?.controls.adresse?.value,wilaya:u.formCreationConducteur?.controls.wilaya?.value,commune:u.formCreationConducteur?.controls.commune?.value},genre:"A17"==u.avenant?.code||"A26"==u.avenant?.code?u.oneRisqueInfo.find(ve=>"P24"==ve.codeRisque)?.reponse?.idParamReponse?.idParam:0,situation:u.formCreationConducteur?.controls.situation?.value,profession:{id:u.formCreationConducteur?.controls.idProfession?.value,idProfession:u.formCreationConducteur?.controls.profession?.value},rib:{},permis:{idDocument:0,description:u.formCreationConducteur?.controls.numeroPermis?.value,categorie:u.formCreationConducteur?.controls.categoriePermis?.value,dateDelivrance:"A17"==u.avenant?.code||"A26"==u.avenant?.code?u.oneRisqueInfo.find(ve=>"P54"==ve.codeRisque)?.reponse?.valeur:"",wilayaDelivrance:"A17"==u.avenant?.code||"A26"==u.avenant?.code?u.oneRisqueInfo.find(ve=>"P56"==ve.codeRisque)?.reponse?.valeur:0}};u.avenant.paramRisque.map(ve=>{if("Conducteur"==ve.paramRisque.categorieParamRisque.description)switch(ve.paramRisque.codeParam){case"P56":ie.permis.wilayaDelivrance=+u.formParamRisque?.get(ve.paramRisque.codeParam)?.value;break;case"P54":ie.permis.dateDelivrance=u.formParamRisque?.get(ve.paramRisque.codeParam)?.value;break;case"P24":ie.genre=u.formParamRisque?.get(ve.paramRisque.codeParam)?.value}}),u.jsonAvenant.personnes.push(ie)}}else if(u.isConducteur){u.typePersonne=null==u.formCreationSouscripteur?.controls.raisonSocial?.value||""==u.formCreationSouscripteur?.controls.raisonSocial?.value?"PH":"PM";let W={role:(u.roles.find(ve=>"CP237"===ve.code)||{}).idParam,risqueList:u.contrat?.groupeList?[u.contrat?.groupeList[0]?.risques[0].idRisque]:[],typeClient:u.typePersonne,idClient:u.formCreationSouscripteur?.controls.codeClient?.value,nom:""!=u.formCreationSouscripteur?.controls.nom?.value?u.formCreationSouscripteur?.controls.nom?.value:null,prenom:""!=u.formCreationSouscripteur?.controls.prenom?.value?u.formCreationSouscripteur?.controls.prenom?.value:null,raisonSocial:""!=u.formCreationSouscripteur?.controls.raisonSocial?.value?u.formCreationSouscripteur?.controls.raisonSocial?.value:null,dateNaissance:u.formCreationConducteur?.controls.dateNaissance?.value,nif:""!=u.formCreationSouscripteur?.controls.nif?.value?u.formCreationSouscripteur?.controls.nif?.value:null,nin:""!=u.formCreationSouscripteur?.controls.nin?.value?u.formCreationSouscripteur?.controls.nin?.value:null,telephone:{idContact:u.formCreationSouscripteur?.controls.codeClient?.value?u.formCreationSouscripteur?.controls.idTelephone?.value:0,description:u.formCreationSouscripteur?.controls.telephone?.value},email:{idContact:u.formCreationSouscripteur?.controls.codeClient?.value?u.formCreationSouscripteur?.controls.idEmail?.value:0,description:u.formCreationSouscripteur?.controls.email?.value},adresse:{idAdresse:u.formCreationSouscripteur?.controls.codeClient?.value?u.formCreationSouscripteur?.controls.idAdresse?.value:0,description:u.formCreationSouscripteur?.controls.adresse?.value,wilaya:u.formCreationSouscripteur?.controls.wilaya?.value,commune:u.formCreationSouscripteur?.controls.commune?.value},genre:u.formCreationSouscripteur?.controls.genre?.value,situation:u.formCreationSouscripteur?.controls.situation?.value,profession:{id:u.formCreationSouscripteur?.controls.idProfession?.value,idProfession:u.formCreationSouscripteur?.controls.profession?.value},rib:{},permis:{idDocument:0,description:u.formCreationConducteur?.controls.numeroPermis?.value,categorie:u.formCreationConducteur?.controls.categoriePermis?.value,dateDelivrance:"",wilayaDelivrance:0}};u.avenant.paramRisque.map(ve=>{if("Conducteur"==ve.paramRisque.categorieParamRisque.description)switch(ve.paramRisque.codeParam){case"P56":W.permis.wilayaDelivrance=+u.formParamRisque?.get(ve.paramRisque.codeParam)?.value;break;case"P54":W.permis.dateDelivrance=u.formParamRisque?.get(ve.paramRisque.codeParam)?.value}}),u.jsonAvenant.personnes.push(W),u.typePersonne=null==u.formCreationAssure?.controls.raisonSocial?.value||""==u.formCreationAssure?.controls.raisonSocial?.value?"PH":"PM";let ie={role:(u.roles.find(ve=>"CP235"===ve.code)||{}).idParam,risqueList:u.contrat?.groupeList?[u.contrat?.groupeList[0]?.risques[0].idRisque]:[],typeClient:u.typePersonne,idClient:u.formCreationAssure?.controls.codeClient?.value,nom:""!=u.formCreationAssure?.controls.nom?.value?u.formCreationAssure?.controls.nom?.value:null,prenom:""!=u.formCreationAssure?.controls.prenom?.value?u.formCreationAssure?.controls.prenom?.value:null,raisonSocial:""!=u.formCreationAssure?.controls.raisonSocial?.value?u.formCreationAssure?.controls.raisonSocial?.value:null,dateNaissance:u.formCreationAssure?.controls.dateNaissance?.value,nif:""!=u.formCreationAssure?.controls.nif?.value?u.formCreationAssure?.controls.nif?.value:null,nin:""!=u.formCreationAssure?.controls.nin?.value?u.formCreationAssure?.controls.nin?.value:null,telephone:{idContact:u.formCreationAssure?.controls.codeClient?.value&&u.formCreationAssure?.controls.codeClient?.value?u.formCreationAssure?.controls.idTelephone?.value:0,description:u.formCreationAssure?.controls.telephone?.value},email:{idContact:u.formCreationAssure?.controls.codeClient?.value&&u.formCreationAssure?.controls.codeClient?.value?u.formCreationAssure?.controls.idEmail?.value:0,description:u.formCreationAssure?.controls.email?.value},adresse:{idAdresse:u.formCreationAssure?.controls.codeClient?.value&&u.formCreationAssure?.controls.codeClient?.value?u.formCreationAssure?.controls.idAdresse?.value:0,description:u.formCreationAssure?.controls.adresse?.value,wilaya:u.formCreationAssure?.controls.wilaya?.value,commune:u.formCreationAssure?.controls.commune?.value},genre:u.formCreationAssure?.controls.genre?.value,situation:u.formCreationAssure?.controls.situation?.value,profession:{id:u.formCreationAssure?.controls.idProfession?.value,idProfession:u.formCreationAssure?.controls.profession?.value},rib:{idRib:0,description:u.formCreationAssure?.controls.rib?.value},permis:{}};u.jsonAvenant.personnes.push(ie)}else if(u.isConducteurAssure){u.typePersonne=null==u.formCreationAssure?.controls.raisonSocial?.value||""==u.formCreationAssure?.controls.raisonSocial?.value?"PH":"PM",console.log("quake9");let W={role:(u.roles.find(ve=>"CP234"===ve.code)||{}).idParam,typeClient:u.typePersonne,risqueList:u.contrat?.groupeList?[u.contrat?.groupeList[0]?.risques[0].idRisque]:[],idClient:u.formCreationSouscripteur?.controls.codeClient?.value,nom:""!=u.formCreationSouscripteur?.controls.nom?.value?u.formCreationSouscripteur?.controls.nom?.value:null,prenom:""!=u.formCreationSouscripteur?.controls.prenom?.value?u.formCreationSouscripteur?.controls.prenom?.value:null,raisonSocial:""!=u.formCreationSouscripteur?.controls.raisonSocial?.value?u.formCreationSouscripteur?.controls.raisonSocial?.value:null,dateNaissance:u.formCreationSouscripteur?.controls.dateNaissance?.value,nif:""!=u.formCreationSouscripteur?.controls.nif?.value?u.formCreationSouscripteur?.controls.nif?.value:null,nin:""!=u.formCreationSouscripteur?.controls.nin?.value?u.formCreationSouscripteur?.controls.nin?.value:null,telephone:{idContact:u.formCreationSouscripteur?.controls.codeClient?.value?u.formCreationSouscripteur?.controls.idTelephone?.value:0,description:u.formCreationSouscripteur?.controls.telephone?.value},email:{idContact:u.formCreationSouscripteur?.controls.codeClient?.value?u.formCreationSouscripteur?.controls.idEmail?.value:0,description:u.formCreationSouscripteur?.controls.email?.value},adresse:{idAdresse:u.formCreationSouscripteur?.controls.codeClient?.value?u.formCreationSouscripteur?.controls.idAdresse?.value:0,description:u.formCreationSouscripteur?.controls.adresse?.value,wilaya:u.formCreationSouscripteur?.controls.wilaya?.value,commune:u.formCreationSouscripteur?.controls.commune?.value},genre:u.formCreationSouscripteur?.controls.genre?.value,situation:u.formCreationSouscripteur?.controls.situation?.value,profession:{id:u.formCreationSouscripteur?.controls.idProfession?.value,idProfession:u.formCreationSouscripteur?.controls.profession?.value},rib:{},permis:{}};u.jsonAvenant.personnes.push(W),u.typePersonne=null==u.formCreationAssure?.controls.raisonSocial?.value||""==u.formCreationAssure?.controls.raisonSocial?.value?"PH":"PM";let ie={role:(u.roles.find(ve=>"CP240"===ve.code)||{}).idParam,risqueList:u.contrat?.groupeList?[u.contrat?.groupeList[0]?.risques[0].idRisque]:[],typeClient:u.typePersonne,idClient:u.formCreationAssure?.controls.codeClient?.value,nom:""!=u.formCreationAssure?.controls.nom?.value?u.formCreationAssure?.controls.nom?.value:null,prenom:""!=u.formCreationAssure?.controls.prenom?.value?u.formCreationAssure?.controls.prenom?.value:null,raisonSocial:""!=u.formCreationAssure?.controls.raisonSocial?.value?u.formCreationAssure?.controls.raisonSocial?.value:null,dateNaissance:u.formCreationConducteur?.controls.dateNaissance?.value,nif:""!=u.formCreationAssure?.controls.nif?.value?u.formCreationAssure?.controls.nif?.value:null,nin:""!=u.formCreationAssure?.controls.nin?.value?u.formCreationAssure?.controls.nin?.value:null,telephone:{idContact:u.formCreationAssure?.controls.codeClient?.value?u.formCreationAssure?.controls.idTelephone?.value:0,description:u.formCreationAssure?.controls.telephone?.value},email:{idContact:u.formCreationAssure?.controls.codeClient?.value?u.formCreationAssure?.controls.idEmail?.value:0,description:u.formCreationAssure?.controls.email?.value},adresse:{idAdresse:u.formCreationAssure?.controls.codeClient?.value?u.formCreationAssure?.controls.idAdresse?.value:0,description:u.formCreationAssure?.controls.adresse?.value,wilaya:u.formCreationAssure?.controls.wilaya?.value,commune:u.formCreationAssure?.controls.commune?.value},genre:u.formCreationAssure?.controls.genre?.value,situation:u.formCreationAssure?.controls.situation?.value,profession:{id:u.formCreationAssure?.controls.idProfession?.value,idProfession:u.formCreationAssure?.controls.profession?.value},rib:{idRib:0,description:u.formCreationAssure?.controls.rib?.value},permis:{idDocument:0,description:u.formCreationConducteur?.controls.numeroPermis?.value,categorie:u.formCreationConducteur?.controls.categoriePermis?.value,dateDelivrance:"",wilayaDelivrance:0}};u.avenant.paramRisque.map(ve=>{if("Conducteur"==ve.paramRisque.categorieParamRisque.description)switch(ve.paramRisque.codeParam){case"P56":ie.permis.wilayaDelivrance=+u.formParamRisque?.get(ve.paramRisque.codeParam)?.value;break;case"P54":ie.permis.dateDelivrance=u.formParamRisque?.get(ve.paramRisque.codeParam)?.value;break;case"P24":ie.genre=u.formParamRisque?.get(ve.paramRisque.codeParam)?.value}}),u.jsonAvenant.personnes.push(ie)}else{u.typePersonne=null==u.formCreationSouscripteur?.controls.raisonSocial?.value||""==u.formCreationSouscripteur?.controls.raisonSocial?.value?"PH":"PM";let W={role:(u.roles.find(ve=>"CP234"===ve.code)||{}).idParam,risqueList:u.contrat?.groupeList?[u.contrat?.groupeList[0]?.risques[0].idRisque]:[],typeClient:u.typePersonne,idClient:u.formCreationSouscripteur?.controls.codeClient?.value,nom:""!=u.formCreationSouscripteur?.controls.nom?.value?u.formCreationSouscripteur?.controls.nom?.value:null,prenom:""!=u.formCreationSouscripteur?.controls.prenom?.value?u.formCreationSouscripteur?.controls.prenom?.value:null,raisonSocial:""!=u.formCreationSouscripteur?.controls.raisonSocial?.value?u.formCreationSouscripteur?.controls.raisonSocial?.value:null,dateNaissance:u.formCreationSouscripteur?.controls.dateNaissance?.value,nif:""!=u.formCreationSouscripteur?.controls.nif?.value?u.formCreationSouscripteur?.controls.nif?.value:null,nin:""!=u.formCreationSouscripteur?.controls.nin?.value?u.formCreationSouscripteur?.controls.nin?.value:null,telephone:{idContact:u.formCreationSouscripteur?.controls.codeClient?.value?u.formCreationSouscripteur?.controls.idTelephone?.value:0,description:u.formCreationSouscripteur?.controls.telephone?.value},email:{idContact:u.formCreationSouscripteur?.controls.codeClient?.value?u.formCreationSouscripteur?.controls.idEmail?.value:0,description:u.formCreationSouscripteur?.controls.email?.value},adresse:{idAdresse:u.formCreationSouscripteur?.controls.codeClient?.value?u.formCreationSouscripteur?.controls.idAdresse?.value:0,description:u.formCreationSouscripteur?.controls.adresse?.value,wilaya:u.formCreationSouscripteur?.controls.wilaya?.value,commune:u.formCreationSouscripteur?.controls.commune?.value},genre:u.formCreationSouscripteur?.controls.genre?.value,situation:u.formCreationSouscripteur?.controls.situation?.value,profession:{id:u.formCreationSouscripteur?.controls.idProfession?.value,idProfession:u.formCreationSouscripteur?.controls.profession?.value},rib:{},permis:{}};u.jsonAvenant.personnes.push(W),u.typePersonne=null==u.formCreationAssure?.controls.raisonSocial?.value||""==u.formCreationAssure?.controls.raisonSocial?.value?"PH":"PM";let ie={role:(u.roles.find(ve=>"CP235"===ve.code)||{}).idParam,risqueList:u.contrat?.groupeList?[u.contrat?.groupeList[0]?.risques[0].idRisque]:[],typeClient:u.typePersonne,idClient:u.formCreationAssure?.controls.codeClient?.value,nom:""!=u.formCreationAssure?.controls.nom?.value?u.formCreationAssure?.controls.nom?.value:null,prenom:""!=u.formCreationAssure?.controls.prenom?.value?u.formCreationAssure?.controls.prenom?.value:null,raisonSocial:""!=u.formCreationAssure?.controls.raisonSocial?.value?u.formCreationAssure?.controls.raisonSocial?.value:null,dateNaissance:u.formCreationAssure?.controls.dateNaissance?.value,nif:""!=u.formCreationAssure?.controls.nif?.value?u.formCreationAssure?.controls.nif?.value:null,nin:""!=u.formCreationAssure?.controls.nin?.value?u.formCreationAssure?.controls.nin?.value:null,telephone:{idContact:u.formCreationAssure?.controls.codeClient?.value?u.formCreationAssure?.controls.idTelephone?.value:0,description:u.formCreationAssure?.controls.telephone?.value},email:{idContact:u.formCreationAssure?.controls.codeClient?.value?u.formCreationAssure?.controls.idEmail?.value:0,description:u.formCreationAssure?.controls.email?.value},adresse:{idAdresse:u.formCreationAssure?.controls.codeClient?.value?u.formCreationAssure?.controls.idAdresse?.value:0,description:u.formCreationAssure?.controls.adresse?.value,wilaya:u.formCreationAssure?.controls.wilaya?.value,commune:u.formCreationAssure?.controls.commune?.value},genre:u.formCreationAssure?.controls.genre?.value,situation:u.formCreationAssure?.controls.situation?.value,profession:{id:u.formCreationAssure?.controls.idProfession?.value,idProfession:u.formCreationAssure?.controls.profession?.value},rib:{idRib:0,description:u.formCreationAssure?.controls.rib?.value},permis:{}};if(u.jsonAvenant.personnes.push(ie),"45A"==u.codeProduit){u.typePersonne=null==u.formCreationConducteur?.controls.raisonSocial?.value||""==u.formCreationConducteur?.controls.raisonSocial?.value?"PH":"PM";let ve={role:(u.roles.find(Re=>"CP233"===Re.code)||{}).idParam,typeClient:u.typePersonne,risqueList:u.contrat?.groupeList?[u.contrat?.groupeList[0]?.risques[0].idRisque]:[],idClient:u.formCreationConducteur?.controls.codeClient?.value,nom:""!=u.formCreationConducteur?.controls.nom?.value?u.formCreationConducteur?.controls.nom?.value:null,prenom:""!=u.formCreationConducteur?.controls.prenom?.value?u.formCreationConducteur?.controls.prenom?.value:null,raisonSocial:null,dateNaissance:u.formCreationConducteur?.controls.dateNaissance?.value,nif:null,nin:"",telephone:{idContact:u.formCreationConducteur?.controls.codeClient?.value?u.formCreationConducteur?.controls.idTelephone?.value:0,description:u.formCreationConducteur?.controls.telephone?.value},email:{idContact:u.formCreationConducteur?.controls.codeClient?.value?u.formCreationConducteur?.controls.idEmail?.value:0,description:u.formCreationConducteur?.controls.email?.value},adresse:{idAdresse:u.formCreationConducteur?.controls.codeClient?.value?u.formCreationConducteur?.controls.idAdresse?.value:0,description:u.formCreationConducteur?.controls.adresse?.value,wilaya:u.formCreationConducteur?.controls.wilaya?.value,commune:u.formCreationConducteur?.controls.commune?.value},genre:"A17"==u.avenant?.code||"A26"==u.avenant?.code?u.oneRisqueInfo.find(Re=>"P24"==Re.codeRisque)?.reponse?.idParamReponse?.idParam:0,situation:u.formCreationConducteur?.controls.situation?.value,profession:{id:u.formCreationConducteur?.controls.idProfession?.value,idProfession:u.formCreationConducteur?.controls.profession?.value},rib:{},permis:{idDocument:0,description:u.formCreationConducteur?.controls.numeroPermis?.value,categorie:u.formCreationConducteur?.controls.categoriePermis?.value,dateDelivrance:"A17"==u.avenant?.code||"A26"==u.avenant?.code?u.oneRisqueInfo.find(Re=>"P54"==Re.codeRisque)?.reponse?.valeur:"",wilayaDelivrance:"A17"==u.avenant?.code||"A26"==u.avenant?.code?u.oneRisqueInfo.find(Re=>"P56"==Re.codeRisque)?.reponse?.valeur:0}};u.avenant.paramRisque.map(Re=>{if("Conducteur"==Re.paramRisque.categorieParamRisque.description)switch(Re.paramRisque.codeParam){case"P56":ve.permis.wilayaDelivrance=+u.formParamRisque?.get(Re.paramRisque.codeParam)?.value;break;case"P54":ve.permis.dateDelivrance=u.formParamRisque?.get(Re.paramRisque.codeParam)?.value;break;case"P24":ve.genre=u.formParamRisque?.get(Re.paramRisque.codeParam)?.value}}),u.jsonAvenant.personnes.push(ve)}}if("A22"!==u.avenant.code&&"A168"!=u.avenant.code){const W=yield u.cryptoService.generateHmac(u.tkn,u.jsonAvenant),ve={stringJson:JSON.stringify(u.jsonAvenant),signature:W};u.avenantService.calculAvenant(ve).subscribe({next:Re=>{u.loaderCalcul=!1,u.retourCalcul=Re,u.jsonAvenant.groupes=Re.groupes,u.jsonAvenant.primeList=Re.primeList,u.PrimeTotale=Re.primeList?.find(Oe=>101==Oe.idPrime)?.prime,u.jsonAvenant.taxeList=Re.taxeList,u.myStepper.next()},error:Re=>{u.loaderCalcul=!1,ut().fire(null!=Re.message?Re.message:"Une erreur s'est produite lors du calcul","","error")}})}else u.myStepper.next()}else{const W=[],ie=u.formParamRisque.controls;for(const ve in ie)ie[ve].invalid&&W.push(ve)}})()}checkAlertVol(u,M){this.selection.toggle(u),77==u.idGarantie&&M&&ut().fire(' ATTENTION la GARANTIE "Vol Objets de Valeur" EST SOUMISE A LA DEROGATION DU  BO',"","warning"),this.checkGarantie(u,M)}checkGarantie(u,M){this.selection.toggle(u),M&&"G50"==u.codeGarantie&&this.getListParamRisque(u.sousGarantieList.data.find(W=>"SG91"==W.codeSousGarantie).idListParamRisque,u.sousGarantieList.data.find(W=>"SG91"==W.codeSousGarantie).idSousGarantie),M&&"G53"==u.codeGarantie&&this.getListParamRisque(u.sousGarantieList.data.find(W=>"SG107"==W.codeSousGarantie).idListParamRisque,u.idGarantie)}changeVehicule(){var u=this;if(this.formCreationConducteur?.get("nom")?.dirty||this.formCreationConducteur?.get("prenom")?.dirty||this.formCreationConducteur?.get("dateNaissance")?.dirty)return void ut().fire("Vous devez cliquer sur le button Rechercher pour le conducteur","","error");if("A21"===this.avenant.code&&!this.formCreationConducteur.valid&&!this.isConducteur&&!this.isConducteurAssure)return void this.formCreationConducteur.updateValueAndValidity();this.carteOrangeRisqueRefference?.markAllAsTouched();const W=this.carteOrangeRisqueRefference?.controls?.some(ie=>ie.invalid);var ie;this.formParamRisque.valid&&("A26"!=this.avenant.code||!W)&&(this.formParamRisque.get("P30")?.value==this.oneRisqueInfo.find(ie=>"P30"==ie.codeRisque)?.reponse?.valeur&&"A13"!=this.avenant?.code&&"45A"==this.codeProduit?ut().fire("Veuillez changer le v\xe9hicule pour pouvoir continuer","","info"):this.avenant?.controle?(this.controleDevis=[],this.warningMessage=[],this.controleParam(),this.devisService.controleDevis([this.controleDevis],this.codeProduit).subscribe({next:(ie=(0,h.Z)(function*(ve){if(ve.map(Re=>{u.paraRisqueProduitCategory[0].map(Oe=>{Oe.paramRisque.idParamRisque==Re.idParam&&(null!=Re.message?(u.warningMessage.push({idParam:Oe.idParamRisque,msg:Re.message}),"P116"==Oe.codeParam&&u.formParamRisque.controls[Oe.formName].value>u.maxContenue&&(u.devis.statue=1)):("P40"==Oe.codeParam||"P116"==Oe.codeParam)&&(u.devis.statue=0))})}),0!=u.warningMessage.length&&(yield ut().fire(u.warningMessage[0].msg,"","warning")),0==ve?.[0]?.filter(Re=>!0===Re.bloquant).length){u.getAllPackByProduit(2),"96"==u.route.snapshot.paramMap.get("codeProduit")||"95"==u.route.snapshot.paramMap.get("codeProduit")?u.getPack(u.contrat?.groupeList[0]?.pack?.idPack0,!0,!0):(console.log("this.getPack 2 ",u.contrat?.groupeList),u.getPack(u.contrat?.groupeList[0]?.pack?.idPack0,!0,!1));let Re=u.garantieAll.find(Oe=>77==Oe.idGarantie)?.idPackComplet;"96"==u.codeProduit&&u.formPackGaranties.controls.find(Oe=>Oe.value.idPackComplet=Re)?.controls?.checked?.value&&(yield ut().fire(' ATTENTION la GARANTIE "Vol Objets de Valeur" EST SOUMISE A LA DEROGATION DU  BO',"","warning"))}}),function(Re){return ie.apply(this,arguments)}),error:ie=>{this.handleError(ie),console.log(ie)}})):(console.log("this.getPack 3",this.dataSourceGroupePack.data[0].pack),console.log("this.getPack 3",this.contrat?.groupeList),this.getAllPackByProduit(2),this.getPack("A26"!=this.avenant?.code||"45F"!=this.codeProduit&&"45L"!=this.codeProduit?this.contrat?.groupeList[0]?.pack?.idPack0:this.dataSourceGroupePack.data[0].pack,!0,!0)))}getPackMulti(u,M){this.devis.groupes=this.risqueGroupe,this.devis.groupes.map(W=>{W.idGroupe==M&&(W.idPack=u)}),this.risqueGroupe.map(W=>{W.idGroupe==M&&(W.idPack=u)}),this.packService.getPackById(u).subscribe({next:W=>{this.groupesPacks.find(ve=>ve.group==M)?this.groupesPacks.find(ve=>ve.group==M).pack=W:this.groupesPacks.push({group:M,pack:W})},error:W=>{console.log(W)}})}checkDoublons(u,M){const W=this.multiRisqueArray.some(Oe=>Oe.P30==u),ie=this.contrat.groupeList.some(Oe=>Oe.risques.some(ke=>ke.risque.find(Qe=>Qe.colonne.includes("Ch\xe2ssis"))?.valeur==u)),ve=this.contrat.groupeList.some(Oe=>Oe.risques.some(ke=>ke.risque.find(Qe=>Qe.colonne.includes("N\xb0 d'Immatriculation"))?.valeur==M)),Re=this.multiRisqueArray.some(Oe=>Oe.P38==M);return(ve||Re)&&(ie||W)?"both":ve||Re?"P38":!(!ie&&!W)&&"P30"}submitRisques(){let u;if(this.controleRisque=[],this.warningMessage=[],"45F"==this.codeProduit||"45L"==this.codeProduit){let M=this.avenant?.paramRisque?.find(ie=>"P30"==ie.paramRisque.codeParam).paramRisque.codeParam,W=this.avenant?.paramRisque?.find(ie=>"P38"==ie.paramRisque.codeParam).paramRisque.codeParam;u=this.checkDoublons(this.formParamRisque?.get(M)?.value,this.formParamRisque?.get(W)?.value)}if(this.formParamRisque.valid&&!u){let M,W,ve,ie="debase",Re={paramList:[]},Oe=[];if(this.avenant.paramRisque.map(ke=>{Object.keys(this.formParamRisque.value).map(Qe=>{Qe==ke.paramRisque.codeParam&&(M=ke.paramRisque.idParamRisque,"Liste of values"==ke.paramRisque.typeChamp?.description?(W=this.formParamRisque.get(Qe)?.value,ie="",ve={idParam:M,valeur:W},Object.assign(this.risqueConsult,{[ke.paramRisque.libelle]:this.formParamRisque.get(Qe)?.value})):(W=null,"From Table"==ke.paramRisque.typeChamp?.description?(ie=this.formParamRisque.get(Qe)?.value,Object.assign(this.risqueConsult,{[ke.libelle]:this.formParamRisque.get(Qe)?.value})):"date"!=ke.paramRisque.typeChamp?.description?34==ke.paramRisque.idParamRisque?ie=String(Number(this.formParamRisque.get(Qe)?.value)):"P25"==Qe||"P26"==Qe?(W=this.formParamRisque.get(Qe)?.value,ie="",Object.assign(this.risqueConsult,"P25"==Qe?{[ke.paramRisque.libelle]:this.formParamRisque.get(Qe)?.value.marque}:{[ke.paramRisque.libelle]:this.formParamRisque.get(Qe)?.value.modele})):(ie=this.formParamRisque.get(Qe)?.value,Object.assign(this.risqueConsult,{[ke.paramRisque.libelle]:ie})):(this.formParamRisque.get(Qe)?.setValue(this.formParamRisque.get(Qe)?.value),ie=this.formParamRisque.get(Qe)?.value,Object.assign(this.risqueConsult,{[ke.paramRisque.libelle]:ie})),ve={idParam:M,valeur:ie}),this.paramElement={idParam:M,reponse:{idReponse:W,description:ie}})}),Re.paramList.push(this.paramElement),this.controleRisque.push(ve)}),this.risqueIndexBody=this.risqueIndexBody+1,Oe.push({numRisque:this.risqueIndexBody,risque:Re}),this.multiRisqueProduct)if("new"==this.formParamRisque.get("groupe")?.value)this.contratService.addGroupe(this.formParamRisque.get("newGroupe")?.value).subscribe({next:ke=>{this.formParamRisque.get("groupe")?.setValue({description:ke.description,idGroupe:ke.idGroupe,idPack:0,descriptionPack:"",new:1}),this.groupArray.push({description:ke.description,idGroupe:ke.idGroupe,new:1});let Qe=this.dataSourceGroupePack?this.dataSourceGroupePack.data:[];Qe.push({idGroupe:ke.idGroupe,descriptionGroupe:ke.description,pack:0,newGroupe:0}),this.dataSourceGroupePack=new Le.by(Qe);const Bt=this.formParamRisque.get("groupe")?.value.description,Yt=this.risqueGroupe.find(gn=>gn.description===Bt),dn=this.contrat.groupeList.find(gn=>gn.description===Bt);let Ut=dn?this.contrat.groupeList.filter(gn=>gn.description==Bt)[0].pack.idPack0:0;0!=Ut&&this.getPackMulti(Ut,this.formParamRisque.get("groupe")?.value.idGroupe),Yt?Yt.groupeList.push({numRisque:this.risqueIndexBody,risque:Re}):this.risqueGroupe.push({description:Bt,idGroupe:this.formParamRisque.get("groupe")?.value.idGroupe,idPack:dn?this.contrat.groupeList.filter(gn=>gn.description==Bt)[0].pack.idPack0:0,groupeList:Oe})},error:ke=>{console.log(ke)}});else{if(!this.dataSourceGroupePack?.data?.find(dn=>dn.idGroupe==this.formParamRisque.get("groupe")?.value.idGroupe)){let dn=this.dataSourceGroupePack?this.dataSourceGroupePack.data:[];dn.push({idGroupe:this.formParamRisque.get("groupe")?.value.idGroupe,descriptionGroupe:this.formParamRisque.get("groupe")?.value.description,pack:this.formParamRisque.get("groupe")?.value.idPack,newGroupe:1}),this.dataSourceGroupePack=new Le.by(dn)}const Qe=this.risqueGroupe.find(dn=>dn.idGroupe===this.formParamRisque.get("groupe")?.value.idGroupe),Bt=this.contrat.groupeList.find(dn=>dn.idGroupe===this.formParamRisque.get("groupe")?.value.idGroupe);let Yt=Bt?this.contrat.groupeList.filter(dn=>dn.idGroupe==this.formParamRisque.get("groupe")?.value.idGroupe)[0].pack.idPack0:0;0!=Yt&&this.getPackMulti(Yt,this.formParamRisque.get("groupe")?.value.idGroupe),Qe?Qe.groupeList.push({numRisque:this.risqueIndexBody,risque:Re}):this.risqueGroupe.push({description:this.formParamRisque.get("groupe")?.value.description,idGroupe:this.formParamRisque.get("groupe")?.value.idGroupe,idPack:Bt?this.contrat.groupeList.filter(dn=>dn.idGroupe==this.formParamRisque.get("groupe")?.value.idGroupe)[0].pack.idPack0:0,groupeList:Oe})}else this.risqueGroupe=[{description:"mono",groupeList:Oe}];this.devisService.controleDevis([this.controleRisque],this.codeProduit).subscribe({next:ke=>{ke.map(Qe=>{this.avenant.paramRisque.map(Bt=>{Bt.idParamRisque==Qe.idParam&&(Qe.bloquant?(this.formParamRisque.controls[Bt.formName].addValidators([U_(Qe.bloquant,Qe.message)]),this.formParamRisque.controls[Bt.formName].updateValueAndValidity()):null!=Qe.message?(this.warningMessage.push({idParam:Bt.idParamRisque,msg:Qe.message}),("P40"==Bt.codeParam||"P116"==Bt.codeParam)&&(this.devis.statue=1)):("P40"==Bt.codeParam||"P116"==Bt.codeParam)&&(this.devis.statue=0))})}),0!=this.warningMessage.length&&this._snackBar.open(this.warningMessage[0].msg,"fermer",{horizontalPosition:"end",panelClass:["warning-snackbar"]}),0==ke?.[0]?.filter(Qe=>!0===Qe.bloquant).length&&(this.devis.groupes=this.risqueGroupe,this.multiRisqueProduct?this.multiRisqueTab(this.paramElement):this.myStepper.next(),this.getAllPack())},error:ke=>{this.handleError(ke),console.log(ke)}})}else if(u){let M="";switch(u){case"P30":M="Num\xe9ro de Ch\xe2ssis doit etre unique.";break;case"P38":M="Le N\xb0 d'Immatriculation doit etre unique.";break;case"both":M="Le N\xb0 d'Immatriculation ainsi que le num\xe9ro de Ch\xe2ssis doivent etre uniques."}ut().fire(M,"","error")}}multiRisqueTab(u){let M=this.formParamRisque.value;Object.keys(this.formParamRisque.value).map(W=>{M[W]="object"==typeof this.formParamRisque.controls[W].value?"Marque"==W?this.formParamRisque.controls[W].value?.marque:"Mod\xe8le"==W?this.formParamRisque.controls[W].value?.modele:this.formParamRisque.controls[W].value?.description:this.formParamRisque.controls[W].value}),Object.assign(M,{risqueNum:this.risqueIndex=this.risqueIndex+1}),this.multiRisqueArray.push(M),this.dataSourceRisque=new Le.by(this.multiRisqueArray)}controleParam(){let u,M,ie,W="debase";this.paraRisqueProduitCategory[0].map(ve=>{Object.keys(this.formParamRisque.value).map(Re=>{Re==ve.paramRisque.codeParam&&(u=ve.paramRisque.idParamRisque,"Liste of values"==ve.paramRisque?.typeChamp?.description?(M=this.formParamRisque.get(Re)?.value,W="",ie={idParam:u,valeur:M}):(M="","From Table"==ve.paramRisque?.typeChamp?.description?W=this.formParamRisque.get(Re)?.value:"date"!=ve.paramRisque?.typeChamp?.description?W=34==ve.paramRisque?.idParamRisque?String(Number(this.formParamRisque.get(Re)?.value)):this.formParamRisque.get(Re)?.value:(this.formParamRisque.get(Re)?.setValue(this.formParamRisque.get(Re)?.value),W=this.formParamRisque.get(Re)?.value),ie={idParam:u,valeur:W}),this.controleDevis.push(ie))})})}openDialog(u){const M={};this.multiRisqueArray.map(ie=>{if(ie.risqueNum==u)for(const[ve,Re]of Object.entries(ie)){const Oe=this.avenant.paramRisque.find(ke=>ke.paramRisque.codeParam==ve)?.paramRisque.libelle;Oe&&(M[Oe]=Re)}}),this.dialog.open(Gn._,{width:"60%",data:{risque:M}}).afterClosed().subscribe(ie=>{})}deleteRisque(u){this.multiRisqueArray=this.multiRisqueArray.filter(ie=>ie.risqueNum!=u),this.dataSourceRisque.data=this.multiRisqueArray;let M,W=!1;this.risqueGroupe.map(ie=>{ie.groupeList=ie.groupeList.filter(ve=>(ve.numRisque==u&&(M=ie.idGroupe),W=ie.idGroupe==M&&ie.groupeList.length>1,ve.numRisque!=u))}),W||(this.groupArray=this.groupArray.filter(ie=>0!=ie.new?ie.idGroupe!=M:this.groupArray)),this.dataSourceGroupePack.data=this.dataSourceGroupePack.data.filter(ie=>ie.idGroupe!=M||!this.risqueGroupe.some(ve=>ve.idGroupe===ie.idGroupe&&0===ve.groupeList.length)),this.jsonAvenant.groupes=this.risqueGroupe,this.devis.groupes=this.risqueGroupe}editRisque(u,M){var ve,W=this;if(this.risqueSelected=!0,"A26"===this.avenant.code){const ie=this.risquesInvolved.find(ve=>ve.idRisque==u);this.contratService.getParamContratByIdRisque(this.contrat.idContrat,ie.idGroupe,ie.idRisque).subscribe({next:(ve=(0,h.Z)(function*(Re){for(let Oe=0;Oe<Re.length;Oe++){const ke=Re[Oe];let Qe;Qe=ke.reponse?.idParamReponse?ke.reponse.idParamReponse.idParam:ke?.reponse?.valeur,"P25"===ke?.codeRisque&&(yield W.getModeleByMarque(ke.reponse?.idParamReponse.idParam)),W.formParamRisque?.controls[ke.codeRisque]&&W.formParamRisque?.controls[ke.codeRisque]?.setValue(Qe)}}),function(Oe){return ve.apply(this,arguments)})}),this.formParamRisque.updateValueAndValidity(),this.idRisque=u}else this.risquesInvolved.map(ie=>{u==ie.idRisque&&(this.idRisque=u,this.formParamRisque?.controls[ie.codeParam]?.setValue(ie.description))})}editMatricule(){const u=this.risquesInvolved.find(W=>W.idRisque===this.idRisque);this.risquesModified.find(W=>W.id==this.idRisque).modified=!0,u&&(u.description=this.formParamRisque.get(u.codeParam)?.value),this.dataSourceParamRisque.data=this.risquesInvolved;let M=[];this.avenant?.paramRisque.forEach(W=>{let ie={};ie="Liste of values"==W.paramRisque?.typeChamp?.description||"P56"==W.paramRisque.codeParam||"P98"==W.paramRisque.codeParam||"P25"==W.paramRisque.codeParam||"P26"==W.paramRisque.codeParam?{idParam:W.paramRisque.idParamRisque,reponse:{idReponse:this.formParamRisque.get(W.paramRisque.codeParam)?.value,description:""}}:{idParam:W.paramRisque.idParamRisque,reponse:{idReponse:null,description:this.formParamRisque.get(W.paramRisque.codeParam)?.value}},M.push(ie)}),this.risqueGroupe.map(W=>{u.idGroupe==W.idGroupe&&W.groupeList.map(ie=>{ie.risque.idRisque==u.idRisque&&(ie.risque.paramList=M)})}),this.risqueEdited=!0,setTimeout(()=>{this.risqueEdited=!1},1e4)}submitApplicationAvenant(){var u=this;return(0,h.Z)(function*(){if(u.formApplicationAvenant.valid){if(u.loaderApplication=!0,"A22"===u.avenant?.code&&!u.avenant?.attestation&&"45A"!=u.codeProduit||"A26"===u.avenant?.code){const ve=u.carteOrangeRisqueRefference.value;u.jsonAvenant.groupes?.forEach(Oe=>{Oe.groupeList.forEach(ke=>{const Qe=ve.findIndex(Bt=>Bt.idRisque===ke.risque.idRisque);Qe>-1&&(ke.risque.reference=ve[Qe].reference)})});const Re=u.jsonAvenant.groupes;if(Re&&Re.length>0){const Oe=Re[0].groupeList;Oe&&Oe.length>0&&Oe.forEach(ke=>{const Qe=ke.risque.packCompletList;if(Qe&&Qe.length>0)for(const Bt of Qe)null===Bt.categorieList&&(Bt.categorieList=[])})}}u.jsonAvenant.auditUser=sessionStorage.getItem("userId");const M=yield u.cryptoService.generateHmac(u.tkn,u.jsonAvenant),ie={stringJson:JSON.stringify(u.jsonAvenant),signature:M};u.avenantService.submitAvenant(ie).subscribe({next:ve=>{u.loaderApplication=!1,u.avenantSave=!0,ut().fire("Avenant appliqu\xe9 avec succ\xe9s","","success"),u.retourApplication=ve,u.redirectConsultation()},error:ve=>{u.loaderApplication=!1,ut().fire(null!=ve.message?ve.message:"Une erreur s'est produite lors de l'application","","error")}})}})()}getDateExpiration(u){let M="",W={dateEffet:vt.utc(this.formApplicationAvenant.get("dateAvenant")?.value).add(1,"hour").toISOString(),jour:0,duree:this.durees.filter(ie=>ie.id_duree==u)[0]};this.avenantService.getDateExpiration(W).subscribe({next:ie=>{M=this.avenant.attributs.filter(ve=>"dateExpiration"==ve.idAtrribut.nomBdd)[0].idAtrribut.nomBdd,this.formApplicationAvenant.get(M)?.setValue(ie)},error:ie=>{}})}getAllConventions(){this.conventionService.getAllConventions().subscribe({next:u=>{this.conventions=u},error:u=>{console.log(u)}})}getAllReductions(){this.filterReduction.typeReduction=262,this.filterReduction.produit=this.idProduit,this.reductionService.reductionFiltre(this.filterReduction).subscribe({next:u=>{this.reductions=u},error:u=>{console.log(u)}})}getReductionByConvention(u){"aucuneConvention"!=u?(this.formReduction.get("reduction")?.setValidators([w.kI.required]),this.reductionService.getReductionByConvention(u).subscribe({next:M=>{0!=M.length?(this.reductions=M.filter(W=>W.produit==JSON.parse(sessionStorage.getItem("products")||"{}").find(ie=>ie.codeProduit==this.route.snapshot.paramMap.get("codeProduit")).description),this.errorHandler.error=!1,this.errorHandler.msg=""):(this.errorHandler.error=!0,this.errorHandler.msg="cette convention n'a aucune r\xc3\xa9duction.")},error:M=>{console.log(M)}})):(this.errorHandler.error=!1,this.errorHandler.msg="",this.formReduction.get("reduction")?.setValidators([]),this.getAllReductions())}handleError(u){switch(u.status){case 500:this.errorHandler.error=!0,this.errorHandler.msg="Erreur syst\xe8me, veuillez contacter l'administrateur.";break;case 402:this.errorHandler.error=!0,this.errorHandler.msg="Erreur lors de la validation du devis, veuillez contacter l'administrateur.";break;case 404:this.errorHandler.error=!0,this.errorHandler.msg=u.message}}nextPrime(){this.reductionExist?this.myStepper.next():this.calculPrime()}goBackReduc(){this.returnedTarif.groupes=this.groupeBeforeReduc,this.retourCalcul.primeList=this.primeList,this.retourCalcul.taxeList=this.taxeList,this.jsonAvenant.primeList=this.primeList,this.jsonAvenant.taxeList=this.taxeList,this.PrimeTotale=this.primeList?.find(u=>u.idPrime=101)?.primeProrata,this.myStepper.previous()}submitReduction(){var u=this;return(0,h.Z)(function*(){if(u.formReduction?.get("convention")?.enable(),u.formReduction?.get("reduction")?.enable(),u.formReduction.valid)if("aucuneReduction"!=u.formReduction?.get("reduction")?.value){u.groupeBeforeReduc=u.returnedTarif.groupes,u.returnedTarif.idConvention=u.formReduction.get("convention")?.value,u.returnedTarif.idReduction=u.formReduction.get("reduction")?.value,u.returnedTarif.typeAvenant=u.idTypeAvenant;const M=yield u.cryptoService.generateHmac(u.tkn,u.returnedTarif),ie={stringJson:JSON.stringify(u.returnedTarif),signature:M};u.reductionService.applyReduction(ie).subscribe({next:ve=>{u.jsonAvenant.groupes=ve.groupes,u.jsonAvenant.primeList=ve.primeList,u.jsonAvenant.taxeList=ve.taxeList,"A13"==u.avenant?.code||"A18"==u.avenant?.code||"A22"==u.avenant?.code?(u.formReduction?.get("convention")?.enable(),u.formReduction?.get("reduction")?.enable(),u.myStepper.next()):(u.formReduction?.get("convention")?.disable(),u.formReduction?.get("reduction")?.disable(),u.calculPrime()),u.retourCalcul.primeList=ve.primeList,u.retourCalcul.taxeList=ve.taxeList,u.PrimeTotale=u.retourCalcul.primeList.find(Re=>Re.idPrime=101).primeProrata},error:ve=>{console.log(ve),u.handleError(ve),"A13"!=u.avenant?.code&&"A18"!=u.avenant?.code&&"A21"!=u.avenant?.code&&(u.formReduction?.get("convention")?.disable(),u.formReduction?.get("reduction")?.disable()),400==ve.status&&(ut().fire("l'assur\xe9 ne b\xe9n\xe9ficie plus de la r\xe9duction.","","info"),"A13"!=u.avenant?.code&&"A18"!=u.avenant?.code&&"A22"!=u.avenant?.code?u.calculPrime():u.myStepper.next())}})}else"A13"!=u.avenant?.code&&"A18"!=u.avenant?.code&&"A22"!=u.avenant?.code||"A168"==u.avenant?.code&&"45F"==u.codeProduit?(u.calculPrime(),u.formReduction?.get("convention")?.disable(),u.formReduction?.get("reduction")?.disable()):u.myStepper.next();else u.formReduction?.get("convention")?.disable(),u.formReduction?.get("reduction")?.disable(),"A13"!=u.avenant?.code&&"A18"!=u.avenant?.code&&"A22"!=u.avenant?.code?u.calculPrime():u.myStepper.next()})()}onFileSelected(u){this.selectedFile=u.target.files[0],this.uploadExcelFile()}uploadExcelFile(){if(this.selectedFile){const u=new FileReader;u.onload=M=>{if(null!=M.target){let W=M.target.result;const ie=W?.split(",");2===ie.length&&(W=ie[1]),this.sendToAPI(W)}},u.readAsDataURL(this.selectedFile)}}sendToAPI(u){this.devisService.controleDevisMulti({file:u},this.codeProduit).subscribe({next:W=>{this.fileControle=W;const ie=this.fileControle.some(ve=>ve.description.some(Re=>0!==Re.length));this.taillersq=W.length,ie&&(this.fileInput.nativeElement.value=null,this.fileSuccess=!1),this.fileControle.length>50&&(sessionStorage.getItem("roles")?.includes("DA")||sessionStorage.getItem("roles")?.includes("CDC"))?(ut().fire("Vous n\u2019avez pas le privil\xe8ge pour faire ce devis veuillez voir avec le BO","","error"),this.fileSuccess=!1,this.fileInput.nativeElement.value=null):(this.devis.file=u,this.fileSuccess=!0)},error:W=>{ut().fire(W,"","error"),this.fileInput.nativeElement.value=null}})}goToNextStep(){this.formStep++}goToPreviousStep(){this.formStep--}submitNumberVehicule(){this.tailleRisquee=this.nmbVehicule.value,console.log("555555555555555",this.devis.tailleRisque),console.log("eee",this.nmbVehicule.value),this.myStepper.next(),console.log("3endiiiiiii"),this.withFile=!0,this.devis.file=null}checkVehiculeNumber(){console.log("aaaa",this.nmbVehicule),console.log("bbbbb",this.multiRisqueArray),this.nmbVehicule.value!==this.multiRisqueArray.length&&"10"!=this.devis.sousProduit&&"97"!=this.codeProduit?ut().fire(" le nombre de v\xe9hicules ajout\xe9s ne correspond pas au nombre de v\xe9hicules indiqu\xe9","error"):this.myStepper.next()}}return y.\u0275fac=function(u){return new(u||y)(o.Y36(o.sBO),o.Y36(uo.Y),o.Y36(bo.$),o.Y36(oe.w),o.Y36(pn.ux),o.Y36(e.b),o.Y36(Q.uw),o.Y36(Zi.F),o.Y36(w.qu),o.Y36(Ai.Y),o.Y36(Di.e),o.Y36(Mn.D),o.Y36(K.gz),o.Y36(n.n),o.Y36(w.qu),o.Y36(K.F0),o.Y36(xe.H),o.Y36(Nn.F),o.Y36(vn.J),o.Y36(Et.t),o.Y36(mo.M))},y.\u0275cmp=o.Xpm({type:y,selectors:[["app-application-avenant"]],viewQuery:function(u,M){if(1&u&&(o.Gf(Ks,5),o.Gf(ee.NW,5),o.Gf(ds,5)),2&u){let W;o.iGM(W=o.CRH())&&(M.myStepper=W.first),o.iGM(W=o.CRH())&&(M.paginator=W.first),o.iGM(W=o.CRH())&&(M.fileInput=W.first)}},decls:1,vars:1,consts:[["class","container",4,"ngIf"],[1,"container"],[1,"header-title",2,"padding-left","3%"],["aria-hidden","false","matTooltip","Retour","matTooltipPosition","left",1,"material-symbols-outlined",3,"mouseup"],[3,"linear"],["stepper",""],[3,"stepControl","editable",4,"ngIf"],[3,"editable",4,"ngIf"],[3,"editable"],["matStepLabel",""],["multi","",1,"example-headers-align"],[1,"resume"],[4,"ngIf","ngIfElse"],["renouvellement",""],[4,"ngFor","ngForOf"],[1,"row-button"],[1,"btn","btn-cancel",3,"click"],[1,"btn","btn-action",3,"click"],["color","white","diameter","30",4,"ngIf"],[4,"ngIf"],[3,"stepControl","editable"],[1,"login-form",2,"padding","0 24px 24px 24px",3,"formGroup"],["formDirective","ngForm"],[1,"row"],["appearance","outline","class","col-md-6",4,"ngIf"],[3,"expanded"],[1,"row",2,"padding","1rem 2rem"],["appearance","outline",1,"col-md-6"],["formControlName","agence"],["style","padding: 0 24px 24px 24px",3,"formGroup",4,"ngIf"],["class","row-button",4,"ngIf","ngIfElse"],["checkAvenant",""],["suivant1",""],["type","text","matInput","","formControlName","attestation"],["type","number","matInput","","formControlName","attestation"],["formControlName","motif"],[3,"value"],["type","text","matInput","","formControlName","commentaire"],["matInput","","formControlName","dateAvenant",3,"matDatepicker","min","max","dateChange"],["matSuffix","",3,"for"],["pickerAvenant",""],[3,"formControlName"],["type","text","matInput","",3,"formControlName"],["matInput","",3,"matDatepicker","formControlName","min","dateChange"],["pickerAttribut",""],["formControlName","duree",3,"selectionChange"],[2,"padding","0 24px 24px 24px",3,"formGroup"],["appearance","outline","class","col-md-5 ",4,"ngIf"],[1,"row",2,"display","flex","align-items","center","justify-content","space-between"],["moral",""],["morale",""],["appearance","outline",1,"col-md-4"],["matPrefix",""],["type","text","matInput","","placeholder","","formControlName","telephone",3,"ngModelChange"],["class","invalid-feedback",4,"ngIf"],["type","text","matInput","","placeholder","","formControlName","email",3,"ngModelChange"],["type","text","matInput","","placeholder","","formControlName","adresse",3,"ngModelChange"],["formControlName","wilaya",3,"ngModelChange","selectionChange"],["formControlName","commune",3,"ngModelChange"],["appearance","outline",1,"col-md-5"],["formControlName","typeClient",3,"selectionChange"],[1,"invalid-feedback"],["appearance","outline",1,"col-md-3"],["type","text","matInput","","placeholder","","formControlName","nom",3,"ngModelChange"],["type","text","matInput","","placeholder","","formControlName","prenom",3,"ngModelChange"],["matInput","","formControlName","dateNaissance",3,"max","matDatepicker","ngModelChange"],["pickerdateNaissance",""],["style","display: flex; width: auto;",4,"ngIf"],[2,"display","flex","width","auto"],["class","btn btn-secondary","style","display: flex; width: auto;",3,"mouseup",4,"ngIf"],["disabled","","class","btn btn-disable","style","display: flex; width: auto;",3,"mouseup",4,"ngIf"],[1,"btn","btn-secondary",2,"display","flex","width","auto",3,"mouseup"],["disabled","",1,"btn","btn-disable",2,"display","flex","width","auto",3,"mouseup"],["type","text","matInput","","placeholder","","formControlName","raisonSocial"],["class","btn btn-disable","disabled","","style","display: flex; width: auto;",3,"mouseup",4,"ngIf"],["pattern","[0-9]{18}","appearance","outline",1,"col-md-4"],["type","text","matInput","","placeholder","","formControlName","nin",3,"ngModelChange"],["formControlName","genre",3,"ngModelChange"],["formControlName","situation",3,"ngModelChange"],["formControlName","profession",3,"ngModelChange"],["pattern","[0-9]{15}","appearance","outline",1,"col-md-4"],["type","text","matInput","","placeholder","","formControlName","nif"],["class","col-md-12","style","padding: 1rem 2rem;",3,"change",4,"ngIf"],["type","text","matInput","","placeholder","","formControlName","nin"],["type","text","matInput","","placeholder","","formControlName","telephone"],["type","text","matInput","","placeholder","","formControlName","email"],["type","text","matInput","","placeholder","","formControlName","adresse"],["formControlName","wilaya",3,"selectionChange"],["formControlName","commune"],["formControlName","genre"],["formControlName","situation"],["formControlName","profession"],[1,"col-md-12",2,"padding","1rem 2rem",3,"change"],["value","oui",3,"checked"],["value","non",3,"checked"],[1,"btn","btn-cancel",3,"mouseup"],["hideToggle","",1,"organisme-panel",3,"expanded"],[3,"formGroup","ngSubmit"],["matInput","","formControlName","organisme"],["matInput","","formControlName","classementOrganisme"],["matInput","","type","number","formControlName","montant"],["appearance","fill",1,"col-md-5"],[3,"formGroupName"],["formControlName","idParam"],[3,"value",4,"ngFor","ngForOf"],[1,"col-md-12"],["mat-raised-button","","color","primary","type","button",3,"click"],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","organisme"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","classementOrganisme"],["matColumnDef","montant"],["matColumnDef","typePerte"],["matColumnDef","remove"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],["mat-icon-button","","color","warn",3,"click"],["mat-header-row",""],["mat-row",""],["matInput","","type","number",3,"formControl"],["matStepperPrevious","",1,"btn","btn-cancel"],["color","white","diameter","30"],["class","row download",4,"ngIf"],["class","btn btn-action","type","button",3,"click",4,"ngIf"],[1,"row","download"],["id","wrap"],["type","file","name","fileInput",3,"change"],["fileInput",""],[1,"alert","alert-danger"],[1,"error-lines"],["type","button",1,"btn","btn-action",3,"click"],[1,""],["mat-table","",1,"devis-table",3,"dataSource"],["matColumnDef","idRisque"],["matColumnDef","paramRisque"],["matColumnDef","refference",4,"ngIf"],["mat-header-row","","class","example-second-header-row",4,"matHeaderRowDef"],["aria-label","Select page of risque",3,"pageSize","pageSizeOptions"],["matStepperNext","",1,"btn","btn-action"],["matColumnDef","refference"],["type","text","matInput","",3,"formControl"],["mat-header-row","",1,"example-second-header-row"],["class","example-headers-align","multi","",4,"ngIf"],["class","download",4,"ngIf"],["matColumnDef","action"],["mat-icon-button","","type","button","aria-label","menu devis list",3,"matMenuTriggerFor"],["xPosition","after",1,"menu-devis"],["menu","matMenu"],["mat-menu-item","","type","button",3,"click"],[1,"process-Para"],[1,"file-row"],[1,"material-symbols-outlined"],["class","login-form","style","padding: 0 24px 24px 24px",3,"formGroup",4,"ngIf"],["class","","class","row-button",4,"ngIf"],["class","alert alert-success",4,"ngIf"],["hideToggle","","class","panel-risque",3,"expanded",4,"ngFor","ngForOf"],["class","risque-panel","hideToggle","",3,"expanded",4,"ngIf"],["mat-table","","class","gestion-table risque",3,"dataSource",4,"ngIf"],["notChangeVehicule",""],[1,"alert","alert-success"],["hideToggle","",1,"panel-risque",3,"expanded"],[1,"categoryTitle"],["class","row",3,"formGroup",4,"ngIf"],["class","row-button",4,"ngIf"],[1,"row",3,"formGroup"],["class","col-md-12","style","padding: 1rem 2rem",3,"change",4,"ngIf"],["matInput","","formControlName","dateNaissance",3,"max","matDatepicker","disabled","ngModelChange"],["class","btn btn-secondary","style","display: flex; width: auto",3,"mouseup",4,"ngIf"],["disabled","","class","btn btn-disable","style","display: flex; width: auto",3,"mouseup",4,"ngIf"],["type","text","matInput","","placeholder","","formControlName","numeroPermis"],["formControlName","categoriePermis"],["value","ConducteurAssure",3,"checked",4,"ngIf"],["value","Conducteur",3,"checked"],["value","Autre",3,"checked"],["value","ConducteurAssure",3,"checked"],[1,"row",2,"display","flex"],["appearance","outline","class","col-md-5",4,"ngIf"],[3,"formControlName","selectionChange"],["class","col-md-5","appearance","outline",4,"ngIf"],["matInput","",3,"type","readonly","formControlName","ngModelChange"],["matInput","",3,"matDatepicker","formControlName"],["picker",""],["hideToggle","",1,"risque-panel",3,"expanded"],["formControlName","groupe",3,"ngModel","ngModelChange"],["value","new"],["matInput","","type","text","formControlName","newGroupe"],["mat-table","",1,"gestion-table","risque",3,"dataSource"],["matColumnDef","risqueNum"],["matColumnDef","NDImmatriculation"],["matColumnDef","groupe"],["mat-icon-button","","type","button","aria-label","menu risque list",3,"matMenuTriggerFor"],["xPosition","after"],["class","btn btn-action",3,"click",4,"ngIf"],["adjonction",""],["matStepperPrevious","",1,"btn","btn-cancel",3,"click"],["type","button","matStepperNext","",1,"btn","btn-action"],[1,"download"],[1,"btn","btn-file"],[1,"row",2,"display","flex","justify-content","space-between","align-items","center"],[3,"value","disabled","selectionChange"],["class","btn btn-secondary ","style","display: flex; width: 133px;",3,"click",4,"ngIf"],["class","alert alert-danger",4,"ngIf"],["mat-table","","multiTemplateDataRows","",1,"mat-elevation-z8","pack-table",3,"dataSource"],["matColumnDef","select"],["matColumnDef","garantie"],["matColumnDef","plafond"],["matColumnDef","franchise"],["matColumnDef","formule"],["matColumnDef","prime",4,"ngIf"],["matColumnDef","bonus",4,"ngIf"],["matColumnDef","sousGarantie"],["mat-cell","","class","example-element-row",3,"example-expanded-row",4,"matCellDef"],["matColumnDef","expandedDetail"],["mat-row","","class","example-detail-row",4,"matRowDef","matRowDefColumns"],["hideToggle","","class","panel-risque",3,"expanded",4,"ngIf"],[1,"row","card"],[1,"prime-card"],[2,"font-size","21px","color","#00008f","font-weight","600"],[2,"font-size","18px","font-weight","600","margin-right","12px"],[2,"float","right"],["class","prime-card",4,"ngIf"],["class","btn btn-action",3,"click",4,"ngIf","ngIfElse"],[1,"btn","btn-secondary",2,"display","flex","width","133px",3,"click"],[1,"material-symbols-outlined",2,"margin-right","9px","font-size","24px"],[3,"checked","formControl","click","change"],["plafondNotEmpty",""],["plafondInput",""],[3,"formControl"],["plafondValue",""],["plafondNull",""],["franchiseNotEmpty",""],["franchiseInput",""],["franchiseValue",""],["formuleNotEmpty",""],["formuleInput",""],["formuleValue",""],["matColumnDef","prime"],["primeNull",""],["matColumnDef","bonus"],["bonusNull",""],["mat-cell","",1,"example-element-row"],["mat-icon-button","","type","button","class","expandButton","aria-label","",3,"click",4,"ngIf"],["mat-icon-button","","type","button","aria-label","",1,"expandButton",3,"click"],[1,"example-element-detail"],["mat-table","","multiTemplateDataRows","","class","mat-elevation-z8 pack-table innertable",3,"dataSource",4,"ngIf"],["mat-table","","multiTemplateDataRows","",1,"mat-elevation-z8","pack-table","innertable",3,"dataSource"],["matColumnDef","more"],["mat-row","",1,"example-detail-row"],["class","col-md-12",4,"ngIf"],["mat-table","",1,"mat-elevation-z8","adresse-table",3,"dataSource"],["matColumnDef","idList"],["matColumnDef","description"],["aria-label","Select page  of users",3,"pageSize","pageSizeOptions"],["mat-icon-button","","type","button","aria-label","menu list param",3,"matMenuTriggerFor"],["class","btn btn-action","matStepperNext","",4,"ngIf"],[3,"dataSource"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","pack"],[4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],[3,"placeholder","ngModel","name","disabled","ngModelChange","selectionChange"],[1,"row",3,"formGroup","ngSubmit"],["formControlName","convention",3,"value","valueChange","selectionChange"],["formControlName","reduction",3,"value","valueChange"],["type","submit",1,"btn","btn-action"],["type","button","matStepperPrevious","",1,"btn","btn-cancel"],[1,"primeTotale"]],template:function(u,M){1&u&&o.YNc(0,ss,30,16,"div",0),2&u&&o.Q6J("ngIf",M.avenant&&M.formCreationSouscripteur&&M.formCreationAssure)},dependencies:[Se.sg,Se.O5,i.d,ot.Hw,mr.pp,mr.ib,mr.yz,mr.yK,tt.VK,tt.OP,tt.p6,w._Y,w.Fj,w.wV,w.JJ,w.JL,w.oH,w.sg,w.u,w.x0,Z.TO,Z.KE,Z.hX,Z.qo,Z.R9,zr.Nt,Le.BZ,Le.fO,Le.as,Le.w1,Le.Dz,Le.nj,Le.ge,Le.ev,Le.XQ,Le.Gk,Zt.gM,ee.NW,Eo.Mq,Eo.hl,Eo.nW,O.gD,J.ey,ra.VQ,ra.U0,nn.lW,aa.C0,aa.VY,aa.Vq,aa.Ic,aa.fd,Ba.oG,za.Ou,w.On,Se.JJ,Aa.X],styles:['.buttons.row[_ngcontent-%COMP%]{justify-content:space-between;padding:0 21px}h2.heading[_ngcontent-%COMP%]{color:#00008f;font-weight:700!important;letter-spacing:.5px}.mat-dialog-content[_ngcontent-%COMP%]{padding-top:15px}.mat-radio-button[_ngcontent-%COMP%]{margin:0 12px}.mat-form-field[_ngcontent-%COMP%]{padding-top:15px}.mat-error[_ngcontent-%COMP%]{font-size:11px}.container[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}table.question-table[_ngcontent-%COMP%]{width:100%}.mat-header-row[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{color:#00008f}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:16px}.mat-header-cell[_ngcontent-%COMP%]{color:#333;font-weight:600;letter-spacing:.5px;font-size:15px;width:165px}.header-tab[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}.mat-paginator[_ngcontent-%COMP%]{background-color:transparent;margin:20px auto auto;width:80%}.example-first-header-row[_ngcontent-%COMP%]{background-color:#00008f}.example-first-header-row[_ngcontent-%COMP%]   th.mat-header-cell[_ngcontent-%COMP%]{border:none;color:#fff;font-size:18px}.mat-column-valeurGarantie.mat-cell[_ngcontent-%COMP%], .mat-column-valeurEnvloppe.mat-cell[_ngcontent-%COMP%]{text-align:center}.mat-header-cell.mat-icon[_ngcontent-%COMP%]{color:#fff}.mat-cell[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]:hover, .mat-header-cell[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]:hover{color:#d14723;cursor:pointer}  .mat-tooltip{font-size:14px}  .mat-horizontal-stepper-header{pointer-events:none!important}.row-button[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:0 3rem;margin-top:2rem}.center-spinner[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%) translateY(-50%)}.prime-card[_ngcontent-%COMP%]{background:rgb(247,247,249);width:-moz-fit-content;width:fit-content;margin-top:3rem;border:1px solid rgba(0,0,0,.12);padding:18px 14px}.row.card[_ngcontent-%COMP%]{justify-content:space-evenly;width:100%}.resume-buttons[_ngcontent-%COMP%]{margin-top:4rem;display:flex;justify-content:space-between}.resume-buttons[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{margin-right:9px;font-size:24px}table.resume[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;border-spacing:0 19px;margin-top:4rem}table.resume[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:17px;padding:12px 19px;border:1px solid rgba(0,0,0,.12)}table.resume[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background:rgb(247,247,249)}  .mat-progress-spinner circle, .mat-spinner[_ngcontent-%COMP%]   circle[_ngcontent-%COMP%]{stroke:#00008f}.mat-expansion-panel-header[_ngcontent-%COMP%]{background:rgba(199,199,199,.2)!important;font-weight:600;font-size:16px}.mat-expansion-panel-header.mat-expanded[_ngcontent-%COMP%]{height:48px}.mat-expansion-panel-header-title[_ngcontent-%COMP%]{color:#00008f}.risque-panel.mat-expansion-panel[_ngcontent-%COMP%]{box-shadow:none}.risque-panel[_ngcontent-%COMP%]     .mat-expansion-panel-content{padding:1rem}.container[_ngcontent-%COMP%]{background-color:#fff;padding:40px 0;height:100%;overflow-x:hidden;box-shadow:0 .5rem 1rem #00000026}h2.header-title[_ngcontent-%COMP%]{padding:0 24px;font-size:21px!important;color:#00008f;font-weight:600!important;letter-spacing:1px;display:flex;justify-content:flex-end}h2.header-title[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{margin-right:1rem}  .mat-form-field-appearance-outline .mat-form-field-prefix{top:auto!important}  .mat-step-header .mat-step-icon-state-edit{background-color:#d14624}  .mat-step-text-label{font-size:16px}  .mat-step-label-selected .mat-step-text-label{font-size:16px;font-weight:700;color:#00008f}.btn.btn-action[_ngcontent-%COMP%]{margin-top:2rem;float:right}.btn.btn-cancel[_ngcontent-%COMP%]{margin-top:2rem;float:left}.btn.btn-download[_ngcontent-%COMP%]{box-shadow:0 1px 2px #00000026;transition:box-shadow .3s ease-in-out}.btn.btn-download[_ngcontent-%COMP%]:hover{box-shadow:0 5px 15px #0000004d}table[_ngcontent-%COMP%]{width:100%}.innertable[_ngcontent-%COMP%]{background-color:#f7f7f9}.expandButton[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:26px!important}.cdk-column-expandedDetail[_ngcontent-%COMP%]{border-bottom-width:0px}.mat-header-row[_ngcontent-%COMP%]{background-color:#f7f7f9}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .mat-menu-item[_ngcontent-%COMP%]{font-size:16px}.mat-menu-item[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:21px;height:-moz-fit-content;height:fit-content}.mat-menu-item[_ngcontent-%COMP%]:hover:not([disabled]){color:#00008f}.mat-menu-item[_ngcontent-%COMP%]:hover:not([disabled])   .mat-icon[_ngcontent-%COMP%]{color:#00008f}.mat-icon[_ngcontent-%COMP%]{height:100%;font-size:36px;width:-moz-fit-content;width:fit-content}.mat-cell[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{color:#00008f}  .mat-checkbox-checked.mat-accent.mat-checkbox-disabled .mat-checkbox-background, .mat-checkbox-indeterminate.mat-accent[_ngcontent-%COMP%]   .mat-checkbox-background[_ngcontent-%COMP%]{background-color:#ccc}  .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-image:none}.mat-input-element[_ngcontent-%COMP%]:disabled{color:inherit}.mat-cell[_ngcontent-%COMP%]{padding-top:10px}.pack-table[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{font-size:16px}.resume-table[_ngcontent-%COMP%]{margin-top:2rem}.resume-table[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%]{font-size:16px;border-right:1px solid rgba(0,0,0,.12);padding-left:30px}.resume-table[_ngcontent-%COMP%]   .mat-header-cell[_ngcontent-%COMP%]{background-color:#00008f;color:#fff;border-right:1px solid white;padding-left:30px}.mat-cell[_ngcontent-%COMP%]:not(.mat-column-garantie){font-weight:600}.row.card[_ngcontent-%COMP%]{justify-content:end;width:100%}.panel-risque[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{margin-right:1rem}.categoryTitle[_ngcontent-%COMP%]{text-transform:capitalize}  .mat-progress-bar-fill:after{background-color:#d14624}mat-form-field.ng-invalid.ng-touched[_ngcontent-%COMP%]{animation:example;animation-duration:.3s;margin-bottom:2rem}.button__text[_ngcontent-%COMP%]{transition:all .2s}.button--loading[_ngcontent-%COMP%]   .button__text[_ngcontent-%COMP%]{visibility:hidden;opacity:0}.button--loading[_ngcontent-%COMP%]{position:relative}.button--loading[_ngcontent-%COMP%]:after{content:"";position:absolute;width:16px;height:16px;inset:0;margin:auto;border:4px solid transparent;border-top-color:#fff;border-radius:50%;animation:_ngcontent-%COMP%_button-loading-spinner 1s ease infinite}.button--loading[_ngcontent-%COMP%]:hover{background-color:#00008f}.example-element-detail[_ngcontent-%COMP%]{overflow:hidden;display:flex}tr.example-detail-row[_ngcontent-%COMP%]{height:0}.mat-column-expandedDetail[_ngcontent-%COMP%]{padding:0}@keyframes _ngcontent-%COMP%_button-loading-spinner{0%{transform:rotate(0)}to{transform:rotate(1turn)}}.primeTotale[_ngcontent-%COMP%]{color:#00008f;font-weight:600}.consult-devis[_ngcontent-%COMP%]{font-weight:600;color:#155724}.btn-action[_ngcontent-%COMP%]:disabled:hover{background-color:#00008f;color:#fff}.mat-column-expandedDetail[_ngcontent-%COMP%]{padding-left:0!important;padding-right:0!important}table[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:26px}table[_ngcontent-%COMP%]   .mat-column-plafond[_ngcontent-%COMP%]{padding-left:1rem}.process-Para[_ngcontent-%COMP%]{font-size:16px;text-align:center;margin:4rem}.download[_ngcontent-%COMP%]{text-align:center;margin-top:3rem;font-size:17px;font-weight:600}.download[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{width:50%;margin:auto;line-height:2rem}#wrap[_ngcontent-%COMP%]{margin:20px auto;text-align:center}input[type=file][_ngcontent-%COMP%]::file-selector-button{padding:0 16px;height:40px;cursor:pointer;background-color:#fff;color:#00008f;font-weight:700!important;border:1px solid #00008f;margin-right:16px;transition:background-color .2s;border-radius:50px}.btn-file[_ngcontent-%COMP%]{padding:0 16px;height:40px;cursor:pointer;background-color:#fff;color:#00008f;font-weight:700!important;border:1px solid #00008f;margin-right:16px;transition:background-color .2s;border-radius:50px}input[type=file][_ngcontent-%COMP%]::file-selector-button:hover{background-color:#f3f4f6}input[type=file][_ngcontent-%COMP%]::file-selector-button:active{background-color:#e5e7eb}.file-row[_ngcontent-%COMP%]{display:flex;justify-content:space-around;width:50%;margin:auto}.file-row[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{display:flex;align-items:center}.file-row[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-right:1rem}'],data:{animation:[(0,Vt.X$)("detailExpand",[(0,Vt.SB)("collapsed",(0,Vt.oB)({height:"0px",minHeight:"0",display:"none"})),(0,Vt.SB)("expanded",(0,Vt.oB)({height:"*"})),(0,Vt.eR)("expanded <=> collapsed",(0,Vt.jt)("225ms cubic-bezier(0.4, 0.0, 0.2, 1)"))]),(0,Vt.X$)("enterAnimation",[(0,Vt.eR)(":enter",[(0,Vt.oB)({opacity:0,transform:"translateX(-100%)"}),(0,Vt.jt)(400)])])]}}),y})();function U_(y,ne){return u=>({bloquant:y,msg:ne})}var $u=B(3205),dd=B(4803);const Bd=["innerTables"],F_=["innerSort"];function fc(y,ne){1&y&&(o.TgZ(0,"span"),o._uU(1,", "),o.qZA())}function Q_(y,ne){if(1&y&&(o.ynx(0),o._uU(1),o.YNc(2,fc,2,0,"span",28),o.BQk()),2&y){const u=ne.$implicit,M=ne.index,W=o.oxw(2);o.xp6(1),o.hij(" ",u," "),o.xp6(1),o.Q6J("ngIf",M<(null==W.informationsContrat||null==W.informationsContrat.quittance?null:W.informationsContrat.quittance.length)-1)}}function J_(y,ne){if(1&y&&(o.TgZ(0,"div",7)(1,"div",8)(2,"div",9)(3,"div",10),o._uU(4,"Nom: "),o.qZA(),o.TgZ(5,"div",11),o._uU(6),o.qZA()()(),o.TgZ(7,"div",8)(8,"div",9)(9,"div",10),o._uU(10,"Pr\xe9nom:"),o.qZA(),o.TgZ(11,"div",11),o._uU(12),o.qZA()()()()),2&y){const u=o.oxw(2);o.xp6(6),o.Oqu(u.informationsAssure.nom),o.xp6(6),o.hij("",u.informationsAssure.prenom," ")}}function zd(y,ne){if(1&y&&(o.TgZ(0,"div",7)(1,"div",8)(2,"div",9)(3,"div",10),o._uU(4,"Raison Social: "),o.qZA(),o.TgZ(5,"div",11),o._uU(6),o.qZA()()()()),2&y){const u=o.oxw(2);o.xp6(6),o.Oqu(u.informationsAssure.raisonSocial)}}function Vd(y,ne){if(1&y&&(o.TgZ(0,"div",11),o._uU(1),o.qZA()),2&y){const u=o.oxw().$implicit;o.xp6(1),o.Oqu(null==u.reponse||null==u.reponse.idParamReponse?null:u.reponse.idParamReponse.description)}}function L_(y,ne){if(1&y&&(o.TgZ(0,"div",11),o._uU(1),o.ALo(2,"dateFormatPipe"),o.qZA()),2&y){const u=o.oxw().$implicit;o.xp6(1),o.Oqu(o.lcZ(2,1,null==u.reponse?null:u.reponse.valeur))}}function _d(y,ne){if(1&y&&(o.TgZ(0,"div",11),o._uU(1),o.qZA()),2&y){const u=o.oxw().$implicit;o.xp6(1),o.Oqu(null==u.reponse?null:u.reponse.valeur)}}function jd(y,ne){if(1&y&&(o.TgZ(0,"div",11),o._uU(1),o.qZA()),2&y){const u=o.oxw().$implicit;o.xp6(1),o.Oqu(null==u.reponse||null==u.reponse.idParamReponse?null:u.reponse.idParamReponse.description)}}function bm(y,ne){if(1&y&&(o.TgZ(0,"div",11),o._uU(1),o.qZA()),2&y){const u=o.oxw().$implicit;o.xp6(1),o.Oqu(null==u.reponse?null:u.reponse.description)}}function pd(y,ne){if(1&y&&(o.TgZ(0,"div",11),o._uU(1),o.qZA()),2&y){const u=o.oxw().$implicit;o.xp6(1),o.Oqu(u.reponse.valeur)}}function Hd(y,ne){if(1&y&&(o.TgZ(0,"div",7)(1,"div",8)(2,"div",9)(3,"div",10),o._uU(4),o.qZA(),o.YNc(5,Vd,2,1,"div",34),o.YNc(6,L_,3,3,"div",34),o.YNc(7,_d,2,1,"div",34),o.YNc(8,jd,2,1,"div",34),o.YNc(9,bm,2,1,"div",34),o.YNc(10,pd,2,1,"div",34),o.qZA()()()),2&y){const u=ne.$implicit;o.xp6(4),o.Oqu(u.libelle),o.xp6(1),o.Q6J("ngIf","P25"==u.codeRisque||"P26"==u.codeRisque),o.xp6(1),o.Q6J("ngIf","date"==u.typeChamp),o.xp6(1),o.Q6J("ngIf","Number"==u.typeChamp),o.xp6(1),o.Q6J("ngIf","Liste of values"==u.typeChamp),o.xp6(1),o.Q6J("ngIf","From Table"==u.typeChamp),o.xp6(1),o.Q6J("ngIf","From Table"!=u.typeChamp&&"Liste of values"!=u.typeChamp&&"Number"!=u.typeChamp&&"date"!=u.typeChamp&&"Marque"!=u.paramRisque.libelle&&"Mod\xe8le "!=u.paramRisque.libelle)}}function Bm(y,ne){if(1&y&&(o.ynx(0),o.TgZ(1,"mat-expansion-panel-header")(2,"mat-panel-title",32),o._uU(3),o.qZA()(),o.TgZ(4,"div",7)(5,"div",8)(6,"div",9)(7,"div",10),o._uU(8,"Nom: "),o.qZA(),o.TgZ(9,"div",11),o._uU(10),o.qZA()()(),o.TgZ(11,"div",8)(12,"div",9)(13,"div",10),o._uU(14,"Pr\xe9nom:"),o.qZA(),o.TgZ(15,"div",11),o._uU(16),o.qZA()()()(),o.TgZ(17,"div",7)(18,"div",8)(19,"div",9)(20,"div",10),o._uU(21,"Email: "),o.qZA(),o.TgZ(22,"div",11),o._uU(23),o.qZA()()(),o.TgZ(24,"div",8)(25,"div",9)(26,"div",10),o._uU(27,"T\xe9l\xe9phone:"),o.qZA(),o.TgZ(28,"div",11),o._uU(29),o.qZA()()()(),o.YNc(30,Hd,11,7,"div",33),o.BQk()),2&y){const u=o.oxw(),M=u.$implicit,W=u.index,ie=o.oxw(3);o.xp6(3),o.hij(" ",null==M[W]?null:M[W].categorieParamRisque," "),o.xp6(7),o.Oqu(ie.informationsConducteur.nom),o.xp6(6),o.hij("",ie.informationsConducteur.prenom," "),o.xp6(7),o.Oqu(ie.informationsConducteur.email),o.xp6(6),o.hij("",ie.informationsConducteur.tel," "),o.xp6(1),o.Q6J("ngForOf",M)}}function Pm(y,ne){if(1&y&&(o.TgZ(0,"div",11),o._uU(1),o.qZA()),2&y){const u=o.oxw().$implicit;o.xp6(1),o.Oqu(null==u.reponse.idParamReponse?null:u.reponse.idParamReponse.description)}}function fd(y,ne){if(1&y&&(o.TgZ(0,"div",11),o._uU(1),o.ALo(2,"dateFormatPipe"),o.qZA()),2&y){const u=o.oxw().$implicit;o.xp6(1),o.Oqu(o.lcZ(2,1,null==u.reponse?null:u.reponse.valeur))}}function ls(y,ne){if(1&y&&(o.TgZ(0,"div",11),o._uU(1),o.qZA()),2&y){const u=o.oxw().$implicit;o.xp6(1),o.Oqu(null==u.reponse?null:u.reponse.valeur)}}function Il(y,ne){if(1&y&&(o.TgZ(0,"div",11),o._uU(1),o.qZA()),2&y){const u=o.oxw().$implicit;o.xp6(1),o.Oqu(null==u.reponse||null==u.reponse.idParamReponse?null:u.reponse.idParamReponse.description)}}function er(y,ne){if(1&y&&(o.TgZ(0,"div",11),o._uU(1),o.qZA()),2&y){const u=o.oxw().$implicit;o.xp6(1),o.Oqu(null==u.reponse?null:u.reponse.description)}}function Xc(y,ne){if(1&y&&(o.TgZ(0,"div",11),o._uU(1),o.qZA()),2&y){const u=o.oxw().$implicit;o.xp6(1),o.Oqu(u.reponse.valeur)}}function gd(y,ne){if(1&y&&(o.TgZ(0,"div",7)(1,"div",8)(2,"div",9)(3,"div",10),o._uU(4),o.qZA(),o.YNc(5,Pm,2,1,"div",34),o.YNc(6,fd,3,3,"div",34),o.YNc(7,ls,2,1,"div",34),o.YNc(8,Il,2,1,"div",34),o.YNc(9,er,2,1,"div",34),o.YNc(10,Xc,2,1,"div",34),o.qZA()()()),2&y){const u=ne.$implicit;o.xp6(4),o.Oqu(u.libelle),o.xp6(1),o.Q6J("ngIf","P25"==u.codeRisque||"P26"==u.codeRisque),o.xp6(1),o.Q6J("ngIf","date"==u.typeChamp),o.xp6(1),o.Q6J("ngIf","Number"==u.typeChamp),o.xp6(1),o.Q6J("ngIf","Liste of values"==u.typeChamp),o.xp6(1),o.Q6J("ngIf","From Table"==u.typeChamp),o.xp6(1),o.Q6J("ngIf","From Table"!=u.typeChamp&&"Liste of values"!=u.typeChamp&&"Number"!=u.typeChamp&&"date"!=u.typeChamp&&"Marque"!=u.libelle&&"Mod\xe8le "!=u.libelle)}}function hd(y,ne){if(1&y&&(o.ynx(0),o.TgZ(1,"mat-expansion-panel-header")(2,"mat-panel-title",32),o._uU(3),o.qZA()(),o.YNc(4,gd,11,7,"div",33),o.BQk()),2&y){const u=o.oxw(),M=u.$implicit,W=u.index;o.xp6(3),o.hij(" ",null==M[W]?null:M[W].categorieParamRisque," "),o.xp6(1),o.Q6J("ngForOf",M)}}function Y_(y,ne){if(1&y&&(o.TgZ(0,"mat-expansion-panel",31),o.YNc(1,Bm,31,6,"ng-container",28),o.YNc(2,hd,5,2,"ng-container",28),o.qZA()),2&y){const u=ne.$implicit,M=ne.index;o.Q6J("expanded",!0),o.xp6(1),o.Q6J("ngIf","Conducteur"==(null==u[M]?null:u[M].categorieParamRisque)),o.xp6(1),o.Q6J("ngIf","Conducteur"!=(null==u[M]?null:u[M].categorieParamRisque))}}function G_(y,ne){if(1&y&&(o.TgZ(0,"mat-accordion",29),o.YNc(1,Y_,3,3,"mat-expansion-panel",30),o.qZA()),2&y){const u=o.oxw(2);o.xp6(1),o.Q6J("ngForOf",u.informationsRisque)}}function B_(y,ne){1&y&&(o.TgZ(0,"th",41),o._uU(1,"Description"),o.qZA())}function z_(y,ne){if(1&y&&(o.TgZ(0,"td",42),o._uU(1),o.qZA()),2&y){const u=ne.$implicit;o.xp6(1),o.hij(" ",u.description," ")}}function Cd(y,ne){1&y&&o._UZ(0,"th",41)}function V_(y,ne){if(1&y){const u=o.EpF();o.TgZ(0,"td",42)(1,"button",43),o.NdJ("click",function(){const ie=o.CHM(u).$implicit,ve=o.oxw(3);return o.KtG(ve.toggleRow(ie))}),o.TgZ(2,"mat-icon"),o._uU(3),o.qZA()()()}if(2&y){const u=ne.$implicit,M=o.oxw(3);o.xp6(3),o.Oqu(M.expandedElement===u?"expand_less":"expand_more")}}function j_(y,ne){if(1&y&&(o.TgZ(0,"th",41),o._uU(1),o.qZA()),2&y){const u=o.oxw().$implicit;o.xp6(1),o.hij(" ",u,"")}}function H_(y,ne){if(1&y&&(o.TgZ(0,"td",42),o._uU(1),o.qZA()),2&y){const u=ne.$implicit,M=o.oxw(),W=M.index,ie=M.$implicit;o.xp6(1),o.hij(" ",u.risque[W][ie]," ")}}function $_(y,ne){1&y&&(o.ynx(0,52),o.YNc(1,j_,2,1,"th",19),o.YNc(2,H_,2,1,"td",20),o.BQk()),2&y&&o.Q6J("matColumnDef",ne.$implicit)}function $d(y,ne){1&y&&(o.TgZ(0,"th",41),o._uU(1," Action "),o.qZA())}function xd(y,ne){if(1&y){const u=o.EpF();o.TgZ(0,"td",42)(1,"button",53)(2,"mat-icon"),o._uU(3,"more_vert"),o.qZA()(),o.TgZ(4,"mat-menu",54,55)(6,"button",56),o.NdJ("click",function(){const ie=o.CHM(u).$implicit,ve=o.oxw(6);return o.KtG(ve.consultRisque(ie.idRisque,ve.idGroupe))}),o.TgZ(7,"mat-icon"),o._uU(8,"zoom_in"),o.qZA(),o.TgZ(9,"span"),o._uU(10,"Consulter risque"),o.qZA()()()()}if(2&y){const u=o.MAs(5);o.xp6(1),o.Q6J("matMenuTriggerFor",u)}}function Kd(y,ne){1&y&&o._UZ(0,"tr",57)}function K_(y,ne){1&y&&o._UZ(0,"tr",58)}function W_(y,ne){if(1&y&&(o.TgZ(0,"div",47)(1,"table",48,49),o.YNc(3,$_,3,1,"ng-container",50),o.ynx(4,51),o.YNc(5,$d,2,0,"th",19),o.YNc(6,xd,11,1,"td",20),o.BQk(),o.YNc(7,Kd,1,0,"tr",25),o.YNc(8,K_,1,0,"tr",26),o.qZA()()),2&y){const u=o.oxw(2).$implicit,M=o.oxw(3);o.xp6(1),o.Q6J("dataSource",u.risques),o.xp6(2),o.Q6J("ngForOf",M.displayedColumnsCol),o.xp6(4),o.Q6J("matHeaderRowDef",M.displayedColumnsRsInner),o.xp6(1),o.Q6J("matRowDefColumns",M.displayedColumnsRsInner)}}function X_(y,ne){if(1&y&&(o.TgZ(0,"div",45),o.YNc(1,W_,9,4,"div",46),o.qZA()),2&y){const u=o.oxw().$implicit,M=o.oxw(3);o.Q6J("@detailExpand",u==M.expandedElement?"expanded":"collapsed"),o.xp6(1),o.Q6J("ngIf",M.expandedElement)}}function Wd(y,ne){if(1&y&&(o.TgZ(0,"td",42),o.YNc(1,X_,2,2,"div",44),o.qZA()),2&y){const u=ne.$implicit,M=o.oxw(3);o.uIk("colspan",M.displayedColumnsRs.length),o.xp6(1),o.Q6J("ngIf",null==u.risques||null==u.risques.data?null:u.risques.data.length)}}function Xd(y,ne){1&y&&o._UZ(0,"tr",57)}function Mc(y,ne){if(1&y&&o._UZ(0,"tr",58),2&y){const u=ne.$implicit,M=o.oxw(3);o.ekj("example-element-row",null==u.risques||null==u.risques.data?null:u.risques.data.length)("example-expanded-row",M.expandedElement===u)}}function ep(y,ne){1&y&&o._UZ(0,"tr",59)}const tp=function(){return["expandedDetail"]},np=function(){return[5,10]};function ip(y,ne){if(1&y&&(o.TgZ(0,"mat-accordion",29)(1,"table",35),o.ynx(2,18),o.YNc(3,B_,2,0,"th",19),o.YNc(4,z_,2,1,"td",20),o.BQk(),o.ynx(5,36),o.YNc(6,Cd,1,0,"th",19),o.YNc(7,V_,4,1,"td",20),o.BQk(),o.ynx(8,37),o.YNc(9,Wd,2,2,"td",20),o.BQk(),o.YNc(10,Xd,1,0,"tr",25),o.YNc(11,Mc,1,4,"tr",38),o.YNc(12,ep,1,0,"tr",39),o.qZA(),o._UZ(13,"mat-paginator",40),o.qZA()),2&y){const u=o.oxw(2);o.xp6(1),o.Q6J("dataSource",u.dataSourceGroupes),o.xp6(9),o.Q6J("matHeaderRowDef",u.displayedColumnsRs),o.xp6(1),o.Q6J("matRowDefColumns",u.displayedColumnsRs),o.xp6(1),o.Q6J("matRowDefColumns",o.DdM(6,tp)),o.xp6(1),o.Q6J("pageSize",10)("pageSizeOptions",o.DdM(7,np))}}function Bl(y,ne){1&y&&(o.TgZ(0,"th",41),o._uU(1," Garantie"),o.qZA())}function op(y,ne){if(1&y&&(o.TgZ(0,"td",42),o._uU(1),o.qZA()),2&y){const u=ne.$implicit;o.xp6(1),o.hij(" ",u.description," ")}}function e_(y,ne){1&y&&(o.TgZ(0,"th",41),o._uU(1," Plafond "),o.qZA())}function t_(y,ne){if(1&y&&(o.TgZ(0,"td",42),o._uU(1),o.qZA()),2&y){const u=ne.$implicit;o.xp6(1),o.hij(" ",u.plafond," ")}}function n_(y,ne){1&y&&(o.TgZ(0,"th",41),o._uU(1," Franchise "),o.qZA())}function rp(y,ne){if(1&y&&(o.TgZ(0,"td",42),o._uU(1),o.qZA()),2&y){const u=ne.$implicit;o.xp6(1),o.hij(" ",u.franchise," ")}}function ap(y,ne){1&y&&(o.TgZ(0,"th",41),o._uU(1," Formule "),o.qZA())}function sp(y,ne){if(1&y&&(o.TgZ(0,"td",42),o._uU(1),o.qZA()),2&y){const u=ne.$implicit;o.xp6(1),o.hij(" ",u.formule," ")}}function lp(y,ne){1&y&&(o.TgZ(0,"th",41),o._uU(1," Prime "),o.qZA())}function vd(y,ne){if(1&y&&(o.TgZ(0,"td",42),o._uU(1),o.TgZ(2,"sup"),o._uU(3,"DA"),o.qZA()()),2&y){const u=ne.$implicit;o.xp6(1),o.hij(" ",u.prime,"")}}function Ad(y,ne){1&y&&o._UZ(0,"tr",57)}function i_(y,ne){1&y&&o._UZ(0,"tr",58)}function cp(y,ne){if(1&y&&(o.ynx(0),o.TgZ(1,"td"),o._uU(2),o.qZA(),o.TgZ(3,"td"),o._uU(4),o.ALo(5,"money"),o.ALo(6,"number"),o.TgZ(7,"sup"),o._uU(8,"DA"),o.qZA()(),o.BQk()),2&y){const u=o.oxw().$implicit;o.xp6(2),o.Oqu(u.typePrime.description),o.xp6(2),o.hij("",o.lcZ(5,2,o.xi3(6,4,u.primeProrata,"1.0-0"))," ")}}function up(y,ne){if(1&y&&(o.TgZ(0,"tr"),o.YNc(1,cp,9,7,"ng-container",28),o.qZA()),2&y){const u=ne.$implicit;o.xp6(1),o.Q6J("ngIf",101==u.typePrime.idParam)}}function mp(y,ne){if(1&y&&(o.TgZ(0,"tr")(1,"td"),o._uU(2),o.qZA(),o.TgZ(3,"td"),o._uU(4),o.ALo(5,"money"),o.ALo(6,"number"),o.TgZ(7,"sup"),o._uU(8,"DA"),o.qZA()()()),2&y){const u=ne.$implicit;o.xp6(2),o.Oqu(u.taxe.description),o.xp6(2),o.hij("",o.lcZ(5,2,o.xi3(6,4,u.primeProrata,"1.0-0"))," ")}}function dp(y,ne){if(1&y&&(o.ynx(0),o.TgZ(1,"td",60),o._uU(2),o.qZA(),o.TgZ(3,"td",60),o._uU(4),o.ALo(5,"money"),o.ALo(6,"number"),o.TgZ(7,"sup"),o._uU(8,"DA"),o.qZA()(),o.BQk()),2&y){const u=o.oxw().$implicit;o.xp6(2),o.Oqu(u.typePrime.description),o.xp6(2),o.hij("",o.lcZ(5,2,o.xi3(6,4,u.primeProrata,"1.0-0"))," ")}}function _p(y,ne){if(1&y&&(o.TgZ(0,"tr"),o.YNc(1,dp,9,7,"ng-container",28),o.qZA()),2&y){const u=ne.$implicit;o.xp6(1),o.Q6J("ngIf",186==u.typePrime.idParam)}}const o_=function(y){return[y]};function pp(y,ne){if(1&y&&(o.TgZ(0,"div",1)(1,"h2",2)(2,"mat-icon",3),o._uU(3,"arrow_circle_left"),o.qZA(),o._uU(4),o.qZA(),o.TgZ(5,"mat-accordion",4)(6,"mat-expansion-panel",5)(7,"mat-expansion-panel-header")(8,"mat-panel-title"),o._uU(9," Contrat "),o.qZA()(),o.TgZ(10,"div",6)(11,"div",7)(12,"div",8)(13,"div",9)(14,"div",10),o._uU(15,"Date d'Effet: "),o.qZA(),o.TgZ(16,"div",11),o._uU(17),o.qZA()()(),o.TgZ(18,"div",8)(19,"div",9)(20,"div",10),o._uU(21,"Dur\xe9e: "),o.qZA(),o.TgZ(22,"div",11),o._uU(23),o.qZA()()()(),o.TgZ(24,"div",7)(25,"div",8)(26,"div",9)(27,"div",10),o._uU(28,"Agence: "),o.qZA(),o.TgZ(29,"div",11),o._uU(30),o.qZA()()(),o.TgZ(31,"div",8)(32,"div",9)(33,"div",10),o._uU(34,"Quittance: "),o.qZA(),o.TgZ(35,"div",11),o.YNc(36,Q_,3,2,"ng-container",12),o.qZA()()()(),o.TgZ(37,"div",7)(38,"div",8)(39,"div",9)(40,"div",10),o._uU(41,"Convention: "),o.qZA(),o.TgZ(42,"div",11),o._uU(43),o.qZA()()(),o.TgZ(44,"div",8)(45,"div",9)(46,"div",10),o._uU(47,"Reduction: "),o.qZA(),o.TgZ(48,"div",11),o._uU(49),o.qZA()()()()()(),o.TgZ(50,"mat-expansion-panel",5)(51,"mat-expansion-panel-header")(52,"mat-panel-title"),o._uU(53," Information assur\xe9 "),o.qZA()(),o.TgZ(54,"div",6)(55,"div",7)(56,"div",8)(57,"div",9)(58,"div",10),o._uU(59,"Type Client: "),o.qZA(),o.TgZ(60,"div",11),o._uU(61),o.qZA()()()(),o.YNc(62,J_,13,2,"div",13),o.YNc(63,zd,7,1,"ng-template",null,14,o.W1O),o.TgZ(65,"div",7)(66,"div",8)(67,"div",9)(68,"div",10),o._uU(69,"Email: "),o.qZA(),o.TgZ(70,"div",11),o._uU(71),o.qZA()()(),o.TgZ(72,"div",8)(73,"div",9)(74,"div",10),o._uU(75,"T\xe9l\xe9phone:"),o.qZA(),o.TgZ(76,"div",11),o._uU(77),o.qZA()()()()()(),o.TgZ(78,"mat-expansion-panel",5)(79,"mat-expansion-panel-header")(80,"mat-panel-title"),o._uU(81," Information souscripteur "),o.qZA()(),o.TgZ(82,"div",6)(83,"div",7)(84,"div",8)(85,"div",9)(86,"div",10),o._uU(87,"Nom: "),o.qZA(),o.TgZ(88,"div",11),o._uU(89),o.qZA()()(),o.TgZ(90,"div",8)(91,"div",9)(92,"div",10),o._uU(93,"Pr\xe9nom:"),o.qZA(),o.TgZ(94,"div",11),o._uU(95),o.qZA()()()(),o.TgZ(96,"div",7)(97,"div",8)(98,"div",9)(99,"div",10),o._uU(100,"Email: "),o.qZA(),o.TgZ(101,"div",11),o._uU(102),o.qZA()()(),o.TgZ(103,"div",8)(104,"div",9)(105,"div",10),o._uU(106,"T\xe9l\xe9phone:"),o.qZA(),o.TgZ(107,"div",11),o._uU(108),o.qZA()()()()()(),o.TgZ(109,"mat-expansion-panel",5)(110,"mat-expansion-panel-header")(111,"mat-panel-title"),o._uU(112," Informations du risque "),o.qZA()(),o.TgZ(113,"div",6),o.YNc(114,G_,2,1,"mat-accordion",15),o.YNc(115,ip,14,8,"ng-template",null,16,o.W1O),o.qZA()(),o.TgZ(117,"mat-expansion-panel",5)(118,"mat-expansion-panel-header")(119,"mat-panel-title"),o._uU(120),o.qZA()(),o.TgZ(121,"table",17),o.ynx(122,18),o.YNc(123,Bl,2,0,"th",19),o.YNc(124,op,2,1,"td",20),o.BQk(),o.ynx(125,21),o.YNc(126,e_,2,0,"th",19),o.YNc(127,t_,2,1,"td",20),o.BQk(),o.ynx(128,22),o.YNc(129,n_,2,0,"th",19),o.YNc(130,rp,2,1,"td",20),o.BQk(),o.ynx(131,23),o.YNc(132,ap,2,0,"th",19),o.YNc(133,sp,2,1,"td",20),o.BQk(),o.ynx(134,24),o.YNc(135,lp,2,0,"th",19),o.YNc(136,vd,4,1,"td",20),o.BQk(),o.YNc(137,Ad,1,0,"tr",25),o.YNc(138,i_,1,0,"tr",26),o.qZA()(),o.TgZ(139,"mat-expansion-panel",5)(140,"mat-expansion-panel-header")(141,"mat-panel-title"),o._uU(142," Prime "),o.qZA()(),o.TgZ(143,"table",27),o.YNc(144,up,2,1,"tr",12),o.YNc(145,mp,9,7,"tr",12),o.YNc(146,_p,2,1,"tr",12),o.qZA()()()()),2&y){const u=o.MAs(64),M=o.MAs(116),W=o.oxw();o.xp6(2),o.Q6J("routerLink",o.VKq(32,o_,"/consultation-avenants/"+W.codeProduit+"/"+W.informationsContrat.idContrat)),o.xp6(2),o.hij(" Consultation image police N\xb0",W.informationsContrat.idContrat,""),o.xp6(2),o.Q6J("expanded",!0),o.xp6(11),o.hij("",null==W.informationsContrat.dateEffet?null:W.informationsContrat.dateEffet.split("T")[0]," "),o.xp6(6),o.hij("",W.informationsContrat.duree," "),o.xp6(7),o.Oqu(W.informationsContrat.agence),o.xp6(6),o.Q6J("ngForOf",null==W.informationsContrat?null:W.informationsContrat.quittance),o.xp6(7),o.Oqu(W.informationsContrat.convention),o.xp6(6),o.hij(" ",W.informationsContrat.reduction," "),o.xp6(1),o.Q6J("expanded",!0),o.xp6(11),o.Oqu(W.informationsAssure.typeClient),o.xp6(1),o.Q6J("ngIf","personne physique"==W.informationsAssure.typeClient)("ngIfElse",u),o.xp6(9),o.Oqu(W.informationsAssure.email),o.xp6(6),o.hij("",W.informationsAssure.tel," "),o.xp6(1),o.Q6J("expanded",!0),o.xp6(11),o.Oqu(W.informationsSouscripteur.nom),o.xp6(6),o.hij("",W.informationsSouscripteur.prenom," "),o.xp6(7),o.Oqu(W.informationsSouscripteur.email),o.xp6(6),o.hij("",W.informationsSouscripteur.tel," "),o.xp6(1),o.Q6J("expanded",!0),o.xp6(5),o.Q6J("ngIf",!W.multiRisque)("ngIfElse",M),o.xp6(3),o.Q6J("expanded",!0),o.xp6(3),o.hij(' Pack "',W.packDescription,'" '),o.xp6(1),o.Q6J("dataSource",W.dataSourcePack),o.xp6(16),o.Q6J("matHeaderRowDef",W.displayedColumnsPack),o.xp6(1),o.Q6J("matRowDefColumns",W.displayedColumnsPack),o.xp6(1),o.Q6J("expanded",!0),o.xp6(5),o.Q6J("ngForOf",W.dataSourcePrime),o.xp6(1),o.Q6J("ngForOf",W.dataSourceTaxe),o.xp6(1),o.Q6J("ngForOf",W.dataSourcePrime)}}let Zm=(()=>{class y{constructor(u,M,W,ie,ve,Re,Oe){this.dialog=u,this.devisService=M,this.genericService=W,this.cd=ie,this.route=ve,this.contratService=Re,this.avenantService=Oe,this.dataSourcePack=new Le.by,this.displayedColumnsPack=["description","plafond","franchise","formule","prime"],this.displayedColumnsPrime=["description","prime"],this.informationsAssure=[],this.informationsSouscripteur=[],this.informationsConducteur=[],this.informationsPack=[],this.informationsPrime=[],this.categoriesRisque=[],this.valeurVenale=0,this.multiRisque=!1,this.displayedColumnsRsInner=[],this.displayedColumnsRs=["description","more"],this.packDescription="",this.displayedColumnsCol=[],this.dataSourceGroupes=new Le.by,this.idContrat=0,this.sousGarantieTab=[]}ngOnInit(){this.getInfoProduit(),this.idContratAvenant=this.route.snapshot.paramMap.get("idContratAvenant"),this.codeProduit=this.route.snapshot.paramMap.get("codeProduit"),this.getAvenantByContrat()}getAvenantByContrat(){this.avenantService.getAttributsAvenant(this.idContratAvenant).subscribe({next:u=>{this.hisHistorique=u.idHisContrat,this.getHistoriqueContrat(this.hisHistorique)},error:u=>{console.log(u)}})}getHistoriqueContrat(u){var M=this;this.contratService.getContratHistoriqueById(u).subscribe({next:W=>{if(W?.personnesList?.forEach(ie=>{switch(ie?.role?.code){case"CP233":this.informationsConducteur={nom:ie.personne.nom,prenom:ie.personne.prenom1,dateNaissance:ie.personne.dateNaissance,categoriePermis:ie.personne.documentList?.find(ve=>5==ve.typeDocument?.idParam)?.sousCategorie,dateDelivrance:ie.personne.documentList?.find(ve=>5==ve.typeDocument?.idParam)?.dateDelivrance,email:ie.personne.contactList?.find(ve=>8==ve.typeContact?.idParam)?.description,tel:ie.personne.contactList?.find(ve=>7==ve.typeContact?.idParam)?.description};break;case"CP234":this.informationsSouscripteur={raisonSocial:ie.personne.raisonSocial,nom:ie.personne.nom,prenom:ie.personne.prenom1,email:ie.personne.contactList?.find(ve=>8==ve.typeContact?.idParam)?.description,tel:ie.personne.contactList?.find(ve=>7==ve.typeContact?.idParam)?.description};break;case"CP235":this.informationsAssure={typeClient:"raisonSocial"in ie.personne?"personne morale":"personne physique",raisonSocial:ie.personne.raisonSocial,nom:ie.personne.nom,prenom:ie.personne.prenom1,email:ie.personne.contactList?.find(ve=>8==ve.typeContact?.idParam)?.description,tel:ie.personne.contactList?.find(ve=>7==ve.typeContact?.idParam)?.description};break;case"CP236":this.informationsAssure={typeClient:"raisonSocial"in ie.personne?"personne morale":"personne physique",raisonSocial:ie.personne.raisonSocial,nom:ie.personne.nom,prenom:ie.personne.prenom1,email:ie.personne.contactList?.find(ve=>8==ve.typeContact?.idParam)?.description,tel:ie.personne.contactList?.find(ve=>7==ve.typeContact?.idParam)?.description},this.informationsSouscripteur={raisonSocial:ie.personne.raisonSocial,nom:ie.personne.nom,prenom:ie.personne.prenom1,email:ie.personne.contactList?.find(ve=>8==ve.typeContact?.idParam)?.description,tel:ie.personne.contactList?.find(ve=>7==ve.typeContact?.idParam)?.description};break;case"CP237":this.informationsSouscripteur={raisonSocial:ie.personne.raisonSocial,nom:ie.personne.nom,prenom:ie.personne.prenom1,email:ie.personne.contactList?.find(ve=>8==ve.typeContact?.idParam)?.description,tel:ie.personne.contactList?.find(ve=>7==ve.typeContact?.idParam)?.description},this.informationsConducteur={nom:ie.personne.nom,prenom:ie.personne.prenom1,dateNaissance:ie.personne.dateNaissance,categoriePermis:ie.personne.documentList?.find(ve=>5==ve.typeDocument?.idParam)?.sousCategorie,dateDelivrance:ie.personne.documentList?.find(ve=>5==ve.typeDocument?.idParam)?.dateDelivrance,email:ie.personne.contactList?.find(ve=>8==ve.typeContact?.idParam)?.description,tel:ie.personne.contactList?.find(ve=>7==ve.typeContact?.idParam)?.description};break;case"CP238":this.informationsAssure={typeClient:"raisonSocial"in ie.personne?"personne morale":"personne physique",raisonSocial:ie.personne.raisonSocial,nom:ie.personne.nom,prenom:ie.personne.prenom1,email:ie.personne.contactList?.find(ve=>8==ve.typeContact?.idParam)?.description,tel:ie.personne.contactList?.find(ve=>7==ve.typeContact?.idParam)?.description},this.informationsSouscripteur={raisonSocial:ie.personne.raisonSocial,nom:ie.personne.nom,prenom:ie.personne.prenom1,email:ie.personne.contactList?.find(ve=>8==ve.typeContact?.idParam)?.description,tel:ie.personne.contactList?.find(ve=>7==ve.typeContact?.idParam)?.description},this.informationsConducteur={nom:ie.personne.nom,prenom:ie.personne.prenom1,dateNaissance:ie.personne.dateNaissance,categoriePermis:ie.personne.documentList?.find(ve=>5==ve.typeDocument?.idParam)?.sousCategorie,dateDelivrance:ie.personne.documentList?.find(ve=>5==ve.typeDocument?.idParam)?.dateDelivrance,email:ie.personne.contactList?.find(ve=>8==ve.typeContact?.idParam)?.description,tel:ie.personne.contactList?.find(ve=>7==ve.typeContact?.idParam)?.description};break;case"CP240":("95"==W.produit.codeProduit||"96"==W.produit.codeProduit)&&(this.informationsAssure={typeClient:"raisonSocial"in ie.personne?"personne morale":"personne physique",raisonSocial:ie.personne.raisonSocial,nom:ie.personne.nom,prenom:ie.personne.prenom1,email:ie.personne.contactList?.find(ve=>8==ve.typeContact?.idParam)?.description,tel:ie.personne.contactList?.find(ve=>7==ve.typeContact?.idParam)?.description})}}),this.informationsContrat={idContrat:W.idContrat,duree:W.duree.description,agence:W.agence?.raisonSocial,dateEffet:W.dateEffet,quittance:W.quittanceList,convention:W.convention,reduction:W.reduction},this.multiRisque||this.consultRisque(W.groupesList[0].risques[0].idRisque,W.groupesList[0].idGroupe),this.multiRisque){let ie=[];const ve=W.groupesList;ve.forEach(Re=>{Re.risques.forEach(Oe=>{Oe.risque.forEach(ke=>{ke.colonne=ke.colonne.split(" ").map(Bt=>Bt.charAt(0).toUpperCase()+Bt.substring(1)).join("").replace(/[\xb0']/g,""),this.displayedColumnsRsInner=this.displayedColumnsRsInner.includes(ke.colonne)?this.displayedColumnsRsInner:[...this.displayedColumnsRsInner,ke.colonne],this.displayedColumnsCol=this.displayedColumnsCol.includes(ke.colonne)?this.displayedColumnsCol:[...this.displayedColumnsCol,ke.colonne];const Qe=Oe.risque.find(Bt=>Bt.colonne===ke.colonne);Qe&&(Qe[ke.colonne]=ke.valeur,delete Qe.colonne,delete Qe.valeur)})})}),this.displayedColumnsRsInner.push("action"),ve.forEach(Re=>{Re.risques&&Array.isArray(Re.risques)&&Re.risques.length?(Re.risques.idGroupe=Re.idGroupe,ie=[...ie,{...Re,risques:new Le.by(Re.risques)}]):ie=[...ie,Re]}),this.dataSourceGroupes=new Le.by(ie),this.dataSourceGroupes.paginator=this.paginator}else this.contratService.getPackIdRisqueHistorique(this.hisHistorique,W.groupesList[0].risques[0].idRisque).subscribe({next:(ie=(0,h.Z)(function*(ve){M.packDescription=ve?.pack?.description,ve.garantieList?.map(Re=>{let Oe="-",ke="-",Qe="-";(Re.prime&&"0.0"!=Re.prime||"95"!=W?.produit?.codeProduit)&&(Re.sousGarantieList?.filter(Bt=>{let Yt="-",dn="-",Ut="-";Bt.categorieList.map(gn=>{"C15"==gn.code?Ut=gn.valeur:"C16"==gn.code?dn=gn.valeur:"C7"==gn.code&&("0"==gn.valeur&&(gn.valeur=M.valeurVenale),Yt=gn.valeur)}),M.sousGarantieTab.push({idGarantie:Bt.idGarantie,description:Bt.description,prime:Bt.prime,plafond:Yt,formule:dn,franchise:Ut})}),Re.categorieList.map(Bt=>{"C15"==Bt.code?Qe=Bt.valeur:"C16"==Bt.code?ke=Bt.valeur:"C7"==Bt.code&&("0"==Bt.valeur&&(Bt.valeur=M.valeurVenale),Oe=Bt.valeur)}),M.informationsPack.push({idGarantie:Re.idGarantie,description:Re.description,prime:Re.prime,plafond:Oe,formule:ke,franchise:Qe,sousGarantieList:new Le.by(M.sousGarantieTab)})),M.sousGarantieTab=[]}),M.dataSourcePack=new Le.by(M.informationsPack),M.dataSourcePack=new Le.by(M.informationsPack)}),function(Re){return ie.apply(this,arguments)}),error:ie=>{console.log(ie)}});var ie;this.dataSourcePrime=W.primeList,this.dataSourceTaxe=W.taxeList},error:W=>{console.log(W)}})}toggleRow(u){this.dataSourceGroupes.data.indexOf(u),this.idGroupe=u.idGroupe,u.risques&&u.risques.data.length&&(this.expandedElement=this.expandedElement===u?null:u),this.cd.detectChanges(),this.innerTables.forEach((M,W)=>M.dataSource.sort=this.innerSort.toArray()[W])}getInfoProduit(){let u=JSON.parse(sessionStorage.getItem("products")||"{}").find(M=>M.codeProduit==this.route.snapshot.paramMap.get("codeProduit")).idProduit;this.genericService.getPorduitById(u).subscribe({next:M=>{this.multiRisque="Oui"==M.param_Produit_Reponses.filter(W=>"multirisque"==W.idParamProduit.libelle)[0].reponse.description},error:M=>{console.log(M)}})}consultRisque(u,M){this.contratService.getParamContratByIdRisqueHisto(this.hisHistorique,M,u).subscribe({next:W=>{this.datasParam=W,this.multiRisque||(this.informationsRisque=this.datasParam.reduce((ie,ve)=>("P40"==ve?.codeParam&&(this.valeurVenale=ve.valeur),(ie[ve.categorieParamRisque]=ie[ve.categorieParamRisque]||[]).push(ve),ie),{}),this.informationsRisque=Object.values(this.informationsRisque)),this.contratService.getPackIdRisqueHistorique(this.hisHistorique,u).subscribe({next:ie=>{this.multiRisque&&this.openDialog(W,ie)},error:ie=>{console.log(ie)}})},error:W=>{console.log(W)}})}openDialog(u,M){this.dialog.open($u.T,{width:"60%",data:{paramRisque:u,pack:M}}).afterClosed().subscribe(ie=>{})}}return y.\u0275fac=function(u){return new(u||y)(o.Y36(Q.uw),o.Y36(vn.J),o.Y36(mo.M),o.Y36(o.sBO),o.Y36(K.gz),o.Y36(xe.H),o.Y36(n.n))},y.\u0275cmp=o.Xpm({type:y,selectors:[["app-consult-avenant"]],viewQuery:function(u,M){if(1&u&&(o.Gf(ee.NW,5),o.Gf(Bd,5),o.Gf(F_,5)),2&u){let W;o.iGM(W=o.CRH())&&(M.paginator=W.first),o.iGM(W=o.CRH())&&(M.innerTables=W),o.iGM(W=o.CRH())&&(M.innerSort=W)}},decls:1,vars:1,consts:[["class","container",4,"ngIf"],[1,"container"],[1,"header-title"],["aria-hidden","false","matTooltip","Retour","matTooltipPosition","left",1,"material-symbols-outlined",3,"routerLink"],["multi","",1,"example-headers-align"],["hideToggle","",3,"expanded"],[1,"container",2,"padding","1rem 2rem"],[1,"row","infos"],[1,"col-md-6"],[1,"row"],[1,"col-md-6","key"],[1,"col-md-6","value"],[4,"ngFor","ngForOf"],["class","row infos",4,"ngIf","ngIfElse"],["personneMoral",""],["multi","",4,"ngIf","ngIfElse"],["multirisque",""],["mat-table","",1,"pack-table",3,"dataSource"],["matColumnDef","description"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","plafond"],["matColumnDef","franchise"],["matColumnDef","formule"],["matColumnDef","prime"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[1,"resume"],[4,"ngIf"],["multi",""],["hideToggle","","class","panel-risque",3,"expanded",4,"ngFor","ngForOf"],["hideToggle","",1,"panel-risque",3,"expanded"],[1,"categoryTitle"],["class","row infos ",4,"ngFor","ngForOf"],["class","col-md-6 value",4,"ngIf"],["mat-table","","multiTemplateDataRows","",1,"gestion-table",3,"dataSource"],["matColumnDef","more"],["matColumnDef","expandedDetail"],["mat-row","",3,"example-element-row","example-expanded-row",4,"matRowDef","matRowDefColumns"],["mat-row","","class","example-detail-row",4,"matRowDef","matRowDefColumns"],["aria-label","Select page of users",3,"pageSize","pageSizeOptions"],["mat-header-cell",""],["mat-cell",""],["mat-icon-button","","type","button","aria-label","",3,"click"],["class","example-element-detail",4,"ngIf"],[1,"example-element-detail"],["class","inner-table mat-elevation-z8",4,"ngIf"],[1,"inner-table","mat-elevation-z8"],["mat-table","","matSort","",1,"",3,"dataSource"],["innerTables",""],[3,"matColumnDef",4,"ngFor","ngForOf"],["matColumnDef","action"],[3,"matColumnDef"],["mat-icon-button","","type","button","aria-label","menu contrat list",3,"matMenuTriggerFor"],["xPosition","after",1,"menu-contrat"],["menu","matMenu"],["mat-menu-item","","type","button",3,"click"],["mat-header-row",""],["mat-row",""],["mat-row","",1,"example-detail-row"],[1,"primeTotale"]],template:function(u,M){1&u&&o.YNc(0,pp,147,34,"div",0),2&u&&o.Q6J("ngIf",M.informationsContrat)},dependencies:[Se.sg,Se.O5,ot.Hw,mr.pp,mr.ib,mr.yz,mr.yK,tt.VK,tt.OP,tt.p6,Le.BZ,Le.fO,Le.as,Le.w1,Le.Dz,Le.nj,Le.ge,Le.ev,Le.XQ,Le.Gk,Zt.gM,ee.NW,nn.lW,K.rH,Se.JJ,dd.y,Aa.X],styles:[".container[_ngcontent-%COMP%]{background-color:#fff;padding:40px 0;height:100%;overflow-y:auto;overflow-x:hidden}.gestion-table[_ngcontent-%COMP%]{width:100%}.gestion-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .gestion-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:16px}.gestion-table[_ngcontent-%COMP%]   .mat-header-cell[_ngcontent-%COMP%]{color:#00008f;font-weight:600}.gestion-table[_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]:nth-child(even), .gestion-table[_ngcontent-%COMP%]   .mat-header-row[_ngcontent-%COMP%]{background-color:#f7f7f9}.gestion-table[_ngcontent-%COMP%]   .mat-paginator[_ngcontent-%COMP%]{background-color:transparent;margin:20px auto auto;width:80%}.gestion-table[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{height:100%;font-size:26px;color:#00008f;width:-moz-fit-content;width:fit-content}.mat-menu-item[_ngcontent-%COMP%]{font-size:15px}.mat-menu-item[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:18px;height:-moz-fit-content;height:fit-content}.mat-menu-item[_ngcontent-%COMP%]:hover:not([disabled]), .mat-menu-item[_ngcontent-%COMP%]:hover:not([disabled])   .mat-icon[_ngcontent-%COMP%]{color:#00008f}.header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:0px 2rem}.header[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{height:-moz-fit-content;height:fit-content;font-size:29px;margin-right:1rem;width:-moz-fit-content;width:fit-content}.title-table[_ngcontent-%COMP%]{margin-bottom:0rem;font-weight:800!important;font-size:23px!important;color:#00008f!important}.container[_ngcontent-%COMP%]{background-color:#fff;padding:40px 0;height:100%;overflow-x:hidden;box-shadow:0 .5rem 1rem #00000026}.mat-expansion-panel-header[_ngcontent-%COMP%]{background:rgba(199,199,199,.2)!important;font-weight:600;font-size:16px}.mat-expansion-panel-header.mat-expanded[_ngcontent-%COMP%]{height:48px}.mat-expansion-panel-header-title[_ngcontent-%COMP%]{color:#00008f}.mat-expansion-panel[_ngcontent-%COMP%]:not([class*=mat-elevation-z]){box-shadow:none}.row.infos[_ngcontent-%COMP%]{font-size:16px;margin-bottom:2rem;font-weight:600}.panel-risque[_ngcontent-%COMP%]   .row.infos[_ngcontent-%COMP%]{margin-left:10px;margin-top:10px}.panel-risque[_ngcontent-%COMP%]{width:70%}.categoryTitle[_ngcontent-%COMP%]{text-transform:capitalize}.value[_ngcontent-%COMP%]{color:#00008f;font-weight:600}h2.header-title[_ngcontent-%COMP%]{padding:0 24px;font-size:21px!important;color:#00008f;font-weight:600!important;letter-spacing:1px;display:flex;justify-content:space-between}table.pack-table[_ngcontent-%COMP%]{width:100%;margin-top:1rem}.mat-header-row[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{color:#00008f}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:16px;font-weight:600;border-right:1px solid #e7e7e7;padding-left:1rem}.mat-header-cell[_ngcontent-%COMP%]{color:#333;font-weight:600;letter-spacing:.5px;font-size:15px}table.resume[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;border-spacing:0 19px}table.resume[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:17px;padding:12px 19px;border:1px solid rgba(0,0,0,.12)}.resume-buttons[_ngcontent-%COMP%]{margin-top:4rem;width:50%;display:flex;justify-content:space-between}.resume-buttons[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{margin-right:9px;font-size:24px}.center-spinner[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%) translateY(-50%)}.mat-column-expandedDetail[_ngcontent-%COMP%]{padding-left:0!important;padding-right:0!important}.example-element-detail[_ngcontent-%COMP%]{overflow:hidden;display:flex}tr.example-detail-row[_ngcontent-%COMP%]{height:0}.mat-column-expandedDetail[_ngcontent-%COMP%]{padding:0}.mat-cell[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]:hover, .mat-header-cell[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]:hover{color:#d14723;cursor:pointer}.mat-cell[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{color:#00008f}.innertable[_ngcontent-%COMP%]{background-color:#f7f7f9}.cdk-column-expandedDetail[_ngcontent-%COMP%]{border-bottom-width:0px}.mat-menu-item[_ngcontent-%COMP%]{font-size:16px}.mat-icon[_ngcontent-%COMP%]{margin-right:16px;font-size:21px;height:-moz-fit-content;height:fit-content}.mat-menu-item[_ngcontent-%COMP%]:hover:not([disabled]){color:#00008f}.mat-menu-item[_ngcontent-%COMP%]:hover:not([disabled])   .mat-icon[_ngcontent-%COMP%]{color:#00008f}.inner-table[_ngcontent-%COMP%], .inner-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%}"],data:{animation:[(0,Vt.X$)("detailExpand",[(0,Vt.SB)("collapsed",(0,Vt.oB)({height:"0px",minHeight:"0",display:"none"})),(0,Vt.SB)("expanded",(0,Vt.oB)({height:"*"})),(0,Vt.eR)("expanded <=> collapsed",(0,Vt.jt)("225ms cubic-bezier(0.4, 0.0, 0.2, 1)"))])]}}),y})();function fp(y,ne){1&y&&o._UZ(0,"mat-spinner",13)}function gp(y,ne){1&y&&(o.TgZ(0,"span"),o._uU(1," Refuser "),o.qZA())}function zm(y,ne){1&y&&o._UZ(0,"mat-spinner",13)}function r_(y,ne){1&y&&(o.TgZ(0,"span"),o._uU(1," Valider "),o.qZA())}let hp=(()=>{class y{constructor(u,M,W,ie){this.data=u,this.dialogRef=M,this.avenantService=W,this.router=ie,this.approbation={},this.loaderValider=!1,this.loaderRefuser=!1}ngOnInit(){}validationAvenant(u){u?this.loaderValider=!0:this.loaderRefuser=!0,this.approbation={idContratAvenant:this.data.idContratAvenant,validation:u,commentaire:this.commentaire},this.avenantService.approbationAvenant(this.approbation).subscribe(M=>{this.commentaire="",u?(this.loaderValider=!1,ut().fire("Avenant approuv\xe9","","success")):(this.loaderRefuser=!1,ut().fire("Avenant refus\xe9","","success")),this.dialogRef.close()},M=>{this.loaderValider=!1,this.loaderRefuser=!1,ut().fire("Une erreur s'est produite lors de l'approbation","","error")})}}return y.\u0275fac=function(u){return new(u||y)(o.Y36(Q.WI),o.Y36(Q.so),o.Y36(n.n),o.Y36(K.F0))},y.\u0275cmp=o.Xpm({type:y,selectors:[["app-validation-avenant"]],decls:20,vars:5,consts:[[1,"heading"],[2,"float","right","font-size","24px"],["aria-hidden","false","aria-label","","matTooltip","","matTooltipPosition","right","mat-dialog-close","",1,"material-symbols-outlined"],[1,"mat-typography"],[1,"row"],["appearance","outline",1,"col-md-12","login-field"],["matInput","",3,"ngModel","ngModelChange"],["ctrl","ngModel"],[1,"row-button"],[1,"btn","btn-delete",3,"mouseup"],["color","white","diameter","30",4,"ngIf"],[4,"ngIf"],[1,"btn","btn-validation",3,"mouseup"],["color","white","diameter","30"]],template:function(u,M){1&u&&(o.TgZ(0,"h2",0),o._uU(1,"Approbation avenant "),o.TgZ(2,"span",1)(3,"mat-icon",2),o._uU(4," close "),o.qZA()()(),o._UZ(5,"mat-divider"),o.TgZ(6,"mat-dialog-content",3)(7,"div",4)(8,"mat-form-field",5)(9,"mat-label"),o._uU(10,"Commentaire"),o.qZA(),o.TgZ(11,"input",6,7),o.NdJ("ngModelChange",function(ie){return M.commentaire=ie}),o.qZA()()(),o.TgZ(13,"div",8)(14,"button",9),o.NdJ("mouseup",function(){return M.validationAvenant(!1)}),o.YNc(15,fp,1,0,"mat-spinner",10),o.YNc(16,gp,2,0,"span",11),o.qZA(),o.TgZ(17,"button",12),o.NdJ("mouseup",function(){return M.validationAvenant(!0)}),o.YNc(18,zm,1,0,"mat-spinner",10),o.YNc(19,r_,2,0,"span",11),o.qZA()()()),2&u&&(o.xp6(11),o.Q6J("ngModel",M.commentaire),o.xp6(4),o.Q6J("ngIf",M.loaderRefuser),o.xp6(1),o.Q6J("ngIf",!M.loaderRefuser),o.xp6(2),o.Q6J("ngIf",M.loaderValider),o.xp6(1),o.Q6J("ngIf",!M.loaderValider))},dependencies:[Se.O5,i.d,ot.Hw,w.Fj,w.JJ,Z.KE,Z.hX,zr.Nt,Zt.gM,Q.ZT,Q.xY,za.Ou,w.On],styles:[".buttons.row[_ngcontent-%COMP%]{justify-content:space-between}h2.heading[_ngcontent-%COMP%]{color:#00008f;font-weight:700!important;letter-spacing:.5px}.mat-dialog-content[_ngcontent-%COMP%], .mat-form-field[_ngcontent-%COMP%]{padding-top:15px}.mat-error[_ngcontent-%COMP%]{font-size:11px}.row-button[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:2rem}"]}),y})();function Cp(y,ne){if(1&y&&(o.TgZ(0,"div",10),o._uU(1),o.ALo(2,"dateFormatPipe"),o.qZA()),2&y){const u=o.oxw().$implicit;o.xp6(1),o.hij(" ",o.lcZ(2,1,null==u?null:u.reponse)," ")}}function La(y,ne){if(1&y&&(o.TgZ(0,"div",10),o._uU(1),o.qZA()),2&y){const u=o.oxw().$implicit;o.xp6(1),o.hij("",null==u?null:u.reponse," ")}}function qm(y,ne){if(1&y&&(o.TgZ(0,"div",6)(1,"div",7)(2,"div",8)(3,"div",9),o._uU(4),o.qZA(),o.YNc(5,Cp,3,3,"div",18),o.YNc(6,La,2,1,"div",18),o.qZA()()()),2&y){const u=ne.$implicit;o.xp6(4),o.hij("",u.attribut.attribut,": "),o.xp6(1),o.Q6J("ngIf","date"==(null==u.attribut.type?null:u.attribut.type.description)),o.xp6(1),o.Q6J("ngIf","date"!=(null==u.attribut.type?null:u.attribut.type.description))}}function Sm(y,ne){if(1&y&&(o.TgZ(0,"div",6)(1,"div",7)(2,"div",8)(3,"div",9),o._uU(4,"Nom: "),o.qZA(),o.TgZ(5,"div",10),o._uU(6),o.qZA()()(),o.TgZ(7,"div",7)(8,"div",8)(9,"div",9),o._uU(10,"Pr\xe9nom:"),o.qZA(),o.TgZ(11,"div",10),o._uU(12),o.qZA()()()()),2&y){const u=o.oxw(2);o.xp6(6),o.Oqu(u.informationsAssure.nom),o.xp6(6),o.hij("",u.informationsAssure.prenom," ")}}function Vm(y,ne){if(1&y&&(o.TgZ(0,"div",6)(1,"div",7)(2,"div",8)(3,"div",9),o._uU(4,"Raison Social: "),o.qZA(),o.TgZ(5,"div",10),o._uU(6),o.qZA()()()()),2&y){const u=o.oxw(2);o.xp6(6),o.Oqu(u.informationsAssure.raisonSocial)}}function ym(y,ne){if(1&y&&(o.TgZ(0,"mat-expansion-panel",4)(1,"mat-expansion-panel-header")(2,"mat-panel-title"),o._uU(3," Information assur\xe9 "),o.qZA()(),o.TgZ(4,"div",5)(5,"div",6)(6,"div",7)(7,"div",8)(8,"div",9),o._uU(9,"Type Client: "),o.qZA(),o.TgZ(10,"div",10),o._uU(11),o.qZA()()()(),o.YNc(12,Sm,13,2,"div",19),o.YNc(13,Vm,7,1,"ng-template",null,20,o.W1O),o.TgZ(15,"div",6)(16,"div",7)(17,"div",8)(18,"div",9),o._uU(19,"Email: "),o.qZA(),o.TgZ(20,"div",10),o._uU(21),o.qZA()()(),o.TgZ(22,"div",7)(23,"div",8)(24,"div",9),o._uU(25,"T\xe9l\xe9phone:"),o.qZA(),o.TgZ(26,"div",10),o._uU(27),o.qZA()()()()()()),2&y){const u=o.MAs(14),M=o.oxw();o.Q6J("expanded",!0),o.xp6(11),o.Oqu(M.informationsAssure.typeClient),o.xp6(1),o.Q6J("ngIf","personne physique"==M.informationsAssure.typeClient)("ngIfElse",u),o.xp6(9),o.Oqu(M.informationsAssure.email),o.xp6(6),o.hij("",M.informationsAssure.tel," ")}}function Ku(y,ne){if(1&y&&(o.TgZ(0,"mat-expansion-panel",4)(1,"mat-expansion-panel-header")(2,"mat-panel-title"),o._uU(3," Information souscripteur "),o.qZA()(),o.TgZ(4,"div",5)(5,"div",6)(6,"div",7)(7,"div",8)(8,"div",9),o._uU(9,"Nom: "),o.qZA(),o.TgZ(10,"div",10),o._uU(11),o.qZA()()(),o.TgZ(12,"div",7)(13,"div",8)(14,"div",9),o._uU(15,"Pr\xe9nom:"),o.qZA(),o.TgZ(16,"div",10),o._uU(17),o.qZA()()()(),o.TgZ(18,"div",6)(19,"div",7)(20,"div",8)(21,"div",9),o._uU(22,"Email: "),o.qZA(),o.TgZ(23,"div",10),o._uU(24),o.qZA()()(),o.TgZ(25,"div",7)(26,"div",8)(27,"div",9),o._uU(28,"T\xe9l\xe9phone:"),o.qZA(),o.TgZ(29,"div",10),o._uU(30),o.qZA()()()()()()),2&y){const u=o.oxw();o.Q6J("expanded",!0),o.xp6(11),o.Oqu(u.informationsSouscripteur.nom),o.xp6(6),o.hij("",u.informationsSouscripteur.prenom," "),o.xp6(7),o.Oqu(u.informationsSouscripteur.email),o.xp6(6),o.hij("",u.informationsSouscripteur.tel," ")}}function bu(y,ne){if(1&y&&(o.TgZ(0,"div",10),o._uU(1),o.qZA()),2&y){const u=o.oxw().$implicit;o.xp6(1),o.Oqu(u.reponse.idParamReponse.description)}}function xp(y,ne){if(1&y&&(o.TgZ(0,"div",10),o._uU(1),o.ALo(2,"dateFormatPipe"),o.qZA()),2&y){const u=o.oxw().$implicit;o.xp6(1),o.Oqu(o.lcZ(2,1,u.reponse.valeur))}}function a_(y,ne){if(1&y&&(o.TgZ(0,"div",10),o._uU(1),o.qZA()),2&y){const u=o.oxw().$implicit;o.xp6(1),o.Oqu(u.reponse.valeur)}}function Nm(y,ne){if(1&y&&(o.TgZ(0,"div",10),o._uU(1),o.qZA()),2&y){const u=o.oxw().$implicit;o.xp6(1),o.Oqu(u.reponse.idParamReponse.description)}}function Wu(y,ne){if(1&y&&(o.TgZ(0,"div",10),o._uU(1),o.qZA()),2&y){const u=o.oxw().$implicit;o.xp6(1),o.Oqu(u.reponse.description)}}function vp(y,ne){if(1&y&&(o.TgZ(0,"div",6)(1,"div",7)(2,"div",8)(3,"div",9),o._uU(4),o.qZA(),o.YNc(5,bu,2,1,"div",18),o.YNc(6,xp,3,3,"div",18),o.YNc(7,a_,2,1,"div",18),o.YNc(8,Nm,2,1,"div",18),o.YNc(9,Wu,2,1,"div",18),o.qZA()()()),2&y){const u=ne.$implicit;o.xp6(4),o.Oqu(u.libelle),o.xp6(1),o.Q6J("ngIf","P25"==u.codeRisque||"P26"==u.codeRisque),o.xp6(1),o.Q6J("ngIf","date"==u.typeChamp),o.xp6(1),o.Q6J("ngIf","Number"==u.typeChamp||"String"==u.typeChamp),o.xp6(1),o.Q6J("ngIf","Liste of values"==u.typeChamp),o.xp6(1),o.Q6J("ngIf","From Table"==u.typeChamp)}}function Ap(y,ne){if(1&y&&(o.TgZ(0,"mat-expansion-panel",23),o.ynx(1),o.TgZ(2,"mat-expansion-panel-header")(3,"mat-panel-title",24),o._uU(4),o.qZA()(),o.YNc(5,vp,10,6,"div",25),o.BQk(),o.qZA()),2&y){const u=ne.$implicit,M=ne.index;o.Q6J("expanded",!0),o.xp6(4),o.hij(" ",null==u[M]?null:u[M].categorieParamRisque," "),o.xp6(1),o.Q6J("ngForOf",u)}}function Tp(y,ne){if(1&y&&(o.TgZ(0,"mat-accordion",21),o.YNc(1,Ap,6,3,"mat-expansion-panel",22),o.qZA()),2&y){const u=o.oxw();o.xp6(1),o.Q6J("ngForOf",u.informationsRisque)}}function s_(y,ne){1&y&&(o.TgZ(0,"th",35),o._uU(1," N\xb0 Groupe "),o.qZA())}function bp(y,ne){if(1&y&&(o.TgZ(0,"td",36),o._uU(1),o.qZA()),2&y){const u=ne.$implicit;o.xp6(1),o.hij(" ",u.idGroupe," ")}}function jm(y,ne){1&y&&(o.TgZ(0,"th",35),o._uU(1," N\xb0 risque "),o.qZA())}function Hm(y,ne){if(1&y&&(o.TgZ(0,"td",36),o._uU(1),o.qZA()),2&y){const u=ne.$implicit;o.xp6(1),o.hij(" ",u.idRisque," ")}}function $m(y,ne){if(1&y&&(o.TgZ(0,"th",35),o._uU(1),o.qZA()),2&y){const u=o.oxw().$implicit;o.xp6(1),o.Oqu(u)}}function Pp(y,ne){if(1&y&&(o.TgZ(0,"td",36),o._uU(1),o.qZA()),2&y){const u=ne.$implicit,M=o.oxw().$implicit;o.xp6(1),o.Oqu(u[M])}}function Zp(y,ne){1&y&&(o.ynx(0,37),o.YNc(1,$m,2,1,"th",28),o.YNc(2,Pp,2,1,"td",29),o.BQk()),2&y&&o.Q6J("matColumnDef",ne.$implicit)}function qp(y,ne){1&y&&(o.TgZ(0,"th",35),o._uU(1," Action "),o.qZA())}function l_(y,ne){if(1&y){const u=o.EpF();o.TgZ(0,"td",36)(1,"button",38)(2,"mat-icon"),o._uU(3,"more_vert"),o.qZA()(),o.TgZ(4,"mat-menu",39,40)(6,"button",41),o.NdJ("click",function(){const ie=o.CHM(u).$implicit,ve=o.oxw(2);return o.KtG(ve.consultRisque(ie.idGroupe,ie.idRisque))}),o.TgZ(7,"mat-icon"),o._uU(8,"zoom_in"),o.qZA(),o.TgZ(9,"span"),o._uU(10,"Consulter risque"),o.qZA()()()()}if(2&y){const u=o.MAs(5);o.xp6(1),o.Q6J("matMenuTriggerFor",u)}}function Sp(y,ne){1&y&&o._UZ(0,"tr",42)}function yp(y,ne){1&y&&o._UZ(0,"tr",43)}function Np(y,ne){if(1&y&&(o.TgZ(0,"mat-accordion",21)(1,"table",26),o.ynx(2,27),o.YNc(3,s_,2,0,"th",28),o.YNc(4,bp,2,1,"td",29),o.BQk(),o.ynx(5,30),o.YNc(6,jm,2,0,"th",28),o.YNc(7,Hm,2,1,"td",29),o.BQk(),o.YNc(8,Zp,3,1,"ng-container",31),o.ynx(9,32),o.YNc(10,qp,2,0,"th",28),o.YNc(11,l_,11,1,"td",29),o.BQk(),o.YNc(12,Sp,1,0,"tr",33),o.YNc(13,yp,1,0,"tr",34),o.qZA()()),2&y){const u=o.oxw();o.xp6(1),o.Q6J("dataSource",u.dataSourceGroupes),o.xp6(7),o.Q6J("ngForOf",u.colonnesDynamiques),o.xp6(4),o.Q6J("matHeaderRowDef",u.displayColonnes),o.xp6(1),o.Q6J("matRowDefColumns",u.displayColonnes)}}function Ip(y,ne){if(1&y&&(o.ynx(0),o.TgZ(1,"td"),o._uU(2),o.qZA(),o.TgZ(3,"td"),o._uU(4),o.ALo(5,"money"),o.ALo(6,"number"),o.TgZ(7,"sup"),o._uU(8,"DA"),o.qZA()(),o.BQk()),2&y){const u=o.oxw().$implicit;o.xp6(2),o.Oqu(u.typePrime.description),o.xp6(2),o.hij("",o.lcZ(5,2,o.xi3(6,4,u.primeProrata,"1.0-0"))," ")}}function Ep(y,ne){if(1&y&&(o.TgZ(0,"tr"),o.YNc(1,Ip,9,7,"ng-container",44),o.qZA()),2&y){const u=ne.$implicit;o.xp6(1),o.Q6J("ngIf",101==u.typePrime.idParam)}}function Td(y,ne){if(1&y&&(o.TgZ(0,"tr")(1,"td"),o._uU(2),o.qZA(),o.TgZ(3,"td"),o._uU(4),o.ALo(5,"money"),o.ALo(6,"number"),o.TgZ(7,"sup"),o._uU(8,"DA"),o.qZA()()()),2&y){const u=ne.$implicit;o.xp6(2),o.Oqu(u.taxe.description),o.xp6(2),o.hij("",o.lcZ(5,2,o.xi3(6,4,u.primeProrata,"1.0-0"))," ")}}function Rp(y,ne){if(1&y&&(o.ynx(0),o.TgZ(1,"td",45),o._uU(2),o.qZA(),o.TgZ(3,"td",45),o._uU(4),o.ALo(5,"money"),o.ALo(6,"number"),o.TgZ(7,"sup"),o._uU(8,"DA"),o.qZA()(),o.BQk()),2&y){const u=o.oxw().$implicit;o.xp6(2),o.Oqu(u.typePrime.description),o.xp6(2),o.hij("",o.lcZ(5,2,o.xi3(6,4,u.primeProrata,"1.0-0"))," ")}}function c_(y,ne){if(1&y&&(o.TgZ(0,"tr"),o.YNc(1,Rp,9,7,"ng-container",44),o.qZA()),2&y){const u=ne.$implicit;o.xp6(1),o.Q6J("ngIf",186==u.typePrime.idParam)}}function Dp(y,ne){if(1&y){const u=o.EpF();o.TgZ(0,"button",46),o.NdJ("click",function(){o.CHM(u);const W=o.oxw();return o.KtG(W.approuverAvenant())}),o._uU(1,"Approuver"),o.qZA()}}const u_=function(y){return[y]};let Xu=(()=>{class y{constructor(u,M,W,ie,ve,Re){this.router=u,this.dialog=M,this.contratService=W,this.avenantService=ie,this.route=ve,this.genericService=Re,this.multiRisque=!1,this.dataSourceGroupes=new Le.by,this.colonnesDynamiques=[],this.displayColonnes=["idRisque","idGroupe"],this.hisReady=!1}ngOnInit(){this.hasRights=sessionStorage.getItem("roles")?.includes("BO"),this.getInfoProduit(),this.idContratAvenant=this.route.snapshot.paramMap.get("idContratAvenant"),this.codeProduit=this.route.snapshot.paramMap.get("codeProduit")}getInfoProduit(){let u=JSON.parse(sessionStorage.getItem("products")||"{}").find(M=>M.codeProduit==this.route.snapshot.paramMap.get("codeProduit")).idProduit;this.genericService.getPorduitById(u).subscribe({next:M=>{this.multiRisque="Oui"==M.param_Produit_Reponses.filter(W=>"multirisque"==W.idParamProduit.libelle)[0].reponse.description,this.getAvenantByContrat()},error:M=>{console.log(M)}})}getAvenantByContrat(){this.avenantService.getAttributsAvenant(this.idContratAvenant).subscribe({next:u=>{this.attributsAvenant=u,this.hisHistorique=u.idHisContrat,this.getHistoriqueContrat(this.hisHistorique)},error:u=>{console.log(u)}})}getHistoriqueContrat(u){this.contratService.getContratHistoriqueById(u).subscribe({next:M=>{if(this.hisReady=!0,this.attributsAvenant.risqueList.map(W=>{M.groupesList.map(ie=>{ie.risques.map(ve=>{ve.idRisque==W.idRisque&&Object.assign(W,{idGroupe:ie.idGroupe})})})}),M?.personnesList?.forEach(W=>{switch(W?.role?.code){case"CP233":this.informationsConducteur={nom:W.personne.nom,prenom:W.personne.prenom1,dateNaissance:W.personne.dateNaissance,categoriePermis:W.personne.documentList?.find(ie=>5==ie.typeDocument?.idParam)?.sousCategorie,dateDelivrance:W.personne.documentList?.find(ie=>5==ie.typeDocument?.idParam)?.dateDelivrance,email:W.personne.contactList?.find(ie=>8==ie.typeContact?.idParam)?.description,tel:W.personne.contactList?.find(ie=>7==ie.typeContact?.idParam)?.description};break;case"CP234":this.informationsSouscripteur={raisonSocial:W.personne.raisonSocial,nom:W.personne.nom,prenom:W.personne.prenom1,email:W.personne.contactList?.find(ie=>8==ie.typeContact?.idParam)?.description,tel:W.personne.contactList?.find(ie=>7==ie.typeContact?.idParam)?.description};break;case"CP235":this.informationsAssure={typeClient:"raisonSocial"in W.personne?"personne morale":"personne physique",raisonSocial:W.personne.raisonSocial,nom:W.personne.nom,prenom:W.personne.prenom1,email:W.personne.contactList?.find(ie=>8==ie.typeContact?.idParam)?.description,tel:W.personne.contactList?.find(ie=>7==ie.typeContact?.idParam)?.description};break;case"CP236":this.informationsAssure={typeClient:"raisonSocial"in W.personne?"personne morale":"personne physique",raisonSocial:W.personne.raisonSocial,nom:W.personne.nom,prenom:W.personne.prenom1,email:W.personne.contactList?.find(ie=>8==ie.typeContact?.idParam)?.description,tel:W.personne.contactList?.find(ie=>7==ie.typeContact?.idParam)?.description},this.informationsSouscripteur={raisonSocial:W.personne.raisonSocial,nom:W.personne.nom,prenom:W.personne.prenom1,email:W.personne.contactList?.find(ie=>8==ie.typeContact?.idParam)?.description,tel:W.personne.contactList?.find(ie=>7==ie.typeContact?.idParam)?.description};break;case"CP237":this.informationsSouscripteur={raisonSocial:W.personne.raisonSocial,nom:W.personne.nom,prenom:W.personne.prenom1,email:W.personne.contactList?.find(ie=>8==ie.typeContact?.idParam)?.description,tel:W.personne.contactList?.find(ie=>7==ie.typeContact?.idParam)?.description},this.informationsConducteur={nom:W.personne.nom,prenom:W.personne.prenom1,dateNaissance:W.personne.dateNaissance,categoriePermis:W.personne.documentList?.find(ie=>5==ie.typeDocument?.idParam)?.sousCategorie,dateDelivrance:W.personne.documentList?.find(ie=>5==ie.typeDocument?.idParam)?.dateDelivrance,email:W.personne.contactList?.find(ie=>8==ie.typeContact?.idParam)?.description,tel:W.personne.contactList?.find(ie=>7==ie.typeContact?.idParam)?.description};break;case"CP238":this.informationsAssure={typeClient:"raisonSocial"in W.personne?"personne morale":"personne physique",raisonSocial:W.personne.raisonSocial,nom:W.personne.nom,prenom:W.personne.prenom1,email:W.personne.contactList?.find(ie=>8==ie.typeContact?.idParam)?.description,tel:W.personne.contactList?.find(ie=>7==ie.typeContact?.idParam)?.description},this.informationsSouscripteur={raisonSocial:W.personne.raisonSocial,nom:W.personne.nom,prenom:W.personne.prenom1,email:W.personne.contactList?.find(ie=>8==ie.typeContact?.idParam)?.description,tel:W.personne.contactList?.find(ie=>7==ie.typeContact?.idParam)?.description},this.informationsConducteur={nom:W.personne.nom,prenom:W.personne.prenom1,dateNaissance:W.personne.dateNaissance,categoriePermis:W.personne.documentList?.find(ie=>5==ie.typeDocument?.idParam)?.sousCategorie,dateDelivrance:W.personne.documentList?.find(ie=>5==ie.typeDocument?.idParam)?.dateDelivrance,email:W.personne.contactList?.find(ie=>8==ie.typeContact?.idParam)?.description,tel:W.personne.contactList?.find(ie=>7==ie.typeContact?.idParam)?.description}}}),this.multiRisque){let W=[];this.attributsAvenant.risqueList.forEach(ie=>{let ve={idRisque:ie.idRisque,idGroupe:ie.idGroupe};ie.risque.forEach(Re=>{ve[Re.colonne]=Re.valeur}),W.push(ve)}),this.attributsAvenant.risqueList[0].risque.map(ie=>{this.colonnesDynamiques.push(ie.colonne),this.displayColonnes.push(ie.colonne)}),this.displayColonnes.push("action"),this.dataSourceGroupes=new Le.by(W),this.dataSourceGroupes.paginator=this.paginator,this.contratService.getQuittanceById(M?.idQuittance).subscribe({next:ie=>{this.dataSourcePrime=ie.primeList,this.dataSourceTaxe=ie.taxeList},error:ie=>{console.log(ie)}})}else this.consultRisque(this.attributsAvenant.risqueList[0].idGroupe,this.attributsAvenant.risqueList[0].idRisque),this.contratService.getQuittanceById(M?.idQuittance).subscribe({next:W=>{this.dataSourcePrime=W.primeList,this.dataSourceTaxe=W.taxeList},error:W=>{console.log(W)}})},error:M=>{console.log(M)}})}consultRisque(u,M){this.contratService.getParamContratByIdRisqueHisto(this.hisHistorique,u,M).subscribe({next:W=>{this.multiRisque||(this.informationsRisque=W.reduce((ie,ve)=>("P40"==ve?.codeParam&&(this.valeurVenale=ve.valeur),(ie[ve.categorieParamRisque]=ie[ve.categorieParamRisque]||[]).push(ve),ie),{}),this.informationsRisque=Object.values(this.informationsRisque)),this.multiRisque&&this.contratService.getPackIdRisqueHistorique(this.hisHistorique,M).subscribe({next:ie=>{this.openDialog(W,ie)},error:ie=>{console.log(ie)}})},error:W=>{console.log(W)}})}openDialog(u,M){this.dialog.open($u.T,{width:"60%",data:{paramRisque:u,pack:M}}).afterClosed().subscribe(ie=>{})}approuverAvenant(){this.dialog.open(hp,{width:"40%",data:{idContratAvenant:this.idContratAvenant}}).afterClosed().subscribe(M=>{this.router.navigate(["/consultation-avenants/"+this.codeProduit+"/"+this.attributsAvenant?.idContrat])})}}return y.\u0275fac=function(u){return new(u||y)(o.Y36(K.F0),o.Y36(Q.uw),o.Y36(xe.H),o.Y36(n.n),o.Y36(K.gz),o.Y36(mo.M))},y.\u0275cmp=o.Xpm({type:y,selectors:[["app-consultation-avenant"]],viewQuery:function(u,M){if(1&u&&o.Gf(ee.NW,5),2&u){let W;o.iGM(W=o.CRH())&&(M.paginator=W.first)}},decls:58,vars:23,consts:[[1,"container"],[1,"header-title"],["aria-hidden","false","matTooltip","Retour","matTooltipPosition","left",1,"material-symbols-outlined",3,"routerLink"],["multi","",1,"example-headers-align"],["hideToggle","",3,"expanded"],[1,"container",2,"padding","1rem 2rem"],[1,"row","infos"],[1,"col-md-6"],[1,"row"],[1,"col-md-6","key"],[1,"col-md-6","value"],["class","row infos",4,"ngFor","ngForOf"],["hideToggle","",3,"expanded",4,"ngIf"],["multi","",4,"ngIf","ngIfElse"],["multirisque",""],[1,"resume"],[4,"ngFor","ngForOf"],["class","btn btn-action",3,"click",4,"ngIf"],["class","col-md-6 value",4,"ngIf"],["class","row infos",4,"ngIf","ngIfElse"],["personneMoral",""],["multi",""],["hideToggle","","class","panel-risque",3,"expanded",4,"ngFor","ngForOf"],["hideToggle","",1,"panel-risque",3,"expanded"],[1,"categoryTitle"],["class","row infos ",4,"ngFor","ngForOf"],["mat-table","",1,"gestion-table",3,"dataSource"],["matColumnDef","idGroupe"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","idRisque"],[3,"matColumnDef",4,"ngFor","ngForOf"],["matColumnDef","action"],["mat-header-row","","class","example-second-header-row",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],[3,"matColumnDef"],["mat-icon-button","","type","button","aria-label","menu contrat list",3,"matMenuTriggerFor"],["xPosition","after",1,"menu-contrat"],["menu","matMenu"],["mat-menu-item","","type","button",3,"click"],["mat-header-row","",1,"example-second-header-row"],["mat-row",""],[4,"ngIf"],[1,"primeTotale"],[1,"btn","btn-action",3,"click"]],template:function(u,M){if(1&u&&(o.TgZ(0,"div",0)(1,"h2",1)(2,"mat-icon",2),o._uU(3,"arrow_circle_left"),o.qZA(),o._uU(4),o.qZA(),o.TgZ(5,"mat-accordion",3)(6,"mat-expansion-panel",4)(7,"mat-expansion-panel-header")(8,"mat-panel-title"),o._uU(9," Information avenant "),o.qZA()(),o.TgZ(10,"div",5)(11,"div",6)(12,"div",7)(13,"div",8)(14,"div",9),o._uU(15),o.qZA(),o.TgZ(16,"div",10),o._uU(17),o.qZA()()(),o.TgZ(18,"div",7)(19,"div",8)(20,"div",9),o._uU(21,"Motif: "),o.qZA(),o.TgZ(22,"div",10),o._uU(23),o.qZA()()()(),o.TgZ(24,"div",6)(25,"div",7)(26,"div",8)(27,"div",9),o._uU(28,"Commentaire: "),o.qZA(),o.TgZ(29,"div",10),o._uU(30),o.qZA()()(),o.TgZ(31,"div",7)(32,"div",8)(33,"div",9),o._uU(34,"Date avenant: "),o.qZA(),o.TgZ(35,"div",10),o._uU(36),o.ALo(37,"dateFormatPipe"),o.qZA()()()(),o.YNc(38,qm,7,3,"div",11),o.qZA()(),o.YNc(39,ym,28,6,"mat-expansion-panel",12),o.YNc(40,Ku,31,5,"mat-expansion-panel",12),o.TgZ(41,"mat-expansion-panel",4)(42,"mat-expansion-panel-header")(43,"mat-panel-title"),o._uU(44," Informations du risque "),o.qZA()(),o.TgZ(45,"div",5),o.YNc(46,Tp,2,1,"mat-accordion",13),o.YNc(47,Np,14,4,"ng-template",null,14,o.W1O),o.qZA()(),o.TgZ(49,"mat-expansion-panel",4)(50,"mat-expansion-panel-header")(51,"mat-panel-title"),o._uU(52," Prime "),o.qZA()(),o.TgZ(53,"table",15),o.YNc(54,Ep,2,1,"tr",16),o.YNc(55,Td,9,7,"tr",16),o.YNc(56,c_,2,1,"tr",16),o.qZA()(),o.YNc(57,Dp,2,0,"button",17),o.qZA()()),2&u){const W=o.MAs(48);o.xp6(2),o.Q6J("routerLink",o.VKq(21,u_,"/consultation-avenants/"+M.codeProduit+"/"+(null==M.attributsAvenant?null:M.attributsAvenant.idContrat))),o.xp6(2),o.hij(" Consultation ",null==M.attributsAvenant?null:M.attributsAvenant.typeAvenant.libelle," "),o.xp6(2),o.Q6J("expanded",!0),o.xp6(9),o.Oqu("A22"===(null==M.attributsAvenant||null==M.attributsAvenant.typeAvenant?null:M.attributsAvenant.typeAvenant.code)?"N\xb0 Carte orange:":"N\xb0 Attestation:"),o.xp6(2),o.hij("",null==M.attributsAvenant?null:M.attributsAvenant.numAttestation," "),o.xp6(6),o.hij("",null==M.attributsAvenant||null==M.attributsAvenant.motif||null==M.attributsAvenant.motif.motif?null:M.attributsAvenant.motif.motif.description," "),o.xp6(7),o.hij("",null==M.attributsAvenant?null:M.attributsAvenant.motif.Commentaire," "),o.xp6(6),o.hij("",o.lcZ(37,19,null==M.attributsAvenant?null:M.attributsAvenant.dateAvenant)," "),o.xp6(2),o.Q6J("ngForOf",null==M.attributsAvenant?null:M.attributsAvenant.attributList),o.xp6(1),o.Q6J("ngIf",(null==M.attributsAvenant||null==M.attributsAvenant.typeAvenant?null:M.attributsAvenant.typeAvenant.assuree)&&M.hisReady),o.xp6(1),o.Q6J("ngIf",(null==M.attributsAvenant||null==M.attributsAvenant.typeAvenant?null:M.attributsAvenant.typeAvenant.souscripteur)&&M.hisReady),o.xp6(1),o.Q6J("expanded",!0),o.xp6(5),o.Q6J("ngIf",!M.multiRisque)("ngIfElse",W),o.xp6(3),o.Q6J("expanded",!0),o.xp6(5),o.Q6J("ngForOf",M.dataSourcePrime),o.xp6(1),o.Q6J("ngForOf",M.dataSourceTaxe),o.xp6(1),o.Q6J("ngForOf",M.dataSourcePrime),o.xp6(1),o.Q6J("ngIf","S09"==(null==M.attributsAvenant?null:M.attributsAvenant.statut.code)&&M.hasRights)}},dependencies:[Se.sg,Se.O5,ot.Hw,mr.pp,mr.ib,mr.yz,mr.yK,tt.VK,tt.OP,tt.p6,Le.BZ,Le.fO,Le.as,Le.w1,Le.Dz,Le.nj,Le.ge,Le.ev,Le.XQ,Le.Gk,Zt.gM,nn.lW,K.rH,Se.JJ,dd.y,Aa.X],styles:[".container[_ngcontent-%COMP%]{background-color:#fff;padding:40px 0;height:100%;overflow-y:auto;overflow-x:hidden}.gestion-table[_ngcontent-%COMP%]{width:100%}.gestion-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .gestion-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:16px}.gestion-table[_ngcontent-%COMP%]   .mat-header-cell[_ngcontent-%COMP%]{color:#00008f;font-weight:600}.gestion-table[_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]:nth-child(even), .gestion-table[_ngcontent-%COMP%]   .mat-header-row[_ngcontent-%COMP%]{background-color:#f7f7f9}.gestion-table[_ngcontent-%COMP%]   .mat-paginator[_ngcontent-%COMP%]{background-color:transparent;margin:20px auto auto;width:80%}.gestion-table[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{height:100%;font-size:26px;color:#00008f;width:-moz-fit-content;width:fit-content}.mat-menu-item[_ngcontent-%COMP%]{font-size:15px}.mat-menu-item[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:18px;height:-moz-fit-content;height:fit-content}.mat-menu-item[_ngcontent-%COMP%]:hover:not([disabled]), .mat-menu-item[_ngcontent-%COMP%]:hover:not([disabled])   .mat-icon[_ngcontent-%COMP%]{color:#00008f}.header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:0px 2rem}.header[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{height:-moz-fit-content;height:fit-content;font-size:29px;margin-right:1rem;width:-moz-fit-content;width:fit-content}.title-table[_ngcontent-%COMP%]{margin-bottom:0rem;font-weight:800!important;font-size:23px!important;color:#00008f!important}.container[_ngcontent-%COMP%]{background-color:#fff;padding:40px 0;height:100%;overflow-x:hidden;box-shadow:0 .5rem 1rem #00000026}.mat-expansion-panel-header[_ngcontent-%COMP%]{background:rgba(199,199,199,.2)!important;font-weight:600;font-size:16px}.mat-expansion-panel-header.mat-expanded[_ngcontent-%COMP%]{height:48px}.mat-expansion-panel-header-title[_ngcontent-%COMP%]{color:#00008f}.mat-expansion-panel[_ngcontent-%COMP%]:not([class*=mat-elevation-z]){box-shadow:none}.row.infos[_ngcontent-%COMP%]{font-size:16px;margin-bottom:2rem;font-weight:600}.panel-risque[_ngcontent-%COMP%]   .row.infos[_ngcontent-%COMP%]{margin-left:10px;margin-top:10px}.panel-risque[_ngcontent-%COMP%]{width:70%}.categoryTitle[_ngcontent-%COMP%]{text-transform:capitalize}.value[_ngcontent-%COMP%]{color:#00008f;font-weight:600}h2.header-title[_ngcontent-%COMP%]{padding:0 24px;font-size:21px!important;color:#00008f;font-weight:600!important;letter-spacing:1px;display:flex;justify-content:space-between}table.resume[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;border-spacing:0 19px}table.resume[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:17px;padding:12px 19px;border:1px solid rgba(0,0,0,.12)}"]}),y})();var m_=B(3412);const wp=[{path:"consultation-avenants/:codeProduit/:idContrat",component:tn,canActivate:[Ge.k],data:{roles:["CDC_BEA","COURTIER","ROLE_SUPER_ADMIN","ANALYSTE","METIER","BACKOFFICE","GESTION_SINISTRE","DA","BO","GESTIONNAIRE_JUNIOR","GESTIONNAIRE_SINISTRE","CHEF_PROJET","RESPONSABLE_SINISTRE","DIRECTEUR","CDC","CONSULTATION"]}},{path:"application-avenant/:codeProduit/:idTypeAvenant/:idContrat",component:M_,canActivate:[Ge.k],data:{roles:["CDC_BEA","COURTIER","ROLE_SUPER_ADMIN","ANALYSTE","METIER","BACKOFFICE","DA","BO","GESTIONNAIRE_SINISTRE","CDC"]}},{path:"consultation-avenant/:codeProduit/:idContratAvenant",component:Xu,canActivate:[Ge.k],data:{roles:["CDC_BEA","COURTIER","ROLE_SUPER_ADMIN","ANALYSTE","METIER","BACKOFFICE","DA","BO","GESTIONNAIRE_JUNIOR","GESTIONNAIRE_SINISTRE","CHEF_PROJET","RESPONSABLE_SINISTRE","DIRECTEUR","CDC"]}},{path:"consultation-contrat-avenant/:codeProduit/:idContratAvenant",component:Zm,canActivate:[Ge.k],data:{roles:["CDC_BEA","COURTIER","ROLE_SUPER_ADMIN","ANALYSTE","METIER","BACKOFFICE","GESTION_SINISTRE","DA","BO","GESTIONNAIRE_JUNIOR","GESTIONNAIRE_SINISTRE","CHEF_PROJET","RESPONSABLE_SINISTRE","DIRECTEUR","CDC","CONSULTATION"]}},{path:"consultation-quittance/:codeProduit/:idQuittance",component:m_.D,canActivate:[Ge.k],data:{roles:["CDC_BEA","COURTIER","ROLE_SUPER_ADMIN","ANALYSTE","METIER","BACKOFFICE","DA","BO","GESTIONNAIRE_JUNIOR","GESTIONNAIRE_SINISTRE","CHEF_PROJET","RESPONSABLE_SINISTRE","DIRECTEUR","CDC","CONSULTATION"]}}];let Op=(()=>{class y{}return y.\u0275fac=function(u){return new(u||y)},y.\u0275mod=o.oAB({type:y}),y.\u0275inj=o.cJS({imports:[K.Bz.forChild(wp),K.Bz]}),y})();var kp=B(294),Mp=B(4092),Km=B(4466);let Up=(()=>{class y{}return y.\u0275fac=function(u){return new(u||y)},y.\u0275mod=o.oAB({type:y}),y.\u0275inj=o.cJS({imports:[Se.ez,Km.m,Mp.q,Op,kp.I,he.FF]}),y})()},4294:(co,wn,B)=>{"use strict";B.r(wn),B.d(wn,{GestionContratModule:()=>wc});var Se=B(6895),K=B(4466),Ge=B(4092),h=B(294),ee=B(2510),me=B(9523),Le=B(5861),Q=B(7155),w=B(8739),o=B(7340),e=B(3205),xe=B(5226),n=B.n(xe),i=B(4650),Z=B(8661),O=B(5412),J=B(3776),he=B(1351),Ze=B(7179),l=B(7392),t=B(7084),Ft=B(8255),ln=B(266),ut=B(4859),ot=B(4803),tt=B(2768);const Zt=["innerTables"],nn=["innerSort"];function _n(U,Te){1&U&&(i.TgZ(0,"span"),i._uU(1,", "),i.qZA())}function xn(U,Te){if(1&U&&(i.ynx(0),i._uU(1),i.YNc(2,_n,2,0,"span",20),i.BQk()),2&U){const N=Te.$implicit,q=Te.index,G=i.oxw();i.xp6(1),i.hij(" ",N," "),i.xp6(1),i.Q6J("ngIf",q<(null==G.informationsContrat||null==G.informationsContrat.quittance?null:G.informationsContrat.quittance.length)-1)}}function mn(U,Te){if(1&U&&(i.TgZ(0,"div",6)(1,"div",7)(2,"div",8)(3,"div",9),i._uU(4,"Nom: "),i.qZA(),i.TgZ(5,"div",10),i._uU(6),i.qZA()()(),i.TgZ(7,"div",7)(8,"div",8)(9,"div",9),i._uU(10,"Pr\xe9nom:"),i.qZA(),i.TgZ(11,"div",10),i._uU(12),i.qZA()()()()),2&U){const N=i.oxw();i.xp6(6),i.Oqu(N.informationsAssure.nom),i.xp6(6),i.hij("",N.informationsAssure.prenom," ")}}function Ri(U,Te){if(1&U&&(i.TgZ(0,"div",6)(1,"div",7)(2,"div",8)(3,"div",9),i._uU(4,"Raison Social: "),i.qZA(),i.TgZ(5,"div",10),i._uU(6),i.qZA()()()()),2&U){const N=i.oxw();i.xp6(6),i.Oqu(N.informationsAssure.raisonSocial)}}function Xn(U,Te){if(1&U&&(i.TgZ(0,"div",6)(1,"div",7)(2,"div",8)(3,"div",9),i._uU(4,"Nom: "),i.qZA(),i.TgZ(5,"div",10),i._uU(6),i.qZA()()(),i.TgZ(7,"div",7)(8,"div",8)(9,"div",9),i._uU(10,"Pr\xe9nom:"),i.qZA(),i.TgZ(11,"div",10),i._uU(12),i.qZA()()()()),2&U){const N=i.oxw();i.xp6(6),i.Oqu(N.informationsSouscripteur.nom),i.xp6(6),i.hij("",N.informationsSouscripteur.prenom," ")}}function Mt(U,Te){if(1&U&&(i.TgZ(0,"div",6)(1,"div",7)(2,"div",8)(3,"div",9),i._uU(4,"Raison Sociale: "),i.qZA(),i.TgZ(5,"div",10),i._uU(6),i.qZA()()()()),2&U){const N=i.oxw();i.xp6(6),i.hij(" ",N.informationsSouscripteur.raisonSocial||"Non sp\xe9cifi\xe9e"," ")}}function Lt(U,Te){if(1&U&&(i.TgZ(0,"div",10),i._uU(1),i.qZA()),2&U){const N=i.oxw().$implicit;i.xp6(1),i.Oqu(null==N.reponse||null==N.reponse.idParamReponse?null:N.reponse.idParamReponse.description)}}function xt(U,Te){if(1&U&&(i.TgZ(0,"div",10),i._uU(1),i.ALo(2,"dateFormatPipe"),i.qZA()),2&U){const N=i.oxw().$implicit;i.xp6(1),i.Oqu(i.lcZ(2,1,null==N.reponse?null:N.reponse.valeur))}}function ht(U,Te){if(1&U&&(i.TgZ(0,"div",10),i._uU(1),i.qZA()),2&U){const N=i.oxw().$implicit;i.xp6(1),i.Oqu(null==N.reponse?null:N.reponse.valeur)}}function Yn(U,Te){if(1&U&&(i.TgZ(0,"div",10),i._uU(1),i.qZA()),2&U){const N=i.oxw().$implicit;i.xp6(1),i.Oqu(null==N.reponse||null==N.reponse.idParamReponse?null:N.reponse.idParamReponse.description)}}function Jn(U,Te){if(1&U&&(i.TgZ(0,"div",10),i._uU(1),i.qZA()),2&U){const N=i.oxw().$implicit;i.xp6(1),i.Oqu(null==N.reponse?null:N.reponse.description)}}function pi(U,Te){if(1&U&&(i.TgZ(0,"div",10),i._uU(1),i.qZA()),2&U){const N=i.oxw().$implicit;i.xp6(1),i.Oqu(null==N.reponse?null:N.reponse.valeur)}}function Qn(U,Te){if(1&U&&(i.TgZ(0,"div",6)(1,"div",7)(2,"div",8)(3,"div",9),i._uU(4),i.qZA(),i.YNc(5,Lt,2,1,"div",26),i.YNc(6,xt,3,3,"div",26),i.YNc(7,ht,2,1,"div",26),i.YNc(8,Yn,2,1,"div",26),i.YNc(9,Jn,2,1,"div",26),i.YNc(10,pi,2,1,"div",26),i.qZA()()()),2&U){const N=Te.$implicit;i.xp6(4),i.Oqu(N.libelle),i.xp6(1),i.Q6J("ngIf","P25"==N.codeRisque||"P26"==N.codeRisque),i.xp6(1),i.Q6J("ngIf","date"==N.typeChamp),i.xp6(1),i.Q6J("ngIf","Number"==N.typeChamp),i.xp6(1),i.Q6J("ngIf","Liste of values"==N.typeChamp),i.xp6(1),i.Q6J("ngIf","From Table"==N.typeChamp),i.xp6(1),i.Q6J("ngIf","From Table"!=N.typeChamp&&"Liste of values"!=N.typeChamp&&"Number"!=N.typeChamp&&"date"!=N.typeChamp&&"P25"!=N.codeRisque&&"P26"!=N.codeRisque)}}function Kn(U,Te){if(1&U&&(i.ynx(0),i.TgZ(1,"mat-expansion-panel-header")(2,"mat-panel-title",24),i._uU(3),i.qZA()(),i.TgZ(4,"div",6)(5,"div",7)(6,"div",8)(7,"div",9),i._uU(8,"Nom: "),i.qZA(),i.TgZ(9,"div",10),i._uU(10),i.qZA()()(),i.TgZ(11,"div",7)(12,"div",8)(13,"div",9),i._uU(14,"Pr\xe9nom:"),i.qZA(),i.TgZ(15,"div",10),i._uU(16),i.qZA()()()(),i.TgZ(17,"div",6)(18,"div",7)(19,"div",8)(20,"div",9),i._uU(21,"Email: "),i.qZA(),i.TgZ(22,"div",10),i._uU(23),i.qZA()()(),i.TgZ(24,"div",7)(25,"div",8)(26,"div",9),i._uU(27,"T\xe9l\xe9phone:"),i.qZA(),i.TgZ(28,"div",10),i._uU(29),i.qZA()()()(),i.YNc(30,Qn,11,7,"div",25),i.BQk()),2&U){const N=i.oxw(),q=N.$implicit,G=N.index,b=i.oxw(2);i.xp6(3),i.hij(" ",null==q[G]?null:q[G].categorieParamRisque," "),i.xp6(7),i.Oqu(b.informationsConducteur.nom),i.xp6(6),i.hij("",b.informationsConducteur.prenom," "),i.xp6(7),i.Oqu(b.informationsConducteur.email),i.xp6(6),i.hij("",b.informationsConducteur.tel," "),i.xp6(1),i.Q6J("ngForOf",q)}}function xi(U,Te){if(1&U&&(i.TgZ(0,"div",10),i._uU(1),i.qZA()),2&U){const N=i.oxw().$implicit;i.xp6(1),i.Oqu(null==N.reponse||null==N.reponse.idParamReponse?null:N.reponse.idParamReponse.description)}}function tn(U,Te){if(1&U&&(i.TgZ(0,"div",10),i._uU(1),i.ALo(2,"dateFormatPipe"),i.qZA()),2&U){const N=i.oxw().$implicit;i.xp6(1),i.Oqu(i.lcZ(2,1,null==N.reponse?null:N.reponse.valeur))}}function Kt(U,Te){if(1&U&&(i.TgZ(0,"div",10),i._uU(1),i.qZA()),2&U){const N=i.oxw().$implicit;i.xp6(1),i.Oqu(null==N.reponse?null:N.reponse.valeur)}}function hi(U,Te){if(1&U&&(i.TgZ(0,"div",10),i._uU(1),i.qZA()),2&U){const N=i.oxw().$implicit;i.xp6(1),i.Oqu(null==N.reponse||null==N.reponse.idParamReponse?null:N.reponse.idParamReponse.description)}}function $i(U,Te){if(1&U&&(i.TgZ(0,"div",10),i._uU(1),i.qZA()),2&U){const N=i.oxw().$implicit;i.xp6(1),i.Oqu(null==N.reponse?null:N.reponse.description)}}function Sn(U,Te){if(1&U&&(i.TgZ(0,"div",10),i._uU(1),i.qZA()),2&U){const N=i.oxw().$implicit;i.xp6(1),i.Oqu(null==N.reponse?null:N.reponse.valeur)}}function vt(U,Te){if(1&U&&(i.TgZ(0,"div",6)(1,"div",7)(2,"div",8)(3,"div",9),i._uU(4),i.qZA(),i.YNc(5,xi,2,1,"div",26),i.YNc(6,tn,3,3,"div",26),i.YNc(7,Kt,2,1,"div",26),i.YNc(8,hi,2,1,"div",26),i.YNc(9,$i,2,1,"div",26),i.YNc(10,Sn,2,1,"div",26),i.qZA()()()),2&U){const N=Te.$implicit;i.xp6(4),i.Oqu(N.libelle),i.xp6(1),i.Q6J("ngIf","P25"==N.codeRisque||"P26"==N.codeRisque),i.xp6(1),i.Q6J("ngIf","date"==N.typeChamp),i.xp6(1),i.Q6J("ngIf","Number"==N.typeChamp),i.xp6(1),i.Q6J("ngIf","Liste of values"==N.typeChamp),i.xp6(1),i.Q6J("ngIf","From Table"==N.typeChamp),i.xp6(1),i.Q6J("ngIf","From Table"!=N.typeChamp&&"Liste of values"!=N.typeChamp&&"Number"!=N.typeChamp&&"date"!=N.typeChamp&&"P25"!=N.codeRisque&&"P26"!=N.codeRisque)}}function $e(U,Te){if(1&U&&(i.ynx(0),i.TgZ(1,"mat-expansion-panel-header")(2,"mat-panel-title",24),i._uU(3),i.qZA()(),i.YNc(4,vt,11,7,"div",25),i.BQk()),2&U){const N=i.oxw(),q=N.$implicit,G=N.index;i.xp6(3),i.hij(" ",null==q[G]?null:q[G].categorieParamRisque," "),i.xp6(1),i.Q6J("ngForOf",q)}}function bn(U,Te){if(1&U&&(i.TgZ(0,"mat-expansion-panel",23),i.YNc(1,Kn,31,6,"ng-container",20),i.YNc(2,$e,5,2,"ng-container",20),i.qZA()),2&U){const N=Te.$implicit,q=Te.index;i.Q6J("expanded",!0),i.xp6(1),i.Q6J("ngIf","Conducteur"==(null==N[q]?null:N[q].categorieParamRisque)),i.xp6(1),i.Q6J("ngIf","Conducteur"!=(null==N[q]?null:N[q].categorieParamRisque))}}function Vt(U,Te){if(1&U&&(i.TgZ(0,"mat-accordion",21),i.YNc(1,bn,3,3,"mat-expansion-panel",22),i.qZA()),2&U){const N=i.oxw();i.xp6(1),i.Q6J("ngForOf",N.informationsRisque)}}function Gn(U,Te){1&U&&(i.TgZ(0,"th",37),i._uU(1,"Description"),i.qZA())}function ei(U,Te){if(1&U&&(i.TgZ(0,"td",38),i._uU(1),i.qZA()),2&U){const N=Te.$implicit;i.xp6(1),i.hij(" ",N.description," ")}}function vi(U,Te){1&U&&i._UZ(0,"th",37)}function uo(U,Te){if(1&U){const N=i.EpF();i.TgZ(0,"td",38)(1,"button",39),i.NdJ("click",function(){const b=i.CHM(N).$implicit,te=i.oxw(2);return i.KtG(te.toggleRow(b))}),i.TgZ(2,"mat-icon"),i._uU(3),i.qZA()()()}if(2&U){const N=Te.$implicit,q=i.oxw(2);i.xp6(3),i.Oqu(q.expandedElement===N?"expand_less":"expand_more")}}function bo(U,Te){if(1&U&&(i.TgZ(0,"th",37),i._uU(1),i.qZA()),2&U){const N=i.oxw().$implicit;i.xp6(1),i.hij(" ",N,"")}}function oe(U,Te){if(1&U&&(i.TgZ(0,"td",38),i._uU(1),i.qZA()),2&U){const N=Te.$implicit,q=i.oxw(),G=q.index,b=q.$implicit;i.xp6(1),i.hij(" ",N.risque[G][b]," ")}}function pn(U,Te){1&U&&(i.ynx(0,49),i.YNc(1,bo,2,1,"th",29),i.YNc(2,oe,2,1,"td",30),i.BQk()),2&U&&i.Q6J("matColumnDef",Te.$implicit)}function Zi(U,Te){1&U&&(i.TgZ(0,"th",37),i._uU(1," Action "),i.qZA())}function Ai(U,Te){if(1&U){const N=i.EpF();i.TgZ(0,"td",38)(1,"button",50)(2,"mat-icon"),i._uU(3,"more_vert"),i.qZA()(),i.TgZ(4,"mat-menu",51,52)(6,"button",53),i.NdJ("click",function(){const b=i.CHM(N).$implicit,te=i.oxw(5);return i.KtG(te.consultRisque(b.idRisque,te.idGroupe))}),i.TgZ(7,"mat-icon"),i._uU(8,"zoom_in"),i.qZA(),i.TgZ(9,"span"),i._uU(10,"Consulter risque"),i.qZA()()()()}if(2&U){const N=i.MAs(5);i.xp6(1),i.Q6J("matMenuTriggerFor",N)}}function Di(U,Te){1&U&&i._UZ(0,"tr",54)}function Mn(U,Te){1&U&&i._UZ(0,"tr",55)}function Nn(U,Te){if(1&U&&(i.TgZ(0,"div",43)(1,"table",44,45),i.YNc(3,pn,3,1,"ng-container",46),i.ynx(4,47),i.YNc(5,Zi,2,0,"th",29),i.YNc(6,Ai,11,1,"td",30),i.BQk(),i.YNc(7,Di,1,0,"tr",33),i.YNc(8,Mn,1,0,"tr",48),i.qZA()()),2&U){const N=i.oxw(2).$implicit,q=i.oxw(2);i.xp6(1),i.Q6J("dataSource",N.risques),i.xp6(2),i.Q6J("ngForOf",q.displayedColumnsCol),i.xp6(4),i.Q6J("matHeaderRowDef",q.displayedColumnsRsInner),i.xp6(1),i.Q6J("matRowDefColumns",q.displayedColumnsRsInner)}}function vn(U,Te){if(1&U&&(i.TgZ(0,"div",41),i.YNc(1,Nn,9,4,"div",42),i.qZA()),2&U){const N=i.oxw().$implicit,q=i.oxw(2);i.Q6J("@detailExpand",N==q.expandedElement?"expanded":"collapsed"),i.xp6(1),i.Q6J("ngIf",q.expandedElement)}}function Et(U,Te){if(1&U&&(i.TgZ(0,"td",38),i.YNc(1,vn,2,2,"div",40),i.qZA()),2&U){const N=Te.$implicit,q=i.oxw(2);i.uIk("colspan",q.displayedColumnsRs.length),i.xp6(1),i.Q6J("ngIf",null==N.risques||null==N.risques.data?null:N.risques.data.length)}}function mo(U,Te){1&U&&i._UZ(0,"tr",54)}function mr(U,Te){if(1&U&&i._UZ(0,"tr",55),2&U){const N=Te.$implicit,q=i.oxw(2);i.ekj("example-element-row",null==N.risques||null==N.risques.data?null:N.risques.data.length)("example-expanded-row",q.expandedElement===N)}}function zr(U,Te){1&U&&i._UZ(0,"tr",56)}const Eo=function(){return["expandedDetail"]},ra=function(){return[5,10]};function aa(U,Te){if(1&U&&(i.TgZ(0,"mat-accordion",21)(1,"table",27),i.ynx(2,28),i.YNc(3,Gn,2,0,"th",29),i.YNc(4,ei,2,1,"td",30),i.BQk(),i.ynx(5,31),i.YNc(6,vi,1,0,"th",29),i.YNc(7,uo,4,1,"td",30),i.BQk(),i.ynx(8,32),i.YNc(9,Et,2,2,"td",30),i.BQk(),i.YNc(10,mo,1,0,"tr",33),i.YNc(11,mr,1,4,"tr",34),i.YNc(12,zr,1,0,"tr",35),i.qZA(),i._UZ(13,"mat-paginator",36),i.qZA()),2&U){const N=i.oxw();i.xp6(1),i.Q6J("dataSource",N.dataSourceGroupes),i.xp6(9),i.Q6J("matHeaderRowDef",N.displayedColumnsRs),i.xp6(1),i.Q6J("matRowDefColumns",N.displayedColumnsRs),i.xp6(1),i.Q6J("matRowDefColumns",i.DdM(6,Eo)),i.xp6(1),i.Q6J("pageSize",10)("pageSizeOptions",i.DdM(7,ra))}}function Ba(U,Te){1&U&&(i.TgZ(0,"th",37),i._uU(1," Garantie"),i.qZA())}function za(U,Te){if(1&U&&(i.TgZ(0,"td",38),i._uU(1),i.qZA()),2&U){const N=Te.$implicit;i.xp6(1),i.hij(" ",N.description," ")}}function Aa(U,Te){1&U&&(i.TgZ(0,"th",37),i._uU(1," Plafond "),i.qZA())}function Ks(U,Te){if(1&U&&(i.TgZ(0,"td",38),i._uU(1),i.qZA()),2&U){const N=Te.$implicit;i.xp6(1),i.hij(" ","0"!=N.plafond?N.plafond:"/"," ")}}function ds(U,Te){1&U&&(i.TgZ(0,"th",37),i._uU(1," Franchise "),i.qZA())}function _s(U,Te){if(1&U&&(i.TgZ(0,"td",38),i._uU(1),i.qZA()),2&U){const N=Te.$implicit;i.xp6(1),i.hij(" ",N.franchise," ")}}function Ta(U,Te){1&U&&(i.TgZ(0,"th",37),i._uU(1," Formule "),i.qZA())}function sa(U,Te){if(1&U&&(i.TgZ(0,"td",38),i._uU(1),i.qZA()),2&U){const N=Te.$implicit;i.xp6(1),i.hij(" ",N.formule," ")}}function Ws(U,Te){1&U&&(i.TgZ(0,"th",37),i._uU(1," Prime "),i.qZA())}function Xs(U,Te){if(1&U&&(i.TgZ(0,"td",38),i._uU(1),i.ALo(2,"money"),i.ALo(3,"number"),i.TgZ(4,"sup"),i._uU(5,"DA"),i.qZA()()),2&U){const N=Te.$implicit;i.xp6(1),i.hij(" ",i.lcZ(2,1,i.xi3(3,3,N.prime,"1.0-0")),"")}}function dr(U,Te){1&U&&i._UZ(0,"th",37)}function Va(U,Te){if(1&U){const N=i.EpF();i.TgZ(0,"button",39),i.NdJ("click",function(){i.CHM(N);const G=i.oxw().$implicit,b=i.oxw(2);return i.KtG(b.expandedElementPack=b.expandedElementPack===G?null:G)}),i.TgZ(1,"mat-icon"),i._uU(2),i.qZA()()}if(2&U){const N=i.oxw().$implicit,q=i.oxw(2);i.xp6(2),i.Oqu(q.expandedElementPack===N?"indeterminate_check_box":"add_box")}}function ps(U,Te){if(1&U&&(i.TgZ(0,"td",64),i.YNc(1,Va,3,1,"button",65),i.qZA()),2&U){const N=Te.$implicit,q=i.oxw(2);i.ekj("example-expanded-row",q.expandedElementPack===N),i.xp6(1),i.Q6J("ngIf",0!=N.sousGarantieList.data.length)}}function fs(U,Te){1&U&&(i.TgZ(0,"th",37),i._uU(1," Sous garantie"),i.qZA())}function Ra(U,Te){if(1&U&&(i.TgZ(0,"td",38),i._uU(1),i.qZA()),2&U){const N=Te.$implicit;i.xp6(1),i.hij(" ",N.description," ")}}function gs(U,Te){1&U&&(i.TgZ(0,"th",37),i._uU(1," Plafond "),i.qZA())}function ja(U,Te){if(1&U&&(i.TgZ(0,"td",38),i._uU(1),i.qZA()),2&U){const N=Te.$implicit;i.xp6(1),i.hij(" ","0"!=N.plafond?N.plafond:"-"," ")}}function el(U,Te){1&U&&(i.TgZ(0,"th",37),i._uU(1," Franchise "),i.qZA())}function la(U,Te){if(1&U&&(i.TgZ(0,"td",38),i._uU(1),i.qZA()),2&U){const N=Te.$implicit;i.xp6(1),i.hij(" ",N.franchise," ")}}function hs(U,Te){1&U&&(i.TgZ(0,"th",37),i._uU(1," Formule "),i.qZA())}function Cs(U,Te){if(1&U&&(i.TgZ(0,"td",38),i._uU(1),i.qZA()),2&U){const N=Te.$implicit;i.xp6(1),i.hij(" ",N.formule," ")}}function rr(U,Te){1&U&&(i.TgZ(0,"th",37),i._uU(1," Prime "),i.qZA())}function xs(U,Te){if(1&U&&(i.TgZ(0,"td",38),i._uU(1),i.ALo(2,"money"),i.ALo(3,"number"),i.TgZ(4,"sup"),i._uU(5,"DA"),i.qZA()()),2&U){const N=Te.$implicit;i.xp6(1),i.hij(" ",i.lcZ(2,1,i.xi3(3,3,N.prime,"1.0-0")),"")}}function vs(U,Te){1&U&&i._UZ(0,"th",37)}function tl(U,Te){1&U&&i._UZ(0,"td",38)}function As(U,Te){1&U&&i._UZ(0,"th",37)}function Ar(U,Te){1&U&&i._UZ(0,"td",38)}function nl(U,Te){1&U&&i._UZ(0,"tr",54)}function il(U,Te){1&U&&i._UZ(0,"tr",55)}function Ts(U,Te){if(1&U&&(i.TgZ(0,"td",38)(1,"div",41)(2,"table",66),i.ynx(3,28),i.YNc(4,fs,2,0,"th",29),i.YNc(5,Ra,2,1,"td",30),i.BQk(),i.ynx(6,58),i.YNc(7,gs,2,0,"th",29),i.YNc(8,ja,2,1,"td",30),i.BQk(),i.ynx(9,59),i.YNc(10,el,2,0,"th",29),i.YNc(11,la,2,1,"td",30),i.BQk(),i.ynx(12,60),i.YNc(13,hs,2,0,"th",29),i.YNc(14,Cs,2,1,"td",30),i.BQk(),i.ynx(15,61),i.YNc(16,rr,2,0,"th",29),i.YNc(17,xs,6,6,"td",30),i.BQk(),i.ynx(18,67),i.YNc(19,vs,1,0,"th",29),i.YNc(20,tl,1,0,"td",30),i.BQk(),i.ynx(21,68),i.YNc(22,As,1,0,"th",29),i.YNc(23,Ar,1,0,"td",30),i.BQk(),i.YNc(24,nl,1,0,"tr",33),i.YNc(25,il,1,0,"tr",48),i.qZA()()()),2&U){const N=Te.$implicit,q=i.oxw(2);i.uIk("colspan",q.displayedColumnsPack.length),i.xp6(1),i.Q6J("@detailExpand",N==q.expandedElementPack?"expanded":"collapsed"),i.xp6(1),i.Q6J("dataSource",N.sousGarantieList),i.xp6(22),i.Q6J("matHeaderRowDef",q.displayedColumnsPackSousGarantie),i.xp6(1),i.Q6J("matRowDefColumns",q.displayedColumnsPackSousGarantie)}}function Nr(U,Te){1&U&&i._UZ(0,"tr",54)}function Lr(U,Te){1&U&&i._UZ(0,"tr",55)}function Da(U,Te){1&U&&i._UZ(0,"tr",56)}function bs(U,Te){if(1&U&&(i.TgZ(0,"mat-expansion-panel",4)(1,"mat-expansion-panel-header")(2,"mat-panel-title"),i._uU(3),i.qZA()(),i.TgZ(4,"table",57),i.ynx(5,28),i.YNc(6,Ba,2,0,"th",29),i.YNc(7,za,2,1,"td",30),i.BQk(),i.ynx(8,58),i.YNc(9,Aa,2,0,"th",29),i.YNc(10,Ks,2,1,"td",30),i.BQk(),i.ynx(11,59),i.YNc(12,ds,2,0,"th",29),i.YNc(13,_s,2,1,"td",30),i.BQk(),i.ynx(14,60),i.YNc(15,Ta,2,0,"th",29),i.YNc(16,sa,2,1,"td",30),i.BQk(),i.ynx(17,61),i.YNc(18,Ws,2,0,"th",29),i.YNc(19,Xs,6,6,"td",30),i.BQk(),i.ynx(20,62),i.YNc(21,dr,1,0,"th",29),i.YNc(22,ps,2,3,"td",63),i.BQk(),i.ynx(23,32),i.YNc(24,Ts,26,5,"td",30),i.BQk(),i.YNc(25,Nr,1,0,"tr",33),i.YNc(26,Lr,1,0,"tr",48),i.YNc(27,Da,1,0,"tr",35),i.qZA()()),2&U){const N=i.oxw();i.Q6J("expanded",!0),i.xp6(3),i.hij(' Pack "',N.informationsContrat.pack,'" '),i.xp6(1),i.Q6J("dataSource",N.dataSourcePack),i.xp6(21),i.Q6J("matHeaderRowDef",N.displayedColumnsPack),i.xp6(1),i.Q6J("matRowDefColumns",N.displayedColumnsPack),i.xp6(1),i.Q6J("matRowDefColumns",i.DdM(6,Eo))}}function Ir(U,Te){if(1&U&&(i.ynx(0),i.TgZ(1,"td"),i._uU(2),i.qZA(),i.TgZ(3,"td"),i._uU(4),i.ALo(5,"money"),i.ALo(6,"number"),i.TgZ(7,"sup"),i._uU(8,"DA"),i.qZA()(),i.BQk()),2&U){const N=i.oxw().$implicit;i.xp6(2),i.Oqu(N.typePrime.description),i.xp6(2),i.hij("",i.lcZ(5,2,i.xi3(6,4,N.prime,"1.0-0"))," ")}}function ol(U,Te){if(1&U&&(i.TgZ(0,"tr"),i.YNc(1,Ir,9,7,"ng-container",20),i.qZA()),2&U){const N=Te.$implicit;i.xp6(1),i.Q6J("ngIf",101==N.typePrime.idParam)}}function Ps(U,Te){if(1&U&&(i.TgZ(0,"tr")(1,"td"),i._uU(2),i.qZA(),i.TgZ(3,"td"),i._uU(4),i.ALo(5,"money"),i.ALo(6,"number"),i.TgZ(7,"sup"),i._uU(8,"DA"),i.qZA()()()),2&U){const N=Te.$implicit;i.xp6(2),i.Oqu(N.taxe.description),i.xp6(2),i.hij("",i.lcZ(5,2,i.xi3(6,4,N.prime,"1.0-0"))," ")}}function Zs(U,Te){if(1&U&&(i.ynx(0),i.TgZ(1,"td",69),i._uU(2),i.qZA(),i.TgZ(3,"td",69),i._uU(4),i.ALo(5,"money"),i.ALo(6,"number"),i.TgZ(7,"sup"),i._uU(8,"DA"),i.qZA()(),i.BQk()),2&U){const N=i.oxw().$implicit;i.xp6(2),i.Oqu(N.typePrime.description),i.xp6(2),i.hij("",i.lcZ(5,2,i.xi3(6,4,N.prime,"1.0-0"))," ")}}function qs(U,Te){if(1&U&&(i.TgZ(0,"tr"),i.YNc(1,Zs,9,7,"ng-container",20),i.qZA()),2&U){const N=Te.$implicit;i.xp6(1),i.Q6J("ngIf",186==N.typePrime.idParam)}}const _r=function(U){return[U]};let Zr=(()=>{class U{constructor(N,q,G,b,te,_e,ye,Ke){this.router=N,this.authentificationService=q,this.dialog=G,this.cd=b,this.genericService=te,this.route=_e,this.devisService=ye,this.contratService=Ke,this.dataSourcePack=new Q.by,this.displayedColumnsPack=["description","plafond","franchise","formule","prime","sousGarantie"],this.displayedColumnsPackSousGarantie=["description","plafond","franchise","formule","prime","empty1","empty2"],this.displayedColumnsPrime=["description","prime"],this.informationsAssure=[],this.informationsSouscripteur=[],this.informationsConducteur=[],this.informationsContrat=[],this.informationsPack=[],this.informationsPrime=[],this.categoriesRisque=[],this.displayedColumnsRs=["description","more"],this.displayedColumnsRsInner=[],this.displayedColumnsCol=[],this.dataSourceGroupes=new Q.by,this.res=[],this.valeurVenale=0,this.multiRisque=!1,this.sousGarantieTab=[]}ngOnInit(){var N=this;this.idContrat=this.route.snapshot.paramMap.get("idContrat"),this.produit=this.route.snapshot.paramMap.get("nomProduit"),this.getInfoProduit(),this.contratService.getContratById(this.idContrat).subscribe({next:q=>{if(this.contrat=q,this.getUserById(q.auditUser),q?.personnesList?.forEach(G=>{switch(console.log("je cherche raison social",G),null==G.personne.raisonSocial&&(G.personne.raisonSocial=null),G?.role?.code){case"CP233":this.informationsConducteur={nom:G.personne.nom,prenom:G.personne.prenom1,dateNaissance:G.personne.dateNaissance,categoriePermis:G.personne.documentList?.find(b=>5==b.typeDocument?.idParam)?.sousCategorie,dateDelivrance:G.personne.documentList?.find(b=>5==b.typeDocument?.idParam)?.dateDelivrance,email:G.personne.contactList?.find(b=>8==b.typeContact?.idParam)?.description,tel:G.personne.contactList?.find(b=>7==b.typeContact?.idParam)?.description};break;case"CP234":this.informationsSouscripteur={raisonSocial:G.personne.raisonSocial,nom:G.personne.nom,prenom:G.personne.prenom1,email:G.personne.contactList?.find(b=>8==b.typeContact?.idParam)?.description,tel:G.personne.contactList?.find(b=>7==b.typeContact?.idParam)?.description},console.log("je suis info sous",this.informationsSouscripteur);break;case"CP235":this.informationsAssure={typeClient:q.typeClient.description,raisonSocial:G.personne.raisonSocial,nom:G.personne.nom,prenom:G.personne.prenom1,email:G.personne.contactList?.find(b=>8==b.typeContact?.idParam)?.description,tel:G.personne.contactList?.find(b=>7==b.typeContact?.idParam)?.description};break;case"CP236":this.informationsAssure={typeClient:q.typeClient.description,raisonSocial:G.personne.raisonSocial,nom:G.personne.nom,prenom:G.personne.prenom1,email:G.personne.contactList?.find(b=>8==b.typeContact?.idParam)?.description,tel:G.personne.contactList?.find(b=>7==b.typeContact?.idParam)?.description},this.informationsSouscripteur={raisonSocial:G.personne.raisonSocial,nom:G.personne.nom,prenom:G.personne.prenom1,email:G.personne.contactList?.find(b=>8==b.typeContact?.idParam)?.description,tel:G.personne.contactList?.find(b=>7==b.typeContact?.idParam)?.description};break;case"CP237":this.informationsSouscripteur={raisonSocial:G.personne.raisonSocial,nom:G.personne.nom,prenom:G.personne.prenom1,email:G.personne.contactList?.find(b=>8==b.typeContact?.idParam)?.description,tel:G.personne.contactList?.find(b=>7==b.typeContact?.idParam)?.description},this.informationsConducteur={nom:G.personne.nom,prenom:G.personne.prenom1,dateNaissance:G.personne.dateNaissance,categoriePermis:G.personne.documentList?.find(b=>5==b.typeDocument?.idParam)?.sousCategorie,dateDelivrance:G.personne.documentList?.find(b=>5==b.typeDocument?.idParam)?.dateDelivrance,email:G.personne.contactList?.find(b=>8==b.typeContact?.idParam)?.description,tel:G.personne.contactList?.find(b=>7==b.typeContact?.idParam)?.description};break;case"CP238":this.informationsAssure={typeClient:q.typeClient.description,raisonSocial:G.personne.raisonSocial,nom:G.personne.nom,prenom:G.personne.prenom1,email:G.personne.contactList?.find(b=>8==b.typeContact?.idParam)?.description,tel:G.personne.contactList?.find(b=>7==b.typeContact?.idParam)?.description},this.informationsSouscripteur={raisonSocial:G.personne.raisonSocial,nom:G.personne.nom,prenom:G.personne.prenom1,email:G.personne.contactList?.find(b=>8==b.typeContact?.idParam)?.description,tel:G.personne.contactList?.find(b=>7==b.typeContact?.idParam)?.description},this.informationsConducteur={nom:G.personne.nom,prenom:G.personne.prenom1,dateNaissance:G.personne.dateNaissance,categoriePermis:G.personne.documentList?.find(b=>5==b.typeDocument?.idParam)?.sousCategorie,dateDelivrance:G.personne.documentList?.find(b=>5==b.typeDocument?.idParam)?.dateDelivrance,email:G.personne.contactList?.find(b=>8==b.typeContact?.idParam)?.description,tel:G.personne.contactList?.find(b=>7==b.typeContact?.idParam)?.description};break;case"CP240":("95"==this.contrat.produit.codeProduit||"96"==this.contrat.produit.codeProduit)&&(this.informationsAssure={typeClient:q.typeClient.description,raisonSocial:G.personne.raisonSocial,nom:G.personne.nom,prenom:G.personne.prenom1,email:G.personne.contactList?.find(b=>8==b.typeContact?.idParam)?.description,tel:G.personne.contactList?.find(b=>7==b.typeContact?.idParam)?.description})}}),this.idDevis=q.idDevis,this.informationsContrat={duree:q.duree.description,agence:q.agence?.raisonSocial,dateEffet:q.dateEffet,dateExpiration:q.dateExpiration,statut:q.statue.description,quittance:q.quittanceList,pack:q.groupeList[0]?.pack?.description,reduction:q.descriptionReduction,convention:q.descriptionConvention},0!=q.groupeList.length)if(this.multiRisque||this.consultRisque(q.groupeList[0].risques[0].idRisque,q.groupeList[0].idGroupe),this.multiRisque){let G=[];const b=q.groupeList;b.forEach(te=>{te.risques.forEach(_e=>{_e.risque.forEach(ye=>{ye.colonne=ye.colonne.split(" ").map(Pt=>Pt.charAt(0).toUpperCase()+Pt.substring(1)).join("").replace(/[\xb0']/g,""),this.displayedColumnsRsInner=this.displayedColumnsRsInner.includes(ye.colonne)?this.displayedColumnsRsInner:[...this.displayedColumnsRsInner,ye.colonne],this.displayedColumnsCol=this.displayedColumnsCol.includes(ye.colonne)?this.displayedColumnsCol:[...this.displayedColumnsCol,ye.colonne];const Ke=_e.risque.find(Pt=>Pt.colonne===ye.colonne);Ke&&(Ke[ye.colonne]=ye.valeur,delete Ke.colonne,delete Ke.valeur)})})}),this.displayedColumnsRsInner.push("action"),b.forEach(te=>{te.risques&&Array.isArray(te.risques)&&te.risques.length?(te.risques.idGroupe=te.idGroupe,G=[...G,{...te,risques:new Q.by(te.risques)}]):G=[...G,te]}),this.dataSourceGroupes=new Q.by(G),this.dataSourceGroupes.paginator=this.paginator}else this.contratService.getPackIdRisque(this.idContrat,q.groupeList[0].risques[0].idRisque).subscribe({next:(G=(0,Le.Z)(function*(b){b.garantieList?.map(te=>{let _e="-",ye="-",Ke="-";(te.prime&&"0.0"!=te.prime||"95"!=q?.produit?.codeProduit)&&(te.sousGarantieList?.filter(Pt=>{let ft="-",St="-",Nt="-";Pt.categorieList.map(Bn=>{"C15"==Bn.code?Nt=Bn.valeur:"C16"==Bn.code?St=Bn.valeur:"C7"==Bn.code&&("0"==Bn.valeur&&(Bn.valeur=N.valeurVenale),ft=Bn.valeur)}),N.sousGarantieTab.push({idGarantie:Pt.idGarantie,description:Pt.description,prime:Pt.prime,plafond:"-"!=ft?Number(ft).toLocaleString("fi-FI",{minimumFractionDigits:2,maximumFractionDigits:2}):ft,formule:"-"!=St?Number(St).toLocaleString("fi-FI",{minimumFractionDigits:2,maximumFractionDigits:2}):St,franchise:"-"!=Nt?Number(Nt).toLocaleString("fi-FI",{minimumFractionDigits:2,maximumFractionDigits:2}):Nt})}),te.categorieList.map(Pt=>{"C15"==Pt.code?Ke=Pt.valeur:"C16"==Pt.code?ye=Pt.valeur:"C7"==Pt.code&&("0"==Pt.valeur&&(Pt.valeur=N.valeurVenale),_e=Pt.valeur)}),N.informationsPack.push({idGarantie:te.idGarantie,description:te.description,prime:te.prime,plafond:"-"!=_e?Number(_e).toLocaleString("fi-FI",{minimumFractionDigits:2,maximumFractionDigits:2}):_e,formule:"-"!=ye?Number(ye).toLocaleString("fi-FI",{minimumFractionDigits:2,maximumFractionDigits:2}):ye,franchise:"-"!=Ke?Number(Ke).toLocaleString("fi-FI",{minimumFractionDigits:2,maximumFractionDigits:2}):Ke,sousGarantieList:new Q.by(N.sousGarantieTab)})),N.sousGarantieTab=[]}),N.dataSourcePack=new Q.by(N.informationsPack),N.dataSourcePack=new Q.by(N.informationsPack)}),function(te){return G.apply(this,arguments)}),error:G=>{console.log(G)}});else n().fire({title:"Erreur lors de la lecture du contrat",icon:"info",allowOutsideClick:!1,confirmButtonText:"Ok",width:600}).then(G=>{G.isConfirmed&&this.router.navigate(["../"])});var G;this.dataSourcePrime=q.primeList,this.dataSourceTaxe=q.taxeList},error:q=>{console.log(q)}})}getUserById(N){this.authentificationService.getByUserId(N).subscribe({next:q=>{this.auditUser=q.nom+" "+q.prenom},error:q=>{console.log(q)}})}toggleRow(N){this.dataSourceGroupes.data.indexOf(N),this.idGroupe=N.idGroupe,N.risques&&N.risques.data.length&&(this.expandedElement=this.expandedElement===N?null:N),this.cd.detectChanges(),this.innerTables.forEach((q,G)=>q.dataSource.sort=this.innerSort.toArray()[G])}getInfoProduit(){let N=JSON.parse(sessionStorage.getItem("products")||"{}").find(q=>q.codeProduit==this.route.snapshot.paramMap.get("codeProduit")).idProduit;this.genericService.getPorduitById(N).subscribe({next:q=>{this.multiRisque="Oui"==q.param_Produit_Reponses.filter(G=>"multirisque"==G.idParamProduit.libelle)[0].reponse.description},error:q=>{console.log(q)}})}consultRisque(N,q){this.contratService.getParamContratByIdRisque(this.idContrat,q,N).subscribe({next:G=>{this.datasParam=G,this.multiRisque||(this.informationsRisque=this.datasParam.reduce((b,te)=>("P40"==te?.codeParam&&(this.valeurVenale=te.valeur),(b[te.categorieParamRisque]=b[te.categorieParamRisque]||[]).push(te),b),{}),this.informationsRisque=Object.values(this.informationsRisque),console.log(this.informationsRisque)),this.multiRisque&&this.contratService.getPackIdRisque(this.idContrat,N).subscribe({next:b=>{this.openDialog(G,b)},error:b=>{console.log(b)}})},error:G=>{console.log(G)}})}openDialog(N,q){this.dialog.open(e.T,{width:"60%",data:{paramRisque:N,pack:q}}).afterClosed().subscribe(b=>{})}}return U.\u0275fac=function(N){return new(N||U)(i.Y36(ee.F0),i.Y36(Z.g),i.Y36(O.uw),i.Y36(i.sBO),i.Y36(J.M),i.Y36(ee.gz),i.Y36(he.J),i.Y36(Ze.H))},U.\u0275cmp=i.Xpm({type:U,selectors:[["app-consult-contrat"]],viewQuery:function(N,q){if(1&N&&(i.Gf(w.NW,5),i.Gf(Zt,5),i.Gf(nn,5)),2&N){let G;i.iGM(G=i.CRH())&&(q.paginator=G.first),i.iGM(G=i.CRH())&&(q.innerTables=G),i.iGM(G=i.CRH())&&(q.innerSort=G)}},decls:139,vars:37,consts:[[1,"container"],[1,"header-title"],["aria-hidden","false","matTooltip","Retour","matTooltipPosition","left",1,"material-symbols-outlined",3,"routerLink"],["multi","",1,"example-headers-align"],["hideToggle","",3,"expanded"],[1,"container",2,"padding","1rem 2rem"],[1,"row","infos"],[1,"col-md-6"],[1,"row"],[1,"col-md-6","key"],[1,"col-md-6","value"],[4,"ngFor","ngForOf"],["class","row infos",4,"ngIf","ngIfElse"],["personneMoral",""],["personneMoral1",""],[1,"container",2,"padding","1rem 2rem","overflow-x","auto"],["multi","",4,"ngIf","ngIfElse"],["multirisque",""],["hideToggle","",3,"expanded",4,"ngIf"],[1,"resume"],[4,"ngIf"],["multi",""],["hideToggle","","class","panel-risque",3,"expanded",4,"ngFor","ngForOf"],["hideToggle","",1,"panel-risque",3,"expanded"],[1,"categoryTitle"],["class","row infos ",4,"ngFor","ngForOf"],["class","col-md-6 value",4,"ngIf"],["mat-table","","multiTemplateDataRows","",1,"gestion-table",3,"dataSource"],["matColumnDef","description"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","more"],["matColumnDef","expandedDetail"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",3,"example-element-row","example-expanded-row",4,"matRowDef","matRowDefColumns"],["mat-row","","class","example-detail-row",4,"matRowDef","matRowDefColumns"],["aria-label","Select page of users",3,"pageSize","pageSizeOptions"],["mat-header-cell",""],["mat-cell",""],["mat-icon-button","","type","button","aria-label","",3,"click"],["class","example-element-detail",4,"ngIf"],[1,"example-element-detail"],["class","inner-table mat-elevation-z8",4,"ngIf"],[1,"inner-table","mat-elevation-z8"],["mat-table","","matSort","",1,"",3,"dataSource"],["innerTables",""],[3,"matColumnDef",4,"ngFor","ngForOf"],["matColumnDef","action"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"matColumnDef"],["mat-icon-button","","type","button","aria-label","menu contrat list",3,"matMenuTriggerFor"],["xPosition","after",1,"menu-contrat"],["menu","matMenu"],["mat-menu-item","","type","button",3,"click"],["mat-header-row",""],["mat-row",""],["mat-row","",1,"example-detail-row"],["mat-table","","multiTemplateDataRows","",1,"pack-table",3,"dataSource"],["matColumnDef","plafond"],["matColumnDef","franchise"],["matColumnDef","formule"],["matColumnDef","prime"],["matColumnDef","sousGarantie"],["mat-cell","","class","example-element-row",3,"example-expanded-row",4,"matCellDef"],["mat-cell","",1,"example-element-row"],["mat-icon-button","","type","button","aria-label","",3,"click",4,"ngIf"],["mat-table","","multiTemplateDataRows","",1,"pack-table","innertable",3,"dataSource"],["matColumnDef","empty1"],["matColumnDef","empty2"],[1,"primeTotale"]],template:function(N,q){if(1&N&&(i.TgZ(0,"div",0)(1,"h2",1)(2,"mat-icon",2),i._uU(3,"arrow_circle_left"),i.qZA(),i._uU(4),i.qZA(),i.TgZ(5,"mat-accordion",3)(6,"mat-expansion-panel",4)(7,"mat-expansion-panel-header")(8,"mat-panel-title"),i._uU(9," Contrat "),i.qZA()(),i.TgZ(10,"div",5)(11,"div",6)(12,"div",7)(13,"div",8)(14,"div",9),i._uU(15,"Date d'Effet: "),i.qZA(),i.TgZ(16,"div",10),i._uU(17),i.ALo(18,"dateFormatPipe"),i.qZA()()(),i.TgZ(19,"div",7)(20,"div",8)(21,"div",9),i._uU(22,"Date d'Expiration: "),i.qZA(),i.TgZ(23,"div",10),i._uU(24),i.ALo(25,"dateFormatPipe"),i.qZA()()()(),i.TgZ(26,"div",6)(27,"div",7)(28,"div",8)(29,"div",9),i._uU(30,"Statut: "),i.qZA(),i.TgZ(31,"div",10),i._uU(32),i.qZA()()(),i.TgZ(33,"div",7)(34,"div",8)(35,"div",9),i._uU(36,"Dur\xe9e: "),i.qZA(),i.TgZ(37,"div",10),i._uU(38),i.qZA()()()(),i.TgZ(39,"div",6)(40,"div",7)(41,"div",8)(42,"div",9),i._uU(43,"Agence: "),i.qZA(),i.TgZ(44,"div",10),i._uU(45),i.qZA()()(),i.TgZ(46,"div",7)(47,"div",8)(48,"div",9),i._uU(49,"Quittance: "),i.qZA(),i.TgZ(50,"div",10),i.YNc(51,xn,3,2,"ng-container",11),i.qZA()()()(),i.TgZ(52,"div",6)(53,"div",7)(54,"div",8)(55,"div",9),i._uU(56,"Convention: "),i.qZA(),i.TgZ(57,"div",10),i._uU(58),i.qZA()()(),i.TgZ(59,"div",7)(60,"div",8)(61,"div",9),i._uU(62,"Reduction: "),i.qZA(),i.TgZ(63,"div",10),i._uU(64),i.qZA()()()(),i.TgZ(65,"div",6)(66,"div",7)(67,"div",8)(68,"div",9),i._uU(69,"Audit User: "),i.qZA(),i.TgZ(70,"div",10),i._uU(71),i.qZA()()(),i._UZ(72,"div",7),i.qZA()()(),i.TgZ(73,"mat-expansion-panel",4)(74,"mat-expansion-panel-header")(75,"mat-panel-title"),i._uU(76," Information assur\xe9 "),i.qZA()(),i.TgZ(77,"div",5)(78,"div",6)(79,"div",7)(80,"div",8)(81,"div",9),i._uU(82,"Type Client: "),i.qZA(),i.TgZ(83,"div",10),i._uU(84),i.qZA()()()(),i.YNc(85,mn,13,2,"div",12),i.YNc(86,Ri,7,1,"ng-template",null,13,i.W1O),i.TgZ(88,"div",6)(89,"div",7)(90,"div",8)(91,"div",9),i._uU(92,"Email: "),i.qZA(),i.TgZ(93,"div",10),i._uU(94),i.qZA()()(),i.TgZ(95,"div",7)(96,"div",8)(97,"div",9),i._uU(98,"T\xe9l\xe9phone:"),i.qZA(),i.TgZ(99,"div",10),i._uU(100),i.qZA()()()()()(),i.TgZ(101,"mat-expansion-panel",4)(102,"mat-expansion-panel-header")(103,"mat-panel-title"),i._uU(104," Information souscripteur "),i.qZA()(),i.TgZ(105,"div",5),i.YNc(106,Xn,13,2,"div",12),i.YNc(107,Mt,7,1,"ng-template",null,14,i.W1O),i.TgZ(109,"div",6)(110,"div",7)(111,"div",8)(112,"div",9),i._uU(113,"Email: "),i.qZA(),i.TgZ(114,"div",10),i._uU(115),i.qZA()()(),i.TgZ(116,"div",7)(117,"div",8)(118,"div",9),i._uU(119,"T\xe9l\xe9phone:"),i.qZA(),i.TgZ(120,"div",10),i._uU(121),i.qZA()()()()()(),i.TgZ(122,"mat-expansion-panel",4)(123,"mat-expansion-panel-header")(124,"mat-panel-title"),i._uU(125," Informations du risque "),i.qZA()(),i.TgZ(126,"div",15),i.YNc(127,Vt,2,1,"mat-accordion",16),i.YNc(128,aa,14,8,"ng-template",null,17,i.W1O),i.qZA()(),i.YNc(130,bs,28,7,"mat-expansion-panel",18),i.TgZ(131,"mat-expansion-panel",4)(132,"mat-expansion-panel-header")(133,"mat-panel-title"),i._uU(134," Prime "),i.qZA()(),i.TgZ(135,"table",19),i.YNc(136,ol,2,1,"tr",11),i.YNc(137,Ps,9,7,"tr",11),i.YNc(138,qs,2,1,"tr",11),i.qZA()()()()),2&N){const G=i.MAs(87),b=i.MAs(108),te=i.MAs(129);i.xp6(2),i.Q6J("routerLink",i.VKq(35,_r,"/consultation-police/"+(null==q.contrat?null:q.contrat.produit.codeProduit)+"/"+q.produit)),i.xp6(2),i.hij(" Consultation police N\xb0",q.idContrat,""),i.xp6(2),i.Q6J("expanded",!0),i.xp6(11),i.hij("",i.lcZ(18,31,q.informationsContrat.dateEffet)," "),i.xp6(7),i.hij("",i.lcZ(25,33,q.informationsContrat.dateExpiration)," "),i.xp6(8),i.Oqu(q.informationsContrat.statut),i.xp6(6),i.Oqu(q.informationsContrat.duree),i.xp6(7),i.Oqu(q.informationsContrat.agence),i.xp6(6),i.Q6J("ngForOf",null==q.informationsContrat?null:q.informationsContrat.quittance),i.xp6(7),i.Oqu(q.informationsContrat.convention),i.xp6(6),i.Oqu(q.informationsContrat.reduction),i.xp6(7),i.Oqu(q.auditUser),i.xp6(2),i.Q6J("expanded",!0),i.xp6(11),i.Oqu(q.informationsAssure.typeClient),i.xp6(1),i.Q6J("ngIf","personne physique"==q.informationsAssure.typeClient)("ngIfElse",G),i.xp6(9),i.Oqu(q.informationsAssure.email),i.xp6(6),i.hij("",q.informationsAssure.tel," "),i.xp6(1),i.Q6J("expanded",!0),i.xp6(5),i.Q6J("ngIf",null==q.informationsSouscripteur.raisonSocial)("ngIfElse",b),i.xp6(9),i.Oqu(q.informationsSouscripteur.email),i.xp6(6),i.hij("",q.informationsSouscripteur.tel," "),i.xp6(1),i.Q6J("expanded",!0),i.xp6(5),i.Q6J("ngIf",!q.multiRisque)("ngIfElse",te),i.xp6(3),i.Q6J("ngIf",!q.multiRisque),i.xp6(1),i.Q6J("expanded",!0),i.xp6(5),i.Q6J("ngForOf",q.dataSourcePrime),i.xp6(1),i.Q6J("ngForOf",q.dataSourceTaxe),i.xp6(1),i.Q6J("ngForOf",q.dataSourcePrime)}},dependencies:[Se.sg,Se.O5,l.Hw,t.pp,t.ib,t.yz,t.yK,Ft.VK,Ft.OP,Ft.p6,Q.BZ,Q.fO,Q.as,Q.w1,Q.Dz,Q.nj,Q.ge,Q.ev,Q.XQ,Q.Gk,ln.gM,w.NW,ut.lW,ee.rH,Se.JJ,ot.y,tt.X],styles:[".container[_ngcontent-%COMP%]{background-color:#fff;padding:40px 0;height:100%;overflow-y:auto;overflow-x:hidden}.gestion-table[_ngcontent-%COMP%]{width:100%}.gestion-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .gestion-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:16px}.gestion-table[_ngcontent-%COMP%]   .mat-header-cell[_ngcontent-%COMP%]{color:#00008f;font-weight:600}.gestion-table[_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]:nth-child(even), .gestion-table[_ngcontent-%COMP%]   .mat-header-row[_ngcontent-%COMP%]{background-color:#f7f7f9}.gestion-table[_ngcontent-%COMP%]   .mat-paginator[_ngcontent-%COMP%]{background-color:transparent;margin:20px auto auto;width:80%}.gestion-table[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{height:100%;font-size:26px;color:#00008f;width:-moz-fit-content;width:fit-content}.mat-menu-item[_ngcontent-%COMP%]{font-size:15px}.mat-menu-item[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:18px;height:-moz-fit-content;height:fit-content}.mat-menu-item[_ngcontent-%COMP%]:hover:not([disabled]), .mat-menu-item[_ngcontent-%COMP%]:hover:not([disabled])   .mat-icon[_ngcontent-%COMP%]{color:#00008f}.header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:0px 2rem}.header[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{height:-moz-fit-content;height:fit-content;font-size:29px;margin-right:1rem;width:-moz-fit-content;width:fit-content}.title-table[_ngcontent-%COMP%]{margin-bottom:0rem;font-weight:800!important;font-size:23px!important;color:#00008f!important}.container[_ngcontent-%COMP%]{background-color:#fff;padding:40px 0;height:100%;overflow-x:hidden;box-shadow:0 .5rem 1rem #00000026}.mat-expansion-panel-header[_ngcontent-%COMP%]{background:rgba(199,199,199,.2)!important;font-weight:600;font-size:16px}.mat-expansion-panel-header.mat-expanded[_ngcontent-%COMP%]{height:48px}.mat-expansion-panel-header-title[_ngcontent-%COMP%]{color:#00008f}.mat-expansion-panel[_ngcontent-%COMP%]:not([class*=mat-elevation-z]){box-shadow:none}.row.infos[_ngcontent-%COMP%]{font-size:16px;margin-bottom:2rem;font-weight:600}.panel-risque[_ngcontent-%COMP%]   .row.infos[_ngcontent-%COMP%]{margin-left:10px;margin-top:10px}.panel-risque[_ngcontent-%COMP%]{width:70%}.categoryTitle[_ngcontent-%COMP%]{text-transform:capitalize}.value[_ngcontent-%COMP%]{color:#00008f;font-weight:600}h2.header-title[_ngcontent-%COMP%]{padding:0 24px;font-size:21px!important;color:#00008f;font-weight:600!important;letter-spacing:1px;display:flex;justify-content:space-between}table.pack-table[_ngcontent-%COMP%]{width:100%;margin-top:1rem}.mat-header-row[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{color:#00008f}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:16px;font-weight:600;border-right:1px solid #e7e7e7;padding-left:1rem}.mat-header-cell[_ngcontent-%COMP%]{color:#333;font-weight:600;letter-spacing:.5px;font-size:15px}table.resume[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;border-spacing:0 19px}table.resume[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:17px;padding:12px 19px;border:1px solid rgba(0,0,0,.12)}.resume-buttons[_ngcontent-%COMP%]{margin-top:4rem;width:50%;display:flex;justify-content:space-between}.resume-buttons[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{margin-right:9px;font-size:24px}.mat-column-expandedDetail[_ngcontent-%COMP%]{padding-left:0!important;padding-right:0!important}.example-element-detail[_ngcontent-%COMP%]{overflow:hidden;display:flex}tr.example-detail-row[_ngcontent-%COMP%]{height:0}.mat-column-expandedDetail[_ngcontent-%COMP%]{padding:0}.mat-cell[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]:hover, .mat-header-cell[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]:hover{color:#d14723;cursor:pointer}.mat-cell[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{color:#00008f}.innertable[_ngcontent-%COMP%]{background-color:#f7f7f9}.cdk-column-expandedDetail[_ngcontent-%COMP%]{border-bottom-width:0px}.mat-menu-item[_ngcontent-%COMP%]{font-size:16px}.mat-icon[_ngcontent-%COMP%]{margin-right:16px;font-size:21px;height:-moz-fit-content;height:fit-content}.mat-menu-item[_ngcontent-%COMP%]:hover:not([disabled]){color:#00008f}.mat-menu-item[_ngcontent-%COMP%]:hover:not([disabled])   .mat-icon[_ngcontent-%COMP%]{color:#00008f}.inner-table[_ngcontent-%COMP%], .inner-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%}"],data:{animation:[(0,o.X$)("detailExpand",[(0,o.SB)("collapsed",(0,o.oB)({height:"0px",minHeight:"0",display:"none"})),(0,o.SB)("expanded",(0,o.oB)({height:"*"})),(0,o.eR)("expanded <=> collapsed",(0,o.jt)("225ms cubic-bezier(0.4, 0.0, 0.2, 1)"))])]}}),U})();var it=B(4006),ha=B(7843),Ci=B(2644),qi=B(5439),Ha=B(6274),Ss=B(6666),ys=B(2473),wa=B(5617),di=B(3388),Yr=B(852),$a=B(6127),Ns=B(8056),ba=B(7947),Ka=B(6944),Ro=B(6436),Oa=B(8153),qr=B(9549),Ca=B(284),Vr=B(9602),ca=B(4385),So=B(3238),jr=B(6257),Hr=B(6709),oo=B(1572);const nt=["stepper"];function jt(U,Te){1&U&&i._uU(0,"Informations contrat, souscripteur, assur\xe9 ")}function Be(U,Te){if(1&U&&(i.ynx(0),i.TgZ(1,"mat-option",33),i._uU(2),i.qZA(),i.BQk()),2&U){const N=Te.$implicit;i.xp6(1),i.Q6J("value",N.idAgence),i.xp6(1),i.hij(" ",N.nomAgence," ")}}function zt(U,Te){if(1&U&&(i.ynx(0),i.TgZ(1,"mat-option",33),i._uU(2),i.qZA(),i.BQk()),2&U){const N=Te.$implicit;i.xp6(1),i.Q6J("value",N.idCodeProduit),i.xp6(1),i.hij(" ",N.description," ")}}function yn(U,Te){if(1&U&&(i.ynx(0),i.TgZ(1,"mat-option",33),i._uU(2),i.qZA(),i.BQk()),2&U){const N=Te.$implicit;i.xp6(1),i.Q6J("value",N.id_duree),i.xp6(1),i.hij(" ",N.description," ")}}function Un(U,Te){1&U&&(i.TgZ(0,"div"),i._uU(1," ce champs est obligatoire"),i.qZA())}function wi(U,Te){if(1&U&&(i.TgZ(0,"mat-error",34),i.YNc(1,Un,2,0,"div",21),i.qZA()),2&U){const N=i.oxw(3);i.xp6(1),i.Q6J("ngIf",N.formCreationContrat.controls.dateEffet.errors.required)}}function ro(U,Te){if(1&U&&(i.TgZ(0,"form",22)(1,"mat-expansion-panel",23)(2,"mat-expansion-panel-header")(3,"mat-panel-title"),i._uU(4," Informations contrat "),i.qZA()(),i.TgZ(5,"div",24)(6,"mat-form-field",25)(7,"mat-label"),i._uU(8,"Agence"),i.qZA(),i.TgZ(9,"mat-select",26),i.YNc(10,Be,3,2,"ng-container",18),i.qZA()(),i.TgZ(11,"mat-form-field",25)(12,"mat-label"),i._uU(13,"Produit"),i.qZA(),i.TgZ(14,"mat-select",27),i.YNc(15,zt,3,2,"ng-container",18),i.qZA()(),i.TgZ(16,"mat-form-field",25)(17,"mat-label"),i._uU(18,"Dur\xe9e"),i.qZA(),i.TgZ(19,"mat-select",28),i.YNc(20,yn,3,2,"ng-container",18),i.qZA()(),i.TgZ(21,"mat-form-field",25)(22,"mat-label"),i._uU(23,"Date d'Effet"),i.qZA(),i._UZ(24,"input",29)(25,"mat-datepicker-toggle",30)(26,"mat-datepicker",null,31),i.YNc(28,wi,2,1,"mat-error",32),i.qZA()()()()),2&U){const N=i.MAs(27),q=i.oxw(2);i.Q6J("formGroup",q.formCreationContrat),i.xp6(1),i.Q6J("expanded",!0),i.xp6(9),i.Q6J("ngForOf",q.agences),i.xp6(5),i.Q6J("ngForOf",q.produits),i.xp6(5),i.Q6J("ngForOf",q.durees),i.xp6(4),i.Q6J("matDatepicker",N)("min","45L"==q.codeProduit||q.isBOUser?null:q.now)("max","45L"==q.codeProduit||"45F"==q.codeProduit||"97"==q.codeProduit&&q.isBOUser?null:q.month),i.xp6(1),i.Q6J("for",N),i.xp6(3),i.Q6J("ngIf",q.formCreationContrat.controls.dateEffet.errors)}}function ko(U,Te){1&U&&(i.TgZ(0,"div"),i._uU(1," ce champs est obligatoire"),i.qZA())}function hr(U,Te){if(1&U&&(i.TgZ(0,"mat-error",34),i.YNc(1,ko,2,0,"div",21),i.qZA()),2&U){const N=i.oxw(4);i.xp6(1),i.Q6J("ngIf",N.formCreationAssure.controls.raisonSocial.errors.required)}}function Rl(U,Te){if(1&U){const N=i.EpF();i.TgZ(0,"button",51),i.NdJ("mouseup",function(){i.CHM(N);const G=i.oxw(4);return i.KtG(G.recherchePersonne("assure"))}),i._uU(1," Rechercher "),i.qZA()}}function ka(U,Te){if(1&U){const N=i.EpF();i.TgZ(0,"button",52),i.NdJ("mouseup",function(){i.CHM(N);const G=i.oxw(4);return i.KtG(G.recherchePersonne("assure"))}),i._uU(1," Rechercher "),i.qZA()}}function rl(U,Te){1&U&&(i.TgZ(0,"div"),i._uU(1," ce champs est obligatoire"),i.qZA())}function Is(U,Te){if(1&U&&(i.TgZ(0,"mat-error",34),i.YNc(1,rl,2,0,"div",21),i.qZA()),2&U){const N=i.oxw(4);i.xp6(1),i.Q6J("ngIf",N.formCreationAssure.controls.rib.errors.required)}}function Dl(U,Te){1&U&&(i.TgZ(0,"mat-error",34),i._uU(1," ce champs n'est pas conforme "),i.qZA())}function $l(U,Te){1&U&&(i.TgZ(0,"div"),i._uU(1," ce champs est obligatoire"),i.qZA())}function Er(U,Te){if(1&U&&(i.TgZ(0,"mat-error",34),i.YNc(1,$l,2,0,"div",21),i.qZA()),2&U){const N=i.oxw(4);i.xp6(1),i.Q6J("ngIf",N.formCreationAssure.controls.nif.errors.required)}}function al(U,Te){1&U&&(i.TgZ(0,"mat-error",34),i._uU(1," ce champs n'est pas conforme "),i.qZA())}function Oi(U,Te){1&U&&(i.TgZ(0,"div"),i._uU(1," ce champs est obligatoire"),i.qZA())}function zi(U,Te){if(1&U&&(i.TgZ(0,"mat-error",34),i.YNc(1,Oi,2,0,"div",21),i.qZA()),2&U){const N=i.oxw(4);i.xp6(1),i.Q6J("ngIf",N.formCreationAssure.controls.telephone.errors.required)}}function wl(U,Te){1&U&&(i.TgZ(0,"mat-error",34),i._uU(1," ce champs n'est pas conforme "),i.qZA())}function sl(U,Te){1&U&&(i.TgZ(0,"div"),i._uU(1," ce champs est obligatoire"),i.qZA())}function Fi(U,Te){if(1&U&&(i.TgZ(0,"mat-error",34),i.YNc(1,sl,2,0,"div",21),i.qZA()),2&U){const N=i.oxw(4);i.xp6(1),i.Q6J("ngIf",N.formCreationAssure.controls.email.errors.required)}}function ll(U,Te){1&U&&(i.TgZ(0,"mat-error",34),i._uU(1," ce champs n'est pas conforme "),i.qZA())}function Wa(U,Te){1&U&&(i.TgZ(0,"div"),i._uU(1," ce champs est obligatoire"),i.qZA())}function Tr(U,Te){if(1&U&&(i.TgZ(0,"mat-error",34),i.YNc(1,Wa,2,0,"div",21),i.qZA()),2&U){const N=i.oxw(4);i.xp6(1),i.Q6J("ngIf",N.formCreationAssure.controls.adresse.errors.required)}}function _o(U,Te){if(1&U&&(i.ynx(0),i.TgZ(1,"mat-option",33),i._uU(2),i.qZA(),i.BQk()),2&U){const N=Te.$implicit;i.xp6(1),i.Q6J("value",N.idWilaya),i.xp6(1),i.hij(" ",N.description," ")}}function Xa(U,Te){1&U&&(i.TgZ(0,"div"),i._uU(1," ce champs est obligatoire"),i.qZA())}function Do(U,Te){if(1&U&&(i.TgZ(0,"mat-error",34),i.YNc(1,Xa,2,0,"div",21),i.qZA()),2&U){const N=i.oxw(4);i.xp6(1),i.Q6J("ngIf",N.formCreationAssure.controls.wilaya.errors.required)}}function $r(U,Te){if(1&U&&(i.ynx(0),i.TgZ(1,"mat-option",33),i._uU(2),i.qZA(),i.BQk()),2&U){const N=Te.$implicit;i.xp6(1),i.Q6J("value",N.idCommune),i.xp6(1),i.hij(" ",N.description," ")}}function Vo(U,Te){1&U&&(i.TgZ(0,"div"),i._uU(1," ce champs est obligatoire"),i.qZA())}function cl(U,Te){if(1&U&&(i.TgZ(0,"mat-error",34),i.YNc(1,Vo,2,0,"div",21),i.qZA()),2&U){const N=i.oxw(4);i.xp6(1),i.Q6J("ngIf",N.formCreationAssure.controls.commune.errors.required)}}function ul(U,Te){if(1&U&&(i.TgZ(0,"mat-option",33),i._uU(1),i.qZA()),2&U){const N=Te.$implicit;i.Q6J("value",N.idParam),i.xp6(1),i.hij(" ",N.description," ")}}function si(U,Te){if(1&U){const N=i.EpF();i.TgZ(0,"mat-form-field",46)(1,"mat-label"),i._uU(2,"Ligne de Business"),i.qZA(),i.TgZ(3,"mat-select",53),i.NdJ("selectionChange",function(G){i.CHM(N);const b=i.oxw(4);return i.KtG(b.onLineOfBusinessSelected(G.value))}),i.YNc(4,ul,2,2,"mat-option",54),i.qZA()()}if(2&U){const N=i.oxw(4);i.xp6(4),i.Q6J("ngForOf",N.lineOfBusinessList)}}function Gr(U,Te){if(1&U&&(i.TgZ(0,"mat-option",33),i._uU(1),i.qZA()),2&U){const N=Te.$implicit;i.Q6J("value",N.idParam),i.xp6(1),i.hij(" ",N.description," ")}}function ml(U,Te){if(1&U){const N=i.EpF();i.TgZ(0,"mat-form-field",46)(1,"mat-label"),i._uU(2,"Secteur d'activit\xe9 "),i.qZA(),i.TgZ(3,"mat-select",55),i.NdJ("selectionChange",function(G){i.CHM(N);const b=i.oxw(4);return i.KtG(b.onSecteurActiviteSelected(G.value))}),i.YNc(4,Gr,2,2,"mat-option",54),i.qZA()()}if(2&U){const N=i.oxw(4);i.xp6(4),i.Q6J("ngForOf",N.secteurActiviteList)}}function Es(U,Te){if(1&U&&(i.TgZ(0,"mat-option",33),i._uU(1),i.qZA()),2&U){const N=Te.$implicit;i.Q6J("value",N.idParam),i.xp6(1),i.hij(" ",N.description," ")}}function ao(U,Te){if(1&U){const N=i.EpF();i.TgZ(0,"mat-form-field",46)(1,"mat-label"),i._uU(2,"Occupation "),i.qZA(),i.TgZ(3,"mat-select",56),i.NdJ("selectionChange",function(G){i.CHM(N);const b=i.oxw(4);return i.KtG(b.onOccupationSelected(G.value))}),i.YNc(4,Es,2,2,"mat-option",54),i.qZA()()}if(2&U){const N=i.oxw(4);i.xp6(4),i.Q6J("ngForOf",N.occupationList)}}function Rs(U,Te){if(1&U){const N=i.EpF();i.TgZ(0,"div",24)(1,"div",36)(2,"mat-form-field",25)(3,"mat-label"),i._uU(4,"Raison social"),i.qZA(),i._UZ(5,"input",37),i.YNc(6,hr,2,1,"mat-error",32),i.qZA(),i.YNc(7,Rl,2,0,"button",38),i.YNc(8,ka,2,0,"button",39),i.qZA(),i.TgZ(9,"mat-form-field",25)(10,"mat-label"),i._uU(11,"N\xb0 RIB"),i.qZA(),i._UZ(12,"input",40),i.YNc(13,Is,2,1,"mat-error",32),i.YNc(14,Dl,2,0,"mat-error",32),i.qZA(),i.TgZ(15,"mat-form-field",41)(16,"mat-label"),i._uU(17,"NIF"),i.qZA(),i._UZ(18,"input",42),i.YNc(19,Er,2,1,"mat-error",32),i.YNc(20,al,2,0,"mat-error",32),i.qZA(),i.TgZ(21,"mat-form-field",25)(22,"mat-label"),i._uU(23,"Mobile"),i.qZA(),i.TgZ(24,"span",43),i._uU(25,"+213 \xa0"),i.qZA(),i._UZ(26,"input",44),i.YNc(27,zi,2,1,"mat-error",32),i.YNc(28,wl,2,0,"mat-error",32),i.qZA(),i.TgZ(29,"mat-form-field",25)(30,"mat-label"),i._uU(31,"Email"),i.qZA(),i._UZ(32,"input",45),i.YNc(33,Fi,2,1,"mat-error",32),i.YNc(34,ll,2,0,"mat-error",32),i.qZA(),i.TgZ(35,"mat-form-field",46)(36,"mat-label"),i._uU(37,"Adresse"),i.qZA(),i._UZ(38,"input",47),i.YNc(39,Tr,2,1,"mat-error",32),i.qZA(),i.TgZ(40,"mat-form-field",46)(41,"mat-label"),i._uU(42,"Wilaya"),i.qZA(),i.TgZ(43,"mat-select",48),i.NdJ("selectionChange",function(G){i.CHM(N);const b=i.oxw(3);return i.KtG(b.getCommune(G.value,"Assure"))}),i.YNc(44,_o,3,2,"ng-container",18),i.qZA(),i.YNc(45,Do,2,1,"mat-error",32),i.qZA(),i.TgZ(46,"mat-form-field",46)(47,"mat-label"),i._uU(48,"Commune"),i.qZA(),i.TgZ(49,"mat-select",49),i.YNc(50,$r,3,2,"ng-container",18),i.qZA(),i.YNc(51,cl,2,1,"mat-error",32),i.qZA(),i.YNc(52,si,5,1,"mat-form-field",50),i.YNc(53,ml,5,1,"mat-form-field",50),i.YNc(54,ao,5,1,"mat-form-field",50),i.qZA()}if(2&U){const N=i.oxw(3);i.xp6(5),i.Q6J("readonly",!0),i.xp6(1),i.Q6J("ngIf",N.formCreationAssure.controls.raisonSocial.errors),i.xp6(1),i.Q6J("ngIf",""!=N.formCreationAssure.value.raisonSocial),i.xp6(1),i.Q6J("ngIf",""==N.formCreationAssure.value.raisonSocial),i.xp6(5),i.Q6J("ngIf",N.formCreationAssure.controls.rib.errors),i.xp6(1),i.Q6J("ngIf",(null==N.formCreationAssure.controls.rib.errors?null:N.formCreationAssure.controls.rib.errors.pattern)||(null==N.formCreationAssure.controls.rib.errors?null:N.formCreationAssure.controls.rib.errors.maxlength)||(null==N.formCreationAssure.controls.rib.errors?null:N.formCreationAssure.controls.rib.errors.minlength)),i.xp6(5),i.Q6J("ngIf",N.formCreationAssure.controls.nif.errors),i.xp6(1),i.Q6J("ngIf",(null==N.formCreationAssure.controls.nif.errors?null:N.formCreationAssure.controls.nif.errors.maxlength)||(null==N.formCreationAssure.controls.nif.errors?null:N.formCreationAssure.controls.nif.errors.minlength)),i.xp6(7),i.Q6J("ngIf",N.formCreationAssure.controls.telephone.errors),i.xp6(1),i.Q6J("ngIf",(null==N.formCreationAssure.controls.telephone.errors?null:N.formCreationAssure.controls.telephone.errors.pattern)||(null==N.formCreationAssure.controls.telephone.errors?null:N.formCreationAssure.controls.telephone.errors.maxlength)||(null==N.formCreationAssure.controls.telephone.errors?null:N.formCreationAssure.controls.telephone.errors.minlength)),i.xp6(5),i.Q6J("ngIf",N.formCreationAssure.controls.email.errors),i.xp6(1),i.Q6J("ngIf",(null==N.formCreationAssure.controls.email.errors?null:N.formCreationAssure.controls.email.errors.pattern)||(null==N.formCreationAssure.controls.email.errors?null:N.formCreationAssure.controls.email.errors.maxlength)||(null==N.formCreationAssure.controls.email.errors?null:N.formCreationAssure.controls.email.errors.minlength)),i.xp6(5),i.Q6J("ngIf",N.formCreationAssure.controls.adresse.errors),i.xp6(5),i.Q6J("ngForOf",N.wilayas),i.xp6(1),i.Q6J("ngIf",N.formCreationAssure.controls.wilaya.errors),i.xp6(5),i.Q6J("ngForOf",N.communes_assure),i.xp6(1),i.Q6J("ngIf",N.formCreationAssure.controls.commune.errors),i.xp6(1),i.Q6J("ngIf","97"==N.codeProduit),i.xp6(1),i.Q6J("ngIf","97"==N.codeProduit),i.xp6(1),i.Q6J("ngIf","97"==N.codeProduit)}}function Ol(U,Te){1&U&&(i.TgZ(0,"div"),i._uU(1," ce champs est obligatoire"),i.qZA())}function Vi(U,Te){if(1&U&&(i.TgZ(0,"mat-error",34),i.YNc(1,Ol,2,0,"div",21),i.qZA()),2&U){const N=i.oxw(4);i.xp6(1),i.Q6J("ngIf",N.formCreationAssure.controls.nom.errors.required)}}function Ma(U,Te){1&U&&(i.TgZ(0,"div"),i._uU(1," ce champs est obligatoire"),i.qZA())}function ar(U,Te){if(1&U&&(i.TgZ(0,"mat-error",34),i.YNc(1,Ma,2,0,"div",21),i.qZA()),2&U){const N=i.oxw(4);i.xp6(1),i.Q6J("ngIf",N.formCreationAssure.controls.prenom.errors.required)}}function Ds(U,Te){1&U&&(i.TgZ(0,"div"),i._uU(1," L'age du souscripteur doit etre sup\xe9rieur \xe0 18 ans"),i.qZA())}function Br(U,Te){1&U&&(i.TgZ(0,"div"),i._uU(1," ce champs est obligatoire"),i.qZA())}function Rr(U,Te){if(1&U&&(i.TgZ(0,"mat-error",34),i.YNc(1,Ds,2,0,"div",21),i.YNc(2,Br,2,0,"div",21),i.qZA()),2&U){const N=i.oxw(4);i.xp6(1),i.Q6J("ngIf",N.formCreationAssure.controls.dateNaissance.errors.ageInf18),i.xp6(1),i.Q6J("ngIf",N.formCreationAssure.controls.dateNaissance.errors.required)}}function ws(U,Te){if(1&U){const N=i.EpF();i.TgZ(0,"button",51),i.NdJ("mouseup",function(){i.CHM(N);const G=i.oxw(4);return i.KtG(G.recherchePersonne("assure"))}),i._uU(1," Rechercher "),i.qZA()}}function Po(U,Te){if(1&U){const N=i.EpF();i.TgZ(0,"button",52),i.NdJ("mouseup",function(){i.CHM(N);const G=i.oxw(4);return i.KtG(G.recherchePersonne("assure"))}),i._uU(1," Rechercher "),i.qZA()}}function yo(U,Te){1&U&&(i.TgZ(0,"div"),i._uU(1," ce champs est obligatoire"),i.qZA())}function ua(U,Te){if(1&U&&(i.TgZ(0,"mat-error",34),i.YNc(1,yo,2,0,"div",21),i.qZA()),2&U){const N=i.oxw(5);i.xp6(1),i.Q6J("ngIf",N.formCreationAssure.controls.nin.errors.required)}}function Os(U,Te){1&U&&(i.TgZ(0,"mat-error",34),i._uU(1," ce champs n'est pas conforme "),i.qZA())}function ks(U,Te){if(1&U&&(i.TgZ(0,"mat-form-field",67)(1,"mat-label"),i._uU(2,"NIN"),i.qZA(),i._UZ(3,"input",68),i.YNc(4,ua,2,1,"mat-error",32),i.YNc(5,Os,2,0,"mat-error",32),i.qZA()),2&U){const N=i.oxw(4);i.xp6(4),i.Q6J("ngIf",N.formCreationAssure.controls.nin.errors),i.xp6(1),i.Q6J("ngIf",(null==N.formCreationAssure.controls.nin.errors?null:N.formCreationAssure.controls.nin.errors.pattern)||(null==N.formCreationAssure.controls.nin.errors?null:N.formCreationAssure.controls.nin.errors.maxlength)||(null==N.formCreationAssure.controls.nin.errors?null:N.formCreationAssure.controls.nin.errors.minlength))}}function ho(U,Te){1&U&&(i.TgZ(0,"div"),i._uU(1," ce champs est obligatoire"),i.qZA())}function Kr(U,Te){if(1&U&&(i.TgZ(0,"mat-error",34),i.YNc(1,ho,2,0,"div",21),i.qZA()),2&U){const N=i.oxw(4);i.xp6(1),i.Q6J("ngIf",N.formCreationAssure.controls.telephone.errors.required)}}function es(U,Te){1&U&&(i.TgZ(0,"mat-error",34),i._uU(1," ce champs n'est pas conforme "),i.qZA())}function kl(U,Te){1&U&&(i.TgZ(0,"div"),i._uU(1," ce champs est obligatoire"),i.qZA())}function Ml(U,Te){if(1&U&&(i.TgZ(0,"mat-error",34),i.YNc(1,kl,2,0,"div",21),i.qZA()),2&U){const N=i.oxw(4);i.xp6(1),i.Q6J("ngIf",N.formCreationAssure.controls.email.errors.required)}}function Yo(U,Te){1&U&&(i.TgZ(0,"mat-error",34),i._uU(1," ce champs n'est pas conforme "),i.qZA())}function Ua(U,Te){1&U&&(i.TgZ(0,"div"),i._uU(1," ce champs est obligatoire"),i.qZA())}function Ul(U,Te){if(1&U&&(i.TgZ(0,"mat-error",34),i.YNc(1,Ua,2,0,"div",21),i.qZA()),2&U){const N=i.oxw(4);i.xp6(1),i.Q6J("ngIf",N.formCreationAssure.controls.adresse.errors.required)}}function dl(U,Te){if(1&U&&(i.ynx(0),i.TgZ(1,"mat-option",33),i._uU(2),i.qZA(),i.BQk()),2&U){const N=Te.$implicit;i.xp6(1),i.Q6J("value",N.idWilaya),i.xp6(1),i.hij(" ",N.description," ")}}function tr(U,Te){1&U&&(i.TgZ(0,"div"),i._uU(1," ce champs est obligatoire"),i.qZA())}function Ms(U,Te){if(1&U&&(i.TgZ(0,"mat-error",34),i.YNc(1,tr,2,0,"div",21),i.qZA()),2&U){const N=i.oxw(4);i.xp6(1),i.Q6J("ngIf",N.formCreationAssure.controls.wilaya.errors.required)}}function Dn(U,Te){if(1&U&&(i.ynx(0),i.TgZ(1,"mat-option",33),i._uU(2),i.qZA(),i.BQk()),2&U){const N=Te.$implicit;i.xp6(1),i.Q6J("value",N.idCommune),i.xp6(1),i.hij(" ",N.description," ")}}function ts(U,Te){1&U&&(i.TgZ(0,"div"),i._uU(1," ce champs est obligatoire"),i.qZA())}function Kl(U,Te){if(1&U&&(i.TgZ(0,"mat-error",34),i.YNc(1,ts,2,0,"div",21),i.qZA()),2&U){const N=i.oxw(4);i.xp6(1),i.Q6J("ngIf",N.formCreationAssure.controls.commune.errors.required)}}function ns(U,Te){if(1&U&&(i.ynx(0),i.TgZ(1,"mat-option",33),i._uU(2),i.qZA(),i.BQk()),2&U){const N=Te.$implicit;i.xp6(1),i.Q6J("value",N.idParam),i.xp6(1),i.Oqu(N.description)}}function Pa(U,Te){1&U&&(i.TgZ(0,"div"),i._uU(1," ce champs est obligatoire"),i.qZA())}function Ho(U,Te){if(1&U&&(i.TgZ(0,"mat-error",34),i.YNc(1,Pa,2,0,"div",21),i.qZA()),2&U){const N=i.oxw(4);i.xp6(1),i.Q6J("ngIf",N.formCreationAssure.controls.genre.errors.required)}}function ma(U,Te){if(1&U&&(i.ynx(0),i.TgZ(1,"mat-option",33),i._uU(2),i.qZA(),i.BQk()),2&U){const N=Te.$implicit;i.xp6(1),i.Q6J("value",N.idParam),i.xp6(1),i.Oqu(N.description)}}function wo(U,Te){if(1&U&&(i.ynx(0),i.TgZ(1,"mat-option",33),i._uU(2),i.qZA(),i.BQk()),2&U){const N=Te.$implicit;i.xp6(1),i.Q6J("value",N.idProfession),i.xp6(1),i.Oqu(N.description)}}function Us(U,Te){if(1&U){const N=i.EpF();i.TgZ(0,"div",24)(1,"div",36)(2,"mat-form-field",57)(3,"mat-label"),i._uU(4,"Nom"),i.qZA(),i._UZ(5,"input",58),i.YNc(6,Vi,2,1,"mat-error",32),i.qZA(),i.TgZ(7,"mat-form-field",57)(8,"mat-label"),i._uU(9,"Pr\xe9nom"),i.qZA(),i._UZ(10,"input",59),i.YNc(11,ar,2,1,"mat-error",32),i.qZA(),i.TgZ(12,"mat-form-field",57)(13,"mat-label"),i._uU(14,"Date de naissance"),i.qZA(),i._UZ(15,"input",60)(16,"mat-datepicker-toggle",30)(17,"mat-datepicker",null,61),i.YNc(19,Rr,3,2,"mat-error",32),i.qZA(),i.YNc(20,ws,2,0,"button",38),i.YNc(21,Po,2,0,"button",62),i.qZA(),i.YNc(22,ks,6,2,"mat-form-field",63),i.TgZ(23,"mat-form-field",46)(24,"mat-label"),i._uU(25,"Mobile"),i.qZA(),i.TgZ(26,"span",43),i._uU(27,"+213 \xa0"),i.qZA(),i._UZ(28,"input",44),i.YNc(29,Kr,2,1,"mat-error",32),i.YNc(30,es,2,0,"mat-error",32),i.qZA(),i.TgZ(31,"mat-form-field",46)(32,"mat-label"),i._uU(33,"Email"),i.qZA(),i._UZ(34,"input",45),i.YNc(35,Ml,2,1,"mat-error",32),i.YNc(36,Yo,2,0,"mat-error",32),i.qZA(),i.TgZ(37,"mat-form-field",46)(38,"mat-label"),i._uU(39,"Adresse"),i.qZA(),i._UZ(40,"input",47),i.YNc(41,Ul,2,1,"mat-error",32),i.qZA(),i.TgZ(42,"mat-form-field",46)(43,"mat-label"),i._uU(44,"Wilaya"),i.qZA(),i.TgZ(45,"mat-select",48),i.NdJ("selectionChange",function(G){i.CHM(N);const b=i.oxw(3);return i.KtG(b.getCommune(G.value,"Assure"))}),i.YNc(46,dl,3,2,"ng-container",18),i.qZA(),i.YNc(47,Ms,2,1,"mat-error",32),i.qZA(),i.TgZ(48,"mat-form-field",46)(49,"mat-label"),i._uU(50,"Commune"),i.qZA(),i.TgZ(51,"mat-select",49),i.YNc(52,Dn,3,2,"ng-container",18),i.qZA(),i.YNc(53,Kl,2,1,"mat-error",32),i.qZA(),i.TgZ(54,"mat-form-field",46)(55,"mat-label"),i._uU(56," Genre "),i.qZA(),i.TgZ(57,"mat-select",64),i.YNc(58,ns,3,2,"ng-container",18),i.qZA(),i.YNc(59,Ho,2,1,"mat-error",32),i.qZA(),i.TgZ(60,"mat-form-field",46)(61,"mat-label"),i._uU(62," Situation Familiale "),i.qZA(),i.TgZ(63,"mat-select",65),i.YNc(64,ma,3,2,"ng-container",18),i.qZA()(),i.TgZ(65,"mat-form-field",46)(66,"mat-label"),i._uU(67," Profession "),i.qZA(),i.TgZ(68,"mat-select",66),i.YNc(69,wo,3,2,"ng-container",18),i.qZA()()()}if(2&U){const N=i.MAs(18),q=i.oxw(3);i.xp6(5),i.Q6J("readonly",!0),i.xp6(1),i.Q6J("ngIf",q.formCreationAssure.controls.nom.errors),i.xp6(4),i.Q6J("readonly",!0),i.xp6(1),i.Q6J("ngIf",q.formCreationAssure.controls.prenom.errors),i.xp6(4),i.Q6J("max",q.now)("matDatepicker",N),i.xp6(1),i.Q6J("for",N),i.xp6(3),i.Q6J("ngIf",q.formCreationAssure.controls.dateNaissance.errors),i.xp6(1),i.Q6J("ngIf",""!=q.formCreationAssure.value.nom&&""!=q.formCreationAssure.value.prenom&&null!=q.formCreationAssure.value.dateNaissance),i.xp6(1),i.Q6J("ngIf",""==q.formCreationAssure.value.nom||""==q.formCreationAssure.value.prenom||null==q.formCreationAssure.value.dateNaissance),i.xp6(1),i.Q6J("ngIf","97"==q.codeProduit&&"personne physique"==q.typeClient),i.xp6(7),i.Q6J("ngIf",q.formCreationAssure.controls.telephone.errors),i.xp6(1),i.Q6J("ngIf",(null==q.formCreationAssure.controls.telephone.errors?null:q.formCreationAssure.controls.telephone.errors.pattern)||(null==q.formCreationAssure.controls.telephone.errors?null:q.formCreationAssure.controls.telephone.errors.maxlength)||(null==q.formCreationAssure.controls.telephone.errors?null:q.formCreationAssure.controls.telephone.errors.minlength)),i.xp6(5),i.Q6J("ngIf",q.formCreationAssure.controls.email.errors),i.xp6(1),i.Q6J("ngIf",(null==q.formCreationAssure.controls.email.errors?null:q.formCreationAssure.controls.email.errors.pattern)||(null==q.formCreationAssure.controls.email.errors?null:q.formCreationAssure.controls.email.errors.maxlength)||(null==q.formCreationAssure.controls.email.errors?null:q.formCreationAssure.controls.email.errors.minlength)),i.xp6(5),i.Q6J("ngIf",q.formCreationAssure.controls.adresse.errors),i.xp6(5),i.Q6J("ngForOf",q.wilayas),i.xp6(1),i.Q6J("ngIf",q.formCreationAssure.controls.wilaya.errors),i.xp6(5),i.Q6J("ngForOf",q.communes_assure),i.xp6(1),i.Q6J("ngIf",q.formCreationAssure.controls.commune.errors),i.xp6(5),i.Q6J("ngForOf",q.genres),i.xp6(1),i.Q6J("ngIf",q.formCreationAssure.controls.genre.errors),i.xp6(5),i.Q6J("ngForOf",q.situations),i.xp6(5),i.Q6J("ngForOf",q.professions)}}function is(U,Te){if(1&U&&(i.TgZ(0,"form",22)(1,"mat-expansion-panel",23)(2,"mat-expansion-panel-header")(3,"mat-panel-title"),i._uU(4),i.qZA()(),i.YNc(5,Rs,55,20,"div",35),i.YNc(6,Us,70,24,"div",35),i.qZA()()),2&U){const N=i.oxw(2);i.Q6J("formGroup",N.formCreationAssure),i.xp6(1),i.Q6J("expanded",!0),i.xp6(3),i.hij(" ","Informations de assur\xe9(e)"," "),i.xp6(1),i.Q6J("ngIf","personne morale"==(null==N.devis||null==N.devis.typeClient?null:N.devis.typeClient.description)),i.xp6(1),i.Q6J("ngIf","personne physique"==(null==N.devis||null==N.devis.typeClient?null:N.devis.typeClient.description))}}function _l(U,Te){if(1&U){const N=i.EpF();i.TgZ(0,"mat-checkbox",74),i.NdJ("change",function(G){i.CHM(N);const b=i.oxw(3);return i.KtG(b.changeRoleClient(G.checked,"Souscripteur"))}),i._uU(1,"Cette personne est-elle l'assur\xe9"),i.qZA()}}function Fs(U,Te){if(1&U&&(i.ynx(0),i.TgZ(1,"mat-option",33),i._uU(2),i.qZA(),i.BQk()),2&U){const N=Te.$implicit;i.xp6(1),i.Q6J("value",N),i.xp6(1),i.hij(" ",N.description," ")}}function Fl(U,Te){if(1&U){const N=i.EpF();i.TgZ(0,"mat-form-field",75)(1,"mat-label"),i._uU(2,"Type client "),i.qZA(),i.TgZ(3,"mat-select",76),i.NdJ("selectionChange",function(G){i.CHM(N);const b=i.oxw(3);return i.KtG(b.changeTypeClient(G.value))}),i.YNc(4,Fs,3,2,"ng-container",18),i.qZA()()}if(2&U){const N=i.oxw(3);i.xp6(4),i.Q6J("ngForOf",N.typeClients)}}function Qs(U,Te){1&U&&(i.TgZ(0,"div"),i._uU(1," ce champs est obligatoire"),i.qZA())}function Ql(U,Te){if(1&U&&(i.TgZ(0,"mat-error",34),i.YNc(1,Qs,2,0,"div",21),i.qZA()),2&U){const N=i.oxw(4);i.xp6(1),i.Q6J("ngIf",N.formCreationSouscripteur.controls.nom.errors.required)}}function pl(U,Te){1&U&&(i.TgZ(0,"div"),i._uU(1," ce champs est obligatoire"),i.qZA())}function Jl(U,Te){if(1&U&&(i.TgZ(0,"mat-error",34),i.YNc(1,pl,2,0,"div",21),i.qZA()),2&U){const N=i.oxw(4);i.xp6(1),i.Q6J("ngIf",N.formCreationSouscripteur.controls.prenom.errors.required)}}function Ce(U,Te){1&U&&(i.TgZ(0,"div"),i._uU(1," L'age du souscripteur doit etre sup\xe9rieur \xe0 18 ans"),i.qZA())}function mt(U,Te){1&U&&(i.TgZ(0,"div"),i._uU(1," L'age du souscripteur ne doit pas etre sup\xe9rieur \xe0 107 ans"),i.qZA())}function Pe(U,Te){1&U&&(i.TgZ(0,"div"),i._uU(1," ce champs est obligatoire"),i.qZA())}function _t(U,Te){if(1&U&&(i.TgZ(0,"mat-error",34),i.YNc(1,Ce,2,0,"div",21),i.YNc(2,mt,2,0,"div",21),i.YNc(3,Pe,2,0,"div",21),i.qZA()),2&U){const N=i.oxw(4);i.xp6(1),i.Q6J("ngIf",N.formCreationSouscripteur.controls.dateNaissance.errors.ageInf18),i.xp6(1),i.Q6J("ngIf",N.formCreationSouscripteur.controls.dateNaissance.errors.ageSup107),i.xp6(1),i.Q6J("ngIf",N.formCreationSouscripteur.controls.dateNaissance.errors.required)}}function yt(U,Te){if(1&U){const N=i.EpF();i.TgZ(0,"button",82),i.NdJ("mouseup",function(){i.CHM(N);const G=i.oxw(4);return i.KtG(G.recherchePersonne("souscripteur"))}),i._uU(1," Rechercher "),i.qZA()}}function rn(U,Te){if(1&U){const N=i.EpF();i.TgZ(0,"button",83),i.NdJ("mouseup",function(){i.CHM(N);const G=i.oxw(4);return i.KtG(G.recherchePersonne("souscripteur"))}),i._uU(1," Rechercher "),i.qZA()}}function eo(U,Te){if(1&U&&(i.TgZ(0,"div",36)(1,"mat-form-field",57)(2,"mat-label"),i._uU(3,"Nom"),i.qZA(),i._UZ(4,"input",77),i.YNc(5,Ql,2,1,"mat-error",32),i.qZA(),i.TgZ(6,"mat-form-field",57)(7,"mat-label"),i._uU(8,"Pr\xe9nom"),i.qZA(),i._UZ(9,"input",78),i.YNc(10,Jl,2,1,"mat-error",32),i.qZA(),i.TgZ(11,"mat-form-field",57)(12,"mat-label"),i._uU(13,"Date de naissance"),i.qZA(),i._UZ(14,"input",60)(15,"mat-datepicker-toggle",30)(16,"mat-datepicker",null,61),i.YNc(18,_t,4,3,"mat-error",32),i.qZA(),i.TgZ(19,"div",79),i.YNc(20,yt,2,0,"button",80),i.YNc(21,rn,2,0,"button",81),i.qZA()()),2&U){const N=i.MAs(17),q=i.oxw(3);i.xp6(5),i.Q6J("ngIf",q.formCreationSouscripteur.controls.nom.errors),i.xp6(5),i.Q6J("ngIf",q.formCreationSouscripteur.controls.prenom.errors),i.xp6(4),i.Q6J("max",q.now)("matDatepicker",N),i.xp6(1),i.Q6J("for",N),i.xp6(3),i.Q6J("ngIf",q.formCreationSouscripteur.controls.dateNaissance.errors),i.xp6(2),i.Q6J("ngIf",""!=q.formCreationSouscripteur.value.nom&&""!=q.formCreationSouscripteur.value.prenom&&null!=q.formCreationSouscripteur.value.dateNaissance),i.xp6(1),i.Q6J("ngIf",""==q.formCreationSouscripteur.value.nom||""==q.formCreationSouscripteur.value.prenom||null==q.formCreationSouscripteur.value.dateNaissance)}}function sr(U,Te){1&U&&(i.TgZ(0,"div"),i._uU(1," ce champs est obligatoire"),i.qZA())}function Dr(U,Te){if(1&U&&(i.TgZ(0,"mat-error",34),i.YNc(1,sr,2,0,"div",21),i.qZA()),2&U){const N=i.oxw(4);i.xp6(1),i.Q6J("ngIf",N.formCreationSouscripteur.controls.raisonSocial.errors.required)}}function wr(U,Te){if(1&U){const N=i.EpF();i.TgZ(0,"button",51),i.NdJ("mouseup",function(){i.CHM(N);const G=i.oxw(4);return i.KtG(G.recherchePersonne("assure"))}),i._uU(1," Rechercher "),i.qZA()}}function Or(U,Te){if(1&U){const N=i.EpF();i.TgZ(0,"button",52),i.NdJ("mouseup",function(){i.CHM(N);const G=i.oxw(4);return i.KtG(G.recherchePersonne("assure"))}),i._uU(1," Rechercher "),i.qZA()}}function pr(U,Te){if(1&U&&(i.TgZ(0,"div",36)(1,"mat-form-field",25)(2,"mat-label"),i._uU(3,"Raison social"),i.qZA(),i._UZ(4,"input",37),i.YNc(5,Dr,2,1,"mat-error",32),i.qZA(),i.YNc(6,wr,2,0,"button",38),i.YNc(7,Or,2,0,"button",39),i.qZA()),2&U){const N=i.oxw(3);i.xp6(4),i.Q6J("readonly",!1),i.xp6(1),i.Q6J("ngIf",N.formCreationSouscripteur.controls.raisonSocial.errors),i.xp6(1),i.Q6J("ngIf",""!=N.formCreationSouscripteur.value.raisonSocial),i.xp6(1),i.Q6J("ngIf",""==N.formCreationSouscripteur.value.raisonSocial)}}function Za(U,Te){1&U&&(i.TgZ(0,"mat-error",34),i._uU(1," ce champs n'est pas conforme "),i.qZA())}function os(U,Te){1&U&&(i.TgZ(0,"div"),i._uU(1," ce champs est obligatoire"),i.qZA())}function fl(U,Te){if(1&U&&(i.TgZ(0,"mat-error",34),i.YNc(1,os,2,0,"div",21),i.qZA()),2&U){const N=i.oxw(4);i.xp6(1),i.Q6J("ngIf",N.formCreationSouscripteur.controls.nif.errors.required)}}function Js(U,Te){1&U&&(i.TgZ(0,"mat-error",34),i._uU(1," ce champs n'est pas conforme "),i.qZA())}function qa(U,Te){if(1&U&&(i.TgZ(0,"mat-form-field",41)(1,"mat-label"),i._uU(2,"NIF"),i.qZA(),i._UZ(3,"input",42),i.YNc(4,fl,2,1,"mat-error",32),i.YNc(5,Js,2,0,"mat-error",32),i.qZA()),2&U){const N=i.oxw(3);i.xp6(4),i.Q6J("ngIf",N.formCreationSouscripteur.controls.nif.errors),i.xp6(1),i.Q6J("ngIf",(null==N.formCreationSouscripteur.controls.nif.errors?null:N.formCreationSouscripteur.controls.nif.errors.maxlength)||(null==N.formCreationSouscripteur.controls.nif.errors?null:N.formCreationSouscripteur.controls.nif.errors.minlength))}}function Ac(U,Te){1&U&&(i.TgZ(0,"mat-error",34),i._uU(1," ce champs n'est pas conforme "),i.qZA())}function Wo(U,Te){if(1&U&&(i.TgZ(0,"mat-form-field",67)(1,"mat-label"),i._uU(2,"NIN"),i.qZA(),i._UZ(3,"input",68),i.YNc(4,Ac,2,0,"mat-error",32),i.qZA()),2&U){const N=i.oxw(3);i.xp6(4),i.Q6J("ngIf",((null==N.formCreationSouscripteur.controls.nin.errors?null:N.formCreationSouscripteur.controls.nin.errors.pattern)||(null==N.formCreationSouscripteur.controls.nin.errors?null:N.formCreationSouscripteur.controls.nin.errors.maxlength)||(null==N.formCreationSouscripteur.controls.nin.errors?null:N.formCreationSouscripteur.controls.nin.errors.minlength))&&"personne morale"==(null==N.devis||null==N.devis.typeClient?null:N.devis.typeClient.description))}}function qt(U,Te){1&U&&(i.TgZ(0,"div"),i._uU(1," ce champs est obligatoire"),i.qZA())}function an(U,Te){if(1&U&&(i.TgZ(0,"mat-error",34),i.YNc(1,qt,2,0,"div",21),i.qZA()),2&U){const N=i.oxw(3);i.xp6(1),i.Q6J("ngIf",N.formCreationSouscripteur.controls.telephone.errors.required)}}function Gt(U,Te){1&U&&(i.TgZ(0,"mat-error",34),i._uU(1," ce champs n'est pas conforme "),i.qZA())}function Wn(U,Te){1&U&&(i.TgZ(0,"div"),i._uU(1," ce champs est obligatoire"),i.qZA())}function Qi(U,Te){if(1&U&&(i.TgZ(0,"mat-error",34),i.YNc(1,Wn,2,0,"div",21),i.qZA()),2&U){const N=i.oxw(3);i.xp6(1),i.Q6J("ngIf",N.formCreationSouscripteur.controls.email.errors.required)}}function xo(U,Te){1&U&&(i.TgZ(0,"mat-error",34),i._uU(1," ce champs n'est pas conforme "),i.qZA())}function lr(U,Te){1&U&&(i.TgZ(0,"div"),i._uU(1," ce champs est obligatoire"),i.qZA())}function ue(U,Te){if(1&U&&(i.TgZ(0,"mat-error",34),i.YNc(1,lr,2,0,"div",21),i.qZA()),2&U){const N=i.oxw(3);i.xp6(1),i.Q6J("ngIf",N.formCreationSouscripteur.controls.adresse.errors.required)}}function je(U,Te){if(1&U&&(i.ynx(0),i.TgZ(1,"mat-option",33),i._uU(2),i.qZA(),i.BQk()),2&U){const N=Te.$implicit;i.xp6(1),i.Q6J("value",N.idWilaya),i.xp6(1),i.hij(" ",N.description," ")}}function z(U,Te){1&U&&(i.TgZ(0,"div"),i._uU(1," ce champs est obligatoire"),i.qZA())}function ge(U,Te){if(1&U&&(i.TgZ(0,"mat-error",34),i.YNc(1,z,2,0,"div",21),i.qZA()),2&U){const N=i.oxw(3);i.xp6(1),i.Q6J("ngIf",N.formCreationSouscripteur.controls.wilaya.errors.required)}}function we(U,Te){if(1&U&&(i.ynx(0),i.TgZ(1,"mat-option",33),i._uU(2),i.qZA(),i.BQk()),2&U){const N=Te.$implicit;i.xp6(1),i.Q6J("value",N.idCommune),i.xp6(1),i.hij(" ",N.description," ")}}function wt(U,Te){1&U&&(i.TgZ(0,"div"),i._uU(1," ce champs est obligatoire"),i.qZA())}function st(U,Te){if(1&U&&(i.TgZ(0,"mat-error",34),i.YNc(1,wt,2,0,"div",21),i.qZA()),2&U){const N=i.oxw(3);i.xp6(1),i.Q6J("ngIf",N.formCreationSouscripteur.controls.commune.errors.required)}}function Tn(U,Te){if(1&U&&(i.ynx(0),i.TgZ(1,"mat-option",33),i._uU(2),i.qZA(),i.BQk()),2&U){const N=Te.$implicit;i.xp6(1),i.Q6J("value",N.idParam),i.xp6(1),i.Oqu(N.description)}}function Qo(U,Te){1&U&&(i.TgZ(0,"div"),i._uU(1," ce champs est obligatoire"),i.qZA())}function li(U,Te){if(1&U&&(i.TgZ(0,"mat-error",34),i.YNc(1,Qo,2,0,"div",21),i.qZA()),2&U){const N=i.oxw(4);i.xp6(1),i.Q6J("ngIf",N.formCreationSouscripteur.controls.genre.errors.required)}}function To(U,Te){if(1&U&&(i.TgZ(0,"mat-form-field",46)(1,"mat-label"),i._uU(2," Genre "),i.qZA(),i.TgZ(3,"mat-select",64),i.YNc(4,Tn,3,2,"ng-container",18),i.qZA(),i.YNc(5,li,2,1,"mat-error",32),i.qZA()),2&U){const N=i.oxw(3);i.xp6(4),i.Q6J("ngForOf",N.genres),i.xp6(1),i.Q6J("ngIf",N.formCreationSouscripteur.controls.genre.errors)}}function Mo(U,Te){if(1&U&&(i.ynx(0),i.TgZ(1,"mat-option",33),i._uU(2),i.qZA(),i.BQk()),2&U){const N=Te.$implicit;i.xp6(1),i.Q6J("value",N.idParam),i.xp6(1),i.Oqu(N.description)}}function Zo(U,Te){if(1&U&&(i.TgZ(0,"mat-form-field",46)(1,"mat-label"),i._uU(2," Situation Familiale "),i.qZA(),i.TgZ(3,"mat-select",65),i.YNc(4,Mo,3,2,"ng-container",18),i.qZA()()),2&U){const N=i.oxw(3);i.xp6(4),i.Q6J("ngForOf",N.situations)}}function Wl(U,Te){if(1&U&&(i.ynx(0),i.TgZ(1,"mat-option",33),i._uU(2),i.qZA(),i.BQk()),2&U){const N=Te.$implicit;i.xp6(1),i.Q6J("value",N.idProfession),i.xp6(1),i.Oqu(N.description)}}function eu(U,Te){if(1&U&&(i.TgZ(0,"mat-form-field",46)(1,"mat-label"),i._uU(2," Profession "),i.qZA(),i.TgZ(3,"mat-select",66),i.YNc(4,Wl,3,2,"ng-container",18),i.qZA()()),2&U){const N=i.oxw(3);i.xp6(4),i.Q6J("ngForOf",N.professions)}}function Tc(U,Te){if(1&U){const N=i.EpF();i.TgZ(0,"form",22)(1,"mat-expansion-panel",23)(2,"mat-expansion-panel-header")(3,"mat-panel-title"),i._uU(4),i.qZA()(),i.TgZ(5,"div",24),i.YNc(6,_l,2,0,"mat-checkbox",69),i.TgZ(7,"div",70),i.YNc(8,Fl,5,1,"mat-form-field",71),i.YNc(9,eo,22,8,"div",72),i.YNc(10,pr,8,4,"div",72),i.qZA(),i.TgZ(11,"div",24)(12,"mat-form-field",25)(13,"mat-label"),i._uU(14,"N\xb0 RIB"),i.qZA(),i._UZ(15,"input",40),i.YNc(16,Za,2,0,"mat-error",32),i.qZA(),i.YNc(17,qa,6,2,"mat-form-field",73),i.qZA(),i.YNc(18,Wo,5,1,"mat-form-field",63),i.TgZ(19,"mat-form-field",46)(20,"mat-label"),i._uU(21,"Mobile"),i.qZA(),i.TgZ(22,"span",43),i._uU(23,"+213 \xa0"),i.qZA(),i._UZ(24,"input",44),i.YNc(25,an,2,1,"mat-error",32),i.YNc(26,Gt,2,0,"mat-error",32),i.qZA(),i.TgZ(27,"mat-form-field",46)(28,"mat-label"),i._uU(29,"Email"),i.qZA(),i._UZ(30,"input",45),i.YNc(31,Qi,2,1,"mat-error",32),i.YNc(32,xo,2,0,"mat-error",32),i.qZA(),i.TgZ(33,"mat-form-field",46)(34,"mat-label"),i._uU(35,"Adresse"),i.qZA(),i._UZ(36,"input",47),i.YNc(37,ue,2,1,"mat-error",32),i.qZA(),i.TgZ(38,"mat-form-field",46)(39,"mat-label"),i._uU(40,"Wilaya"),i.qZA(),i.TgZ(41,"mat-select",48),i.NdJ("selectionChange",function(G){i.CHM(N);const b=i.oxw(2);return i.KtG(b.getCommune(G.value,"Souscripteur"))}),i.YNc(42,je,3,2,"ng-container",18),i.qZA(),i.YNc(43,ge,2,1,"mat-error",32),i.qZA(),i.TgZ(44,"mat-form-field",46)(45,"mat-label"),i._uU(46,"Commune"),i.qZA(),i.TgZ(47,"mat-select",49),i.YNc(48,we,3,2,"ng-container",18),i.qZA(),i.YNc(49,st,2,1,"mat-error",32),i.qZA(),i.YNc(50,To,6,2,"mat-form-field",50),i.YNc(51,Zo,5,1,"mat-form-field",50),i.YNc(52,eu,5,1,"mat-form-field",50),i.qZA()()()}if(2&U){const N=i.oxw(2);i.Q6J("formGroup",N.formCreationSouscripteur),i.xp6(1),i.Q6J("expanded",!0),i.xp6(3),i.hij(" ","Informations souscripteur"," "),i.xp6(2),i.Q6J("ngIf","personne physique"==(null==N.devis||null==N.devis.typeClient?null:N.devis.typeClient.description)&&"97"!=N.codeProduit||"97"==N.codeProduit),i.xp6(2),i.Q6J("ngIf","97"==N.codeProduit),i.xp6(1),i.Q6J("ngIf","97"==N.codeProduit&&"personne physique"==N.typeClientSous||"97"!=N.codeProduit),i.xp6(1),i.Q6J("ngIf","97"==N.codeProduit&&"personne morale"==N.typeClientSous),i.xp6(6),i.Q6J("ngIf",(null==N.formCreationSouscripteur.controls.rib.errors?null:N.formCreationSouscripteur.controls.rib.errors.pattern)||(null==N.formCreationSouscripteur.controls.rib.errors?null:N.formCreationSouscripteur.controls.rib.errors.maxlength)||(null==N.formCreationAssure.controls.rib.errors?null:N.formCreationAssure.controls.rib.errors.minlength)),i.xp6(1),i.Q6J("ngIf","97"==N.codeProduit&&"personne morale"==N.typeClientSous),i.xp6(1),i.Q6J("ngIf","97"==N.codeProduit&&"personne physique"==N.typeClientSous),i.xp6(7),i.Q6J("ngIf",N.formCreationSouscripteur.controls.telephone.errors),i.xp6(1),i.Q6J("ngIf",(null==N.formCreationSouscripteur.controls.telephone.errors?null:N.formCreationSouscripteur.controls.telephone.errors.pattern)||(null==N.formCreationSouscripteur.controls.telephone.errors?null:N.formCreationSouscripteur.controls.telephone.errors.maxlength)||(null==N.formCreationSouscripteur.controls.telephone.errors?null:N.formCreationSouscripteur.controls.telephone.errors.minlength)),i.xp6(5),i.Q6J("ngIf",N.formCreationSouscripteur.controls.email.errors),i.xp6(1),i.Q6J("ngIf",(null==N.formCreationSouscripteur.controls.email.errors?null:N.formCreationSouscripteur.controls.email.errors.pattern)||(null==N.formCreationSouscripteur.controls.email.errors?null:N.formCreationSouscripteur.controls.email.errors.maxlength)||(null==N.formCreationSouscripteur.controls.email.errors?null:N.formCreationSouscripteur.controls.email.errors.minlength)),i.xp6(5),i.Q6J("ngIf",N.formCreationSouscripteur.controls.adresse.errors),i.xp6(5),i.Q6J("ngForOf",N.wilayas),i.xp6(1),i.Q6J("ngIf",N.formCreationSouscripteur.controls.wilaya.errors),i.xp6(5),i.Q6J("ngForOf",N.communes_sous),i.xp6(1),i.Q6J("ngIf",N.formCreationSouscripteur.controls.commune.errors),i.xp6(1),i.Q6J("ngIf","personne physique"==N.typeClientSous),i.xp6(1),i.Q6J("ngIf","personne physique"==N.typeClientSous),i.xp6(1),i.Q6J("ngIf","personne physique"==N.typeClientSous)}}function Uo(U,Te){1&U&&i._uU(0,"Informations du risque")}function Ls(U,Te){if(1&U){const N=i.EpF();i.TgZ(0,"mat-checkbox",94),i.NdJ("change",function(G){i.CHM(N);const b=i.oxw(7);return i.KtG(b.changeRoleClient(G.checked,"ConducteurAssure"))}),i._uU(1,"Cette personne est-elle l'assur\xe9"),i.qZA()}if(2&U){const N=i.oxw(7);i.Q6J("checked",N.isConducteurAssure)}}function sc(U,Te){1&U&&(i.TgZ(0,"div"),i._uU(1," ce champs est obligatoire"),i.qZA())}function Yc(U,Te){if(1&U&&(i.TgZ(0,"mat-error",34),i.YNc(1,sc,2,0,"div",21),i.qZA()),2&U){const N=i.oxw(7);i.xp6(1),i.Q6J("ngIf",N.formCreationConducteur.controls.nom.errors.required)}}function Go(U,Te){1&U&&(i.TgZ(0,"div"),i._uU(1," ce champs est obligatoire"),i.qZA())}function yi(U,Te){if(1&U&&(i.TgZ(0,"mat-error",34),i.YNc(1,Go,2,0,"div",21),i.qZA()),2&U){const N=i.oxw(7);i.xp6(1),i.Q6J("ngIf",N.formCreationConducteur.controls.prenom.errors.required)}}function Wr(U,Te){1&U&&(i.TgZ(0,"div"),i._uU(1," L'age du souscripteur doit etre sup\xe9rieur \xe0 18 ans"),i.qZA())}function Li(U,Te){1&U&&(i.TgZ(0,"div"),i._uU(1," ce champs est obligatoire"),i.qZA())}function so(U,Te){if(1&U&&(i.TgZ(0,"mat-error",34),i.YNc(1,Wr,2,0,"div",21),i.YNc(2,Li,2,0,"div",21),i.qZA()),2&U){const N=i.oxw(2).$implicit,q=i.oxw(7);let G,b;i.xp6(1),i.Q6J("ngIf",null==(G=q.formCreationConducteur.get(N.formName))||null==G.errors?null:G.errors.ageInf18),i.xp6(1),i.Q6J("ngIf",null==(b=q.formCreationConducteur.get(N.formName))||null==b.errors?null:b.errors.required)}}function Ll(U,Te){if(1&U&&(i.TgZ(0,"mat-form-field",57)(1,"mat-label"),i._uU(2,"Date de naissance"),i.qZA(),i._UZ(3,"input",96)(4,"mat-datepicker-toggle",30)(5,"mat-datepicker",null,61),i.YNc(7,so,3,2,"mat-error",32),i.qZA()),2&U){const N=i.MAs(6),q=i.oxw().$implicit,G=i.oxw(7);let b;i.xp6(3),i.s9C("formControlName",q.formName),i.Q6J("max",G.now)("matDatepicker",N)("disabled",!0),i.xp6(1),i.Q6J("for",N),i.xp6(3),i.Q6J("ngIf",null==(b=G.formCreationConducteur.get(q.formName))?null:b.errors)}}function kr(U,Te){if(1&U&&(i.ynx(0),i.YNc(1,Ll,8,6,"mat-form-field",95),i.BQk()),2&U){const N=Te.$implicit,q=i.oxw(7);i.xp6(1),i.Q6J("ngIf","DateDeNaissance"==N.formName&&null!=q.formCreationConducteur.get(N.formName))}}function Sa(U,Te){if(1&U){const N=i.EpF();i.TgZ(0,"button",51),i.NdJ("mouseup",function(){i.CHM(N);const G=i.oxw(7);return i.KtG(G.recherchePersonne("Conducteur"))}),i._uU(1," Rechercher "),i.qZA()}}function Bo(U,Te){if(1&U){const N=i.EpF();i.TgZ(0,"button",52),i.NdJ("mouseup",function(){i.CHM(N);const G=i.oxw(7);return i.KtG(G.recherchePersonne("Conducteur"))}),i._uU(1," Rechercher "),i.qZA()}}function Oo(U,Te){1&U&&(i.TgZ(0,"div"),i._uU(1," ce champs est obligatoire"),i.qZA())}function da(U,Te){if(1&U&&(i.TgZ(0,"mat-error",34),i.YNc(1,Oo,2,0,"div",21),i.qZA()),2&U){const N=i.oxw(7);i.xp6(1),i.Q6J("ngIf",N.formCreationConducteur.controls.telephone.errors.required)}}function Ni(U,Te){1&U&&(i.TgZ(0,"mat-error",34),i._uU(1," ce champs n'est pas conforme "),i.qZA())}function Bi(U,Te){1&U&&(i.TgZ(0,"div"),i._uU(1," ce champs est obligatoire"),i.qZA())}function Cr(U,Te){if(1&U&&(i.TgZ(0,"mat-error",34),i.YNc(1,Bi,2,0,"div",21),i.qZA()),2&U){const N=i.oxw(7);i.xp6(1),i.Q6J("ngIf",N.formCreationConducteur.controls.email.errors.required)}}function tu(U,Te){1&U&&(i.TgZ(0,"mat-error",34),i._uU(1," ce champs n'est pas conforme "),i.qZA())}function Gc(U,Te){1&U&&(i.TgZ(0,"div"),i._uU(1," ce champs est obligatoire"),i.qZA())}function bc(U,Te){if(1&U&&(i.TgZ(0,"mat-error",34),i.YNc(1,Gc,2,0,"div",21),i.qZA()),2&U){const N=i.oxw(7);i.xp6(1),i.Q6J("ngIf",N.formCreationConducteur.controls.adresse.errors.required)}}function yu(U,Te){if(1&U&&(i.ynx(0),i.TgZ(1,"mat-option",33),i._uU(2),i.qZA(),i.BQk()),2&U){const N=Te.$implicit;i.xp6(1),i.Q6J("value",N.idWilaya),i.xp6(1),i.hij(" ",N.description," ")}}function xr(U,Te){1&U&&(i.TgZ(0,"div"),i._uU(1," ce champs est obligatoire"),i.qZA())}function Mr(U,Te){if(1&U&&(i.TgZ(0,"mat-error",34),i.YNc(1,xr,2,0,"div",21),i.qZA()),2&U){const N=i.oxw(7);i.xp6(1),i.Q6J("ngIf",N.formCreationConducteur.controls.wilaya.errors.required)}}function _a(U,Te){if(1&U&&(i.ynx(0),i.TgZ(1,"mat-option",33),i._uU(2),i.qZA(),i.BQk()),2&U){const N=Te.$implicit;i.xp6(1),i.Q6J("value",N.idCommune),i.xp6(1),i.hij(" ",N.description," ")}}function gl(U,Te){1&U&&(i.TgZ(0,"div"),i._uU(1," ce champs est obligatoire"),i.qZA())}function se(U,Te){if(1&U&&(i.TgZ(0,"mat-error",34),i.YNc(1,gl,2,0,"div",21),i.qZA()),2&U){const N=i.oxw(7);i.xp6(1),i.Q6J("ngIf",N.formCreationConducteur.controls.commune.errors.required)}}function He(U,Te){if(1&U&&(i.ynx(0),i.TgZ(1,"mat-option",33),i._uU(2),i.qZA(),i.BQk()),2&U){const N=Te.$implicit;i.xp6(1),i.Q6J("value",N.idParam),i.xp6(1),i.Oqu(N.description)}}function Y(U,Te){if(1&U&&(i.ynx(0),i.TgZ(1,"mat-option",33),i._uU(2),i.qZA(),i.BQk()),2&U){const N=Te.$implicit;i.xp6(1),i.Q6J("value",N.idProfession),i.xp6(1),i.Oqu(N.description)}}function Ee(U,Te){1&U&&(i.TgZ(0,"div"),i._uU(1," ce champs est obligatoire"),i.qZA())}function Ye(U,Te){if(1&U&&(i.TgZ(0,"mat-error",34),i.YNc(1,Ee,2,0,"div",21),i.qZA()),2&U){const N=i.oxw(7);i.xp6(1),i.Q6J("ngIf",N.formCreationConducteur.controls.profession.errors.required)}}function Ct(U,Te){1&U&&(i.TgZ(0,"div"),i._uU(1," ce champs est obligatoire"),i.qZA())}function sn(U,Te){if(1&U&&(i.TgZ(0,"mat-error",34),i.YNc(1,Ct,2,0,"div",21),i.qZA()),2&U){const N=i.oxw(7);i.xp6(1),i.Q6J("ngIf",N.formCreationConducteur.controls.numeroPermis.errors.required)}}function Pn(U,Te){if(1&U&&(i.ynx(0),i.TgZ(1,"mat-option",33),i._uU(2),i.qZA(),i.BQk()),2&U){const N=Te.$implicit;i.xp6(1),i.Q6J("value",N),i.xp6(1),i.Oqu(N)}}function fn(U,Te){1&U&&(i.TgZ(0,"div"),i._uU(1," ce champs est obligatoire"),i.qZA())}function ui(U,Te){if(1&U&&(i.TgZ(0,"mat-error",34),i.YNc(1,fn,2,0,"div",21),i.qZA()),2&U){const N=i.oxw(7);i.xp6(1),i.Q6J("ngIf",N.formCreationConducteur.controls.categoriePermis.errors.required)}}function bi(U,Te){if(1&U){const N=i.EpF();i.ynx(0),i.TgZ(1,"mat-checkbox",90),i.NdJ("change",function(G){i.CHM(N);const b=i.oxw(6);return i.KtG(b.changeRoleClient(G.checked,"Conducteur"))}),i._uU(2,"Cette personne est-elle le souscripteur"),i.qZA(),i.YNc(3,Ls,2,1,"mat-checkbox",91),i.TgZ(4,"div",36)(5,"mat-form-field",57)(6,"mat-label"),i._uU(7,"Nom"),i.qZA(),i._UZ(8,"input",77),i.YNc(9,Yc,2,1,"mat-error",32),i.qZA(),i.TgZ(10,"mat-form-field",57)(11,"mat-label"),i._uU(12,"Pr\xe9nom"),i.qZA(),i._UZ(13,"input",78),i.YNc(14,yi,2,1,"mat-error",32),i.qZA(),i.YNc(15,kr,2,1,"ng-container",18),i.YNc(16,Sa,2,0,"button",38),i.YNc(17,Bo,2,0,"button",62),i.qZA(),i.TgZ(18,"mat-form-field",75)(19,"mat-label"),i._uU(20,"Mobile"),i.qZA(),i.TgZ(21,"span",43),i._uU(22,"+213 \xa0"),i.qZA(),i._UZ(23,"input",44),i.YNc(24,da,2,1,"mat-error",32),i.YNc(25,Ni,2,0,"mat-error",32),i.qZA(),i.TgZ(26,"mat-form-field",75)(27,"mat-label"),i._uU(28,"Email"),i.qZA(),i._UZ(29,"input",45),i.YNc(30,Cr,2,1,"mat-error",32),i.YNc(31,tu,2,0,"mat-error",32),i.qZA(),i.TgZ(32,"mat-form-field",75)(33,"mat-label"),i._uU(34,"Adresse"),i.qZA(),i._UZ(35,"input",47),i.YNc(36,bc,2,1,"mat-error",32),i.qZA(),i.TgZ(37,"mat-form-field",75)(38,"mat-label"),i._uU(39,"Wilaya"),i.qZA(),i.TgZ(40,"mat-select",48),i.NdJ("selectionChange",function(G){i.CHM(N);const b=i.oxw(6);return i.KtG(b.getCommune(G.value,"Conducteur"))}),i.YNc(41,yu,3,2,"ng-container",18),i.qZA(),i.YNc(42,Mr,2,1,"mat-error",32),i.qZA(),i.TgZ(43,"mat-form-field",75)(44,"mat-label"),i._uU(45,"Commune"),i.qZA(),i.TgZ(46,"mat-select",49),i.YNc(47,_a,3,2,"ng-container",18),i.qZA(),i.YNc(48,se,2,1,"mat-error",32),i.qZA(),i.TgZ(49,"mat-form-field",75)(50,"mat-label"),i._uU(51," Situation Familiale "),i.qZA(),i.TgZ(52,"mat-select",65),i.YNc(53,He,3,2,"ng-container",18),i.qZA()(),i.TgZ(54,"mat-form-field",75)(55,"mat-label"),i._uU(56," Profession "),i.qZA(),i.TgZ(57,"mat-select",66),i.YNc(58,Y,3,2,"ng-container",18),i.qZA(),i.YNc(59,Ye,2,1,"mat-error",32),i.qZA(),i.TgZ(60,"mat-form-field",75)(61,"mat-label"),i._uU(62,"Numero Permis"),i.qZA(),i._UZ(63,"input",92),i.YNc(64,sn,2,1,"mat-error",32),i.qZA(),i.TgZ(65,"mat-form-field",75)(66,"mat-label"),i._uU(67," Cat\xe9gorie Permis "),i.qZA(),i.TgZ(68,"mat-select",93),i.YNc(69,Pn,3,2,"ng-container",18),i.qZA(),i.YNc(70,ui,2,1,"mat-error",32),i.qZA(),i.BQk()}if(2&U){const N=i.oxw(2).$implicit,q=i.oxw(4);i.xp6(1),i.Q6J("checked",q.isConducteur),i.xp6(2),i.Q6J("ngIf","personne physique"==(null==q.devis||null==q.devis.typeClient?null:q.devis.typeClient.description)),i.xp6(6),i.Q6J("ngIf",q.formCreationConducteur.controls.nom.errors),i.xp6(5),i.Q6J("ngIf",q.formCreationConducteur.controls.prenom.errors),i.xp6(1),i.Q6J("ngForOf",N),i.xp6(1),i.Q6J("ngIf",null!=q.formCreationConducteur.get("nom").value&&null!=q.formCreationConducteur.get("prenom").value&&null!=q.formCreationConducteur.get("DateDeNaissance").value),i.xp6(1),i.Q6J("ngIf",null==q.formCreationConducteur.get("nom").value||null==q.formCreationConducteur.get("prenom").value||null==q.formCreationConducteur.get("DateDeNaissance").value),i.xp6(7),i.Q6J("ngIf",q.formCreationConducteur.controls.telephone.errors),i.xp6(1),i.Q6J("ngIf",(null==q.formCreationConducteur.controls.telephone.errors?null:q.formCreationConducteur.controls.telephone.errors.pattern)||(null==q.formCreationConducteur.controls.telephone.errors?null:q.formCreationConducteur.controls.telephone.errors.maxlength)||(null==q.formCreationConducteur.controls.telephone.errors?null:q.formCreationConducteur.controls.telephone.errors.minlength)),i.xp6(5),i.Q6J("ngIf",q.formCreationConducteur.controls.email.errors),i.xp6(1),i.Q6J("ngIf",(null==q.formCreationConducteur.controls.email.errors?null:q.formCreationConducteur.controls.email.errors.pattern)||(null==q.formCreationConducteur.controls.email.errors?null:q.formCreationConducteur.controls.email.errors.maxlength)||(null==q.formCreationConducteur.controls.email.errors?null:q.formCreationConducteur.controls.email.errors.minlength)),i.xp6(5),i.Q6J("ngIf",q.formCreationConducteur.controls.adresse.errors),i.xp6(5),i.Q6J("ngForOf",q.wilayas),i.xp6(1),i.Q6J("ngIf",q.formCreationConducteur.controls.wilaya.errors),i.xp6(5),i.Q6J("ngForOf",q.communes_cond),i.xp6(1),i.Q6J("ngIf",q.formCreationConducteur.controls.commune.errors),i.xp6(5),i.Q6J("ngForOf",q.situations),i.xp6(5),i.Q6J("ngForOf",q.professions),i.xp6(1),i.Q6J("ngIf",q.formCreationConducteur.controls.profession.errors),i.xp6(5),i.Q6J("ngIf",q.formCreationConducteur.controls.numeroPermis.errors),i.xp6(5),i.Q6J("ngForOf",q.categories),i.xp6(1),i.Q6J("ngIf",q.formCreationConducteur.controls.categoriePermis.errors)}}function to(U,Te){if(1&U&&(i.ynx(0),i.TgZ(1,"mat-option",33),i._uU(2),i.qZA(),i.BQk()),2&U){const N=Te.$implicit;i.xp6(1),i.Q6J("value",N.idParam),i.xp6(1),i.hij(" ",N.description," ")}}function fo(U,Te){1&U&&(i.TgZ(0,"mat-error",34),i._uU(1," ce champs est obligatoire "),i.qZA())}function Xo(U,Te){if(1&U&&(i.TgZ(0,"mat-error",34),i._uU(1),i.qZA()),2&U){const N=i.oxw(2).$implicit,q=i.oxw(6);let G;i.xp6(1),i.hij(" ",null==(G=q.formCreationConducteur.get(N.formName))||null==G.errors?null:G.errors.msg," ")}}function Ur(U,Te){1&U&&(i.TgZ(0,"mat-error",34),i._uU(1," ce champs est obligatoire "),i.qZA())}function fi(U,Te){if(1&U&&(i.TgZ(0,"mat-error",34),i._uU(1),i.qZA()),2&U){const N=i.oxw(2).$implicit,q=i.oxw(6);let G;i.xp6(1),i.hij(" ",null==(G=q.formCreationRisque.get(N.formName))||null==G.errors?null:G.errors.msg," ")}}function Ki(U,Te){if(1&U&&(i.TgZ(0,"mat-form-field",75)(1,"mat-label"),i._uU(2),i.qZA(),i.TgZ(3,"mat-select",98),i.YNc(4,to,3,2,"ng-container",18),i.qZA(),i.YNc(5,fo,2,0,"mat-error",32),i.YNc(6,Xo,2,1,"mat-error",32),i.YNc(7,Ur,2,0,"mat-error",32),i.YNc(8,fi,2,1,"mat-error",32),i.qZA()),2&U){const N=i.oxw().$implicit,q=i.oxw(6);let G,b,te,_e;i.xp6(2),i.hij("",N.libelle," "),i.xp6(1),i.s9C("formControlName",N.formName),i.Q6J("disabled",N.readonly),i.xp6(1),i.Q6J("ngForOf",N.reponses),i.xp6(1),i.Q6J("ngIf",q.formCreationConducteur&&(null==(G=q.formCreationConducteur.get(N.formName))||null==G.errors?null:G.errors.required)),i.xp6(1),i.Q6J("ngIf",q.formCreationConducteur&&(null==(b=q.formCreationConducteur.get(N.formName))||null==b.errors?null:b.errors.bloquant)),i.xp6(1),i.Q6J("ngIf",null==(te=q.formCreationRisque.get(N.formName))||null==te.errors?null:te.errors.required),i.xp6(1),i.Q6J("ngIf",null==(_e=q.formCreationRisque.get(N.formName))||null==_e.errors?null:_e.errors.bloquant)}}function br(U,Te){1&U&&(i.TgZ(0,"mat-error",34),i._uU(1," ce champs est obligatoire "),i.qZA())}function De(U,Te){1&U&&(i.TgZ(0,"mat-error",34),i._uU(1," ce champs n'est pas conforme "),i.qZA())}function lc(U,Te){if(1&U&&(i.TgZ(0,"mat-error",34),i._uU(1),i.qZA()),2&U){const N=i.oxw(2).$implicit,q=i.oxw(6);let G;i.xp6(1),i.hij(" ",null==(G=q.formCreationRisque.get(N.formName))||null==G.errors?null:G.errors.msg," ")}}function Bc(U,Te){1&U&&(i.TgZ(0,"mat-error",34),i._uU(1," ce champs n'est pas conforme "),i.qZA())}function ya(U,Te){if(1&U&&(i.TgZ(0,"mat-error",34),i._uU(1),i.qZA()),2&U){const N=i.oxw(3).$implicit,q=i.oxw(6);let G;i.xp6(1),i.hij(" ",null==(G=q.formCreationConducteur.get(N.formName))||null==G.errors?null:G.errors.msg," ")}}function Co(U,Te){if(1&U&&(i.ynx(0),i.YNc(1,Bc,2,0,"mat-error",32),i.YNc(2,ya,2,1,"mat-error",32),i.BQk()),2&U){const N=i.oxw(2).$implicit,q=i.oxw(6);let G,b;i.xp6(1),i.Q6J("ngIf",(null==(G=q.formCreationConducteur.get(N.formName))||null==G.errors?null:G.errors.pattern)||(null==(G=q.formCreationConducteur.get(N.formName))||null==G.errors?null:G.errors.maxlength)||(null==(G=q.formCreationConducteur.get(N.formName))||null==G.errors?null:G.errors.minlength)),i.xp6(1),i.Q6J("ngIf",null==(b=q.formCreationConducteur.get(N.formName))||null==b.errors?null:b.errors.bloquant)}}function om(U,Te){if(1&U&&(i.TgZ(0,"mat-form-field",75)(1,"mat-label"),i._uU(2),i.qZA(),i._UZ(3,"input",99),i.YNc(4,br,2,0,"mat-error",32),i.YNc(5,De,2,0,"mat-error",32),i.YNc(6,lc,2,1,"mat-error",32),i.YNc(7,Co,3,2,"ng-container",21),i.qZA()),2&U){const N=i.oxw().$implicit,q=i.oxw(2),G=q.$implicit,b=q.index,te=i.oxw(4);let _e,ye,Ke;i.xp6(2),i.Oqu(N.libelle),i.xp6(1),i.s9C("formControlName",N.formName),i.Q6J("disabled",N.readonly),i.xp6(1),i.Q6J("ngIf",null==(_e=te.formCreationRisque.get(N.formName))||null==_e.errors?null:_e.errors.required),i.xp6(1),i.Q6J("ngIf",(null==(ye=te.formCreationRisque.get(N.formName))||null==ye.errors?null:ye.errors.pattern)||(null==(ye=te.formCreationRisque.get(N.formName))||null==ye.errors?null:ye.errors.maxlength)||(null==(ye=te.formCreationRisque.get(N.formName))||null==ye.errors?null:ye.errors.minlength)),i.xp6(1),i.Q6J("ngIf",null==(Ke=te.formCreationRisque.get(N.formName))||null==Ke.errors?null:Ke.errors.bloquant),i.xp6(1),i.Q6J("ngIf","Conducteur"==G[b].category)}}function nu(U,Te){1&U&&(i.TgZ(0,"mat-error",34),i._uU(1," ce champs est obligatoire "),i.qZA())}function xa(U,Te){1&U&&(i.TgZ(0,"mat-error",34),i._uU(1," ce champs n'est pas conforme "),i.qZA())}function Ys(U,Te){if(1&U&&(i.TgZ(0,"mat-error",34),i._uU(1),i.qZA()),2&U){const N=i.oxw(2).$implicit,q=i.oxw(6);let G;i.xp6(1),i.hij(" ",null==(G=q.formCreationRisque.get(N.formName))||null==G.errors?null:G.errors.msg," ")}}function Nu(U,Te){1&U&&(i.TgZ(0,"mat-error",34),i._uU(1," ce champs n'est pas conforme "),i.qZA())}function Pc(U,Te){if(1&U&&(i.TgZ(0,"mat-error",34),i._uU(1),i.qZA()),2&U){const N=i.oxw(3).$implicit,q=i.oxw(6);let G;i.xp6(1),i.hij(" ",null==(G=q.formCreationConducteur.get(N.formName))||null==G.errors?null:G.errors.msg," ")}}function Iu(U,Te){if(1&U&&(i.ynx(0),i.YNc(1,Nu,2,0,"mat-error",32),i.YNc(2,Pc,2,1,"mat-error",32),i.BQk()),2&U){const N=i.oxw(2).$implicit,q=i.oxw(6);let G,b;i.xp6(1),i.Q6J("ngIf",(null==(G=q.formCreationConducteur.get(N.formName))||null==G.errors?null:G.errors.pattern)||(null==(G=q.formCreationConducteur.get(N.formName))||null==G.errors?null:G.errors.maxlength)||(null==(G=q.formCreationConducteur.get(N.formName))||null==G.errors?null:G.errors.minlength)),i.xp6(1),i.Q6J("ngIf",null==(b=q.formCreationConducteur.get(N.formName))||null==b.errors?null:b.errors.bloquant)}}function cc(U,Te){if(1&U&&(i.TgZ(0,"mat-form-field",75)(1,"mat-label"),i._uU(2),i.qZA(),i._UZ(3,"input",100),i.YNc(4,nu,2,0,"mat-error",32),i.YNc(5,xa,2,0,"mat-error",32),i.YNc(6,Ys,2,1,"mat-error",32),i.YNc(7,Iu,3,2,"ng-container",21),i.qZA()),2&U){const N=i.oxw().$implicit,q=i.oxw(2),G=q.$implicit,b=q.index,te=i.oxw(4);let _e,ye,Ke;i.xp6(2),i.Oqu(N.libelle),i.xp6(1),i.s9C("formControlName",N.formName),i.Q6J("disabled",N.readonly),i.xp6(1),i.Q6J("ngIf",null==(_e=te.formCreationRisque.get(N.formName))||null==_e.errors?null:_e.errors.required),i.xp6(1),i.Q6J("ngIf",(null==(ye=te.formCreationRisque.get(N.formName))||null==ye.errors?null:ye.errors.pattern)||(null==(ye=te.formCreationRisque.get(N.formName))||null==ye.errors?null:ye.errors.maxlength)||(null==(ye=te.formCreationRisque.get(N.formName))||null==ye.errors?null:ye.errors.minlength)),i.xp6(1),i.Q6J("ngIf",null==(Ke=te.formCreationRisque.get(N.formName))||null==Ke.errors?null:Ke.errors.bloquant),i.xp6(1),i.Q6J("ngIf","Conducteur"==G[b].category)}}function rm(U,Te){if(1&U&&(i.ynx(0),i.TgZ(1,"mat-option",33),i._uU(2),i.qZA(),i.BQk()),2&U){const N=Te.$implicit;i.xp6(1),i.Q6J("value",""+N.id),i.xp6(1),i.hij("",N.description," ")}}function hl(U,Te){1&U&&(i.TgZ(0,"mat-error",34),i._uU(1," ce champs est obligatoire "),i.qZA())}function km(U,Te){if(1&U&&(i.TgZ(0,"mat-error",34),i._uU(1),i.qZA()),2&U){const N=i.oxw(2).$implicit,q=i.oxw(6);let G;i.xp6(1),i.hij(" ",null==(G=q.formCreationConducteur.get(N.formName))||null==G.errors?null:G.errors.msg," ")}}function Yl(U,Te){1&U&&(i.TgZ(0,"mat-error",34),i._uU(1," ce champs est obligatoire "),i.qZA())}function Cl(U,Te){if(1&U&&(i.TgZ(0,"mat-error",34),i._uU(1),i.qZA()),2&U){const N=i.oxw(2).$implicit,q=i.oxw(6);let G;i.xp6(1),i.hij(" ",null==(G=q.formCreationRisque.get(N.formName))||null==G.errors?null:G.errors.msg," ")}}function Sr(U,Te){if(1&U&&(i.TgZ(0,"mat-form-field",75)(1,"mat-label"),i._uU(2),i.qZA(),i.TgZ(3,"mat-select",101),i.YNc(4,rm,3,2,"ng-container",18),i.qZA(),i.YNc(5,hl,2,0,"mat-error",32),i.YNc(6,km,2,1,"mat-error",32),i.YNc(7,Yl,2,0,"mat-error",32),i.YNc(8,Cl,2,1,"mat-error",32),i.qZA()),2&U){const N=i.oxw().$implicit,q=i.oxw(6);let G,b,te,_e;i.xp6(2),i.hij(" ",N.libelle," "),i.xp6(1),i.s9C("formControlName",N.formName),i.xp6(1),i.Q6J("ngForOf",N.reponses),i.xp6(1),i.Q6J("ngIf",q.formCreationConducteur&&(null==(G=q.formCreationConducteur.get(N.formName))||null==G.errors?null:G.errors.required)),i.xp6(1),i.Q6J("ngIf",q.formCreationConducteur&&(null==(b=q.formCreationConducteur.get(N.formName))||null==b.errors?null:b.errors.bloquant)),i.xp6(1),i.Q6J("ngIf",null==(te=q.formCreationRisque.get(N.formName))||null==te.errors?null:te.errors.required),i.xp6(1),i.Q6J("ngIf",null==(_e=q.formCreationRisque.get(N.formName))||null==_e.errors?null:_e.errors.bloquant)}}function Eu(U,Te){1&U&&(i.TgZ(0,"mat-error",34),i._uU(1," ce champs est obligatoire "),i.qZA())}function xl(U,Te){if(1&U&&(i.TgZ(0,"mat-error",34),i._uU(1),i.qZA()),2&U){const N=i.oxw(2).$implicit,q=i.oxw(6);let G;i.xp6(1),i.hij(" ",null==(G=q.formCreationConducteur.get(N.formName))||null==G.errors?null:G.errors.msg," ")}}function iu(U,Te){1&U&&(i.TgZ(0,"mat-error",34),i._uU(1," ce champs est obligatoire "),i.qZA())}function ou(U,Te){if(1&U&&(i.TgZ(0,"mat-error",34),i._uU(1),i.qZA()),2&U){const N=i.oxw(2).$implicit,q=i.oxw(6);let G;i.xp6(1),i.hij(" ",null==(G=q.formCreationRisque.get(N.formName))||null==G.errors?null:G.errors.msg," ")}}function Ru(U,Te){if(1&U&&(i.TgZ(0,"mat-form-field",75)(1,"mat-label"),i._uU(2),i.qZA(),i._UZ(3,"input",102)(4,"mat-datepicker-toggle",30)(5,"mat-datepicker",null,103),i.YNc(7,Eu,2,0,"mat-error",32),i.YNc(8,xl,2,1,"mat-error",32),i.YNc(9,iu,2,0,"mat-error",32),i.YNc(10,ou,2,1,"mat-error",32),i.qZA()),2&U){const N=i.MAs(6),q=i.oxw().$implicit,G=i.oxw(6);let b,te,_e,ye;i.xp6(2),i.Oqu(q.libelle),i.xp6(1),i.s9C("formControlName",q.formName),i.Q6J("matDatepicker",N)("disabled",q.readonly),i.xp6(1),i.Q6J("for",N),i.xp6(3),i.Q6J("ngIf",G.formCreationConducteur&&(null==(b=G.formCreationConducteur.get(q.formName))||null==b.errors?null:b.errors.required)),i.xp6(1),i.Q6J("ngIf",G.formCreationConducteur&&(null==(te=G.formCreationConducteur.get(q.formName))||null==te.errors?null:te.errors.bloquant)),i.xp6(1),i.Q6J("ngIf",null==(_e=G.formCreationRisque.get(q.formName))||null==_e.errors?null:_e.errors.required),i.xp6(1),i.Q6J("ngIf",null==(ye=G.formCreationRisque.get(q.formName))||null==ye.errors?null:ye.errors.bloquant)}}function am(U,Te){if(1&U&&(i.ynx(0),i.TgZ(1,"mat-option",33),i._uU(2),i.qZA(),i.BQk()),2&U){const N=Te.$implicit;i.xp6(1),i.Q6J("value",N.idParam),i.xp6(1),i.hij(" ",N.marque," ")}}function ru(U,Te){1&U&&(i.TgZ(0,"div"),i._uU(1," conforme ! "),i.qZA())}function Xl(U,Te){1&U&&(i.TgZ(0,"div"),i._uU(1," ce champs est obligatoire"),i.qZA())}function ec(U,Te){if(1&U&&(i.TgZ(0,"mat-error",34),i.YNc(1,ru,2,0,"div",21),i.YNc(2,Xl,2,0,"div",21),i.qZA()),2&U){const N=i.oxw(8);i.xp6(1),i.Q6J("ngIf",N.formCreationRisque.get("Marque").errors),i.xp6(1),i.Q6J("ngIf",null==N.formCreationRisque.get("Marque").errors?null:N.formCreationRisque.get("Marque").errors.required)}}function vl(U,Te){if(1&U){const N=i.EpF();i.TgZ(0,"mat-form-field",75)(1,"mat-label"),i._uU(2),i.qZA(),i.TgZ(3,"mat-select",104),i.NdJ("selectionChange",function(G){i.CHM(N);const b=i.oxw(7);return i.KtG(b.getModeleByMarque(G.value))}),i.YNc(4,am,3,2,"ng-container",18),i.qZA(),i.YNc(5,ec,3,2,"mat-error",32),i.qZA()}if(2&U){const N=i.oxw().$implicit,q=i.oxw(6);i.xp6(2),i.hij(" ",N.libelle," "),i.xp6(1),i.s9C("formControlName",N.formName),i.xp6(1),i.Q6J("ngForOf",q.marques),i.xp6(1),i.Q6J("ngIf",q.formCreationRisque.get("Marque").errors)}}function Fa(U,Te){if(1&U&&(i.ynx(0),i.TgZ(1,"mat-option",33),i._uU(2),i.qZA(),i.BQk()),2&U){const N=Te.$implicit;i.xp6(1),i.Q6J("value",N.idParam),i.xp6(1),i.hij(" ",N.modele," ")}}function au(U,Te){1&U&&(i.TgZ(0,"div"),i._uU(1," ce champs est obligatoire"),i.qZA())}function zc(U,Te){if(1&U&&(i.TgZ(0,"mat-error",34),i.YNc(1,au,2,0,"div",21),i.qZA()),2&U){const N=i.oxw(8);i.xp6(1),i.Q6J("ngIf",null==N.formCreationRisque.get("Mod\xe8le").errors?null:N.formCreationRisque.get("Mod\xe8le").errors.required)}}function su(U,Te){if(1&U){const N=i.EpF();i.TgZ(0,"mat-form-field",75)(1,"mat-label"),i._uU(2),i.qZA(),i.TgZ(3,"mat-select",104),i.NdJ("selectionChange",function(){i.CHM(N);const G=i.oxw(7);return i.KtG(G.vehiculeExist=!1)}),i.YNc(4,Fa,3,2,"ng-container",18),i.qZA(),i.YNc(5,zc,2,1,"mat-error",32),i.qZA()}if(2&U){const N=i.oxw().$implicit,q=i.oxw(6);i.xp6(2),i.hij(" ",N.libelle," "),i.xp6(1),i.s9C("formControlName",N.formName),i.xp6(1),i.Q6J("ngForOf",q.modeles),i.xp6(1),i.Q6J("ngIf",q.formCreationRisque.get("Mod\xe8le").errors)}}function sm(U,Te){if(1&U&&(i.ynx(0),i.YNc(1,Ki,9,8,"mat-form-field",71),i.YNc(2,om,8,7,"mat-form-field",71),i.YNc(3,cc,8,7,"mat-form-field",71),i.YNc(4,Sr,9,7,"mat-form-field",71),i.YNc(5,Ru,11,9,"mat-form-field",97),i.YNc(6,vl,6,4,"mat-form-field",71),i.YNc(7,su,6,4,"mat-form-field",71),i.BQk()),2&U){const N=Te.$implicit,q=i.oxw(6);i.xp6(1),i.Q6J("ngIf","Liste of values"==(null==N.typeChamp?null:N.typeChamp.description)&&(null!=q.formCreationRisque.get(N.formName)||null!=q.formCreationConducteur.get(N.formName))),i.xp6(1),i.Q6J("ngIf",!("L02"!=(null==N.typeChamp?null:N.typeChamp.code)&&"L07"!=(null==N.typeChamp?null:N.typeChamp.code)||"Marque"==N.formName||"Mod\xe8le"==N.formName||null==q.formCreationRisque.get(N.formName)&&null==q.formCreationConducteur.get(N.formName))),i.xp6(1),i.Q6J("ngIf","L03"==(null==N.typeChamp?null:N.typeChamp.code)&&"Marque"!=N.formName&&"Mod\xe8le"!=N.formName&&(null!=q.formCreationRisque.get(N.formName)||null!=q.formCreationConducteur.get(N.formName))),i.xp6(1),i.Q6J("ngIf","L08"==(null==N.typeChamp?null:N.typeChamp.code)&&(null!=q.formCreationRisque.get(N.formName)||null!=q.formCreationConducteur.get(N.formName))),i.xp6(1),i.Q6J("ngIf","DateDeNaissance"!=N.formName&&"date"==(null==N.typeChamp?null:N.typeChamp.description)&&(null!=(null==q.formCreationRisque?null:q.formCreationRisque.get(N.formName))||null!=(null==q.formCreationConducteur?null:q.formCreationConducteur.get(N.formName)))),i.xp6(1),i.Q6J("ngIf","P25"==N.codeParam&&null!=q.formCreationRisque.get(N.formName)),i.xp6(1),i.Q6J("ngIf","P26"==N.codeParam&&null!=q.formCreationRisque.get(N.formName))}}function Du(U,Te){if(1&U&&(i.TgZ(0,"form",22)(1,"div",24),i.YNc(2,bi,71,22,"ng-container",21),i.YNc(3,sm,8,7,"ng-container",18),i.qZA()()),2&U){const N=i.oxw(),q=N.$implicit,G=N.index,b=i.oxw(4);i.Q6J("formGroup","Conducteur"==q[G].category?b.formCreationConducteur:b.formCreationRisque),i.xp6(2),i.Q6J("ngIf","Conducteur"==q[G].category),i.xp6(1),i.Q6J("ngForOf",q)}}function ji(U,Te){if(1&U&&(i.TgZ(0,"mat-expansion-panel",88)(1,"mat-expansion-panel-header")(2,"mat-panel-title",89),i._uU(3),i.qZA()(),i.YNc(4,Du,4,3,"form",9),i.qZA()),2&U){const N=Te.$implicit,q=Te.index,G=i.oxw(4);i.Q6J("expanded",!0),i.xp6(3),i.hij(" Informations ",N[q].category," "),i.xp6(1),i.Q6J("ngIf",G.formCreationRisque)}}function uc(U,Te){if(1&U){const N=i.EpF();i.ynx(0),i.TgZ(1,"mat-accordion",8),i.YNc(2,ji,5,3,"mat-expansion-panel",86),i.qZA(),i.TgZ(3,"div",10)(4,"button",19),i._uU(5,"Retour"),i.qZA(),i.TgZ(6,"button",87),i.NdJ("mouseup",function(){i.CHM(N),i.oxw(2);const G=i.MAs(6),b=i.oxw();return i.KtG(b.checkDateNaissance(G))}),i._uU(7,"Suivant"),i.qZA()(),i.BQk()}if(2&U){const N=i.oxw(3);i.xp6(2),i.Q6J("ngForOf",N.paraRisqueProduitCategory)}}function Zc(U,Te){if(1&U&&(i.TgZ(0,"th"),i._uU(1),i.qZA()),2&U){const N=Te.$implicit;i.xp6(1),i.hij(" ",N.colonne," ")}}function mc(U,Te){if(1&U&&(i.TgZ(0,"td"),i._uU(1),i.qZA()),2&U){const N=Te.$implicit;i.xp6(1),i.hij(" ",N.valeur," ")}}function No(U,Te){if(1&U){const N=i.EpF();i.TgZ(0,"tr"),i.YNc(1,mc,2,1,"td",18),i.TgZ(2,"td")(3,"button",109)(4,"mat-icon"),i._uU(5,"more_vert"),i.qZA()(),i.TgZ(6,"mat-menu",110,111)(8,"button",112),i.NdJ("click",function(){const b=i.CHM(N).$implicit,te=i.oxw().$implicit,_e=i.oxw(4);return i.KtG(_e.openDialog(b.idRisque,te.idGroupe))}),i.TgZ(9,"mat-icon"),i._uU(10,"zoom_in"),i.qZA(),i.TgZ(11,"span"),i._uU(12,"Afficher d\xe9tails"),i.qZA()()()()()}if(2&U){const N=Te.$implicit,q=i.MAs(7);i.xp6(1),i.Q6J("ngForOf",N.risque),i.xp6(2),i.Q6J("matMenuTriggerFor",q)}}function qc(U,Te){if(1&U&&(i.TgZ(0,"mat-expansion-panel",23)(1,"mat-expansion-panel-header")(2,"mat-panel-title"),i._uU(3),i.qZA(),i.TgZ(4,"mat-panel-description"),i._uU(5),i.qZA()(),i.TgZ(6,"table",108)(7,"thead")(8,"tr"),i.YNc(9,Zc,2,1,"th",18),i.TgZ(10,"th"),i._uU(11," Action "),i.qZA()()(),i.TgZ(12,"tbody"),i.YNc(13,No,13,2,"tr",18),i.qZA()()()),2&U){const N=Te.$implicit,q=Te.index;i.Q6J("expanded",!0),i.xp6(3),i.hij(" Groupe ",q+1," "),i.xp6(2),i.hij(" ",N.description," "),i.xp6(4),i.Q6J("ngForOf",N.risques[0].risque),i.xp6(4),i.Q6J("ngForOf",N.risques)}}function Vc(U,Te){if(1&U&&(i.TgZ(0,"mat-accordion",105),i.YNc(1,qc,14,5,"mat-expansion-panel",106),i.qZA(),i.TgZ(2,"div",10)(3,"button",19),i._uU(4,"Retour"),i.qZA(),i.TgZ(5,"button",107),i._uU(6,"Suivant"),i.qZA()()),2&U){const N=i.oxw(3);i.xp6(1),i.Q6J("ngForOf",N.devis.groupes)}}function lm(U,Te){if(1&U&&(i.TgZ(0,"mat-step",6),i.YNc(1,Uo,1,0,"ng-template",7),i.YNc(2,uc,8,1,"ng-container",84),i.YNc(3,Vc,7,1,"ng-template",null,85,i.W1O),i.qZA()),2&U){const N=i.MAs(4),q=i.oxw(2);i.Q6J("stepControl",q.formCreationConducteur&&q.formCreationRisque)("editable",!0),i.xp6(2),i.Q6J("ngIf",!q.multiRisque)("ngIfElse",N)}}function lu(U,Te){1&U&&i._uU(0,"Pack et Garanties")}function cm(U,Te){if(1&U&&(i.ynx(0),i.TgZ(1,"mat-option",33),i._uU(2),i.qZA(),i.BQk()),2&U){const N=Te.$implicit;i.xp6(1),i.Q6J("value",N.idPack0),i.xp6(1),i.hij(" ",N.description," ")}}function Al(U,Te){1&U&&(i.TgZ(0,"th",135),i._uU(1," Garantie"),i.qZA())}function cu(U,Te){if(1&U&&(i.TgZ(0,"td",136),i._uU(1),i.qZA()),2&U){const N=Te.$implicit;i.xp6(1),i.hij(" ",N.description," ")}}function Fr(U,Te){1&U&&(i.TgZ(0,"th",135),i._uU(1," Plafond "),i.qZA())}function Qa(U,Te){if(1&U&&(i.TgZ(0,"td",136),i._uU(1),i.qZA()),2&U){const N=Te.$implicit;i.xp6(1),i.hij(" ","0"!=N.plafond?N.plafond:"-"," ")}}function rs(U,Te){1&U&&(i.TgZ(0,"th",135),i._uU(1," Franchise "),i.qZA())}function jc(U,Te){if(1&U&&(i.TgZ(0,"td",136),i._uU(1),i.qZA()),2&U){const N=Te.$implicit;i.xp6(1),i.hij(" ",N.franchise," ")}}function tc(U,Te){1&U&&(i.TgZ(0,"th",135),i._uU(1," Formule "),i.qZA())}function as(U,Te){if(1&U&&(i.TgZ(0,"td",136),i._uU(1),i.qZA()),2&U){const N=Te.$implicit;i.xp6(1),i.hij(" ",N.formule," ")}}function Tl(U,Te){1&U&&(i.TgZ(0,"th",135),i._uU(1," Prime "),i.qZA())}function uu(U,Te){if(1&U&&(i.TgZ(0,"td",136),i._uU(1),i.TgZ(2,"sup"),i._uU(3,"DA"),i.qZA()()),2&U){const N=Te.$implicit;i.xp6(1),i.hij(" ",N.prime,"")}}function um(U,Te){1&U&&i._UZ(0,"th",135)}function Sc(U,Te){if(1&U){const N=i.EpF();i.TgZ(0,"button",139),i.NdJ("click",function(){i.CHM(N);const G=i.oxw().$implicit,b=i.oxw(4);return i.KtG(b.expandedElement=b.expandedElement===G?null:G)}),i.TgZ(1,"mat-icon"),i._uU(2),i.qZA()()}if(2&U){const N=i.oxw().$implicit,q=i.oxw(4);i.xp6(2),i.Oqu(q.expandedElement===N?"indeterminate_check_box":"add_box")}}function mm(U,Te){if(1&U&&(i.TgZ(0,"td",137),i.YNc(1,Sc,3,1,"button",138),i.qZA()),2&U){const N=Te.$implicit,q=i.oxw(4);i.ekj("example-expanded-row",q.expandedElement===N),i.xp6(1),i.Q6J("ngIf",0!=N.sousGarantieList.data.length)}}function wu(U,Te){1&U&&(i.TgZ(0,"th",135),i._uU(1," Garantie"),i.qZA())}function Qr(U,Te){if(1&U&&(i.TgZ(0,"td",136),i._uU(1),i.qZA()),2&U){const N=Te.$implicit;i.xp6(1),i.hij(" ",N.description," ")}}function yc(U,Te){1&U&&(i.TgZ(0,"th",135),i._uU(1," Plafond "),i.qZA())}function Hc(U,Te){if(1&U&&(i.TgZ(0,"td",136),i._uU(1),i.qZA()),2&U){const N=Te.$implicit;i.xp6(1),i.hij(" ","0"!=N.plafond?N.plafond:"-"," ")}}function Gs(U,Te){1&U&&(i.TgZ(0,"th",135),i._uU(1," Franchise "),i.qZA())}function mu(U,Te){if(1&U&&(i.TgZ(0,"td",136),i._uU(1),i.qZA()),2&U){const N=Te.$implicit;i.xp6(1),i.hij(" ",N.franchise," ")}}function $c(U,Te){1&U&&(i.TgZ(0,"th",135),i._uU(1," Formule "),i.qZA())}function bl(U,Te){if(1&U&&(i.TgZ(0,"td",136),i._uU(1),i.qZA()),2&U){const N=Te.$implicit;i.xp6(1),i.hij(" ",N.formule," ")}}function Ou(U,Te){1&U&&i._UZ(0,"th",135)}function Xr(U,Te){1&U&&i._UZ(0,"td",136)}function Kc(U,Te){1&U&&i._UZ(0,"th",135)}function ku(U,Te){1&U&&i._UZ(0,"td",136)}function du(U,Te){1&U&&i._UZ(0,"tr",142)}function dm(U,Te){1&U&&i._UZ(0,"tr",143)}function _u(U,Te){if(1&U&&(i.TgZ(0,"td",136)(1,"div",140)(2,"table",141),i.ynx(3,117),i.YNc(4,wu,2,0,"th",118),i.YNc(5,Qr,2,1,"td",119),i.BQk(),i.ynx(6,120),i.YNc(7,yc,2,0,"th",118),i.YNc(8,Hc,2,1,"td",119),i.BQk(),i.ynx(9,121),i.YNc(10,Gs,2,0,"th",118),i.YNc(11,mu,2,1,"td",119),i.BQk(),i.ynx(12,122),i.YNc(13,$c,2,0,"th",118),i.YNc(14,bl,2,1,"td",119),i.BQk(),i.ynx(15,123),i.YNc(16,Ou,1,0,"th",118),i.YNc(17,Xr,1,0,"td",119),i.BQk(),i.ynx(18,124),i.YNc(19,Kc,1,0,"th",118),i.YNc(20,ku,1,0,"td",119),i.BQk(),i.YNc(21,du,1,0,"tr",127),i.YNc(22,dm,1,0,"tr",128),i.qZA()()()),2&U){const N=Te.$implicit,q=i.oxw(4);i.uIk("colspan",q.displayedColumnsPack.length),i.xp6(1),i.Q6J("@detailExpand",N==q.expandedElement?"expanded":"collapsed"),i.xp6(1),i.Q6J("dataSource",N.sousGarantieList),i.xp6(19),i.Q6J("matHeaderRowDef",q.displayedColumnsPack),i.xp6(1),i.Q6J("matRowDefColumns",q.displayedColumnsPack)}}function _m(U,Te){1&U&&i._UZ(0,"tr",142)}function Nc(U,Te){1&U&&i._UZ(0,"tr",143)}function Mu(U,Te){1&U&&i._UZ(0,"tr",144)}const Uu=function(){return["expandedDetail"]};function Fu(U,Te){if(1&U&&(i.TgZ(0,"mat-accordion",8)(1,"div",114)(2,"mat-form-field",75)(3,"mat-label"),i._uU(4,"Pack"),i.qZA(),i.TgZ(5,"mat-select",115),i.YNc(6,cm,3,2,"ng-container",18),i.qZA()()(),i.TgZ(7,"table",116),i.ynx(8,117),i.YNc(9,Al,2,0,"th",118),i.YNc(10,cu,2,1,"td",119),i.BQk(),i.ynx(11,120),i.YNc(12,Fr,2,0,"th",118),i.YNc(13,Qa,2,1,"td",119),i.BQk(),i.ynx(14,121),i.YNc(15,rs,2,0,"th",118),i.YNc(16,jc,2,1,"td",119),i.BQk(),i.ynx(17,122),i.YNc(18,tc,2,0,"th",118),i.YNc(19,as,2,1,"td",119),i.BQk(),i.ynx(20,123),i.YNc(21,Tl,2,0,"th",118),i.YNc(22,uu,4,1,"td",119),i.BQk(),i.ynx(23,124),i.YNc(24,um,1,0,"th",118),i.YNc(25,mm,2,3,"td",125),i.BQk(),i.ynx(26,126),i.YNc(27,_u,23,5,"td",119),i.BQk(),i.YNc(28,_m,1,0,"tr",127),i.YNc(29,Nc,1,0,"tr",128),i.YNc(30,Mu,1,0,"tr",129),i.qZA(),i.TgZ(31,"div",130)(32,"div",131)(33,"div",132)(34,"span",133),i._uU(35,"Prime Totale:"),i.qZA(),i.TgZ(36,"span",134),i._uU(37),i.ALo(38,"money"),i.ALo(39,"number"),i.TgZ(40,"sup"),i._uU(41,"DA"),i.qZA()()()()()()),2&U){const N=i.oxw(3);i.xp6(5),i.Q6J("value",null==N.devis||null==N.devis.groupes[0].pack?null:N.devis.groupes[0].pack.idPack0)("disabled",!0),i.xp6(1),i.Q6J("ngForOf",N.packs),i.xp6(1),i.Q6J("dataSource",N.dataSourcePack),i.xp6(21),i.Q6J("matHeaderRowDef",N.displayedColumnsPack),i.xp6(1),i.Q6J("matRowDefColumns",N.displayedColumnsPack),i.xp6(1),i.Q6J("matRowDefColumns",i.DdM(13,Uu)),i.xp6(7),i.hij("",i.lcZ(38,8,i.xi3(39,10,N.PrimeNette,"1.0-0"))," ")}}function Ic(U,Te){if(1&U&&(i.TgZ(0,"tr")(1,"td"),i._uU(2),i.qZA(),i.TgZ(3,"td"),i._uU(4),i.qZA()()),2&U){const N=Te.$implicit;i.xp6(2),i.hij(" ",N.description," "),i.xp6(2),i.hij(" ",N.prime," ")}}function Ec(U,Te){if(1&U&&(i.TgZ(0,"mat-expansion-panel",23)(1,"mat-expansion-panel-header")(2,"mat-panel-title"),i._uU(3),i.qZA(),i.TgZ(4,"mat-panel-description"),i._uU(5),i.qZA()(),i.TgZ(6,"table",108)(7,"thead")(8,"tr")(9,"th"),i._uU(10,"Garantie "),i.qZA(),i.TgZ(11,"th"),i._uU(12," Prime "),i.qZA()()(),i.TgZ(13,"tbody"),i.YNc(14,Ic,5,2,"tr",18),i.qZA()()()),2&U){const N=Te.$implicit,q=Te.index;i.Q6J("expanded",!0),i.xp6(3),i.hij(" Groupe ",q+1," "),i.xp6(2),i.hij(" ",N.description," "),i.xp6(9),i.Q6J("ngForOf",N.garantieList)}}function Qu(U,Te){if(1&U&&(i.TgZ(0,"mat-accordion",105),i.YNc(1,Ec,15,4,"mat-expansion-panel",106),i.qZA()),2&U){const N=i.oxw(3);i.xp6(1),i.Q6J("ngForOf",N.devis.groupes)}}function Rc(U,Te){if(1&U&&(i.TgZ(0,"mat-step",15),i.YNc(1,lu,1,0,"ng-template",7),i.YNc(2,Fu,42,14,"mat-accordion",113),i.YNc(3,Qu,2,1,"ng-template",null,85,i.W1O),i.TgZ(5,"div",10)(6,"button",19),i._uU(7,"Retour"),i.qZA(),i.TgZ(8,"button",107),i._uU(9,"Suivant"),i.qZA()()()),2&U){const N=i.MAs(4),q=i.oxw(2);i.Q6J("editable",!0),i.xp6(2),i.Q6J("ngIf",!q.multiRisque)("ngIfElse",N)}}function pu(U,Te){1&U&&i._uU(0,"R\xe9duction")}function pm(U,Te){if(1&U&&(i.TgZ(0,"form",145)(1,"mat-form-field",75)(2,"mat-label"),i._uU(3," Convention"),i.qZA(),i._UZ(4,"input",146),i.qZA(),i.TgZ(5,"mat-form-field",75)(6,"mat-label"),i._uU(7," R\xe9duction"),i.qZA(),i._UZ(8,"input",147),i.qZA(),i.TgZ(9,"div",148)(10,"button",107)(11,"span"),i._uU(12,"Suivant"),i.qZA()(),i.TgZ(13,"button",149),i._uU(14,"Retour"),i.qZA()()()),2&U){const N=i.oxw(2);i.Q6J("formGroup",N.formReduction)}}function Ju(U,Te){1&U&&i._uU(0,"R\xe9sum\xe9")}function Wc(U,Te){if(1&U&&(i.ynx(0),i.TgZ(1,"td",150),i._uU(2),i.qZA(),i.TgZ(3,"td",150),i._uU(4),i.ALo(5,"money"),i.ALo(6,"number"),i.TgZ(7,"sup"),i._uU(8,"DZD"),i.qZA()(),i.BQk()),2&U){const N=i.oxw().$implicit;i.xp6(2),i.Oqu(N.typePrime.description),i.xp6(2),i.hij("",i.lcZ(5,2,i.xi3(6,4,N.prime,"1.0-0"))," ")}}function fu(U,Te){if(1&U&&(i.TgZ(0,"tr"),i.YNc(1,Wc,9,7,"ng-container",21),i.qZA()),2&U){const N=Te.$implicit;i.xp6(1),i.Q6J("ngIf",101==N.typePrime.idParam)}}function Bs(U,Te){if(1&U&&(i.TgZ(0,"tr")(1,"td"),i._uU(2),i.qZA(),i.TgZ(3,"td"),i._uU(4),i.ALo(5,"money"),i.ALo(6,"number"),i.TgZ(7,"sup"),i._uU(8,"DZD"),i.qZA()()()),2&U){const N=Te.$implicit;i.xp6(2),i.Oqu(null==N.taxe?null:N.taxe.description),i.xp6(2),i.hij("",i.lcZ(5,2,i.xi3(6,4,N.prime,"1.0-0"))," ")}}function fm(U,Te){1&U&&i._UZ(0,"mat-spinner",151)}function gu(U,Te){1&U&&(i.TgZ(0,"span"),i._uU(1," Valider "),i.qZA())}function fr(U,Te){if(1&U){const N=i.EpF();i.TgZ(0,"div",1)(1,"h2",2)(2,"mat-icon",3),i._uU(3),i.qZA(),i._uU(4),i.qZA(),i.TgZ(5,"mat-stepper",4,5)(7,"mat-step",6),i.YNc(8,jt,1,0,"ng-template",7),i.TgZ(9,"mat-accordion",8),i.YNc(10,ro,29,10,"form",9),i.YNc(11,is,7,5,"form",9),i.YNc(12,Tc,53,22,"form",9),i.qZA(),i.TgZ(13,"div",10)(14,"button",11),i.NdJ("mouseup",function(){i.CHM(N);const G=i.oxw();return i.KtG(G.redirectConsultation())}),i._uU(15,"Annuler"),i.qZA(),i.TgZ(16,"button",12),i.NdJ("click",function(){i.CHM(N);const G=i.oxw();return i.KtG(G.nextStep())}),i._uU(17,"Suivant"),i.qZA()()(),i.YNc(18,lm,5,4,"mat-step",13),i.YNc(19,Rc,10,3,"mat-step",14),i.TgZ(20,"mat-step",15),i.YNc(21,pu,1,0,"ng-template",7),i.YNc(22,pm,15,1,"form",16),i.qZA(),i.TgZ(23,"mat-step",15),i.YNc(24,Ju,1,0,"ng-template",7),i.TgZ(25,"mat-accordion",8)(26,"table",17),i.YNc(27,fu,2,1,"tr",18),i.YNc(28,Bs,9,7,"tr",18),i.TgZ(29,"td"),i._uU(30,"Prime Totale"),i.qZA(),i.TgZ(31,"td"),i._uU(32),i.ALo(33,"money"),i.ALo(34,"number"),i.TgZ(35,"sup"),i._uU(36,"DZD"),i.qZA()()()(),i.TgZ(37,"div",10)(38,"button",19),i._uU(39,"Retour"),i.qZA(),i.TgZ(40,"button",12),i.NdJ("click",function(){i.CHM(N);const G=i.oxw();return i.KtG(G.submitContrat())}),i.YNc(41,fm,1,0,"mat-spinner",20),i.YNc(42,gu,2,0,"span",21),i.qZA()()()()()}if(2&U){const N=i.oxw();i.xp6(3),i.Oqu(N.produitInfo.icon),i.xp6(1),i.hij(" Contrat ",N.produitInfo.description," "),i.xp6(1),i.Q6J("linear",!0),i.xp6(2),i.Q6J("stepControl",N.formCreationContrat)("editable",!0),i.xp6(3),i.Q6J("ngIf",N.formCreationContrat),i.xp6(1),i.Q6J("ngIf",N.formCreationAssure),i.xp6(1),i.Q6J("ngIf","97"!=N.codeProduit&&N.formCreationSouscripteur&&!N.multiRisque||"97"==N.codeProduit&&N.formCreationSouscripteur),i.xp6(6),i.Q6J("ngIf",N.devisReady),i.xp6(1),i.Q6J("ngIf",N.devisReady),i.xp6(1),i.Q6J("editable",!0),i.xp6(2),i.Q6J("ngIf",N.formReduction),i.xp6(1),i.Q6J("editable",!0),i.xp6(4),i.Q6J("ngForOf",null==N.devis?null:N.devis.primeList),i.xp6(1),i.Q6J("ngForOf",null==N.devis?null:N.devis.taxeList),i.xp6(4),i.Oqu(i.lcZ(33,18,i.xi3(34,20,N.PrimeTotale,"1.0-0"))),i.xp6(9),i.Q6J("ngIf",N.valider),i.xp6(1),i.Q6J("ngIf",!N.valider)}}const ea=new Date;function $o(U){var Te=new Date(U.value);return ea.getFullYear()-Te.getFullYear()<18?{ageInf18:!0}:null}let pa=(()=>{class U{constructor(N,q,G,b,te,_e,ye,Ke,Pt,ft,St,Nt,Bn,hn,no,kn,Gi){this.cryptoService=N,this.conventionService=q,this.reductionService=G,this.router=b,this.contratService=te,this.packService=_e,this.dialog=ye,this.paramRisqueService=Ke,this.genericService=Pt,this.dureeService=ft,this.produitService=St,this.agencesService=Nt,this.vehiculeService=Bn,this.personneService=hn,this.devisService=no,this.route=kn,this.formBuilder=Gi,this.linesOfBusiness=[],this.lineOfBusinessList=[],this.secteurActiviteList=[],this.contrat={},this.isSouscripteur=!1,this.isAssure=!1,this.isConducteur=!1,this.isConducteurAssure=!1,this.valider=!1,this.vehiculeExist=!1,this.month=new Date,this.PrimeTotale=0,this.PrimeNette=0,this.agences=[],this.produits=[],this.durees=[],this.wilayas=[],this.communes_sous=[],this.communes=[],this.communes_assure=[],this.communes_cond=[],this.genres=[],this.situations=[],this.professions=[],this.typesVehicule=[],this.usages=[],this.energies=[],this.packs=[],this.informationsPack=[],this.marques=[],this.modeles=[],this.conventions=[],this.reductions=[],this.categories=["A","B","C","D","E","F"],this.dataSourcePack=new Q.by,this.displayedColumnsPack=["description","plafond","franchise","formule","prime","sousGaranties"],this.DisplayedColumnsSousGarantie=["description","plafond","franchise","formule","prime","sousGaranties"],this.paraRisqueProduit=[],this.paraRisqueProduitCategory=[],this.marqueReduction=[],this.renderGlobal=!1,this.franchiseExist=!1,this.plafondExist=!1,this.formuleExist=!1,this.sousFranchiseExist=!1,this.sousFormuleExist=!1,this.sousPlafondExist=!1,this.rechercheAssure=!1,this.rechercheSouscripteur=!1,this.rechercheConducteur=!1,this.multiRisque=!1,this.paramRisqueDevis=[],this.devisReady=!1,this.groupPack=[],this.contratGroupe=[],this.lineOfBusiness=new it.NI,this.occupationList=[],this.isBOUser=!1,this.tkn=JSON.parse(sessionStorage.getItem("access_token")||"")?.access_token,this.typeClients=[],this.sousGarantieTab=[],this.sousGarantieExist=!1,this.filterReduction=Ss.P}ngOnInit(){const N=sessionStorage.getItem("roles")||"";this.isBOUser=N.includes("BO"),this.codeProduit=this.route.snapshot.paramMap.get("codeProduit"),sessionStorage.getItem("roles")?.includes("CDC")||sessionStorage.getItem("roles")?.includes("DA")||"45F"!=this.codeProduit?(this.now=new Date,this.month.setMonth(this.now.getMonth()+1)):this.now=null,this.getProductId(),this.idDevis=this.route.snapshot.paramMap.get("idDevis"),this.getDevisInfo(),this.getAllConventions(),this.getAgence(),this.getProduit(),this.getDuree(),this.getGenre(),this.getSituation(),this.getProfession(),this.getRoles(),this.getTypeVehicule(),this.getUsage(),this.getEnergie(),this.getAllPack(),this.getMarque(),this.getIdPays("DZA"),this.getCommercialLineValues(),this.getTypeClient()}getTypeClient(){this.genericService.getParam(JSON.parse(sessionStorage.getItem("dictionnaire")||"{}").find(N=>"C24"==N.code).idCategorie).subscribe({next:N=>{this.typeClients=N,this.multiRisque&&(this.PMflotte=this.typeClients.find(q=>"PM"===q.code))},error:N=>{}})}changeTypeClient(N){this.typeClient=N.description,"97"==this.codeProduit&&(this.typeClientSous=this.typeClient);const q=this.formCreationSouscripteur;"personne morale"===this.typeClient?(q.get("nom")?.clearValidators(),q.get("nom")?.disable(),q.get("prenom")?.clearValidators(),q.get("prenom")?.disable(),q.get("dateNaissance")?.clearValidators(),q.get("dateNaissance")?.disable(),q.get("raisonSocial")?.setValidators([it.kI.required,it.kI.maxLength(40)]),q.get("raisonSocial")?.enable(),q.get("telephone")?.setValidators([it.kI.required,it.kI.maxLength(50)]),q.get("telephone")?.enable(),q.get("rib")?.enable(),q.get("adresse")?.setValidators([it.kI.required,it.kI.maxLength(60)]),q.get("adresse")?.enable(),q.get("wilaya")?.setValidators([it.kI.required,it.kI.maxLength(50)]),q.get("wilaya")?.enable(),q.get("commune")?.setValidators([it.kI.required,it.kI.maxLength(50)]),q.get("commune")?.enable(),q.get("email")?.setValidators([it.kI.required,it.kI.pattern(Ci.e.email)]),q.get("email")?.enable(),q.get("nif")?.enable()):(q.get("nom")?.setValidators([it.kI.required,it.kI.maxLength(40),it.kI.pattern(Ci.e.nom)]),q.get("nom")?.enable(),q.get("prenom")?.setValidators([it.kI.required,it.kI.maxLength(40),it.kI.pattern(Ci.e.nom)]),q.get("prenom")?.enable(),q.get("dateNaissance")?.setValidators([it.kI.required,$o]),q.get("dateNaissance")?.enable(),q.get("raisonSocial")?.clearValidators(),q.get("raisonSocial")?.disable(),q.get("email")?.setValidators([it.kI.pattern(Ci.e.email)]),q.get("email")?.enable()),q.get("nom")?.updateValueAndValidity(),q.get("prenom")?.updateValueAndValidity(),q.get("dateNaissance")?.updateValueAndValidity(),q.get("raisonSocial")?.updateValueAndValidity(),q.get("email")?.updateValueAndValidity()}getLB(){this.genericService.getParam(JSON.parse(sessionStorage.getItem("dictionnaire")||"{}").find(N=>"CLOB"==N.code).idCategorie).subscribe({next:N=>{this.lineOfBusinessList=N},error:N=>{}})}getActivite(){this.contratService.getByLien(this.selectedLineOfBusiness).subscribe({next:N=>{this.secteurActiviteList=N},error:N=>{}})}getOccu(){this.contratService.getByLien(this.SecteurActivite).subscribe({next:N=>{this.occupationList=N},error:N=>{}})}getCommercialLineValues(){this.getLB()}onLineOfBusinessSelected(N){this.selectedLineOfBusiness=N,this.getActivite()}onSecteurActiviteSelected(N){this.SecteurActivite=N,this.getOccu()}onOccupationSelected(N){this.occupation=N}getAllConventions(){this.conventionService.getAllConventions().subscribe({next:N=>{this.conventions=N},error:N=>{}})}getReductionByConvention(N){"aucuneConvention"!=N?this.reductionService.getReductionByConvention(N).subscribe({next:q=>{0!=q.length&&(this.reductions=q.filter(G=>G.produit==JSON.parse(sessionStorage.getItem("products")||"{}").find(b=>b.codeProduit==this.route.snapshot.paramMap.get("codeProduit")).description))},error:q=>{}}):this.getAllReductions()}getAllReductions(){this.filterReduction.typeReduction=262,this.filterReduction.produit=JSON.parse(sessionStorage.getItem("products")||"{}").find(N=>N.codeProduit==this.route.snapshot.paramMap.get("codeProduit")),this.reductionService.reductionFiltre(this.filterReduction).subscribe({next:N=>{this.reductions=N},error:N=>{}})}getDevisInfo(){var N=this;this.devisService.getDevisById(this.idDevis).subscribe(q=>{if(q.produit.codeProduit!=this.route.snapshot.paramMap.get("codeProduit")&&this.router.navigate(["consultation/"+this.route.snapshot.paramMap.get("codeProduit")+"/"+this.route.snapshot.paramMap.get("produit")]),this.devis=q,this.typeClient=q?.typeClient?.description,this.typeClientSous="97"==this.codeProduit?this.typeClient:"personne physique","95"==this.devis.produit.codeProduit){var G=this.devis.paramsRisqueDevisList.reduce((_e,ye)=>{let Ke=ye.idListParamRisque.idListParamRisque;return _e.hasOwnProperty(Ke)?_e[Ke].push(ye):_e[Ke]=[ye],_e},{});G=Object.values(G);var b=[];G.map(_e=>{b.push(_e.reduce((ye,Ke)=>{let Pt=Ke.paramGrp;return ye.hasOwnProperty(Pt)?ye[Pt].push(Ke):ye[Pt]=[Ke],ye},[]))}),b=Object.values(b);let te=[];b.map(_e=>{let Ke,ye={idListParamRisque:"",paramList:[]};_e.map(Pt=>{Ke={prime:"",paramListsValues:[]},ye.idListParamRisque=Pt[0].idListParamRisque.idListParamRisque,Pt.forEach(ft=>{Ke.paramListsValues.push({idParam:ft.risque.idParamRisque,reponse:ft.response})}),Ke.prime=this.devis.listPrimes?.find(ft=>ft.idListParamRisque==Pt[0].idListParamRisque.idListParamRisque&&ft.paramGrp==Pt[0].paramGrp)?.prime,ye.paramList.push(Ke)}),te.push(ye)}),this.contrat.list=te}var te;"45L"==this.devis.produit.codeProduit&&0==this.devis?.groupes.length?this.initForm():this.devisService.getParamDevisByIdRisque(this.idDevis,this.devis?.groupes[0]?.idGroupe,this.devis?.groupes[0]?.risques[0]?.idRisque).subscribe({next:(te=(0,Le.Z)(function*(_e){N.devisReady=!0,N.paramRisqueDevis=_e,yield N.initForm()}),function(ye){return te.apply(this,arguments)}),error:te=>{}}),null!=this.devis.reduction&&this.getReduction(this.devis.reduction.idReduction),"S03"!=this.devis.statue.code&&this.router.navigate(["consultation-police/"+this.route.snapshot.paramMap.get("codeProduit")+"/"+this.route.snapshot.paramMap.get("produit")])})}checkAccess(){this.devisService.getAccessByDevis(this.idDevis).subscribe({next:N=>{this.devisAccess=N,N?.accessContrat?this.devisService.updateAccessDevis({idDevisAccess:N?.idDevisAccess,devis:N?.devis,accessContrat:0,accessAvenant:1}).subscribe({next:G=>{},error:G=>{}}):n().fire({title:"Ce devis est bloqu\xe9 par un autre utilisateur, veuillez r\xe9essayer plus tard",icon:"warning",allowOutsideClick:!1,confirmButtonText:"Ok",width:400}).then(q=>{q.isConfirmed&&this.router.navigate(["consultation/"+this.route.snapshot.paramMap.get("codeProduit")+"/"+this.route.snapshot.paramMap.get("produit")])})},error:N=>{}})}getProductId(){this.idProduit=JSON.parse(sessionStorage.getItem("products")||"{}").find(N=>N.codeProduit==this.codeProduit).idProduit,this.getInfoProduit()}getInfoProduit(){this.genericService.getPorduitById(this.idProduit).subscribe({next:N=>{this.renderGlobal=!0,this.produitInfo=N,this.multiRisque="Oui"==N.param_Produit_Reponses.filter(q=>"multirisque"==q.idParamProduit.libelle)[0].reponse.description},error:N=>{}})}getReduction(N){this.reductionService.getReductionById(N).subscribe({next:q=>{this.marqueReduction=q.paramList.filter(G=>"P25"==G.idParam.codeParam)[0].idParam.reponseList},error:q=>{}})}getAgence(){this.agencesService.getAllAgence().subscribe({next:N=>{this.agences=N},error:N=>{}})}getProduit(){this.produitService.getAllProduits().subscribe({next:N=>{this.produits=N},error:N=>{}})}getDuree(){this.dureeService.getAllDuree().subscribe({next:N=>{this.durees=N},error:N=>{}})}getIdPays(N){this.genericService.getPays().subscribe({next:q=>{this.idPays=q.find(G=>G.codePays==N).idPays,this.getWilaya()},error:q=>{}})}getWilaya(){this.genericService.getAllWilayas(this.idPays).subscribe({next:N=>{this.wilayas=N},error:N=>{}})}getCommune(N,q){this.genericService.getAllCommuneByWilaya(N).subscribe({next:G=>{switch(q){case"Souscripteur":this.communes_sous=G;break;case"Assure":this.communes_assure=G;break;case"Conducteur":this.communes_cond=G;break;default:this.communes=G}},error:G=>{}})}getGenre(){this.genericService.getParam(JSON.parse(sessionStorage.getItem("dictionnaire")||"{}").find(N=>"C6"==N.code).idCategorie).subscribe({next:N=>{this.genres=N},error:N=>{}})}getSituation(){this.genericService.getParam(JSON.parse(sessionStorage.getItem("dictionnaire")||"{}").find(N=>"C1"==N.code).idCategorie).subscribe({next:N=>{this.situations=N},error:N=>{}})}getProfession(){this.genericService.getProfession().subscribe({next:N=>{this.professions=N},error:N=>{}})}getTypeVehicule(){this.genericService.getParam(JSON.parse(sessionStorage.getItem("dictionnaire")||"{}").find(N=>"C18"==N.code).idCategorie).subscribe({next:N=>{this.typesVehicule=N},error:N=>{}})}getRoles(){this.genericService.getParam(JSON.parse(sessionStorage.getItem("dictionnaire")||"{}").find(N=>"C33"==N.code).idCategorie).subscribe({next:N=>{this.roles=N},error:N=>{}})}getUsage(){this.genericService.getParam(JSON.parse(sessionStorage.getItem("dictionnaire")||"{}").find(N=>"C19"==N.code).idCategorie).subscribe({next:N=>{this.usages=N},error:N=>{}})}getEnergie(){this.genericService.getParam(JSON.parse(sessionStorage.getItem("dictionnaire")||"{}").find(N=>"C31"==N.code).idCategorie).subscribe({next:N=>{this.energies=N},error:N=>{}})}getAllPack(){this.packService.getAllPack().subscribe({next:N=>{N.map(q=>{this.packs.push(q)})},error:N=>{}})}getMarque(){this.vehiculeService.getAllMarque().subscribe({next:N=>{this.marques=N},error:N=>{}})}getModeleByMarque(N){0!==this.marqueReduction.length?this.marqueReduction.some(q=>q.idParam===Number(N))?this.vehiculeService.getModelByMarque(N).subscribe({next:q=>{this.modeles=q},error:q=>{}}):n().fire("La marque que vous avez choisie ne correspond pas \xe0 celle de la r\xe9duction dont vous b\xe9n\xe9ficiez,\n        Veuillez choisir la m\xeame marque ou refaire votre devis","","warning"):this.vehiculeService.getModelByMarque(N).subscribe({next:q=>{this.modeles=q},error:q=>{}})}initForm(){this.formCreationContrat=this.formBuilder.group({agence:[{value:this.devis?.agence?.idAgence,disabled:!(!sessionStorage.getItem("roles")?.includes("COURTIER")&&!sessionStorage.getItem("roles")?.includes("CDC_BEA"))},[it.kI.required]],produit:[{value:this.devis?.produit?.idCodeProduit,disabled:!0},[it.kI.required]],duree:[{value:this.devis?.duree?.id_duree,disabled:!0},[it.kI.required]],dateEffet:["",[it.kI.required]],dateExpiration:[""]}),this.formCreationSouscripteur=this.formBuilder.group({codeClient:[null],raisonSocial:[null,[it.kI.maxLength(40)]],nom:[null,[it.kI.required,it.kI.maxLength(40),it.kI.pattern(Ci.e.nom)]],prenom:[null,[it.kI.required,it.kI.maxLength(40),it.kI.pattern(Ci.e.nom)]],dateOuverture:[null],dateNaissance:[null,[it.kI.required,$o]],nin:[{value:null,disabled:!0},[it.kI.pattern(Ci.e.NIN)]],nif:[{value:null,disabled:!0},[it.kI.pattern(Ci.e.NIF)]],rib:[{value:null,disabled:!0},[it.kI.pattern(Ci.e.RIB)]],telephone:[{value:null,disabled:!0},[it.kI.required,it.kI.pattern(Ci.e.mobile)]],email:[{value:null,disabled:!0},[it.kI.pattern(Ci.e.email)]],adresse:[{value:null,disabled:!0},[it.kI.required,it.kI.maxLength(60)]],wilaya:[{value:null,disabled:!0},[it.kI.required]],commune:[{value:null,disabled:!0},[it.kI.required]],genre:[{value:null,disabled:!0},[it.kI.required]],situation:[{value:null,disabled:!0}],profession:[{value:null,disabled:!0}],typeClient:[{value:"97"==this.codeProduit?null:this.devis?.typeClient,disabled:"97"!=this.codeProduit},"97"==this.codeProduit?[it.kI.required]:[]]}),this.formCreationAssure=this.formBuilder.group({codeClient:[null],raisonSocial:"personne morale"==this.devis?.typeClient?.description?[this.devis?.raisonSocial,[it.kI.required,it.kI.maxLength(40)]]:[null,[]],nom:["personne physique"==this.devis?.typeClient?.description?this.devis?.nom:null,"personne physique"==this.devis?.typeClient?.description?[it.kI.required,it.kI.maxLength(40),it.kI.pattern(Ci.e.nom)]:[]],prenom:["personne physique"==this.devis?.typeClient?.description?this.devis?.prenom:null,"personne physique"==this.devis?.typeClient?.description?[it.kI.required,it.kI.maxLength(40),it.kI.pattern(Ci.e.nom)]:[]],dateOuverture:[null],dateNaissance:["personne physique"==this.devis?.typeClient?.description?this.devis?.dateAssure:null,"personne physique"==this.devis?.typeClient?.description?[it.kI.required,$o]:[]],nin:[{value:null,disabled:!0},[it.kI.pattern(Ci.e.NIN)]],nif:[{value:null,disabled:!0},"personne physique"==this.devis?.typeClient?.description?[it.kI.pattern(Ci.e.NIF)]:[it.kI.required,it.kI.pattern(Ci.e.NIF)]],telephone:[{value:this.devis?.telephone,disabled:!0},[it.kI.required,it.kI.minLength(this.devis?.telephone.length),it.kI.maxLength(this.devis?.telephone.length)]],email:[{value:this.devis?.email,disabled:!0},[it.kI.pattern(Ci.e.email)]],adresse:[{value:null,disabled:!0},[it.kI.required,it.kI.maxLength(60)]],wilaya:[{value:null,disabled:!0},[it.kI.required]],commune:[{value:null,disabled:!0},[it.kI.required]],genre:[{value:null,disabled:!0},"personne physique"==this.devis?.typeClient?.description?[it.kI.required]:[]],situation:[{value:null,disabled:!0}],profession:[{value:null,disabled:!0}],rib:[{value:null,disabled:!0},[it.kI.pattern(Ci.e.RIB)]],lineOfBusiness:[{value:null,disabled:!1}],secteurActivite:[{value:null,disabled:!1}],occupation:[{value:null,disabled:!1}]}),"45A"==this.codeProduit&&(this.formCreationConducteur=this.formBuilder.group({codeClient:[null],nom:[null,[it.kI.required,it.kI.maxLength(50),it.kI.pattern(Ci.e.nom),it.kI.maxLength(40)]],prenom:[null,[it.kI.required,it.kI.maxLength(50),it.kI.pattern(Ci.e.nom),it.kI.maxLength(40)]],dateNaissance:[null],telephone:[{value:null,disabled:!0},[it.kI.required,it.kI.pattern(Ci.e.mobile)]],email:[{value:null,disabled:!0},[it.kI.pattern(Ci.e.email)]],adresse:[{value:null,disabled:!0},[it.kI.required,it.kI.maxLength(60)]],wilaya:[{value:null,disabled:!0},[it.kI.required]],commune:[{value:null,disabled:!0},[it.kI.required]],situation:[{value:null,disabled:!0}],profession:[{value:null,disabled:!0},[it.kI.required]],numeroPermis:[{value:null,disabled:!0},[it.kI.required]],categoriePermis:[{value:null,disabled:!0},[it.kI.required]]})),this.formCreationRisque=this.formBuilder.group({idRisque:[""]}),this.formReduction=this.formBuilder.group({reduction:[{value:this.devis?.reduction?.nomReduction,disabled:!0}],convention:[{value:this.devis?.convention?.idConvention,disabled:!0}]}),this.devis?.convention&&this.getReductionByConvention(this.devis?.convention?.nomConvention),this.getAllParamRisque(this.devis?.produit?.idCodeProduit)}nextStep(){this.rechercheSouscripteur=!0,this.multiRisque&&"97"!=this.codeProduit&&(this.isAssure=!0,this.formCreationSouscripteur=this.formCreationAssure,this.getCommune(this.formCreationAssure.value.wilaya,"Souscripteur")),console.log("this.formCreationContrat",this.formCreationContrat),console.log("this.formCreationSouscripteur",this.formCreationSouscripteur),console.log("this.formCreationAssure",this.formCreationAssure),console.log("this.rechercheAssure",this.rechercheAssure),console.log("this.rechercheSouscripteur",this.rechercheSouscripteur),this.formCreationContrat.valid&&this.formCreationSouscripteur.valid&&this.formCreationAssure.valid?this.rechercheAssure&&this.rechercheSouscripteur&&this.myStepper.next():(this.formCreationContrat.markAllAsTouched(),this.formCreationSouscripteur.markAllAsTouched(),this.formCreationAssure.markAllAsTouched())}recherchePersonne(N){let q;switch(N){case"souscripteur":this.rechercheSouscripteur=!0,this.formCreationSouscripteur.get("dateNaissance").setValue(qi.utc(this.formCreationSouscripteur.get("dateNaissance").value).add(1,"hour").toISOString()),q=this.formCreationSouscripteur.value;break;case"assure":this.rechercheAssure=!0,"personne physique"==this.devis?.typeClient?.description&&this.formCreationAssure.get("dateNaissance").setValue(qi.utc(this.formCreationAssure.get("dateNaissance").value).add(1,"hour").toISOString()),q=this.formCreationAssure.value;break;case"Conducteur":this.rechercheConducteur=!0,this.formCreationConducteur.get("dateNaissance").setValue(qi.utc(this.formCreationConducteur.get("DateDeNaissance").value).add(1,"hour").toISOString()),q=this.formCreationConducteur.value}this.personneService.filterPersonne(q).subscribe(G=>{if(0==G.length)switch(n().fire("Cette personne n'existe pas","","info"),N){case"souscripteur":this.formCreationSouscripteur.enable(),this.formCreationSouscripteur.get("typeClient").disable();break;case"assure":this.formCreationAssure.enable();break;case"Conducteur":this.formCreationConducteur.enable(),this.paraRisqueProduit.map(b=>{"Conducteur"==b.category&&this.formCreationConducteur.get(b.formName).disable()})}else this.dialog.open(ha.I,{width:"60%",disableClose:!0,data:{personneList:G}}).afterClosed().subscribe(te=>{this.personne=te,this.initFormPersonne(N)})})}initFormPersonne(N){switch(this.formCreation=this.formBuilder.group({codeClient:[""==this.personne?.idClient?null:this.personne?.idClient],raisonSocial:[""==this.personne?.raisonSocial?null:this.personne?.raisonSocial,[it.kI.maxLength(40)]],nom:[""==this.personne?.nom?null:this.personne?.nom,[it.kI.maxLength(40),it.kI.pattern(Ci.e.nom)]],prenom:[""==this.personne?.prenom1?null:this.personne?.prenom1,[it.kI.maxLength(40),it.kI.pattern(Ci.e.nom)]],dateNaissance:[""==this.personne?.dateNaissance?null:this.personne?.dateNaissance],nin:[""==this.personne?.nin?null:this.personne?.nin],idTelephone:[null],telephone:[null,[it.kI.required,it.kI.pattern(Ci.e.mobile)]],idEmail:[null],email:[null,[it.kI.pattern(Ci.e.email)]],idAdresse:[this.personne?.adressesList[0]?this.personne?.adressesList[0].idAdresse:0],adresse:[this.personne?.adressesList[0]?this.personne?.adressesList[0].description:"",[it.kI.required,it.kI.maxLength(60)]],wilaya:[this.personne?.adressesList[0]?this.personne?.adressesList[0].wilaya?.idWilaya:"",[it.kI.required]],commune:[this.personne?.adressesList[0]?this.personne?.adressesList[0].commune?.idCommune:"",[it.kI.required]],genre:[this.personne?.sexe?.idParam],situation:[this.personne?.situationFamiliale?.idParam],rib:["",[it.kI.pattern(Ci.e.RIB)]]}),this.personne?.contactList?.forEach(q=>{switch(q.typeContact?.description){case"mobile":this.formCreation.get("idTelephone").value=q.idContact,this.formCreation.get("telephone").value=q.description;break;case"email":this.formCreation.get("idEmail").value=q.idContact,this.formCreation.get("email").value=q.description}}),N){case"souscripteur":this.getCommune(this.formCreation.value.wilaya,"Souscripteur"),this.formCreation.get("dateNaissance").setValue(qi.utc(this.formCreation.get("dateNaissance").value).add(1,"hour").toISOString()),this.formCreationSouscripteur=this.formCreation,this.formCreationSouscripteur.get("dateNaissance")?.setValidators([it.kI.required,$o]),this.formCreationSouscripteur.get("genre")?.setValidators([it.kI.required]),this.formCreationSouscripteur.addControl("nif",new it.NI(this.personne?.nif,it.kI.pattern(Ci.e.NIF))),this.formCreationSouscripteur.addControl("idProfession",new it.NI(this.personne?.professionSecteurList[0]?this.personne?.professionSecteurList[0].id:"")),this.formCreationSouscripteur.addControl("profession",new it.NI(this.personne?.professionSecteurList[0]?this.personne?.professionSecteurList[0].profession?.idProfession:"")),this.formCreationSouscripteur.get("dateNaissance").updateValueAndValidity(),this.formCreationSouscripteur.get("genre").updateValueAndValidity();break;case"assure":this.getCommune(this.formCreation.value.wilaya,"Assure"),"personne physique"==this.devis?.typeClient?.description&&this.formCreation.get("dateNaissance").setValue(qi.utc(this.formCreation.get("dateNaissance").value).add(1,"hour").toISOString()),this.formCreationAssure=this.formCreation,this.formCreationAssure.addControl("nif",new it.NI(this.personne?.nif,it.kI.pattern(Ci.e.NIF))),"personne physique"==this.devis?.typeClient?.description&&(this.formCreationAssure.addControl("idProfession",new it.NI(this.personne?.professionSecteurList[0]?this.personne?.professionSecteurList[0].id:"")),this.formCreationAssure.addControl("profession",new it.NI(this.personne?.professionSecteurList[0]?this.personne?.professionSecteurList[0].profession?.idProfession:"")),this.formCreationAssure.get("dateNaissance")?.setValidators([it.kI.required,$o]),this.formCreationAssure.get("dateNaissance").updateValueAndValidity(),this.formCreationAssure.get("genre")?.setValidators([it.kI.required]),this.formCreationAssure.get("genre").updateValueAndValidity());break;case"Conducteur":this.getCommune(this.formCreation.value.wilaya,"Conducteur"),this.formCreation.get("dateNaissance").setValue(qi.utc(this.formCreation.get("dateNaissance").value).add(1,"hour").toISOString()),this.formCreationConducteur=this.formCreation,this.formCreationConducteur.addControl("idProfession",new it.NI(this.personne?.professionSecteurList[0]?this.personne?.professionSecteurList[0].id:"")),this.formCreationConducteur.addControl("profession",new it.NI(this.personne?.professionSecteurList[0]?this.personne?.professionSecteurList[0].profession?.idProfession:"")),this.formCreationConducteur.addControl("numeroPermis",new it.NI("",[it.kI.required])),this.formCreationConducteur.addControl("categoriePermis",new it.NI("",[it.kI.required])),this.paraRisqueProduit.map(q=>{if("Conducteur"==q.category){let G=this.paramRisqueDevis?.find(b=>b.libelle==q.libelle&&b.categorieParamRisque==q.category);this.formCreationConducteur.addControl(q.formName,new it.NI(null!=G?{value:null!=G.reponse.valeur?G.reponse.valeur:G.reponse.idParamReponse?.idParam,disabled:!0}:q.defaultValue,[it.kI.required]))}}),this.formCreationConducteur.get("DateDeNaissance")?.setValidators([it.kI.required,$o]),this.formCreationConducteur.get("DateDeNaissance").updateValueAndValidity()}}getAllParamRisque(N){let q=!1,G=[];this.paramRisqueService.getParamByProduit(N).subscribe({next:b=>{this.paramRisqueService.getWorkFlowByProduit(N,46).subscribe({next:te=>{b.map(_e=>{let ye={},Ke=null,Pt=null;if(te.filter(ft=>{_e.paramRisque?.idParamRisque==ft.paramRisque?.idParamRisque&&ft.enabled&&(q=!0,Ke=ft.enabled,Pt=ft.obligatoire)}),"valeur minimum"==_e?.iddictionnaire?.description&&(ye.valeurMin=_e.valeur),"valeur maximum"==_e?.iddictionnaire?.description&&(ye.valeurMax=_e.valeur),ye.codeParam=_e.paramRisque.codeParam,ye.idParamRisque=_e.paramRisque.idParamRisque,ye.libelle=_e.paramRisque.libelle,ye.formName=_e.paramRisque.libelle.split(" ").map(ft=>ft.charAt(0).toUpperCase()+ft.substring(1)).join(""),ye.orderChamp=_e.paramRisque.orderChamp,ye.position=_e.paramRisque.position,ye.typeChamp=_e.paramRisque.typeChamp,ye.sizeChamp=_e.paramRisque.sizeChamp,ye.category=_e.paramRisque.categorieParamRisque?.description,ye.parent=_e.paramRisque.paramRisqueParent,ye.isParent=_e.paramRisque.isParent,ye.reponses=_e.paramRisque.categorie?.paramDictionnaires,ye.typeValeur=_e.iddictionnaire,ye.defaultValue=_e.valeur,ye.obligatoire=Pt,ye.enable=Ke,ye.readonly="P106"!=ye.codeParam&&null!=this.paramRisqueDevis?.find(ft=>ft.libelle==ye.libelle&&ft.categorieParamRisque==ye.category),null==this.paraRisqueProduit.find(ft=>_e.paramRisque?.idParamRisque===ft.idParamRisque)&&q){let ft=this.paramRisqueDevis?.find(St=>St.libelle==ye.libelle&&St.categorieParamRisque==ye.category);"L08"==_e.paramRisque.typeChamp.code&&null==_e.paramRisque.paramRisqueParent&&this.paramRisqueService.getTableParamParent(ye.idParamRisque).subscribe({next:St=>{ye.reponses=St,null!=ft&&this.getChild(ye.idParamRisque,ft?.reponse?.valeur)},error:St=>{}}),null!=ft?"Conducteur"===ye.category?this.formCreationConducteur.addControl(ye.formName,new it.NI({value:null!=ft.reponse.valeur?ft.reponse.valeur:ft.reponse.idParamReponse?.idParam,disabled:ye.readonly},[it.kI.required])):this.formCreationRisque.addControl(ye.formName,new it.NI({value:null!=ft.reponse.valeur?ft.reponse.valeur:ft.reponse.idParamReponse?.idParam,disabled:ye.readonly},[it.kI.required])):"Conducteur"===ye.category?this.formCreationConducteur.addControl(ye.formName,new it.NI({value:ye.defaultValue,disabled:ye.readonly},[it.kI.required])):this.formCreationRisque.addControl(ye.formName,new it.NI({value:ye.defaultValue,disabled:ye.readonly},0!=ye.sizeChamp&&null!=ye.sizeChamp&&"L01"!=ye.typeChamp?.code&&"L08"!=ye.typeChamp?.code?[it.kI.required,it.kI.minLength(ye.sizeChamp),it.kI.maxLength(ye.sizeChamp)]:[it.kI.required])),this.paraRisqueProduit.push(ye)}else q&&("valeur minimum"==_e?.iddictionnaire?.description?(this.formCreationRisque.get(ye.formName)?.addValidators([it.kI.min(ye.valeurMin)]),this.formCreationRisque.get(ye.formName)?.updateValueAndValidity()):"valeur maximum"==_e?.iddictionnaire?.description&&(this.formCreationRisque.get(ye.formName)?.addValidators([it.kI.max(ye.valeurMax)]),this.formCreationRisque.get(ye.formName)?.updateValueAndValidity()));q=!1,G=[]}),this.paraRisqueProduitCategory=this.paraRisqueProduit.reduce((_e,ye)=>((_e[ye.category]=_e[ye.category]||[]).push(ye),_e),{}),this.paraRisqueProduitCategory=Object.values(this.paraRisqueProduitCategory),this.paraRisqueProduitCategory.map(_e=>{_e.sort((ye,Ke)=>ye.orderChamp<Ke.orderChamp?-1:1)})},error:te=>{}})},error:b=>{}}),this.devis?.groupes[0]?.garantieList?.map(b=>{let te="-",_e="-",ye="-";b.sousGarantieList?.filter(Ke=>{this.sousGarantieExist=!0;let Pt="-",ft="-",St="-";Ke?.categorieList?.map(Nt=>{"C15"==Nt.code?(St=Nt.valeur,this.sousFranchiseExist=!0):"C16"==Nt.code?(ft=Nt.valeur,this.sousFormuleExist=!0):"C7"==Nt.code&&(Pt=Nt.valeur,this.sousPlafondExist=!0)}),this.sousGarantieTab.push({idGarantie:Ke.idGarantie,description:Ke.description,prime:Number(b.prime).toFixed(2),plafond:Pt,formule:ft,franchise:St})}),b?.categorieList?.map(Ke=>{"C15"==Ke.code?(ye=Ke.valeur,this.franchiseExist=!0):"C16"==Ke.code?(_e=Ke.valeur,this.formuleExist=!0):"C7"==Ke.code&&(te=Ke.valeur,this.plafondExist=!0)}),this.informationsPack.push({idGarantie:b.idGarantie,description:b.description,prime:Number(b.prime).toFixed(2),plafond:te,formule:_e,franchise:ye,sousGarantieList:new Q.by(this.sousGarantieTab)}),this.sousGarantieTab=[]}),!this.franchiseExist&&!this.sousFranchiseExist&&-1!==this.displayedColumnsPack.indexOf("franchise")&&this.displayedColumnsPack.splice(this.displayedColumnsPack.indexOf("franchise"),1),!this.plafondExist&&!this.sousPlafondExist&&-1!==this.displayedColumnsPack.indexOf("plafond")&&this.displayedColumnsPack.splice(this.displayedColumnsPack.indexOf("plafond"),1),!this.formuleExist&&!this.sousFormuleExist&&-1!==this.displayedColumnsPack.indexOf("formule")&&this.displayedColumnsPack.splice(this.displayedColumnsPack.indexOf("formule"),1),this.PrimeNette=this.devis?.primeList?.find(b=>"CP101"==b.typePrime?.code)?.prime,this.PrimeTotale=this.devis?.primeList?.find(b=>"CP186"==b.typePrime?.code)?.prime,this.dataSourcePack=new Q.by(this.informationsPack)}getChild(N,q){let G=this.paraRisqueProduit.filter(b=>b.parent?.idParamRisque==N)[0].idParamRisque;this.paramRisqueService.getTableParamChild(G,q).subscribe({next:b=>{this.paraRisqueProduit.filter(te=>{te.idParamRisque==G&&(te.reponses=b)})},error:b=>{}})}changeRoleClient(N,q){if(N)switch(q){case"Souscripteur":this.rechercheSouscripteur=!0,this.isAssure=!0,this.formCreationSouscripteur=this.formCreationAssure,this.getCommune(this.formCreationAssure.value.wilaya,"Souscripteur");break;case"Conducteur":this.rechercheConducteur=!0,this.isConducteur=!0,this.isConducteurAssure=!1,this.formCreationConducteur=this.formBuilder.group({codeClient:[""==this.formCreationSouscripteur?.value?.codeClient?null:this.formCreationSouscripteur?.value?.codeClient],nom:[""==this.formCreationSouscripteur?.value?.nom?null:this.formCreationSouscripteur?.value?.nom,[it.kI.required,it.kI.maxLength(40),it.kI.pattern(Ci.e.nom)]],prenom:[""==this.formCreationSouscripteur?.value?.prenom?null:this.formCreationSouscripteur?.value?.prenom,[it.kI.required,it.kI.maxLength(40),it.kI.pattern(Ci.e.nom)]],dateNaissance:[""==this.formCreationSouscripteur?.value?.dateNaissance?null:this.formCreationSouscripteur?.value?.dateNaissance],telephone:[this.formCreationSouscripteur?.value?.telephone,[it.kI.required,it.kI.minLength(this.formCreationSouscripteur?.value?.telephone.length),it.kI.maxLength(this.formCreationSouscripteur?.value?.telephone.length)]],email:[this.formCreationSouscripteur?.value?.email,[it.kI.pattern(Ci.e.email)]],adresse:[this.formCreationSouscripteur?.value?.adresse,[it.kI.required,it.kI.maxLength(60)]],wilaya:[this.formCreationSouscripteur?.value?.wilaya,[it.kI.required]],commune:[this.formCreationSouscripteur?.value?.commune,[it.kI.required]],situation:[this.formCreationSouscripteur?.value?.situation],profession:[this.formCreationSouscripteur?.value?.profession,[it.kI.required]],numeroPermis:["",[it.kI.required]],categoriePermis:["",[it.kI.required]]}),this.getCommune(this.formCreationConducteur.value.wilaya,"Conducteur"),this.paraRisqueProduit.map(G=>{if("Conducteur"==G.category){let b=this.paramRisqueDevis?.find(te=>te.libelle==G.libelle&&te.categorieParamRisque==G.category);this.formCreationConducteur.addControl(G.formName,new it.NI(null!=b?{value:null!=b.reponse.valeur?b.reponse.valeur:b.reponse.idParamReponse?.idParam,disabled:G.readonly}:G.defaultValue,[it.kI.required]))}});break;case"ConducteurAssure":this.rechercheConducteur=!0,this.isConducteurAssure=!0,this.isConducteur=!1,this.formCreationConducteur=this.formBuilder.group({codeClient:[""==this.formCreationAssure?.value?.codeClient?null:this.formCreationAssure?.value?.codeClient],nom:[""==this.formCreationAssure?.value?.nom?null:this.formCreationAssure?.value?.nom,[it.kI.required,it.kI.maxLength(40),it.kI.pattern(Ci.e.nom)]],prenom:[""==this.formCreationAssure?.value?.prenom?null:this.formCreationAssure?.value?.prenom,[it.kI.required,it.kI.maxLength(40),it.kI.pattern(Ci.e.nom)]],dateNaissance:[""==this.formCreationAssure?.value?.dateNaissance?null:this.formCreationAssure?.value?.dateNaissance],telephone:[this.formCreationAssure?.value?.telephone,[it.kI.required,it.kI.minLength(this.formCreationAssure?.value?.telephone.length),it.kI.maxLength(this.formCreationAssure?.value?.telephone.length)]],email:[this.formCreationAssure?.value?.email,[it.kI.pattern(Ci.e.email)]],adresse:[this.formCreationAssure?.value?.adresse,[it.kI.required,it.kI.maxLength(60)]],wilaya:[this.formCreationAssure?.value?.wilaya,[it.kI.required]],commune:[this.formCreationAssure?.value?.commune,[it.kI.required]],situation:[this.formCreationAssure?.value?.situation],profession:[this.formCreationAssure?.value?.profession,[it.kI.required]],numeroPermis:["",[it.kI.required]],categoriePermis:["",[it.kI.required]]}),this.getCommune(this.formCreationConducteur.value.wilaya,"Conducteur"),this.paraRisqueProduit.map(G=>{if("Conducteur"==G.category){let b=this.paramRisqueDevis?.find(te=>te.libelle==G.libelle&&te.categorieParamRisque==G.category);this.formCreationConducteur.addControl(G.formName,new it.NI(null!=b?{value:null!=b.reponse.valeur?b.reponse.valeur:b.reponse.idParamReponse?.idParam,disabled:G.readonly}:G.defaultValue,[it.kI.required]))}})}else switch(q){case"Souscripteur":this.rechercheSouscripteur=!1,this.isAssure=!1,this.formCreationSouscripteur=this.formBuilder.group({codeClient:[null],typeClient:[{value:null,disabled:!1},[it.kI.required]],raisonSocial:[""==this.devis?.raisonSocial?null:this.devis?.raisonSocial,[it.kI.maxLength(40)]],nom:[null,[it.kI.required,it.kI.maxLength(40),it.kI.pattern(Ci.e.nom)]],prenom:[null,[it.kI.required,it.kI.maxLength(40),it.kI.pattern(Ci.e.nom)]],dateOuverture:[null],dateNaissance:["personne physique"==this.devis?.typeClient?.description?this.devis?.dateAssure:null,[it.kI.required]],nin:[{value:null,disabled:!0},[it.kI.pattern(Ci.e.NIN)]],nif:[null,[it.kI.pattern(Ci.e.NIF)]],telephone:[{value:"",disabled:!0},[it.kI.required,it.kI.pattern(Ci.e.mobile)]],email:[{value:"",disabled:!0},[it.kI.pattern(Ci.e.email)]],adresse:[{value:"",disabled:!0},[it.kI.required,it.kI.maxLength(60)]],wilaya:[{value:"",disabled:!0},[it.kI.required]],commune:[{value:"",disabled:!0},[it.kI.required]],genre:[{value:"",disabled:!0},[it.kI.required]],situation:[{value:"",disabled:!0}],profession:[{value:"",disabled:!0}],rib:["",[it.kI.pattern(Ci.e.RIB)]]});break;case"Conducteur":this.rechercheConducteur=!1,this.isConducteur=!1,this.formCreationConducteur=this.formBuilder.group({codeClient:[null],nom:[null,[it.kI.required,it.kI.maxLength(40),it.kI.pattern(Ci.e.nom)]],prenom:[null,[it.kI.required,it.kI.maxLength(40),it.kI.pattern(Ci.e.nom)]],dateNaissance:[null],telephone:[{value:null,disabled:!0},[it.kI.required,it.kI.pattern(Ci.e.mobile)]],email:[{value:"",disabled:!0},[it.kI.pattern(Ci.e.email)]],adresse:[{value:"",disabled:!0},[it.kI.required,it.kI.maxLength(60)]],wilaya:[{value:"",disabled:!0},[it.kI.required]],commune:[{value:"",disabled:!0},[it.kI.required]],situation:[{value:"",disabled:!0}],profession:[{value:"",disabled:!0},[it.kI.required]],numeroPermis:[{value:"",disabled:!0},[it.kI.required]],categoriePermis:[{value:"",disabled:!0},[it.kI.required]]}),this.paraRisqueProduit.map(G=>{if("Conducteur"==G.category){let b=this.paramRisqueDevis?.find(te=>te.libelle==G.libelle&&te.categorieParamRisque==G.category);this.formCreationConducteur.addControl(G.formName,new it.NI(null!=b?{value:null!=b.reponse.valeur?b.reponse.valeur:b.reponse.idParamReponse?.idParam,disabled:!0}:G.defaultValue,[it.kI.required]))}});break;case"ConducteurAssure":this.rechercheConducteur=!1,this.isConducteurAssure=!1,this.formCreationConducteur=this.formBuilder.group({codeClient:[null],nom:[null,[it.kI.required,it.kI.maxLength(40),it.kI.pattern(Ci.e.nom)]],prenom:[null,[it.kI.required,it.kI.maxLength(40),it.kI.pattern(Ci.e.nom)]],dateNaissance:[null],telephone:[{value:null,disabled:!0},[it.kI.required,it.kI.pattern(Ci.e.mobile)]],email:[{value:"",disabled:!0},[it.kI.pattern(Ci.e.email)]],adresse:[{value:"",disabled:!0},[it.kI.required,it.kI.maxLength(60)]],wilaya:[{value:"",disabled:!0},[it.kI.required]],commune:[{value:"",disabled:!0},[it.kI.required]],situation:[{value:"",disabled:!0}],profession:[{value:"",disabled:!0},[it.kI.required]],numeroPermis:[{value:"",disabled:!0},[it.kI.required]],categoriePermis:[{value:"",disabled:!0},[it.kI.required]]}),this.paraRisqueProduit.map(G=>{if("Conducteur"==G.category){let b=this.paramRisqueDevis?.find(te=>te.libelle==G.libelle&&te.categorieParamRisque==G.category);this.formCreationConducteur.addControl(G.formName,new it.NI(null!=b?{value:null!=b.reponse.valeur?b.reponse.valeur:b.reponse.idParamReponse?.idParam,disabled:!0}:G.defaultValue,[it.kI.required]))}})}}submitContrat(){var N=this;return(0,Le.Z)(function*(){let G=0;N.formCreationContrat.enable(),N.formCreationSouscripteur.enable(),N.formCreationAssure.enable(),"45A"==N.codeProduit&&N.formCreationConducteur.enable(),N.formCreationRisque.enable();let b=N.formCreationSouscripteur?.value,te=N.formCreationAssure?.value,_e=N.formCreationConducteur?.value;const ye=N.formCreationContrat.get("dateEffet").value,Ke=qi.utc(ye).add(1,"hour").toISOString();let Pt;if(console.log("jesuis le formCreationContrat ",N.formCreationContrat),console.log("jesuis le souscripteur ",b),N.valider=!0,N.contrat.devis=+N.devis?.idDevis,N.contrat.agence=N.formCreationContrat?.get("agence")?.value,N.formCreationContrat.get("dateEffet").setValue(Ke),N.contrat.dateEffet=Ke,N.contrat.dateExpiration=qi.utc(N.formCreationContrat.value?.dateExpiration).add(1,"hour").toISOString(),N.contrat.personnes=[],b.nom==te.nom&&b.prenom==te.prenom&&b.dateNaissance==te.dateNaissance&&(N.isAssure=!0),b.nom==_e?.nom&&b.prenom==_e?.prenom&&b.dateNaissance==_e?.dateNaissance?N.isConducteur=!0:te.nom==_e?.nom&&te.prenom==_e?.prenom&&te.dateNaissance==_e?.dateNaissance&&(N.isConducteurAssure=!0),["45A","45F","45L"].includes(N.codeProduit)||(N.isConducteur=!1,N.isConducteurAssure=!1),N.isAssure&&N.isConducteur){Pt=null==N.formCreationSouscripteur?.value?.raisonSocial?"PH":"PM";let Ii={role:(N.roles.find(ci=>"CP238"===ci.code)||{}).idParam,typeClient:Pt,risqueList:"45L"==N.devis.produit.codeProduit&&0==N.devis.groupes.length?N.devis.groupes:[N.devis.groupes[0].risques[0].idRisque],idClient:N.formCreationSouscripteur?.value?.codeClient,nom:N.formCreationSouscripteur?.value?.nom,prenom:N.formCreationSouscripteur?.value?.prenom,raisonSocial:N.formCreationSouscripteur?.value?.raisonSocial,dateNaissance:qi.utc(N.formCreationConducteur?.value?.DateDeNaissance).add(1,"hour").toISOString(),nif:N.formCreationSouscripteur?.value?.nif,nin:N.formCreationSouscripteur?.value?.nin,telephone:{idContact:N.formCreationSouscripteur?.value?.idTelephone,description:N.formCreationSouscripteur?.value?.telephone},email:{idContact:N.formCreationSouscripteur?.value?.idEmail,description:N.formCreationSouscripteur?.value?.email},adresse:{idAdresse:N.formCreationSouscripteur?.value?.idAdresse,description:N.formCreationSouscripteur?.value?.adresse,wilaya:N.formCreationSouscripteur?.value?.wilaya,commune:N.formCreationSouscripteur?.value?.commune},genre:N.formCreationSouscripteur?.value?.genre,situation:N.formCreationSouscripteur?.value?.situation,profession:{id:N.formCreationSouscripteur?.value?.idProfession,idProfession:N.formCreationSouscripteur?.value?.profession},rib:{idRib:0,description:N.formCreationAssure?.value?.rib},commercialLineValues:{ligneDeBusiness:N.formCreationAssure?.value?.lineOfBusiness,activite:N.formCreationAssure?.value?.secteurActivite,occupation:N.formCreationAssure?.value?.occupation,naceCode:null},permis:{idDocument:0,description:N.formCreationConducteur?.value?.numeroPermis,categorie:N.formCreationConducteur?.value?.categoriePermis,dateDelivrance:"",wilayaDelivrance:0}};N.paraRisqueProduit.map(ci=>{if("Conducteur"==ci.category)switch(ci.codeParam){case"P56":Ii.permis.wilayaDelivrance=+N.formCreationConducteur?.value[ci.formName];break;case"P54":Ii.permis.dateDelivrance=qi.utc(N.formCreationConducteur?.value[ci.formName]).add(1,"hour").toISOString()}}),N.contrat.personnes.push(Ii)}else if(N.isAssure&&N.isConducteurAssure){Pt=null==N.formCreationSouscripteur?.value?.raisonSocial?"PH":"PM";let Ii={role:(N.roles.find(ci=>"CP238"===ci.code)||{}).idParam,typeClient:Pt,risqueList:[N.devis.groupes[0].risques[0].idRisque],idClient:N.formCreationSouscripteur?.value?.codeClient,nom:N.formCreationSouscripteur?.value?.nom,prenom:N.formCreationSouscripteur?.value?.prenom,raisonSocial:N.formCreationSouscripteur?.value?.raisonSocial,dateNaissance:qi.utc(N.formCreationConducteur?.value?.DateDeNaissance).add(1,"hour").toISOString(),nif:N.formCreationSouscripteur?.value?.nif,nin:N.formCreationSouscripteur?.value?.nin,telephone:{idContact:N.formCreationSouscripteur?.value?.idTelephone,description:N.formCreationSouscripteur?.value?.telephone},email:{idContact:N.formCreationSouscripteur?.value?.idEmail,description:N.formCreationSouscripteur?.value?.email},adresse:{idAdresse:N.formCreationSouscripteur?.value?.idAdresse,description:N.formCreationSouscripteur?.value?.adresse,wilaya:N.formCreationSouscripteur?.value?.wilaya,commune:N.formCreationSouscripteur?.value?.commune},genre:N.formCreationSouscripteur?.value?.genre,situation:N.formCreationSouscripteur?.value?.situation,profession:{id:N.formCreationSouscripteur?.value?.idProfession,idProfession:N.formCreationSouscripteur?.value?.profession},rib:{idRib:0,description:N.formCreationAssure?.value?.rib},commercialLineValues:{ligneDeBusiness:N.formCreationAssure?.value?.lineOfBusiness,activite:N.formCreationAssure?.value?.secteurActivite,occupation:N.formCreationAssure?.value?.occupation,naceCode:null},permis:{idDocument:0,description:N.formCreationConducteur?.value?.numeroPermis,categorie:N.formCreationConducteur?.value?.categoriePermis,dateDelivrance:"",wilayaDelivrance:0}};N.paraRisqueProduit.map(ci=>{if("Conducteur"==ci.category)switch(ci.codeParam){case"P56":Ii.permis.wilayaDelivrance=+N.formCreationConducteur?.value[ci.formName];break;case"P54":Ii.permis.dateDelivrance=qi.utc(N.formCreationConducteur?.value[ci.formName]).add(1,"hour").toISOString()}}),N.contrat.personnes.push(Ii)}else if(N.isAssure){console.log("is assure"),Pt=null==N.formCreationSouscripteur?.value?.raisonSocial?"PH":"PM";let Ii={role:(N.roles.find(ci=>"CP236"===ci.code)||{}).idParam,typeClient:Pt,risqueList:[],idClient:N.formCreationSouscripteur?.value?.codeClient,nom:N.formCreationSouscripteur?.value?.nom,prenom:N.formCreationSouscripteur?.value?.prenom,raisonSocial:N.formCreationSouscripteur?.value?.raisonSocial,dateNaissance:"personne physique"==N.devis?.typeClient?.description?qi.utc(N.formCreationAssure?.value?.dateNaissance).add(1,"hour").toISOString():"",nif:N.formCreationSouscripteur?.value?.nif,nin:N.formCreationSouscripteur?.value?.nin,telephone:{idContact:N.formCreationSouscripteur?.value?.idTelephone,description:N.formCreationSouscripteur?.value?.telephone},email:{idContact:N.formCreationSouscripteur?.value?.idEmail,description:N.formCreationSouscripteur?.value?.email},adresse:{idAdresse:N.formCreationSouscripteur?.value?.idAdresse,description:N.formCreationSouscripteur?.value?.adresse,wilaya:N.formCreationSouscripteur?.value?.wilaya,commune:N.formCreationSouscripteur?.value?.commune},genre:N.formCreationSouscripteur?.value?.genre,situation:N.formCreationSouscripteur?.value?.situation,profession:{id:N.formCreationSouscripteur?.value?.idProfession,idProfession:N.formCreationSouscripteur?.value?.profession},rib:{idRib:0,description:N.formCreationAssure?.value?.rib},commercialLineValues:{ligneDeBusiness:N.formCreationAssure?.value?.lineOfBusiness,activite:N.formCreationAssure?.value?.secteurActivite,occupation:N.formCreationAssure?.value?.occupation,naceCode:null},permis:{}};if(N.contrat.personnes.push(Ii),"45A"==N.codeProduit){Pt=null==N.formCreationConducteur?.value?.raisonSocial?"PH":"PM";let ci={role:(N.roles.find(io=>"CP233"===io.code)||{}).idParam,typeClient:Pt,risqueList:[N.devis.groupes[0].risques[0].idRisque],idClient:N.formCreationConducteur?.value?.codeClient,nom:N.formCreationConducteur?.value?.nom,prenom:N.formCreationConducteur?.value?.prenom,raisonSocial:"",dateNaissance:qi.utc(N.formCreationConducteur?.value?.DateDeNaissance).add(1,"hour").toISOString(),nif:null,nin:"",telephone:{idContact:N.formCreationConducteur?.value?.idTelephone,description:N.formCreationConducteur?.value?.telephone},email:{idContact:N.formCreationConducteur?.value?.idEmail,description:N.formCreationConducteur?.value?.email},adresse:{idAdresse:N.formCreationConducteur?.value?.idAdresse,description:N.formCreationConducteur?.value?.adresse,wilaya:N.formCreationConducteur?.value?.wilaya,commune:N.formCreationConducteur?.value?.commune},genre:0,situation:N.formCreationConducteur?.value?.situation,profession:{id:N.formCreationConducteur?.value?.idProfession,idProfession:N.formCreationConducteur?.value?.profession},rib:{},commercialLineValues:{idlineOfBusiness:N.formCreationAssure?.value?.lineOfBusiness,idsecteurActivite:N.formCreationAssure?.value?.secteurActivite,idoccupation:N.formCreationAssure?.value?.occupation,naceCode:null},permis:{idDocument:0,description:N.formCreationConducteur?.value?.numeroPermis,categorie:N.formCreationConducteur?.value?.categoriePermis,dateDelivrance:"",wilayaDelivrance:0}};N.paraRisqueProduit.map(io=>{if("Conducteur"==io.category)switch(io.codeParam){case"P56":ci.permis.wilayaDelivrance=+N.formCreationConducteur?.value[io.formName];break;case"P54":ci.permis.dateDelivrance=qi.utc(N.formCreationConducteur?.value[io.formName]).add(1,"hour").toISOString();break;case"P24":ci.genre=N.formCreationConducteur?.value[io.formName];break;case"P55":ci.dateNaissance=qi.utc(N.formCreationConducteur?.value[io.formName]).add(1,"hour").toISOString()}}),N.contrat.personnes.push(ci)}}else if(N.isConducteur){Pt=null==N.formCreationSouscripteur?.value?.raisonSocial?"PH":"PM";let Ii={role:(N.roles.find(io=>"CP237"===io.code)||{}).idParam,typeClient:Pt,risqueList:[N.devis.groupes[0].risques[0].idRisque],idClient:N.formCreationSouscripteur?.value?.codeClient,nom:N.formCreationSouscripteur?.value?.nom,prenom:N.formCreationSouscripteur?.value?.prenom,raisonSocial:N.formCreationSouscripteur?.value?.raisonSocial,dateNaissance:qi.utc(N.formCreationConducteur?.value?.DateDeNaissance).add(1,"hour").toISOString(),nif:N.formCreationSouscripteur?.value?.nif,nin:N.formCreationSouscripteur?.value?.nin,telephone:{idContact:N.formCreationSouscripteur?.value?.idTelephone,description:N.formCreationSouscripteur?.value?.telephone},email:{idContact:N.formCreationSouscripteur?.value?.idEmail,description:N.formCreationSouscripteur?.value?.email},adresse:{idAdresse:N.formCreationSouscripteur?.value?.idAdresse,description:N.formCreationSouscripteur?.value?.adresse,wilaya:N.formCreationSouscripteur?.value?.wilaya,commune:N.formCreationSouscripteur?.value?.commune},genre:N.formCreationSouscripteur?.value?.genre,situation:N.formCreationSouscripteur?.value?.situation,profession:{id:N.formCreationSouscripteur?.value?.idProfession,idProfession:N.formCreationSouscripteur?.value?.profession},rib:{},commercialLineValues:{ligneDeBusiness:N.formCreationAssure?.value?.lineOfBusiness,activite:N.formCreationAssure?.value?.secteurActivite,occupation:N.formCreationAssure?.value?.occupation,naceCode:null},permis:{idDocument:0,description:N.formCreationConducteur?.value?.numeroPermis,categorie:N.formCreationConducteur?.value?.categoriePermis,dateDelivrance:"",wilayaDelivrance:0}};N.paraRisqueProduit.map(io=>{if("Conducteur"==io.category)switch(io.codeParam){case"P56":Ii.permis.wilayaDelivrance=+N.formCreationConducteur?.value[io.formName];break;case"P54":Ii.permis.dateDelivrance=qi.utc(N.formCreationConducteur?.value[io.formName]).add(1,"hour").toISOString()}}),N.contrat.personnes.push(Ii),Pt=null==N.formCreationAssure?.value?.raisonSocial?"PH":"PM";let ci={role:(N.roles.find(io=>"CP235"===io.code)||{}).idParam,risqueList:[],typeClient:Pt,idClient:N.formCreationAssure?.value?.codeClient,nom:N.formCreationAssure?.value?.nom,prenom:N.formCreationAssure?.value?.prenom,raisonSocial:N.formCreationAssure?.value?.raisonSocial,dateNaissance:"personne physique"==N.devis?.typeClient?.description?qi.utc(N.formCreationAssure?.value?.dateNaissance).add(1,"hour").toISOString():"",nif:N.formCreationAssure?.value?.nif,nin:N.formCreationAssure?.value?.nin,telephone:{idContact:N.formCreationAssure?.value?.idTelephone,description:N.formCreationAssure?.value?.telephone},email:{idContact:N.formCreationAssure?.value?.idEmail,description:N.formCreationAssure?.value?.email},adresse:{idAdresse:N.formCreationAssure?.value?.idAdresse,description:N.formCreationAssure?.value?.adresse,wilaya:N.formCreationAssure?.value?.wilaya,commune:N.formCreationAssure?.value?.commune},genre:N.formCreationAssure?.value?.genre,situation:N.formCreationAssure?.value?.situation,profession:{id:N.formCreationAssure?.value?.idProfession,idProfession:N.formCreationAssure?.value?.profession},rib:{idRib:0,description:N.formCreationAssure?.value?.rib},commercialLineValues:{ligneDeBusiness:N.formCreationAssure?.value?.lineOfBusiness,activite:N.formCreationAssure?.value?.secteurActivite,occupation:N.formCreationAssure?.value?.occupation,naceCode:null},permis:{}};N.contrat.personnes.push(ci)}else if(N.isConducteurAssure){Pt=null==N.formCreationSouscripteur?.value?.raisonSocial?"PH":"PM";let Ii={role:(N.roles.find(io=>"CP234"===io.code)||{}).idParam,typeClient:Pt,risqueList:[],idClient:N.formCreationSouscripteur?.value?.codeClient,nom:N.formCreationSouscripteur?.value?.nom,prenom:N.formCreationSouscripteur?.value?.prenom,raisonSocial:N.formCreationSouscripteur?.value?.raisonSocial,dateNaissance:qi.utc(N.formCreationSouscripteur?.value?.dateNaissance).add(1,"hour").toISOString(),nif:N.formCreationSouscripteur?.value?.nif,nin:N.formCreationSouscripteur?.value?.nin,telephone:{idContact:N.formCreationSouscripteur?.value?.idTelephone,description:N.formCreationSouscripteur?.value?.telephone},email:{idContact:N.formCreationSouscripteur?.value?.idEmail,description:N.formCreationSouscripteur?.value?.email},adresse:{idAdresse:N.formCreationSouscripteur?.value?.idAdresse,description:N.formCreationSouscripteur?.value?.adresse,wilaya:N.formCreationSouscripteur?.value?.wilaya,commune:N.formCreationSouscripteur?.value?.commune},genre:N.formCreationSouscripteur?.value?.genre,situation:N.formCreationSouscripteur?.value?.situation,profession:{id:N.formCreationSouscripteur?.value?.idProfession,idProfession:N.formCreationSouscripteur?.value?.profession},rib:{},commercialLineValues:{ligneDeBusiness:N.formCreationAssure?.value?.lineOfBusiness,activite:N.formCreationAssure?.value?.secteurActivite,occupation:N.formCreationAssure?.value?.occupation,naceCode:null},permis:{}};N.contrat.personnes.push(Ii),Pt=null==N.formCreationAssure?.value?.raisonSocial?"PH":"PM";let ci={role:(N.roles.find(io=>"CP240"===io.code)||{}).idParam,typeClient:Pt,idClient:N.formCreationAssure?.value?.codeClient,risqueList:[N.devis.groupes[0].risques[0].idRisque],nom:N.formCreationAssure?.value?.nom,prenom:N.formCreationAssure?.value?.prenom,raisonSocial:N.formCreationAssure?.value?.raisonSocial,dateNaissance:qi.utc(N.formCreationConducteur?.value?.DateDeNaissance).add(1,"hour").toISOString(),nif:N.formCreationAssure?.value?.nif,nin:N.formCreationAssure?.value?.nin,telephone:{idContact:N.formCreationAssure?.value?.idTelephone,description:N.formCreationAssure?.value?.telephone},email:{idContact:N.formCreationAssure?.value?.idEmail,description:N.formCreationAssure?.value?.email},adresse:{idAdresse:N.formCreationAssure?.value?.idAdresse,description:N.formCreationAssure?.value?.adresse,wilaya:N.formCreationAssure?.value?.wilaya,commune:N.formCreationAssure?.value?.commune},genre:N.formCreationAssure?.value?.genre,situation:N.formCreationAssure?.value?.situation,profession:{id:N.formCreationAssure?.value?.idProfession,idProfession:N.formCreationAssure?.value?.profession},rib:{idRib:0,description:N.formCreationAssure?.value?.rib},commercialLineValues:{ligneDeBusiness:N.formCreationAssure?.value?.lineOfBusiness,activite:N.formCreationAssure?.value?.secteurActivite,occupation:N.formCreationAssure?.value?.occupation,naceCode:null},permis:{idDocument:0,description:N.formCreationConducteur?.value?.numeroPermis,categorie:N.formCreationConducteur?.value?.categoriePermis,dateDelivrance:"",wilayaDelivrance:0}};N.paraRisqueProduit.map(io=>{if("Conducteur"==io.category)switch(io.codeParam){case"P56":ci.permis.wilayaDelivrance=+N.formCreationConducteur?.value[io.formName];break;case"P54":ci.permis.dateDelivrance=qi.utc(N.formCreationConducteur?.value[io.formName]).add(1,"hour").toISOString();break;case"P24":ci.genre=N.formCreationConducteur?.value[io.formName];break;case"P55":ci.dateNaissance=qi.utc(N.formCreationConducteur?.value[io.formName]).add(1,"hour").toISOString()}}),N.contrat.personnes.push(ci)}else{console.log("on sait pas ",N.formCreationSouscripteur),Pt=null==N.formCreationSouscripteur?.value?.raisonSocial?"PH":"PM";let Ii={role:(N.roles.find(io=>"CP234"===io.code)||{}).idParam,typeClient:Pt,risqueList:[],idClient:N.formCreationSouscripteur?.value?.codeClient,nom:N.formCreationSouscripteur?.value?.nom,prenom:N.formCreationSouscripteur?.value?.prenom,raisonSocial:N.formCreationSouscripteur?.value?.raisonSocial,dateNaissance:"PH"==Pt?qi.utc(N.formCreationSouscripteur?.value?.dateNaissance).add(1,"hour").toISOString():"",nif:N.formCreationSouscripteur?.value?.nif,nin:N.formCreationSouscripteur?.value?.nin,telephone:{idContact:N.formCreationSouscripteur?.value?.idTelephone,description:N.formCreationSouscripteur?.value?.telephone},email:{idContact:N.formCreationSouscripteur?.value?.idEmail,description:N.formCreationSouscripteur?.value?.email},adresse:{idAdresse:N.formCreationSouscripteur?.value?.idAdresse,description:N.formCreationSouscripteur?.value?.adresse,wilaya:N.formCreationSouscripteur?.value?.wilaya,commune:N.formCreationSouscripteur?.value?.commune},genre:N.formCreationSouscripteur?.value?.genre,situation:N.formCreationSouscripteur?.value?.situation,profession:{id:N.formCreationSouscripteur?.value?.idProfession,idProfession:N.formCreationSouscripteur?.value?.profession},rib:{},commercialLineValues:{ligneDeBusiness:N.formCreationAssure?.value?.lineOfBusiness,activite:N.formCreationAssure?.value?.secteurActivite,occupation:N.formCreationAssure?.value?.occupation,naceCode:null},permis:{}};N.contrat.personnes.push(Ii),Pt=null==N.formCreationAssure?.value?.raisonSocial?"PH":"PM";let ci={role:(N.roles.find(io=>"CP235"===io.code)||{}).idParam,typeClient:Pt,risqueList:[],idClient:N.formCreationAssure?.value?.codeClient,nom:N.formCreationAssure?.value?.nom,prenom:N.formCreationAssure?.value?.prenom,raisonSocial:N.formCreationAssure?.value?.raisonSocial,dateNaissance:"personne physique"==N.devis?.typeClient?.description?qi.utc(N.formCreationAssure?.value?.dateNaissance).add(1,"hour").toISOString():"",nif:N.formCreationAssure?.value?.nif,nin:N.formCreationAssure?.value?.nin,telephone:{idContact:N.formCreationAssure?.value?.idTelephone,description:N.formCreationAssure?.value?.telephone},email:{idContact:N.formCreationAssure?.value?.idEmail,description:N.formCreationAssure?.value?.email},adresse:{idAdresse:N.formCreationAssure?.value?.idAdresse,description:N.formCreationAssure?.value?.adresse,wilaya:N.formCreationAssure?.value?.wilaya,commune:N.formCreationAssure?.value?.commune},genre:N.formCreationAssure?.value?.genre,situation:N.formCreationAssure?.value?.situation,profession:{id:N.formCreationAssure?.value?.idProfession,idProfession:N.formCreationAssure?.value?.profession},rib:{idRib:0,description:N.formCreationAssure?.value?.rib},commercialLineValues:{ligneDeBusiness:N.formCreationAssure?.value?.lineOfBusiness,activite:N.formCreationAssure?.value?.secteurActivite,occupation:N.formCreationAssure?.value?.occupation,naceCode:null},permis:{}};if(N.contrat.personnes.push(ci),"45A"==N.codeProduit){Pt=null==N.formCreationConducteur?.value?.raisonSocial?"PH":"PM";let io={role:(N.roles.find(yl=>"CP233"===yl.code)||{}).idParam,typeClient:Pt,risqueList:[N.devis.groupes[0].risques[0].idRisque],idClient:N.formCreationConducteur?.value?.codeClient,nom:N.formCreationConducteur?.value?.nom,prenom:N.formCreationConducteur?.value?.prenom,raisonSocial:"",dateNaissance:qi.utc(N.formCreationConducteur?.value?.DateDeNaissance).add(1,"hour").toISOString(),nif:null,nin:"",telephone:{idContact:N.formCreationConducteur?.value?.idTelephone,description:N.formCreationConducteur?.value?.telephone},email:{idContact:N.formCreationConducteur?.value?.idEmail,description:N.formCreationConducteur?.value?.email},adresse:{idAdresse:N.formCreationConducteur?.value?.idAdresse,description:N.formCreationConducteur?.value?.adresse,wilaya:N.formCreationConducteur?.value?.wilaya,commune:N.formCreationConducteur?.value?.commune},genre:0,situation:N.formCreationConducteur?.value?.situation,profession:{id:N.formCreationConducteur?.value?.idProfession,idProfession:N.formCreationConducteur?.value?.profession},rib:{},commercialLineValues:{idlineOfBusiness:N.formCreationAssure?.value?.lineOfBusiness,idsecteurActivite:N.formCreationAssure?.value?.secteurActivite,idoccupation:N.formCreationAssure?.value?.occupation,naceCode:null},permis:{idDocument:0,description:N.formCreationConducteur?.value?.numeroPermis,categorie:N.formCreationConducteur?.value?.categoriePermis,dateDelivrance:"",wilayaDelivrance:0}};N.paraRisqueProduit.map(yl=>{if("Conducteur"==yl.category)switch(yl.codeParam){case"P56":io.permis.wilayaDelivrance=+N.formCreationConducteur?.value[yl.formName];break;case"P54":io.permis.dateDelivrance=qi.utc(N.formCreationConducteur?.value[yl.formName]).add(1,"hour").toISOString();break;case"P24":io.genre=N.formCreationConducteur?.value[yl.formName];break;case"P55":io.dateNaissance=qi.utc(N.formCreationConducteur?.value[yl.formName]).add(1,"hour").toISOString()}}),N.contrat.personnes.push(io)}}N.contrat.risqueList=[{risque:[]}];let ft,Bn,hn,St=null,Nt="",no={paramList:[]},kn=[];N.multiRisque?N.contratGroupe=N.devis.groupes:(N.paraRisqueProduit.map(Ii=>{"Conducteur"!=Ii.category?(Object.keys(N.formCreationRisque.value).map(ci=>{ci==Ii.formName&&(ft=Ii.idParamRisque,"Liste of values"==Ii.typeChamp?.description?(St=N.formCreationRisque.get(ci).value,Nt=""):(St=null,"Marque"==ci||"Mod\xe8le"==ci?(St=N.formCreationRisque.get(ci).value,Nt=""):(Nt=N.formCreationRisque.get(ci).value,St=null)),Bn={idParam:ft,reponse:{idReponse:St,description:Nt}})}),no.paramList.push(Bn)):(Object.keys(N.formCreationConducteur.value).map(ci=>{ci==Ii.formName&&(ft=Ii.idParamRisque,"Liste of values"==Ii.typeChamp?.description?(St=N.formCreationConducteur.get(ci).value,Nt=""):(St=null,Nt=N.formCreationConducteur.get(ci).value),hn={idParam:ft,reponse:{idReponse:St,description:Nt}})}),no.paramList.push(hn))}),1,kn.push({idRisque:N.devis.groupes[0].risques[0].idRisque,paramList:no.paramList}),N.contratGroupe=[{groupe:{description:N.devis.groupes[0].description,idGroupe:N.devis.groupes[0].idGroupe},groupeList:kn}]),N.contrat.groupes=N.contratGroupe,N.contrat.auditUser=sessionStorage.getItem("userId");const Gi=yield N.cryptoService.generateHmac(N.tkn,N.contrat),Jo={stringJson:JSON.stringify(N.contrat),signature:Gi};N.contratService.createContrat(Jo).subscribe({next:Ii=>{N.valider=!1,n().fire(`La police N\xb0 ${Ii.idContrat} a \xe9t\xe9 cr\xe9er avec succ\xe9s.`,"","success"),N.redirectConsultation()},error:Ii=>{N.valider=!1;let io,ci="";switch(io=null==Ii.code?Ii.status:Ii.code,io){case 400:case 404:ci=Ii.message;break;case 402:ci="Erreur lors de la validation du contrat, veuillez contacter l'administrateur.";break;default:ci="Erreur syst\xe8me, veuillez contacter l'administrateur."}n().fire(ci,"","error")}})})()}changeAccess(){this.devisService.updateAccessDevis({idDevisAccess:this.devisAccess?.idDevisAccess,devis:this.devis,accessContrat:1,accessAvenant:1}).subscribe({next:q=>{},error:q=>{}})}redirectConsultation(){this.router.navigate(["consultation-police/"+this.route.snapshot.paramMap.get("codeProduit")+"/"+this.route.snapshot.paramMap.get("produit")])}checkDateNaissance(N){"45A"==this.codeProduit?this.isConducteur?(this.formCreationConducteur.get("DateDeNaissance").setValue(qi.utc(this.formCreationConducteur.get("DateDeNaissance").value).add(1,"hour").toISOString()),this.formCreationSouscripteur.get("dateNaissance").setValue(qi.utc(this.formCreationSouscripteur.get("dateNaissance").value).add(1,"hour").toISOString()),this.formCreationConducteur.get("DateDeNaissance").value==this.formCreationSouscripteur.get("dateNaissance").value?this.formCreationConducteur.valid&&this.formCreationRisque.valid&&this.rechercheConducteur?N.next():(this.formCreationConducteur.markAllAsTouched(),this.formCreationRisque.markAllAsTouched()):n().fire("Ces informations sont pas identique \xe0 celle ins\xe9r\xe9 dans le devis.",'<center>Vous pouvez soit :\n</center> \n              \u2022 D\xe9cochez "Cette personne est-elle le souscripteur". </br>\n              \u2022 Changez la date de naissance du souscripteur. </br>\n              \u2022 Refaire un devis. </br>\n            ',"warning")):this.formCreationConducteur.valid&&this.formCreationRisque.valid&&this.rechercheConducteur?N.next():(this.formCreationConducteur.markAllAsTouched(),this.formCreationRisque.markAllAsTouched()):this.formCreationRisque.valid?N.next():this.formCreationRisque.markAllAsTouched()}openDialog(N,q){this.devisService.getParamDevisByIdRisque(this.idDevis,q,N).subscribe({next:G=>{let b=G.reduce((_e,ye)=>(_e[ye.libelle]=ye.reponse.idParamReponse?.description||ye.reponse.valeur,_e),{});this.dialog.open(Ha._,{width:"60%",data:{risque:b}}).afterClosed().subscribe(_e=>{})},error:G=>{}})}openGroup(N){this.devisService.getPackByGroupe(N,this.idDevis).subscribe({next:q=>{this.groupPack.push({garanties:q.garanties,idGroupe:N,pack:q.pack})},error:q=>{}})}}return U.\u0275fac=function(N){return new(N||U)(i.Y36(ys.$),i.Y36(wa.Y),i.Y36(di.w),i.Y36(ee.F0),i.Y36(Ze.H),i.Y36(Yr.F),i.Y36(O.uw),i.Y36($a.D),i.Y36(J.M),i.Y36(Ns.Y),i.Y36(ba.d),i.Y36(Ka.e),i.Y36(Ro.t),i.Y36(Oa.F),i.Y36(he.J),i.Y36(ee.gz),i.Y36(it.qu))},U.\u0275cmp=i.Xpm({type:U,selectors:[["app-creation-contrat"]],viewQuery:function(N,q){if(1&N&&i.Gf(nt,5),2&N){let G;i.iGM(G=i.CRH())&&(q.myStepper=G.first)}},decls:1,vars:1,consts:[["class","container",4,"ngIf"],[1,"container"],[1,"header-title"],["aria-label","directions_car",1,"mat-icon","notranslate","material-symbols-outlined","material-icons","mat-icon-no-color"],[3,"linear"],["stepper",""],[3,"stepControl","editable"],["matStepLabel",""],["multi","",1,"example-headers-align"],[3,"formGroup",4,"ngIf"],[1,"row-button"],[1,"btn","btn-cancel",3,"mouseup"],[1,"btn","btn-action",3,"click"],[3,"stepControl","editable",4,"ngIf"],[3,"editable",4,"ngIf"],[3,"editable"],["class","row",3,"formGroup",4,"ngIf"],[1,"resume"],[4,"ngFor","ngForOf"],["matStepperPrevious","",1,"btn","btn-cancel"],["color","white","diameter","30",4,"ngIf"],[4,"ngIf"],[3,"formGroup"],[3,"expanded"],[1,"row",2,"padding","1rem 2rem"],["appearance","outline",1,"col-md-6"],["formControlName","agence"],["formControlName","produit"],["formControlName","duree"],["matInput","","formControlName","dateEffet",3,"matDatepicker","min","max"],["matSuffix","",3,"for"],["pickerDateEffet",""],["class","invalid-feedback",4,"ngIf"],[3,"value"],[1,"invalid-feedback"],["class","row","style","padding: 1rem 2rem;",4,"ngIf"],[1,"row",2,"display","flex","align-items","center","justify-content","space-between"],["type","text","matInput","","placeholder","","formControlName","raisonSocial",3,"readonly"],["class","btn btn-secondary","style","display: flex; width: auto;",3,"mouseup",4,"ngIf"],["class","btn btn-disable","disabled","","style","display: flex; width: auto;",3,"mouseup",4,"ngIf"],["type","text","matInput","","placeholder","","formControlName","rib"],["pattern","[0-9]{15}","appearance","outline",1,"col-md-6"],["type","text","matInput","","placeholder","","formControlName","nif"],["matPrefix",""],["type","text","matInput","","placeholder","","formControlName","telephone"],["type","text","matInput","","placeholder","","formControlName","email"],["appearance","outline",1,"col-md-4"],["type","text","matInput","","placeholder","","formControlName","adresse"],["formControlName","wilaya",3,"selectionChange"],["formControlName","commune"],["class","col-md-4","appearance","outline",4,"ngIf"],[1,"btn","btn-secondary",2,"display","flex","width","auto",3,"mouseup"],["disabled","",1,"btn","btn-disable",2,"display","flex","width","auto",3,"mouseup"],["formControlName","lineOfBusiness",3,"selectionChange"],[3,"value",4,"ngFor","ngForOf"],["formControlName","secteurActivite",3,"selectionChange"],["formControlName","occupation",3,"selectionChange"],["appearance","outline",1,"col-md-3"],["type","text","matInput","","placeholder","","formControlName","nom",3,"readonly"],["type","text","matInput","","placeholder","","formControlName","prenom",3,"readonly"],["matInput","","formControlName","dateNaissance",3,"max","matDatepicker"],["pickerdateNaissance",""],["disabled","","class","btn btn-disable","style","display: flex; width: auto;",3,"mouseup",4,"ngIf"],["class","col-md-4","pattern","[0-9]{18}","appearance","outline",4,"ngIf"],["formControlName","genre"],["formControlName","situation"],["formControlName","profession"],["pattern","[0-9]{18}","appearance","outline",1,"col-md-4"],["type","text","matInput","","placeholder","","formControlName","nin"],["class","col-md-12","style","padding: 1rem 2rem;",3,"change",4,"ngIf"],[1,"row"],["appearance","outline","class","col-md-5",4,"ngIf"],["class","row","style","display: flex;align-items: center;justify-content: space-between;",4,"ngIf"],["class","col-md-6","pattern","[0-9]{15}","appearance","outline",4,"ngIf"],[1,"col-md-12",2,"padding","1rem 2rem",3,"change"],["appearance","outline",1,"col-md-5"],["formControlName","typeClient",3,"selectionChange"],["type","text","matInput","","placeholder","","formControlName","nom"],["type","text","matInput","","placeholder","","formControlName","prenom"],[2,"display","flex","width","auto"],["class","btn btn-secondary",3,"mouseup",4,"ngIf"],["disabled","","class","btn btn-disable",3,"mouseup",4,"ngIf"],[1,"btn","btn-secondary",3,"mouseup"],["disabled","",1,"btn","btn-disable",3,"mouseup"],[4,"ngIf","ngIfElse"],["multirisque",""],["hideToggle","","class","panel-risque",3,"expanded",4,"ngFor","ngForOf"],[1,"btn","btn-action",3,"mouseup"],["hideToggle","",1,"panel-risque",3,"expanded"],[1,"categoryTitle"],[1,"col-md-12","Conducteur",2,"padding","1rem 2rem",3,"checked","change"],["class","col-md-12 ConducteurAssure","style","padding: 1rem 2rem;",3,"checked","change",4,"ngIf"],["type","text","matInput","","placeholder","","formControlName","numeroPermis"],["formControlName","categoriePermis"],[1,"col-md-12","ConducteurAssure",2,"padding","1rem 2rem",3,"checked","change"],["class","col-md-3","appearance","outline",4,"ngIf"],["matInput","",3,"max","matDatepicker","formControlName","disabled"],["class","col-md-5","appearance","outline",4,"ngIf"],[3,"disabled","formControlName"],["type","text","matInput","",3,"disabled","formControlName"],["type","number","matInput","","pattern","^[0-9]+[0-9]*([.][0-9]*)?$",3,"disabled","formControlName"],[3,"formControlName"],["matInput","","placeholder","",3,"matDatepicker","formControlName","disabled"],["picker",""],[3,"formControlName","selectionChange"],[1,"main-multirisque"],[3,"expanded",4,"ngFor","ngForOf"],["matStepperNext","",1,"btn","btn-action"],[1,"gestion-risques"],["mat-icon-button","","type","button","aria-label","menu risque list",3,"matMenuTriggerFor"],["xPosition","after"],["menu","matMenu"],["mat-menu-item","","type","button",3,"click"],["class","example-headers-align","multi","",4,"ngIf","ngIfElse"],[1,"row",2,"display","flex","align-items","center","justify-content","space-between","margin","2rem 1rem"],[3,"value","disabled"],["mat-table","","multiTemplateDataRows","",1,"mat-elevation-z8","pack-table",3,"dataSource"],["matColumnDef","description"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","plafond"],["matColumnDef","franchise"],["matColumnDef","formule"],["matColumnDef","prime"],["matColumnDef","sousGaranties"],["mat-cell","","class","example-element-row",3,"example-expanded-row",4,"matCellDef"],["matColumnDef","expandedDetail"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-row","","class","example-detail-row",4,"matRowDef","matRowDefColumns"],[1,"row","card"],[1,"prime-card"],[2,"font-size","21px","color","#00008f","font-weight","600"],[2,"font-size","18px","font-weight","600","margin-right","12px"],[2,"float","right"],["mat-header-cell",""],["mat-cell",""],["mat-cell","",1,"example-element-row"],["mat-icon-button","","class","expandButton","type","button","aria-label","",3,"click",4,"ngIf"],["mat-icon-button","","type","button","aria-label","",1,"expandButton",3,"click"],[1,"example-element-detail"],["mat-table","",1,"example-element-diagram","pack-table","innertable",3,"dataSource"],["mat-header-row",""],["mat-row",""],["mat-row","",1,"example-detail-row"],[1,"row",3,"formGroup"],["matInput","","formControlName","convention"],["matInput","","formControlName","reduction"],[1,""],["matStepperPrevious","","type","button",1,"btn","btn-cancel"],[1,"primeTotale"],["color","white","diameter","30"]],template:function(N,q){1&N&&i.YNc(0,fr,43,23,"div",0),2&N&&i.Q6J("ngIf",q.renderGlobal)},dependencies:[Se.sg,Se.O5,l.Hw,t.pp,t.ib,t.yz,t.yK,t.u4,Ft.VK,Ft.OP,Ft.p6,it._Y,it.Fj,it.wV,it.JJ,it.JL,it.c5,it.sg,it.u,qr.TO,qr.KE,qr.hX,qr.qo,qr.R9,Ca.Nt,Q.BZ,Q.fO,Q.as,Q.w1,Q.Dz,Q.nj,Q.ge,Q.ev,Q.XQ,Q.Gk,Vr.Mq,Vr.hl,Vr.nW,ca.gD,So.ey,ut.lW,jr.C0,jr.VY,jr.Vq,jr.Ic,jr.fd,Hr.oG,oo.Ou,Se.JJ,tt.X],styles:[".container[_ngcontent-%COMP%]{background-color:#fff;padding:40px 0;height:100%;overflow-y:auto;overflow-x:hidden}h2.header-title[_ngcontent-%COMP%]{padding:0 24px;font-size:21px!important;color:#00008f;font-weight:600!important;letter-spacing:1px;display:flex;justify-content:flex-end}h2.header-title[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{margin-right:1rem}.mat-expansion-panel-header[_ngcontent-%COMP%]{background:rgba(199,199,199,.2)!important;font-weight:600;font-size:16px}.mat-expansion-panel-header.mat-expanded[_ngcontent-%COMP%]{height:48px}  .mat-step-header .mat-step-icon-state-edit{background-color:#d14624}  .mat-form-field-appearance-outline .mat-form-field-prefix{top:auto!important}.mat-expansion-panel-header-title[_ngcontent-%COMP%]{color:#00008f}  .mat-step-text-label{font-size:16px}  .mat-step-label-selected .mat-step-text-label{font-size:16px;font-weight:700;color:#00008f}.btn.btn-action[_ngcontent-%COMP%]{margin-top:2rem;float:right}.btn.btn-cancel[_ngcontent-%COMP%]{margin-top:2rem;float:left}.btn.btn-download[_ngcontent-%COMP%]{box-shadow:0 1px 2px #00000026;transition:box-shadow .3s ease-in-out}.btn.btn-download[_ngcontent-%COMP%]:hover{box-shadow:0 5px 15px #0000004d}table[_ngcontent-%COMP%]{width:100%}.mat-row[_ngcontent-%COMP%]:nth-child(even), .mat-header-row[_ngcontent-%COMP%]{background-color:#f7f7f9}.mat-header-row[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{color:#00008f}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:16px}.mat-header-cell[_ngcontent-%COMP%]{color:#333;font-weight:600;letter-spacing:.5px;font-size:15px;width:165px}.mat-menu-item[_ngcontent-%COMP%]{font-size:16px}.mat-menu-item[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:25px;height:-moz-fit-content;height:fit-content}.mat-menu-item[_ngcontent-%COMP%]:hover:not([disabled]){color:#00008f}.mat-menu-item[_ngcontent-%COMP%]:hover:not([disabled])   .mat-icon[_ngcontent-%COMP%]{color:#00008f}.mat-icon[_ngcontent-%COMP%]{height:100%;font-size:36px;width:-moz-fit-content;width:fit-content}.mat-cell[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{color:#00008f}.mat-header-cell.mat-icon[_ngcontent-%COMP%]{color:#fff}.mat-cell[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]:hover, .mat-header-cell[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]:hover{color:#d14723;cursor:pointer}  .mat-checkbox-checked.mat-accent.mat-checkbox-disabled .mat-checkbox-background, .mat-checkbox-indeterminate.mat-accent[_ngcontent-%COMP%]   .mat-checkbox-background[_ngcontent-%COMP%]{background-color:#ccc}  .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-image:none}.mat-input-element[_ngcontent-%COMP%]:disabled{color:inherit}.mat-cell[_ngcontent-%COMP%]{padding-top:10px}.pack-table[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{font-size:16px}.resume-table[_ngcontent-%COMP%]{margin-top:2rem}.resume-table[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%]{font-size:16px;border-right:1px solid rgba(0,0,0,.12);padding-left:30px}.resume-table[_ngcontent-%COMP%]   .mat-header-cell[_ngcontent-%COMP%]{background-color:#00008f;color:#fff;border-right:1px solid white;padding-left:30px}.mat-cell[_ngcontent-%COMP%]:not(.mat-column-garantie){font-weight:600}.row.card[_ngcontent-%COMP%]{justify-content:end;width:100%}.prime-card[_ngcontent-%COMP%]{background:rgb(247,247,249);width:-moz-fit-content;width:fit-content;margin-top:3rem;border:1px solid rgba(0,0,0,.12);padding:18px 14px}table.resume[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;border-spacing:0 19px;margin-top:4rem}table.resume[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:17px;padding:12px 19px;border:1px solid rgba(0,0,0,.12)}table.resume[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background:rgb(247,247,249)}.resume-buttons[_ngcontent-%COMP%]{margin-top:4rem;display:flex;justify-content:space-between}.resume-buttons[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{margin-right:9px;font-size:24px}.risque-panel.mat-expansion-panel[_ngcontent-%COMP%]{box-shadow:none}.risque-panel[_ngcontent-%COMP%]     .mat-expansion-panel-content{padding:1rem}.panel-risque[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{margin-right:1rem}.categoryTitle[_ngcontent-%COMP%]{text-transform:capitalize}  .mat-progress-bar-fill:after{background-color:#d14624}mat-form-field.ng-invalid.ng-touched[_ngcontent-%COMP%]{animation:example;animation-duration:.3s;margin-bottom:2rem}.row-button[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:0 3rem;margin-top:2rem}.mat-column-expandedDetail[_ngcontent-%COMP%]{padding-left:0!important;padding-right:0!important}.example-element-detail[_ngcontent-%COMP%]{overflow:hidden;display:flex}tr.example-detail-row[_ngcontent-%COMP%]{height:0}.mat-column-expandedDetail[_ngcontent-%COMP%]{padding:0}.innertable[_ngcontent-%COMP%]{background-color:#f7f7f9}.expandButton[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:26px!important}.gestion-risques[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{color:#00008f;background-color:#f7f7f9}.gestion-risques[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .gestion-risques[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:12px 19px}.gestion-risques[_ngcontent-%COMP%], .gestion-risques[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .gestion-risques[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border:1px solid #d3d3d3;border-collapse:collapse;font-size:15px}.gestion-risques[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#f7f7f9}.gestion-risques[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{color:#00008f}.main-multirisque[_ngcontent-%COMP%]     .mat-expansion-panel-body{padding:2rem!important}"],data:{animation:[(0,o.X$)("detailExpand",[(0,o.SB)("collapsed",(0,o.oB)({height:"0px",minHeight:"0",display:"none"})),(0,o.SB)("expanded",(0,o.oB)({height:"*"})),(0,o.eR)("expanded <=> collapsed",(0,o.jt)("225ms cubic-bezier(0.4, 0.0, 0.2, 1)"))])]}}),U})();var Lu=B(4327),hu=B(7331),Cu=B(5050);function Dc(U,Te){if(1&U&&(i.ynx(0),i.TgZ(1,"mat-option",24),i._uU(2),i.qZA(),i.BQk()),2&U){const N=Te.$implicit;i.xp6(1),i.Q6J("value",N.idAgence),i.xp6(1),i.hij(" ",N.nomAgence," ")}}function Yu(U,Te){if(1&U&&(i.TgZ(0,"div",25),i._uU(1),i.qZA()),2&U){const N=i.oxw();i.xp6(1),i.Oqu(N.errorHandler.msg)}}function gm(U,Te){1&U&&(i.TgZ(0,"th",37),i._uU(1," N\xb0. "),i.qZA())}function Pl(U,Te){if(1&U&&(i.TgZ(0,"td",38),i._uU(1),i.qZA()),2&U){const N=Te.$implicit;i.xp6(1),i.hij(" ",N.idContrat," ")}}function dc(U,Te){1&U&&(i.TgZ(0,"th",37),i._uU(1," Date d'effet "),i.qZA())}function Zl(U,Te){if(1&U&&(i.TgZ(0,"td",38),i._uU(1),i.ALo(2,"dateFormatPipe"),i.qZA()),2&U){const N=Te.$implicit;i.xp6(1),i.hij(" ",i.lcZ(2,1,N.dateEffet)," ")}}function Gu(U,Te){1&U&&(i.TgZ(0,"th",37),i._uU(1," Agence "),i.qZA())}function xu(U,Te){if(1&U&&(i.TgZ(0,"td",38),i._uU(1),i.qZA()),2&U){const N=Te.$implicit;i.xp6(1),i.hij(" ",N.agence," ")}}function lo(U,Te){1&U&&(i.TgZ(0,"th",37),i._uU(1," Nom ou Raison sociale"),i.qZA())}function hm(U,Te){if(1&U&&(i.ynx(0),i._uU(1),i.ALo(2,"slice"),i.ALo(3,"slice"),i.BQk()),2&U){const N=i.oxw().$implicit;i.xp6(1),i.AsE("",i.Dn7(2,2,null==N?null:N.nom,0,50)," ",i.Dn7(3,6,null==N?null:N.prenom,0,50),"")}}function Cm(U,Te){if(1&U&&(i._uU(0),i.ALo(1,"slice")),2&U){const N=i.oxw().$implicit;i.hij("",i.Dn7(1,1,null==N?null:N.raisonSocial,0,50)," ")}}function Gl(U,Te){if(1&U&&(i.TgZ(0,"td",38),i.YNc(1,hm,4,10,"ng-container",39),i.YNc(2,Cm,2,5,"ng-template",null,40,i.W1O),i.qZA()),2&U){const N=Te.$implicit,q=i.MAs(3);i.xp6(1),i.Q6J("ngIf",null==N.raisonSocial)("ngIfElse",q)}}function vu(U,Te){1&U&&(i.TgZ(0,"th",37),i._uU(1,"Statut "),i.qZA())}function xm(U,Te){if(1&U&&(i.TgZ(0,"td",38)(1,"mat-chip-list",41)(2,"mat-chip",42),i.ALo(3,"statutColor"),i._uU(4),i.qZA()()()),2&U){const N=Te.$implicit;i.xp6(2),i.Akn(i.lcZ(3,3,N.statut.idParam)),i.xp6(2),i.hij(" ",N.statut.description," ")}}function vm(U,Te){1&U&&(i.TgZ(0,"th",37),i._uU(1," Action "),i.qZA())}function Na(U,Te){if(1&U){const N=i.EpF();i.TgZ(0,"button",46),i.NdJ("click",function(){i.CHM(N);const G=i.oxw().$implicit,b=i.oxw(2);return i.KtG(b.ExtraireFichierExcel(G.idContrat))}),i.TgZ(1,"mat-icon"),i._uU(2,"save_alt"),i.qZA(),i.TgZ(3,"span"),i._uU(4,"Extraire Donn\xe9es"),i.qZA()()}}function Bu(U,Te){if(1&U){const N=i.EpF();i.TgZ(0,"td",38)(1,"button",43)(2,"mat-icon"),i._uU(3,"more_vert"),i.qZA()(),i.TgZ(4,"mat-menu",44,45)(6,"button",46),i.NdJ("click",function(){const b=i.CHM(N).$implicit,te=i.oxw(2);return i.KtG(te.printContrat(b.idContrat))}),i.TgZ(7,"mat-icon"),i._uU(8,"print"),i.qZA(),i.TgZ(9,"span"),i._uU(10,"Imprimer contrat"),i.qZA()(),i.TgZ(11,"button",46),i.NdJ("click",function(){const b=i.CHM(N).$implicit,te=i.oxw(2);return i.KtG(te.consultContrat(b.idContrat))}),i.TgZ(12,"mat-icon"),i._uU(13,"zoom_in"),i.qZA(),i.TgZ(14,"span"),i._uU(15,"Consulter police"),i.qZA()(),i.TgZ(16,"button",46),i.NdJ("click",function(){const b=i.CHM(N).$implicit,te=i.oxw(2);return i.KtG(te.avenant(b.idContrat))}),i.TgZ(17,"mat-icon"),i._uU(18,"edit"),i.qZA(),i.TgZ(19,"span"),i._uU(20,"Avenant"),i.qZA()(),i.TgZ(21,"button",46),i.NdJ("click",function(){const b=i.CHM(N).$implicit,te=i.oxw(2);return i.KtG(te.ExtraireFichierExcel(b.idContrat))}),i.TgZ(22,"mat-icon"),i._uU(23,"save_alt"),i.qZA(),i.TgZ(24,"span"),i._uU(25,"Extraire Donn\xe9es"),i.qZA()(),i.YNc(26,Na,5,0,"button",47),i.qZA()()}if(2&U){const N=i.MAs(5),q=i.oxw(2);i.xp6(1),i.Q6J("matMenuTriggerFor",N),i.xp6(25),i.Q6J("ngIf","45F"==q.codeProduit||"45L"==q.codeProduit)}}function Ia(U,Te){1&U&&i._UZ(0,"tr",48)}function ql(U,Te){1&U&&i._UZ(0,"tr",49)}function _c(U,Te){if(1&U&&(i.TgZ(0,"table",26),i.ynx(1,27),i.YNc(2,gm,2,0,"th",28),i.YNc(3,Pl,2,1,"td",29),i.BQk(),i.ynx(4,30),i.YNc(5,dc,2,0,"th",28),i.YNc(6,Zl,3,3,"td",29),i.BQk(),i.ynx(7,31),i.YNc(8,Gu,2,0,"th",28),i.YNc(9,xu,2,1,"td",29),i.BQk(),i.ynx(10,32),i.YNc(11,lo,2,0,"th",28),i.YNc(12,Gl,4,2,"td",29),i.BQk(),i.ynx(13,33),i.YNc(14,vu,2,0,"th",28),i.YNc(15,xm,5,5,"td",29),i.BQk(),i.ynx(16,34),i.YNc(17,vm,2,0,"th",28),i.YNc(18,Bu,27,2,"td",29),i.BQk(),i.YNc(19,Ia,1,0,"tr",35),i.YNc(20,ql,1,0,"tr",36),i.qZA()),2&U){const N=i.oxw();i.Q6J("dataSource",N.dataSource),i.xp6(19),i.Q6J("matHeaderRowDef",N.displayedColumns),i.xp6(1),i.Q6J("matRowDefColumns",N.displayedColumns)}}function zu(U,Te){if(1&U){const N=i.EpF();i.TgZ(0,"mat-paginator",50),i.NdJ("page",function(G){i.CHM(N);const b=i.oxw();return i.KtG(b.onPageChange(G))}),i.qZA()}if(2&U){const N=i.oxw();i.Q6J("length",N.lengthElement)("pageSize",10)}}const Sl=[{path:"creation-contrat/:codeProduit/:produit/:idDevis",component:pa,canActivate:[me.k],data:{roles:["CDC_BEA","COURTIER","ROLE_SUPER_ADMIN","ANALYSTE","METIER","BACKOFFICE","DA","BO","CDC"]}},{path:"consultation-police/:codeProduit/:nomProduit",component:(()=>{class U{constructor(N,q,G,b,te,_e,ye){this.devisService=N,this.route=q,this.genericService=G,this.agencesService=b,this.formBuilder=te,this.router=_e,this.contratService=ye,this.displayedColumns=["N\xb0Police","dateEffet","agence","raisonSocialOuNom","status","action"],this.dataSource=new Q.by,this.errorHandler={error:!1,msg:""},this.agences=[],this.statuts=[],this.filteredTable=!1,this.isCourtier=!1,this.isBEA=!1,this.agence=parseInt(sessionStorage.getItem("agence")||"0"),this.storedRoles=sessionStorage.getItem("roles")}ngOnInit(){this.nomProduit=this.route.snapshot.paramMap.get("nomProduit"),this.codeProduit=this.route.snapshot.paramMap.get("codeProduit"),this.getAllAgences(),this.getAllStatus(),this.storedRoles?.includes("COURTIER")||this.storedRoles?.includes("CDC_BEA")?(this.storedRoles?.includes("CDC_BEA")?this.isBEA=!0:this.isCourtier=!0,this.initFormFilter(),this.submitFilter(0,10)):(this.initFormFilter(),this.getContratByProduit(0,10))}initFormFilter(){this.formFilterContrat=this.formBuilder.group({idContrat:[],dateDebut:[],dateFin:[],agence:this.isCourtier||this.isBEA?[this.agence]:[],idClient:[],nom:[],prenom:[],produit:this.codeProduit,raisonSocial:[]}),(this.isCourtier||this.isBEA)&&this.formFilterContrat.get("agence")?.disable()}getAllAgences(){this.agencesService.getAllAgence().subscribe({next:N=>{this.agences=N},error:N=>{console.log(N)}})}getAllStatus(){this.genericService.getParam(JSON.parse(sessionStorage.getItem("dictionnaire")||"{}").find(N=>"C34"==N.code).idCategorie).subscribe({next:N=>{this.statuts=N},error:N=>{console.log(N)}})}onPageChange(N){this.filteredTable?this.submitFilter(N.pageIndex,N.pageSize):this.getContratByProduit(N.pageIndex,N.pageSize)}getContratByProduit(N,q){this.contratService.getContratByProduit(this.route.snapshot.paramMap.get("codeProduit"),q,N).subscribe({next:G=>{this.contratTable=G,this.dataSource=new Q.by(G.content),this.lengthElement=this.contratTable.totalElements,this.paginator&&(this.paginator.length=G.totalElements),this.dataSource.paginator=this.paginator},error:G=>{console.log(G)}})}submitFilter(N,q){if(this.formFilterContrat.valid){(this.isCourtier||this.isBEA)&&(console.log("mlmlmlml",this.agence),this.formFilterContrat.value.agence=this.agence);const G={...this.formFilterContrat.value,produit:this.codeProduit};this.contratService.filtresContrat(G,N,q).subscribe({next:b=>{this.dataSource=new Q.by(b.content),this.paginator&&(this.paginator.length=b.totalElements),this.dataSource.paginator=this.paginator,this.filteredTable=!0,this.lengthElement=b.totalElements},error:b=>{console.log(b)}})}}avenant(N){this.router.navigate(["consultation-avenants/"+this.route.snapshot.paramMap.get("codeProduit")+"/"+N])}resetTable(N){this.isCourtier||this.isBEA?(this.submitFilter(0,10),this.filteredTable=!0):(this.getContratByProduit(0,10),this.filteredTable=!1),this.initFormFilter(),N.resetForm()}consultRisque(N,q){var b,G=this;switch(this.contrat.produit.codeProduit){case"45F":this.contratService.getParamContratFlotteByIdRisque(this.contrat.idContrat,N).subscribe({next:(b=(0,Le.Z)(function*(te){yield G.contratService.outputContratFlotte(G.contrat,te),yield G.contratService.getQuittanceById(G.contrat.quittanceList[G.contrat.quittanceList.length-1]).subscribe({next:_e=>{G.contratService.outputAttestationFlotte(G.contrat,_e),G.contratService.outputQuittance(G.contrat,_e,null)},error:_e=>{console.log(_e)}})}),function(_e){return b.apply(this,arguments)}),error:b=>{console.log(b)}});break;case"45L":this.contratService.getParamContratFlotteByIdRisque(this.contrat.idContrat,N).subscribe({next:function(){var b=(0,Le.Z)(function*(te){yield G.contratService.getQuittanceById(G.contrat.quittanceList[G.contrat.quittanceList.length-1]).subscribe({next:_e=>{G.contratService.outputLeasing(G.contrat,_e,te)},error:_e=>{console.log(_e)}})});return function(_e){return b.apply(this,arguments)}}(),error:b=>{console.log(b)}});break;default:this.contratService.getParamContratByIdRisque(this.contrat.idContrat,q,N).subscribe({next:function(){var b=(0,Le.Z)(function*(te){var _e;G.contrat.risqueList=yield Object.values(te),yield G.contratService.getPackIdRisque(G.contrat.idContrat,N).subscribe({next:(_e=(0,Le.Z)(function*(ye){G.contrat.paramContratList=ye.garantieList,G.contrat.pack=ye.pack,yield G.contratService.outputContrat(G.contrat),yield G.contratService.getQuittanceById(G.contrat.quittanceList[G.contrat.quittanceList.length-1]).subscribe({next:Ke=>{"45A"==G.contrat.produit.codeProduit&&G.contratService.outputAttestation(G.contrat,Ke,null),G.contratService.outputQuittance(G.contrat,Ke,null)},error:Ke=>{console.log(Ke)}})}),function(Ke){return _e.apply(this,arguments)}),error:_e=>{console.log(_e)}})});return function(_e){return b.apply(this,arguments)}}(),error:b=>{console.log(b)}})}}printContrat(N){let q=[],G=[];this.contratService.getContratById(N).subscribe({next:b=>{switch(this.contrat=b,this.contrat.produit.codeProduit){case"45F":case"45L":q=this.contrat?.groupeList.filter(te=>te?.risques),q?.forEach(te=>{te?.risques&&te.risques.map(_e=>{G.push(_e.idRisque)})}),this.consultRisque(G,this.contrat.groupeList[0].idGroupe);break;default:this.consultRisque(this.contrat.groupeList[0].risques[0].idRisque,this.contrat.groupeList[0].idGroupe)}},error:b=>{this.handleError(b)}})}ExtraireFichierExcel(N){this.contratService.getFichierExcel(N,this.codeProduit).subscribe(q=>{Lu(q,`Listes_Des_Risque_${N}.xlsx`)},q=>{console.error("Erreur lors du t\xe9l\xe9chargement du fichier Excel",q)})}consultContrat(N){this.router.navigate(["consultation-police/"+this.route.snapshot.paramMap.get("codeProduit")+"/"+this.route.snapshot.paramMap.get("nomProduit")+"/"+N])}handleError(N){500===N.status&&(this.errorHandler.error=!0,this.errorHandler.msg="Erreur systeme, veuillez contacter l'administrateur.")}}return U.\u0275fac=function(N){return new(N||U)(i.Y36(he.J),i.Y36(ee.gz),i.Y36(J.M),i.Y36(Ka.e),i.Y36(it.qu),i.Y36(ee.F0),i.Y36(Ze.H))},U.\u0275cmp=i.Xpm({type:U,selectors:[["app-gestion-contrat"]],viewQuery:function(N,q){if(1&N&&i.Gf(w.NW,7),2&N){let G;i.iGM(G=i.CRH())&&(q.paginator=G.first)}},decls:48,vars:10,consts:[[1,"container"],[1,"header"],[1,"title-table"],[1,"filtre"],[1,"row","formFiltre",3,"formGroup","ngSubmit"],["formDirective","ngForm"],[1,"row"],["appearance","outline",1,"col-md-4"],["type","text","matInput","","placeholder","","formControlName","idContrat"],["type","text","matInput","","placeholder","","formControlName","nom"],["type","text","matInput","","placeholder","","formControlName","raisonSocial"],["formControlName","agence"],[4,"ngFor","ngForOf"],["matInput","","formControlName","dateDebut",3,"matDatepicker"],["matSuffix","",3,"for"],["pickerDu",""],["matInput","","formControlName","dateFin",3,"matDatepicker"],["pickerAu",""],[1,"row","buttons"],["type","submit",1,"btn","btn-action"],["matTooltip","R\xe9nitialisation","matTooltipPosition","right",1,"material-symbols-outlined",3,"click"],["class","alert alert-danger",4,"ngIf"],["mat-table","","class","\n        contrat-table",3,"dataSource",4,"ngIf"],[3,"length","pageSize","page",4,"ngIf"],[3,"value"],[1,"alert","alert-danger"],["mat-table","",1,"contrat-table",3,"dataSource"],["matColumnDef","N\xb0Police"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","dateEffet"],["matColumnDef","agence"],["matColumnDef","raisonSocialOuNom"],["matColumnDef","status"],["matColumnDef","action"],["mat-header-row","","class","example-second-header-row",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],[4,"ngIf","ngIfElse"],["personneMoral",""],["aria-label","Fish selection"],["color","primary"],["mat-icon-button","","type","button","aria-label","menu contrat list",3,"matMenuTriggerFor"],["xPosition","after",1,"menu-contrat"],["menu","matMenu"],["mat-menu-item","","type","button",3,"click"],["mat-menu-item","","type","button",3,"click",4,"ngIf"],["mat-header-row","",1,"example-second-header-row"],["mat-row",""],[3,"length","pageSize","page"]],template:function(N,q){if(1&N){const G=i.EpF();i.TgZ(0,"div",0)(1,"div",1)(2,"h2",2),i._uU(3),i.qZA()(),i.TgZ(4,"div",3)(5,"form",4,5),i.NdJ("ngSubmit",function(){return q.submitFilter(0,10)}),i.TgZ(7,"div",6)(8,"mat-form-field",7)(9,"mat-label"),i._uU(10,"N\xb0 Police"),i.qZA(),i._UZ(11,"input",8),i.qZA(),i.TgZ(12,"mat-form-field",7)(13,"mat-label"),i._uU(14,"Nom"),i.qZA(),i._UZ(15,"input",9),i.qZA(),i.TgZ(16,"mat-form-field",7)(17,"mat-label"),i._uU(18,"Raison Sociale"),i.qZA(),i._UZ(19,"input",10),i.qZA()(),i.TgZ(20,"div",6)(21,"mat-form-field",7)(22,"mat-label"),i._uU(23,"Agence"),i.qZA(),i.TgZ(24,"mat-select",11),i.YNc(25,Dc,3,2,"ng-container",12),i.qZA()(),i.TgZ(26,"mat-form-field",7)(27,"mat-label"),i._uU(28,"Du "),i.qZA(),i._UZ(29,"input",13)(30,"mat-datepicker-toggle",14)(31,"mat-datepicker",null,15),i.qZA(),i.TgZ(33,"mat-form-field",7)(34,"mat-label"),i._uU(35,"Au "),i.qZA(),i._UZ(36,"input",16)(37,"mat-datepicker-toggle",14)(38,"mat-datepicker",null,17),i.qZA()(),i.TgZ(40,"div",18)(41,"button",19),i._uU(42,"Filtrer"),i.qZA(),i.TgZ(43,"mat-icon",20),i.NdJ("click",function(){i.CHM(G);const te=i.MAs(6);return i.KtG(q.resetTable(te))}),i._uU(44,"restart_alt"),i.qZA()()()(),i.YNc(45,Yu,2,1,"div",21),i.YNc(46,_c,21,3,"table",22),i.YNc(47,zu,1,2,"mat-paginator",23),i.qZA()}if(2&N){const G=i.MAs(32),b=i.MAs(39);i.xp6(3),i.hij("Listes des polices ",q.nomProduit,""),i.xp6(2),i.Q6J("formGroup",q.formFilterContrat),i.xp6(20),i.Q6J("ngForOf",q.agences),i.xp6(4),i.Q6J("matDatepicker",G),i.xp6(1),i.Q6J("for",G),i.xp6(6),i.Q6J("matDatepicker",b),i.xp6(1),i.Q6J("for",b),i.xp6(8),i.Q6J("ngIf",q.errorHandler.error),i.xp6(1),i.Q6J("ngIf",0!=q.dataSource.data.length),i.xp6(1),i.Q6J("ngIf",0!=q.dataSource.data.length)}},dependencies:[Se.sg,Se.O5,l.Hw,Ft.VK,Ft.OP,Ft.p6,it._Y,it.Fj,it.JJ,it.JL,it.sg,it.u,qr.KE,qr.hX,qr.R9,Ca.Nt,Q.BZ,Q.fO,Q.as,Q.w1,Q.Dz,Q.nj,Q.ge,Q.ev,Q.XQ,Q.Gk,ln.gM,w.NW,Vr.Mq,Vr.hl,Vr.nW,ca.gD,So.ey,ut.lW,hu.qn,hu.HS,Se.OU,ot.y,Cu.i],styles:[".container[_ngcontent-%COMP%]{background-color:#fff;padding:40px 0;height:100%}.header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:0px 2rem}.header[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{height:-moz-fit-content;height:fit-content;font-size:29px;margin-right:1rem;width:-moz-fit-content;width:fit-content}.title-table[_ngcontent-%COMP%]{margin-bottom:0rem;font-weight:800!important;font-size:23px!important;color:#00008f!important}table.contrat-table[_ngcontent-%COMP%]{width:100%;margin-top:2rem}.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:16px}.mat-row[_ngcontent-%COMP%]:nth-child(even), .mat-header-row[_ngcontent-%COMP%]{background-color:#f7f7f9}.mat-header-row[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{color:#00008f}.mat-header-cell[_ngcontent-%COMP%]{color:#333;font-weight:600;letter-spacing:.5px;font-size:15px;width:165px}.header-tab[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}.mat-paginator[_ngcontent-%COMP%]{background-color:transparent;margin:20px auto auto;width:80%}.mat-icon[_ngcontent-%COMP%]{height:100%;font-size:36px;width:-moz-fit-content;width:fit-content}.mat-cell[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{color:#00008f}.mat-header-cell.mat-icon[_ngcontent-%COMP%]{color:#fff}.mat-cell[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]:hover, .mat-header-cell[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]:hover{color:#d14723;cursor:pointer}  .mat-tooltip{font-size:14px}.mat-menu-item[_ngcontent-%COMP%]{font-size:16px}.mat-menu-item[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{margin-right:16px;font-size:21px;height:-moz-fit-content;height:fit-content}.mat-menu-item[_ngcontent-%COMP%]:hover:not([disabled]){color:#00008f}.mat-menu-item[_ngcontent-%COMP%]:hover:not([disabled])   .mat-icon[_ngcontent-%COMP%]{color:#00008f}.filtre[_ngcontent-%COMP%]   .row.formFiltre[_ngcontent-%COMP%]{width:100%;padding:0 2rem;margin-top:2rem}.row.buttons[_ngcontent-%COMP%]{justify-content:flex-end}.row.buttons[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{color:#00008f;cursor:pointer}.btn.btn-action[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content}.filtre[_ngcontent-%COMP%]     .mat-form-field-wrapper{padding-bottom:.5rem}"]}),U})(),canActivate:[me.k],data:{roles:["CDC_BEA","COURTIER","ROLE_SUPER_ADMIN","ANALYSTE","METIER","BACKOFFICE","GESTION_SINISTRE","DA","BO","WEB_HELP","GESTIONNAIRE_JUNIOR","GESTIONNAIRE_SINISTRE","CHEF_PROJET","RESPONSABLE_SINISTRE","DIRECTEUR","CDC","CONSULTATION"]}},{path:"consultation-police/:codeProduit/:nomProduit/:idContrat",component:Zr,canActivate:[me.k],data:{roles:["CDC_BEA","COURTIER","ADMIN","ROLE_SUPER_ADMIN","ANALYSTE","METIER","BACKOFFICE","GESTION_SINISTRE","DA","BO","WEB_HELP","GESTIONNAIRE_JUNIOR","GESTIONNAIRE_SINISTRE","CHEF_PROJET","RESPONSABLE_SINISTRE","DIRECTEUR","CDC","CONSULTATION"]}}];let Au=(()=>{class U{}return U.\u0275fac=function(N){return new(N||U)},U.\u0275mod=i.oAB({type:U}),U.\u0275inj=i.cJS({imports:[ee.Bz.forChild(Sl),ee.Bz]}),U})(),wc=(()=>{class U{}return U.\u0275fac=function(N){return new(N||U)},U.\u0275mod=i.oAB({type:U}),U.\u0275inj=i.cJS({imports:[Se.ez,K.m,Ge.q,Au,h.I]}),U})()},7843:(co,wn,B)=>{"use strict";B.d(wn,{I:()=>he});var Se=B(5412),K=B(7155),Ge=B(8739),h=B(6308),ee=B(4650),me=B(8153),Le=B(4850),Q=B(6895);function w(Ze,l){1&Ze&&(ee.TgZ(0,"th",14),ee._uU(1," N\xb0 Client "),ee.qZA())}function o(Ze,l){if(1&Ze){const t=ee.EpF();ee.TgZ(0,"td",15),ee.NdJ("click",function(){const ut=ee.CHM(t).$implicit,ot=ee.oxw();return ee.KtG(ot.selectPersonne(ut.idClient))}),ee._uU(1),ee.qZA()}if(2&Ze){const t=l.$implicit;ee.xp6(1),ee.hij(" ",t.idClient," ")}}function e(Ze,l){1&Ze&&(ee.TgZ(0,"th",14),ee._uU(1," Assur\xe9 "),ee.qZA())}function xe(Ze,l){if(1&Ze){const t=ee.EpF();ee.TgZ(0,"td",15),ee.NdJ("click",function(){const ut=ee.CHM(t).$implicit,ot=ee.oxw();return ee.KtG(ot.selectPersonne(ut.idClient))}),ee._uU(1),ee.qZA()}if(2&Ze){const t=l.$implicit;ee.xp6(1),ee.hij(" ",null!=t.nom?t.nom+" "+t.prenom1:t.raisonSocial," ")}}function n(Ze,l){1&Ze&&(ee.TgZ(0,"th",14),ee._uU(1),ee.qZA()),2&Ze&&(ee.xp6(1),ee.hij(" ","date Naissance / d'ouverture"," "))}function i(Ze,l){if(1&Ze){const t=ee.EpF();ee.TgZ(0,"td",15),ee.NdJ("click",function(){const ut=ee.CHM(t).$implicit,ot=ee.oxw();return ee.KtG(ot.selectPersonne(ut.idClient))}),ee._uU(1),ee.ALo(2,"date"),ee.ALo(3,"date"),ee.qZA()}if(2&Ze){const t=l.$implicit;ee.xp6(1),ee.hij(" ",null!=t.dateNaissance?ee.xi3(2,1,t.dateNaissance,"dd/MM/yyyy"):ee.xi3(3,4,t.dateOuverture,"dd/MM/yyyy"),"")}}function Z(Ze,l){1&Ze&&ee._UZ(0,"tr",16)}function O(Ze,l){1&Ze&&ee._UZ(0,"tr",17)}const J=function(){return[5,10,25,100]};let he=(()=>{class Ze{constructor(t,Ft,ln){this.personneService=t,this.dialogRef=Ft,this.data=ln,this.displayedColumnsPhysique=["idClient","nom","dateNaissance"],this.displayedColumnsMorale=["idClient","raisonSocial","dateOuverture"],this.lengthColumnsPhysique=this.displayedColumnsPhysique.length,this.lengthColumnsMorale=this.displayedColumnsMorale.length}ngOnInit(){this.dataSource=new K.by(this.data?.personneList),this.paginate()}selectPersonne(t){this.personneService.getPersonneById(t).subscribe({next:Ft=>{this.dialogRef.close(Ft)},error:Ft=>{console.log(Ft)}})}paginate(){this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort}}return Ze.\u0275fac=function(t){return new(t||Ze)(ee.Y36(me.F),ee.Y36(Se.so),ee.Y36(Se.WI))},Ze.\u0275cmp=ee.Xpm({type:Ze,selectors:[["app-search-personne"]],viewQuery:function(t,Ft){if(1&t&&(ee.Gf(Ge.NW,5),ee.Gf(h.YE,5)),2&t){let ln;ee.iGM(ln=ee.CRH())&&(Ft.paginator=ln.first),ee.iGM(ln=ee.CRH())&&(Ft.sort=ln.first)}},decls:20,vars:5,consts:[[1,"heading"],[1,"row",2,"margin-bottom","3%","display","flex","justify-content","center"],[1,"mat-typography"],[1,"col-md-12",2,"padding-left","2%","padding-right","2%"],[1,"mat-elevation-z8","p-0"],["mat-table","","matSort","",2,"width","100%","overflow","auto",3,"dataSource"],["matColumnDef","idClient"],["mat-header-cell","","style","background: #00008F; color: white; font-size: large;",4,"matHeaderCellDef"],["mat-cell","","appBorderRow","",3,"click",4,"matCellDef"],["matColumnDef","nom"],["matColumnDef","dateNaissance"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["aria-label","",3,"pageSizeOptions"],["mat-header-cell","",2,"background","#00008F","color","white","font-size","large"],["mat-cell","","appBorderRow","",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(t,Ft){1&t&&(ee.TgZ(0,"h2",0),ee._uU(1," Veuillez choisir une personne du tableau\n"),ee.qZA(),ee._UZ(2,"mat-divider"),ee.TgZ(3,"div",1),ee._UZ(4,"mat-dialog-content",2),ee.TgZ(5,"div",3)(6,"div",4)(7,"table",5),ee.ynx(8,6),ee.YNc(9,w,2,0,"th",7),ee.YNc(10,o,2,1,"td",8),ee.BQk(),ee.ynx(11,9),ee.YNc(12,e,2,0,"th",7),ee.YNc(13,xe,2,1,"td",8),ee.BQk(),ee.ynx(14,10),ee.YNc(15,n,2,1,"th",7),ee.YNc(16,i,4,7,"td",8),ee.BQk(),ee.YNc(17,Z,1,0,"tr",11),ee.YNc(18,O,1,0,"tr",12),ee.qZA(),ee._UZ(19,"mat-paginator",13),ee.qZA()()()),2&t&&(ee.xp6(7),ee.Q6J("dataSource",Ft.dataSource),ee.xp6(10),ee.Q6J("matHeaderRowDef",Ft.displayedColumnsPhysique),ee.xp6(1),ee.Q6J("matRowDefColumns",Ft.displayedColumnsPhysique),ee.xp6(1),ee.Q6J("pageSizeOptions",ee.DdM(4,J)))},dependencies:[Le.d,K.BZ,K.fO,K.as,K.w1,K.Dz,K.nj,K.ge,K.ev,K.XQ,K.Gk,Ge.NW,Se.xY,Q.uU],styles:["button.btn.btn-action[_ngcontent-%COMP%]{float:right}.mat-dialog-content[_ngcontent-%COMP%]{padding-top:15px}.mat-radio-button[_ngcontent-%COMP%]{margin:0 12px}.buttons.row[_ngcontent-%COMP%]{justify-content:space-between;padding:0 21px}h2.heading[_ngcontent-%COMP%]{color:#00008f;font-weight:700!important;letter-spacing:.5px}.mat-dialog-content[_ngcontent-%COMP%], .mat-form-field[_ngcontent-%COMP%]{padding-top:15px}.mat-error[_ngcontent-%COMP%]{font-size:11px}.mat-input-element[_ngcontent-%COMP%]:disabled{color:#000c}.mat-row[_ngcontent-%COMP%]:hover{background:rgb(247,247,249)}"]}),Ze})()},8749:(co,wn,B)=>{"use strict";B.r(wn),B.d(wn,{GestionConventionModule:()=>oo});var Se=B(6895),K=B(294),Ge=B(4092),h=B(4466),ee=B(2510),me=B(9523),Le=B(4006),Q=B(7155),w=B(8739),o=B(5439),e=B(5226),xe=B.n(e),n=B(6666),i=B(5017),Z=B(4650),O=B(7947),J=B(8153),he=B(5617),Ze=B(3388),l=B(7392),t=B(9549),Ft=B(284),ln=B(9602),ut=B(4385),ot=B(3238),tt=B(1948),Zt=B(6257);const nn=["stepper"];function _n(nt,jt){if(1&nt&&(Z.TgZ(0,"div",41),Z._uU(1),Z.qZA()),2&nt){const Be=Z.oxw();Z.xp6(1),Z.hij("Convention ",Be.codeConvention," a \xe9t\xe9 cr\xe9er avec succ\xe9s ")}}function xn(nt,jt){if(1&nt&&(Z.TgZ(0,"div",42),Z._uU(1),Z.qZA()),2&nt){const Be=Z.oxw();Z.xp6(1),Z.Oqu(Be.errorHandler.msg)}}function mn(nt,jt){1&nt&&Z._uU(0,"Informations g\xe9n\xe9rales ")}function Ri(nt,jt){1&nt&&(Z.TgZ(0,"div"),Z._uU(1," ce champs est obligatoire"),Z.qZA())}function Xn(nt,jt){if(1&nt&&(Z.TgZ(0,"mat-error",43),Z.YNc(1,Ri,2,0,"div",44),Z.qZA()),2&nt){const Be=Z.oxw();Z.xp6(1),Z.Q6J("ngIf",Be.formInfoGenarale.controls.nomConvention.errors.required)}}function Mt(nt,jt){1&nt&&(Z.TgZ(0,"div"),Z._uU(1," ce champs est obligatoire"),Z.qZA())}function Lt(nt,jt){if(1&nt&&(Z.TgZ(0,"mat-error",43),Z.YNc(1,Mt,2,0,"div",44),Z.qZA()),2&nt){const Be=Z.oxw();Z.xp6(1),Z.Q6J("ngIf",Be.formInfoGenarale.controls.dateDebut.errors.required)}}function xt(nt,jt){1&nt&&(Z.TgZ(0,"div"),Z._uU(1," ce champs est obligatoire"),Z.qZA())}function ht(nt,jt){if(1&nt&&(Z.TgZ(0,"mat-error",43),Z.YNc(1,xt,2,0,"div",44),Z.qZA()),2&nt){const Be=Z.oxw();Z.xp6(1),Z.Q6J("ngIf",Be.formInfoGenarale.controls.dateFin.errors.required)}}function Yn(nt,jt){1&nt&&(Z.TgZ(0,"div"),Z._uU(1," ce champs est obligatoire"),Z.qZA())}function Jn(nt,jt){if(1&nt&&(Z.TgZ(0,"mat-error",43),Z.YNc(1,Yn,2,0,"div",44),Z.qZA()),2&nt){const Be=Z.oxw();Z.xp6(1),Z.Q6J("ngIf",Be.formFiltre.controls.raisonSociale.errors.required)}}function pi(nt,jt){1&nt&&Z._uU(0," Informations Client ")}function Qn(nt,jt){1&nt&&Z._UZ(0,"th",53)}function Kn(nt,jt){if(1&nt){const Be=Z.EpF();Z.TgZ(0,"td",54)(1,"mat-radio-button",55),Z.NdJ("change",function(yn){const wi=Z.CHM(Be).$implicit,ro=Z.oxw(2);return Z.KtG(yn?ro.addClient(wi,yn):null)}),Z.qZA()()}}function xi(nt,jt){1&nt&&(Z.TgZ(0,"th",53),Z._uU(1," N\xb0 "),Z.qZA())}function tn(nt,jt){if(1&nt&&(Z.TgZ(0,"td",54),Z._uU(1),Z.qZA()),2&nt){const Be=jt.$implicit;Z.xp6(1),Z.hij(" ",Be.idClient,"")}}function Kt(nt,jt){1&nt&&(Z.TgZ(0,"th",53),Z._uU(1," Raison sociale"),Z.qZA())}function hi(nt,jt){if(1&nt&&(Z.TgZ(0,"td",54),Z._uU(1),Z.qZA()),2&nt){const Be=jt.$implicit;Z.xp6(1),Z.hij(" ",Be.raisonSocial,"")}}function $i(nt,jt){1&nt&&Z._UZ(0,"tr",56)}function Sn(nt,jt){1&nt&&Z._UZ(0,"tr",57)}function vt(nt,jt){if(1&nt&&(Z.TgZ(0,"table",45),Z.ynx(1,46),Z.YNc(2,Qn,1,0,"th",47),Z.YNc(3,Kn,2,0,"td",48),Z.BQk(),Z.ynx(4,49),Z.YNc(5,xi,2,0,"th",47),Z.YNc(6,tn,2,1,"td",48),Z.BQk(),Z.ynx(7,50),Z.YNc(8,Kt,2,0,"th",47),Z.YNc(9,hi,2,1,"td",48),Z.BQk(),Z.YNc(10,$i,1,0,"tr",51),Z.YNc(11,Sn,1,0,"tr",52),Z.qZA()),2&nt){const Be=Z.oxw();Z.Q6J("dataSource",Be.dataSourceClients),Z.xp6(10),Z.Q6J("matHeaderRowDef",Be.displayedColumnsClient),Z.xp6(1),Z.Q6J("matRowDefColumns",Be.displayedColumnsClient)}}function $e(nt,jt){1&nt&&Z._uU(0," Informations r\xe9duction ")}function bn(nt,jt){if(1&nt&&(Z.ynx(0),Z.TgZ(1,"mat-option",58),Z._uU(2),Z.qZA(),Z.BQk()),2&nt){const Be=jt.$implicit;Z.xp6(1),Z.Q6J("value",Be.idCodeProduit),Z.xp6(1),Z.hij(" ",Be.description," ")}}function Vt(nt,jt){1&nt&&(Z.TgZ(0,"div"),Z._uU(1," ce champs est obligatoire"),Z.qZA())}function Gn(nt,jt){if(1&nt&&(Z.TgZ(0,"mat-error",43),Z.YNc(1,Vt,2,0,"div",44),Z.qZA()),2&nt){const Be=Z.oxw();Z.xp6(1),Z.Q6J("ngIf",Be.formReduction.controls.idProduit.errors.required)}}function ei(nt,jt){1&nt&&(Z.TgZ(0,"div",42),Z._uU(1,"Veuillez saisir la date d\xe9but de la convention."),Z.qZA())}function vi(nt,jt){if(1&nt){const Be=Z.EpF();Z.ynx(0),Z.TgZ(1,"mat-option",59),Z.NdJ("click",function(){const Un=Z.CHM(Be).$implicit,wi=Z.oxw();return Z.KtG(wi.onChangeReduc(Un))}),Z._uU(2),Z.qZA(),Z.BQk()}if(2&nt){const Be=jt.$implicit;Z.xp6(1),Z.Q6J("value",Be.idReduction),Z.xp6(1),Z.hij(" ",Be.nomReduction," ")}}function uo(nt,jt){1&nt&&(Z.TgZ(0,"div"),Z._uU(1," ce champs est obligatoire"),Z.qZA())}function bo(nt,jt){if(1&nt&&(Z.TgZ(0,"mat-error",43),Z.YNc(1,uo,2,0,"div",44),Z.qZA()),2&nt){const Be=Z.oxw();Z.xp6(1),Z.Q6J("ngIf",Be.formReduction.controls.reduction.errors.required)}}function oe(nt,jt){1&nt&&(Z.TgZ(0,"th",53),Z._uU(1," N\xb0 "),Z.qZA())}function pn(nt,jt){if(1&nt&&(Z.TgZ(0,"td",54),Z._uU(1),Z.qZA()),2&nt){const Be=jt.$implicit;Z.xp6(1),Z.hij(" ",Be.codeReduction,"")}}function Zi(nt,jt){1&nt&&(Z.TgZ(0,"th",53),Z._uU(1," Nom r\xe9dcution "),Z.qZA())}function Ai(nt,jt){if(1&nt&&(Z.TgZ(0,"td",54),Z._uU(1),Z.qZA()),2&nt){const Be=jt.$implicit;Z.xp6(1),Z.hij(" ",Be.nomReduction,"")}}function Di(nt,jt){1&nt&&(Z.TgZ(0,"th",53),Z._uU(1," Produit"),Z.qZA())}function Mn(nt,jt){if(1&nt&&(Z.TgZ(0,"td",54),Z._uU(1),Z.qZA()),2&nt){const Be=jt.$implicit;Z.xp6(1),Z.hij(" ",Be.produit,"")}}function Nn(nt,jt){1&nt&&Z._UZ(0,"tr",64)}function vn(nt,jt){1&nt&&Z._UZ(0,"tr",57)}function Et(nt,jt){if(1&nt&&(Z.TgZ(0,"table",45),Z.ynx(1,60),Z.YNc(2,oe,2,0,"th",47),Z.YNc(3,pn,2,1,"td",48),Z.BQk(),Z.ynx(4,61),Z.YNc(5,Zi,2,0,"th",47),Z.YNc(6,Ai,2,1,"td",48),Z.BQk(),Z.ynx(7,62),Z.YNc(8,Di,2,0,"th",47),Z.YNc(9,Mn,2,1,"td",48),Z.BQk(),Z.YNc(10,Nn,1,0,"tr",63),Z.YNc(11,vn,1,0,"tr",52),Z.qZA()),2&nt){const Be=Z.oxw();Z.Q6J("dataSource",Be.dataSourcesReductions),Z.xp6(10),Z.Q6J("matHeaderRowDef",Be.displayedColumns),Z.xp6(1),Z.Q6J("matRowDefColumns",Be.displayedColumns)}}const mo=function(){return[5,10]};let mr=(()=>{class nt{constructor(Be,zt,yn,Un,wi,ro){this.produitService=Be,this.personneService=zt,this.conventionService=yn,this.reductionService=Un,this.router=wi,this.formBuilder=ro,this.typeProduits=[],this.reductions=[],this.displayedColumns=["idReduction","nomReduction","produit"],this.displayedColumnsClient=["action","numClient","RaisonSociale"],this.selection3=new i.Ov(!1,[]),this.personneMorales=[],this.minDate=new Date,this.ReducTab=[],this.reducEmpty=!0,this.erreurDateDebut=!1,this.dateDebut=new Date,this.selectedReductions=[],this.typeReduction=261,this.filterReduction=n.P,this.dataSourcesReductions=new Q.by,this.produitReady=!1,this.conventionSuccess=!1,this.dateFinEntry=!1,this.idConvention=0,this.errorHandler={error:!1,msg:""},this.bodyConvention=[]}ngOnInit(){this.initFormConvention(),this.getAllProduits(),this.getAllPersonneMorale()}initFormConvention(){this.formInfoGenarale=this.formBuilder.group({nomConvention:["",Le.kI.required],dateDebut:["",Le.kI.required],dateFin:[{value:"",disabled:!0},Le.kI.required]}),this.formReduction=this.formBuilder.group({idProduit:["",Le.kI.required],reduction:[{value:"",disabled:!0},Le.kI.required]}),this.formFiltre=this.formBuilder.group({raisonSociale:["",Le.kI.required]})}resetSearch(){console.log(this.personneMorales),this.getAllPersonneMorale()}addNewClient(){const Be=this.router.serializeUrl(this.router.createUrlTree(["gestion-personnes/create"]));window.open(Be,"_blank")}submitFilter(){if(this.formFiltre.valid){const Be=this.formFiltre.get("raisonSociale").value.toLowerCase(),zt=this.personneMorales.filter(yn=>yn?.raisonSocial?.toLowerCase().includes(Be));console.log("gggg resultatsFiltres personneMorales",zt,this.personneMorales),this.dataSourceClients.data=zt}}getAllProduits(){this.produitService.getAllProduits().subscribe({next:Be=>{this.typeProduits=Be},error:Be=>{console.log(Be)}})}changeDateFin(Be){this.ReducTab=[],this.dataSourcesReductions.data=[],null!=Be&&(this.dateFinEntry=!0),this.produitReady&&null!=Be&&this.formReduction.get("reduction").enable()}changeTypeProduit(Be){this.dateFinEntry&&this.formReduction.get("reduction").enable(),this.idProduit=Be,this.refreshListReduction(),this.produitReady=!0}navigateToReduction(){if(console.log("blabla",this.codeConvention),console.log("je suis le forminfogroup",this.formInfoGenarale),""!=this.formInfoGenarale.get("dateDebut").value){const Be=this.router.serializeUrl(this.router.createUrlTree(["creation-convention/creation-reduction"],{queryParams:{dateDebut:this.formInfoGenarale.get("dateDebut").value,dateFin:this.formInfoGenarale.get("dateFin").value}}));window.open(Be,"_blank"),this.erreurDateDebut=!1}else this.erreurDateDebut=!0}onChangeReduc(Be){null!=this.formInfoGenarale.get("dateFin").value&&""!=this.formInfoGenarale.get("dateFin").value&&(new Date(Be.dateFin)<new Date(this.formInfoGenarale.get("dateFin").value)?xe().fire("La r\xe9duction choisie ne couvre pas toute la p\xe9riode de la convention","","error"):(null==this.ReducTab.find(zt=>zt.idReduction===Be.idReduction)?(this.ReducTab.push(Be),this.selectedReductions.push(Be.idReduction)):this.ReducTab.splice(this.ReducTab.map(zt=>zt.idReduction).indexOf(Be.idReduction),1),this.reducEmpty=0==this.ReducTab.length,this.dataSourcesReductions=new Q.by(this.ReducTab)))}gtest(Be){console.log(Be)}deleteReduction(Be){this.ReducTab.splice(this.ReducTab.map(zt=>zt.idReduction).indexOf(Be),1),this.dataSourcesReductions=new Q.by(this.ReducTab)}refreshListReduction(){this.filterReduction.typeReduction=this.typeReduction,this.filterReduction.produit=this.idProduit,console.log("bonjourines",this.filterReduction),this.reductionService.reductionFiltre(this.filterReduction).subscribe({next:Be=>{this.reductions=Be,this.formReduction.get("reduction").setValue(this.selectedReductions),console.log("heeeeeeyyyy",Be)},error:Be=>{console.log(Be)}})}getAllPersonneMorale(){this.personneService.getAllPersonneMorale().subscribe({next:Be=>{this.personneMorales=Be,this.dataSourceClients=new Q.by(Be),this.dataSourceClients.paginator=this.paginator},error:Be=>{console.log(Be)}})}addClient(Be,zt){console.log(Be),this.bodyConvention.idClient=Be.idClient}submitConvention(Be){this.formReduction.valid&&this.formInfoGenarale.valid&&this.bodyConvention.idClient&&(this.bodyConvention.reduction=this.ReducTab.map(zt=>zt.idReduction),this.bodyConvention.idProduit=this.formReduction.get("idProduit").value,this.conventionService.addConventions(this.bodyConvention).subscribe({next:zt=>{xe().fire({title:"Convention"+zt.codeConvention+"a \xe9t\xe9 cr\xe9er avec succ\xe9s",icon:"success",allowOutsideClick:!1,showCancelButton:!0,confirmButtonText:"Cr\xe9er une nouvelle convention",cancelButtonText:"Retour \xe0 la liste des conventions",confirmButtonColor:"#00008F",width:600}).then(yn=>{yn.isConfirmed?window.location.reload():this.router.navigate(["gestion-convention"])})},error:zt=>{this.handleError(zt),this.conventionSuccess=!1,console.log(zt)}}))}submitInfoGenerale(Be){this.formInfoGenarale.valid&&(this.bodyConvention.nomConvention=this.formInfoGenarale.get("nomConvention").value,this.bodyConvention.dateDebut=o(this.formInfoGenarale.get("dateDebut").value).format("YYYY-MM-DD[T]HH:mm:ss.000Z"),this.bodyConvention.dateFin=o(this.formInfoGenarale.get("dateFin").value).format("YYYY-MM-DD[T]HH:mm:ss.000Z"),this.stepper.next())}handleError(Be){500===Be.status&&(this.errorHandler.error=!0,this.errorHandler.msg="Erreur systeme, veuillez contacter l'administrateur.")}setDateDebut(Be){this.formInfoGenarale.get("dateFin").enable(),this.dateDebut=Be}}return nt.\u0275fac=function(Be){return new(Be||nt)(Z.Y36(O.d),Z.Y36(J.F),Z.Y36(he.Y),Z.Y36(Ze.w),Z.Y36(ee.F0),Z.Y36(Le.qu))},nt.\u0275cmp=Z.Xpm({type:nt,selectors:[["app-creation-convention"]],viewQuery:function(Be,zt){if(1&Be&&(Z.Gf(w.NW,7),Z.Gf(nn,5)),2&Be){let yn;Z.iGM(yn=Z.CRH())&&(zt.paginator=yn.first),Z.iGM(yn=Z.CRH())&&(zt.stepper=yn.first)}},decls:94,vars:32,consts:[[1,"container"],[1,"header-title"],["aria-label","directions_car",1,"mat-icon","notranslate","material-symbols-outlined","material-icons","mat-icon-no-color"],["class","alert alert-success",4,"ngIf"],["class","alert alert-danger",4,"ngIf"],["stepper",""],[3,"stepControl","editable"],["matStepLabel",""],[3,"formGroup","ngSubmit"],["formDirective","ngForm"],[1,"form","row"],["appearance","outline",1,"col-md-5"],["type","text","matInput","","placeholder","","formControlName","nomConvention"],["class","invalid-feedback",4,"ngIf"],["matInput","","formControlName","dateDebut",3,"matDatepicker","min","dateChange"],["matSuffix","",3,"for"],["pickerDateDebut",""],["matInput","","formControlName","dateFin",3,"matDatepicker","min","dateChange"],["pickerDateFin",""],[1,"row-button"],["type","submit",1,"btn","btn-action"],[1,"filter",3,"formGroup","ngSubmit"],["appearance","fill",1,"col-md-5"],["type","text","matInput","","placeholder","","formControlName","raisonSociale"],[1,"filter-button"],[1,"btn","btn-cancel",3,"click"],[1,"btn","btn-secondary",3,"click"],["mat-table","","class","gestion-table",3,"dataSource",4,"ngIf"],["aria-label","Select page",3,"pageSize","pageSizeOptions"],["matStepperPrevious","","type","button",1,"btn","btn-cancel"],["matStepperNext","",1,"btn","btn-action"],[1,"row","form"],["formControlName","idProduit",3,"selectionChange"],[4,"ngFor","ngForOf"],[1,"row","reduction"],["appearance","outline",1,"col-md-4"],["formControlName","reduction","multiple",""],[1,"col-md-5","button-reduction"],["type","button",1,"btn","btn-secondary",3,"disabled","click"],[1,"material-symbols-outlined"],["type","button",1,"btn","btn-secondary",3,"click"],[1,"alert","alert-success"],[1,"alert","alert-danger"],[1,"invalid-feedback"],[4,"ngIf"],["mat-table","",1,"gestion-table",3,"dataSource"],["matColumnDef","action"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","numClient"],["matColumnDef","RaisonSociale"],["mat-header-row","","class","example-second-header-row",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],[3,"change"],["mat-header-row","",1,"example-second-header-row"],["mat-row",""],[3,"value"],[3,"value","click"],["matColumnDef","idReduction"],["matColumnDef","nomReduction"],["matColumnDef","produit"],["mat-header-row","",4,"matHeaderRowDef"],["mat-header-row",""]],template:function(Be,zt){if(1&Be){const yn=Z.EpF();Z.TgZ(0,"div",0)(1,"h2",1)(2,"mat-icon",2),Z._uU(3,"redeem"),Z.qZA(),Z._uU(4," Convention"),Z.qZA(),Z.YNc(5,_n,2,1,"div",3),Z.YNc(6,xn,2,1,"div",4),Z.TgZ(7,"mat-stepper",null,5)(9,"mat-step",6),Z.YNc(10,mn,1,0,"ng-template",7),Z.TgZ(11,"form",8,9),Z.NdJ("ngSubmit",function(){Z.CHM(yn);const wi=Z.MAs(12);return Z.KtG(zt.submitInfoGenerale(wi))}),Z.TgZ(13,"div",10)(14,"mat-form-field",11)(15,"mat-label"),Z._uU(16,"Nom Convention"),Z.qZA(),Z._UZ(17,"input",12),Z.YNc(18,Xn,2,1,"mat-error",13),Z.qZA(),Z.TgZ(19,"mat-form-field",11)(20,"mat-label"),Z._uU(21,"Date D\xe9but"),Z.qZA(),Z.TgZ(22,"input",14),Z.NdJ("dateChange",function(wi){return zt.setDateDebut(wi.value)}),Z.qZA(),Z._UZ(23,"mat-datepicker-toggle",15)(24,"mat-datepicker",null,16),Z.YNc(26,Lt,2,1,"mat-error",13),Z.qZA(),Z.TgZ(27,"mat-form-field",11)(28,"mat-label"),Z._uU(29,"Date fin"),Z.qZA(),Z.TgZ(30,"input",17),Z.NdJ("dateChange",function(wi){return zt.changeDateFin(wi.value)}),Z.qZA(),Z._UZ(31,"mat-datepicker-toggle",15)(32,"mat-datepicker",null,18),Z.YNc(34,ht,2,1,"mat-error",13),Z.qZA()(),Z.TgZ(35,"div",19)(36,"button",20),Z._uU(37,"Suivant"),Z.qZA()()()(),Z.TgZ(38,"mat-step",6)(39,"form",21),Z.NdJ("ngSubmit",function(){return zt.submitFilter()}),Z.TgZ(40,"mat-form-field",22)(41,"mat-label"),Z._uU(42,"Raison Sociale"),Z.qZA(),Z._UZ(43,"input",23),Z.YNc(44,Jn,2,1,"mat-error",13),Z.qZA(),Z.TgZ(45,"div",24)(46,"button",20),Z._uU(47,"Filtrer"),Z.qZA(),Z.TgZ(48,"button",25),Z.NdJ("click",function(){return zt.resetSearch()}),Z._uU(49,"Rafraichir"),Z.qZA(),Z.TgZ(50,"button",26),Z.NdJ("click",function(){return zt.addNewClient()}),Z._uU(51,"Ajouter client"),Z.qZA()()(),Z.YNc(52,pi,1,0,"ng-template",7),Z.YNc(53,vt,12,3,"table",27),Z._UZ(54,"mat-paginator",28),Z.TgZ(55,"div",19)(56,"button",29),Z._uU(57,"Retour"),Z.qZA(),Z.TgZ(58,"button",30),Z._uU(59,"Suivant"),Z.qZA()()(),Z.TgZ(60,"mat-step",6),Z.YNc(61,$e,1,0,"ng-template",7),Z.TgZ(62,"form",8,9),Z.NdJ("ngSubmit",function(){Z.CHM(yn);const wi=Z.MAs(12);return Z.KtG(zt.submitConvention(wi))}),Z.TgZ(64,"div",31)(65,"mat-form-field",11)(66,"mat-label"),Z._uU(67,"Type produit"),Z.qZA(),Z.TgZ(68,"mat-select",32),Z.NdJ("selectionChange",function(wi){return zt.changeTypeProduit(wi.value)}),Z.YNc(69,bn,3,2,"ng-container",33),Z.qZA(),Z.YNc(70,Gn,2,1,"mat-error",13),Z.qZA(),Z.TgZ(71,"div",34),Z.YNc(72,ei,2,0,"div",4),Z.TgZ(73,"mat-form-field",35)(74,"mat-label"),Z._uU(75,"R\xe9duction"),Z.qZA(),Z.TgZ(76,"mat-select",36),Z.YNc(77,vi,3,2,"ng-container",33),Z.qZA(),Z.YNc(78,bo,2,1,"mat-error",13),Z.qZA(),Z.TgZ(79,"div",37)(80,"button",38),Z.NdJ("click",function(){return zt.refreshListReduction()}),Z.TgZ(81,"mat-icon",39),Z._uU(82,"restart_alt"),Z.qZA(),Z._uU(83," Rafraichir la liste "),Z.qZA(),Z.TgZ(84,"button",40),Z.NdJ("click",function(){return zt.navigateToReduction()}),Z.TgZ(85,"mat-icon",39),Z._uU(86,"add"),Z.qZA(),Z._uU(87," Ajouter une r\xe9duction"),Z.qZA()(),Z.YNc(88,Et,12,3,"table",27),Z.qZA()(),Z.TgZ(89,"div",19)(90,"button",29),Z._uU(91,"Retour"),Z.qZA(),Z.TgZ(92,"button",20),Z._uU(93,"Enregistrer"),Z.qZA()()()()()()}if(2&Be){const yn=Z.MAs(25),Un=Z.MAs(33);Z.xp6(5),Z.Q6J("ngIf",zt.conventionSuccess),Z.xp6(1),Z.Q6J("ngIf",zt.errorHandler.error),Z.xp6(3),Z.Q6J("stepControl",zt.formInfoGenarale)("editable",!0),Z.xp6(2),Z.Q6J("formGroup",zt.formInfoGenarale),Z.xp6(7),Z.Q6J("ngIf",zt.formInfoGenarale.controls.nomConvention.errors),Z.xp6(4),Z.Q6J("matDatepicker",yn)("min",zt.minDate),Z.xp6(1),Z.Q6J("for",yn),Z.xp6(3),Z.Q6J("ngIf",zt.formInfoGenarale.controls.dateDebut.errors),Z.xp6(4),Z.Q6J("matDatepicker",Un)("min",zt.dateDebut),Z.xp6(1),Z.Q6J("for",Un),Z.xp6(3),Z.Q6J("ngIf",zt.formInfoGenarale.controls.dateFin.errors),Z.xp6(4),Z.Q6J("stepControl",zt.formInfoClient)("editable",!0),Z.xp6(1),Z.Q6J("formGroup",zt.formFiltre),Z.xp6(5),Z.Q6J("ngIf",zt.formFiltre.controls.raisonSociale.errors),Z.xp6(9),Z.Q6J("ngIf",zt.dataSourceClients),Z.xp6(1),Z.Q6J("pageSize",10)("pageSizeOptions",Z.DdM(31,mo)),Z.xp6(6),Z.Q6J("stepControl",zt.formInfoGenarale)("editable",!0),Z.xp6(2),Z.Q6J("formGroup",zt.formReduction),Z.xp6(7),Z.Q6J("ngForOf",zt.typeProduits),Z.xp6(1),Z.Q6J("ngIf",zt.formReduction.controls.idProduit.errors),Z.xp6(2),Z.Q6J("ngIf",zt.erreurDateDebut),Z.xp6(5),Z.Q6J("ngForOf",zt.reductions),Z.xp6(1),Z.Q6J("ngIf",zt.formReduction.controls.reduction.errors),Z.xp6(2),Z.Q6J("disabled",!zt.produitReady),Z.xp6(8),Z.Q6J("ngIf",!zt.reducEmpty)}},dependencies:[Se.sg,Se.O5,l.Hw,Le._Y,Le.Fj,Le.JJ,Le.JL,Le.sg,Le.u,t.TO,t.KE,t.hX,t.R9,Ft.Nt,Q.BZ,Q.fO,Q.as,Q.w1,Q.Dz,Q.nj,Q.ge,Q.ev,Q.XQ,Q.Gk,w.NW,ln.Mq,ln.hl,ln.nW,ut.gD,ot.ey,tt.U0,Zt.C0,Zt.VY,Zt.Vq,Zt.Ic,Zt.fd],styles:[".container[_ngcontent-%COMP%]{background-color:#fff;padding:40px 0;height:100%;overflow-y:auto;overflow-x:hidden}.gestion-table[_ngcontent-%COMP%]{width:100%}.gestion-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .gestion-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:16px}.gestion-table[_ngcontent-%COMP%]   .mat-header-cell[_ngcontent-%COMP%]{color:#00008f;font-weight:600}.gestion-table[_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]:nth-child(even), .gestion-table[_ngcontent-%COMP%]   .mat-header-row[_ngcontent-%COMP%]{background-color:#f7f7f9}.gestion-table[_ngcontent-%COMP%]   .mat-paginator[_ngcontent-%COMP%]{background-color:transparent;margin:20px auto auto;width:80%}.gestion-table[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{height:100%;font-size:26px;color:#00008f;width:-moz-fit-content;width:fit-content}.mat-menu-item[_ngcontent-%COMP%]{font-size:15px}.mat-menu-item[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:18px;height:-moz-fit-content;height:fit-content}.mat-menu-item[_ngcontent-%COMP%]:hover:not([disabled]), .mat-menu-item[_ngcontent-%COMP%]:hover:not([disabled])   .mat-icon[_ngcontent-%COMP%]{color:#00008f}.header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:0px 2rem}.header[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{height:-moz-fit-content;height:fit-content;font-size:29px;margin-right:1rem;width:-moz-fit-content;width:fit-content}.title-table[_ngcontent-%COMP%]{margin-bottom:0rem;font-weight:800!important;font-size:23px!important;color:#00008f!important}.container[_ngcontent-%COMP%]{background-color:#fff;padding:40px 23px;height:100%;overflow-y:auto;overflow-x:hidden;box-shadow:0 .5rem 1rem #00000026}h2.header-title[_ngcontent-%COMP%]{padding:0 24px;font-size:21px!important;color:#00008f;font-weight:600!important;letter-spacing:1px;display:flex;justify-content:flex-end}h2.header-title[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{margin-right:1rem;font-size:32px;height:-moz-fit-content;height:fit-content;width:-moz-fit-content;width:fit-content}.form.row[_ngcontent-%COMP%]{flex-direction:column;padding:1rem}.row-button[_ngcontent-%COMP%]   .btn.btn-action[_ngcontent-%COMP%]{float:right;margin-top:2rem}.mat-expansion-panel-header[_ngcontent-%COMP%]{background:rgba(199,199,199,.2)!important;font-weight:600;font-size:16px}.mat-expansion-panel-header.mat-expanded[_ngcontent-%COMP%]{height:48px}.mat-expansion-panel-header-title[_ngcontent-%COMP%]{color:#00008f}.row.reduction[_ngcontent-%COMP%]{justify-content:space-between;align-items:center}.button-reduction[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.button-reduction[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{margin-right:1rem}form.filter[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:3rem}.filter-button[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-end}.filter-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-right:2rem}"]}),nt})();var zr=B(6308),Eo=B(5412),ra=B(4850);function aa(nt,jt){1&nt&&(Z.TgZ(0,"div"),Z._uU(1," ce champs est obligatoire"),Z.qZA())}function Ba(nt,jt){if(1&nt&&(Z.TgZ(0,"mat-error",13),Z.YNc(1,aa,2,0,"div",14),Z.qZA()),2&nt){const Be=Z.oxw();Z.xp6(1),Z.Q6J("ngIf",Be.FormDesactiveConvention.controls.dateFin.errors.required)}}let za=(()=>{class nt{constructor(Be,zt,yn){this.data=Be,this.formBuilder=zt,this.dialogRef=yn,this.minDate=new Date}ngOnInit(){this.FormDesactiveConvention=this.formBuilder.group({dateFin:["",[Le.kI.required]]})}submitDateFin(Be){this.FormDesactiveConvention.valid&&(console.log("FormDesactiveConvention",this.FormDesactiveConvention),this.FormDesactiveConvention.get("dateFin").setValue(o(this.FormDesactiveConvention.get("dateFin").value).format("YYYY-MM-DD")),this.dialogRef.close({data:this.FormDesactiveConvention}))}}return nt.\u0275fac=function(Be){return new(Be||nt)(Z.Y36(Eo.WI),Z.Y36(Le.qu),Z.Y36(Eo.so))},nt.\u0275cmp=Z.Xpm({type:nt,selectors:[["app-desactivation-convention-dialog"]],decls:20,vars:5,consts:[["mat-dialog-title","",1,"dialog-header"],[1,"heading"],[1,"mat-typography"],[1,"row",3,"formGroup","ngSubmit"],["formDirective","ngForm"],["appearance","outline",1,"col-md-6"],["matInput","","formControlName","dateFin",3,"matDatepicker","min"],["matSuffix","",3,"for"],["pickerDatefin",""],["class","invalid-feedback",4,"ngIf"],[1,"row-button"],["mat-dialog-close","","type","button",1,"btn","btn-cancel"],["type","submit",1,"btn","btn-action","col-button-add"],[1,"invalid-feedback"],[4,"ngIf"]],template:function(Be,zt){if(1&Be){const yn=Z.EpF();Z.TgZ(0,"div",0)(1,"span",1),Z._uU(2,"D\xe9sactiver convention"),Z.qZA()(),Z._UZ(3,"mat-divider"),Z.TgZ(4,"mat-dialog-content",2)(5,"form",3,4),Z.NdJ("ngSubmit",function(){Z.CHM(yn);const wi=Z.MAs(6);return Z.KtG(zt.submitDateFin(wi))}),Z.TgZ(7,"mat-form-field",5)(8,"mat-label"),Z._uU(9,"Date fin"),Z.qZA(),Z._UZ(10,"input",6)(11,"mat-datepicker-toggle",7)(12,"mat-datepicker",null,8),Z.YNc(14,Ba,2,1,"mat-error",9),Z.qZA(),Z.TgZ(15,"div",10)(16,"button",11),Z._uU(17,"Retour"),Z.qZA(),Z.TgZ(18,"button",12),Z._uU(19,"Enregistrer"),Z.qZA()()()()}if(2&Be){const yn=Z.MAs(13);Z.xp6(5),Z.Q6J("formGroup",zt.FormDesactiveConvention),Z.xp6(5),Z.Q6J("matDatepicker",yn)("min",zt.minDate),Z.xp6(1),Z.Q6J("for",yn),Z.xp6(3),Z.Q6J("ngIf",zt.FormDesactiveConvention.controls.dateFin.errors)}},dependencies:[Se.O5,ra.d,Le._Y,Le.Fj,Le.JJ,Le.JL,Le.sg,Le.u,t.TO,t.KE,t.hX,t.R9,Ft.Nt,Eo.ZT,Eo.uh,Eo.xY,ln.Mq,ln.hl,ln.nW],styles:[".mat-dialog-content[_ngcontent-%COMP%]{padding-top:15px}.btn.btn-cancel[_ngcontent-%COMP%]{float:left}.btn.btn-action[_ngcontent-%COMP%]{float:right}"]}),nt})();function Aa(nt,jt){1&nt&&(Z.TgZ(0,"div"),Z._uU(1," ce champs est obligatoire"),Z.qZA())}function Ks(nt,jt){if(1&nt&&(Z.TgZ(0,"mat-error",17),Z.YNc(1,Aa,2,0,"div",18),Z.qZA()),2&nt){const Be=Z.oxw(2);Z.xp6(1),Z.Q6J("ngIf",Be.formEditConvention.controls.nomConvention.errors.required)}}function ds(nt,jt){1&nt&&(Z.TgZ(0,"div"),Z._uU(1," ce champs est obligatoire"),Z.qZA())}function _s(nt,jt){if(1&nt&&(Z.TgZ(0,"mat-error",17),Z.YNc(1,ds,2,0,"div",18),Z.qZA()),2&nt){const Be=Z.oxw(2);Z.xp6(1),Z.Q6J("ngIf",Be.formEditConvention.controls.dateDebut.errors.required)}}function Ta(nt,jt){1&nt&&(Z.TgZ(0,"div"),Z._uU(1," ce champs est obligatoire"),Z.qZA())}function sa(nt,jt){if(1&nt&&(Z.TgZ(0,"mat-error",17),Z.YNc(1,Ta,2,0,"div",18),Z.qZA()),2&nt){const Be=Z.oxw(2);Z.xp6(1),Z.Q6J("ngIf",Be.formEditConvention.controls.dateFin.errors.required)}}function Ws(nt,jt){if(1&nt){const Be=Z.EpF();Z.TgZ(0,"form",4,5),Z.NdJ("ngSubmit",function(){Z.CHM(Be);const yn=Z.MAs(1),Un=Z.oxw();return Z.KtG(Un.submitDateFin(yn))}),Z.TgZ(2,"mat-form-field",6)(3,"mat-label"),Z._uU(4,"Nom convention"),Z.qZA(),Z._UZ(5,"input",7),Z.YNc(6,Ks,2,1,"mat-error",8),Z.qZA(),Z.TgZ(7,"mat-form-field",6)(8,"mat-label"),Z._uU(9,"Date d\xe9but"),Z.qZA(),Z._UZ(10,"input",9)(11,"mat-datepicker-toggle",10)(12,"mat-datepicker",null,11),Z.YNc(14,_s,2,1,"mat-error",8),Z.qZA(),Z.TgZ(15,"mat-form-field",6)(16,"mat-label"),Z._uU(17,"Date fin"),Z.qZA(),Z._UZ(18,"input",12)(19,"mat-datepicker-toggle",10)(20,"mat-datepicker",null,13),Z.YNc(22,sa,2,1,"mat-error",8),Z.qZA(),Z.TgZ(23,"div",14)(24,"button",15),Z._uU(25,"Retour"),Z.qZA(),Z.TgZ(26,"button",16),Z._uU(27,"Enregistrer"),Z.qZA()()()}if(2&nt){const Be=Z.MAs(13),zt=Z.MAs(21),yn=Z.oxw();Z.Q6J("formGroup",yn.formEditConvention),Z.xp6(6),Z.Q6J("ngIf",yn.formEditConvention.controls.nomConvention.errors),Z.xp6(4),Z.Q6J("matDatepicker",Be)("min",yn.minDate),Z.xp6(1),Z.Q6J("for",Be),Z.xp6(3),Z.Q6J("ngIf",yn.formEditConvention.controls.dateDebut.errors),Z.xp6(4),Z.Q6J("matDatepicker",zt)("min",yn.minDate),Z.xp6(1),Z.Q6J("for",zt),Z.xp6(3),Z.Q6J("ngIf",yn.formEditConvention.controls.dateFin.errors)}}let Xs=(()=>{class nt{constructor(Be,zt,yn,Un){this.conventionService=Be,this.data=zt,this.formBuilder=yn,this.dialogRef=Un,this.minDate=new Date,this.formReady=!1,this.convention=[]}ngOnInit(){this.conventionService.getOneConvention(this.data.idConvention).subscribe({next:Be=>{this.convention=Be,this.formReady=!0,console.log("init data",Be),this.formEditConvention=this.formBuilder.group({nomConvention:[this.convention?.nomConvention,[Le.kI.required]],dateDebut:[this.convention?.dateDebut],dateFin:[this.convention?.dateFin]}),this.formEditConvention.get("dateDebut").disable(),this.formEditConvention.value.dateDebut=this.convention?.dateDebut,console.log("sqss",this.formEditConvention)},error:Be=>{console.log(Be)}})}submitDateFin(Be){this.formEditConvention.valid&&(console.log("hghghghg",this.formEditConvention),this.formEditConvention.get("dateFin").setValue(o(this.formEditConvention.get("dateFin").value).format("YYYY-MM-DD")),this.dialogRef.close({data:this.formEditConvention}))}}return nt.\u0275fac=function(Be){return new(Be||nt)(Z.Y36(he.Y),Z.Y36(Eo.WI),Z.Y36(Le.qu),Z.Y36(Eo.so))},nt.\u0275cmp=Z.Xpm({type:nt,selectors:[["app-edit-convention-dialog"]],decls:6,vars:1,consts:[["mat-dialog-title","",1,"dialog-header"],[1,"heading"],[1,"mat-typography"],["class","row",3,"formGroup","ngSubmit",4,"ngIf"],[1,"row",3,"formGroup","ngSubmit"],["formDirective","ngForm"],["appearance","outline",1,"col-md-5"],["type","text","matInput","","placeholder","","formControlName","nomConvention"],["class","invalid-feedback",4,"ngIf"],["matInput","","formControlName","dateDebut",3,"matDatepicker","min"],["matSuffix","",3,"for"],["pickerDateDebut",""],["matInput","","formControlName","dateFin",3,"matDatepicker","min"],["pickerDatefin",""],[1,"row-button"],["mat-dialog-close","","type","button",1,"btn","btn-cancel"],["type","submit",1,"btn","btn-action","col-button-add"],[1,"invalid-feedback"],[4,"ngIf"]],template:function(Be,zt){1&Be&&(Z.TgZ(0,"div",0)(1,"span",1),Z._uU(2,"Modification convention"),Z.qZA()(),Z._UZ(3,"mat-divider"),Z.TgZ(4,"mat-dialog-content",2),Z.YNc(5,Ws,28,10,"form",3),Z.qZA()),2&Be&&(Z.xp6(5),Z.Q6J("ngIf",zt.formReady))},dependencies:[Se.O5,ra.d,Le._Y,Le.Fj,Le.JJ,Le.JL,Le.sg,Le.u,t.TO,t.KE,t.hX,t.R9,Ft.Nt,Eo.ZT,Eo.uh,Eo.xY,ln.Mq,ln.hl,ln.nW],styles:[".mat-dialog-content[_ngcontent-%COMP%]{padding-top:15px}.btn.btn-cancel[_ngcontent-%COMP%]{float:left}.btn.btn-action[_ngcontent-%COMP%]{float:right}"]}),nt})();var dr=B(8255),Va=B(266),ps=B(4859),fs=B(4803);function Ra(nt,jt){if(1&nt&&(Z.ynx(0),Z.TgZ(1,"mat-option",29),Z._uU(2),Z.qZA(),Z.BQk()),2&nt){const Be=jt.$implicit;Z.xp6(1),Z.Q6J("value",Be),Z.xp6(1),Z.hij(" ",Be.description," ")}}function gs(nt,jt){1&nt&&(Z.TgZ(0,"th",30),Z._uU(1," Code "),Z.qZA())}function ja(nt,jt){if(1&nt&&(Z.TgZ(0,"td",31),Z._uU(1),Z.qZA()),2&nt){const Be=jt.$implicit;Z.xp6(1),Z.hij(" ",Be.codeConvention," ")}}function el(nt,jt){1&nt&&(Z.TgZ(0,"th",30),Z._uU(1," Description "),Z.qZA())}function la(nt,jt){if(1&nt&&(Z.TgZ(0,"td",31),Z._uU(1),Z.qZA()),2&nt){const Be=jt.$implicit;Z.xp6(1),Z.hij(" ",Be.nomConvention," ")}}function hs(nt,jt){1&nt&&(Z.TgZ(0,"th",30),Z._uU(1," ID client"),Z.qZA())}function Cs(nt,jt){if(1&nt&&(Z.TgZ(0,"td",31),Z._uU(1),Z.qZA()),2&nt){const Be=jt.$implicit;Z.xp6(1),Z.hij(" ",Be.idClient," ")}}function rr(nt,jt){1&nt&&(Z.TgZ(0,"th",30),Z._uU(1," Date fin"),Z.qZA())}function xs(nt,jt){if(1&nt&&(Z.TgZ(0,"td",31),Z._uU(1),Z.ALo(2,"dateFormatPipe"),Z.qZA()),2&nt){const Be=jt.$implicit;Z.xp6(1),Z.hij(" ",Z.lcZ(2,1,Be.dateFin)," ")}}function vs(nt,jt){1&nt&&(Z.TgZ(0,"th",30),Z._uU(1," Action "),Z.qZA())}function tl(nt,jt){if(1&nt){const Be=Z.EpF();Z.TgZ(0,"td",31)(1,"button",32)(2,"mat-icon"),Z._uU(3,"more_vert"),Z.qZA()(),Z.TgZ(4,"mat-menu",33,34)(6,"button",35),Z.NdJ("click",function(){const Un=Z.CHM(Be).$implicit,wi=Z.oxw();return Z.KtG(wi.consultConvention(Un.idConvention))}),Z.TgZ(7,"mat-icon"),Z._uU(8,"zoom_in"),Z.qZA(),Z.TgZ(9,"span"),Z._uU(10,"Consulter convention"),Z.qZA()(),Z.TgZ(11,"button",35),Z.NdJ("click",function(){const Un=Z.CHM(Be).$implicit,wi=Z.oxw();return Z.KtG(wi.desactiveConvention(Un.idConvention))}),Z.TgZ(12,"mat-icon"),Z._uU(13,"delete"),Z.qZA(),Z.TgZ(14,"span"),Z._uU(15,"d\xe9sactiver convention"),Z.qZA()(),Z.TgZ(16,"button",35),Z.NdJ("click",function(){const Un=Z.CHM(Be).$implicit,wi=Z.oxw();return Z.KtG(wi.editConvention(Un.idConvention))}),Z.TgZ(17,"mat-icon"),Z._uU(18,"edit"),Z.qZA(),Z.TgZ(19,"span"),Z._uU(20,"Modifier convention"),Z.qZA()()()()}if(2&nt){const Be=Z.MAs(5);Z.xp6(1),Z.Q6J("matMenuTriggerFor",Be)}}function As(nt,jt){1&nt&&Z._UZ(0,"tr",36)}function Ar(nt,jt){1&nt&&Z._UZ(0,"tr",37)}const nl=function(){return[5,10]},Ts=["stepper"];function Nr(nt,jt){1&nt&&(Z.TgZ(0,"th",29),Z._uU(1,"Code r\xe9duction"),Z.qZA())}function Lr(nt,jt){if(1&nt&&(Z.TgZ(0,"td",30),Z._uU(1),Z.qZA()),2&nt){const Be=jt.$implicit;Z.xp6(1),Z.Oqu(Be.codeReduction)}}function Da(nt,jt){1&nt&&(Z.TgZ(0,"th",29),Z._uU(1,"Nom r\xe9duction"),Z.qZA())}function bs(nt,jt){if(1&nt&&(Z.TgZ(0,"td",30),Z._uU(1),Z.qZA()),2&nt){const Be=jt.$implicit;Z.xp6(1),Z.Oqu(Be.nomReduction)}}function Ir(nt,jt){1&nt&&(Z.TgZ(0,"th",29),Z._uU(1,"Produit"),Z.qZA())}function ol(nt,jt){if(1&nt&&(Z.TgZ(0,"td",30),Z._uU(1),Z.qZA()),2&nt){const Be=jt.$implicit;Z.xp6(1),Z.Oqu(Be.produit.description)}}function Ps(nt,jt){1&nt&&(Z.TgZ(0,"th",31),Z._uU(1," Action "),Z.qZA())}function Zs(nt,jt){if(1&nt){const Be=Z.EpF();Z.TgZ(0,"td",30)(1,"button",32)(2,"mat-icon"),Z._uU(3,"more_vert"),Z.qZA()(),Z.TgZ(4,"mat-menu",33,34)(6,"button",35),Z.NdJ("click",function(){const Un=Z.CHM(Be).$implicit,wi=Z.oxw(2);return Z.KtG(wi.consultReduction(Un.idReduction))}),Z.TgZ(7,"mat-icon"),Z._uU(8,"zoom_in"),Z.qZA(),Z.TgZ(9,"span"),Z._uU(10,"Consulter reduction"),Z.qZA()()()()}if(2&nt){const Be=Z.MAs(5);Z.xp6(1),Z.Q6J("matMenuTriggerFor",Be)}}function qs(nt,jt){1&nt&&Z._UZ(0,"tr",36)}function _r(nt,jt){1&nt&&Z._UZ(0,"tr",37)}function Zr(nt,jt){1&nt&&(Z.TgZ(0,"div",38),Z._uU(1," Aucune r\xe9duction disponible. "),Z.qZA())}const it=function(){return[5,10,20]};function ha(nt,jt){if(1&nt&&(Z.TgZ(0,"div",12)(1,"div",13)(2,"div",14)(3,"div",4)(4,"div",15),Z._uU(5,"Code convention:"),Z.qZA(),Z.TgZ(6,"div",16),Z._uU(7),Z.qZA()()(),Z.TgZ(8,"div",14)(9,"div",4)(10,"div",15),Z._uU(11,"Nom convention:"),Z.qZA(),Z.TgZ(12,"div",16),Z._uU(13),Z.qZA()()()(),Z.TgZ(14,"div",13)(15,"div",14)(16,"div",4)(17,"div",15),Z._uU(18,"Date d\xe9but:"),Z.qZA(),Z.TgZ(19,"div",16),Z._uU(20),Z.ALo(21,"dateFormatPipe"),Z.qZA()()(),Z.TgZ(22,"div",14)(23,"div",4)(24,"div",15),Z._uU(25,"Date fin:"),Z.qZA(),Z.TgZ(26,"div",16),Z._uU(27),Z.ALo(28,"dateFormatPipe"),Z.qZA()()()(),Z.TgZ(29,"div",13)(30,"div",14)(31,"div",4)(32,"div",15),Z._uU(33,"Client:"),Z.qZA(),Z.TgZ(34,"div",16),Z._uU(35),Z.qZA()()()(),Z.TgZ(36,"table",17),Z.ynx(37,18),Z.YNc(38,Nr,2,0,"th",19),Z.YNc(39,Lr,2,1,"td",20),Z.BQk(),Z.ynx(40,21),Z.YNc(41,Da,2,0,"th",19),Z.YNc(42,bs,2,1,"td",20),Z.BQk(),Z.ynx(43,22),Z.YNc(44,Ir,2,0,"th",19),Z.YNc(45,ol,2,1,"td",20),Z.BQk(),Z.ynx(46,23),Z.YNc(47,Ps,2,0,"th",24),Z.YNc(48,Zs,11,1,"td",20),Z.BQk(),Z.YNc(49,qs,1,0,"tr",25),Z.YNc(50,_r,1,0,"tr",26),Z.qZA(),Z.YNc(51,Zr,2,0,"div",27),Z._UZ(52,"mat-paginator",28),Z.qZA()),2&nt){const Be=Z.oxw();Z.xp6(7),Z.Oqu(Be.convention.codeConvention),Z.xp6(6),Z.Oqu(Be.convention.nomConvention),Z.xp6(7),Z.Oqu(Z.lcZ(21,10,Be.convention.dateDebut)),Z.xp6(7),Z.Oqu(Z.lcZ(28,12,Be.convention.dateFin)),Z.xp6(8),Z.Oqu(Be.convention.client.raisonSocial),Z.xp6(1),Z.Q6J("dataSource",Be.dataSourceReduction),Z.xp6(13),Z.Q6J("matHeaderRowDef",Be.displayedColumnsReduc),Z.xp6(1),Z.Q6J("matRowDefColumns",Be.displayedColumnsReduc),Z.xp6(1),Z.Q6J("ngIf",0===Be.dataSourceReduction.data.length),Z.xp6(1),Z.Q6J("pageSizeOptions",Z.DdM(14,it))}}function Ci(nt,jt){if(1&nt&&(Z.TgZ(0,"mat-option",55),Z._uU(1),Z.qZA()),2&nt){const Be=jt.$implicit;Z.Q6J("value",Be.idReduction),Z.xp6(1),Z.hij(" ",Be.nomReduction," ")}}function qi(nt,jt){1&nt&&(Z.TgZ(0,"mat-error",56),Z._uU(1," Ce champ est obligatoire "),Z.qZA())}function Ha(nt,jt){if(1&nt&&(Z.TgZ(0,"mat-option",57),Z._uU(1),Z.qZA()),2&nt){const Be=jt.$implicit;Z.Q6J("value",Be.idCodeProduit),Z.xp6(1),Z.hij(" ",Be.description," ")}}function Ss(nt,jt){1&nt&&(Z.TgZ(0,"mat-error",56),Z._uU(1," Ce champ est obligatoire "),Z.qZA())}function ys(nt,jt){1&nt&&(Z.TgZ(0,"th",29),Z._uU(1,"N\xb0"),Z.qZA())}function wa(nt,jt){if(1&nt&&(Z.TgZ(0,"td",30),Z._uU(1),Z.qZA()),2&nt){const Be=jt.$implicit;Z.xp6(1),Z.Oqu(Be.codeReduction)}}function di(nt,jt){1&nt&&(Z.TgZ(0,"th",29),Z._uU(1,"Nom r\xe9duction"),Z.qZA())}function Yr(nt,jt){if(1&nt&&(Z.TgZ(0,"td",30),Z._uU(1),Z.qZA()),2&nt){const Be=jt.$implicit;Z.xp6(1),Z.Oqu(Be.nomReduction)}}function $a(nt,jt){1&nt&&(Z.TgZ(0,"th",29),Z._uU(1,"Produit"),Z.qZA())}function Ns(nt,jt){if(1&nt&&(Z.TgZ(0,"td",30),Z._uU(1),Z.qZA()),2&nt){const Be=jt.$implicit;Z.xp6(1),Z.Oqu(Be.produit.description)}}function ba(nt,jt){1&nt&&(Z.TgZ(0,"th",31),Z._uU(1,"Action"),Z.qZA())}function Ka(nt,jt){if(1&nt){const Be=Z.EpF();Z.TgZ(0,"td",30)(1,"button",58),Z.NdJ("click",function(){const Un=Z.CHM(Be).$implicit,wi=Z.oxw(2);return Z.KtG(wi.deleteReduction(Un.idReduction))}),Z.TgZ(2,"mat-icon"),Z._uU(3,"delete"),Z.qZA()()()}}function Ro(nt,jt){1&nt&&Z._UZ(0,"tr",36)}function Oa(nt,jt){1&nt&&Z._UZ(0,"tr",37)}function qr(nt,jt){1&nt&&(Z.TgZ(0,"div",38),Z._uU(1," Aucune r\xe9duction s\xe9lectionn\xe9e. "),Z.qZA())}function Ca(nt,jt){if(1&nt){const Be=Z.EpF();Z.TgZ(0,"div",39)(1,"mat-form-field",40)(2,"mat-label"),Z._uU(3,"R\xe9duction"),Z.qZA(),Z.TgZ(4,"mat-select",41),Z.NdJ("selectionChange",function(yn){Z.CHM(Be);const Un=Z.oxw();return Z.KtG(Un.onSelectionChange(yn))}),Z.YNc(5,Ci,2,2,"mat-option",42),Z.qZA(),Z.YNc(6,qi,2,0,"mat-error",43),Z.qZA(),Z.TgZ(7,"mat-form-field",44)(8,"mat-label"),Z._uU(9,"Type produit"),Z.qZA(),Z.TgZ(10,"mat-select",45),Z.NdJ("selectionChange",function(yn){Z.CHM(Be);const Un=Z.oxw();return Z.KtG(Un.changeTypeProduit(yn.value))}),Z.YNc(11,Ha,2,2,"mat-option",46),Z.qZA(),Z.YNc(12,Ss,2,0,"mat-error",43),Z.qZA(),Z.TgZ(13,"div",47)(14,"button",48),Z.NdJ("click",function(){Z.CHM(Be);const yn=Z.oxw();return Z.KtG(yn.refreshListReduction())}),Z.TgZ(15,"mat-icon",7),Z._uU(16,"restart_alt"),Z.qZA(),Z._uU(17," Rafra\xeechir la liste "),Z.qZA(),Z.TgZ(18,"button",49),Z.NdJ("click",function(){Z.CHM(Be);const yn=Z.oxw();return Z.KtG(yn.hideFormReduction())}),Z.TgZ(19,"mat-icon",7),Z._uU(20,"close"),Z.qZA(),Z._uU(21," Annuler "),Z.qZA()(),Z.TgZ(22,"table",17),Z.ynx(23,50),Z.YNc(24,ys,2,0,"th",19),Z.YNc(25,wa,2,1,"td",20),Z.BQk(),Z.ynx(26,21),Z.YNc(27,di,2,0,"th",19),Z.YNc(28,Yr,2,1,"td",20),Z.BQk(),Z.ynx(29,51),Z.YNc(30,$a,2,0,"th",19),Z.YNc(31,Ns,2,1,"td",20),Z.BQk(),Z.ynx(32,23),Z.YNc(33,ba,2,0,"th",24),Z.YNc(34,Ka,4,0,"td",20),Z.BQk(),Z.YNc(35,Ro,1,0,"tr",25),Z.YNc(36,Oa,1,0,"tr",26),Z.qZA(),Z.YNc(37,qr,2,0,"div",27),Z.TgZ(38,"div",52)(39,"button",53),Z.NdJ("click",function(){Z.CHM(Be);const yn=Z.oxw();return Z.KtG(yn.hideFormReduction())}),Z._uU(40,"Retour"),Z.qZA(),Z.TgZ(41,"button",54),Z._uU(42,"Enregistrer"),Z.qZA()()()}if(2&nt){const Be=Z.oxw();let zt,yn;Z.xp6(5),Z.Q6J("ngForOf",Be.reductions),Z.xp6(1),Z.Q6J("ngIf",null==(zt=Be.formReduction.get("reduction"))?null:zt.hasError("required")),Z.xp6(5),Z.Q6J("ngForOf",Be.typeProduits),Z.xp6(1),Z.Q6J("ngIf",null==(yn=Be.formReduction.get("idProduit"))?null:yn.hasError("required")),Z.xp6(2),Z.Q6J("disabled",!Be.produitReady),Z.xp6(8),Z.Q6J("dataSource",Be.dataSourcesReductions),Z.xp6(13),Z.Q6J("matHeaderRowDef",Be.displayedColumns),Z.xp6(1),Z.Q6J("matRowDefColumns",Be.displayedColumns),Z.xp6(1),Z.Q6J("ngIf",0===Be.dataSourcesReductions.data.length),Z.xp6(4),Z.Q6J("disabled",Be.formReduction.invalid)}}const Vr=function(){return["/gestion-convention"]},jr=[{path:"gestion-convention",component:(()=>{class nt{constructor(Be,zt,yn,Un,wi){this.personneService=Be,this.formBuilder=zt,this.router=yn,this.conventionService=Un,this.dialog=wi,this.displayedColumns=["codeConvention","nomConvention","idClient","dateFin","action"],this.dataSource=new Q.by,this.clients=[]}ngOnInit(){this.getAllConventions(),this.initFormFilter(),this.getClients()}getAllConventions(){this.conventionService.getAllConventions().subscribe(Be=>{this.dataSource=new Q.by(Be),this.paginate()})}initFormFilter(){this.formFilter=this.formBuilder.group({codeConvention:[null],nomConvention:[null],codeClient:[null],dateFin:[null]})}getClients(){this.personneService.getAllPersonneMorale().subscribe({next:Be=>{this.clients=Be},error:Be=>{console.log(Be)}})}desactiveConvention(Be){this.dialog.open(za,{width:"40%",data:{idConvention:Be}}).afterClosed().subscribe(yn=>{console.log("result",yn.data.value.dateFin),null!=yn.data.value&&this.conventionService.desactiverConvention(Be,{date:yn.data.value.dateFin}).subscribe(wi=>{this.getAllConventions(),this.paginate()})})}editConvention(Be){console.log("11111111111111111111111111111111111111111111"),this.dialog.open(Xs,{width:"40%",data:{idConvention:Be}}).afterClosed().subscribe(yn=>{if(console.log("result22222222222222222222",yn),null!=yn.data.value){let Un=yn.data.value;Un.dateDebut=o(yn.data.controls.dateDebut.value).format("YYYY-MM-DD"),this.conventionService.modifConvention(Un,Be).subscribe(wi=>{this.getAllConventions(),this.paginate()})}})}submitFilter(){this.conventionService.filterConvention(this.formFilter.value).subscribe({next:Be=>{this.dataSource=new Q.by(Be),this.paginate()},error:Be=>{console.log(Be)}})}resetTable(Be){this.getAllConventions(),Be.resetForm(),this.formFilter.reset(),this.initFormFilter()}navigateToCreation(){this.router.navigate(["gestion-convention/creation-convention"])}paginate(){this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort}consultConvention(Be){this.router.navigate(["gestion-convention/consultation-convention/"+Be])}}return nt.\u0275fac=function(Be){return new(Be||nt)(Z.Y36(J.F),Z.Y36(Le.qu),Z.Y36(ee.F0),Z.Y36(he.Y),Z.Y36(Eo.uw))},nt.\u0275cmp=Z.Xpm({type:nt,selectors:[["app-gestion-convention"]],viewQuery:function(Be,zt){if(1&Be&&(Z.Gf(w.NW,5),Z.Gf(zr.YE,5)),2&Be){let yn;Z.iGM(yn=Z.CRH())&&(zt.paginator=yn.first),Z.iGM(yn=Z.CRH())&&(zt.sort=yn.first)}},decls:55,vars:10,consts:[[1,"container"],[1,"header"],[1,"title-table"],[1,"btn","btn-secondary",2,"display","flex","align-items","center",3,"click"],["aria-hidden","false","aria-label","ajouter une reduction ",1,"material-symbols-outlined"],[1,"form","row",3,"formGroup","ngSubmit"],["formDirective","ngForm"],["appearance","outline",1,"col-md-5"],["type","text","matInput","","placeholder","","formControlName","codeConvention"],["type","text","matInput","","placeholder","","formControlName","nomConvention"],["formControlName","codeClient"],[4,"ngFor","ngForOf"],["matInput","","formControlName","dateFin",3,"matDatepicker"],["matSuffix","",3,"for"],["pickerDateFin",""],[1,"col-md-12","button-row"],["matTooltip","Reset","matTooltipPosition","left",1,"material-symbols-outlined",3,"click"],[1,"btn","btn-action"],["mat-table","",1,"gestion-table",3,"dataSource"],["matColumnDef","codeConvention"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","nomConvention"],["matColumnDef","idClient"],["matColumnDef","dateFin"],["matColumnDef","action"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["aria-label","Select page of users",3,"pageSize","pageSizeOptions"],[3,"value"],["mat-header-cell",""],["mat-cell",""],["mat-icon-button","","type","button","aria-label","menu reduction list",3,"matMenuTriggerFor"],["xPosition","after"],["menu","matMenu"],["mat-menu-item","","type","button",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(Be,zt){if(1&Be){const yn=Z.EpF();Z.TgZ(0,"div",0)(1,"div",1)(2,"h2",2),Z._uU(3,"Liste des conventions"),Z.qZA(),Z.TgZ(4,"button",3),Z.NdJ("click",function(){return zt.navigateToCreation()}),Z.TgZ(5,"mat-icon",4),Z._uU(6,"add_circle"),Z.qZA(),Z._uU(7," Ajouter une nouvelle convention "),Z.qZA()(),Z._UZ(8,"mat-divider"),Z.TgZ(9,"form",5,6),Z.NdJ("ngSubmit",function(){return zt.submitFilter()}),Z.TgZ(11,"mat-form-field",7)(12,"mat-label"),Z._uU(13,"Code Convention"),Z.qZA(),Z._UZ(14,"input",8),Z.qZA(),Z.TgZ(15,"mat-form-field",7)(16,"mat-label"),Z._uU(17,"Nom Convention"),Z.qZA(),Z._UZ(18,"input",9),Z.qZA(),Z.TgZ(19,"mat-form-field",7)(20,"mat-label"),Z._uU(21,"Code Client"),Z.qZA(),Z.TgZ(22,"mat-select",10),Z.YNc(23,Ra,3,2,"ng-container",11),Z.qZA()(),Z.TgZ(24,"mat-form-field",7)(25,"mat-label"),Z._uU(26,"Date fin"),Z.qZA(),Z._UZ(27,"input",12)(28,"mat-datepicker-toggle",13)(29,"mat-datepicker",null,14),Z.qZA(),Z.TgZ(31,"div",15)(32,"mat-icon",16),Z.NdJ("click",function(){Z.CHM(yn);const wi=Z.MAs(10);return Z.KtG(zt.resetTable(wi))}),Z._uU(33,"restart_alt"),Z.qZA(),Z.TgZ(34,"button",17),Z._uU(35,"Filtrer"),Z.qZA()()(),Z.TgZ(36,"table",18),Z.ynx(37,19),Z.YNc(38,gs,2,0,"th",20),Z.YNc(39,ja,2,1,"td",21),Z.BQk(),Z.ynx(40,22),Z.YNc(41,el,2,0,"th",20),Z.YNc(42,la,2,1,"td",21),Z.BQk(),Z.ynx(43,23),Z.YNc(44,hs,2,0,"th",20),Z.YNc(45,Cs,2,1,"td",21),Z.BQk(),Z.ynx(46,24),Z.YNc(47,rr,2,0,"th",20),Z.YNc(48,xs,3,3,"td",21),Z.BQk(),Z.ynx(49,25),Z.YNc(50,vs,2,0,"th",20),Z.YNc(51,tl,21,1,"td",21),Z.BQk(),Z.YNc(52,As,1,0,"tr",26),Z.YNc(53,Ar,1,0,"tr",27),Z.qZA(),Z._UZ(54,"mat-paginator",28),Z.qZA()}if(2&Be){const yn=Z.MAs(30);Z.xp6(9),Z.Q6J("formGroup",zt.formFilter),Z.xp6(14),Z.Q6J("ngForOf",zt.clients),Z.xp6(4),Z.Q6J("matDatepicker",yn),Z.xp6(1),Z.Q6J("for",yn),Z.xp6(8),Z.Q6J("dataSource",zt.dataSource),Z.xp6(16),Z.Q6J("matHeaderRowDef",zt.displayedColumns),Z.xp6(1),Z.Q6J("matRowDefColumns",zt.displayedColumns),Z.xp6(1),Z.Q6J("pageSize",10)("pageSizeOptions",Z.DdM(9,nl))}},dependencies:[Se.sg,ra.d,l.Hw,dr.VK,dr.OP,dr.p6,Le._Y,Le.Fj,Le.JJ,Le.JL,Le.sg,Le.u,t.KE,t.hX,t.R9,Ft.Nt,Q.BZ,Q.fO,Q.as,Q.w1,Q.Dz,Q.nj,Q.ge,Q.ev,Q.XQ,Q.Gk,Va.gM,w.NW,ln.Mq,ln.hl,ln.nW,ut.gD,ot.ey,ps.lW,fs.y],styles:[".container[_ngcontent-%COMP%]{background-color:#fff;padding:40px 0;height:100%;overflow-y:auto;overflow-x:hidden}.gestion-table[_ngcontent-%COMP%]{width:100%;margin-top:2rem}.gestion-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .gestion-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:16px}.gestion-table[_ngcontent-%COMP%]   .mat-header-cell[_ngcontent-%COMP%]{color:#00008f;font-weight:600}.gestion-table[_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]:nth-child(even), .gestion-table[_ngcontent-%COMP%]   .mat-header-row[_ngcontent-%COMP%]{background-color:#f7f7f9}.gestion-table[_ngcontent-%COMP%]   .mat-paginator[_ngcontent-%COMP%]{background-color:transparent;margin:20px auto auto;width:80%}.gestion-table[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{height:100%;font-size:26px;color:#00008f;width:-moz-fit-content;width:fit-content}.form.row[_ngcontent-%COMP%]{padding:1rem}.button-row[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-end}.button-row[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{margin-right:2rem}.mat-menu-item[_ngcontent-%COMP%]{font-size:15px}.mat-menu-item[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:18px;height:-moz-fit-content;height:fit-content}.mat-menu-item[_ngcontent-%COMP%]:hover:not([disabled]), .mat-menu-item[_ngcontent-%COMP%]:hover:not([disabled])   .mat-icon[_ngcontent-%COMP%]{color:#00008f}.header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:0px 2rem}.header[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{height:-moz-fit-content;height:fit-content;font-size:29px;margin-right:1rem;width:-moz-fit-content;width:fit-content}.title-table[_ngcontent-%COMP%]{margin-bottom:0rem;font-weight:800!important;font-size:23px!important;color:#00008f!important}"]}),nt})(),canActivate:[me.k],data:{roles:["ADMIN","ROLE_SUPER_ADMIN","ANALYSTE","METIER","BACKOFFICE","BO"]}},{path:"gestion-convention/creation-convention",component:mr,canActivate:[me.k],data:{roles:["ADMIN","ROLE_SUPER_ADMIN","ANALYSTE","METIER","BACKOFFICE","BO"]}},{path:"gestion-convention/consultation-convention/:idConvention",component:(()=>{class nt{constructor(Be,zt,yn,Un,wi,ro,ko,hr){this.produitService=Be,this.personneService=zt,this.conventionService=yn,this.reductionService=Un,this.router=wi,this.formBuilder=ro,this.route=ko,this.cdr=hr,this.convention=[],this.dataSourcesReductions=new Q.by,this.displayedColumnsReduc=["codeReduction","nomReduction","produitReduction","action"],this.displayedColumns=["idReduction","nomReduction","produit","action"],this.displayedColumnsClient=["action","numClient","RaisonSociale"],this.conventionReady=!1,this.typeProduits=[],this.reductions=[],this.personneMorales=[],this.minDate=new Date,this.ReducTab=[],this.reducEmpty=!0,this.erreurDateDebut=!1,this.dateDebut=new Date,this.selectedReductions=[],this.typeReduction=261,this.filterReduction=n.P,this.produitReady=!1,this.conventionSuccess=!1,this.dateFinEntry=!1,this.errorHandler={error:!1,msg:""},this.bodyConvention={},this.showFormReduction=!1}ngOnInit(){this.initForm(),this.idConvention=this.route.snapshot.paramMap.get("idConvention"),this.loadConventionData(),this.getAllProduits(),this.getAllPersonneMorale()}initForm(){this.formInfoGenerale=this.formBuilder.group({nomConvention:new Le.NI("",Le.kI.required),dateDebut:new Le.NI(null,Le.kI.required),dateFin:new Le.NI({value:null,disabled:!0},Le.kI.required)}),this.formReduction=this.formBuilder.group({idProduit:new Le.NI(null,Le.kI.required),reduction:new Le.NI([],Le.kI.required)}),this.formFiltre=this.formBuilder.group({raisonSociale:new Le.NI("",Le.kI.required)}),console.log("helooo ",this.formInfoGenerale,this.bodyConvention,this.formReduction)}loadConventionData(){this.conventionService.getOneConvention(this.idConvention).subscribe({next:Be=>{console.log("da00ta",Be),this.conventionReady=!0,this.convention=Be,this.dataSourceReduction=new Q.by(Be.reduction),this.dataSourceReduction.data=this.dataSourceReduction.data.map(zt=>({...zt,produit:{description:this.convention.produit.description}})),this.dataSourceReduction.paginator=this.paginator,this.dataSourceReduction.sort=this.sort},error:Be=>{console.log(Be),this.handleError(Be)}})}getAllProduits(){this.produitService.getAllProduits().subscribe({next:Be=>{this.typeProduits=Be},error:Be=>{console.log(Be)}})}getAllPersonneMorale(){this.personneService.getAllPersonneMorale().subscribe({next:Be=>{this.personneMorales=Be,this.dataSourceClients=new Q.by(Be),this.dataSourceClients.paginator=this.paginator},error:Be=>{console.log(Be)}})}onSelectionChange(Be){const zt=Be.value;this.ReducTab=this.reductions.filter(yn=>zt.includes(yn.idReduction)),this.dataSourcesReductions.data=this.ReducTab,this.reducEmpty=0===this.ReducTab.length}navigateToCreation(){this.router.navigate(["gestion-reduction/creation-reduction"])}refreshListReduction(){this.filterReduction.typeReduction=this.typeReduction,this.filterReduction.produit=this.idProduit,this.reductionService.reductionFiltre(this.filterReduction).subscribe({next:Be=>{this.reductions=Be,this.formReduction.get("reduction")?.setValue(this.selectedReductions),console.log("the real data this reduction puis this selectedre  et this.formred.get reduction",this.reductions,this.selectedReductions,this.formReduction.get("reduction"))},error:Be=>{console.log(Be)}})}changeTypeProduit(Be){console.log("datefinetry",this.dateFinEntry),this.dateFinEntry&&this.formReduction.get("reduction")?.enable(),this.idProduit=Be,this.refreshListReduction(),this.produitReady=!0}showFormReductionMethod(){this.showFormReduction=!0,this.cdr.detectChanges()}hideFormReduction(){this.showFormReduction=!1,this.cdr.detectChanges()}submitReduction(){if(this.formReduction&&this.showFormReduction){console.log("nenene",this.convention,this.formReduction,this.showFormReduction);const Be=this.convention.idConvention;this.temp=this.convention?.reduction?.map(yn=>yn?.idReduction)||[],this.temp2=this.formReduction?.controls?.reduction?.value||[],this.combinedReductions=this.temp2.concat(this.temp);const zt={nomConvention:this.convention.nomConvention,dateDebut:this.convention.dateDebut,dateFin:this.convention.dateFin,auditUser:this.convention.auditUser,reduction:this.combinedReductions};this.formReduction&&this.formReduction.value.reduction&&this.conventionService.modifConvention(zt,Be).subscribe(yn=>{xe().fire({title:"R\xe9duction "+this.combinedReductions+" a \xe9t\xe9 ajouter avec succ\xe8s",icon:"success",allowOutsideClick:!1,showCancelButton:!0,cancelButtonText:"Retour ",confirmButtonColor:"#00008F",width:600}).then(Un=>{Un.isConfirmed?window.location.reload():this.router.navigate(["gestion-convention"])})}),console.log(zt)}console.log("010101",this.formReduction,this.formInfoGenerale,this.bodyConvention),this.formReduction.valid&&this.formInfoGenerale.valid&&this.bodyConvention.idClient&&(this.bodyConvention.reduction=this.formReduction.get("reduction")?.value??[],this.bodyConvention.idProduit=this.formReduction.get("idProduit")?.value,this.bodyConvention.nomConvention=this.convention.nomConvention,this.bodyConvention.dateDebut=this.convention.dateDebut,this.bodyConvention.dateFin=this.convention.dateFin,this.conventionService.addConventions(this.bodyConvention).subscribe({next:Be=>{xe().fire({title:"Convention "+Be.codeConvention+" a \xe9t\xe9 cr\xe9\xe9e avec succ\xe8s",icon:"success",allowOutsideClick:!1,showCancelButton:!0,confirmButtonText:"Cr\xe9er une nouvelle convention",cancelButtonText:"Retour \xe0 la liste des conventions",confirmButtonColor:"#00008F",width:600}).then(zt=>{zt.isConfirmed?window.location.reload():this.router.navigate(["gestion-convention"])})},error:Be=>{this.handleError(Be),this.conventionSuccess=!1,console.log(Be),xe().fire({title:"Erreur lors de la cr\xe9ation de la convention",text:this.errorHandler.msg,icon:"error",confirmButtonText:"OK"})}}))}submitFilter(){if(this.formFiltre.valid){const Be=this.formFiltre.get("raisonSociale");if(Be){const zt=(Be.value??"").toLowerCase(),yn=this.personneMorales.filter(Un=>Un.raisonSocial.toLowerCase().includes(zt));this.dataSourceClients.data=yn}else console.error("Form control 'raisonSociale' not found.")}}consultReduction(Be){this.router.navigate(["gestion-reduction/consultation-reduction/"+Be])}addClient(Be,zt){console.log(Be),this.bodyConvention.idClient=Be.idClient}submitInfoGenerale(Be){this.formInfoGenerale.valid&&(this.bodyConvention.nomConvention=this.formInfoGenerale.get("nomConvention")?.value??"",this.bodyConvention.dateDebut=this.formInfoGenerale.get("dateDebut")?.value?o(this.formInfoGenerale.get("dateDebut")?.value).format("YYYY-MM-DD[T]HH:mm:ss.000Z"):"",this.bodyConvention.dateFin=this.formInfoGenerale.get("dateFin")?.value?o(this.formInfoGenerale.get("dateFin")?.value).format("YYYY-MM-DD[T]HH:mm:ss.000Z"):"")}deleteReduction(Be){this.ReducTab=this.ReducTab.filter(zt=>zt.idReduction!==Be),this.dataSourcesReductions.data=this.ReducTab,this.selectedReductions=this.selectedReductions.filter(zt=>zt!==Be),this.formReduction.get("reduction")?.setValue(this.selectedReductions),this.reducEmpty=0===this.ReducTab.length}changeDateFin(Be){this.ReducTab=[],this.dataSourcesReductions.data=[],null!=Be&&(this.dateFinEntry=!0),this.produitReady&&null!=Be&&this.formReduction.get("reduction")?.enable()}navigateToReduction(){if(console.log("blabla",this.codeConvention),console.log("je suis le this convention",this.convention),""!=this.convention.dateDebut){const Be=this.router.serializeUrl(this.router.createUrlTree(["creation-convention/creation-reduction"],{queryParams:{dateDebut:this.convention.dateDebut,dateFin:this.convention.dateFin}}));window.open(Be,"_blank"),this.erreurDateDebut=!1}else this.erreurDateDebut=!0}handleError(Be){500===Be.status?(this.errorHandler.error=!0,this.errorHandler.msg="Erreur syst\xe8me, veuillez contacter l'administrateur."):(this.errorHandler.error=!0,this.errorHandler.msg="Une erreur est survenue.")}}return nt.\u0275fac=function(Be){return new(Be||nt)(Z.Y36(O.d),Z.Y36(J.F),Z.Y36(he.Y),Z.Y36(Ze.w),Z.Y36(ee.F0),Z.Y36(Le.qu),Z.Y36(ee.gz),Z.Y36(Z.sBO))},nt.\u0275cmp=Z.Xpm({type:nt,selectors:[["app-consult-convention"]],viewQuery:function(Be,zt){if(1&Be&&(Z.Gf(w.NW,7),Z.Gf(zr.YE,7),Z.Gf(Ts,5)),2&Be){let yn;Z.iGM(yn=Z.CRH())&&(zt.paginator=yn.first),Z.iGM(yn=Z.CRH())&&(zt.sort=yn.first),Z.iGM(yn=Z.CRH())&&(zt.stepper=yn.first)}},decls:21,vars:7,consts:[[1,"container"],[1,"header-title"],["aria-hidden","false","aria-label","Retour","matTooltip","Retour","matTooltipPosition","left",1,"material-symbols-outlined",3,"routerLink"],["class","infos",4,"ngIf"],[1,"row"],[1,"col-md-2"],["type","button","aria-label","Ajouter une r\xe9duction",1,"btn","btn-secondary","add-reduction-button",3,"click"],[1,"material-symbols-outlined"],[1,"col-md-2","ms-auto"],["type","button",1,"btn","btn-secondary",3,"click"],[1,"form-container",3,"formGroup","ngSubmit"],["class","form-ajout-red",4,"ngIf"],[1,"infos"],[1,"row","mini-info"],[1,"col-md-6"],[1,"col-md-6","key"],[1,"col-md-6","value"],["mat-table","","matSort","",1,"gestion-table","mat-elevation-z8",3,"dataSource"],["matColumnDef","codeReduction"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","nomReduction"],["matColumnDef","produitReduction"],["matColumnDef","action"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","no-data",4,"ngIf"],["showFirstLastButtons","",3,"pageSizeOptions"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell",""],["mat-icon-button","","type","button","aria-label","menu reduction list",3,"matMenuTriggerFor"],["xPosition","after"],["menu","matMenu"],["mat-menu-item","","type","button",3,"click"],["mat-header-row",""],["mat-row",""],[1,"no-data"],[1,"form-ajout-red"],["appearance","outline",1,"col-md-4"],["formControlName","reduction","multiple","",3,"selectionChange"],["aria-checked","reduc.idReduction== temp? true : false",3,"value",4,"ngFor","ngForOf"],["class","invalid-feedback",4,"ngIf"],["appearance","outline",1,"col-md-5"],["formControlName","idProduit",3,"selectionChange"],[3,"value",4,"ngFor","ngForOf"],[1,"button-reduction"],["type","button","aria-label","Rafra\xeechir la liste",1,"btn","btn-secondary",3,"disabled","click"],["type","button","aria-label","Annuler",1,"btn","btn-cancel",3,"click"],["matColumnDef","idReduction"],["matColumnDef","produit"],[1,"row-button"],["type","button","aria-label","Retour",1,"btn","btn-cancel",3,"click"],["type","submit",1,"btn","btn-action",3,"disabled"],["aria-checked","reduc.idReduction== temp? true : false",3,"value"],[1,"invalid-feedback"],[3,"value"],["mat-icon-button","","color","warn","aria-label","Supprimer r\xe9duction",3,"click"]],template:function(Be,zt){1&Be&&(Z.TgZ(0,"div",0)(1,"h2",1)(2,"mat-icon",2),Z._uU(3,"arrow_circle_left"),Z.qZA(),Z._uU(4),Z.qZA(),Z.YNc(5,ha,53,15,"div",3),Z.TgZ(6,"h2",1),Z._uU(7),Z.qZA(),Z.TgZ(8,"div",4)(9,"div",5)(10,"button",6),Z.NdJ("click",function(){return zt.showFormReductionMethod()}),Z.TgZ(11,"mat-icon",7),Z._uU(12,"add"),Z.qZA(),Z._uU(13," Ajouter une r\xe9duction existante "),Z.qZA()(),Z.TgZ(14,"div",8)(15,"button",9),Z.NdJ("click",function(){return zt.navigateToReduction()}),Z.TgZ(16,"mat-icon",7),Z._uU(17,"add"),Z.qZA(),Z._uU(18," Ajouter une r\xe9duction"),Z.qZA()()(),Z.TgZ(19,"form",10),Z.NdJ("ngSubmit",function(){return zt.submitReduction()}),Z.YNc(20,Ca,43,10,"div",11),Z.qZA()()),2&Be&&(Z.xp6(2),Z.Q6J("routerLink",Z.DdM(6,Vr)),Z.xp6(2),Z.hij(" Consultation de la convention N\xb0",zt.idConvention," "),Z.xp6(1),Z.Q6J("ngIf",zt.conventionReady),Z.xp6(2),Z.hij(" Ajout de r\xe9duction \xe0 la convention N\xb0",zt.idConvention," "),Z.xp6(12),Z.Q6J("formGroup",zt.formReduction),Z.xp6(1),Z.Q6J("ngIf",zt.showFormReduction))},dependencies:[Se.sg,Se.O5,l.Hw,dr.VK,dr.OP,dr.p6,Le._Y,Le.JJ,Le.JL,Le.sg,Le.u,t.TO,t.KE,t.hX,Q.BZ,Q.fO,Q.as,Q.w1,Q.Dz,Q.nj,Q.ge,Q.ev,Q.XQ,Q.Gk,Va.gM,w.NW,ut.gD,ot.ey,ps.lW,ee.rH,fs.y],styles:[".container[_ngcontent-%COMP%]{background-color:#fff;padding:40px 0;height:100%;overflow-x:hidden;box-shadow:0 .5rem 1rem #00000026}.infos[_ngcontent-%COMP%]{font-size:16px;margin-bottom:2rem;font-weight:600;padding:2rem 3rem}.value[_ngcontent-%COMP%]{color:#00008f;font-weight:600}.mini-info[_ngcontent-%COMP%]{margin-bottom:2rem}h2.header-title[_ngcontent-%COMP%]{padding:0 24px;font-size:21px!important;color:#00008f;font-weight:600!important;letter-spacing:1px;display:flex;justify-content:space-between}table[_ngcontent-%COMP%]{width:100%;margin-top:3rem}.mat-header-row[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{color:#00008f}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:16px;font-weight:600;border-right:1px solid #e7e7e7;padding-left:1rem}.mat-icon[_ngcontent-%COMP%]{height:100%;font-size:26px;width:-moz-fit-content;width:fit-content}.mat-header-cell[_ngcontent-%COMP%]{color:#333;font-weight:600;letter-spacing:.5px;font-size:15px}.container[_ngcontent-%COMP%]{background-color:#fff;padding:40px 0;height:100%;overflow-y:auto;overflow-x:hidden}.gestion-table[_ngcontent-%COMP%]{width:100%}.gestion-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .gestion-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:16px}.gestion-table[_ngcontent-%COMP%]   .mat-header-cell[_ngcontent-%COMP%]{color:#00008f;font-weight:600}.gestion-table[_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]:nth-child(even), .gestion-table[_ngcontent-%COMP%]   .mat-header-row[_ngcontent-%COMP%]{background-color:#f7f7f9}.gestion-table[_ngcontent-%COMP%]   .mat-paginator[_ngcontent-%COMP%]{background-color:transparent;margin:20px auto auto;width:80%}.gestion-table[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{height:100%;font-size:26px;color:#00008f;width:-moz-fit-content;width:fit-content}.mat-menu-item[_ngcontent-%COMP%]{font-size:15px}.mat-menu-item[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:18px;height:-moz-fit-content;height:fit-content}.mat-menu-item[_ngcontent-%COMP%]:hover:not([disabled]), .mat-menu-item[_ngcontent-%COMP%]:hover:not([disabled])   .mat-icon[_ngcontent-%COMP%]{color:#00008f}.header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:0px 2rem}.header[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{height:-moz-fit-content;height:fit-content;font-size:29px;margin-right:1rem;width:-moz-fit-content;width:fit-content}.title-table[_ngcontent-%COMP%]{margin-bottom:0rem;font-weight:800!important;font-size:23px!important;color:#00008f!important}.container[_ngcontent-%COMP%]{background-color:#fff;padding:40px 23px;height:100%;overflow-y:auto;overflow-x:hidden;box-shadow:0 .5rem 1rem #00000026}h2.header-title[_ngcontent-%COMP%]{padding:0 24px;font-size:21px!important;color:#00008f;font-weight:600!important;letter-spacing:1px;display:flex;justify-content:flex-end}h2.header-title[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{margin-right:1rem;font-size:32px;height:-moz-fit-content;height:fit-content;width:-moz-fit-content;width:fit-content}.form.row[_ngcontent-%COMP%]{flex-direction:column;padding:1rem}.row-button[_ngcontent-%COMP%]   .btn.btn-action[_ngcontent-%COMP%]{float:right;margin-top:2rem}.mat-expansion-panel-header[_ngcontent-%COMP%]{background:rgba(199,199,199,.2)!important;font-weight:600;font-size:16px}.mat-expansion-panel-header.mat-expanded[_ngcontent-%COMP%]{height:48px}.mat-expansion-panel-header-title[_ngcontent-%COMP%]{color:#00008f}.row.reduction[_ngcontent-%COMP%]{justify-content:space-between;align-items:center}.button-reduction[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.button-reduction[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{margin-right:1rem}form.filter[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:3rem}.filter-button[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-end}.filter-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-right:2rem}"]}),nt})(),canActivate:[me.k],data:{roles:["ADMIN","ROLE_SUPER_ADMIN","ANALYSTE","METIER","BACKOFFICE","BO"]}}];let Hr=(()=>{class nt{}return nt.\u0275fac=function(Be){return new(Be||nt)},nt.\u0275mod=Z.oAB({type:nt}),nt.\u0275inj=Z.cJS({imports:[ee.Bz.forChild(jr),ee.Bz]}),nt})(),oo=(()=>{class nt{}return nt.\u0275fac=function(Be){return new(Be||nt)},nt.\u0275mod=Z.oAB({type:nt}),nt.\u0275inj=Z.cJS({imports:[Se.ez,h.m,Ge.q,Hr,K.I]}),nt})()},8692:(co,wn,B)=>{"use strict";B.d(wn,{I:()=>$i});var Se=B(5412),K=B(7155),Ge=B(8739),h=B(5226),ee=B.n(h),me=B(4650),Le=B(6895),Q=B(4850),w=B(7392),o=B(4006),e=B(9549),xe=B(284),n=B(266),i=B(9602),Z=B(4385),O=B(3238),J=B(4859);function he(Sn,vt){if(1&Sn&&(me.ynx(0),me.TgZ(1,"mat-option",15),me._uU(2),me.qZA(),me.BQk()),2&Sn){const $e=vt.$implicit;me.xp6(1),me.Q6J("value",$e),me.xp6(1),me.hij(" ",$e.description," ")}}function Ze(Sn,vt){1&Sn&&(me.TgZ(0,"mat-error",16),me._uU(1," ce champs est obligatoire "),me.qZA())}function l(Sn,vt){if(1&Sn&&(me.TgZ(0,"mat-error",16),me._uU(1),me.qZA()),2&Sn){const $e=me.oxw(2).$implicit,bn=me.oxw();me.xp6(1),me.hij(" ",null==bn.data.formListParamRisque.get($e.formName).errors?null:bn.data.formListParamRisque.get($e.formName).errors.msg," ")}}function t(Sn,vt){if(1&Sn&&(me.TgZ(0,"mat-form-field",12)(1,"mat-label"),me._uU(2),me.qZA(),me.TgZ(3,"mat-select",13),me.YNc(4,he,3,2,"ng-container",5),me.qZA(),me.YNc(5,Ze,2,0,"mat-error",14),me.YNc(6,l,2,1,"mat-error",14),me.qZA()),2&Sn){const $e=me.oxw().$implicit,bn=me.oxw();me.xp6(2),me.hij("",$e.libelle," "),me.xp6(1),me.s9C("formControlName",$e.formName),me.xp6(1),me.Q6J("ngForOf",$e.reponses),me.xp6(1),me.Q6J("ngIf",null==bn.data.formListParamRisque.get($e.formName).errors?null:bn.data.formListParamRisque.get($e.formName).errors.required),me.xp6(1),me.Q6J("ngIf",null==bn.data.formListParamRisque.get($e.formName).errors?null:bn.data.formListParamRisque.get($e.formName).errors.bloquant)}}function Ft(Sn,vt){if(1&Sn&&(me.ynx(0),me.TgZ(1,"mat-option",15),me._uU(2),me.qZA(),me.BQk()),2&Sn){const $e=vt.$implicit;me.xp6(1),me.Q6J("value",$e),me.xp6(1),me.hij(" ",$e.description," ")}}function ln(Sn,vt){1&Sn&&(me.TgZ(0,"mat-error",16),me._uU(1," ce champs est obligatoire "),me.qZA())}function ut(Sn,vt){if(1&Sn&&(me.TgZ(0,"mat-error",16),me._uU(1),me.qZA()),2&Sn){const $e=me.oxw(2).$implicit,bn=me.oxw();me.xp6(1),me.hij(" ",null==bn.data.formListParamRisque.get($e.formName).errors?null:bn.data.formListParamRisque.get($e.formName).errors.msg," ")}}function ot(Sn,vt){if(1&Sn&&(me.TgZ(0,"mat-form-field",12)(1,"mat-label"),me._uU(2),me.qZA(),me.TgZ(3,"mat-select",13),me.YNc(4,Ft,3,2,"ng-container",5),me.qZA(),me.YNc(5,ln,2,0,"mat-error",14),me.YNc(6,ut,2,1,"mat-error",14),me.qZA()),2&Sn){const $e=me.oxw().$implicit,bn=me.oxw();me.xp6(2),me.hij("",$e.libelle," "),me.xp6(1),me.s9C("formControlName",$e.formName),me.xp6(1),me.Q6J("ngForOf",$e.reponses),me.xp6(1),me.Q6J("ngIf",null==bn.data.formListParamRisque.get($e.formName).errors?null:bn.data.formListParamRisque.get($e.formName).errors.required),me.xp6(1),me.Q6J("ngIf",null==bn.data.formListParamRisque.get($e.formName).errors?null:bn.data.formListParamRisque.get($e.formName).errors.bloquant)}}function tt(Sn,vt){1&Sn&&(me.TgZ(0,"mat-error",16),me._uU(1," ce champs est obligatoire "),me.qZA())}function Zt(Sn,vt){1&Sn&&(me.TgZ(0,"mat-error",16),me._uU(1," ce champs n'est pas conforme "),me.qZA())}function nn(Sn,vt){if(1&Sn&&(me.TgZ(0,"mat-error",16),me._uU(1),me.qZA()),2&Sn){const $e=me.oxw(2).$implicit,bn=me.oxw();me.xp6(1),me.hij(" ",null==bn.data.formListParamRisque.get($e.formName).errors?null:bn.data.formListParamRisque.get($e.formName).errors.msg," ")}}function _n(Sn,vt){if(1&Sn&&(me.TgZ(0,"mat-form-field",12)(1,"mat-label"),me._uU(2),me.qZA(),me._UZ(3,"input",17),me.YNc(4,tt,2,0,"mat-error",14),me.YNc(5,Zt,2,0,"mat-error",14),me.YNc(6,nn,2,1,"mat-error",14),me.qZA()),2&Sn){const $e=me.oxw().$implicit,bn=me.oxw();me.xp6(2),me.Oqu($e.libelle),me.xp6(1),me.s9C("formControlName",$e.formName),me.xp6(1),me.Q6J("ngIf",null==bn.data.formListParamRisque.get($e.formName).errors?null:bn.data.formListParamRisque.get($e.formName).errors.required),me.xp6(1),me.Q6J("ngIf",(null==bn.data.formListParamRisque.get($e.formName).errors?null:bn.data.formListParamRisque.get($e.formName).errors.pattern)||(null==bn.data.formListParamRisque.get($e.formName).errors?null:bn.data.formListParamRisque.get($e.formName).errors.maxlength)||(null==bn.data.formListParamRisque.get($e.formName).errors?null:bn.data.formListParamRisque.get($e.formName).errors.minlength)),me.xp6(1),me.Q6J("ngIf",null==bn.data.formListParamRisque.get($e.formName).errors?null:bn.data.formListParamRisque.get($e.formName).errors.bloquant)}}function xn(Sn,vt){1&Sn&&(me.TgZ(0,"mat-error",16),me._uU(1," ce champs est obligatoire "),me.qZA())}function mn(Sn,vt){1&Sn&&(me.TgZ(0,"mat-error",16),me._uU(1," ce champs n'est pas conforme "),me.qZA())}function Ri(Sn,vt){if(1&Sn&&(me.TgZ(0,"mat-error",16),me._uU(1),me.qZA()),2&Sn){const $e=me.oxw(2).$implicit,bn=me.oxw();me.xp6(1),me.hij(" ",null==bn.data.formListParamRisque.get($e.formName).errors?null:bn.data.formListParamRisque.get($e.formName).errors.msg," ")}}function Xn(Sn,vt){if(1&Sn&&(me.TgZ(0,"mat-form-field",12)(1,"mat-label"),me._uU(2),me.qZA(),me._UZ(3,"input",18),me.YNc(4,xn,2,0,"mat-error",14),me.YNc(5,mn,2,0,"mat-error",14),me.YNc(6,Ri,2,1,"mat-error",14),me.qZA()),2&Sn){const $e=me.oxw().$implicit,bn=me.oxw();me.xp6(2),me.Oqu($e.libelle),me.xp6(1),me.s9C("formControlName",$e.formName),me.xp6(1),me.Q6J("ngIf",null==bn.data.formListParamRisque.get($e.formName).errors?null:bn.data.formListParamRisque.get($e.formName).errors.required),me.xp6(1),me.Q6J("ngIf",(null==bn.data.formListParamRisque.get($e.formName).errors?null:bn.data.formListParamRisque.get($e.formName).errors.pattern)||(null==bn.data.formListParamRisque.get($e.formName).errors?null:bn.data.formListParamRisque.get($e.formName).errors.maxlength)||(null==bn.data.formListParamRisque.get($e.formName).errors?null:bn.data.formListParamRisque.get($e.formName).errors.minlength)),me.xp6(1),me.Q6J("ngIf",null==bn.data.formListParamRisque.get($e.formName).errors?null:bn.data.formListParamRisque.get($e.formName).errors.bloquant)}}function Mt(Sn,vt){1&Sn&&(me.TgZ(0,"mat-error",16),me._uU(1," ce champs est obligatoire "),me.qZA())}function Lt(Sn,vt){if(1&Sn&&(me.TgZ(0,"mat-error",16),me._uU(1),me.qZA()),2&Sn){const $e=me.oxw(2).$implicit,bn=me.oxw();me.xp6(1),me.hij(" ",null==bn.data.formListParamRisque.get($e.formName).errors?null:bn.data.formListParamRisque.get($e.formName).errors.msg," ")}}function xt(Sn,vt){if(1&Sn&&(me.TgZ(0,"mat-form-field",12)(1,"mat-label"),me._uU(2),me.qZA(),me._UZ(3,"input",19)(4,"mat-datepicker-toggle",20)(5,"mat-datepicker",null,21),me.YNc(7,Mt,2,0,"mat-error",14),me.YNc(8,Lt,2,1,"mat-error",14),me.qZA()),2&Sn){const $e=me.MAs(6),bn=me.oxw().$implicit,Vt=me.oxw();me.xp6(2),me.Oqu(bn.libelle),me.xp6(1),me.s9C("formControlName",bn.formName),me.Q6J("matDatepicker",$e),me.xp6(1),me.Q6J("for",$e),me.xp6(3),me.Q6J("ngIf",null==Vt.data.formListParamRisque.get(bn.formName).errors?null:Vt.data.formListParamRisque.get(bn.formName).errors.required),me.xp6(1),me.Q6J("ngIf",null==Vt.data.formListParamRisque.get(bn.formName).errors?null:Vt.data.formListParamRisque.get(bn.formName).errors.bloquant)}}function ht(Sn,vt){if(1&Sn&&(me.ynx(0),me.YNc(1,t,7,5,"mat-form-field",10),me.YNc(2,ot,7,5,"mat-form-field",10),me.YNc(3,_n,7,5,"mat-form-field",10),me.YNc(4,Xn,7,5,"mat-form-field",10),me.YNc(5,xt,9,6,"mat-form-field",11),me.BQk()),2&Sn){const $e=vt.$implicit;me.xp6(1),me.Q6J("ngIf","L01"==(null==$e.typeChamp?null:$e.typeChamp.code)),me.xp6(1),me.Q6J("ngIf","L08"==(null==$e.typeChamp?null:$e.typeChamp.code)),me.xp6(1),me.Q6J("ngIf","String"==(null==$e.typeChamp?null:$e.typeChamp.description)),me.xp6(1),me.Q6J("ngIf","Number"==(null==$e.typeChamp?null:$e.typeChamp.description)),me.xp6(1),me.Q6J("ngIf","date"==(null==$e.typeChamp?null:$e.typeChamp.description))}}function Yn(Sn,vt){if(1&Sn&&(me.TgZ(0,"th",32),me._uU(1),me.qZA()),2&Sn){const $e=me.oxw().$implicit;me.xp6(1),me.hij(" ",$e.libelle," ")}}function Jn(Sn,vt){if(1&Sn&&(me.TgZ(0,"td",33),me._uU(1),me.qZA()),2&Sn){const $e=vt.$implicit,bn=me.oxw().$implicit;me.xp6(1),me.hij(" ","L08"==(null==bn.typeChamp?null:bn.typeChamp.code)||"L01"==(null==bn.typeChamp?null:bn.typeChamp.code)?$e[bn.formName].description:$e[bn.formName]," ")}}function pi(Sn,vt){1&Sn&&(me.ynx(0,31),me.YNc(1,Yn,2,1,"th",26),me.YNc(2,Jn,2,1,"td",27),me.BQk()),2&Sn&&me.Q6J("matColumnDef",vt.$implicit.formName)}function Qn(Sn,vt){1&Sn&&(me.TgZ(0,"th",32),me._uU(1," Action "),me.qZA())}function Kn(Sn,vt){if(1&Sn){const $e=me.EpF();me.TgZ(0,"td",33)(1,"mat-icon",34),me.NdJ("click",function(){const Gn=me.CHM($e).index,ei=me.oxw(2);return me.KtG(ei.deleteList(Gn))}),me._uU(2," delete"),me.qZA()()}}function xi(Sn,vt){1&Sn&&me._UZ(0,"tr",35)}function tn(Sn,vt){1&Sn&&me._UZ(0,"tr",36)}const Kt=function(){return[5,10,20]};function hi(Sn,vt){if(1&Sn&&(me.TgZ(0,"div",22)(1,"table",23),me.YNc(2,pi,3,1,"ng-container",24),me.ynx(3,25),me.YNc(4,Qn,2,0,"th",26),me.YNc(5,Kn,3,0,"td",27),me.BQk(),me.YNc(6,xi,1,0,"tr",28),me.YNc(7,tn,1,0,"tr",29),me.qZA(),me._UZ(8,"mat-paginator",30),me.qZA()),2&Sn){const $e=me.oxw();me.xp6(1),me.Q6J("dataSource",$e.dataSourceListParamRisque),me.xp6(1),me.Q6J("ngForOf",$e.data.listParamRisque),me.xp6(4),me.Q6J("matHeaderRowDef",$e.data.displayedColumnsListParamRisque),me.xp6(1),me.Q6J("matRowDefColumns",$e.data.displayedColumnsListParamRisque),me.xp6(1),me.Q6J("pageSize",5)("pageSizeOptions",me.DdM(6,Kt))}}let $i=(()=>{class Sn{constructor($e,bn){this.dialogRef=$e,this.data=bn,this.dataSourceListParamRisque=new K.by,this.paramListAttr=[]}ngOnInit(){this.retourData=this.data.dataSourceListParamRisque,this.dataSourceListParamRisque.data=this.data.dataSourceListParamRisque.filter($e=>this.data.displayedColumnsListParamRisque.every(bn=>$e.hasOwnProperty(bn))),this.data.displayedColumnsListParamRisque.push("action"),this.data.listParamRisque.map($e=>this.paramListAttr.push($e.libelle))}deleteList($e){const bn=this.retourData,Vt=this.dataSourceListParamRisque.data;bn.splice($e,1),Vt.splice($e,1),this.retourData=bn,this.dataSourceListParamRisque=new K.by(Vt)}ajouterParam(){if("G53"!=this.data?.garantie?.codeGarantie||this.dataSourceListParamRisque?.data?.length!=this.data?.numberEffective){if(this.data.formListParamRisque.valid){const $e=[...this.dataSourceListParamRisque.data,this.data.formListParamRisque.value];this.retourData.push(this.data.formListParamRisque.value),this.dataSourceListParamRisque.data=$e,this.data.formListParamRisque.reset()}}else ee().fire("le nombre d'effectif a atteint le nombre de d'effectif indiqu\xe9","error")}submitList(){this.dialogRef.close({data:this.retourData,listAtt:this.paramListAttr})}}return Sn.\u0275fac=function($e){return new($e||Sn)(me.Y36(Se.so),me.Y36(Se.WI))},Sn.\u0275cmp=me.Xpm({type:Sn,selectors:[["app-list-risque-dialog"]],viewQuery:function($e,bn){if(1&$e&&me.Gf(Ge.NW,5),2&$e){let Vt;me.iGM(Vt=me.CRH())&&(bn.paginator=Vt.first)}},decls:15,vars:7,consts:[[1,"heading"],[2,"float","right","font-size","24px"],["aria-hidden","false","aria-label","","matTooltip","","matTooltipPosition","right","mat-dialog-close","",1,"material-symbols-outlined"],[1,"mat-typography"],[1,"form-list",3,"formGroup"],[4,"ngFor","ngForOf"],["type","submit",1,"btn","btn-secondary",2,"display","flex","width","auto",3,"click"],["class","col-md-12",4,"ngIf"],[1,"row-button"],["mat-button","",3,"disabled","click"],["appearance","outline","class","col-md-3",4,"ngIf"],["class","col-md-3","appearance","outline",4,"ngIf"],["appearance","outline",1,"col-md-3"],[3,"formControlName"],["class","invalid-feedback",4,"ngIf"],[3,"value"],[1,"invalid-feedback"],["matInput","","type","text",3,"formControlName"],["matInput","","type","number","pattern","^[1-9]+[0-9]*([.][0-9]*)?$",3,"formControlName"],["matInput","",3,"matDatepicker","formControlName"],["matSuffix","",3,"for"],["picker",""],[1,"col-md-12"],["mat-table","",1,"gestion-table",3,"dataSource"],[3,"matColumnDef",4,"ngFor","ngForOf"],["matColumnDef","action"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["mat-header-row","","class","example-second-header-row",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["aria-label","Select page  of users",3,"pageSize","pageSizeOptions"],[3,"matColumnDef"],["mat-header-cell",""],["mat-cell",""],["aria-hidden","false","aria-label","Supprimer param","matTooltip","Supprimer param","matTooltipPosition","right",1,"material-symbols-outlined",2,"margin-left","4px",3,"click"],["mat-header-row","",1,"example-second-header-row"],["mat-row",""]],template:function($e,bn){1&$e&&(me.TgZ(0,"h2",0),me._uU(1),me.TgZ(2,"span",1)(3,"mat-icon",2),me._uU(4," close "),me.qZA()()(),me._UZ(5,"mat-divider"),me.TgZ(6,"mat-dialog-content",3)(7,"form",4),me.YNc(8,ht,6,5,"ng-container",5),me.TgZ(9,"button",6),me.NdJ("click",function(){return bn.ajouterParam()}),me._uU(10," Ajouter "),me.qZA()(),me.YNc(11,hi,9,7,"div",7),me.TgZ(12,"div",8)(13,"button",9),me.NdJ("click",function(){return bn.submitList()}),me._uU(14,"Enregistr\xe9"),me.qZA()()()),2&$e&&(me.xp6(1),me.hij("Consulter la liste ","G53"==(null==bn.data.garantie?null:bn.data.garantie.codeGarantie)?"des effectifs":"de mat\xe9riel informatique"," "),me.xp6(6),me.Q6J("formGroup",bn.data.formListParamRisque),me.xp6(1),me.Q6J("ngForOf",bn.data.listParamRisque),me.xp6(3),me.Q6J("ngIf",0!=bn.dataSourceListParamRisque.data.length),me.xp6(2),me.Tol(0==bn.dataSourceListParamRisque.data.length?"btn btn-disable":"btn btn-action"),me.Q6J("disabled",0==bn.dataSourceListParamRisque.data.length))},dependencies:[Le.sg,Le.O5,Q.d,w.Hw,o._Y,o.Fj,o.wV,o.JJ,o.JL,o.c5,o.sg,o.u,e.TO,e.KE,e.hX,e.R9,xe.Nt,K.BZ,K.fO,K.as,K.w1,K.Dz,K.nj,K.ge,K.ev,K.XQ,K.Gk,n.gM,Ge.NW,Se.ZT,Se.xY,i.Mq,i.hl,i.nW,Z.gD,O.ey,J.lW],styles:[".container[_ngcontent-%COMP%]{background-color:#fff;padding:40px 0;height:100%;overflow-y:auto;overflow-x:hidden}.gestion-table[_ngcontent-%COMP%]{width:100%}.gestion-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .gestion-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:16px}.gestion-table[_ngcontent-%COMP%]   .mat-header-cell[_ngcontent-%COMP%]{color:#00008f;font-weight:600}.gestion-table[_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]:nth-child(even), .gestion-table[_ngcontent-%COMP%]   .mat-header-row[_ngcontent-%COMP%]{background-color:#f7f7f9}.gestion-table[_ngcontent-%COMP%]   .mat-paginator[_ngcontent-%COMP%]{background-color:transparent;margin:20px auto auto;width:80%}.gestion-table[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{height:100%;font-size:26px;color:#00008f;width:-moz-fit-content;width:fit-content}.mat-menu-item[_ngcontent-%COMP%]{font-size:15px}.mat-menu-item[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:18px;height:-moz-fit-content;height:fit-content}.mat-menu-item[_ngcontent-%COMP%]:hover:not([disabled]), .mat-menu-item[_ngcontent-%COMP%]:hover:not([disabled])   .mat-icon[_ngcontent-%COMP%]{color:#00008f}.header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:0px 2rem}.header[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{height:-moz-fit-content;height:fit-content;font-size:29px;margin-right:1rem;width:-moz-fit-content;width:fit-content}.title-table[_ngcontent-%COMP%]{margin-bottom:0rem;font-weight:800!important;font-size:23px!important;color:#00008f!important}.mat-expansion-panel-header[_ngcontent-%COMP%]{background:rgba(199,199,199,.2)!important;font-weight:600;font-size:16px}.mat-expansion-panel-header.mat-expanded[_ngcontent-%COMP%]{height:48px}  .mat-step-header .mat-step-icon-state-edit{background-color:#d14624}.mat-expansion-panel-header-title[_ngcontent-%COMP%]{color:#00008f}  .mat-step-text-label{font-size:16px}  .mat-step-label-selected .mat-step-text-label{font-size:16px;font-weight:700;color:#00008f}.form-list[_ngcontent-%COMP%]{margin:2rem}.form-list[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{margin-right:2rem}.row-button[_ngcontent-%COMP%]   .btn.btn-action[_ngcontent-%COMP%], .row-button[_ngcontent-%COMP%]   .btn.btn-secondary[_ngcontent-%COMP%]{margin-top:2rem}.row-button[_ngcontent-%COMP%]   .btn.btn-action[_ngcontent-%COMP%]{float:right}.row-button[_ngcontent-%COMP%]   .btn.btn-secondary[_ngcontent-%COMP%]{float:left}"]}),Sn})()},3205:(co,wn,B)=>{"use strict";B.d(wn,{T:()=>Xn});var Se=B(5412),K=B(7155),Ge=B(7340),h=B(4650),ee=B(6895),me=B(4850),Le=B(4803),Q=B(2768);function w(Mt,Lt){if(1&Mt&&(h.TgZ(0,"div",16),h._uU(1),h.qZA()),2&Mt){const xt=h.oxw().$implicit;h.xp6(1),h.Oqu(null==xt.reponse||null==xt.reponse.idParamReponse?null:xt.reponse.idParamReponse.description)}}function o(Mt,Lt){if(1&Mt&&(h.TgZ(0,"div",16),h._uU(1),h.ALo(2,"dateFormatPipe"),h.qZA()),2&Mt){const xt=h.oxw().$implicit;h.xp6(1),h.Oqu(h.lcZ(2,1,null==xt.reponse?null:xt.reponse.valeur))}}function e(Mt,Lt){if(1&Mt&&(h.TgZ(0,"div",16),h._uU(1),h.qZA()),2&Mt){const xt=h.oxw().$implicit;h.xp6(1),h.Oqu(null==xt.reponse?null:xt.reponse.valeur)}}function xe(Mt,Lt){if(1&Mt&&(h.TgZ(0,"div",16),h._uU(1),h.qZA()),2&Mt){const xt=h.oxw().$implicit;h.xp6(1),h.Oqu(null==xt.reponse||null==xt.reponse.idParamReponse?null:xt.reponse.idParamReponse.description)}}function n(Mt,Lt){if(1&Mt&&(h.TgZ(0,"div",16),h._uU(1),h.qZA()),2&Mt){const xt=h.oxw().$implicit;h.xp6(1),h.Oqu(null==xt.reponse?null:xt.reponse.description)}}function i(Mt,Lt){if(1&Mt&&(h.ynx(0),h.TgZ(1,"tr")(2,"td"),h._uU(3),h.qZA(),h.TgZ(4,"td"),h._uU(5),h.qZA(),h.YNc(6,w,2,1,"div",15),h.YNc(7,o,3,3,"div",15),h.YNc(8,e,2,1,"div",15),h.YNc(9,xe,2,1,"div",15),h.YNc(10,n,2,1,"div",15),h.qZA(),h.BQk()),2&Mt){const xt=Lt.$implicit,ht=Lt.index,Yn=h.oxw();h.xp6(3),h.Oqu(xt.libelle),h.xp6(2),h.Oqu(null==Yn.risqueInfo[ht+1]?null:Yn.risqueInfo[ht+1].libelle),h.xp6(1),h.Q6J("ngIf","P25"==xt.codeRisque||"P26"==xt.codeRisque),h.xp6(1),h.Q6J("ngIf","date"==xt.typeChamp||"L06"==xt.typeChamp.code),h.xp6(1),h.Q6J("ngIf","L03"==xt.typeChamp.code||"Number"==xt.typeChamp||"String"==xt.typeChamp||"L02"==xt.typeChamp.code||"Alphanum\xe9rique"==xt.typeChamp||"Alphanum\xe9rique"==xt.typeChamp.description),h.xp6(1),h.Q6J("ngIf","Liste of values"==xt.typeChamp||"L01"==xt.typeChamp.code),h.xp6(1),h.Q6J("ngIf","L08"==xt.typeChamp.code||"From Table"==xt.typeChamp||"From Table"==xt.typeChamp.description)}}function Z(Mt,Lt){if(1&Mt&&(h.TgZ(0,"div",16),h._uU(1),h.qZA()),2&Mt){const xt=h.oxw().$implicit;h.xp6(1),h.Oqu(null==xt.reponse||null==xt.reponse.idParamReponse?null:xt.reponse.idParamReponse.description)}}function O(Mt,Lt){if(1&Mt&&(h.TgZ(0,"div",16),h._uU(1),h.ALo(2,"dateFormatPipe"),h.qZA()),2&Mt){const xt=h.oxw().$implicit;h.xp6(1),h.Oqu(h.lcZ(2,1,null==xt.reponse?null:xt.reponse.valeur))}}function J(Mt,Lt){if(1&Mt&&(h.TgZ(0,"div",16),h._uU(1),h.qZA()),2&Mt){const xt=h.oxw().$implicit;h.xp6(1),h.Oqu(null==xt.reponse?null:xt.reponse.valeur)}}function he(Mt,Lt){if(1&Mt&&(h.TgZ(0,"div",16),h._uU(1),h.qZA()),2&Mt){const xt=h.oxw().$implicit;h.xp6(1),h.Oqu(null==xt.reponse?null:xt.reponse.description)}}function Ze(Mt,Lt){if(1&Mt&&(h.TgZ(0,"div",16),h._uU(1),h.qZA()),2&Mt){const xt=h.oxw().$implicit;h.xp6(1),h.Oqu(null==xt.reponse||null==xt.reponse.idParamReponse?null:xt.reponse.idParamReponse.description)}}function l(Mt,Lt){if(1&Mt&&(h.ynx(0),h.TgZ(1,"tr")(2,"td"),h._uU(3),h.qZA(),h.TgZ(4,"td"),h._uU(5),h.qZA(),h.YNc(6,Z,2,1,"div",15),h.YNc(7,O,3,3,"div",15),h.YNc(8,J,2,1,"div",15),h.YNc(9,he,2,1,"div",15),h.YNc(10,Ze,2,1,"div",15),h.qZA(),h.BQk()),2&Mt){const xt=Lt.$implicit,ht=Lt.index,Yn=h.oxw();h.xp6(3),h.Oqu(xt.libelle),h.xp6(2),h.Oqu(null==Yn.risqueInfo[ht+1]?null:Yn.risqueInfo[ht+1].libelle),h.xp6(1),h.Q6J("ngIf","P25"==xt.codeRisque||"P26"==xt.codeRisque),h.xp6(1),h.Q6J("ngIf","date"==xt.typeChamp||"L06"==xt.typeChamp.code),h.xp6(1),h.Q6J("ngIf","L03"==xt.typeChamp.code||"Number"==xt.typeChamp||"String"==xt.typeChamp||"L02"==xt.typeChamp.code||"Alphanum\xe9rique"==xt.typeChamp||"Alphanum\xe9rique"==xt.typeChamp.description),h.xp6(1),h.Q6J("ngIf","L08"==xt.typeChamp.code||"From Table"==xt.typeChamp||"From Table"==xt.typeChamp.description),h.xp6(1),h.Q6J("ngIf","Liste of values"==xt.typeChamp||"L01"==xt.typeChamp.code)}}function t(Mt,Lt){1&Mt&&(h.TgZ(0,"th",17),h._uU(1," Garantie"),h.qZA())}function Ft(Mt,Lt){if(1&Mt&&(h.TgZ(0,"td",18),h._uU(1),h.qZA()),2&Mt){const xt=Lt.$implicit;h.xp6(1),h.hij(" ",xt.description," ")}}function ln(Mt,Lt){1&Mt&&(h.TgZ(0,"th",17),h._uU(1," Plafond "),h.qZA())}function ut(Mt,Lt){if(1&Mt&&(h.TgZ(0,"td",18),h._uU(1),h.qZA()),2&Mt){const xt=Lt.$implicit;h.xp6(1),h.hij(" ","0"!=xt.plafond?xt.plafond:"-"," ")}}function ot(Mt,Lt){1&Mt&&(h.TgZ(0,"th",17),h._uU(1," Franchise "),h.qZA())}function tt(Mt,Lt){if(1&Mt&&(h.TgZ(0,"td",18),h._uU(1),h.qZA()),2&Mt){const xt=Lt.$implicit;h.xp6(1),h.hij(" ",xt.franchise," ")}}function Zt(Mt,Lt){1&Mt&&(h.TgZ(0,"th",17),h._uU(1," Formule "),h.qZA())}function nn(Mt,Lt){if(1&Mt&&(h.TgZ(0,"td",18),h._uU(1),h.qZA()),2&Mt){const xt=Lt.$implicit;h.xp6(1),h.hij(" ",xt.formule," ")}}function _n(Mt,Lt){1&Mt&&(h.TgZ(0,"th",17),h._uU(1," Prime "),h.qZA())}function xn(Mt,Lt){if(1&Mt&&(h.TgZ(0,"td",18),h._uU(1),h.ALo(2,"money"),h.ALo(3,"number"),h.TgZ(4,"sup"),h._uU(5,"DA"),h.qZA()()),2&Mt){const xt=Lt.$implicit;h.xp6(1),h.hij(" ",h.lcZ(2,1,h.xi3(3,3,xt.prime,"1.0-0")),"")}}function mn(Mt,Lt){1&Mt&&h._UZ(0,"tr",19)}function Ri(Mt,Lt){1&Mt&&h._UZ(0,"tr",20)}let Xn=(()=>{class Mt{constructor(xt){this.data=xt,this.risqueInfo=this.data.paramRisque,this.displayedColumnsPack=["description","plafond","franchise","formule","prime"],this.informationsGaranties=[],this.namePack=this.data.pack.pack.description}ngOnInit(){this.risqueInfo=this.divideObject(this.risqueInfo),console.log("this.risqueInfo",this.risqueInfo),console.log("this.data",this.data),this.data.pack.garantieList.map(xt=>{let ht="-",Yn="-",Jn="-";xt.categorieList.map(pi=>{"C15"==pi.code?Jn=pi.valeur:"C16"==pi.code?Yn="G11"==xt.codeGarantie?this.risqueInfo[1].find(Qn=>"P320"==Qn.codeRisque)?.reponse?.idParamReponse?.description:pi.valeur:"C7"==pi.code&&(ht=pi.valeur)}),this.informationsGaranties.push({idGarantie:xt.idGarantie,description:xt.description,prime:xt.prime,plafond:ht,formule:Yn,franchise:Jn})}),this.dataSourcePack=new K.by(this.informationsGaranties)}divideObject(xt){const ht=Math.floor(xt.length/2);return[xt.slice(0,ht),xt.slice(ht)]}}return Mt.\u0275fac=function(xt){return new(xt||Mt)(h.Y36(Se.WI))},Mt.\u0275cmp=h.Xpm({type:Mt,selectors:[["app-dialog-risque-pack"]],decls:32,vars:6,consts:[[1,"heading"],[1,"mat-typography"],[1,"display-title"],[1,"risque-table"],[4,"ngFor","ngForOf"],["mat-table","","multiTemplateDataRows","",1,"pack-table",3,"dataSource"],["matColumnDef","description"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","plafond"],["matColumnDef","franchise"],["matColumnDef","formule"],["matColumnDef","prime"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","col-md-6 value",4,"ngIf"],[1,"col-md-6","value"],["mat-header-cell",""],["mat-cell",""],["mat-header-row",""],["mat-row",""]],template:function(xt,ht){1&xt&&(h.TgZ(0,"h2",0),h._uU(1,"Consulter le risque"),h.qZA(),h._UZ(2,"mat-divider"),h.TgZ(3,"mat-dialog-content",1)(4,"h3",2),h._uU(5," Information du risque"),h.qZA(),h.TgZ(6,"table",3)(7,"tr")(8,"td"),h.YNc(9,i,11,7,"ng-container",4),h.qZA(),h.TgZ(10,"td"),h.YNc(11,l,11,7,"ng-container",4),h.qZA()()(),h.TgZ(12,"h3",2),h._uU(13),h.qZA(),h.TgZ(14,"table",5),h.ynx(15,6),h.YNc(16,t,2,0,"th",7),h.YNc(17,Ft,2,1,"td",8),h.BQk(),h.ynx(18,9),h.YNc(19,ln,2,0,"th",7),h.YNc(20,ut,2,1,"td",8),h.BQk(),h.ynx(21,10),h.YNc(22,ot,2,0,"th",7),h.YNc(23,tt,2,1,"td",8),h.BQk(),h.ynx(24,11),h.YNc(25,Zt,2,0,"th",7),h.YNc(26,nn,2,1,"td",8),h.BQk(),h.ynx(27,12),h.YNc(28,_n,2,0,"th",7),h.YNc(29,xn,6,6,"td",8),h.BQk(),h.YNc(30,mn,1,0,"tr",13),h.YNc(31,Ri,1,0,"tr",14),h.qZA()()),2&xt&&(h.xp6(9),h.Q6J("ngForOf",ht.risqueInfo[0]),h.xp6(2),h.Q6J("ngForOf",ht.risqueInfo[1]),h.xp6(2),h.hij("","Information du pack "+ht.namePack," "),h.xp6(1),h.Q6J("dataSource",ht.dataSourcePack),h.xp6(16),h.Q6J("matHeaderRowDef",ht.displayedColumnsPack),h.xp6(1),h.Q6J("matRowDefColumns",ht.displayedColumnsPack))},dependencies:[ee.sg,ee.O5,me.d,K.BZ,K.fO,K.as,K.w1,K.Dz,K.nj,K.ge,K.ev,K.XQ,K.Gk,Se.xY,ee.JJ,Le.y,Q.X],styles:[".container[_ngcontent-%COMP%]{background-color:#fff;padding:40px 0;height:100%;overflow-y:auto;overflow-x:hidden}.gestion-table[_ngcontent-%COMP%]{width:100%}.gestion-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .gestion-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:16px}.gestion-table[_ngcontent-%COMP%]   .mat-header-cell[_ngcontent-%COMP%]{color:#00008f;font-weight:600}.gestion-table[_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]:nth-child(even), .gestion-table[_ngcontent-%COMP%]   .mat-header-row[_ngcontent-%COMP%]{background-color:#f7f7f9}.gestion-table[_ngcontent-%COMP%]   .mat-paginator[_ngcontent-%COMP%]{background-color:transparent;margin:20px auto auto;width:80%}.gestion-table[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{height:100%;font-size:26px;color:#00008f;width:-moz-fit-content;width:fit-content}.mat-menu-item[_ngcontent-%COMP%]{font-size:15px}.mat-menu-item[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:18px;height:-moz-fit-content;height:fit-content}.mat-menu-item[_ngcontent-%COMP%]:hover:not([disabled]), .mat-menu-item[_ngcontent-%COMP%]:hover:not([disabled])   .mat-icon[_ngcontent-%COMP%]{color:#00008f}.header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:0px 2rem}.header[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{height:-moz-fit-content;height:fit-content;font-size:29px;margin-right:1rem;width:-moz-fit-content;width:fit-content}.title-table[_ngcontent-%COMP%]{margin-bottom:0rem;font-weight:800!important;font-size:23px!important;color:#00008f!important}.value[_ngcontent-%COMP%]{color:#00008f;font-weight:600}.risque-table[_ngcontent-%COMP%]{border-collapse:separate;border-spacing:15px;width:100%}.risque-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-bottom:1px solid rgba(221,221,221,.541)}.display-title[_ngcontent-%COMP%]{text-decoration:underline;font-weight:600!important;color:#00008f;letter-spacing:1px}.pack-table[_ngcontent-%COMP%]{width:100%}.pack-table[_ngcontent-%COMP%]   .mat-header-cell[_ngcontent-%COMP%]{font-size:15px}.pack-table[_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]:nth-child(even), .pack-table[_ngcontent-%COMP%]   .mat-header-row[_ngcontent-%COMP%]{background-color:#f7f7f9}"],data:{animation:[(0,Ge.X$)("detailExpand",[(0,Ge.SB)("collapsed",(0,Ge.oB)({height:"0px",minHeight:"0",display:"none"})),(0,Ge.SB)("expanded",(0,Ge.oB)({height:"*"})),(0,Ge.eR)("expanded <=> collapsed",(0,Ge.jt)("225ms cubic-bezier(0.4, 0.0, 0.2, 1)"))])]}}),Mt})()},6274:(co,wn,B)=>{"use strict";B.d(wn,{_:()=>me});var Se=B(5412),K=B(4650),Ge=B(6895),h=B(4850);function ee(Le,Q){if(1&Le&&(K.TgZ(0,"tr")(1,"td"),K._uU(2),K.qZA(),K.TgZ(3,"td",3),K._uU(4),K.qZA()()),2&Le){const w=Q.$implicit;K.xp6(2),K.Oqu(w.key),K.xp6(2),K.Oqu(w.value)}}let me=(()=>{class Le{constructor(w){this.data=w,this.risqueInfo=this.data.risque}ngOnInit(){}}return Le.\u0275fac=function(w){return new(w||Le)(K.Y36(Se.WI))},Le.\u0275cmp=K.Xpm({type:Le,selectors:[["app-dialog-risque"]],decls:7,vars:3,consts:[[1,"heading"],[1,"mat-typography"],[4,"ngFor","ngForOf"],[1,"value"]],template:function(w,o){1&w&&(K.TgZ(0,"h2",0),K._uU(1,"Consulter le risque"),K.qZA(),K._UZ(2,"mat-divider"),K.TgZ(3,"mat-dialog-content",1)(4,"table"),K.YNc(5,ee,5,2,"tr",2),K.ALo(6,"keyvalue"),K.qZA()()),2&w&&(K.xp6(5),K.Q6J("ngForOf",K.lcZ(6,1,o.risqueInfo)))},dependencies:[Ge.sg,h.d,Se.xY,Ge.Nd],styles:[".value[_ngcontent-%COMP%]{color:#00008f;font-weight:600}table[_ngcontent-%COMP%]{border-collapse:separate;border-spacing:15px;width:100%}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-bottom:1px solid rgba(221,221,221,.541)}"]}),Le})()},1308:(co,wn,B)=>{"use strict";B.r(wn),B.d(wn,{GestionDevisModule:()=>N});var Se=B(6895),K=B(294),Ge=B(4092),h=B(4466),ee=B(2510),me=B(9523),Le=B(5861),Q=B(5017),w=B(7155),o=B(4006),e=B(2644),xe=B(7470),n=B(5226),i=B.n(n),Z=B(5439),O=B(6666),J=B(7340),he=B(6274),Ze=B(8692),l=B(4650),t=B(6436),Ft=B(5412),ln=B(7009),ut=B(5617),ot=B(2473),tt=B(1351),Zt=B(3388),nn=B(852),_n=B(6944),xn=B(8153),mn=B(8056),Ri=B(6127),Xn=B(3776),Mt=B(7392),Lt=B(7084),xt=B(8255),ht=B(9549),Yn=B(284),Jn=B(8739),pi=B(9602),Qn=B(4385),Kn=B(3238),xi=B(4859),tn=B(6257),Kt=B(6709),hi=B(2768);const $i=["stepper"],Sn=["fileInput"],vt=["innerTables"],$e=["innerSort"];function bn(q,G){1&q&&l._uU(0,"Information de l'assur\xe9(e) ")}function Vt(q,G){if(1&q&&(l.ynx(0),l.TgZ(1,"mat-option",41),l._uU(2),l.qZA(),l.BQk()),2&q){const b=G.$implicit,te=l.oxw();l.xp6(1),l.Q6J("disabled","45F"==te.codeProduit&&"PH"==b.code)("value",b),l.xp6(1),l.hij(" ",b.description," ")}}function Gn(q,G){1&q&&(l.TgZ(0,"div"),l._uU(1," ce champs est obligatoire"),l.qZA())}function ei(q,G){if(1&q&&(l.TgZ(0,"mat-error",42),l.YNc(1,Gn,2,0,"div",32),l.qZA()),2&q){const b=l.oxw();l.xp6(1),l.Q6J("ngIf",b.formInfosAssure.controls.typeClient.errors.required)}}function vi(q,G){1&q&&(l.TgZ(0,"div"),l._uU(1," ce champs est obligatoire"),l.qZA())}function uo(q,G){if(1&q&&(l.TgZ(0,"mat-error",42),l.YNc(1,vi,2,0,"div",32),l.qZA()),2&q){const b=l.oxw();l.xp6(1),l.Q6J("ngIf",b.formInfosAssure.controls.nom.errors.required)}}function bo(q,G){1&q&&(l.TgZ(0,"div"),l._uU(1," ce champs est obligatoire"),l.qZA())}function oe(q,G){if(1&q&&(l.TgZ(0,"mat-error",42),l.YNc(1,bo,2,0,"div",32),l.qZA()),2&q){const b=l.oxw(2);l.xp6(1),l.Q6J("ngIf",b.formInfosAssure.controls.prenom.errors.required)}}function pn(q,G){if(1&q&&(l.TgZ(0,"mat-form-field",10)(1,"mat-label"),l._uU(2,"Pr\xe9nom"),l.qZA(),l._UZ(3,"input",43),l.YNc(4,oe,2,1,"mat-error",13),l.qZA()),2&q){const b=l.oxw();l.xp6(4),l.Q6J("ngIf",b.formInfosAssure.controls.prenom.errors)}}function Zi(q,G){1&q&&(l.TgZ(0,"div"),l._uU(1," ce champs est obligatoire"),l.qZA())}function Ai(q,G){1&q&&(l.TgZ(0,"div"),l._uU(1," L'age de l'assur\xe9 doit etre sup\xe9rieur \xe0 18 ans"),l.qZA())}function Di(q,G){1&q&&(l.TgZ(0,"div"),l._uU(1," L'age de l'assur\xe9 doit etre inf\xe9rieur \xe0 107 ans"),l.qZA())}function Mn(q,G){if(1&q&&(l.TgZ(0,"mat-error",42),l.YNc(1,Zi,2,0,"div",32),l.YNc(2,Ai,2,0,"div",32),l.YNc(3,Di,2,0,"div",32),l.qZA()),2&q){const b=l.oxw(2);l.xp6(1),l.Q6J("ngIf",b.formInfosAssure.controls.dateNaissance.errors.required),l.xp6(1),l.Q6J("ngIf",b.formInfosAssure.controls.dateNaissance.errors.ageInf18),l.xp6(1),l.Q6J("ngIf",b.formInfosAssure.controls.dateNaissance.errors.ageSup107)}}function Nn(q,G){if(1&q&&(l.TgZ(0,"mat-form-field",10)(1,"mat-label"),l._uU(2,"Date Naissance"),l.qZA(),l._UZ(3,"input",44)(4,"mat-datepicker-toggle",45)(5,"mat-datepicker",null,46),l.YNc(7,Mn,4,3,"mat-error",13),l.qZA()),2&q){const b=l.MAs(6),te=l.oxw();l.xp6(3),l.Q6J("matDatepicker",b),l.xp6(1),l.Q6J("for",b),l.xp6(3),l.Q6J("ngIf",te.formInfosAssure.controls.dateNaissance.errors)}}function vn(q,G){1&q&&(l.TgZ(0,"div"),l._uU(1," ce champs est obligatoire"),l.qZA())}function Et(q,G){1&q&&(l.TgZ(0,"div",42),l._uU(1,"adresse email non conforme. "),l.qZA())}function mo(q,G){if(1&q&&(l.TgZ(0,"mat-error",42),l.YNc(1,vn,2,0,"div",32),l.YNc(2,Et,2,0,"div",13),l.qZA()),2&q){const b=l.oxw();l.xp6(1),l.Q6J("ngIf",b.formInfosAssure.controls.email.errors.required),l.xp6(1),l.Q6J("ngIf",b.formInfosAssure.controls.email.errors.pattern)}}function mr(q,G){if(1&q&&(l.ynx(0),l.TgZ(1,"mat-option",47),l._uU(2),l.qZA(),l.BQk()),2&q){const b=G.$implicit;l.xp6(1),l.Q6J("value",b),l.xp6(1),l.hij(" ",b," ")}}function zr(q,G){1&q&&(l.TgZ(0,"div"),l._uU(1," ce champs est obligatoire"),l.qZA())}function Eo(q,G){if(1&q&&(l.TgZ(0,"mat-error",42),l.YNc(1,zr,2,0,"div",32),l.qZA()),2&q){const b=l.oxw();l.xp6(1),l.Q6J("ngIf",b.formInfosAssure.controls.typeContact.errors.required)}}function ra(q,G){1&q&&(l.TgZ(0,"div"),l._uU(1," ce champs est obligatoire"),l.qZA())}function aa(q,G){1&q&&(l.TgZ(0,"div",42),l._uU(1,"cet num\xe9ro est invalide "),l.qZA())}function Ba(q,G){if(1&q&&(l.TgZ(0,"mat-error",42),l.YNc(1,ra,2,0,"div",32),l.YNc(2,aa,2,0,"div",13),l.qZA()),2&q){const b=l.oxw();l.xp6(1),l.Q6J("ngIf",b.formInfosAssure.controls.tel.errors.required),l.xp6(1),l.Q6J("ngIf",b.formInfosAssure.controls.tel.errors.pattern)}}function za(q,G){if(1&q&&(l.ynx(0),l.TgZ(1,"mat-option",47),l._uU(2),l.qZA(),l.BQk()),2&q){const b=G.$implicit;l.xp6(1),l.Q6J("value",b.duree.id_duree),l.xp6(1),l.hij(" ",b.duree.description," ")}}function Aa(q,G){1&q&&(l.TgZ(0,"div"),l._uU(1," ce champs est obligatoire"),l.qZA())}function Ks(q,G){if(1&q&&(l.TgZ(0,"mat-error",42),l.YNc(1,Aa,2,0,"div",32),l.qZA()),2&q){const b=l.oxw();l.xp6(1),l.Q6J("ngIf",b.formInfosAssure.controls.duree.errors.required)}}function ds(q,G){if(1&q&&(l.ynx(0),l.TgZ(1,"mat-option",47),l._uU(2),l.qZA(),l.BQk()),2&q){const b=G.$implicit;l.xp6(1),l.Q6J("value",b.idAgence),l.xp6(1),l.hij(" ",b.nomAgence," ")}}function _s(q,G){1&q&&(l.TgZ(0,"div"),l._uU(1," ce champs est obligatoire"),l.qZA())}function Ta(q,G){if(1&q&&(l.TgZ(0,"mat-error",42),l.YNc(1,_s,2,0,"div",32),l.qZA()),2&q){const b=l.oxw();l.xp6(1),l.Q6J("ngIf",b.formInfosAssure.controls.agence.errors.required)}}function sa(q,G){if(1&q&&(l.TgZ(0,"mat-option",47),l._uU(1),l.qZA()),2&q){const b=G.$implicit;l.Q6J("value",b.code),l.xp6(1),l.hij(" ",b.description," ")}}function Ws(q,G){if(1&q){const b=l.EpF();l.TgZ(0,"mat-form-field",10)(1,"mat-label"),l._uU(2,"Type du Bien"),l.qZA(),l.TgZ(3,"mat-select",48),l.NdJ("selectionChange",function(_e){l.CHM(b);const ye=l.oxw();return l.KtG(ye.onSousProduitSelected(_e.value))}),l.YNc(4,sa,2,2,"mat-option",49),l.qZA()()}if(2&q){const b=l.oxw();l.xp6(4),l.Q6J("ngForOf",b.sousProduits)}}function Xs(q,G){1&q&&l._uU(0,"Information du risque")}function dr(q,G){1&q&&(l.ynx(0),l.TgZ(1,"p"),l._uU(2,"Veuillez choisir le nombre de v\xe9hicule "),l.qZA(),l.BQk())}function Va(q,G){1&q&&(l.ynx(0),l.TgZ(1,"p"),l._uU(2,"Veuillez renseigner le nombre de sites assur\xe9s "),l.qZA(),l.BQk())}function ps(q,G){1&q&&(l.TgZ(0,"mat-label"),l._uU(1,"Nombre de v\xe9hicule"),l.qZA())}function fs(q,G){1&q&&(l.TgZ(0,"mat-label"),l._uU(1," Nombre de sites assur\xe9s "),l.qZA())}function Ra(q,G){1&q&&(l.TgZ(0,"mat-label"),l._uU(1," Nombre de sites pages output "),l.qZA())}function gs(q,G){if(1&q&&(l.TgZ(0,"mat-form-field",10),l.YNc(1,Ra,2,0,"mat-label",32),l._UZ(2,"input",33),l.qZA()),2&q){const b=l.oxw(3);l.xp6(1),l.Q6J("ngIf","45F"==b.codeProduit),l.xp6(1),l.Q6J("formControl",b.nbrPages)}}function ja(q,G){if(1&q){const b=l.EpF();l.ynx(0),l.YNc(1,dr,3,0,"ng-container",32),l.YNc(2,Va,3,0,"ng-container",32),l.TgZ(3,"div",14)(4,"mat-form-field",10),l.YNc(5,ps,2,0,"mat-label",32),l.YNc(6,fs,2,0,"mat-label",32),l._UZ(7,"input",33),l.qZA(),l.YNc(8,gs,3,2,"mat-form-field",16),l.qZA(),l.TgZ(9,"div")(10,"button",53),l.NdJ("click",function(){l.CHM(b);const _e=l.oxw(2);return l.KtG(_e.goBack())}),l._uU(11,"Retour"),l.qZA(),l.TgZ(12,"button",54),l.NdJ("click",function(){l.CHM(b);const _e=l.oxw(2);return l.KtG(_e.submitNumberVehicule())}),l._uU(13,"Suivant"),l.qZA()(),l.BQk()}if(2&q){const b=l.oxw(2);l.xp6(1),l.Q6J("ngIf","97"!=b.codeProduit),l.xp6(1),l.Q6J("ngIf","97"==b.codeProduit),l.xp6(3),l.Q6J("ngIf","97"!=b.codeProduit),l.xp6(1),l.Q6J("ngIf","97"===b.codeProduit),l.xp6(1),l.Q6J("formControl",b.nmbVehicule),l.xp6(1),l.Q6J("ngIf","45F"==b.codeProduit)}}function el(q,G){1&q&&(l.TgZ(0,"div",14)(1,"p"),l._uU(2," Veuillez choisir entre remplir un formulaire ou importer un fichier."),l.qZA()())}function la(q,G){if(1&q){const b=l.EpF();l.TgZ(0,"button",58),l.NdJ("click",function(){l.CHM(b);const _e=l.oxw(3);return _e.risqueStep=2,l.KtG(_e.withFile=!1)}),l._uU(1,"Fichier "),l.qZA()}}function hs(q,G){if(1&q){const b=l.EpF();l.TgZ(0,"div",55),l.YNc(1,el,3,0,"div",56),l.TgZ(2,"div",14)(3,"div",57)(4,"button",58),l.NdJ("click",function(){l.CHM(b);const _e=l.oxw(2);return _e.risqueStep=1,l.KtG(_e.withFile=!1)}),l._uU(5,"Formulaire"),l.qZA(),l.YNc(6,la,2,0,"button",59),l.qZA()()()}if(2&q){const b=l.oxw(2);l.xp6(1),l.Q6J("ngIf","97"==b.codeProduit&&"CTI"==b.selectedSousProduit&&1==b.isBOUser||"97"!=b.codeProduit),l.xp6(5),l.Q6J("ngIf","97"==b.codeProduit&&1==b.isBOUser||"97"!=b.codeProduit)}}function Cs(q,G){if(1&q&&(l.TgZ(0,"div",50),l.YNc(1,ja,14,6,"ng-container",51),l.YNc(2,hs,7,2,"ng-template",null,52,l.W1O),l.qZA()),2&q){const b=l.MAs(3),te=l.oxw();l.xp6(1),l.Q6J("ngIf",!te.withFile&&"97"==te.codeProduit&&"CTH"!=te.selectedSousProduit&&1==te.isBOUser||!te.withFile&&"97"!=te.codeProduit)("ngIfElse",b)}}function rr(q,G){if(1&q&&(l.TgZ(0,"mat-expansion-panel-header")(1,"mat-panel-title",70),l._uU(2),l.qZA()()),2&q){const b=l.oxw().$implicit;l.xp6(2),l.hij(" ",b[0].category," ")}}function xs(q,G){if(1&q&&(l.ynx(0),l.TgZ(1,"mat-option",47),l._uU(2),l.qZA(),l.BQk()),2&q){const b=G.$implicit;l.xp6(1),l.Q6J("value",b),l.xp6(1),l.hij(" ",b.description," ")}}function vs(q,G){1&q&&(l.TgZ(0,"mat-error",42),l._uU(1," ce champs est obligatoire "),l.qZA())}function tl(q,G){if(1&q&&(l.TgZ(0,"mat-error",42),l._uU(1),l.qZA()),2&q){const b=l.oxw(2).$implicit,te=l.oxw(3);l.xp6(1),l.hij(" ",null==te.formParamRisque.get(b.formName).errors?null:te.formParamRisque.get(b.formName).errors.msg," ")}}function As(q,G){if(1&q){const b=l.EpF();l.TgZ(0,"mat-form-field",10)(1,"mat-label"),l._uU(2),l.qZA(),l.TgZ(3,"mat-select",71),l.NdJ("selectionChange",function(_e){l.CHM(b);const ye=l.oxw().$implicit,Ke=l.oxw(3);return l.KtG(Ke.getRelation(null==ye.typeChamp?null:ye.typeChamp.code,ye.isParent,ye.idParamRisque,_e.value.idParam,ye.formName,ye.codeParam))}),l.YNc(4,xs,3,2,"ng-container",12),l.qZA(),l.YNc(5,vs,2,0,"mat-error",13),l.YNc(6,tl,2,1,"mat-error",13),l.qZA()}if(2&q){const b=l.oxw().$implicit,te=l.oxw(3);l.xp6(2),l.hij("",b.libelle," "),l.xp6(1),l.s9C("formControlName",b.formName),l.xp6(1),l.Q6J("ngForOf",b.reponses),l.xp6(1),l.Q6J("ngIf",null==te.formParamRisque.get(b.formName).errors?null:te.formParamRisque.get(b.formName).errors.required),l.xp6(1),l.Q6J("ngIf",null==te.formParamRisque.get(b.formName).errors?null:te.formParamRisque.get(b.formName).errors.bloquant)}}function Ar(q,G){if(1&q&&(l.ynx(0),l.TgZ(1,"mat-option",47),l._uU(2),l.qZA(),l.BQk()),2&q){const b=G.$implicit;l.xp6(1),l.Q6J("value",b),l.xp6(1),l.hij(" ",b.description," ")}}function nl(q,G){1&q&&(l.TgZ(0,"mat-error",42),l._uU(1," ce champs est obligatoire "),l.qZA())}function il(q,G){if(1&q&&(l.TgZ(0,"mat-error",42),l._uU(1),l.qZA()),2&q){const b=l.oxw(2).$implicit,te=l.oxw(3);l.xp6(1),l.hij(" ",null==te.formParamRisque.get(b.formName).errors?null:te.formParamRisque.get(b.formName).errors.msg," ")}}function Ts(q,G){if(1&q){const b=l.EpF();l.TgZ(0,"mat-form-field",10)(1,"mat-label"),l._uU(2),l.qZA(),l.TgZ(3,"mat-select",71),l.NdJ("selectionChange",function(_e){l.CHM(b);const ye=l.oxw().$implicit,Ke=l.oxw(3);return l.KtG(Ke.getRelation(null==ye.typeChamp?null:ye.typeChamp.code,ye.isParent,ye.idParamRisque,_e.value.id,ye.formName,ye.codeParam))}),l.YNc(4,Ar,3,2,"ng-container",12),l.qZA(),l.YNc(5,nl,2,0,"mat-error",13),l.YNc(6,il,2,1,"mat-error",13),l.qZA()}if(2&q){const b=l.oxw().$implicit,te=l.oxw(3);l.xp6(2),l.hij("",b.libelle," "),l.xp6(1),l.s9C("formControlName",b.formName),l.xp6(1),l.Q6J("ngForOf",b.reponses),l.xp6(1),l.Q6J("ngIf",null==te.formParamRisque.get(b.formName).errors?null:te.formParamRisque.get(b.formName).errors.required),l.xp6(1),l.Q6J("ngIf",null==te.formParamRisque.get(b.formName).errors?null:te.formParamRisque.get(b.formName).errors.bloquant)}}function Nr(q,G){1&q&&(l.TgZ(0,"mat-error",42),l._uU(1," ce champs est obligatoire "),l.qZA())}function Lr(q,G){1&q&&(l.TgZ(0,"mat-error",42),l._uU(1," ce champs est non conforme "),l.qZA())}function Da(q,G){1&q&&(l.TgZ(0,"mat-error",42),l._uU(1," ce champs est non conforme "),l.qZA())}function bs(q,G){1&q&&(l.TgZ(0,"mat-error",42),l._uU(1," ce champs n'est pas conforme "),l.qZA())}function Ir(q,G){if(1&q&&(l.TgZ(0,"mat-error",42),l._uU(1),l.qZA()),2&q){const b=l.oxw(2).$implicit,te=l.oxw(3);l.xp6(1),l.hij(" ",null==te.formParamRisque.get(b.formName).errors?null:te.formParamRisque.get(b.formName).errors.msg," ")}}function ol(q,G){if(1&q&&(l.TgZ(0,"mat-form-field",10)(1,"mat-label"),l._uU(2),l.qZA(),l._UZ(3,"input",72),l.YNc(4,Nr,2,0,"mat-error",13),l.YNc(5,Lr,2,0,"mat-error",13),l.YNc(6,Da,2,0,"mat-error",13),l.YNc(7,bs,2,0,"mat-error",13),l.YNc(8,Ir,2,1,"mat-error",13),l.qZA()),2&q){const b=l.oxw().$implicit,te=l.oxw(3);l.xp6(2),l.Oqu(b.libelle),l.xp6(1),l.s9C("formControlName",b.formName),l.Q6J("readonly","97"==te.codeProduit&&("P241"==b.codeParam||"P270"==b.codeParam||"P318"==b.codeParam))("value","P318"==b.codeParam?te.zone_sis:""),l.xp6(1),l.Q6J("ngIf",null==te.formParamRisque.get(b.formName).errors?null:te.formParamRisque.get(b.formName).errors.required),l.xp6(1),l.Q6J("ngIf",null==te.formParamRisque.get(b.formName).errors?null:te.formParamRisque.get(b.formName).errors.max),l.xp6(1),l.Q6J("ngIf",null==te.formParamRisque.get(b.formName).errors?null:te.formParamRisque.get(b.formName).errors.min),l.xp6(1),l.Q6J("ngIf",(null==te.formParamRisque.get(b.formName).errors?null:te.formParamRisque.get(b.formName).errors.pattern)||(null==te.formParamRisque.get(b.formName).errors?null:te.formParamRisque.get(b.formName).errors.maxlength)||(null==te.formParamRisque.get(b.formName).errors?null:te.formParamRisque.get(b.formName).errors.minlength)),l.xp6(1),l.Q6J("ngIf",null==te.formParamRisque.get(b.formName).errors?null:te.formParamRisque.get(b.formName).errors.bloquant)}}function Ps(q,G){1&q&&(l.TgZ(0,"mat-error",42),l._uU(1," ce champs est obligatoire "),l.qZA())}function Zs(q,G){1&q&&(l.TgZ(0,"mat-error",42),l._uU(1," ce champs est non conforme "),l.qZA())}function qs(q,G){1&q&&(l.TgZ(0,"mat-error",42),l._uU(1," ce champs est non conforme "),l.qZA())}function _r(q,G){1&q&&(l.TgZ(0,"mat-error",42),l._uU(1," ce champs n'est pas conforme "),l.qZA())}function Zr(q,G){if(1&q&&(l.TgZ(0,"mat-error",42),l._uU(1),l.qZA()),2&q){const b=l.oxw(2).$implicit,te=l.oxw(3);l.xp6(1),l.hij(" ",null==te.formParamRisque.get(b.formName).errors?null:te.formParamRisque.get(b.formName).errors.msg," ")}}function it(q,G){if(1&q){const b=l.EpF();l.TgZ(0,"mat-form-field",10)(1,"mat-label"),l._uU(2),l.qZA(),l.TgZ(3,"input",73),l.NdJ("ngModelChange",function(_e){l.CHM(b);const ye=l.oxw().$implicit,Ke=l.oxw(3);return l.KtG(Ke.onInput(_e,ye.codeParam))}),l.qZA(),l.YNc(4,Ps,2,0,"mat-error",13),l.YNc(5,Zs,2,0,"mat-error",13),l.YNc(6,qs,2,0,"mat-error",13),l.YNc(7,_r,2,0,"mat-error",13),l.YNc(8,Zr,2,1,"mat-error",13),l.qZA()}if(2&q){const b=l.oxw().$implicit,te=l.oxw(3);l.xp6(2),l.Oqu(b.libelle),l.xp6(1),l.s9C("formControlName",b.formName),l.Q6J("readonly","P198"==b.codeParam||"P223"==b.codeParam||"P224"==b.codeParam||"97"==te.codeProduit&&"CTI"==te.selectedSousProduit&&("P241"==b.codeParam||"P270"==b.codeParam||"P245"==b.codeParam&&0==te.isBOUser))("value","P223"==b.codeParam?te.longitude:"P224"==b.codeParam?te.latitude:""),l.xp6(1),l.Q6J("ngIf",null==te.formParamRisque.get(b.formName).errors?null:te.formParamRisque.get(b.formName).errors.required),l.xp6(1),l.Q6J("ngIf",null==te.formParamRisque.get(b.formName).errors?null:te.formParamRisque.get(b.formName).errors.max),l.xp6(1),l.Q6J("ngIf",null==te.formParamRisque.get(b.formName).errors?null:te.formParamRisque.get(b.formName).errors.min),l.xp6(1),l.Q6J("ngIf",(null==te.formParamRisque.get(b.formName).errors?null:te.formParamRisque.get(b.formName).errors.pattern)||(null==te.formParamRisque.get(b.formName).errors?null:te.formParamRisque.get(b.formName).errors.maxlength)||(null==te.formParamRisque.get(b.formName).errors?null:te.formParamRisque.get(b.formName).errors.minlength)),l.xp6(1),l.Q6J("ngIf",null==te.formParamRisque.get(b.formName).errors?null:te.formParamRisque.get(b.formName).errors.bloquant)}}function ha(q,G){1&q&&(l.TgZ(0,"mat-error",42),l._uU(1," ce champs est obligatoire "),l.qZA())}function Ci(q,G){if(1&q&&(l.TgZ(0,"mat-error",42),l._uU(1),l.qZA()),2&q){const b=l.oxw(2).$implicit,te=l.oxw(3);l.xp6(1),l.hij(" ",null==te.formParamRisque.get(b.formName).errors?null:te.formParamRisque.get(b.formName).errors.msg," ")}}function qi(q,G){if(1&q&&(l.TgZ(0,"mat-form-field",10)(1,"mat-label"),l._uU(2),l.qZA(),l._UZ(3,"input",74)(4,"mat-datepicker-toggle",45)(5,"mat-datepicker",null,75),l.YNc(7,ha,2,0,"mat-error",13),l.YNc(8,Ci,2,1,"mat-error",13),l.qZA()),2&q){const b=l.MAs(6),te=l.oxw().$implicit,_e=l.oxw(3);l.xp6(2),l.Oqu(te.libelle),l.xp6(1),l.s9C("formControlName",te.formName),l.Q6J("matDatepicker",b),l.xp6(1),l.Q6J("for",b),l.xp6(3),l.Q6J("ngIf",null==_e.formParamRisque.get(te.formName).errors?null:_e.formParamRisque.get(te.formName).errors.required),l.xp6(1),l.Q6J("ngIf",null==_e.formParamRisque.get(te.formName).errors?null:_e.formParamRisque.get(te.formName).errors.bloquant)}}function Ha(q,G){if(1&q&&(l.ynx(0),l.TgZ(1,"mat-option",47),l._uU(2),l.qZA(),l.BQk()),2&q){const b=G.$implicit;l.xp6(1),l.Q6J("value",b),l.xp6(1),l.hij(" ",b.marque," ")}}function Ss(q,G){1&q&&(l.TgZ(0,"div"),l._uU(1," ce champs est obligatoire"),l.qZA())}function ys(q,G){if(1&q&&(l.TgZ(0,"mat-error",42),l.YNc(1,Ss,2,0,"div",32),l.qZA()),2&q){const b=l.oxw(2).$implicit,te=l.oxw(3);l.xp6(1),l.Q6J("ngIf",null==te.formParamRisque.get(b.formName).errors?null:te.formParamRisque.get(b.formName).errors.required)}}function wa(q,G){if(1&q){const b=l.EpF();l.TgZ(0,"mat-form-field",10)(1,"mat-label"),l._uU(2),l.qZA(),l.TgZ(3,"mat-select",71),l.NdJ("selectionChange",function(_e){l.CHM(b);const ye=l.oxw(4);return l.KtG(ye.getModeleByMarque(_e.value))}),l.YNc(4,Ha,3,2,"ng-container",12),l.qZA(),l.YNc(5,ys,2,1,"mat-error",13),l.qZA()}if(2&q){const b=l.oxw().$implicit,te=l.oxw(3);l.xp6(2),l.hij(" ",b.libelle," "),l.xp6(1),l.s9C("formControlName",b.formName),l.xp6(1),l.Q6J("ngForOf",te.marques),l.xp6(1),l.Q6J("ngIf",te.formParamRisque.get(b.formName).errors)}}function di(q,G){if(1&q&&(l.ynx(0),l.TgZ(1,"mat-option",47),l._uU(2),l.qZA(),l.BQk()),2&q){const b=G.$implicit;l.xp6(1),l.Q6J("value",b),l.xp6(1),l.hij(" ",b.modele," ")}}function Yr(q,G){1&q&&(l.TgZ(0,"div"),l._uU(1," ce champs est obligatoire"),l.qZA())}function $a(q,G){if(1&q&&(l.TgZ(0,"mat-error",42),l.YNc(1,Yr,2,0,"div",32),l.qZA()),2&q){const b=l.oxw(2).$implicit,te=l.oxw(3);l.xp6(1),l.Q6J("ngIf",null==te.formParamRisque.get(b.formName).errors?null:te.formParamRisque.get(b.formName).errors.required)}}function Ns(q,G){if(1&q&&(l.TgZ(0,"mat-form-field",10)(1,"mat-label"),l._uU(2),l.qZA(),l.TgZ(3,"mat-select",76),l.YNc(4,di,3,2,"ng-container",12),l.qZA(),l.YNc(5,$a,2,1,"mat-error",13),l.qZA()),2&q){const b=l.oxw().$implicit,te=l.oxw(3);l.xp6(2),l.hij(" ",b.libelle," "),l.xp6(1),l.s9C("formControlName",b.formName),l.xp6(1),l.Q6J("ngForOf",te.modeles),l.xp6(1),l.Q6J("ngIf",te.formParamRisque.get(b.formName).errors)}}const ba=function(){return["P25","P26"]},Ka=function(){return["P281","P282","P245","P152"]};function Ro(q,G){if(1&q&&(l.ynx(0),l.YNc(1,As,7,5,"mat-form-field",16),l.YNc(2,Ts,7,5,"mat-form-field",16),l.YNc(3,ol,9,9,"mat-form-field",16),l.YNc(4,it,9,9,"mat-form-field",16),l.YNc(5,qi,9,6,"mat-form-field",17),l.YNc(6,wa,6,4,"mat-form-field",16),l.YNc(7,Ns,6,4,"mat-form-field",16),l.BQk()),2&q){const b=G.$implicit,te=l.oxw(3);l.xp6(1),l.Q6J("ngIf",(null==b.sousProduit||(null==b.sousProduit?null:b.sousProduit.code)==te.selectedSousProduit)&&"L01"==(null==b.typeChamp?null:b.typeChamp.code)&&"P25"!=b.codeParam&&"P26"!=b.codeParam),l.xp6(1),l.Q6J("ngIf",(null==(null==b.sousProduit?null:b.sousProduit.code)||(null==b.sousProduit?null:b.sousProduit.code)==te.selectedSousProduit)&&"L08"==(null==b.typeChamp?null:b.typeChamp.code)),l.xp6(1),l.Q6J("ngIf","97"!=te.codeProduit&&("L02"==(null==b.typeChamp?null:b.typeChamp.code)||"L07"==(null==b.typeChamp?null:b.typeChamp.code))&&"P25"!=b.codeParam&&"P26"!=b.codeParam||"97"==te.codeProduit&&("L02"==(null==b.typeChamp?null:b.typeChamp.code)||"L07"==(null==b.typeChamp?null:b.typeChamp.code))&&"P25"!=b.codeParam&&"P26"!=b.codeParam&&(null==(null==b.sousProduit?null:b.sousProduit.code)||(null==b.sousProduit?null:b.sousProduit.code)==te.selectedSousProduit)),l.xp6(1),l.Q6J("ngIf",!(null!=(null==b.sousProduit?null:b.sousProduit.code)&&(null==b.sousProduit?null:b.sousProduit.code)!=te.selectedSousProduit||"L03"!=(null==b.typeChamp?null:b.typeChamp.code)||l.DdM(7,ba).includes(b.codeParam)||"CTH"==te.selectedSousProduit&&l.DdM(8,Ka).includes(b.codeParam))),l.xp6(1),l.Q6J("ngIf",(null==(null==b.sousProduit?null:b.sousProduit.code)||(null==b.sousProduit?null:b.sousProduit.code)==te.selectedSousProduit)&&"date"==(null==b.typeChamp?null:b.typeChamp.description)),l.xp6(1),l.Q6J("ngIf",(null==(null==b.sousProduit?null:b.sousProduit.code)||(null==b.sousProduit?null:b.sousProduit.code)==te.selectedSousProduit)&&"P25"==b.codeParam),l.xp6(1),l.Q6J("ngIf",(null==(null==b.sousProduit?null:b.sousProduit.code)||(null==b.sousProduit?null:b.sousProduit.code)==te.selectedSousProduit)&&"P26"==b.codeParam)}}function Oa(q,G){if(1&q&&(l.TgZ(0,"mat-expansion-panel",69),l.YNc(1,rr,3,1,"mat-expansion-panel-header",32),l.YNc(2,Ro,8,9,"ng-container",12),l.qZA()),2&q){const b=G.$implicit,te=l.oxw(2);l.Q6J("expanded",!0),l.xp6(1),l.Q6J("ngIf","97"!=te.codeProduit),l.xp6(1),l.Q6J("ngForOf",b)}}function qr(q,G){if(1&q&&(l.TgZ(0,"mat-option",47),l._uU(1),l.qZA()),2&q){const b=G.$implicit;l.Q6J("value",b),l.xp6(1),l.hij(" ",b,"")}}function Ca(q,G){1&q&&(l.TgZ(0,"mat-error",42),l._uU(1," ce champs est obligatoire "),l.qZA())}function Vr(q,G){1&q&&(l.TgZ(0,"mat-error",42),l._uU(1," ce champs est obligatoire "),l.qZA())}function ca(q,G){if(1&q&&(l.TgZ(0,"mat-form-field",10)(1,"mat-label"),l._uU(2,"Nouveau groupe"),l.qZA(),l._UZ(3,"input",80),l.YNc(4,Vr,2,0,"mat-error",13),l.qZA()),2&q){const b=l.oxw(3);l.xp6(4),l.Q6J("ngIf",null==b.formParamRisque.get("newGroupe").errors?null:b.formParamRisque.get("newGroupe").errors.required)}}function So(q,G){if(1&q&&(l.TgZ(0,"mat-expansion-panel",61)(1,"mat-expansion-panel-header")(2,"mat-panel-title"),l._uU(3," Groupe "),l.qZA()(),l.TgZ(4,"div",14)(5,"mat-form-field",77)(6,"mat-label"),l._uU(7,"Groupes"),l.qZA(),l.TgZ(8,"mat-select",78)(9,"mat-option",79),l._uU(10,"Nouveau groupe"),l.qZA(),l.YNc(11,qr,2,2,"mat-option",49),l.qZA(),l.YNc(12,Ca,2,0,"mat-error",13),l.qZA(),l.YNc(13,ca,5,1,"mat-form-field",16),l.qZA()()),2&q){const b=l.oxw(2);l.Q6J("expanded",!0),l.xp6(11),l.Q6J("ngForOf",b.groupArray),l.xp6(1),l.Q6J("ngIf",null==b.formParamRisque.get("groupe").errors?null:b.formParamRisque.get("groupe").errors.required),l.xp6(1),l.Q6J("ngIf","new"==b.formParamRisque.get("groupe").value)}}function jr(q,G){1&q&&(l.TgZ(0,"button",24),l._uU(1,"Suivant"),l.qZA())}function Hr(q,G){1&q&&(l.TgZ(0,"button",81),l._uU(1,"Ajouter"),l.qZA())}function oo(q,G){if(1&q){const b=l.EpF();l.TgZ(0,"form",6,60),l.NdJ("ngSubmit",function(){l.CHM(b);const _e=l.MAs(1),ye=l.oxw();return l.KtG(ye.submitParamRisque(_e))}),l.TgZ(2,"mat-accordion",7)(3,"mat-expansion-panel",61)(4,"mat-expansion-panel-header")(5,"mat-panel-title"),l._uU(6," Information du risque "),l.qZA()(),l.TgZ(7,"div",62)(8,"mat-accordion",63),l.YNc(9,Oa,3,3,"mat-expansion-panel",64),l.YNc(10,So,14,4,"mat-expansion-panel",65),l.TgZ(11,"div",66),l.YNc(12,jr,2,0,"button",67),l.YNc(13,Hr,2,0,"button",68),l.TgZ(14,"button",39),l.NdJ("click",function(){l.CHM(b);const _e=l.oxw();return l.KtG(_e.multiRisque?_e.risqueStep=0:_e.goBack())}),l._uU(15,"Retour"),l.qZA()()()()()()()}if(2&q){const b=l.oxw();l.Q6J("formGroup",b.formParamRisque),l.xp6(3),l.Q6J("expanded",!0),l.xp6(6),l.Q6J("ngForOf",b.paraRisqueProduitCategory),l.xp6(1),l.Q6J("ngIf",b.multiRisque&&"97"!=b.codeProduit||"CTI"==b.selectedSousProduit),l.xp6(2),l.Q6J("ngIf",!b.multiRisque),l.xp6(1),l.Q6J("ngIf",b.multiRisque)}}function nt(q,G){1&q&&(l.TgZ(0,"th",92),l._uU(1," Risque N\xb0 "),l.qZA())}function jt(q,G){if(1&q&&(l.TgZ(0,"td",93),l._uU(1),l.qZA()),2&q){const b=G.$implicit;l.xp6(1),l.hij(" ",b.risqueNum," ")}}function Be(q,G){1&q&&(l.TgZ(0,"th",92),l._uU(1," Immatriculation "),l.qZA())}function zt(q,G){if(1&q&&(l.TgZ(0,"td",93),l._uU(1),l.qZA()),2&q){const b=G.$implicit;l.xp6(1),l.hij(" ",b.NDImmatriculation," ")}}function yn(q,G){1&q&&(l.ynx(0,94),l.YNc(1,Be,2,0,"th",84),l.YNc(2,zt,2,1,"td",85),l.BQk())}function Un(q,G){1&q&&(l.TgZ(0,"th",92),l._uU(1," Site "),l.qZA())}function wi(q,G){if(1&q&&(l.TgZ(0,"td",93),l._uU(1),l.qZA()),2&q){const b=G.$implicit;l.xp6(1),l.hij(" ",b.Site," ")}}function ro(q,G){1&q&&(l.ynx(0,95),l.YNc(1,Un,2,0,"th",84),l.YNc(2,wi,2,1,"td",85),l.BQk())}function ko(q,G){1&q&&(l.TgZ(0,"th",92),l._uU(1," Groupe "),l.qZA())}function hr(q,G){if(1&q&&(l.TgZ(0,"td",93),l._uU(1),l.qZA()),2&q){const b=G.$implicit;l.xp6(1),l.hij(" ",b.groupe," ")}}function Rl(q,G){1&q&&(l.TgZ(0,"th",92),l._uU(1," Action"),l.qZA())}function ka(q,G){if(1&q){const b=l.EpF();l.TgZ(0,"td",93)(1,"button",96)(2,"mat-icon"),l._uU(3,"more_vert"),l.qZA()(),l.TgZ(4,"mat-menu",97,98)(6,"button",99),l.NdJ("click",function(){const ye=l.CHM(b).$implicit,Ke=l.oxw(2);return l.KtG(Ke.openDialog(ye.risqueNum))}),l.TgZ(7,"mat-icon"),l._uU(8,"zoom_in"),l.qZA(),l.TgZ(9,"span"),l._uU(10,"Consulter risque"),l.qZA()(),l.TgZ(11,"button",99),l.NdJ("click",function(){const ye=l.CHM(b).$implicit,Ke=l.oxw(2);return l.KtG(Ke.deleteRisque(ye.risqueNum))}),l.TgZ(12,"mat-icon"),l._uU(13,"delete"),l.qZA(),l.TgZ(14,"span"),l._uU(15,"Supprimer risque"),l.qZA()()()()}if(2&q){const b=l.MAs(5);l.xp6(1),l.Q6J("matMenuTriggerFor",b)}}function rl(q,G){1&q&&l._UZ(0,"tr",100)}function Is(q,G){1&q&&l._UZ(0,"tr",101)}function Dl(q,G){if(1&q&&(l.TgZ(0,"table",82),l.ynx(1,83),l.YNc(2,nt,2,0,"th",84),l.YNc(3,jt,2,1,"td",85),l.BQk(),l.YNc(4,yn,3,0,"ng-container",86),l.YNc(5,ro,3,0,"ng-container",87),l.ynx(6,88),l.YNc(7,ko,2,0,"th",84),l.YNc(8,hr,2,1,"td",85),l.BQk(),l.ynx(9,89),l.YNc(10,Rl,2,0,"th",84),l.YNc(11,ka,16,1,"td",85),l.BQk(),l.YNc(12,rl,1,0,"tr",90),l.YNc(13,Is,1,0,"tr",91),l.qZA()),2&q){const b=l.oxw();l.Q6J("dataSource",b.dataSourceRisque),l.xp6(4),l.Q6J("ngIf","97"!=b.codeProduit),l.xp6(1),l.Q6J("ngIf","97"==b.codeProduit&&"CTI"==b.selectedSousProduit),l.xp6(7),l.Q6J("matHeaderRowDef",b.displayedColumnsRisque),l.xp6(1),l.Q6J("matRowDefColumns",b.displayedColumnsRisque)}}function $l(q,G){if(1&q&&(l.TgZ(0,"li"),l._uU(1),l.qZA()),2&q){const b=G.$implicit;l.xp6(1),l.hij(" ",b," ")}}function Er(q,G){if(1&q&&(l.ynx(0),l.TgZ(1,"div",105)(2,"ul",106)(3,"span"),l._uU(4),l.qZA(),l.YNc(5,$l,2,1,"li",12),l.qZA()(),l.BQk()),2&q){const b=l.oxw().$implicit;l.xp6(4),l.hij("ligne ",b.ligne," "),l.xp6(1),l.Q6J("ngForOf",b.description)}}function al(q,G){if(1&q&&(l.TgZ(0,"div"),l.YNc(1,Er,6,2,"ng-container",32),l.qZA()),2&q){const b=G.$implicit;l.xp6(1),l.Q6J("ngIf",0!=b.description.length)}}function Oi(q,G){if(1&q){const b=l.EpF();l.TgZ(0,"div",55)(1,"div",14)(2,"p"),l._uU(3," Veuillez importer le mod\xe8le."),l.qZA()(),l.TgZ(4,"div",14)(5,"div",102)(6,"input",103,104),l.NdJ("change",function(_e){l.CHM(b);const ye=l.oxw();return l.KtG(ye.onFileSelected(_e))}),l.qZA(),l.YNc(8,al,2,1,"div",12),l.qZA()()()}if(2&q){const b=l.oxw();l.xp6(8),l.Q6J("ngForOf",b.fileControle)}}function zi(q,G){if(1&q){const b=l.EpF();l.TgZ(0,"button",54),l.NdJ("click",function(){l.CHM(b);const _e=l.oxw();return l.KtG(_e.generateCalcul())}),l._uU(1,"Suivant"),l.qZA()}}function wl(q,G){if(1&q){const b=l.EpF();l.TgZ(0,"button",39),l.NdJ("click",function(){l.CHM(b);const _e=l.oxw();return l.KtG(_e.risqueStep=0)}),l._uU(1,"Retour"),l.qZA()}}function sl(q,G){if(1&q){const b=l.EpF();l.TgZ(0,"div",66)(1,"button",54),l.NdJ("click",function(){l.CHM(b);const _e=l.oxw();return l.KtG(_e.checkVehiculeNumber())}),l._uU(2,"Suivant"),l.qZA()()}}function Fi(q,G){1&q&&(l.TgZ(0,"mat-label"),l._uU(1," Nombre de pages output "),l.qZA())}function ll(q,G){1&q&&l._uU(0,"Pack et garanties")}function Wa(q,G){if(1&q&&(l.ynx(0),l.TgZ(1,"mat-option",47),l._uU(2),l.qZA(),l.BQk()),2&q){const b=G.$implicit;l.xp6(1),l.Q6J("value",b.idPack0),l.xp6(1),l.hij(" ",b.description," ")}}function Tr(q,G){if(1&q&&(l.TgZ(0,"mat-form-field",77)(1,"mat-label"),l._uU(2,"Nombre de pages output"),l.qZA(),l._UZ(3,"input",33),l.qZA()),2&q){const b=l.oxw(3);l.xp6(3),l.Q6J("formControl",b.nbrPages)}}function _o(q,G){if(1&q){const b=l.EpF();l.TgZ(0,"button",117),l.NdJ("click",function(){l.CHM(b);const _e=l.oxw(3);return l.KtG(_e.generateCalcul())}),l.TgZ(1,"mat-icon",118),l._uU(2," autorenew "),l.qZA(),l._uU(3," Calculer"),l.qZA()}}function Xa(q,G){if(1&q){const b=l.EpF();l.TgZ(0,"div",113)(1,"p"),l._uU(2,"Veuillez choisir un pack "),l.qZA(),l.TgZ(3,"mat-form-field",10)(4,"mat-label"),l._uU(5,"Pack"),l.qZA(),l.TgZ(6,"mat-select",114),l.NdJ("selectionChange",function(_e){l.CHM(b);const ye=l.oxw(2);return l.KtG(ye.getPack(_e.value))}),l.YNc(7,Wa,3,2,"ng-container",12),l.qZA()(),l.YNc(8,Tr,4,1,"mat-form-field",115),l.YNc(9,_o,4,0,"button",116),l.qZA()}if(2&q){const b=l.oxw(2);l.xp6(7),l.Q6J("ngForOf",b.packs),l.xp6(1),l.Q6J("ngIf","97"==b.codeProduit&&1==b.isBOUser&&"CTI"==b.selectedSousProduit),l.xp6(1),l.Q6J("ngIf",b.loadTable)}}function Do(q,G){if(1&q&&(l.TgZ(0,"div",105),l._uU(1),l.qZA()),2&q){const b=l.oxw(2);l.xp6(1),l.Oqu(b.errorTarif.msg)}}function $r(q,G){if(1&q&&(l.TgZ(0,"div",105),l._uU(1),l.qZA()),2&q){const b=l.oxw(2);l.xp6(1),l.Oqu(b.errorHandler.msg)}}function Vo(q,G){1&q&&(l.TgZ(0,"div",105),l._uU(1,"Veuillez remplir tous les champs des garanties obligatoires/coch\xe9es"),l.qZA())}function cl(q,G){1&q&&l._UZ(0,"th",92)}function ul(q,G){if(1&q){const b=l.EpF();l.TgZ(0,"td",93)(1,"mat-checkbox",131),l.NdJ("click",function(_e){const Ke=l.CHM(b).$implicit,Pt=l.oxw(3);return _e.stopPropagation(),l.KtG(Pt.garantieSelectedIds.push(Ke.idGarantie))})("change",function(_e){const Ke=l.CHM(b).$implicit,Pt=l.oxw(3);return l.KtG(Pt.checkGarantie(Ke,_e))}),l.qZA()()}if(2&q){const b=G.$implicit,te=G.dataIndex,_e=l.oxw(3);l.xp6(1),l.Q6J("checked",b.checked)("formControl",_e.getControl(te,"checked"))}}function si(q,G){1&q&&(l.TgZ(0,"th",92),l._uU(1,"Garantie "),l.qZA())}function Gr(q,G){if(1&q&&(l.TgZ(0,"td",93),l._uU(1),l.qZA()),2&q){const b=G.$implicit;l.xp6(1),l.hij(" ",b.description," ")}}function ml(q,G){1&q&&(l.TgZ(0,"th",92),l._uU(1," Plafond"),l.qZA())}function Es(q,G){1&q&&(l.TgZ(0,"span"),l._uU(1,"-"),l.qZA())}function ao(q,G){if(1&q&&(l.ynx(0),l.TgZ(1,"mat-option",47),l._uU(2),l.ALo(3,"money"),l.ALo(4,"number"),l.qZA(),l.BQk()),2&q){const b=G.$implicit;l.xp6(1),l.Q6J("value",b),l.xp6(1),l.hij(" ",l.lcZ(3,2,l.xi3(4,4,b.valeur,"1.0-0"))," ")}}function Rs(q,G){if(1&q){const b=l.EpF();l.TgZ(0,"mat-form-field",135),l.NdJ("ngModelChange",function(){l.CHM(b);const _e=l.oxw(5);return l.KtG(_e.tarifReady=!1)}),l.TgZ(1,"mat-label"),l._uU(2,"Plafond"),l.qZA(),l.TgZ(3,"mat-select",136),l.NdJ("ngModelChange",function(){l.CHM(b);const _e=l.oxw(5);return l.KtG(_e.tarifReady=!1)}),l.YNc(4,ao,5,7,"ng-container",12),l.qZA()()}if(2&q){const b=l.oxw(2),te=b.dataIndex,_e=b.$implicit,ye=l.oxw(3);l.xp6(3),l.Q6J("formControl",ye.getControl(te,"plafond")),l.xp6(1),l.Q6J("ngForOf",_e.plafond)}}function Ol(q,G){if(1&q){const b=l.EpF();l.TgZ(0,"mat-form-field",135),l.NdJ("ngModelChange",function(){l.CHM(b);const _e=l.oxw(6);return l.KtG(_e.tarifReady=!1)}),l.TgZ(1,"mat-label"),l._uU(2,"Plafond"),l.qZA(),l.TgZ(3,"input",138),l.NdJ("ngModelChange",function(){l.CHM(b);const _e=l.oxw(6);return l.KtG(_e.tarifReady=!1)}),l.qZA()()}if(2&q){const b=l.oxw(3).dataIndex,te=l.oxw(3);l.xp6(3),l.Q6J("formControl",te.getControl(b,"plafond"))}}function Vi(q,G){if(1&q&&(l.TgZ(0,"span"),l._uU(1),l.ALo(2,"money"),l.ALo(3,"number"),l.qZA()),2&q){const b=l.oxw(4).$implicit;l.xp6(1),l.Oqu(l.lcZ(2,1,l.xi3(3,3,b.plafond[0].valeur,"1.0-0")))}}function Ma(q,G){1&q&&l._uU(0," - ")}function ar(q,G){if(1&q&&(l.YNc(0,Vi,4,6,"span",51),l.YNc(1,Ma,1,0,"ng-template",null,139,l.W1O)),2&q){const b=l.MAs(2),te=l.oxw(3).$implicit;l.Q6J("ngIf","0"!=te.plafond[0].valeur)("ngIfElse",b)}}function Ds(q,G){if(1&q&&(l.YNc(0,Ol,4,1,"mat-form-field",133),l.YNc(1,ar,3,2,"ng-template",null,137,l.W1O)),2&q){const b=l.MAs(2),te=l.oxw(2).$implicit;l.Q6J("ngIf","input"==te.plafond[0].descriptionvVal)("ngIfElse",b)}}function Br(q,G){if(1&q&&(l.YNc(0,Rs,5,2,"mat-form-field",133),l.YNc(1,Ds,3,2,"ng-template",null,134,l.W1O)),2&q){const b=l.MAs(2),te=l.oxw().$implicit;l.Q6J("ngIf",te.plafond.length>1)("ngIfElse",b)}}function Rr(q,G){if(1&q&&(l.TgZ(0,"td",93),l.YNc(1,Es,2,0,"span",51),l.YNc(2,Br,3,2,"ng-template",null,132,l.W1O),l.qZA()),2&q){const b=G.$implicit,te=l.MAs(3);l.xp6(1),l.Q6J("ngIf",0==b.plafond.length)("ngIfElse",te)}}function ws(q,G){1&q&&(l.TgZ(0,"th",92),l._uU(1," Taux "),l.qZA())}function Po(q,G){1&q&&(l.TgZ(0,"span"),l._uU(1,"-"),l.qZA())}function yo(q,G){if(1&q&&(l.ynx(0),l.TgZ(1,"mat-option",47),l._uU(2),l.ALo(3,"money"),l.ALo(4,"number"),l.qZA(),l.BQk()),2&q){const b=G.$implicit;l.xp6(1),l.Q6J("value",b),l.xp6(1),l.hij(" ",l.lcZ(3,2,l.xi3(4,4,b.valeur,"1.0-0"))," ")}}function ua(q,G){if(1&q){const b=l.EpF();l.TgZ(0,"mat-form-field",135),l.NdJ("ngModelChange",function(){l.CHM(b);const _e=l.oxw(5);return l.KtG(_e.tarifReady=!1)}),l.TgZ(1,"mat-label"),l._uU(2,"taux"),l.qZA(),l.TgZ(3,"mat-select",136),l.NdJ("ngModelChange",function(){l.CHM(b);const _e=l.oxw(5);return l.KtG(_e.tarifReady=!1)}),l.YNc(4,yo,5,7,"ng-container",12),l.qZA()()}if(2&q){const b=l.oxw(2),te=b.dataIndex,_e=b.$implicit,ye=l.oxw(3);l.xp6(3),l.Q6J("formControl",ye.getControl(te,"taux")),l.xp6(1),l.Q6J("ngForOf",_e.taux)}}function Os(q,G){if(1&q&&(l.TgZ(0,"mat-form-field")(1,"mat-label"),l._uU(2,"taux "),l.qZA(),l._UZ(3,"input",143),l.qZA()),2&q){const b=l.oxw(3).dataIndex,te=l.oxw(3);l.xp6(3),l.Q6J("formControl",te.getControl(b,"taux"))("readonly",te.isReadonly())}}function ks(q,G){if(1&q&&(l.TgZ(0,"span"),l._uU(1),l.ALo(2,"money"),l.ALo(3,"number"),l.qZA()),2&q){const b=l.oxw(3).$implicit;l.xp6(1),l.Oqu(l.lcZ(2,1,l.xi3(3,3,b.taux[0].valeur,"1.0-0")))}}function ho(q,G){if(1&q&&(l.YNc(0,Os,4,2,"mat-form-field",51),l.YNc(1,ks,4,6,"ng-template",null,142,l.W1O)),2&q){const b=l.MAs(2),te=l.oxw(2).$implicit;l.Q6J("ngIf","input"==te.taux[0].descriptionvVal)("ngIfElse",b)}}function Kr(q,G){if(1&q&&(l.YNc(0,ua,5,2,"mat-form-field",133),l.YNc(1,ho,3,2,"ng-template",null,141,l.W1O)),2&q){const b=l.MAs(2),te=l.oxw().$implicit;l.Q6J("ngIf",te.taux.length>1)("ngIfElse",b)}}function es(q,G){if(1&q&&(l.TgZ(0,"td",93),l.YNc(1,Po,2,0,"span",51),l.YNc(2,Kr,3,2,"ng-template",null,140,l.W1O),l.qZA()),2&q){const b=G.$implicit,te=l.MAs(3);l.xp6(1),l.Q6J("ngIf",0==b.taux.length)("ngIfElse",te)}}function kl(q,G){1&q&&(l.TgZ(0,"th",92),l._uU(1," Franchise "),l.qZA())}function Ml(q,G){1&q&&(l.TgZ(0,"span"),l._uU(1,"-"),l.qZA())}function Yo(q,G){if(1&q&&(l.ynx(0),l.TgZ(1,"mat-option",47),l._uU(2),l.ALo(3,"money"),l.ALo(4,"number"),l.qZA(),l.BQk()),2&q){const b=G.$implicit;l.xp6(1),l.Q6J("value",b),l.xp6(1),l.hij(" ",l.lcZ(3,2,l.xi3(4,4,b.valeur,"1.0-0"))," ")}}function Ua(q,G){if(1&q){const b=l.EpF();l.TgZ(0,"mat-form-field",135),l.NdJ("ngModelChange",function(){l.CHM(b);const _e=l.oxw(5);return l.KtG(_e.tarifReady=!1)}),l.TgZ(1,"mat-label"),l._uU(2,"Franchise"),l.qZA(),l.TgZ(3,"mat-select",136),l.NdJ("ngModelChange",function(){l.CHM(b);const _e=l.oxw(5);return l.KtG(_e.tarifReady=!1)}),l.YNc(4,Yo,5,7,"ng-container",12),l.qZA()()}if(2&q){const b=l.oxw(2),te=b.dataIndex,_e=b.$implicit,ye=l.oxw(3);l.xp6(3),l.Q6J("formControl",ye.getControl(te,"franchise")),l.xp6(1),l.Q6J("ngForOf",_e.franchise)}}function Ul(q,G){if(1&q&&(l.TgZ(0,"mat-form-field")(1,"mat-label"),l._uU(2,"Franchise"),l.qZA(),l._UZ(3,"input",147),l.qZA()),2&q){const b=l.oxw(3).dataIndex,te=l.oxw(3);l.xp6(3),l.Q6J("formControl",te.getControl(b,"franchise"))}}function dl(q,G){if(1&q&&(l.TgZ(0,"span"),l._uU(1),l.ALo(2,"money"),l.ALo(3,"number"),l.qZA()),2&q){const b=l.oxw(3).$implicit;l.xp6(1),l.Oqu(l.lcZ(2,1,l.xi3(3,3,b.franchise[0].valeur,"1.0-0")))}}function tr(q,G){if(1&q&&(l.YNc(0,Ul,4,1,"mat-form-field",51),l.YNc(1,dl,4,6,"ng-template",null,146,l.W1O)),2&q){const b=l.MAs(2),te=l.oxw(2).$implicit;l.Q6J("ngIf","input"==te.franchise[0].descriptionvVal)("ngIfElse",b)}}function Ms(q,G){if(1&q&&(l.YNc(0,Ua,5,2,"mat-form-field",133),l.YNc(1,tr,3,2,"ng-template",null,145,l.W1O)),2&q){const b=l.MAs(2),te=l.oxw().$implicit;l.Q6J("ngIf",te.franchise.length>1)("ngIfElse",b)}}function Dn(q,G){if(1&q&&(l.TgZ(0,"td",93),l.YNc(1,Ml,2,0,"span",51),l.YNc(2,Ms,3,2,"ng-template",null,144,l.W1O),l.qZA()),2&q){const b=G.$implicit,te=l.MAs(3);l.xp6(1),l.Q6J("ngIf",0==b.franchise.length)("ngIfElse",te)}}function ts(q,G){1&q&&(l.TgZ(0,"th",92),l._uU(1," Formule "),l.qZA())}function Kl(q,G){1&q&&(l.TgZ(0,"span"),l._uU(1,"-"),l.qZA())}function ns(q,G){if(1&q&&(l.ynx(0),l.TgZ(1,"mat-option",47),l._uU(2),l.ALo(3,"money"),l.ALo(4,"number"),l.ALo(5,"money"),l.ALo(6,"number"),l.ALo(7,"money"),l.ALo(8,"number"),l.qZA(),l.BQk()),2&q){const b=G.$implicit,te=l.oxw(6);l.xp6(1),l.Q6J("value",b),l.xp6(1),l.AsE(" ","95"!=te.codeProduit&&0==l.lcZ(3,3,l.xi3(4,5,b.valeur,"1.0-0"))?l.lcZ(5,8,l.xi3(6,10,b.valeur,"1.0-0")):l.lcZ(7,13,l.xi3(8,15,b.valeur,"1.0-0"))," ",null==b?null:b.unite," ")}}function Pa(q,G){if(1&q){const b=l.EpF();l.TgZ(0,"mat-form-field",135),l.NdJ("ngModelChange",function(){l.CHM(b);const _e=l.oxw(5);return l.KtG(_e.tarifReady=!1)}),l.TgZ(1,"mat-label"),l._uU(2,"Formule"),l.qZA(),l.TgZ(3,"mat-select",136),l.NdJ("ngModelChange",function(){l.CHM(b);const _e=l.oxw(5);return l.KtG(_e.tarifReady=!1)}),l.YNc(4,ns,9,18,"ng-container",12),l.qZA()()}if(2&q){const b=l.oxw(2),te=b.dataIndex,_e=b.$implicit,ye=l.oxw(3);l.xp6(3),l.Q6J("formControl",ye.getControl(te,"formule")),l.xp6(1),l.Q6J("ngForOf",_e.formule)}}function Ho(q,G){if(1&q){const b=l.EpF();l.TgZ(0,"mat-form-field",135),l.NdJ("ngModelChange",function(){l.CHM(b);const _e=l.oxw(6);return l.KtG(_e.tarifReady=!1)}),l.TgZ(1,"mat-label"),l._uU(2,"Formule"),l.qZA(),l.TgZ(3,"input",138),l.NdJ("ngModelChange",function(){l.CHM(b);const _e=l.oxw(6);return l.KtG(_e.tarifReady=!1)}),l.qZA()()}if(2&q){const b=l.oxw(3).dataIndex,te=l.oxw(3);l.xp6(3),l.Q6J("formControl",te.getControl(b,"formule"))}}function ma(q,G){if(1&q&&(l.TgZ(0,"span"),l._uU(1),l.ALo(2,"money"),l.ALo(3,"number"),l.qZA()),2&q){const b=l.oxw(3).$implicit;l.xp6(1),l.Oqu(l.lcZ(2,1,l.xi3(3,3,b.formule[0].valeur,"1.0-0")))}}function wo(q,G){if(1&q&&(l.YNc(0,Ho,4,1,"mat-form-field",133),l.YNc(1,ma,4,6,"ng-template",null,150,l.W1O)),2&q){const b=l.MAs(2),te=l.oxw(2).$implicit;l.Q6J("ngIf","input"==te.formule[0].descriptionvVal)("ngIfElse",b)}}function Us(q,G){if(1&q&&(l.YNc(0,Pa,5,2,"mat-form-field",133),l.YNc(1,wo,3,2,"ng-template",null,149,l.W1O)),2&q){const b=l.MAs(2),te=l.oxw().$implicit;l.Q6J("ngIf",te.formule.length>1)("ngIfElse",b)}}function is(q,G){if(1&q&&(l.TgZ(0,"td",93),l.YNc(1,Kl,2,0,"span",51),l.YNc(2,Us,3,2,"ng-template",null,148,l.W1O),l.qZA()),2&q){const b=G.$implicit,te=l.MAs(3);l.xp6(1),l.Q6J("ngIf",0==b.formule.length)("ngIfElse",te)}}function _l(q,G){1&q&&(l.TgZ(0,"th",92),l._uU(1," Prime nette "),l.qZA())}function Fs(q,G){if(1&q&&(l.ynx(0),l._uU(1),l.ALo(2,"money"),l.ALo(3,"number"),l.TgZ(4,"sup"),l._uU(5,"DZD"),l.qZA(),l.BQk()),2&q){const b=l.oxw().$implicit;l.xp6(1),l.hij(" ",l.lcZ(2,1,l.xi3(3,3,b.prime,"1.0-0"))," ")}}function Fl(q,G){1&q&&l._uU(0,"-")}function Qs(q,G){if(1&q&&(l.TgZ(0,"td",93),l.YNc(1,Fs,6,6,"ng-container",51),l.YNc(2,Fl,1,0,"ng-template",null,151,l.W1O),l.qZA()),2&q){const b=G.$implicit,te=l.MAs(3),_e=l.oxw(3);l.xp6(1),l.Q6J("ngIf",_e.tarifReady&&null!=b.prime)("ngIfElse",te)}}function Ql(q,G){1&q&&l._UZ(0,"th",92)}function pl(q,G){if(1&q){const b=l.EpF();l.TgZ(0,"button",154),l.NdJ("click",function(){l.CHM(b);const _e=l.oxw().$implicit,ye=l.oxw(3);return l.KtG(ye.expandedElement=ye.expandedElement===_e?null:_e)}),l.TgZ(1,"mat-icon"),l._uU(2),l.qZA()()}if(2&q){const b=l.oxw().$implicit,te=l.oxw(3);l.xp6(2),l.Oqu(te.expandedElement===b?"indeterminate_check_box":"add_box")}}function Jl(q,G){if(1&q&&(l.TgZ(0,"td",152),l.YNc(1,pl,3,1,"button",153),l.qZA()),2&q){const b=G.$implicit,te=l.oxw(3);l.ekj("example-expanded-row",te.expandedElement===b),l.xp6(1),l.Q6J("ngIf",0!=b.sousGarantieList.data.length)}}function Ce(q,G){1&q&&l._UZ(0,"th",92)}function mt(q,G){if(1&q){const b=l.EpF();l.TgZ(0,"td",93)(1,"mat-checkbox",131),l.NdJ("click",function(_e){const Ke=l.CHM(b).$implicit,Pt=l.oxw(5);return _e.stopPropagation(),l.KtG(Pt.sousGarantieSelectedIds.push(Ke.idSousGarantie))})("change",function(_e){const Ke=l.CHM(b).$implicit,Pt=l.oxw(5);return l.KtG(_e?Pt.selection.toggle(Ke):null)}),l.qZA()()}if(2&q){const b=G.dataIndex,te=l.oxw(5);l.xp6(1),l.Q6J("checked",!1)("formControl",te.getSousGarantieControl(b,"checked"))}}function Pe(q,G){1&q&&(l.TgZ(0,"th",92),l._uU(1,"Sous garantie "),l.qZA())}function _t(q,G){if(1&q&&(l.TgZ(0,"td",93),l._uU(1),l.qZA()),2&q){const b=G.$implicit;l.xp6(1),l.hij(" ",b.description," ")}}function yt(q,G){1&q&&(l.TgZ(0,"th",92),l._uU(1,"plafond "),l.qZA())}function rn(q,G){1&q&&(l.TgZ(0,"span"),l._uU(1,"/"),l.qZA())}function eo(q,G){if(1&q&&(l.ynx(0),l.TgZ(1,"mat-option",47),l._uU(2),l.ALo(3,"money"),l.ALo(4,"number"),l.qZA(),l.BQk()),2&q){const b=G.$implicit;l.xp6(1),l.Q6J("value",b),l.xp6(1),l.hij(" ",l.lcZ(3,2,l.xi3(4,4,b.valeur,"1.0-0"))," ")}}function sr(q,G){if(1&q&&(l.TgZ(0,"mat-form-field")(1,"mat-label"),l._uU(2,"Plafond"),l.qZA(),l.TgZ(3,"mat-select",159),l.YNc(4,eo,5,7,"ng-container",12),l.qZA()()),2&q){const b=l.oxw(2),te=b.dataIndex,_e=b.$implicit,ye=l.oxw(5);l.xp6(3),l.Q6J("formControl",ye.getSousGarantieControl(te,"plafond")),l.xp6(1),l.Q6J("ngForOf",_e.plafond)}}function Dr(q,G){if(1&q&&(l.TgZ(0,"mat-form-field")(1,"mat-label"),l._uU(2,"Plafond"),l.qZA(),l._UZ(3,"input",160),l.qZA()),2&q){const b=l.oxw(3),te=b.$implicit,_e=b.dataIndex,ye=l.oxw(5);l.xp6(3),l.Q6J("max",te.valeur)("formControl",ye.getSousGarantieControl(_e,"plafond"))}}function wr(q,G){if(1&q&&(l.TgZ(0,"span"),l._uU(1),l.ALo(2,"money"),l.ALo(3,"number"),l.qZA()),2&q){const b=l.oxw(3).$implicit;l.xp6(1),l.Oqu(l.lcZ(2,1,l.xi3(3,3,b.plafond[0].valeur,"1.0-0")))}}function Or(q,G){if(1&q&&(l.YNc(0,Dr,4,2,"mat-form-field",51),l.YNc(1,wr,4,6,"ng-template",null,137,l.W1O)),2&q){const b=l.MAs(2),te=l.oxw(2).$implicit;l.Q6J("ngIf","input"==te.plafond[0].descriptionvVal)("ngIfElse",b)}}function pr(q,G){if(1&q&&(l.YNc(0,sr,5,2,"mat-form-field",51),l.YNc(1,Or,3,2,"ng-template",null,134,l.W1O)),2&q){const b=l.MAs(2),te=l.oxw().$implicit;l.Q6J("ngIf",te.plafond.length>1)("ngIfElse",b)}}function Za(q,G){if(1&q&&(l.TgZ(0,"td",93),l.YNc(1,rn,2,0,"span",51),l.YNc(2,pr,3,2,"ng-template",null,132,l.W1O),l.qZA()),2&q){const b=G.$implicit,te=l.MAs(3);l.xp6(1),l.Q6J("ngIf",0==b.plafond.length)("ngIfElse",te)}}function os(q,G){1&q&&(l.TgZ(0,"th",92),l._uU(1," Franchise "),l.qZA())}function fl(q,G){1&q&&(l.TgZ(0,"span"),l._uU(1,"/"),l.qZA())}function Js(q,G){if(1&q&&(l.ynx(0),l.TgZ(1,"mat-option",47),l._uU(2),l.ALo(3,"money"),l.ALo(4,"number"),l.qZA(),l.BQk()),2&q){const b=G.$implicit;l.xp6(1),l.Q6J("value",b),l.xp6(1),l.hij(" ",l.lcZ(3,2,l.xi3(4,4,b.valeur,"1.0-0"))," ")}}function qa(q,G){if(1&q&&(l.TgZ(0,"mat-form-field")(1,"mat-label"),l._uU(2,"Franchise"),l.qZA(),l.TgZ(3,"mat-select",159),l.YNc(4,Js,5,7,"ng-container",12),l.qZA()()),2&q){const b=l.oxw(2),te=b.dataIndex,_e=b.$implicit,ye=l.oxw(5);l.xp6(3),l.Q6J("formControl",ye.getSousGarantieControl(te,"franchise")),l.xp6(1),l.Q6J("ngForOf",_e.franchise)}}function Ac(q,G){if(1&q&&(l.TgZ(0,"mat-form-field")(1,"mat-label"),l._uU(2,"Franchise"),l.qZA(),l._UZ(3,"input",147),l.qZA()),2&q){const b=l.oxw(3).dataIndex,te=l.oxw(5);l.xp6(3),l.Q6J("formControl",te.getSousGarantieControl(b,"franchise"))}}function Wo(q,G){if(1&q&&(l.TgZ(0,"span"),l._uU(1),l.ALo(2,"money"),l.ALo(3,"number"),l.qZA()),2&q){const b=l.oxw(3).$implicit;l.xp6(1),l.Oqu(l.lcZ(2,1,l.xi3(3,3,b.franchise[0].valeur,"1.0-0")))}}function qt(q,G){if(1&q&&(l.YNc(0,Ac,4,1,"mat-form-field",51),l.YNc(1,Wo,4,6,"ng-template",null,146,l.W1O)),2&q){const b=l.MAs(2),te=l.oxw(2).$implicit;l.Q6J("ngIf","input"==te.franchise[0].descriptionvVal)("ngIfElse",b)}}function an(q,G){if(1&q&&(l.YNc(0,qa,5,2,"mat-form-field",51),l.YNc(1,qt,3,2,"ng-template",null,145,l.W1O)),2&q){const b=l.MAs(2),te=l.oxw().$implicit;l.Q6J("ngIf",te.franchise.length>1)("ngIfElse",b)}}function Gt(q,G){if(1&q&&(l.TgZ(0,"td",93),l.YNc(1,fl,2,0,"span",51),l.YNc(2,an,3,2,"ng-template",null,144,l.W1O),l.qZA()),2&q){const b=G.$implicit,te=l.MAs(3);l.xp6(1),l.Q6J("ngIf",0==b.franchise.length)("ngIfElse",te)}}function Wn(q,G){1&q&&(l.TgZ(0,"th",92),l._uU(1," taux "),l.qZA())}function Qi(q,G){1&q&&(l.TgZ(0,"span"),l._uU(1,"/"),l.qZA())}function xo(q,G){if(1&q&&(l.ynx(0),l.TgZ(1,"mat-option",47),l._uU(2),l.ALo(3,"money"),l.ALo(4,"number"),l.qZA(),l.BQk()),2&q){const b=G.$implicit;l.xp6(1),l.Q6J("value",b),l.xp6(1),l.hij(" ",l.lcZ(3,2,l.xi3(4,4,b.valeur,"1.0-0"))," ")}}function lr(q,G){if(1&q&&(l.TgZ(0,"mat-form-field")(1,"mat-label"),l._uU(2,"taux"),l.qZA(),l.TgZ(3,"mat-select",159),l.YNc(4,xo,5,7,"ng-container",12),l.qZA()()),2&q){const b=l.oxw(2),te=b.dataIndex,_e=b.$implicit,ye=l.oxw(5);l.xp6(3),l.Q6J("formControl",ye.getSousGarantieControl(te,"taux")),l.xp6(1),l.Q6J("ngForOf",_e.taux)}}function ue(q,G){if(1&q&&(l.TgZ(0,"mat-form-field")(1,"mat-label"),l._uU(2,"taux"),l.qZA(),l._UZ(3,"input",147),l.qZA()),2&q){const b=l.oxw(3).dataIndex,te=l.oxw(5);l.xp6(3),l.Q6J("formControl",te.getSousGarantieControl(b,"taux"))}}function je(q,G){if(1&q&&(l.TgZ(0,"span"),l._uU(1),l.ALo(2,"money"),l.ALo(3,"number"),l.qZA()),2&q){const b=l.oxw(3).$implicit;l.xp6(1),l.Oqu(l.lcZ(2,1,l.xi3(3,3,b.taux[0].valeur,"1.0-0")))}}function z(q,G){if(1&q&&(l.YNc(0,ue,4,1,"mat-form-field",51),l.YNc(1,je,4,6,"ng-template",null,142,l.W1O)),2&q){const b=l.MAs(2),te=l.oxw(2).$implicit;l.Q6J("ngIf","input"==te.taux[0].descriptionvVal)("ngIfElse",b)}}function ge(q,G){if(1&q&&(l.YNc(0,lr,5,2,"mat-form-field",51),l.YNc(1,z,3,2,"ng-template",null,141,l.W1O)),2&q){const b=l.MAs(2),te=l.oxw().$implicit;l.Q6J("ngIf",te.taux.length>1)("ngIfElse",b)}}function we(q,G){if(1&q&&(l.TgZ(0,"td",93),l.YNc(1,Qi,2,0,"span",51),l.YNc(2,ge,3,2,"ng-template",null,140,l.W1O),l.qZA()),2&q){const b=G.$implicit,te=l.MAs(3);l.xp6(1),l.Q6J("ngIf",0==b.taux.length)("ngIfElse",te)}}function wt(q,G){1&q&&(l.TgZ(0,"th",92),l._uU(1," Formule "),l.qZA())}function st(q,G){1&q&&(l.TgZ(0,"span"),l._uU(1,"/"),l.qZA())}function Tn(q,G){if(1&q&&(l.ynx(0),l.TgZ(1,"mat-option",47),l._uU(2),l.ALo(3,"money"),l.ALo(4,"number"),l.ALo(5,"money"),l.ALo(6,"number"),l.ALo(7,"money"),l.ALo(8,"number"),l.qZA(),l.BQk()),2&q){const b=G.$implicit,te=l.oxw(8);l.xp6(1),l.Q6J("value",b),l.xp6(1),l.AsE(" ","95"!=te.codeProduit&&0==l.lcZ(3,3,l.xi3(4,5,b.valeur,"1.0-0"))?l.lcZ(5,8,l.xi3(6,10,b.valeur,"1.0-0")):l.lcZ(7,13,l.xi3(8,15,b.valeur,"1.0-0"))," ",null==b?null:b.unite," ")}}function Qo(q,G){if(1&q&&(l.TgZ(0,"mat-form-field")(1,"mat-label"),l._uU(2,"Formule"),l.qZA(),l.TgZ(3,"mat-select",159),l.YNc(4,Tn,9,18,"ng-container",12),l.qZA()()),2&q){const b=l.oxw(2),te=b.dataIndex,_e=b.$implicit,ye=l.oxw(5);l.xp6(3),l.Q6J("formControl",ye.getSousGarantieControl(te,"formule")),l.xp6(1),l.Q6J("ngForOf",_e.formule)}}function li(q,G){if(1&q&&(l.TgZ(0,"mat-form-field")(1,"mat-label"),l._uU(2,"Formule"),l.qZA(),l._UZ(3,"input",147),l.qZA()),2&q){const b=l.oxw(3).dataIndex,te=l.oxw(5);l.xp6(3),l.Q6J("formControl",te.getSousGarantieControl(b,"formule"))}}function To(q,G){if(1&q&&(l.TgZ(0,"span"),l._uU(1),l.ALo(2,"money"),l.ALo(3,"number"),l.qZA()),2&q){const b=l.oxw(3).$implicit;l.xp6(1),l.Oqu(l.lcZ(2,1,l.xi3(3,3,b.formule[0].valeur,"1.0-0")))}}function Mo(q,G){if(1&q&&(l.YNc(0,li,4,1,"mat-form-field",51),l.YNc(1,To,4,6,"ng-template",null,150,l.W1O)),2&q){const b=l.MAs(2),te=l.oxw(2).$implicit;l.Q6J("ngIf","input"==te.formule[0].descriptionvVal)("ngIfElse",b)}}function Zo(q,G){if(1&q&&(l.YNc(0,Qo,5,2,"mat-form-field",51),l.YNc(1,Mo,3,2,"ng-template",null,149,l.W1O)),2&q){const b=l.MAs(2),te=l.oxw().$implicit;l.Q6J("ngIf",te.formule.length>1)("ngIfElse",b)}}function Wl(q,G){if(1&q&&(l.TgZ(0,"td",93),l.YNc(1,st,2,0,"span",51),l.YNc(2,Zo,3,2,"ng-template",null,148,l.W1O),l.qZA()),2&q){const b=G.$implicit,te=l.MAs(3);l.xp6(1),l.Q6J("ngIf",0==b.formule.length)("ngIfElse",te)}}function eu(q,G){1&q&&l._UZ(0,"th",92)}function Tc(q,G){if(1&q&&(l.ynx(0),l._uU(1),l.ALo(2,"money"),l.ALo(3,"number"),l.TgZ(4,"sup"),l._uU(5,"DZD"),l.qZA(),l.BQk()),2&q){const b=l.oxw().$implicit;l.xp6(1),l.hij(" ",l.lcZ(2,1,l.xi3(3,3,b.prime,"1.0-0"))," ")}}function Uo(q,G){1&q&&l._uU(0,"-")}function Ls(q,G){if(1&q&&(l.TgZ(0,"td",93),l.YNc(1,Tc,6,6,"ng-container",51),l.YNc(2,Uo,1,0,"ng-template",null,151,l.W1O),l.qZA()),2&q){const b=G.$implicit,te=l.MAs(3),_e=l.oxw(5);l.xp6(1),l.Q6J("ngIf",_e.tarifReady&&null!=b.prime)("ngIfElse",te)}}function sc(q,G){1&q&&l._UZ(0,"th",92)}function Yc(q,G){1&q&&l._UZ(0,"td",93)}function Go(q,G){1&q&&l._UZ(0,"tr",161)}function yi(q,G){1&q&&l._UZ(0,"tr",101)}function Wr(q,G){if(1&q&&(l.TgZ(0,"table",157),l.ynx(1,120),l.YNc(2,Ce,1,0,"th",84),l.YNc(3,mt,2,2,"td",85),l.BQk(),l.ynx(4,121),l.YNc(5,Pe,2,0,"th",84),l.YNc(6,_t,2,1,"td",85),l.BQk(),l.ynx(7,122),l.YNc(8,yt,2,0,"th",84),l.YNc(9,Za,4,2,"td",85),l.BQk(),l.ynx(10,124),l.YNc(11,os,2,0,"th",84),l.YNc(12,Gt,4,2,"td",85),l.BQk(),l.ynx(13,123),l.YNc(14,Wn,2,0,"th",84),l.YNc(15,we,4,2,"td",85),l.BQk(),l.ynx(16,125),l.YNc(17,wt,2,0,"th",84),l.YNc(18,Wl,4,2,"td",85),l.BQk(),l.ynx(19,89),l.YNc(20,eu,1,0,"th",84),l.YNc(21,Ls,4,2,"td",85),l.BQk(),l.ynx(22,158),l.YNc(23,sc,1,0,"th",84),l.YNc(24,Yc,1,0,"td",85),l.BQk(),l.YNc(25,Go,1,0,"tr",129),l.YNc(26,yi,1,0,"tr",91),l.qZA()),2&q){const b=l.oxw().$implicit,te=l.oxw(3);l.Q6J("dataSource",b.sousGarantieList),l.xp6(25),l.Q6J("matHeaderRowDef",te.DisplayedColumnsSousGarantie),l.xp6(1),l.Q6J("matRowDefColumns",te.DisplayedColumnsSousGarantie)}}function Li(q,G){if(1&q&&(l.TgZ(0,"td",93)(1,"div",155),l.YNc(2,Wr,27,3,"table",156),l.qZA()()),2&q){const b=G.$implicit,te=l.oxw(3);l.uIk("colspan",te.displayedColumns.length),l.xp6(1),l.Q6J("@detailExpand",b==te.expandedElement?"expanded":"collapsed"),l.xp6(1),l.Q6J("ngIf",te.loadTable)}}function so(q,G){1&q&&l._UZ(0,"tr",161)}function Ll(q,G){1&q&&l._UZ(0,"tr",101)}function kr(q,G){1&q&&l._UZ(0,"tr",162)}const Sa=function(){return["expandedDetail"]};function Bo(q,G){if(1&q&&(l.TgZ(0,"table",119),l.ynx(1,120),l.YNc(2,cl,1,0,"th",84),l.YNc(3,ul,2,2,"td",85),l.BQk(),l.ynx(4,121),l.YNc(5,si,2,0,"th",84),l.YNc(6,Gr,2,1,"td",85),l.BQk(),l.ynx(7,122),l.YNc(8,ml,2,0,"th",84),l.YNc(9,Rr,4,2,"td",85),l.BQk(),l.ynx(10,123),l.YNc(11,ws,2,0,"th",84),l.YNc(12,es,4,2,"td",85),l.BQk(),l.ynx(13,124),l.YNc(14,kl,2,0,"th",84),l.YNc(15,Dn,4,2,"td",85),l.BQk(),l.ynx(16,125),l.YNc(17,ts,2,0,"th",84),l.YNc(18,is,4,2,"td",85),l.BQk(),l.ynx(19,89),l.YNc(20,_l,2,0,"th",84),l.YNc(21,Qs,4,2,"td",85),l.BQk(),l.ynx(22,126),l.YNc(23,Ql,1,0,"th",84),l.YNc(24,Jl,2,3,"td",127),l.BQk(),l.ynx(25,128),l.YNc(26,Li,3,3,"td",85),l.BQk(),l.YNc(27,so,1,0,"tr",129),l.YNc(28,Ll,1,0,"tr",91),l.YNc(29,kr,1,0,"tr",130),l.qZA()),2&q){const b=l.oxw(2);l.Q6J("dataSource",b.dataSource),l.xp6(27),l.Q6J("matHeaderRowDef",b.displayedColumns),l.xp6(1),l.Q6J("matRowDefColumns",b.displayedColumns),l.xp6(1),l.Q6J("matRowDefColumns",l.DdM(4,Sa))}}function Oo(q,G){1&q&&(l.TgZ(0,"th",92),l._uU(1," ID "),l.qZA())}function da(q,G){if(1&q&&(l.TgZ(0,"td",93),l._uU(1),l.qZA()),2&q){const b=G.$implicit;l.xp6(1),l.hij(" ",b.idListParamRisque," ")}}function Ni(q,G){1&q&&(l.TgZ(0,"th",92),l._uU(1," Description "),l.qZA())}function Bi(q,G){if(1&q&&(l.TgZ(0,"td",93),l._uU(1),l.qZA()),2&q){const b=G.$implicit;l.xp6(1),l.hij(" ",b.description," ")}}function Cr(q,G){1&q&&(l.TgZ(0,"th",92),l._uU(1," Action "),l.qZA())}function tu(q,G){if(1&q){const b=l.EpF();l.TgZ(0,"td",93)(1,"button",169)(2,"mat-icon"),l._uU(3,"more_vert"),l.qZA()(),l.TgZ(4,"mat-menu",97,98)(6,"button",99),l.NdJ("click",function(){const ye=l.CHM(b).$implicit,Ke=l.oxw(4);return l.KtG(Ke.getListParamRisque(ye.idListParamRisque,ye.idGarantie))}),l.TgZ(7,"mat-icon"),l._uU(8,"zoom_in"),l.qZA(),l.TgZ(9,"span"),l._uU(10,"Consulter la liste "),l.qZA()()()()}if(2&q){const b=l.MAs(5);l.xp6(1),l.Q6J("matMenuTriggerFor",b)}}function Gc(q,G){1&q&&l._UZ(0,"tr",100)}function bc(q,G){1&q&&l._UZ(0,"tr",101)}const yu=function(){return[5,10,20]};function xr(q,G){if(1&q&&(l.TgZ(0,"div",164)(1,"table",165),l.ynx(2,166),l.YNc(3,Oo,2,0,"th",84),l.YNc(4,da,2,1,"td",85),l.BQk(),l.ynx(5,167),l.YNc(6,Ni,2,0,"th",84),l.YNc(7,Bi,2,1,"td",85),l.BQk(),l.ynx(8,89),l.YNc(9,Cr,2,0,"th",84),l.YNc(10,tu,11,1,"td",85),l.BQk(),l.YNc(11,Gc,1,0,"tr",90),l.YNc(12,bc,1,0,"tr",91),l.qZA(),l._UZ(13,"mat-paginator",168),l.qZA()),2&q){const b=l.oxw(3);l.xp6(1),l.Q6J("dataSource",b.dataSourceListOfListes),l.xp6(10),l.Q6J("matHeaderRowDef",b.displayedColumnsListOfList),l.xp6(1),l.Q6J("matRowDefColumns",b.displayedColumnsListOfList),l.xp6(1),l.Q6J("pageSize",5)("pageSizeOptions",l.DdM(5,yu))}}function Mr(q,G){if(1&q&&(l.TgZ(0,"mat-expansion-panel",69)(1,"mat-expansion-panel-header")(2,"mat-panel-title",70),l._uU(3," Consulter les listes "),l.qZA()(),l.YNc(4,xr,14,6,"div",163),l.qZA()),2&q){const b=l.oxw(2);l.Q6J("expanded",!0),l.xp6(4),l.Q6J("ngIf",0!=b.dataSourceListOfListes.data.length)}}function _a(q,G){if(1&q&&(l.TgZ(0,"div",170)(1,"div",171)(2,"div",172)(3,"span",173),l._uU(4,"Prime nette totale:"),l.qZA(),l.TgZ(5,"span",174),l._uU(6),l.ALo(7,"money"),l.ALo(8,"number"),l.TgZ(9,"sup"),l._uU(10,"DZD"),l.qZA()()()()()),2&q){const b=l.oxw(2);l.xp6(6),l.hij("",l.lcZ(7,1,l.xi3(8,3,b.PrimeTotale,"1.0-0"))," ")}}function gl(q,G){1&q&&(l.TgZ(0,"mat-header-cell"),l._uU(1,"Groupe"),l.qZA())}function se(q,G){if(1&q&&(l.TgZ(0,"mat-cell"),l._uU(1),l.qZA()),2&q){const b=G.$implicit;l.xp6(1),l.Oqu(b.group)}}function He(q,G){1&q&&(l.TgZ(0,"mat-header-cell"),l._uU(1,"Pack"),l.qZA())}function Y(q,G){if(1&q&&(l.TgZ(0,"mat-option",47),l._uU(1),l.qZA()),2&q){const b=G.$implicit;l.Q6J("value",b.idPack0),l.xp6(1),l.Oqu(b.description)}}function Ee(q,G){if(1&q){const b=l.EpF();l.TgZ(0,"mat-cell")(1,"mat-select",181),l.NdJ("ngModelChange",function(_e){const Ke=l.CHM(b).$implicit;return l.KtG(Ke.pack=_e)})("selectionChange",function(_e){const Ke=l.CHM(b).$implicit,Pt=l.oxw(3);return l.KtG(Pt.getPackMulti(_e.value,Ke.group))}),l.YNc(2,Y,2,2,"mat-option",49),l.qZA()()}if(2&q){const b=G.$implicit,te=l.oxw(3);l.xp6(1),l.MGl("placeholder","veuillez choisir le pack assign\xe9 au groupe: ",b.group,"")("name","pack",b.group,""),l.Q6J("ngModel",b.pack),l.xp6(1),l.Q6J("ngForOf",te.packs)}}function Ye(q,G){1&q&&l._UZ(0,"mat-header-row")}function Ct(q,G){1&q&&l._UZ(0,"mat-row")}function sn(q,G){if(1&q&&(l.TgZ(0,"form")(1,"mat-table",175),l.ynx(2,88),l.YNc(3,gl,2,0,"mat-header-cell",176),l.YNc(4,se,2,1,"mat-cell",177),l.BQk(),l.ynx(5,178),l.YNc(6,He,2,0,"mat-header-cell",176),l.YNc(7,Ee,3,4,"mat-cell",177),l.BQk(),l.YNc(8,Ye,1,0,"mat-header-row",179),l.YNc(9,Ct,1,0,"mat-row",180),l.qZA()()),2&q){const b=l.oxw(2);l.xp6(1),l.Q6J("dataSource",b.dataSourceGroupePack),l.xp6(7),l.Q6J("matHeaderRowDef",b.displayedColumnsGroupePack),l.xp6(1),l.Q6J("matRowDefColumns",b.displayedColumnsGroupePack)}}function Pn(q,G){if(1&q){const b=l.EpF();l.TgZ(0,"button",182),l.NdJ("click",function(){l.CHM(b);const _e=l.oxw(2);return l.KtG(_e.goToResume())}),l._uU(1," Suivant "),l.TgZ(2,"mat-icon",183),l._uU(3," chevron_right "),l.qZA()()}if(2&q){const b=l.oxw(2);l.Tol(b.garantieNull?"btn btn-disable":"btn btn-action"),l.Q6J("disabled",b.garantieNull)}}function fn(q,G){if(1&q){const b=l.EpF();l.TgZ(0,"button",53),l.NdJ("click",function(){l.CHM(b);const _e=l.oxw(2);return l.KtG(_e.goBack())}),l._uU(1,"Retour"),l.qZA()}}function ui(q,G){if(1&q&&(l.TgZ(0,"mat-step"),l.YNc(1,ll,1,0,"ng-template",5),l.YNc(2,Xa,10,3,"div",107),l.YNc(3,Do,2,1,"div",35),l.YNc(4,$r,2,1,"div",35),l.YNc(5,Vo,2,0,"div",35),l.YNc(6,Bo,30,5,"table",108),l.YNc(7,Mr,5,2,"mat-expansion-panel",109),l.YNc(8,_a,11,6,"div",110),l.YNc(9,sn,10,3,"form",32),l.TgZ(10,"div"),l.YNc(11,Pn,4,3,"button",111),l.YNc(12,fn,2,0,"button",112),l.qZA()()),2&q){const b=l.oxw();l.xp6(2),l.Q6J("ngIf",!b.multiRisque||"97"==b.codeProduit),l.xp6(1),l.Q6J("ngIf",b.errorTarif.error),l.xp6(1),l.Q6J("ngIf",b.errorHandler.error),l.xp6(1),l.Q6J("ngIf",b.errorPackForm),l.xp6(1),l.Q6J("ngIf",b.loadTable&&(!b.multiRisque||"97"==b.codeProduit)),l.xp6(1),l.Q6J("ngIf",0!=b.dataSourceListOfListes.data.length&&0!=b.dataSource.data.length),l.xp6(1),l.Q6J("ngIf",b.tarifReady),l.xp6(1),l.Q6J("ngIf",b.multiRisque&&"97"!=b.codeProduit),l.xp6(2),l.Q6J("ngIf",b.tarifReady||b.multiRisque),l.xp6(1),l.Q6J("ngIf","97"==b.codeProduit&&"CTI"==b.selectedSousProduit&&1==b.isBOUser||"97"!=b.codeProduit)}}function bi(q,G){1&q&&l._uU(0,"R\xe9duction")}function to(q,G){if(1&q&&(l.TgZ(0,"div",105),l._uU(1),l.qZA()),2&q){const b=l.oxw(2);l.xp6(1),l.Oqu(b.errorHandler.msg)}}function fo(q,G){if(1&q&&(l.ynx(0),l.TgZ(1,"mat-option",47),l._uU(2),l.qZA(),l.BQk()),2&q){const b=G.$implicit;l.xp6(1),l.Q6J("value",b.idConvention),l.xp6(1),l.hij(" ",b.nomConvention," ")}}function Xo(q,G){if(1&q&&(l.ynx(0),l.TgZ(1,"mat-option",47),l._uU(2),l.qZA(),l.BQk()),2&q){const b=G.$implicit;l.xp6(1),l.Q6J("value",b.idReduction),l.xp6(1),l.hij(" ",b.nomReduction," ")}}function Ur(q,G){if(1&q){const b=l.EpF();l.ynx(0),l.TgZ(1,"button",24)(2,"span"),l._uU(3,"Suivant"),l.qZA()(),l.TgZ(4,"button",39),l.NdJ("click",function(){l.CHM(b);const _e=l.oxw(2);return l.KtG(_e.goBack())}),l._uU(5,"Retour"),l.qZA(),l.BQk()}}function fi(q,G){if(1&q){const b=l.EpF();l.TgZ(0,"mat-step",184),l.YNc(1,bi,1,0,"ng-template",5),l.TgZ(2,"p"),l._uU(3,"Veuillez choisir une Convention/R\xe9duction"),l.qZA(),l.YNc(4,to,2,1,"div",35),l.TgZ(5,"form",185),l.NdJ("ngSubmit",function(){l.CHM(b);const _e=l.oxw();return l.KtG(_e.submitReduction())}),l.TgZ(6,"mat-form-field",10)(7,"mat-label"),l._uU(8," Convention"),l.qZA(),l.TgZ(9,"mat-select",186),l.NdJ("valueChange",function(_e){l.CHM(b);const ye=l.oxw();return l.KtG(ye.defaultConvention=_e)})("selectionChange",function(_e){l.CHM(b);const ye=l.oxw();return l.KtG(ye.getReductionByConvention(_e.value))}),l.TgZ(10,"mat-option",47),l._uU(11," Aucune Convention "),l.qZA(),l.YNc(12,fo,3,2,"ng-container",12),l.qZA()(),l.TgZ(13,"mat-form-field",10)(14,"mat-select",187)(15,"mat-option",47),l._uU(16," Aucune Reduction "),l.qZA(),l.YNc(17,Xo,3,2,"ng-container",12),l.qZA()(),l.TgZ(18,"div"),l.YNc(19,Ur,6,0,"ng-container",32),l.qZA()()()}if(2&q){const b=l.oxw();l.Q6J("editable",!0),l.xp6(4),l.Q6J("ngIf",b.errorHandler.error),l.xp6(1),l.Q6J("formGroup",b.formReduction),l.xp6(4),l.Q6J("value",b.defaultConvention),l.xp6(1),l.Q6J("value","aucuneConvention"),l.xp6(2),l.Q6J("ngForOf",b.conventions),l.xp6(3),l.Q6J("value","aucuneReduction"),l.xp6(2),l.Q6J("ngForOf",b.reductions),l.xp6(2),l.Q6J("ngIf","97"!=b.codeProduit)}}function Ki(q,G){1&q&&l._uU(0,"R\xe9sum\xe9")}function br(q,G){if(1&q&&(l.TgZ(0,"div",105),l._uU(1),l.qZA()),2&q){const b=l.oxw();l.xp6(1),l.Oqu(b.errorHandler.msg)}}const De=function(q,G,b){return["/","consultation",q,G,b]};function lc(q,G){if(1&q&&(l.TgZ(0,"div",188),l._uU(1),l.TgZ(2,"a",189),l._uU(3,"cliquez ici."),l.qZA()()),2&q){const b=l.oxw();l.xp6(1),l.hij("Le devis ",b.idDevis," a \xe9t\xe9 cr\xe9\xe9 avec succ\xe8s, pour le consulter veuillez "),l.xp6(1),l.Q6J("routerLink",l.kEZ(2,De,b.codeProduit,b.produit,b.idDevis))}}function Bc(q,G){if(1&q&&(l.ynx(0),l.TgZ(1,"td"),l._uU(2),l.qZA(),l.TgZ(3,"td"),l._uU(4),l.ALo(5,"money"),l.ALo(6,"number"),l.TgZ(7,"sup"),l._uU(8,"DZD"),l.qZA()(),l.BQk()),2&q){const b=l.oxw().$implicit;l.xp6(2),l.Oqu(b.description),l.xp6(2),l.hij("",l.lcZ(5,2,l.xi3(6,4,b.prime,"1.0-0"))," ")}}function ya(q,G){if(1&q&&(l.TgZ(0,"tr"),l.YNc(1,Bc,9,7,"ng-container",32),l.qZA()),2&q){const b=G.$implicit;l.xp6(1),l.Q6J("ngIf",101==b.idPrime)}}function Co(q,G){if(1&q&&(l.TgZ(0,"tr")(1,"td"),l._uU(2),l.qZA(),l.TgZ(3,"td"),l._uU(4),l.ALo(5,"money"),l.ALo(6,"number"),l.TgZ(7,"sup"),l._uU(8,"DZD"),l.qZA()()()),2&q){const b=G.$implicit;l.xp6(2),l.Oqu(b.description),l.xp6(2),l.hij("",l.lcZ(5,2,l.xi3(6,4,b.prime,"1.0-0"))," ")}}function om(q,G){if(1&q&&(l.ynx(0),l.TgZ(1,"td",190),l._uU(2),l.qZA(),l.TgZ(3,"td",190),l._uU(4),l.ALo(5,"money"),l.ALo(6,"number"),l.TgZ(7,"sup"),l._uU(8,"DZD"),l.qZA()(),l.BQk()),2&q){const b=l.oxw().$implicit;l.xp6(2),l.Oqu(b.description),l.xp6(2),l.hij("",l.lcZ(5,2,l.xi3(6,4,b.prime,"1.0-0"))," ")}}function nu(q,G){if(1&q&&(l.TgZ(0,"tr"),l.YNc(1,om,9,7,"ng-container",32),l.qZA()),2&q){const b=G.$implicit;l.xp6(1),l.Q6J("ngIf",186==b.idPrime)}}function xa(q,G){if(1&q){const b=l.EpF();l.TgZ(0,"div",191)(1,"button",192),l.NdJ("click",function(){l.CHM(b);const _e=l.oxw();return l.KtG(_e.downloadDevis(_e.returnedDevis))}),l.TgZ(2,"mat-icon",193),l._uU(3," download "),l.qZA(),l._uU(4,"T\xe9l\xe9charger devis"),l.qZA(),l.TgZ(5,"button",192),l.NdJ("click",function(){l.CHM(b);const _e=l.oxw();return l.KtG(_e.convertToContract())}),l.TgZ(6,"mat-icon",193),l._uU(7," source_notes "),l.qZA(),l._uU(8,"Convertir en contrat"),l.qZA()()}}const Ys=function(q){return{"button--loading":q}};function Nu(q,G){if(1&q){const b=l.EpF();l.TgZ(0,"button",194),l.NdJ("click",function(){l.CHM(b);const _e=l.oxw();return l.KtG(_e.submitDevis())}),l.TgZ(1,"span",195),l._uU(2,"Enregistrer devis"),l.qZA()()}if(2&q){const b=l.oxw();l.Q6J("ngClass",l.VKq(2,Ys,b.loaderDevis))("disabled",b.loaderDevis)}}const Pc=new Date;function Iu(q){var G=new Date(q.value);return Pc.getFullYear()-G.getFullYear()<18?{ageInf18:!0}:null}function cc(q){var G=new Date(q.value);return Pc.getFullYear()-G.getFullYear()>106?{ageSup107:!0}:null}let rm=(()=>{class q{constructor(b,te,_e,ye,Ke,Pt,ft,St,Nt,Bn,hn,no,kn,Gi,vo,Jo,Ii){this.vehiculeService=b,this.dialog=te,this.cd=_e,this.route=ye,this.router=Ke,this._snackBar=Pt,this.conventionService=ft,this.cryptoService=St,this.devisService=Nt,this.reductionService=Bn,this.packService=hn,this.agencesService=no,this.personneService=kn,this.dureeService=Gi,this.paramRisqueService=vo,this.genericService=Jo,this.formBuilder=Ii,this.load=!1,this.loadTable=!1,this.groupArray=[],this.selectedSousProduit=null,this.groupesPacks=[],this.isFieldReadOnly=!1,this.fileSuccess=!1,this.indexGarantieMrp=0,this.indexSousGarantieMrp=0,this.displayedColumns=["select","garantie","plafond","franchise","formule","action","sousGarantie"],this.originalDisplayedColumns=["select","garantie","plafond","franchise","formule","action","sousGarantie"],this.displayedColumnsListOfList=["idList","description","action"],this.displayedColumnsRisque=[],this.innerColumnsRisque=[],this.marques=[],this.modeles=[],this.produitInfo={},this.dataSource=new w.by,this.dataSourceSousGarantie=new w.by,this.dataSourceListOfListes=new w.by,this.selection=new Q.Ov(!0,[]),this.tarifReady=!1,this.errorPackForm=!1,this.sousGarantieExist=!1,this.PrimeTotale=0,this.formules=[],this.plafondSlected=[],this.franchises=[],this.idProduit=0,this.loaderControles=!1,this.idDevisWorkFlow=45,this.valeurVenale=0,this.risqueIndex=0,this.risqueIndexBody=0,this.idPack=0,this.paraRisqueProduit=[],this.devis={},this.devisGroupe=[],this.paramList=[],this.paramElement={},this.garantieSelected=[],this.garantieSelectedIds=[],this.sousGarantieSelectedIds=[],this.garantieTab=[],this.sousGarantieTab=[],this.garantieAll=[],this.conventions=[],this.communes=[],this.ines=!0,this.communes_sous=[],this.communes_assure=[],this.filterReduction=O.P,this.controleDevis=[],this.reductions=[],this.successDevis=!1,this.saveDevis=!0,this.loaderTarif=!1,this.loaderDevis=!1,this.tauxExiste=!1,this.franchiseExist=!1,this.plafondExist=!1,this.formuleExist=!1,this.multiRisque=!1,this.risqueArrayReady=!1,this.maxContenue=1e7,this.multiRisqueArray=[],this.risqueConsult={},this.calculCapitaleMRP=5e4,this.DisplayedColumnsSousGarantie=["select","garantie","plafond","franchise","formule","action","more"],this.displayedColumnsListParamRisque=[],this.listParamRisque=[],this.dataSourceListParamRisque=[],this.paramRisqueList=[],this.garantiesNew=[],this.paraRisqueType=[],this.idsListParams=[],this.codesListParams=[],this.idPays=0,this.errorTarif={error:!1,msg:""},this.displayedColumnsGarantie=["garantie","plafond","formule","franchise","prime"],this.dataSourceRisque=new w.by,this.displayedColumnsGroupePack=["groupe","pack"],this.dataReturned=xe.q2,this.resumeTable=[],this.returnedTarif=[],this.listExemple=[{id:1,value:"exemple 1 "},{id:2,value:"exemple 2 "},{id:3,value:"exemple 3 "}],this.defaultConvention="aucuneConvention",this.typesContact=["fixe","mobile"],this.wilayas=[],this.durees=[],this.idSousProduits=new o.NI,this.IDSOUSPROD=null,this.typeClients=[],this.agences=[],this.warningMessage=[],this.packs=[],this.labelNom="Nom",this.errorHandler={error:!1,msg:""},this.autditUser="",this.paraRisqueProduitCategory=[],this.multirisqueParam=[],this.nmbVehicule=new o.NI,this.nbrPages=new o.NI,this.risqueStep=0,this.isListParam=!1,this.withFile=!1,this.garantieNull=!1,this.isBOUser=!1,this.isCourtier=sessionStorage.getItem("roles")?.includes("COURTIER"),this.isBEA=sessionStorage.getItem("roles")?.includes("CDC_BEA"),this.agencePersonne=parseInt(sessionStorage.getItem("agence")||"0"),this.tkn=JSON.parse(sessionStorage.getItem("access_token")||"")?.access_token}ngOnInit(){this.devis.list=[],null!==this.codeProduit&&(this.codeProduit=this.route.snapshot.paramMap.get("codeProduit"),this.produit=this.route.snapshot.paramMap.get("produit")),this.devis.groupes=[],this.autditUser=sessionStorage.getItem("userId"),this.autditUser=this.autditUser?.replace(/^"(.+)"$/,"$1"),this.dataSource.data=[],this.getProductId(),this.getIdPays("DZA"),this.getParamRisque(),this.getAllParamRisque(),this.getDureeByProduit(),this.getTypeClient(),this.getAllAgences(),this.getAllConventions(),this.getAllReductions();let b=[],te={},_e={},ye={},Ke={};this.dataReturned.paramDevisList.map(ft=>{ft.categorieList.map(St=>{"forumule"==St.description?te={idCategorie:St.idCategorie,description:St.description,valeur:St.valeur,sousCategorieList:{idSousCategorie:St.sousCategorieList.idSousCategorie,description:St.sousCategorieList.description,valeur:St.sousCategorieList.valeur}}:"plafond"==St.description?ye={idCategorie:St.idCategorie,description:St.description,valeur:St.valeur,sousCategorieList:{idSousCategorie:St.sousCategorieList.idSousCategorie,description:St.sousCategorieList.description,valeur:St.sousCategorieList.valeur}}:"franchise"==St.description?_e={idCategorie:St.idCategorie,description:St.description,valeur:St.valeur,sousCategorieList:{idSousCategorie:St.sousCategorieList.idSousCategorie,description:St.sousCategorieList.description,valeur:St.sousCategorieList.valeur}}:"taux"==St.description&&(Ke={idCategorie:St.idCategorie,description:St.description,valeur:St.valeur,sousCategorieList:{idSousCategorie:St.sousCategorieList.idSousCategorie,description:St.sousCategorieList.description,valeur:St.sousCategorieList.valeur}})}),b.push({idGarantie:ft.idGarantie,description:ft.description,prime:ft.prime,plafond:ye,formule:te,franchise:_e,taux:Ke}),te={},_e={},ye={},Ke={}}),this.dataSourceGarantie=new w.by(b),this.formInfosAssure=this.formBuilder.group("97"!=this.codeProduit?{typeClient:["",[o.kI.required]],typeContact:["",[o.kI.required]],nom:["","personne physique"!=this.typeClient?[o.kI.required,o.kI.maxLength(50)]:[o.kI.required,o.kI.maxLength(50),o.kI.pattern(e.e.nom)]],prenom:["",[o.kI.required,o.kI.maxLength(50),o.kI.pattern(e.e.nom)]],dateNaissance:["",[o.kI.required,Iu,cc]],tel:["",[o.kI.required,o.kI.pattern(e.e.mobile)]],email:["",[o.kI.pattern(e.e.email)]],duree:["",[o.kI.required]],agence:[this.isCourtier||this.isBEA?this.agencePersonne:"",[o.kI.required]]}:{typeClient:["",[o.kI.required]],typeContact:["",[o.kI.required]],nom:["","personne physique"!=this.typeClient?[o.kI.required,o.kI.maxLength(50)]:[o.kI.required,o.kI.maxLength(50),o.kI.pattern(e.e.nom)]],prenom:["",[o.kI.required,o.kI.maxLength(50),o.kI.pattern(e.e.nom)]],dateNaissance:["",[o.kI.required,Iu,cc]],tel:["",[o.kI.required,o.kI.pattern(e.e.mobile)]],email:["",[o.kI.pattern(e.e.email)]],duree:["",[o.kI.required]],agence:[this.isCourtier||this.isBEA?this.agencePersonne:"",[o.kI.required]],idSousProduits:[null,o.kI.required]}),this.formInfosAssure.valueChanges.subscribe(()=>{this.tarifReady=!1}),this.formListParamRisque=this.formBuilder.group({}),this.formParamRisque=this.formBuilder.group({}),this.formParamRisque.valueChanges.subscribe(()=>{this.tarifReady=!1}),this.formPackGaranties=this.formBuilder.group({franchiseFormArray:this.formBuilder.array([])}),this.formReduction=this.formBuilder.group({reduction:[0],convention:[0]}),this.formReduction.get("convention").setValue("aucuneConvention"),this.formReduction.get("reduction").setValue("aucuneReduction");const Pt=sessionStorage.getItem("roles")||"";this.isBOUser=Pt.includes("BO"),"97"==this.codeProduit&&0==this.isBOUser&&this.nbrPages.setValue(2),this.isCourtier||this.isBEA?this.formInfosAssure.get("agence")?.disable():this.formInfosAssure.get("agence")?.enable()}getIdPays(b){this.genericService.getPays().subscribe({next:te=>{this.idPays=te.find(_e=>_e.codePays==b).idPays,this.getWilayas()},error:te=>{}})}getProductId(){this.codeProduit=this.route.snapshot.paramMap.get("codeProduit"),this.idProduit=JSON.parse(sessionStorage.getItem("products")||"{}").find(b=>b.codeProduit==this.codeProduit).idProduit,this.getInfoProduit()}getInfoProduit(){this.genericService.getPorduitById(this.idProduit).subscribe({next:b=>{this.produitInfo=b,this.multiRisque="Oui"==b.param_Produit_Reponses.filter(te=>"multirisque"==te.idParamProduit.libelle)[0].reponse.description,this.sousProduits=b.sousProduits},error:b=>{}})}get franchi(){return this.formPackGaranties.get("franchiseFormArray")}newFranchises(){return this.formBuilder.group({idGarantie:"",valeurFranchise:""})}addfranchi(){this.franchi.push(this.newFranchises())}getWilayas(){this.genericService.getAllWilayas(this.idPays).subscribe({next:b=>{this.wilayas=b},error:b=>{}})}getCommune(b){this.genericService.getAllCommuneByWilaya(b).subscribe({next:te=>{this.communes=te},error:te=>{}})}getDureeByProduit(){this.dureeService.getDureeByIdProduit(this.idProduit).subscribe({next:b=>{this.durees=b},error:b=>{}})}onContenatChange(){this.paraRisqueProduit.map(b=>{Object.keys(this.formParamRisque.value).map(te=>{if(te==b.formName){let _e=this.formParamRisque.get("ValeurMat\xe9rielEt\xc9quipement").value,ye=this.formParamRisque.get("ValeurDeLaMarchandise").value;if(!isNaN(ye)&&!isNaN(_e)){const Ke=Number(_e)+Number(ye);this.formParamRisque.get("ValeurContenant").setValue(Ke)}}"97"==this.codeProduit&&"P268"==this.formParamRisque.codeParam&&"CTI"==this.selectedSousProduit?this.formParamRisque.get("SMP").setValue(.5*this.Smp):"97"==this.codeProduit&&"P268"==this.formParamRisque.codeParam&&this.formParamRisque.get("SMP").setValue(this.Smp)})})}getParamRisque(){this.paramRisqueService.getParamRisqueList().subscribe(b=>{this.paramRisqueList=b})}getListParamRisque(b,te){this.paramRisqueService.getListParamRisque(b).subscribe(_e=>{this.listParamRisque=[],this.displayedColumnsListParamRisque=[],this.idsListParams=[],this.codesListParams=[],this.formListParamRisque=this.formBuilder.group({}),_e.map(ye=>{this.idListParamList=ye.idListParamRisque.idListParamRisque,this.listParamRisque.push(this.paraRisqueType.find(Ke=>Ke.idParamRisque==ye.idParamRisqueFils.idParamRisque))}),this.listParamRisque.map(ye=>{this.formListParamRisque.addControl(ye.formName,new o.NI(ye.defaultValue,0!=ye.sizeChamp&&null!=ye.sizeChamp?[o.kI.required,o.kI.minLength(ye.sizeChamp),o.kI.maxLength(ye.sizeChamp)]:[o.kI.required])),"L08"==ye.typeChamp.code&&null==ye.paramRisqueParent&&this.paramRisqueService.getTableParamParent(ye.idParamRisque).subscribe({next:Ke=>{ye.reponses="P279"==ye.codeParam?Ke.filter(Pt=>1==Pt.is_professionnel):Ke},error:Ke=>{}}),this.displayedColumnsListParamRisque.push(ye.formName),this.idsListParams.push(ye.idParamRisque),this.codesListParams.push(ye.codeParam)}),this.lengthColumnsListParamRisque=this.displayedColumnsListParamRisque.length,this.openDialogList(te)})}getTypeClient(){this.genericService.getParam(JSON.parse(sessionStorage.getItem("dictionnaire")||"{}").find(b=>"C24"==b.code).idCategorie).subscribe({next:b=>{this.typeClients=b,this.multiRisque&&(this.PMflotte=this.typeClients.find(te=>"PM"===te.code))},error:b=>{}})}getAllAgences(){this.agencesService.getAllAgence().subscribe({next:b=>{this.agences=b},error:b=>{}})}getAllPack(){if("45A"==this.route.snapshot.paramMap.get("codeProduit")){let b={dateMiseEnCirculation:Z.utc(this.dateMiseCirculation).add(1,"hour").toISOString(),duree:this.duree};this.packService.getPackByProduitParam(this.idProduit,b).subscribe({next:te=>{this.packs=[],te.map(_e=>{this.packs.push(_e)})},error:te=>{}})}else this.packService.getPackByProduit(this.idProduit).subscribe({next:b=>{this.packs=[],b.map(te=>{this.packs.push(te)})},error:b=>{}})}getPack(b){this.tarifReady=!1,this.errorHandler.error=!1,this.errorHandler.msg="",this.idPack=b,this.indexGarantieMrp=0,this.indexSousGarantieMrp=0,this.packService.getPackById(b).subscribe({next:te=>{if("96"==this.codeProduit&&i().fire(' ATTENTION la GARANTIE "Vol Objets de Valeur" EST SOUMISE A LA DEROGATION DU  BO',"","warning"),this.acctuelPack=te,!this.multiRisque||"97"==this.codeProduit){if(this.displayedColumns=["select","garantie","plafond","franchise","formule","action","sousGarantie"],this.DisplayedColumnsSousGarantie=["select","garantie","plafond","franchise","formule","action","more"],"97"==this.codeProduit&&(this.displayedColumns.push("taux"),this.DisplayedColumnsSousGarantie.push("taux")),this.franchiseExist=!1,this.plafondExist=!1,this.formuleExist=!1,this.devis.pack=b,this.garantieTab=[],this.garantieAll=te.garantie,"95"==this.route.snapshot.paramMap.get("codeProduit")&&this.formParamRisque.get("Activit\xe9Professionnelle")?.value?.is_professionnel){let _e=this.garantieAll.map(ye=>ye.codeGarantie).indexOf("G45");-1!==_e&&this.garantieAll.splice(_e,1)}else{let _e=this.garantieAll.map(ye=>ye.codeGarantie).indexOf("G53");-1!==_e&&this.garantieAll.splice(_e,1)}if(!this.formParamRisque.get("Activit\xe9Professionnelle")?.value?.is_perte_exploitation||this.formParamRisque.get("ChiffreDaffaire")?.value>5e6){let _e=this.garantieAll.map(ye=>ye.codeGarantie).indexOf("G51");-1!==_e&&this.garantieAll.splice(_e,1)}this.garantieAll.filter(_e=>{let ye=[],Ke=[],Pt=[],ft=[];_e.sousGarantieList?.filter(St=>{this.sousGarantieExist=!0;let Nt=[],Bn=[],hn=[],no=[];St.categorieList.filter(kn=>{switch(kn.description){case"plafond":"input valeur venale"==kn.descriptionvVal&&"45A"==this.route.snapshot.paramMap.get("codeProduit")&&(kn.valeur=this.valeurVenale),Nt.push(kn),this.plafondExist=!0;break;case"formule":Bn.push(kn),this.formuleExist=!0;break;case"franchise":hn.push(kn),this.franchiseExist=!0;break;case"taux":no.push(kn),this.tauxExiste=!0}}),this.sousGarantieTab.push({idSousGarantie:St.idSousGarantie,codeSousGarantie:St.codeSousGarantie,idPackComplet:St.idPackComplet,idListParamRisque:St.idListParamRisque,description:St.description,obligatoire:St.obligatoire,prime:"",plafond:Nt,formule:Bn,franchise:hn,taux:no||"",valeur:St.valeurGarantie})}),_e.categorieList.filter(St=>{switch(St.description){case"plafond":"input valeur venale"==St.descriptionvVal&&"45A"==this.route.snapshot.paramMap.get("codeProduit")&&(St.valeur=this.valeurVenale),ye.push(St),this.plafondExist=!0;break;case"formule":Ke.push(St),this.formuleExist=!0;break;case"franchise":Pt.push(St),this.franchiseExist=!0;break;case"taux":ft.push(St),this.tauxExiste=!0}}),this.garantieTab.push({idGarantie:_e.idGarantie,idPackComplet:_e.idPackComplet,codeGarantie:_e.codeGarantie,idListParamRisque:_e.idListParamRisque,description:_e.description,obligatoire:_e.obligatoire,prime:"",plafond:ye,formule:Ke,franchise:Pt,taux:ft||"",sousGarantieList:new w.by(this.sousGarantieTab)}),this.sousGarantieTab=[]}),!this.franchiseExist&&-1!==this.displayedColumns.indexOf("franchise")&&(this.displayedColumns.splice(this.displayedColumns.indexOf("franchise"),1),this.DisplayedColumnsSousGarantie.splice(this.DisplayedColumnsSousGarantie.indexOf("franchise"),1)),!this.plafondExist&&-1!==this.displayedColumns.indexOf("plafond")&&(this.displayedColumns.splice(this.displayedColumns.indexOf("plafond"),1),this.DisplayedColumnsSousGarantie.splice(this.DisplayedColumnsSousGarantie.indexOf("plafond"),1)),!this.formuleExist&&-1!==this.displayedColumns.indexOf("formule")&&(this.displayedColumns.splice(this.displayedColumns.indexOf("formule"),1),this.DisplayedColumnsSousGarantie.splice(this.DisplayedColumnsSousGarantie.indexOf("formule"),1)),!this.tauxExiste&&-1!==this.displayedColumns.indexOf("taux")&&(this.displayedColumns.splice(this.displayedColumns.indexOf("taux"),1),this.DisplayedColumnsSousGarantie.splice(this.DisplayedColumnsSousGarantie.indexOf("taux"),1)),this.sousGarantieExist||(this.displayedColumns.splice(this.displayedColumns.indexOf("sousGarantie"),1),this.DisplayedColumnsSousGarantie.splice(this.DisplayedColumnsSousGarantie.indexOf("sousGarantie"),1)),this.garantieTab.sort(function(_e,ye){}),this.garantieTab.sort((_e,ye)=>Number(ye.obligatoire)-Number(_e.obligatoire)),this.dataSource=new w.by(this.garantieTab),"CTH"!=this.selectedSousProduit&&(this.devis.groupes[0]?.groupeList[0]?.risque?.paramList?.find(Pt=>248==Pt.idParam),this.devis.groupes[0]?.groupeList[0]?.risque?.paramList?.find(Pt=>247==Pt.idParam)),this.Smp=this.devis.groupes?.[0]?.groupeList?.[0]?.risque?.paramList?.find(_e=>245==_e.idParam)?.reponse?.description,this.formPackGaranties=new o.Oe(this.dataSource.data.map(_e=>new o.cw({idPackComplet:new o.NI(_e.idPackComplet),franchise:new o.NI,idfranchise:new o.NI({value:_e.franchise,disabled:"input"!=_e.franchise.descriptionvVal}),plafond:new o.NI,idplafond:new o.NI({value:_e.plafond,disabled:!0}),formule:new o.NI,idformule:new o.NI({value:_e.formule,disabled:!0}),taux:new o.NI({value:"",disabled:!1}),idtaux:new o.NI({value:_e.taux,disabled:!1}),checked:new o.NI({value:!0,disabled:_e.obligatoire}),souGarantieArray:new o.Oe(_e.sousGarantieList.data.map(ye=>new o.cw({idPackComplet:new o.NI(ye.idPackComplet),franchise:new o.NI,idfranchise:new o.NI({value:ye.franchise,disabled:"input"!=ye.franchise.descriptionvVal}),plafond:new o.NI,idplafond:new o.NI({value:ye.plafond,disabled:!0}),formule:new o.NI,idformule:new o.NI({value:ye.formule,disabled:!0}),taux:new o.NI(ye.taux||""),idtaux:new o.NI({value:ye.taux,disabled:!0}),idSousProduits:new o.NI,checked:new o.NI({value:!0,disabled:ye.obligatoire}),valeur:new o.NI("95"==this.codeProduit&&null!=ye.valeurGarantie?ye.valeurGarantie:"")})))}))),this.formPackGaranties.valueChanges.subscribe(()=>{this.errorPackForm=!1}),this.loadTable=!0,this.objectDevis(!0)}},error:te=>{}})}getPackMulti(b,te){this.packService.getPackById(b).subscribe({next:_e=>{this.idPackComplet=_e.idPackComplet,this.garantiesNew=_e.garantie,this.groupesPacks.push({group:te,pack:_e}),this.garantieNull=!1},error:_e=>{}})}getControl(b,te){return this.actualControlGarantie=b,this.formPackGaranties.at(b).get(te)}getSousGarantieControl(b,te){return this.formPackGaranties.at(this.actualControlGarantie).get("souGarantieArray").at(b).get(te)}changeTypeClient(b){this.typeClient=b.description,"personne morale"==this.typeClient?(this.formInfosAssure.get("prenom")?.setValidators([]),this.formInfosAssure.get("dateNaissance")?.setValidators([]),this.formInfosAssure.get("email")?.setValidators([o.kI.required,o.kI.pattern(e.e.email)]),this.labelNom="Raison Social"):(this.labelNom="Nom",this.formInfosAssure.get("prenom")?.setValidators([o.kI.required,o.kI.pattern(e.e.nom)]),this.formInfosAssure.get("email")?.setValidators([o.kI.pattern(e.e.email)]),this.formInfosAssure.get("dateNaissance")?.setValidators([o.kI.required,Iu,cc])),this.formInfosAssure.get("prenom").updateValueAndValidity(),this.formInfosAssure.get("dateNaissance").updateValueAndValidity(),this.formInfosAssure.get("email").updateValueAndValidity()}goBack(){this.myStepper.previous()}isAllSelected(){return this.selection.selected.length===this.dataSource.data.length}diselectAll(){this.selection.clear(),this.dataSource.data.forEach(b=>{this.formPackGaranties.controls.map(te=>{b.obligatoire||te.value.idPackComplet==b.idPackComplet&&(te.controls.checked.value=!1)})})}masterToggle(){this.isAllSelected()?this.diselectAll():this.dataSource.data.forEach(b=>{this.formPackGaranties.controls.map(te=>{te.value.idPackComplet==b.idPackComplet&&(te.controls.checked.value=!0)}),this.selection.select(b)})}checkGarantie(b,te){this.tarifReady=!1,this.selection.toggle(b),te.checked&&"G50"==b.codeGarantie&&this.getListParamRisque(b.sousGarantieList.data.find(_e=>"SG91"==_e.codeSousGarantie).idListParamRisque,b.sousGarantieList.data.find(_e=>"SG91"==_e.codeSousGarantie).idSousGarantie)}getAllParamRisque(){let b=!1,te=[],_e=[];this.paramRisqueService.getParamByProduit(this.idProduit).subscribe({next:Ke=>{_e=Ke,this.paramRisqueService.getWorkFlowByProduit(this.idProduit,this.idDevisWorkFlow).subscribe({next:Pt=>{Ke.map(ft=>{let St={},Nt=null,Bn=null;if(Pt.filter(hn=>{ft.paramRisque.idParamRisque==hn.paramRisque.idParamRisque&&(b=!0,Nt=hn.enabled,Bn=hn.obligatoire)}),this.paraRisqueType.push(St),St.sousProduit=ft.sousProduit,St.idParamRisque=ft.paramRisque.idParamRisque,St.libelle=ft.paramRisque.libelle,St.formName=ft.paramRisque.libelle.split(" ").map(hn=>hn.charAt(0).toUpperCase()+hn.substring(1)).join("").replace(/[\xb0']/g,""),St.orderChamp=ft.paramRisque.orderChamp,St.position=ft.paramRisque.position,St.typeChamp=ft.paramRisque.typeChamp,St.sizeChamp=ft.paramRisque.sizeChamp,St.codeParam=ft.paramRisque.codeParam,St.reponses=ft.paramRisque.categorie?.paramDictionnaires,St.typeValeur=ft.iddictionnaire,St.defaultValue=ft.valeur,St.obligatoire=Bn,St.enable=Nt,St.category=ft.paramRisque.categorieParamRisque?.description,St.parent=ft.paramRisque.paramRisqueParent,St.isParent=ft.paramRisque.isParent,"valeur minimum"==ft?.iddictionnaire?.description&&(St.valeurMin=ft.valeur),"valeur maximum"==ft?.iddictionnaire?.description&&(St.valeurMax=ft.valeur),null==this.paraRisqueProduit.find(hn=>ft.paramRisque.idParamRisque===hn.idParamRisque)&&b)"P25"==St.codeParam&&this.getMarque(),this.formParamRisque.addControl(St.formName,0!=St.sizeChamp&&null!=St.sizeChamp?new o.NI(St.defaultValue,[o.kI.required,o.kI.minLength(St.sizeChamp),o.kI.maxLength(St.sizeChamp)]):St.obligatoire?new o.NI(St.defaultValue,[o.kI.required]):new o.NI(St.defaultValue)),this.paraRisqueProduit.push(St),this.multiRisque&&"97"!=this.codeProduit?(this.innerColumnsRisque.push({formName:St.formName,libelle:St.libelle}),this.displayedColumnsRisque=["risqueNum","NDImmatriculation","groupe","action"]):this.displayedColumnsRisque="97"==this.codeProduit&&"CTI"==this.selectedSousProduit?["risqueNum","site","groupe","action"]:["risqueNum","action"],"L08"==ft.paramRisque.typeChamp.code&&null==ft.paramRisque.paramRisqueParent&&this.paramRisqueService.getTableParamParent(St.idParamRisque).subscribe({next:hn=>{St.reponses=hn},error:hn=>{}});else if(b){const hn=this.formParamRisque.get(St.formName);hn?"valeur minimum"==ft?.iddictionnaire?.description?(hn.addValidators([o.kI.min(St.valeurMin)]),hn.updateValueAndValidity()):"valeur maximum"==ft?.iddictionnaire?.description&&(hn.addValidators([o.kI.max(St.valeurMax)]),hn.updateValueAndValidity()):console.error(`Contr\xf4le de formulaire ${St.formName} non trouv\xe9`)}b=!1,te=[]}),this.multiRisque&&(this.formParamRisque.addControl("groupe",new o.NI("",[o.kI.required])),this.formParamRisque.addControl("newGroupe",new o.NI("",[]))),this.paraRisqueProduitCategory=this.paraRisqueProduit.reduce((ft,St)=>((ft[St.category]=ft[St.category]||[]).push(St),ft),{}),this.paraRisqueProduitCategory=Object.values(this.paraRisqueProduitCategory),this.paraRisqueProduitCategory.map(ft=>{ft.sort((St,Nt)=>St.orderChamp<Nt.orderChamp?-1:1)}),this.risqueArrayReady=!0},error:Pt=>{}})},error:Ke=>{}})}submitInfosAssure(){if(this.formInfosAssure.valid)this.myStepper.next(),this.duree=this.formInfosAssure.get("duree").value,this.devis.typeClient=this.formInfosAssure.get("typeClient").value.idParam,this.devis.produit=this.idProduit,"personne physique"!=this.typeClient?(this.devis.raisonSocial=this.formInfosAssure.get("nom").value,this.devis.prenom="",this.devis.nom="",this.devis.dateAssure=""):(this.devis.prenom=this.formInfosAssure.get("prenom").value,this.devis.nom=this.formInfosAssure.get("nom").value,this.devis.dateAssure=Z.utc(this.formInfosAssure.get("dateNaissance").value).add(1,"hour").toISOString(),this.devis.raisonSocial=""),this.devis.telephone=this.formInfosAssure.get("tel").value,this.devis.email=this.formInfosAssure.get("email").value,this.devis.duree=this.formInfosAssure.get("duree").value,this.devis.agence=this.formInfosAssure.get("agence").value,"97"==this.codeProduit&&(this.devis.sousProduit=this.IDSOUSPROD);else{const te=[],_e=this.formInfosAssure.controls;for(const ye in _e)_e[ye].invalid&&te.push(ye)}const b=sessionStorage.getItem("roles")||"";this.isBOUser=b.includes("BO"),"97"==this.codeProduit&&"CTI"==this.selectedSousProduit&&!this.isBOUser&&(this.devis.tailleRisque=1)}getAllConventions(){this.conventionService.getAllConventions().subscribe({next:b=>{this.conventions=b},error:b=>{}})}getAllReductions(){this.filterReduction.typeReduction=262,this.filterReduction.produit=this.idProduit,this.reductionService.reductionFiltre(this.filterReduction).subscribe({next:b=>{this.reductions=b},error:b=>{}})}getReductionByConvention(b){"aucuneConvention"!=b?(this.formReduction.get("reduction").setValidators([o.kI.required]),this.reductionService.getReductionByConvention(b).subscribe({next:te=>{0!=te.length?(this.reductions=te.filter(_e=>_e.produit==JSON.parse(sessionStorage.getItem("products")||"{}").find(ye=>ye.codeProduit==this.route.snapshot.paramMap.get("codeProduit")).description),this.errorHandler.error=!1,this.errorHandler.msg=""):(this.errorHandler.error=!0,this.errorHandler.msg="cette convention n'a aucune r\xc3\xa9duction.")},error:te=>{}})):(this.errorHandler.error=!1,this.errorHandler.msg="",this.formReduction.get("reduction").setValidators([]),this.getAllReductions())}submitReduction(){var b=this;return(0,Le.Z)(function*(){if(b.formReduction.valid&&"aucuneConvention"!=b.formReduction.get("convention").value){if("aucuneReduction"!=b.formReduction.get("reduction").value){b.basicTarif.idConvention=b.formReduction.get("convention").value,b.basicTarif.idReduction=b.formReduction.get("reduction").value,b.basicTarif.nbrPages=b.nbrPages.value,b.basicTarif.auditUser=b.autditUser,b.basicTarif.canal=100;const te=yield b.cryptoService.generateHmac(b.tkn,b.basicTarif),ye={stringJson:JSON.stringify(b.basicTarif),signature:te};b.reductionService.applyReduction(ye).subscribe({next:Ke=>{b.returnedTarif=Ke,b.errorHandler.error=!1,b.errorHandler.msg="",b.myStepper.next()},error:Ke=>{b.handleError(Ke)}})}}else if("aucuneConvention"==b.formReduction.get("convention").value&&b.formReduction.valid)if("aucuneReduction"==b.formReduction.get("reduction").value)b.myStepper.next(),b.errorHandler.error=!1,b.errorHandler.msg="",b.basicTarif.idConvention=0,b.basicTarif.idReduction=0,b.basicTarif.nbrPages=b.nbrPages.value;else{b.basicTarif.idConvention=b.formReduction.get("convention").value,b.basicTarif.idReduction=b.formReduction.get("reduction").value,b.basicTarif.auditUser=b.autditUser,b.basicTarif.canal=100;const te=yield b.cryptoService.generateHmac(b.tkn,b.basicTarif),ye={stringJson:JSON.stringify(b.basicTarif),signature:te};b.reductionService.applyReduction(ye).subscribe({next:Ke=>{b.returnedTarif=Ke,b.errorHandler.error=!1,b.errorHandler.msg="",b.myStepper.next()},error:Ke=>{b.handleError(Ke)}})}})()}changeTypeContact(b){"fixe"==b?this.formInfosAssure.get("tel").setValidators([o.kI.pattern(e.e.fixe),o.kI.required]):this.formInfosAssure.get("tel").setValidators([o.kI.pattern(e.e.mobile),o.kI.required]),this.formInfosAssure.get("tel").updateValueAndValidity()}clearValidators(b){this.paraRisqueProduit.map(te=>{b==te.formName&&(this.formParamRisque.controls[te.formName].setValidators(te.obligatoire?[o.kI.required]:[]),this.formParamRisque.controls[te.formName].updateValueAndValidity())})}getMarque(){this.vehiculeService.getAllMarque().subscribe({next:b=>{this.marques=b},error:b=>{}})}getModeleByMarque(b){this.vehiculeService.getModelByMarque(b.idParam).subscribe({next:te=>{this.modeles=te},error:te=>{}})}submitParamRisque(b){this.formParamRisque.get("SMP"),"97"==this.codeProduit&&this.taillersq>=1&&("CTH"==this.selectedSousProduit||"CTI"==this.selectedSousProduit&&0==this.isBOUser)?i().fire("Vous n\u2019avez pas le privil\xe8ge pour faire ce devis  la taille du risque depasse 1","","error").then(()=>{this.myStepper.previous(),this.formParamRisque.disable()}):this.loaderControles=!0,this.controleDevis=[],this.warningMessage=[];const ye=this.formParamRisque.controls;for(const Ke in ye)"INVALID"==ye[Ke].status&&ye[Ke].errors.bloquant&&this.clearValidators(Ke);if(this.multiRisqueArray.length==this.nmbVehicule.value&&this.multiRisque&&"97"==this.codeProduit)i().fire("le nombre de risque a atteint le nombre de risques indiqu\xe9","error");else if(this.formParamRisque.valid){let Ke;if("45F"==this.codeProduit||"45L"==this.codeProduit){let Pt=this.paraRisqueProduit.filter(St=>"P30"==St.codeParam)[0].formName,ft=this.paraRisqueProduit.filter(St=>"P38"==St.codeParam)[0].formName;Ke=this.checkDoublons(this.formParamRisque.get(Pt).value,this.formParamRisque.get(ft).value)}if(("45F"!=this.codeProduit&&"45L"!=this.codeProduit||Ke)&&"45F"==this.codeProduit){if("45F"==this.codeProduit&&Ke){let Pt="";switch(Ke){case"P30":Pt="Num\xe9ro de Ch\xe2ssis doit etre unique.";break;case"P38":Pt="Le N\xb0 d'Immatriculation doit etre unique.";break;case"both":Pt="Le N\xb0 d'Immatriculation ainsi que le num\xe9ro de Ch\xe2ssis doivent etre uniques."}i().fire(Pt,"","error")}}else{"45A"==this.route.snapshot.paramMap.get("codeProduit")&&(this.valeurVenale=this.formParamRisque.get("ValeurV\xe9nal").value,this.dateMiseCirculation=Z.utc(this.formParamRisque.get("DateDeMiseEnCirculation").value).add(1,"hour").toISOString()),0!=this.idPack&&(this.dataSourceListParamRisque=[],this.devis.list=[],this.dataSourceListOfListes.data=[],this.getPack(this.idPack));let Nt,Bn=null,hn={paramList:[]},no=[];if(this.paraRisqueProduit.forEach(kn=>{Object.keys(this.formParamRisque.value).forEach(Gi=>{if(Gi==kn.formName){let vo=kn.idParamRisque,Jo=kn.codeParam,Ii=null,ci="";"Liste of values"==kn.typeChamp?.description||"Boolean"==kn.typeChamp?.description?(Ii=this.formParamRisque.get(Gi).value.idParam,ci="",Bn={idParam:vo,codeParam:Jo,valeur:Ii},Object.assign(this.risqueConsult,{[kn.libelle]:this.formParamRisque.get(Gi).value.description})):(Ii=null,"From Table"==kn.typeChamp?.description?(ci=this.formParamRisque.get(Gi).value.id,Object.assign(this.risqueConsult,{[kn.libelle]:this.formParamRisque.get(Gi).value.description})):"date"!=kn.typeChamp?.description?34==kn.idParamRisque?ci=String(Number(this.formParamRisque.get(Gi).value)):"Marque"==Gi||"Mod\xe8le"==Gi?(Ii=this.formParamRisque.get(Gi).value.idParam,ci="",Object.assign(this.risqueConsult,"Marque"==Gi?{[kn.libelle]:this.formParamRisque.get(Gi).value.marque}:{[kn.libelle]:this.formParamRisque.get(Gi).value.modele})):(ci=this.formParamRisque.get(Gi).value,Object.assign(this.risqueConsult,{[kn.libelle]:ci})):(ci=Z.utc(this.formParamRisque.get(Gi).value).add(1,"hour").toISOString(),Object.assign(this.risqueConsult,{[kn.libelle]:ci})),Bn={idParam:vo,codeParam:Jo,valeur:""+ci}),Nt={idParam:vo,codeParam:Jo,reponse:{idReponse:Ii,description:ci}},Nt&&hn.paramList.push(Nt),Bn&&this.controleDevis.push(Bn)}})}),this.risqueIndexBody=this.risqueIndexBody+1,no.push({numRisque:this.risqueIndexBody,risque:hn}),this.multiRisque){if("new"==this.formParamRisque.get("groupe").value){this.formParamRisque.get("groupe").setValue(this.formParamRisque.get("newGroupe").value),this.groupArray.push(this.formParamRisque.get("newGroupe").value);let Gi=1==this.groupArray.length?[]:this.dataSourceGroupePack.data;Gi.push({group:this.formParamRisque.get("newGroupe").value,pack:this.packs[0]}),this.dataSourceGroupePack=new w.by(Gi)}let kn=!1;this.devisGroupe.forEach(Gi=>{Gi.description==this.formParamRisque.get("groupe").value&&(kn=!0)}),kn?this.devisGroupe.filter(Gi=>Gi.description==this.formParamRisque.get("groupe").value)[0]?.groupeList.push({risque:hn}):this.devisGroupe.push({description:this.formParamRisque.get("groupe").value,idPack:this.idPack,groupeList:no})}else this.devisGroupe=[{description:"mono",groupeList:no}];this.devisService.controleDevis([this.controleDevis],this.codeProduit).subscribe({next:kn=>{this.loaderControles=!1,kn[0].forEach(Gi=>{this.paraRisqueProduit.forEach(vo=>{vo.idParamRisque==Gi.idParam&&(Gi.bloquant?(this.formParamRisque.controls[vo.formName].addValidators([hl(Gi.bloquant,Gi.message)]),this.formParamRisque.controls[vo.formName].updateValueAndValidity()):null!=Gi.message?(this.warningMessage.push({idParam:vo.idParamRisque,msg:Gi.message}),("P40"==vo.codeParam||"P116"==vo.codeParam)&&(this.devis.statue=1)):("P40"==vo.codeParam||"P116"==vo.codeParam)&&(this.devis.statue=0))})}),0!=this.warningMessage.length&&i().fire(this.warningMessage[0].msg,"","warning"),0==kn[0].filter(Gi=>!0===Gi.bloquant).length&&(this.devis.groupes=this.devisGroupe,this.multiRisque?Nt?this.multiRisqueTab(Nt,b):console.error("paramElement est null ou ind\xe9fini"):this.myStepper.next(),this.getAllPack())},error:kn=>{this.handleError(kn)}})}}}removeDuplicateParams(b){const te=new Map;for(const _e of b)te.set(_e.idParam,_e);return Array.from(te.values())}checkDoublons(b,te){const _e=this.devis.groupes.some(Ke=>Ke.groupeList.some(Pt=>Pt.risque.paramList.some(ft=>ft.reponse.description===b))),ye=this.devis.groupes.some(Ke=>Ke.groupeList.some(Pt=>Pt.risque.paramList.some(ft=>ft.reponse.description===te)));return ye&&_e?"both":ye?"P38":!!_e&&"P30"}multiNext(){0!=this.multiRisqueArray.length&&(this.myStepper.next(),this.getAllPack())}multiRisqueTab(b,te){let _e=this.formParamRisque.value;if(Object.keys(this.formParamRisque.value).map(ye=>{_e[ye]="object"==typeof this.formParamRisque.controls[ye].value?"Marque"==ye?this.formParamRisque.controls[ye].value?.marque:"Mod\xe8le"==ye?this.formParamRisque.controls[ye].value?.modele:this.formParamRisque.controls[ye].value?.description:this.formParamRisque.controls[ye].value}),Object.assign(_e,{risqueNum:this.risqueIndex=this.risqueIndex+1}),this.taillersq>=1&&"97"==this.codeProduit&&("CTH"==this.selectedSousProduit||"CTI"==this.selectedSousProduit&&0==this.isBOUser)||this.multiRisqueArray.push(_e),this.dataSourceRisque=new w.by(this.multiRisqueArray),"97"==this.codeProduit){const Ke={};["SMP","Activit\xe9Est-elleEnregistr\xe9eAuCNRC?","Activit\xe9Exerc\xe9eDevrait-elle\xcatreEnregistr\xe9eAuCNRC"].forEach(Pt=>{Ke[Pt]=this.formParamRisque.get(Pt)?.value}),this.formParamRisque.reset(),this.formParamRisque.get("ZoneSismique").setValidators([]),this.formParamRisque.get("ZoneSismique").updateValueAndValidity(),this.formParamRisque.get("Longitude").setValidators([]),this.formParamRisque.get("Longitude").updateValueAndValidity(),this.formParamRisque.get("Latitude").setValidators([]),this.formParamRisque.get("Latitude").updateValueAndValidity(),this.formParamRisque.patchValue(Ke),this.taillersq=this.dataSourceRisque.data.length}else te.resetForm();this.paraRisqueProduit.map(ye=>{0!=ye.sizeChamp&&null!=ye.sizeChamp?this.formParamRisque.get(ye.formName).setValidators([o.kI.required,o.kI.minLength(ye.sizeChamp),o.kI.maxLength(ye.sizeChamp)]):ye.obligatoire?this.formParamRisque.get(ye.formName).setValidators([o.kI.required]):this.formParamRisque.get(ye.formName).setValidators([])})}getRelation(b,te,_e,ye,Ke,Pt){if("97"==this.codeProduit&&"P262"==Pt&&"CTH"!=this.devis.idSousProduit&&(this.devis.groupes[0]?.groupeList?.map(ft=>{ft.risque.paramList.find(St=>St.idParam==_e).reponse.idParam=this.formParamRisque.get(Ke).value.idParam}),this.dataSourceRisque.data.map(ft=>ft["Activit\xe9Est-elleEnregistr\xe9eAuCNRC?"]=this.formParamRisque.get(Ke).value.description)),"97"==this.codeProduit&&"P264"==Pt){const ft=this.formParamRisque.get(Ke).value.zone_sis;this.zone_sis=ft,this.formParamRisque.get("ZoneSismique")?.setValue(this.zone_sis);const St=this.formParamRisque.get(Ke).value.latitude;this.latitude=St,this.formParamRisque.get("Latitude")?.setValue(this.latitude);const Nt=this.formParamRisque.get(Ke).value.longitude;this.longitude=Nt,this.formParamRisque.get("Longitude")?.setValue(this.longitude)}if("97"==this.codeProduit&&"P261"==Pt&&(this.devis.groupes[0]?.groupeList?.map(ft=>{ft.risque.paramList.find(St=>St.idParam==_e).reponse.idParam=this.formParamRisque.get(Ke).value.idParam}),this.dataSourceRisque.data.map(ft=>ft["Activit\xe9Exerc\xe9eDevrait-elle\xcatreEnregistr\xe9eAuCNRC\t"]=this.formParamRisque.get(Ke).value.description)),1==te)if("L01"==b)this.paramRisqueService.getParamRelation(_e,ye).subscribe({next:ft=>{this.paraRisqueProduit.filter(St=>{St.idParamRisque==ft[0].idParamRisque&&(St.reponses=ft[0].categorie.paramDictionnaires,this.formParamRisque.controls[St.formName].enable())})},error:ft=>{}});else{let ft=this.paraRisqueProduit.find(St=>St.parent?.idParamRisque==_e)?.idParamRisque;ft&&this.paramRisqueService.getTableParamChild(ft,ye).subscribe({next:St=>{this.paraRisqueProduit.filter(Nt=>{Nt.idParamRisque==ft&&(Nt.reponses=St,this.formParamRisque.controls[Nt.formName].enable())})},error:St=>{}})}}objectDevis(b){this.formParamRisque.get("SMP");let _e=!1,ye=!1,Ke=[],Pt=[],ft=null;if(this.multiRisque&&"97"!=this.codeProduit)this.groupesPacks.map(St=>{St.pack.garantie.map(Nt=>{Nt.categorieList?.map(Bn=>{ft=null,null!=Nt.sousCategorieList?.length&&0!=Nt.sousCategorieList?.length&&(ft={idSousCategoriePackComplet:Bn.sousCategorieList[0].idParamSCPackComplet,valeur:Bn.sousCategorieList[0].valeur}),Pt.push({idCategoriePackComplet:Bn.idParamPackComplet,valeur:Bn.valeur,sousCategorieList:ft})}),Ke.push({idPackComplet:Nt.idPackComplet,prime:"",categorieList:Pt}),Pt=[]}),this.devisGroupe.map(Nt=>{Nt.description==St.group&&Nt.groupeList.map(Bn=>{Bn.risque.packCompletList=Ke,Bn.risque.primeList=[],Bn.risque.taxeList=[]})}),Ke=[]});else if(this.garantieAll.map(St=>{Object.values(this.formPackGaranties.controls).map(Nt=>{St.idPackComplet==Nt.value.idPackComplet&&(Nt.controls.checked.value||("96"==this.route.snapshot.paramMap.get("codeProduit")||"95"==this.route.snapshot.paramMap.get("codeProduit"))&&b)&&(_e=!0,0!=Nt.controls.idtaux.value.length?Nt.controls.idtaux.value.length>1?(ft=null,this.gestionErreurPack(Nt.value.idPackComplet,"taux",this.formPackGaranties,b),this.errorPackForm||(null!=Nt.value.taux?.sousCategorieList?.length&&0!=Nt.value.taux?.sousCategorieList?.length&&(ft={idSousCategoriePackComplet:Nt.value.taux?.sousCategorieList[0]?.idParamSCPackComplet,valeur:Nt.value.taux.valeur}),Pt.push({idCategoriePackComplet:Nt.value?.taux?.idParamPackComplet,valeur:b?null:Nt.value.taux.valeur,sousCategorieList:ft}))):null!=Nt.value.taux&&(ft=null,ft={idSousCategoriePackComplet:Nt.controls.idtaux.value[0].sousCategorieList[0]?.idParamSCPackComplet,valeur:Nt.controls.idtaux.value[0].valeur},Pt.push({idCategoriePackComplet:Nt.controls.idtaux?.value[0]?.idParamPackComplet,valeur:Nt.value.taux,sousCategorieList:ft}),null!=Nt.controls.idtaux.value[0].sousCategorieList?.length&&0!=Nt.controls.idtaux.value[0].sousCategorieList?.length&&(ft={idSousCategoriePackComplet:Nt.controls.idtaux?.value[0]?.sousCategorieList[0]?.idParamSCPackComplet,valeur:Nt.controls.idtaux.value[0].valeur}),Pt.push({idCategoriePackComplet:Nt.controls.idtaux?.value[0]?.idParamPackComplet,valeur:b?null:Nt.controls.idtaux.value[0].valeur,sousCategorieList:ft})):0!=Nt.controls.idformule.value.length&&(Nt.controls.idformule.value.length>1?(ft=null,this.gestionErreurPack(Nt.value.idPackComplet,"formule",this.formPackGaranties,b),this.errorPackForm||(null!=Nt.value.formule?.sousCategorieList?.length&&0!=Nt.value.formule?.sousCategorieList?.length&&(ft={idSousCategoriePackComplet:Nt.value.formule?.sousCategorieList[0]?.idParamSCPackComplet,valeur:Nt.value.formule.valeur}),Pt.push({idCategoriePackComplet:Nt.value?.formule?.idParamPackComplet,valeur:b?null:Nt.value.formule.valeur,sousCategorieList:ft}))):null!=Nt.value.formule?(ft=null,null!=Nt.controls.idformule.value[0].sousCategorieList?.length&&0!=Nt.controls.idformule.value[0].sousCategorieList?.length&&(ft={idSousCategoriePackComplet:Nt.controls.idformule.value[0].sousCategorieList[0]?.idParamSCPackComplet,valeur:Nt.value.formule}),Pt.push({idCategoriePackComplet:Nt.controls.idformule?.value[0]?.idParamPackComplet,valeur:b?null:Nt.value.formule,sousCategorieList:ft})):("input"==Nt.controls.idformule.value[0].descriptionvVal&&!b&&(this.errorPackForm=!0),ft=null,null!=Nt.controls.idformule.value[0].sousCategorieList?.length&&0!=Nt.controls.idformule.value[0].sousCategorieList?.length&&(ft={idSousCategoriePackComplet:Nt.controls.idformule?.value[0]?.sousCategorieList[0]?.idParamSCPackComplet,valeur:Nt.controls.idformule.value[0].valeur}),Pt.push({idCategoriePackComplet:Nt.controls.idformule?.value[0]?.idParamPackComplet,valeur:b?null:Nt.controls.idformule.value[0].valeur,sousCategorieList:ft}))),0!=Nt.controls.idfranchise.value.length&&(Nt.controls.idfranchise.value.length>1?(ft=null,null!=Nt.value.franchise?.sousCategorieList?.length&&0!=Nt.value.franchise.sousCategorieList?.length&&(ft={idSousCategoriePackComplet:Nt.value.franchise?.sousCategorieList[0]?.idParamSCPackComplet,valeur:Nt.value.franchise.valeur}),Pt.push({idCategoriePackComplet:Nt.value?.franchise?.idParamPackComplet,valeur:b?null:Nt.value.franchise?.valeur,sousCategorieList:ft})):null!=Nt.value.franchise?(ft=null,null!=Nt.controls.idfranchise.value[0].sousCategorieList?.length&&0!=Nt.controls.idfranchise.value[0].sousCategorieList?.length&&(ft={idSousCategoriePackComplet:Nt.controls.idfranchise?.value[0]?.sousCategorieList[0]?.idParamSCPackComplet,valeur:Nt.value.franchise}),Pt.push({idCategoriePackComplet:Nt.controls.idfranchise?.value[0]?.idParamPackComplet,valeur:b?null:Nt.value.franchise,sousCategorieList:ft})):("input"==Nt.controls.idfranchise.value[0].descriptionvVal&&!b&&(this.errorPackForm=!0),ft=null,null!=Nt.controls.idfranchise.value[0].sousCategorieList?.length&&0!=Nt.controls.idfranchise.value[0].sousCategorieList?.length&&(ft={idSousCategoriePackComplet:Nt.controls.idfranchise?.value[0]?.sousCategorieList[0]?.idParamSCPackComplet,valeur:Nt.controls.idfranchise.value[0].valeur}),Pt.push({idCategoriePackComplet:Nt.controls.idfranchise?.value[0]?.idParamPackComplet,valeur:b?null:Nt.controls.idfranchise.value[0].valeur,sousCategorieList:ft}))),0!=Nt.controls.idplafond.value.length&&(Nt.controls.idplafond.value.length>1?(ft=null,null!=Nt.value.plafond?.sousCategorieList?.length&&0!=Nt.value.plafond?.sousCategorieList?.length&&(ft={idSousCategoriePackComplet:Nt.value.plafond?.sousCategorieList[0]?.idParamSCPackComplet,valeur:Nt.value?.plafond?.valeur}),Pt.push({idCategoriePackComplet:Nt.value?.plafond?.idParamPackComplet,valeur:b?null:Nt.value.plafond.valeur,sousCategorieList:ft})):null!=Nt.value.plafond?(ft=null,null!=Nt.controls.idplafond.value[0].sousCategorieList?.length&&0!=Nt.controls.idplafond.value[0].sousCategorieList?.length&&(ft={idSousCategoriePackComplet:Nt.controls.idplafond?.value[0]?.sousCategorieList[0]?.idParamSCPackComplet,valeur:Nt.value.plafond}),Pt.push({idCategoriePackComplet:Nt.controls.idplafond?.value[0]?.idParamPackComplet,valeur:b?null:Nt.value.plafond,sousCategorieList:ft})):("input"==Nt.controls.idplafond.value[0].descriptionvVal&&!b&&(this.errorPackForm=!0),ft=null,null!=Nt.controls.idplafond.value[0].sousCategorieList?.length&&0!=Nt.controls.idplafond.value[0].sousCategorieList?.length&&(ft={idSousCategoriePackComplet:Nt.controls.idplafond?.value[0]?.sousCategorieList[0]?.idParamSCPackComplet,valeur:Nt.controls.idplafond.value[0].valeur}),Pt.push({idCategoriePackComplet:Nt.controls.idplafond?.value[0]?.idParamPackComplet,valeur:b?null:Nt.controls.idplafond.value[0].valeur,sousCategorieList:ft}))),_e&&!this.errorPackForm&&(Ke.push({idPackComplet:St.idPackComplet,prime:"",categorieList:Pt}),Pt=[]),St.sousGarantieList.forEach(Bn=>{Nt.get("souGarantieArray").controls.forEach(hn=>{if(Bn.idPackComplet==hn.value.idPackComplet&&(hn.controls.checked.value||("96"==this.route.snapshot.paramMap.get("codeProduit")||"95"==this.route.snapshot.paramMap.get("codeProduit"))&&b)){ye=!0,0!=hn.controls.idformule.value.length&&(hn.controls.idformule.value.length>1?(ft=null,this.gestionErreurPack(hn.value.idPackComplet,"formule",Nt.get("souGarantieArray"),b),this.errorPackForm||(null!=hn.value.formule?.sousCategorieList?.length&&0!=hn.value.formule?.sousCategorieList?.length&&(ft={idSousCategoriePackComplet:hn.value?.formule?.sousCategorieList[0]?.idParamSCPackComplet,valeur:hn?.value?.formule?.valeur}),Pt.push({idCategoriePackComplet:hn.value?.formule?.idParamPackComplet,valeur:b?null:hn.value.formule.valeur,sousCategorieList:ft}))):null!=hn.value.formule?(ft=null,null!=hn.controls.idformule.value[0].sousCategorieList?.length&&0!=hn.controls.idformule.value[0].sousCategorieList?.length&&(ft={idSousCategoriePackComplet:hn.controls.idformule?.value[0]?.sousCategorieList[0]?.idParamSCPackComplet,valeur:hn.value.formule}),Pt.push({idCategoriePackComplet:hn.controls.idformule?.value[0]?.idParamPackComplet,valeur:b?null:hn.value.formule,sousCategorieList:ft})):("input"==hn.controls.idformule.value[0].descriptionvVal&&!b&&(this.errorPackForm=!0),ft=null,null!=Nt.controls.idformule.value[0].sousCategorieList?.length&&0!=hn.idformule.value[0].sousCategorieList?.length&&(hn={idSousCategoriePackComplet:hn.controls.idformule?.value[0]?.sousCategorieList[0]?.idParamSCPackComplet,valeur:b?null:hn.controls.idformule.value[0].valeur}),Pt.push({idCategoriePackComplet:hn.controls.idformule?.value[0]?.idParamPackComplet,valeur:b?null:hn.controls.idformule.value[0].valeur,sousCategorieList:ft}))),0!=hn.controls.idfranchise.value.length&&(hn.controls.idfranchise.value.length>1?(ft=null,null!=hn.value.franchise.sousCategorieList?.length&&0!=Nt.value.franchise.sousCategorieList?.length&&(ft={idSousCategoriePackComplet:hn.value.franchise.sousCategorieList[0]?.idParamSCPackComplet,valeur:hn.value.franchise.valeur}),Pt.push({idCategoriePackComplet:hn.value.franchise.idParamPackComplet,valeur:hn.value.franchise.valeur,sousCategorieList:ft})):null!=hn.value.franchise?(ft=null,null!=hn.controls.idfranchise.value[0].sousCategorieList?.length&&0!=hn.controls.idfranchise.value[0].sousCategorieList?.length&&(ft={idSousCategoriePackComplet:hn.controls.idfranchise.value[0].sousCategorieList[0]?.idParamSCPackComplet,valeur:hn.value.franchise}),Pt.push({idCategoriePackComplet:hn.controls.idfranchise.value[0].idParamPackComplet,valeur:hn.value.franchise,sousCategorieList:ft})):("input"==hn.controls.idfranchise.value[0].descriptionvVal&&!b&&(this.errorPackForm=!0),ft=null,null!=hn.controls.idfranchise.value[0].sousCategorieList?.length&&0!=hn.controls.idfranchise.value[0].sousCategorieList?.length&&(ft={idSousCategoriePackComplet:hn.controls.idfranchise.value[0].sousCategorieList[0]?.idParamSCPackComplet,valeur:hn.controls.idfranchise.value[0].valeur}),Pt.push({idCategoriePackComplet:hn.controls.idfranchise.value[0].idParamPackComplet,valeur:hn.controls.idfranchise.value[0].valeur,sousCategorieList:ft}))),0!=hn.controls.idplafond.value.length&&(hn.controls.idplafond.value.length>1?(ft=null,null!=hn.value.plafond.sousCategorieList?.length&&0!=hn.value.plafond.sousCategorieList?.length&&(ft={idSousCategoriePackComplet:hn.value.plafond.sousCategorieList[0]?.idParamSCPackComplet,valeur:hn.value.plafond.valeur}),Pt.push({idCategoriePackComplet:hn.value.plafond.idParamPackComplet,valeur:hn.value.plafond.valeur,sousCategorieList:ft})):null!=hn.value.plafond?(ft=null,null!=hn.controls.idplafond.value[0].sousCategorieList?.length&&0!=hn.controls.idplafond.value[0].sousCategorieList?.length&&(ft={idSousCategoriePackComplet:hn.controls.idplafond.value[0].sousCategorieList[0]?.idParamSCPackComplet,valeur:hn.value.plafond}),Pt.push({idCategoriePackComplet:hn.controls.idplafond.value[0].idParamPackComplet,valeur:hn.value.plafond,sousCategorieList:ft})):("input"==hn.controls.idplafond.value[0].descriptionvVal&&!b&&(this.errorPackForm=!0),ft=null,null!=hn.controls.idplafond.value[0].sousCategorieList?.length&&0!=hn.controls.idplafond.value[0].sousCategorieList?.length&&(ft={idSousCategoriePackComplet:hn.controls.idplafond.value[0].sousCategorieList[0]?.idParamSCPackComplet,valeur:hn.controls.idplafond.value[0].valeur}),Pt.push({idCategoriePackComplet:hn.controls.idplafond.value[0].idParamPackComplet,valeur:hn.controls.idplafond.value[0].valeur,sousCategorieList:ft}))),ft=null;let no=Ke.some(kn=>kn.idPackComplet===Bn.idPackComplet);ye&&!this.errorPackForm&&!no&&(Ke.push({idPackComplet:Bn.idPackComplet,prime:"",categorieList:Pt}),Pt=[])}})}))}),Pt=[],_e=!1}),!this.errorPackForm){if("97"==this.codeProduit){Ke.find(Nt=>1541==Nt.idPackComplet).categorieList?.filter(Nt=>2118==Nt.idCategoriePackComplet&&"0"==Nt.valeur);const St=Ke.find(Nt=>1541===Nt.idPackComplet);St&&"97"==this.codeProduit&&(St.categorieList=St.categorieList.filter(Nt=>{if(2118==Nt.idCategoriePackComplet)return"0"!==Nt.valeur}))}"97"==this.codeProduit?this.devisGroupe[0]?.groupeList?.map(St=>{St.risque.packCompletList=Ke}):this.devisGroupe[0].groupeList[0].risque.packCompletList=Ke,this.devisGroupe[0].groupeList[0].risque.primeList=[],this.devisGroupe[0].groupeList[0].risque.taxeList=[]}("96"==this.route.snapshot.paramMap.get("codeProduit")||"95"==this.route.snapshot.paramMap.get("codeProduit"))&&b&&(this.remplissageTarif(),"95"==this.route.snapshot.paramMap.get("codeProduit")&&this.openDialogMRP())}openDialogMRP(){this.indexSousGarantieMrp=0,this.indexGarantieMrp<this.garantieAll.length&&(this.garantieAll[this.indexGarantieMrp].list&&this.formPackGaranties.controls.find(b=>b.controls.idPackComplet.value==this.garantieAll[this.indexGarantieMrp].idPackComplet)?.controls.checked.value&&("G53"!=this.garantieAll[this.indexGarantieMrp].codeGarantie||this.formParamRisque.get("Activit\xe9Professionnelle")?.value?.is_medical)?this.getListParamRisque(this.garantieAll[this.indexGarantieMrp].idListParamRisque,this.garantieAll[this.indexGarantieMrp].idGarantie):(this.indexSousGarantieMrp=0,this.checkListSousGaranties(this.garantieAll[this.indexGarantieMrp].sousGarantieList,this.formPackGaranties.controls.find(b=>b.controls.idPackComplet.value==this.garantieAll[this.indexGarantieMrp].idPackComplet)?.controls?.souGarantieArray)))}checkListSousGaranties(b,te){this.indexSousGarantieMrp<b.length?b[this.indexSousGarantieMrp].list&&te.controls.find(_e=>_e.controls.idPackComplet.value==b[this.indexSousGarantieMrp].idPackComplet)?.controls.checked.value?this.getListParamRisque(b[this.indexSousGarantieMrp].idListParamRisque,b[this.indexSousGarantieMrp].idSousGarantie):(this.indexSousGarantieMrp++,this.checkListSousGaranties(b,te)):(this.indexGarantieMrp++,this.openDialogMRP())}remplissageTarif(){this.devisService.remplissageDevis(this.devis).subscribe({next:b=>{this.garantieTab.map(te=>{te.prime=null,b.groupes[0].groupeList[0].risque.packCompletList.map(_e=>{te.idPackComplet==_e.idPackComplet&&te.plafond.forEach(ye=>{_e.categorieList.forEach(Ke=>{ye.idParamPackComplet===Ke.idCategoriePackComplet&&(ye.valeur=Ke.valeur)})}),te.sousGarantieList.data?.map(ye=>{ye.idPackComplet==_e.idPackComplet&&ye.plafond.forEach(Ke=>{_e.categorieList.forEach(Pt=>{Ke.idParamPackComplet===Pt.idCategoriePackComplet&&(Ke.valeur=Pt.valeur)})})})})})},error:b=>{}})}submitDevis(){var b=this;return(0,Le.Z)(function*(){"97"==b.codeProduit&&(b.formReduction.get("idReduction")?.setValue(0),b.formReduction.get("idConvention")?.setValue(0),b.returnedTarif.idReduction=0),b.returnedTarif.duree=b.formInfosAssure.value.duree,b.returnedTarif.auditUser=b.autditUser,b.loaderDevis=!0;const te=yield b.cryptoService.generateHmac(b.tkn,b.returnedTarif),ye={stringJson:JSON.stringify(b.returnedTarif),signature:te};b.devisService.createDevis(ye).subscribe({next:Ke=>{b.successDevis=!0,b.returnedDevis=Ke,b.errorHandler.error=!1,b.errorHandler.msg="",b.saveDevis=!1,b.idDevis=Ke.idDevis,b.loaderDevis=!1,b.idDevis=Ke.idDevis,i().fire(`Le devis N\xb0 ${Ke.idDevis} a \xe9t\xe9 cr\xe9er avec succ\xe9s.`,"","success"),b.myStepper.next()},error:Ke=>{b.loaderDevis=!1,b.handleError(Ke)}})})()}generateCalcul(){var b=this;return(0,Le.Z)(function*(){if(("97"==b.codeProduit||"45F"==b.codeProduit)&&(b.devis.nbrPages=b.nbrPages.value),b.objectDevis(!1),0!==b.devis.tailleRisque&&b.devis.groupes.length>0)for(let _e=0;_e<b.devis.groupes?.[0].groupeList?.[0]?.risque?.packCompletList?.length;_e++){let ye=b.devis.groupes?.[0].groupeList?.[0]?.risque?.packCompletList?.[_e];for(let Ke=0;Ke<b.devis.groupes?.[0]?.groupeList?.[0]?.risque?.paramList?.length;Ke++){let Pt=b.devis.groupes?.[0]?.groupeList?.[0]?.risque?.paramList?.[Ke];b.garantiesNew.forEach(ft=>{ft.categorieList.forEach(St=>{"C7"===St.code&&ft.paramRisquePlafond&&ft.paramRisquePlafond.idParamRisque===Pt.idParam&&ye.categorieList.forEach(Nt=>{Nt.idCategoriePackComplet==St.idParamPackComplet&&(Nt.valeur=Pt.reponse.description)})})})}}const te=b.devis.list.find(_e=>1==_e.idListParamRisque);if(te&&(te.idGarantie=87),!b.errorPackForm){b.loaderTarif=!0;const _e=yield b.cryptoService.generateHmac(b.tkn,b.devis),Ke={stringJson:JSON.stringify(b.devis),signature:_e};b.devisService.generateTarif(Ke).subscribe({next:Pt=>{b.errorHandler.error=!1,b.errorHandler.msg="",b.returnedTarif=Pt,b.basicTarif=Pt,b.tarifReady=!0,b.loaderTarif=!1,b.saveDevis=!0,b.loaderDevis=!1,b.garantieNull=!1;const ft=Pt.groupes[0]?.groupeList[0]?.risque?.paramList.find(St=>"P152"==St.codeParam);b.valAss=ft?.reponse?.description,b.valAss>=5e9&&0==b.isBOUser&&(i().fire("La valeur assur\xe9e d\xe9passe 5 000 000 000 DA , vous ne pouvez pas continuer ","error"),b.goBack(),b.goBack()),b.multiRisque&&Pt.groupes.some(Nt=>Nt.groupeList.some(Bn=>Bn.risque.packCompletList.some(hn=>0===hn.prime)))&&(b.valAss>=5e9&&0==b.isBOUser?(i().fire("La valeur assur\xe9e d\xe9passe 5 000 000 000 DA , vous ne pouvez pas continuer ","error"),b.goBack(),b.goBack()):(b.garantieNull=!0,i().fire("Vous ne pouvez pas continuer. Les primes des garanties ne peuvent pas \xeatre nulles.","","error"))),b.garantieTab.forEach(St=>{let Nt=Pt.groupes[0].groupeList[0].risque.packCompletList.find(Bn=>St.idPackComplet===Bn.idPackComplet);Nt&&(0==Nt.prime?b.valAss>=5e9&&0==b.isBOUser?(i().fire("La valeur assur\xe9e d\xe9passe 5 000 000 000 DA , vous ne pouvez pas continuer ","error"),b.goBack(),b.goBack()):(b.garantieNull=!0,i().fire("Vous ne pouvez pas continuer. Les primes des garanties ne peuvent pas \xeatre nulles.","","error")):St.prime=Nt.prime),St.sousGarantieList?.data?.forEach((Bn,hn)=>{let no=Pt.groupes[0].groupeList[0].risque.packCompletList.find(kn=>Bn.idPackComplet===kn.idPackComplet);no&&(Bn.prime=no.prime,0!=no?.categorieList.length&&no?.categorieList.map(kn=>{let Gi=Bn.formule.find(ci=>ci.idParamPackComplet==kn.idCategoriePackComplet),vo=Bn.franchise.find(ci=>ci.idParamPackComplet==kn.idCategoriePackComplet),Jo=Bn.plafond.find(ci=>ci.idParamPackComplet==kn.idCategoriePackComplet),Ii=Bn.taux.find(ci=>ci.idParamPackComplet==kn.idCategoriePackComplet);Gi&&(Gi.valeur=kn.valeur),vo&&(vo.valeur=kn.valeur),Jo&&(Jo.valeur=kn.valeur),Ii&&(Ii.valeur=kn.valeur)}))})}),b.PrimeTotale=Pt.primeList.find(St=>"Prime nette"==St.description)?.prime,b.dataSource=new w.by(b.garantieTab),b.multiRisque&&!b.garantieNull&&b.myStepper.next()},error:Pt=>{b.loaderTarif=!1,b.handleError(Pt)}})}})()}goBackReduc(){this.returnedTarif=this.basicTarif,this.myStepper.previous()}buildTableBody(b,te){var _e=[];return te.includes("text1")?_e.push(["","",""]):(te.includes("prime")&&(te=te.map(ye=>{ye.text=ye,ye.style="headerTable"})),_e.push(te)),b.forEach(function(ye){const Ke=[];te.forEach(function(Pt){Ke.push(ye[Pt])}),_e.push(Ke)}),_e}table(b,te){let _e=100/te.length,ye=[];return te.map(Ke=>{ye.push(_e+"%")}),[{layout:te.includes("text1")?"noBorders":"",style:"table",table:{headerRows:1,widths:ye,margin:[5,5,5,5],body:this.buildTableBody(b,te)}}]}downloadDevis(b){this.devisService.getDevisById(b.idDevis).subscribe({next:te=>{this.devisOutput=te,this.consultRisque(te.groupes[0].risques[0].idRisque,te.groupes[0].idGroupe)},error:te=>{this.handleError(te)}})}consultRisque(b,te){var ye,_e=this;this.devisService.getParamDevisByIdRisque(this.devisOutput.idDevis,te,b).subscribe({next:(ye=(0,Le.Z)(function*(Ke){var Pt;_e.devisOutput.risqueList=yield Object.values(Ke),"45F"==_e.devisOutput.produit.codeProduit?yield _e.devisService.getPackIdRisque(_e.devisOutput.idDevis,b).subscribe({next:(Pt=(0,Le.Z)(function*(ft){_e.devisOutput.paramDevisList=ft.garantieList,_e.devisOutput.pack=ft.pack,yield _e.devisService.outputDevisFlotte(_e.devisOutput)}),function(St){return Pt.apply(this,arguments)}),error:Pt=>{}}):yield _e.devisService.getPackIdRisque(_e.devisOutput.idDevis,b).subscribe({next:function(){var Pt=(0,Le.Z)(function*(ft){_e.devisOutput.paramDevisList=ft.garantieList,_e.devisOutput.pack=ft.pack,yield _e.devisService.generatePdf(_e.devisOutput)});return function(St){return Pt.apply(this,arguments)}}(),error:Pt=>{}})}),function(Pt){return ye.apply(this,arguments)}),error:ye=>{}})}goToResume(){this.multiRisque?this.generateCalcul():this.myStepper.next()}gestionErreurPack(b,te,_e,ye){ye||_e.controls.forEach(Ke=>{Ke.value.idPackComplet==b&&("formule"==te&&null==Ke.value.formule||"plafond"==te&&null==Ke.value.plafond||"franchise"==te&&null==Ke.value.franchise)&&(this.errorPackForm=!0)})}convertToContract(){this.router.navigateByUrl("creation-contrat/"+this.route.snapshot.paramMap.get("codeProduit")+"/"+this.route.snapshot.paramMap.get("produit")+"/"+this.idDevis)}openDialog(b){this.dialog.open(he._,{width:"60%",data:{risque:this.multiRisqueArray.filter(_e=>_e.risqueNum==b)[0]}}).afterClosed().subscribe(_e=>{})}openDialogList(b){this.dialog.open(Ze.I,{width:"60%",data:{displayedColumnsListParamRisque:this.displayedColumnsListParamRisque,idListParamList:this.idListParamList,listParamRisque:this.listParamRisque,formListParamRisque:this.formListParamRisque,garantie:this.garantieAll.find(_e=>_e.idGarantie==b),dataSourceListParamRisque:this.dataSourceListParamRisque,numberEffective:this.formParamRisque.get("Effectif").value}}).afterClosed().subscribe(_e=>{if(_e){const ye=JSON.parse(JSON.stringify(_e.data));this.dataSourceListParamRisque=ye;const Ke=this.idsListParams,Pt=this.codesListParams;this.displayedColumnsListParamRisque.splice(-1,1),this.paramList=ye.filter(Bn=>this.displayedColumnsListParamRisque.every(hn=>Bn.hasOwnProperty(hn))).map(Bn=>{let hn=[],no=Object.keys(Bn),kn=null,Gi="debase";for(let vo=0;vo<no.length;vo++)"Liste of values"==this.listParamRisque.find(Jo=>Jo.formName==no[vo])?.typeChamp?.description?(kn=Bn[no[vo]].idParam,Gi=Bn[no[vo]].code):(kn=null,"From Table"==this.listParamRisque.find(Jo=>Jo.formName==no[vo])?.typeChamp?.description?Gi=Bn[no[vo]].code:"date"!=this.listParamRisque.find(Jo=>Jo.formName==no[vo])?.typeChamp?.description?34==this.listParamRisque.find(Jo=>Jo.formName==no[vo])?.idParamRisque?Gi=String(Number(Bn[no[vo]])):"Marque"==no[vo]||"Mod\xe8le"==no[vo]?(kn=Bn[no[vo]],Gi=""):Gi=Bn[no[vo]]:Gi=Bn[no[vo]]),hn.push({idParam:Ke[vo],codeParam:Pt[vo],reponse:{idReponse:kn,description:Gi}});return hn});const ft={idListParamRisque:this.idListParamList,idGarantie:b,paramList:[]};this.paramList.map(Bn=>{ft.paramList.push({prime:"",paramListsValues:Bn})});let St=this.devis.list.findIndex(Bn=>Bn.idListParamRisque==ft.idListParamRisque),Nt="G53"==this.garantieAll.find(Bn=>Bn.idGarantie==b)?.codeGarantie?"Effectifs":"Mat\xe9riel informatique";if(-1!=St)this.devis.list[St]=ft,this.dataSourceListOfListes.data[St]={idListParamRisque:this.idListParamList,idGarantie:b,description:Nt};else{this.devis.list.push(ft);const Bn=[...this.dataSourceListOfListes.data,{idListParamRisque:this.idListParamList,idGarantie:b,description:Nt}];this.dataSourceListOfListes.data=Bn}this.formListParamRisque.reset(),""!=b&&(-1==this.garantieAll.findIndex(Bn=>Bn.idGarantie==b)&&this.indexSousGarantieMrp++,this.checkListSousGaranties(this.garantieAll[this.indexGarantieMrp].sousGarantieList,this.formPackGaranties.controls.find(Bn=>Bn.controls.idPackComplet.value==this.garantieAll[this.indexGarantieMrp].idPackComplet)?.controls?.souGarantieArray))}else{let ye=this.devis.list.findIndex(Ke=>Ke.idListParamRisque==this.idListParamList);-1!=ye&&(this.devis.list[ye].idGarantie=b),""!=b&&(-1==this.garantieAll.findIndex(Ke=>Ke.idGarantie==b)&&this.indexSousGarantieMrp++,this.checkListSousGaranties(this.garantieAll[this.indexGarantieMrp].sousGarantieList,this.formPackGaranties.controls.find(Ke=>Ke.controls.idPackComplet.value==this.garantieAll[this.indexGarantieMrp].idPackComplet)?.controls?.souGarantieArray))}})}handleError(b){switch(b.status){case 500:this.errorHandler.error=!0,this.errorHandler.msg="Erreur syst\xe8me, veuillez contacter l'administrateur.";break;case 402:this.errorHandler.error=!0,this.errorHandler.msg="Erreur lors de la validation du devis, veuillez contacter l'administrateur.";break;case 404:case 400:this.errorHandler.error=!0,this.errorHandler.msg=b.message;break;case"other":this.errorHandler.error=!0,this.errorHandler.msg=b}this.errorHandler.error&&i().fire(this.errorHandler.msg,"","error")}submitNumberVehicule(){this.devis.tailleRisque=this.nmbVehicule.value;const b=sessionStorage.getItem("roles")||"";b.includes("DA")||b.includes("CDC"),this.withFile=!0,this.devis.file=null}checkVehiculeNumber(){const b=sessionStorage.getItem("roles")||"";b.includes("DA")||b.includes("CDC"),this.TOTALE=this.multiRisqueArray?.[0].ValeurTotale,this.nmbVehicule.value!==this.multiRisqueArray.length&&"CTH"!=this.selectedSousProduit&&"97"!=this.codeProduit||this.nmbVehicule.value!==this.multiRisqueArray.length&&"CTH"!=this.selectedSousProduit&&"97"==this.codeProduit&&1==this.isBOUser?("97"==this.codeProduit?(i().fire(" le nombre de site ajout\xe9s ne correspond pas au nombre de site indiqu\xe9","error"),this.goBack()):i().fire(" le nombre de v\xe9hicules ajout\xe9s ne correspond pas au nombre de v\xe9hicules indiqu\xe9","error"),this.goBack()):this.valAss=this.formParamRisque.get("ValeurAssur\xe9e")?.value,this.formParamRisque.get("ValeurAssur\xe9e")?.value>5e9&&0==this.isBOUser?(i().fire("La valeur assur\xe9e d\xe9passe 5 000 000 000 DA , vous ne pouvez pas continuer ","error"),this.goBack()):this.myStepper.next()}onSousProduitSelected(b){this.selectedSousProduit=b;const te=this.sousProduits.find(_e=>_e.code==this.selectedSousProduit);if(this.IDSOUSPROD=te.idSousProduit,"97"==this.codeProduit){if("CTI"==this.selectedSousProduit){const _e=["ValeurAssur\xe9e","ValeurD\xe9clar\xe9e","ValeurNormative","TypeHabitation","UnePartieEst-elleLou\xe9ePourUsageCommercial?"];this.formParamRisque.get("ZoneSismique").setValidators([]),this.formParamRisque.get("ZoneSismique").updateValueAndValidity(),_e.forEach(Ke=>{this.formParamRisque.get(Ke).disable()}),["ZoneSismique","Latitude","Longitude"].forEach(Ke=>{const Pt=this.formParamRisque.get(Ke);Pt&&(Pt.clearValidators(),Pt.updateValueAndValidity())})}if("CTH"==this.selectedSousProduit){const ye=["ValeurNormative","ValeurAssur\xe9e","ZoneSismique","Latitude","Longitude","SMP"];["TotalContenu","ValeurContenant","ValeurDeLaMarchandise","ValeurMat\xe9rielEt\xc9quipement","ValeurTotale","Site","Activit\xe9Est-elleEnregistr\xe9eAuCNRC?","Activit\xe9Exerc\xe9eDevrait-elle\xcatreEnregistr\xe9eAuCNRC","groupe","newGroupe"].forEach(Ke=>{this.formParamRisque.get(Ke).disable()}),ye.forEach(Ke=>{const Pt=this.formParamRisque.get(Ke);Pt&&(Pt.clearValidators(),Pt.updateValueAndValidity())})}}}isReadonly(){return!(this.TOTALE>5e9&&this.isBOUser||"CTH"==this.selectedSousProduit&&this.isBOUser)}onInput(b,te){if(("P269"==te||"P271"==te)&&"97"==this.codeProduit){let ye=this.formParamRisque.get("ValeurMat\xe9rielEt\xc9quipement").value,Ke=this.formParamRisque.get("ValeurDeLaMarchandise").value;if(!isNaN(Ke)&&!isNaN(ye)){const Pt=Number(ye)+Number(Ke);this.formParamRisque.get("TotalContenu").setValue(Pt)}}if(("P241"==te||"P249"==te)&&"97"==this.codeProduit){let ye=this.formParamRisque.get("TotalContenu").value,Ke=this.formParamRisque.get("ValeurContenant").value;if(!isNaN(Ke)&&!isNaN(ye)){const Pt=Number(ye)+Number(Ke);this.formParamRisque.get("ValeurTotale").setValue(Pt),this.formParamRisque.get("SMP"),this.formParamRisque.updateValueAndValidity(),"97"==this.codeProduit&&"CTI"==this.selectedSousProduit&&this.formParamRisque.get("SMP").setValue(.5*Pt)}}"95"==this.codeProduit&&"P128"==te&&this.paraRisqueProduit.filter(ye=>{"P198"==ye.codeParam&&(this.formParamRisque.controls[ye.formName].setValue(b*this.calculCapitaleMRP),this.isFieldReadOnly=!0)}),"97"==this.codeProduit&&"P245"==te&&(this.devis.groupes[0]?.groupeList?.map(ye=>{ye.risque.paramList.find(Ke=>"P245"==Ke.codeParam).reponse.description=b}),this.Smp=b,this.dataSourceRisque.data.map(ye=>ye.SMP=b))}deleteRisque(b){let te;this.multiRisqueArray=this.multiRisqueArray.filter(_e=>_e.risqueNum!=b),this.dataSourceRisque.data=this.multiRisqueArray,this.devisGroupe.map(_e=>{_e.groupeList=_e.groupeList.filter(ye=>(ye.numRisque==b&&(te=_e.description),ye.numRisque!=b))}),this.groupArray=this.groupArray.filter(_e=>_e!=te),this.devisGroupe=this.devisGroupe.filter(_e=>_e.description!=te),this.dataSourceGroupePack.data=this.dataSourceGroupePack.data.filter(_e=>_e.group!=te),this.devis.groupes=this.devisGroupe}onFileSelected(b){this.selectedFile=b.target.files[0],this.uploadExcelFile()}uploadExcelFile(){if(this.selectedFile){const b=new FileReader;b.onload=te=>{if(null!=te.target){let _e=te.target.result;const ye=_e?.split(",");2===ye.length&&(_e=ye[1]),this.sendToAPI(_e)}},b.readAsDataURL(this.selectedFile)}}sendToAPI(b){this.devisService.controleDevisMulti({file:b},this.codeProduit).subscribe({next:_e=>{this.fileControle=_e,this.fileControle.some(Ke=>Ke.description.some(Pt=>0!==Pt.length))&&(this.fileInput.nativeElement.value=null,this.fileSuccess=!1),this.fileControle.length==this.nmbVehicule.value?(this.devis.file=b,this.fileSuccess=!0):(this.fileSuccess=!1,this.fileInput.nativeElement.value=null,i().fire("Le nombre de lignes ne correspond pas au nombre de risque indiqu\xe9, nombre de ligne= "+this.fileControle.length+", nombre indiqu\xe9= "+this.nmbVehicule.value+". veuillez resaisir le fichier ou modifi\xe9 le nombre de risque","","error")),this.fileControle.length>20&&(sessionStorage.getItem("roles")?.includes("DA")||sessionStorage.getItem("roles")?.includes("CDC"))?(i().fire("Vous n\u2019avez pas le privil\xe8ge pour faire ce devis veuillez voir avec le BO","","error"),this.fileSuccess=!1,this.fileInput.nativeElement.value=null):(this.devis.file=b,this.fileSuccess=!0)},error:_e=>{i().fire(_e,"","error"),this.fileInput.nativeElement.value=null}})}}return q.\u0275fac=function(b){return new(b||q)(l.Y36(t.t),l.Y36(Ft.uw),l.Y36(l.sBO),l.Y36(ee.gz),l.Y36(ee.F0),l.Y36(ln.ux),l.Y36(ut.Y),l.Y36(ot.$),l.Y36(tt.J),l.Y36(Zt.w),l.Y36(nn.F),l.Y36(_n.e),l.Y36(xn.F),l.Y36(mn.Y),l.Y36(Ri.D),l.Y36(Xn.M),l.Y36(o.qu))},q.\u0275cmp=l.Xpm({type:q,selectors:[["app-creation-devis"]],viewQuery:function(b,te){if(1&b&&(l.Gf($i,5),l.Gf(Sn,5),l.Gf(vt,5),l.Gf($e,5)),2&b){let _e;l.iGM(_e=l.CRH())&&(te.myStepper=_e.first),l.iGM(_e=l.CRH())&&(te.fileInput=_e.first),l.iGM(_e=l.CRH())&&(te.innerTables=_e),l.iGM(_e=l.CRH())&&(te.innerSort=_e)}},decls:98,vars:42,consts:[[1,"container"],[1,"header-title"],["aria-label","directions_car",1,"mat-icon","notranslate","material-symbols-outlined","material-icons","mat-icon-no-color"],["stepper",""],[3,"stepControl","editable"],["matStepLabel",""],[3,"formGroup","ngSubmit"],["multi","",1,"example-headers-align"],[3,"expanded"],[1,"row",2,"flex-direction","column","flex-direction","column","padding","1rem 2rem"],["appearance","outline",1,"col-md-5"],["formControlName","typeClient",3,"selectionChange"],[4,"ngFor","ngForOf"],["class","invalid-feedback",4,"ngIf"],[1,"row"],["type","text","matInput","","placeholder","","formControlName","nom"],["appearance","outline","class","col-md-5",4,"ngIf"],["class","col-md-5","appearance","outline",4,"ngIf"],["type","text","matInput","","placeholder","","formControlName","email"],["formControlName","typeContact",3,"selectionChange"],["matPrefix",""],["type","text","matInput","","placeholder","","formControlName","tel"],["formControlName","duree"],["formControlName","agence"],["type","submit",1,"btn","btn-action"],["class","multiRisque-nombre",4,"ngIf"],[3,"formGroup","ngSubmit",4,"ngIf"],["mat-table","","class","gestion-table risque",3,"dataSource",4,"ngIf"],["class","row download",4,"ngIf"],["class","btn btn-action","type","button",3,"click",4,"ngIf"],["class","btn btn-cancel","type","button",3,"click",4,"ngIf"],["class","",4,"ngIf"],[4,"ngIf"],["matInput","","type","number",3,"formControl"],[3,"editable",4,"ngIf"],["class","alert alert-danger",4,"ngIf"],["class","alert alert-success",4,"ngIf"],[1,"resume"],["class","resume-buttons",4,"ngIf"],["type","button",1,"btn","btn-cancel",3,"click"],["class","btn btn-action",3,"ngClass","disabled","click",4,"ngIf"],[3,"disabled","value"],[1,"invalid-feedback"],["type","text","matInput","","placeholder","","formControlName","prenom"],["matInput","","formControlName","dateNaissance",3,"matDatepicker"],["matSuffix","",3,"for"],["pickerDateNaissance",""],[3,"value"],["formControlName","idSousProduits",3,"selectionChange"],[3,"value",4,"ngFor","ngForOf"],[1,"multiRisque-nombre"],[4,"ngIf","ngIfElse"],["choiceMethod",""],[1,"btn","btn-cancel",3,"click"],["type","button",1,"btn","btn-action",3,"click"],[1,"row","download"],["class","row",4,"ngIf"],["id","wrap",2,"justify-content","space-around","display","flex"],[1,"btn","btn-file",3,"click"],["class","btn btn-file",3,"click",4,"ngIf"],["formDirective","ngForm"],["hideToggle","",1,"risque-panel",3,"expanded"],[1,"row",2,"padding","1rem 2rem"],["multi",""],["hideToggle","","class","panel-risque",3,"expanded",4,"ngFor","ngForOf"],["class","risque-panel","hideToggle","",3,"expanded",4,"ngIf"],[1,""],["class","btn btn-action","type","submit",4,"ngIf"],["class","btn btn-secondary","type","submit",4,"ngIf"],["hideToggle","",1,"panel-risque",3,"expanded"],[1,"categoryTitle"],[3,"formControlName","selectionChange"],["matInput","","type","text",3,"formControlName","readonly","value"],["matInput","","type","number",3,"formControlName","readonly","value","ngModelChange"],["matInput","",3,"matDatepicker","formControlName"],["picker",""],[3,"formControlName"],["appearance","outline",1,"col-md-3"],["formControlName","groupe"],["value","new"],["matInput","","type","text","formControlName","newGroupe"],["type","submit",1,"btn","btn-secondary"],["mat-table","",1,"gestion-table","risque",3,"dataSource"],["matColumnDef","risqueNum"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","NDImmatriculation",4,"ngIf"],["matColumnDef","site",4,"ngIf"],["matColumnDef","groupe"],["matColumnDef","action"],["mat-header-row","","class","example-second-header-row",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],["matColumnDef","NDImmatriculation"],["matColumnDef","site"],["mat-icon-button","","type","button","aria-label","menu risque list",3,"matMenuTriggerFor"],["xPosition","after"],["menu","matMenu"],["mat-menu-item","","type","button",3,"click"],["mat-header-row","",1,"example-second-header-row"],["mat-row",""],["id","wrap"],["type","file","name","fileInput",3,"change"],["fileInput",""],[1,"alert","alert-danger"],[1,"error-lines"],["class","row","style","display: flex;align-items:\n                center;justify-content: space-between;margin:2rem 1rem",4,"ngIf"],["mat-table","","multiTemplateDataRows","","class","mat-elevation-z8 pack-table",3,"dataSource",4,"ngIf"],["hideToggle","","class","panel-risque",3,"expanded",4,"ngIf"],["class","row card",4,"ngIf"],["style","display: flex;",3,"class","disabled","click",4,"ngIf"],["class","btn btn-cancel",3,"click",4,"ngIf"],[1,"row",2,"display","flex","align-items","center","justify-content","space-between","margin","2rem 1rem"],[3,"selectionChange"],["appearance","outline","class","col-md-3",4,"ngIf"],["class","btn btn-secondary ","style","display: flex; width:\n                    133px;",3,"click",4,"ngIf"],[1,"btn","btn-secondary",2,"display","flex","width","133px",3,"click"],[1,"material-symbols-outlined",2,"margin-right","9px","font-size","24px"],["mat-table","","multiTemplateDataRows","",1,"mat-elevation-z8","pack-table",3,"dataSource"],["matColumnDef","select"],["matColumnDef","garantie"],["matColumnDef","plafond"],["matColumnDef","taux"],["matColumnDef","franchise"],["matColumnDef","formule"],["matColumnDef","sousGarantie"],["mat-cell","","class","example-element-row",3,"example-expanded-row",4,"matCellDef"],["matColumnDef","expandedDetail"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","","class","example-detail-row",4,"matRowDef","matRowDefColumns"],[3,"checked","formControl","click","change"],["plafondNotEmpty",""],[3,"ngModelChange",4,"ngIf","ngIfElse"],["plafondInput",""],[3,"ngModelChange"],[3,"formControl","ngModelChange"],["plafondValue",""],["type","text","matInput","",3,"formControl","ngModelChange"],["plafondNull",""],["tauxNotEmpty",""],["tauxInput",""],["tauxValue",""],["type","text","matInput","",3,"formControl","readonly"],["franchiseNotEmpty",""],["franchiseInput",""],["franchiseValue",""],["type","text","matInput","",3,"formControl"],["formuleNotEmpty",""],["formuleInput",""],["formuleValue",""],["primeNull",""],["mat-cell","",1,"example-element-row"],["mat-icon-button","","type","button","class","expandButton","aria-label","",3,"click",4,"ngIf"],["mat-icon-button","","type","button","aria-label","",1,"expandButton",3,"click"],[1,"example-element-detail"],["mat-table","","multiTemplateDataRows","","class","mat-elevation-z8 pack-table innertable",3,"dataSource",4,"ngIf"],["mat-table","","multiTemplateDataRows","",1,"mat-elevation-z8","pack-table","innertable",3,"dataSource"],["matColumnDef","more"],[3,"formControl"],["type","number","matInput","",3,"max","formControl"],["mat-header-row",""],["mat-row","",1,"example-detail-row"],["class","col-md-12",4,"ngIf"],[1,"col-md-12"],["mat-table","",1,"mat-elevation-z8","adresse-table",3,"dataSource"],["matColumnDef","idList"],["matColumnDef","description"],["aria-label","Select page  of users",3,"pageSize","pageSizeOptions"],["mat-icon-button","","type","button","aria-label","menu list param",3,"matMenuTriggerFor"],[1,"row","card"],[1,"prime-card"],[2,"font-size","21px","color","#00008f","font-weight","600"],[2,"font-size","18px","font-weight","600","margin-right","12px"],[2,"float","right"],[3,"dataSource"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","pack"],[4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],[3,"placeholder","ngModel","name","ngModelChange","selectionChange"],[2,"display","flex",3,"disabled","click"],[1,"material-symbols-outlined",2,"margin-left","9px","font-size","24px"],[3,"editable"],[1,"row",3,"formGroup","ngSubmit"],["formControlName","convention",3,"value","valueChange","selectionChange"],["formControlName","reduction"],[1,"alert","alert-success"],[1,"consult-devis",3,"routerLink"],[1,"primeTotale"],[1,"resume-buttons"],[1,"btn","btn-download",3,"click"],[1,"material-symbols-outlined"],[1,"btn","btn-action",3,"ngClass","disabled","click"],[1,"button__text"]],template:function(b,te){1&b&&(l.TgZ(0,"div",0)(1,"h2",1)(2,"mat-icon",2),l._uU(3),l.qZA(),l._uU(4),l.qZA(),l.TgZ(5,"mat-stepper",null,3)(7,"mat-step",4),l.YNc(8,bn,1,0,"ng-template",5),l.TgZ(9,"form",6),l.NdJ("ngSubmit",function(){return te.submitInfosAssure()}),l.TgZ(10,"mat-accordion",7)(11,"mat-expansion-panel",8)(12,"mat-expansion-panel-header")(13,"mat-panel-title"),l._uU(14," Information de l'assur\xe9(e) "),l.qZA()(),l.TgZ(15,"div",9)(16,"mat-form-field",10)(17,"mat-label"),l._uU(18,"Type client"),l.qZA(),l.TgZ(19,"mat-select",11),l.NdJ("selectionChange",function(ye){return te.changeTypeClient(ye.value)}),l.YNc(20,Vt,3,3,"ng-container",12),l.qZA(),l.YNc(21,ei,2,1,"mat-error",13),l.qZA(),l.TgZ(22,"div",14)(23,"mat-form-field",10)(24,"mat-label"),l._uU(25),l.qZA(),l._UZ(26,"input",15),l.YNc(27,uo,2,1,"mat-error",13),l.qZA(),l.YNc(28,pn,5,1,"mat-form-field",16),l.qZA(),l.TgZ(29,"div",14),l.YNc(30,Nn,8,3,"mat-form-field",17),l.TgZ(31,"mat-form-field",10)(32,"mat-label"),l._uU(33,"Email"),l.qZA(),l._UZ(34,"input",18),l.YNc(35,mo,3,2,"mat-error",13),l.qZA()(),l.TgZ(36,"div",14)(37,"mat-form-field",10)(38,"mat-label"),l._uU(39,"Type contact"),l.qZA(),l.TgZ(40,"mat-select",19),l.NdJ("selectionChange",function(ye){return te.changeTypeContact(ye.value)}),l.YNc(41,mr,3,2,"ng-container",12),l.qZA(),l.YNc(42,Eo,2,1,"mat-error",13),l.qZA(),l.TgZ(43,"mat-form-field",10)(44,"mat-label"),l._uU(45,"T\xe9l\xe9phone"),l.qZA(),l.TgZ(46,"span",20),l._uU(47,"+213 \xa0"),l.qZA(),l._UZ(48,"input",21),l.YNc(49,Ba,3,2,"mat-error",13),l.qZA()()()(),l.TgZ(50,"mat-expansion-panel",8)(51,"mat-expansion-panel-header")(52,"mat-panel-title"),l._uU(53," Contrat "),l.qZA()(),l.TgZ(54,"div",9)(55,"mat-form-field",10)(56,"mat-label"),l._uU(57,"Dur\xe9e"),l.qZA(),l.TgZ(58,"mat-select",22),l.YNc(59,za,3,2,"ng-container",12),l.qZA(),l.YNc(60,Ks,2,1,"mat-error",13),l.qZA(),l.TgZ(61,"mat-form-field",10)(62,"mat-label"),l._uU(63,"Agence"),l.qZA(),l.TgZ(64,"mat-select",23),l.YNc(65,ds,3,2,"ng-container",12),l.qZA(),l.YNc(66,Ta,2,1,"mat-error",13),l.qZA(),l.YNc(67,Ws,5,1,"mat-form-field",16),l.qZA()()(),l.TgZ(68,"div")(69,"button",24),l._uU(70,"Suivant "),l.qZA()()()(),l.TgZ(71,"mat-step",4),l.YNc(72,Xs,1,0,"ng-template",5),l.YNc(73,Cs,4,2,"div",25),l.YNc(74,oo,16,6,"form",26),l.YNc(75,Dl,14,5,"table",27),l.YNc(76,Oi,9,1,"div",28),l.YNc(77,zi,2,0,"button",29),l.YNc(78,wl,2,0,"button",30),l.YNc(79,sl,3,0,"div",31),l.qZA(),l.TgZ(80,"mat-form-field",10),l.YNc(81,Fi,2,0,"mat-label",32),l._UZ(82,"input",33),l.qZA(),l.YNc(83,ui,13,10,"mat-step",32),l.YNc(84,fi,20,9,"mat-step",34),l.TgZ(85,"mat-step"),l.YNc(86,Ki,1,0,"ng-template",5),l.YNc(87,br,2,1,"div",35),l.YNc(88,lc,4,6,"div",36),l.TgZ(89,"table",37),l.YNc(90,ya,2,1,"tr",12),l.YNc(91,Co,9,7,"tr",12),l.YNc(92,nu,2,1,"tr",12),l.qZA(),l.YNc(93,xa,9,0,"div",38),l.TgZ(94,"div")(95,"button",39),l.NdJ("click",function(){return te.goBackReduc()}),l._uU(96,"Retour"),l.qZA(),l.YNc(97,Nu,3,4,"button",40),l.qZA()()()()),2&b&&(l.xp6(3),l.Oqu(te.produitInfo.icon),l.xp6(1),l.hij(" ",te.produitInfo.description," "),l.xp6(3),l.Q6J("stepControl",te.formInfosAssure)("editable",!0),l.xp6(2),l.Q6J("formGroup",te.formInfosAssure),l.xp6(2),l.Q6J("expanded",!0),l.xp6(9),l.Q6J("ngForOf",te.typeClients),l.xp6(1),l.Q6J("ngIf",te.formInfosAssure.controls.typeClient.errors),l.xp6(4),l.Oqu(te.labelNom),l.xp6(2),l.Q6J("ngIf",te.formInfosAssure.controls.nom.errors),l.xp6(1),l.Q6J("ngIf","personne morale"!=te.typeClient),l.xp6(2),l.Q6J("ngIf","personne morale"!=te.typeClient),l.xp6(5),l.Q6J("ngIf",te.formInfosAssure.controls.email.errors),l.xp6(6),l.Q6J("ngForOf",te.typesContact),l.xp6(1),l.Q6J("ngIf",te.formInfosAssure.controls.typeContact.errors),l.xp6(7),l.Q6J("ngIf",te.formInfosAssure.controls.tel.errors),l.xp6(1),l.Q6J("expanded",!0),l.xp6(9),l.Q6J("ngForOf",te.durees),l.xp6(1),l.Q6J("ngIf",te.formInfosAssure.controls.duree.errors),l.xp6(5),l.Q6J("ngForOf",te.agences),l.xp6(1),l.Q6J("ngIf",te.formInfosAssure.controls.agence.errors),l.xp6(1),l.Q6J("ngIf","97"==te.codeProduit),l.xp6(4),l.Q6J("stepControl",te.formParamRisque)("editable",!0),l.xp6(2),l.Q6J("ngIf",te.multiRisque&&0==te.risqueStep),l.xp6(1),l.Q6J("ngIf",te.risqueArrayReady&&(te.multiRisque&&1==te.risqueStep||!te.multiRisque)),l.xp6(1),l.Q6J("ngIf",te.multiRisque&&0!=te.dataSourceRisque.data.length&&1==te.risqueStep),l.xp6(1),l.Q6J("ngIf",2==te.risqueStep),l.xp6(1),l.Q6J("ngIf",2==te.risqueStep),l.xp6(1),l.Q6J("ngIf",2==te.risqueStep),l.xp6(1),l.Q6J("ngIf",te.multiRisque&&1==te.risqueStep&&(0!=te.dataSourceRisque.data.length||"45L"==te.codeProduit)),l.xp6(2),l.Q6J("ngIf","97"==te.codeProduit),l.xp6(1),l.Q6J("formControl",te.nmbVehicule),l.xp6(1),l.Q6J("ngIf",2!=te.risqueStep),l.xp6(1),l.Q6J("ngIf","97"!=te.codeProduit),l.xp6(3),l.Q6J("ngIf",te.errorHandler.error),l.xp6(1),l.Q6J("ngIf",te.successDevis),l.xp6(2),l.Q6J("ngForOf",te.returnedTarif.primeList),l.xp6(1),l.Q6J("ngForOf",te.returnedTarif.taxeList),l.xp6(1),l.Q6J("ngForOf",te.returnedTarif.primeList),l.xp6(1),l.Q6J("ngIf",te.successDevis&&!te.saveDevis),l.xp6(4),l.Q6J("ngIf",te.saveDevis))},dependencies:[Se.mk,Se.sg,Se.O5,Mt.Hw,Lt.pp,Lt.ib,Lt.yz,Lt.yK,xt.VK,xt.OP,xt.p6,o._Y,o.Fj,o.wV,o.JJ,o.JL,o.Fd,o.oH,o.sg,o.u,ht.TO,ht.KE,ht.hX,ht.qo,ht.R9,Yn.Nt,w.BZ,w.fO,w.as,w.w1,w.Dz,w.nj,w.ge,w.ev,w.XQ,w.Gk,Jn.NW,pi.Mq,pi.hl,pi.nW,Qn.gD,Kn.ey,xi.lW,tn.C0,tn.VY,tn.Vq,Kt.oG,o.On,o.F,ee.rH,Se.JJ,hi.X],styles:['.container[_ngcontent-%COMP%]{background-color:#fff;padding:40px 0;height:100%;overflow-x:hidden;box-shadow:0 .5rem 1rem #00000026}h2.header-title[_ngcontent-%COMP%]{padding:0 24px;font-size:21px!important;color:#00008f;font-weight:600!important;letter-spacing:1px;display:flex;justify-content:flex-end}h2.header-title[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{margin-right:1rem}  .mat-form-field-appearance-outline .mat-form-field-prefix{top:auto!important}.mat-expansion-panel-header[_ngcontent-%COMP%]{background:rgba(199,199,199,.2)!important;font-weight:600;font-size:16px}.mat-expansion-panel-header.mat-expanded[_ngcontent-%COMP%]{height:48px}  .mat-step-header .mat-step-icon-state-edit{background-color:#d14624}.mat-expansion-panel-header-title[_ngcontent-%COMP%]{color:#00008f}  .mat-step-text-label{font-size:16px}  .mat-step-label-selected .mat-step-text-label{font-size:16px;font-weight:700;color:#00008f}.btn.btn-action[_ngcontent-%COMP%], .btn.btn-secondary[_ngcontent-%COMP%]{margin-top:2rem;float:right}.btn.btn-cancel[_ngcontent-%COMP%]{margin-top:2rem;float:left}.btn.btn-download[_ngcontent-%COMP%]{box-shadow:0 1px 2px #00000026;transition:box-shadow .3s ease-in-out}.btn.btn-download[_ngcontent-%COMP%]:hover{box-shadow:0 5px 15px #0000004d}table[_ngcontent-%COMP%]{width:100%}.innertable[_ngcontent-%COMP%]{background-color:#f7f7f9}.expandButton[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:26px!important}.cdk-column-expandedDetail[_ngcontent-%COMP%]{border-bottom-width:0px}.mat-header-row[_ngcontent-%COMP%]{background-color:#f7f7f9}.mat-header-row[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{color:#00008f}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:16px}.mat-header-cell[_ngcontent-%COMP%]{color:#333;font-weight:600;letter-spacing:.5px;font-size:15px;width:165px}.mat-menu-item[_ngcontent-%COMP%]{font-size:16px}.mat-menu-item[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:21px;height:-moz-fit-content;height:fit-content}.mat-menu-item[_ngcontent-%COMP%]:hover:not([disabled]){color:#00008f}.mat-menu-item[_ngcontent-%COMP%]:hover:not([disabled])   .mat-icon[_ngcontent-%COMP%]{color:#00008f}.mat-icon[_ngcontent-%COMP%]{height:100%;font-size:36px;width:-moz-fit-content;width:fit-content}.mat-cell[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{color:#00008f}.mat-header-cell.mat-icon[_ngcontent-%COMP%]{color:#fff}.mat-cell[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]:hover, .mat-header-cell[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]:hover{color:#d14723;cursor:pointer}  .mat-checkbox-checked.mat-accent.mat-checkbox-disabled .mat-checkbox-background, .mat-checkbox-indeterminate.mat-accent[_ngcontent-%COMP%]   .mat-checkbox-background[_ngcontent-%COMP%]{background-color:#ccc}  .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-image:none}.mat-input-element[_ngcontent-%COMP%]:disabled{color:inherit}.mat-cell[_ngcontent-%COMP%]{padding-top:10px}.pack-table[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{font-size:16px}.resume-table[_ngcontent-%COMP%]{margin-top:2rem}.resume-table[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%]{font-size:16px;border-right:1px solid rgba(0,0,0,.12);padding-left:30px}.resume-table[_ngcontent-%COMP%]   .mat-header-cell[_ngcontent-%COMP%]{background-color:#00008f;color:#fff;border-right:1px solid white;padding-left:30px}.mat-cell[_ngcontent-%COMP%]:not(.mat-column-garantie){font-weight:600}.row.card[_ngcontent-%COMP%]{justify-content:end;width:100%}.prime-card[_ngcontent-%COMP%]{background:rgb(247,247,249);width:-moz-fit-content;width:fit-content;margin-top:3rem;border:1px solid rgba(0,0,0,.12);padding:18px 14px}table.resume[_ngcontent-%COMP%]{width:60%;border-collapse:collapse;border-spacing:0 19px;margin-top:4rem}table.resume[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:17px;padding:12px 19px;border:1px solid rgba(0,0,0,.12)}table.resume[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background:rgb(247,247,249)}.resume-buttons[_ngcontent-%COMP%]{margin-top:4rem;display:flex;justify-content:space-between}.resume-buttons[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{margin-right:9px;font-size:24px}.risque-panel.mat-expansion-panel[_ngcontent-%COMP%]{box-shadow:none}.risque-panel[_ngcontent-%COMP%]     .mat-expansion-panel-content{padding:1rem}.panel-risque[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{margin-right:1rem}.categoryTitle[_ngcontent-%COMP%]{text-transform:capitalize}  .mat-progress-bar-fill:after{background-color:#d14624}mat-form-field.ng-invalid.ng-touched[_ngcontent-%COMP%]{animation:example;animation-duration:.3s;margin-bottom:2rem}.button__text[_ngcontent-%COMP%]{transition:all .2s}.button--loading[_ngcontent-%COMP%]   .button__text[_ngcontent-%COMP%]{visibility:hidden;opacity:0}.button--loading[_ngcontent-%COMP%]{position:relative}.button--loading[_ngcontent-%COMP%]:after{content:"";position:absolute;width:16px;height:16px;inset:0;margin:auto;border:4px solid transparent;border-top-color:#fff;border-radius:50%;animation:_ngcontent-%COMP%_button-loading-spinner 1s ease infinite}.button--loading[_ngcontent-%COMP%]:hover{background-color:#00008f}.example-element-detail[_ngcontent-%COMP%]{overflow:hidden;display:flex}tr.example-detail-row[_ngcontent-%COMP%]{height:0}.mat-column-expandedDetail[_ngcontent-%COMP%]{padding:0}@keyframes _ngcontent-%COMP%_button-loading-spinner{0%{transform:rotate(0)}to{transform:rotate(1turn)}}.primeTotale[_ngcontent-%COMP%]{color:#00008f;font-weight:600}.consult-devis[_ngcontent-%COMP%]{font-weight:600;color:#155724}.btn-action[_ngcontent-%COMP%]:disabled:hover{background-color:#00008f;color:#fff}.mat-column-expandedDetail[_ngcontent-%COMP%]{padding-left:0!important;padding-right:0!important}table[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:26px}table[_ngcontent-%COMP%]   .mat-column-plafond[_ngcontent-%COMP%]{padding-left:1rem}.gestion-table.risque[_ngcontent-%COMP%]{margin-top:2rem!important}.group-risque[_ngcontent-%COMP%]{align-items:center;margin-top:3rem}.group-risque[_ngcontent-%COMP%]   .array-buttons[_ngcontent-%COMP%]{margin-left:auto;width:-moz-fit-content;width:fit-content}.group-risque[_ngcontent-%COMP%]   .array-buttons[_ngcontent-%COMP%]   .btn-round[_ngcontent-%COMP%]{margin-right:1em}.group-risque[_ngcontent-%COMP%]   mat-form-field.ng-invalid.ng-touched[_ngcontent-%COMP%]{margin-bottom:0rem}.multiRisque-nombre[_ngcontent-%COMP%]{margin-top:3rem}.row.download[_ngcontent-%COMP%]{text-align:center;margin-top:3rem;font-size:17px;font-weight:600}.row.download[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{width:50%;margin:auto;line-height:2rem}#wrap[_ngcontent-%COMP%]{margin:20px auto;text-align:center}.btn-slide[_ngcontent-%COMP%]{position:relative;display:inline-block;height:50px;width:263px;line-height:50px;padding:0;border-radius:50px;background:#fdfdfd;border:2px solid #00008f;margin:10px;transition:.5s}.btn-slide[_ngcontent-%COMP%]:hover{background-color:#00008f}.btn-slide[_ngcontent-%COMP%]:hover   span.circle[_ngcontent-%COMP%]{left:100%;margin-left:-45px;background-color:#fdfdfd;color:#00008f}.btn-slide[_ngcontent-%COMP%]:hover   span.title[_ngcontent-%COMP%]{left:40px;opacity:0}.btn-slide[_ngcontent-%COMP%]:hover   span.title-hover[_ngcontent-%COMP%]{opacity:1;left:40px}.btn-slide[_ngcontent-%COMP%]   span.circle[_ngcontent-%COMP%]{display:block;background-color:#00008f;color:#fff;position:absolute;float:left;margin:5px;line-height:42px;height:40px;width:40px;top:-2px;left:0;transition:.5s;border-radius:50%}.btn-slide[_ngcontent-%COMP%]   span.title[_ngcontent-%COMP%], .btn-slide[_ngcontent-%COMP%]   span.title-hover[_ngcontent-%COMP%]{position:absolute;left:90px;text-align:center;margin:0 auto;font-size:16px;font-weight:700;color:#00008f;transition:.5s}.btn-slide[_ngcontent-%COMP%]   span.title-hover[_ngcontent-%COMP%]{left:80px;opacity:0}.btn-slide[_ngcontent-%COMP%]   span.title-hover[_ngcontent-%COMP%]{color:#fff}.btn-slide[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:25px}.error-lines[_ngcontent-%COMP%]{text-align:left}.error-lines[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{text-decoration:underline}input[type=file][_ngcontent-%COMP%]::file-selector-button{padding:0 16px;height:40px;cursor:pointer;background-color:#fff;color:#00008f;font-weight:700!important;border:1px solid #00008f;margin-right:16px;transition:background-color .2s;border-radius:50px}.btn-file[_ngcontent-%COMP%]{padding:0 16px;height:40px;cursor:pointer;background-color:#fff;color:#00008f;font-weight:700!important;border:1px solid #00008f;margin-right:16px;transition:background-color .2s;border-radius:50px}input[type=file][_ngcontent-%COMP%]::file-selector-button:hover{background-color:#f3f4f6}input[type=file][_ngcontent-%COMP%]::file-selector-button:active{background-color:#e5e7eb}'],data:{animation:[(0,J.X$)("detailExpand",[(0,J.SB)("collapsed",(0,J.oB)({height:"0px",minHeight:"0",display:"none"})),(0,J.SB)("expanded",(0,J.oB)({height:"*"})),(0,J.eR)("expanded <=> collapsed",(0,J.jt)("225ms cubic-bezier(0.4, 0.0, 0.2, 1)"))])]}}),q})();function hl(q,G){return b=>({bloquant:q,msg:G})}var km=B(5989),Yl=B(266),Cl=B(7331),Sr=B(4803),Eu=B(5050);function xl(q,G){if(1&q&&(l.ynx(0),l.TgZ(1,"mat-option",28),l._uU(2),l.qZA(),l.BQk()),2&q){const b=G.$implicit;l.xp6(1),l.Q6J("value",b.idAgence),l.xp6(1),l.hij(" ",b.nomAgence," ")}}function iu(q,G){if(1&q&&(l.ynx(0),l.TgZ(1,"mat-option",28),l._uU(2),l.qZA(),l.BQk()),2&q){const b=G.$implicit;l.xp6(1),l.Q6J("value",b.idParam),l.xp6(1),l.hij(" ",b.description," ")}}function ou(q,G){if(1&q){const b=l.EpF();l.TgZ(0,"form",10,11),l.NdJ("ngSubmit",function(){l.CHM(b);const _e=l.oxw();return l.KtG(_e.submitFilter(0,10))}),l.TgZ(2,"div",12)(3,"mat-form-field",13)(4,"mat-label"),l._uU(5,"N\xb0devis"),l.qZA(),l._UZ(6,"input",14),l.qZA(),l.TgZ(7,"mat-form-field",13)(8,"mat-label"),l._uU(9,"Nom"),l.qZA(),l._UZ(10,"input",15),l.qZA(),l.TgZ(11,"mat-form-field",13)(12,"mat-label"),l._uU(13,"Raison Sociale"),l.qZA(),l._UZ(14,"input",16),l.qZA()(),l.TgZ(15,"div",12)(16,"mat-form-field",13)(17,"mat-label"),l._uU(18,"Agence"),l.qZA(),l.TgZ(19,"mat-select",17),l.YNc(20,xl,3,2,"ng-container",18),l.qZA()(),l.TgZ(21,"mat-form-field",13)(22,"mat-label"),l._uU(23,"Statut"),l.qZA(),l.TgZ(24,"mat-select",19),l.YNc(25,iu,3,2,"ng-container",18),l.qZA()()(),l.TgZ(26,"div",12)(27,"mat-form-field",13)(28,"mat-label"),l._uU(29,"Du "),l.qZA(),l._UZ(30,"input",20)(31,"mat-datepicker-toggle",21)(32,"mat-datepicker",null,22),l.qZA(),l.TgZ(34,"mat-form-field",13)(35,"mat-label"),l._uU(36,"Au "),l.qZA(),l._UZ(37,"input",23)(38,"mat-datepicker-toggle",21)(39,"mat-datepicker",null,24),l.qZA()(),l.TgZ(41,"div",25)(42,"button",26),l._uU(43,"Filtrer"),l.qZA(),l.TgZ(44,"mat-icon",27),l.NdJ("click",function(){l.CHM(b);const _e=l.MAs(1),ye=l.oxw();return l.KtG(ye.resetTable(_e))}),l._uU(45,"restart_alt"),l.qZA()()()}if(2&q){const b=l.MAs(33),te=l.MAs(40),_e=l.oxw();l.Q6J("formGroup",_e.formFilterDevis),l.xp6(20),l.Q6J("ngForOf",_e.agences),l.xp6(5),l.Q6J("ngForOf",_e.statuts),l.xp6(5),l.Q6J("matDatepicker",b),l.xp6(1),l.Q6J("for",b),l.xp6(6),l.Q6J("matDatepicker",te),l.xp6(1),l.Q6J("for",te)}}function Ru(q,G){if(1&q&&(l.TgZ(0,"div",29),l._uU(1),l.qZA()),2&q){const b=l.oxw();l.xp6(1),l.Oqu(b.errorHandler.msg)}}function am(q,G){1&q&&(l.TgZ(0,"th",42),l._uU(1," N\xb0. "),l.qZA())}function ru(q,G){if(1&q&&(l.TgZ(0,"td",43),l._uU(1),l.qZA()),2&q){const b=G.$implicit;l.xp6(1),l.hij(" ",b.idDevis," ")}}function Xl(q,G){1&q&&(l.TgZ(0,"th",42),l._uU(1," Date d'\xe9tablissemnt "),l.qZA())}function ec(q,G){if(1&q&&(l.TgZ(0,"td",43),l._uU(1),l.ALo(2,"dateFormatPipe"),l.qZA()),2&q){const b=G.$implicit;l.xp6(1),l.hij(" ",l.lcZ(2,1,b.dateDevis)," ")}}function vl(q,G){1&q&&(l.TgZ(0,"th",42),l._uU(1,"Dur\xe9e"),l.qZA())}function Fa(q,G){if(1&q&&(l.TgZ(0,"td",43),l._uU(1),l.qZA()),2&q){const b=G.$implicit;l.xp6(1),l.hij(" ",b.duree," ")}}function au(q,G){1&q&&(l.TgZ(0,"th",42),l._uU(1," Agence "),l.qZA())}function zc(q,G){if(1&q&&(l.TgZ(0,"td",43),l._uU(1),l.qZA()),2&q){const b=G.$implicit;l.xp6(1),l.hij(" ",b.agence," ")}}function su(q,G){1&q&&(l.TgZ(0,"th",42),l._uU(1," Nom ou Raison sociale"),l.qZA())}function sm(q,G){if(1&q&&(l.ynx(0),l._uU(1),l.ALo(2,"slice"),l.ALo(3,"slice"),l.BQk()),2&q){const b=l.oxw().$implicit;l.xp6(1),l.AsE("",l.Dn7(2,2,null==b?null:b.nom,0,50)," ",l.Dn7(3,6,null==b?null:b.prenom,0,50),"")}}function Du(q,G){if(1&q&&(l._uU(0),l.ALo(1,"slice")),2&q){const b=l.oxw().$implicit;l.hij("",l.Dn7(1,1,null==b?null:b.raisonSocial,0,50)," ")}}function ji(q,G){if(1&q&&(l.TgZ(0,"td",43),l.YNc(1,sm,4,10,"ng-container",44),l.YNc(2,Du,2,5,"ng-template",null,45,l.W1O),l.qZA()),2&q){const b=G.$implicit,te=l.MAs(3);l.xp6(1),l.Q6J("ngIf",""==b.raisonSocial)("ngIfElse",te)}}function uc(q,G){1&q&&(l.TgZ(0,"th",42),l._uU(1,"Statut "),l.qZA())}function Zc(q,G){if(1&q&&(l.TgZ(0,"td",43)(1,"mat-chip-list",46)(2,"mat-chip",47),l.ALo(3,"statutColor"),l._uU(4),l.qZA()()()),2&q){const b=G.$implicit;l.xp6(2),l.Akn(l.lcZ(3,3,b.statut.idParam)),l.xp6(2),l.hij(" ",b.statut.description," ")}}function mc(q,G){1&q&&(l.TgZ(0,"th",42),l._uU(1," Action "),l.qZA())}function No(q,G){if(1&q){const b=l.EpF();l.TgZ(0,"button",52),l.NdJ("click",function(){l.CHM(b);const _e=l.oxw().$implicit,ye=l.oxw(2);return l.KtG(ye.ApproveDevisDialog(_e.idDevis))}),l.TgZ(1,"mat-icon"),l._uU(2,"approval"),l.qZA(),l.TgZ(3,"span"),l._uU(4,"Approbation devis"),l.qZA()()}}function qc(q,G){if(1&q){const b=l.EpF();l.TgZ(0,"td",43)(1,"button",48)(2,"mat-icon"),l._uU(3,"more_vert"),l.qZA()(),l.TgZ(4,"mat-menu",49,50)(6,"button",51),l.NdJ("click",function(){const ye=l.CHM(b).$implicit,Ke=l.oxw(2);return l.KtG(Ke.navigateToContrat(ye.idDevis))}),l.TgZ(7,"mat-icon"),l._uU(8,"source_notes"),l.qZA(),l.TgZ(9,"span"),l._uU(10,"Convertir en contrat"),l.qZA()(),l.TgZ(11,"button",52),l.NdJ("click",function(){const ye=l.CHM(b).$implicit,Ke=l.oxw(2);return l.KtG(Ke.consultDevis(ye.idDevis))}),l.TgZ(12,"mat-icon"),l._uU(13,"zoom_in"),l.qZA(),l.TgZ(14,"span"),l._uU(15,"Consulter devis"),l.qZA()(),l.TgZ(16,"button",52),l.NdJ("click",function(){const ye=l.CHM(b).$implicit,Ke=l.oxw(2);return l.KtG(Ke.printDevis(ye.idDevis))}),l.TgZ(17,"mat-icon"),l._uU(18,"print"),l.qZA(),l.TgZ(19,"span"),l._uU(20,"Imprimer devis"),l.qZA()(),l.YNc(21,No,5,0,"button",53),l.qZA()()}if(2&q){const b=G.$implicit,te=l.MAs(5),_e=l.oxw(2);l.xp6(1),l.Q6J("matMenuTriggerFor",te),l.xp6(5),l.Q6J("disabled","S03"!=b.statut.code&&!(_e.roleApproval&&"S04"==b.statut.code)),l.xp6(15),l.Q6J("ngIf",_e.roleApproval&&"S04"==b.statut.code)}}function Vc(q,G){1&q&&l._UZ(0,"tr",54)}function lm(q,G){1&q&&l._UZ(0,"tr",55)}function lu(q,G){if(1&q&&(l.TgZ(0,"table",30),l.ynx(1,31),l.YNc(2,am,2,0,"th",32),l.YNc(3,ru,2,1,"td",33),l.BQk(),l.ynx(4,34),l.YNc(5,Xl,2,0,"th",32),l.YNc(6,ec,3,3,"td",33),l.BQk(),l.ynx(7,35),l.YNc(8,vl,2,0,"th",32),l.YNc(9,Fa,2,1,"td",33),l.BQk(),l.ynx(10,36),l.YNc(11,au,2,0,"th",32),l.YNc(12,zc,2,1,"td",33),l.BQk(),l.ynx(13,37),l.YNc(14,su,2,0,"th",32),l.YNc(15,ji,4,2,"td",33),l.BQk(),l.ynx(16,38),l.YNc(17,uc,2,0,"th",32),l.YNc(18,Zc,5,5,"td",33),l.BQk(),l.ynx(19,39),l.YNc(20,mc,2,0,"th",32),l.YNc(21,qc,22,3,"td",33),l.BQk(),l.YNc(22,Vc,1,0,"tr",40),l.YNc(23,lm,1,0,"tr",41),l.qZA()),2&q){const b=l.oxw();l.Q6J("dataSource",b.dataSource),l.xp6(22),l.Q6J("matHeaderRowDef",b.displayedColumns),l.xp6(1),l.Q6J("matRowDefColumns",b.displayedColumns)}}function cm(q,G){if(1&q){const b=l.EpF();l.TgZ(0,"mat-paginator",56),l.NdJ("page",function(_e){l.CHM(b);const ye=l.oxw();return l.KtG(ye.onPageChange(_e))}),l.qZA()}if(2&q){const b=l.oxw();l.Q6J("length",b.lengthElement)("pageSize",10)}}let Al=(()=>{class q{constructor(b,te,_e,ye,Ke,Pt,ft,St){this.dialog=b,this.route=te,this.spinnerOverlayService=_e,this.genericService=ye,this.agencesService=Ke,this.formBuilder=Pt,this.router=ft,this.devisService=St,this.displayedColumns=["idDevis","dateDevis","agence","raisonSocialOuNom","status","action"],this.dataSource=new w.by,this.errorHandler={error:!1,msg:""},this.agences=[],this.statuts=[],this.roleApproval=!1,this.filteredTable=!1,this.isCourtier=!1,this.isBEA=!1,this.storedRoles=JSON.parse(sessionStorage.getItem("roles")??""),this.agence=parseInt(sessionStorage.getItem("agence")||"0")}ngOnInit(){this.nomProduit=this.route.snapshot.paramMap.get("nomProduit"),this.codeProduit=this.route.snapshot.paramMap.get("codeProduit"),null!=this.storedRoles&&this.storedRoles.includes("BO")&&(this.roleApproval=!0),this.storedRoles?.includes("COURTIER")||this.storedRoles?.includes("CDC_BEA")?(this.storedRoles?.includes("COURTIER")?this.isCourtier=!0:this.isBEA=!0,this.getAllAgences(),this.getAllStatus(),this.initFormFilter(),this.submitFilter(0,10)):this.getDevisByProduit(0,10)}initFormFilter(){this.formFilterDevis=this.formBuilder.group({idDevis:[],dateDebut:[],dateFin:[],agence:this.isCourtier||this.isBEA?[this.agence]:[],nom:[],prenom:[],raisonSocial:[],statut:[],produit:this.codeProduit}),(this.isCourtier||this.isBEA)&&this.formFilterDevis.get("agence")?.disable()}getAllAgences(){this.agencesService.getAllAgence().subscribe({next:b=>{this.agences=b},error:b=>{console.log(b)}})}getAllStatus(){this.genericService.getParam(JSON.parse(sessionStorage.getItem("dictionnaire")||"{}").find(b=>"C25"==b.code).idCategorie).subscribe({next:b=>{this.statuts=b},error:b=>{console.log(b)}})}onPageChange(b){this.filteredTable?this.submitFilter(b.pageIndex,b.pageSize):this.getDevisByProduit(b.pageIndex,b.pageSize)}getDevisByProduit(b,te){this.devisService.getDevisByCodeProduit(this.codeProduit,te,b).subscribe({next:_e=>{this.devisTable=_e,this.dataSource=new w.by(_e.content),this.lengthElement=this.devisTable.totalElements,this.paginator&&(this.paginator.length=_e.totalElements),this.dataSource.paginator=this.paginator,this.getAllAgences(),this.getAllStatus(),this.initFormFilter()},error:_e=>{console.log(_e)}})}redirectToCreation(){this.router.navigate(["creation-devis",this.codeProduit,this.route.snapshot.paramMap.get("nomProduit")])}submitFilter(b,te){if(this.formFilterDevis.valid){(this.isCourtier||this.isBEA)&&(this.formFilterDevis.value.agence=this.agence);const _e={...this.formFilterDevis.value,produit:this.codeProduit};this.devisService.filtresDevis(_e,b,te).subscribe({next:ye=>{this.dataSource=new w.by(ye.content),this.paginator&&(this.paginator.length=ye.totalElements),this.dataSource.paginator=this.paginator,this.filteredTable=!0,this.lengthElement=ye.totalElements},error:ye=>{console.log(ye)}})}}navigateToContrat(b){this.router.navigateByUrl("creation-contrat/"+this.codeProduit+"/"+this.route.snapshot.paramMap.get("nomProduit")+"/"+b)}resetTable(b){this.isCourtier||this.isBEA?(this.submitFilter(0,10),this.filteredTable=!0):(this.getDevisByProduit(0,10),this.filteredTable=!1),this.initFormFilter(),b.resetForm()}printDevis(b){this.devisService.getDevisById(b).subscribe({next:te=>{this.devis=te,this.consultRisque(te.groupes[0].risques[0].idRisque,te.groupes[0].idGroupe)},error:te=>{this.handleError(te)}})}consultRisque(b,te){var ye,_e=this;this.devisService.getParamDevisByIdRisque(this.devis.idDevis,te,b).subscribe({next:(ye=(0,Le.Z)(function*(Ke){var Pt;_e.devis.risqueList=yield Object.values(Ke),"45F"==_e.devis.produit.codeProduit?yield _e.devisService.getPackIdRisque(_e.devis.idDevis,b).subscribe({next:(Pt=(0,Le.Z)(function*(ft){_e.devis.paramDevisList=ft.garantieList,_e.devis.pack=ft.pack,yield _e.devisService.outputDevisFlotte(_e.devis),_e.devisService.getDetailsPrime(_e.devis.idDevis).subscribe({next:St=>{_e.devisService.outputGarantieFlotte(St,_e.devis.idDevis)},error:St=>{console.log(St)}})}),function(St){return Pt.apply(this,arguments)}),error:Pt=>{console.log(Pt)}}):yield _e.devisService.getPackIdRisque(_e.devis.idDevis,b).subscribe({next:function(){var Pt=(0,Le.Z)(function*(ft){_e.devis.paramDevisList=ft.garantieList,_e.devis.pack=ft.pack,yield _e.devisService.generatePdf(_e.devis)});return function(St){return Pt.apply(this,arguments)}}(),error:Pt=>{console.log(Pt)}})}),function(Pt){return ye.apply(this,arguments)}),error:ye=>{console.log(ye)}})}handleError(b){500===b.status&&(this.errorHandler.error=!0,this.errorHandler.msg="Erreur systeme, veuillez contacter l'administrateur.")}consultDevis(b){this.router.navigate(["consultation/"+this.codeProduit+"/"+this.route.snapshot.paramMap.get("nomProduit")+"/"+b])}ApproveDevisDialog(b){i().fire({title:"Voulez-vous approuver ce devis ? ",icon:"warning",showCancelButton:!0,cancelButtonText:"Refuser",confirmButtonText:"Approuver",confirmButtonColor:"#28a745",cancelButtonColor:"#dc3545"}).then(te=>{this.devisService.approveDevis(b,sessionStorage.getItem("userId"),te.isConfirmed).subscribe({next:_e=>{this.getDevisByProduit(0,10),i().fire(_e,"","success")},error:_e=>{this.handleError(_e)}})})}}return q.\u0275fac=function(b){return new(b||q)(l.Y36(Ft.uw),l.Y36(ee.gz),l.Y36(km.W),l.Y36(Xn.M),l.Y36(_n.e),l.Y36(o.qu),l.Y36(ee.F0),l.Y36(tt.J))},q.\u0275cmp=l.Xpm({type:q,selectors:[["app-gestion-devis"]],viewQuery:function(b,te){if(1&b&&l.Gf(Jn.NW,7),2&b){let _e;l.iGM(_e=l.CRH())&&(te.paginator=_e.first)}},decls:13,vars:5,consts:[[1,"container"],[1,"header"],[1,"title-table"],[1,"btn","btn-secondary",2,"display","flex","align-items","center",3,"click"],["aria-hidden","false","aria-label","ajouter pack ",1,"material-symbols-outlined"],[1,"filtre"],["class","row\n            formFiltre",3,"formGroup","ngSubmit",4,"ngIf"],["class","alert alert-danger",4,"ngIf"],["mat-table","","class","\n        devis-table",3,"dataSource",4,"ngIf"],[3,"length","pageSize","page",4,"ngIf"],[1,"row","formFiltre",3,"formGroup","ngSubmit"],["formDirective","ngForm"],[1,"row"],["appearance","outline",1,"col-md-4"],["type","text","matInput","","placeholder","","formControlName","idDevis"],["type","text","matInput","","placeholder","","formControlName","nom"],["type","text","matInput","","placeholder","","formControlName","raisonSocial"],["formControlName","agence"],[4,"ngFor","ngForOf"],["formControlName","statut"],["matInput","","formControlName","dateDebut",3,"matDatepicker"],["matSuffix","",3,"for"],["pickerDu",""],["matInput","","formControlName","dateFin",3,"matDatepicker"],["pickerAu",""],[1,"row","buttons"],["type","submit",1,"btn","btn-action"],["matTooltip","R\xe9nitialisation","matTooltipPosition","right",1,"material-symbols-outlined",3,"click"],[3,"value"],[1,"alert","alert-danger"],["mat-table","",1,"devis-table",3,"dataSource"],["matColumnDef","idDevis"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","dateDevis"],["matColumnDef","duree"],["matColumnDef","agence"],["matColumnDef","raisonSocialOuNom"],["matColumnDef","status"],["matColumnDef","action"],["mat-header-row","","class","example-second-header-row",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],[4,"ngIf","ngIfElse"],["personneMoral",""],["aria-label","Fish selection"],["color","primary"],["mat-icon-button","","type","button","aria-label","menu devis list",3,"matMenuTriggerFor"],["xPosition","after",1,"menu-devis"],["menu","matMenu"],["mat-menu-item","","type","button",3,"disabled","click"],["mat-menu-item","","type","button",3,"click"],["mat-menu-item","","type","button",3,"click",4,"ngIf"],["mat-header-row","",1,"example-second-header-row"],["mat-row",""],[3,"length","pageSize","page"]],template:function(b,te){1&b&&(l.TgZ(0,"div",0)(1,"div",1)(2,"h2",2),l._uU(3),l.qZA(),l.TgZ(4,"button",3),l.NdJ("click",function(){return te.redirectToCreation()}),l.TgZ(5,"mat-icon",4),l._uU(6,"add_circle"),l.qZA(),l._uU(7," Ajouter un devis "),l.qZA()(),l.TgZ(8,"div",5),l.YNc(9,ou,46,7,"form",6),l.qZA(),l.YNc(10,Ru,2,1,"div",7),l.YNc(11,lu,24,3,"table",8),l.YNc(12,cm,1,2,"mat-paginator",9),l.qZA()),2&b&&(l.xp6(3),l.hij("Listes des devis ",te.nomProduit,""),l.xp6(6),l.Q6J("ngIf",te.formFilterDevis),l.xp6(1),l.Q6J("ngIf",te.errorHandler.error),l.xp6(1),l.Q6J("ngIf",0!=te.dataSource.data.length),l.xp6(1),l.Q6J("ngIf",0!=te.dataSource.data.length))},dependencies:[Se.sg,Se.O5,Mt.Hw,xt.VK,xt.OP,xt.p6,o._Y,o.Fj,o.JJ,o.JL,o.sg,o.u,ht.KE,ht.hX,ht.R9,Yn.Nt,w.BZ,w.fO,w.as,w.w1,w.Dz,w.nj,w.ge,w.ev,w.XQ,w.Gk,Yl.gM,Jn.NW,pi.Mq,pi.hl,pi.nW,Qn.gD,Kn.ey,xi.lW,Cl.qn,Cl.HS,Se.OU,Sr.y,Eu.i],styles:[".container[_ngcontent-%COMP%]{background-color:#fff;padding:40px 0;height:100%}.header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:0px 2rem}.header[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{height:-moz-fit-content;height:fit-content;font-size:29px;margin-right:1rem;width:-moz-fit-content;width:fit-content}.title-table[_ngcontent-%COMP%]{margin-bottom:0rem;font-weight:800!important;font-size:23px!important;color:#00008f!important}table.devis-table[_ngcontent-%COMP%]{width:100%;margin-top:2rem}.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:16px}.mat-row[_ngcontent-%COMP%]:nth-child(even), .mat-header-row[_ngcontent-%COMP%]{background-color:#f7f7f9}.mat-header-row[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{color:#00008f}.mat-header-cell[_ngcontent-%COMP%]{color:#333;font-weight:600;letter-spacing:.5px;font-size:15px;width:165px}.header-tab[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}.mat-paginator[_ngcontent-%COMP%]{background-color:transparent;margin:20px auto auto;width:80%}.mat-icon[_ngcontent-%COMP%]{height:100%;font-size:36px;width:-moz-fit-content;width:fit-content}.mat-cell[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{color:#00008f}.mat-header-cell.mat-icon[_ngcontent-%COMP%]{color:#fff}.mat-cell[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]:hover, .mat-header-cell[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]:hover{color:#d14723;cursor:pointer}  .mat-tooltip{font-size:14px}.mat-menu-item[_ngcontent-%COMP%]{font-size:16px}.mat-menu-item[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{margin-right:16px;font-size:21px;height:-moz-fit-content;height:fit-content}.mat-menu-item[_ngcontent-%COMP%]:hover:not([disabled]){color:#00008f}.mat-menu-item[_ngcontent-%COMP%]:hover:not([disabled])   .mat-icon[_ngcontent-%COMP%]{color:#00008f}.filtre[_ngcontent-%COMP%]   .row.formFiltre[_ngcontent-%COMP%]{width:100%;padding:0 2rem;margin-top:2rem}.row.buttons[_ngcontent-%COMP%]{justify-content:flex-end}.row.buttons[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{color:#00008f;cursor:pointer}.btn.btn-action[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content}.filtre[_ngcontent-%COMP%]     .mat-form-field-wrapper{padding-bottom:.5rem}.truncate-text[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}"]}),q})();var cu=B(3205),Fr=B(8661);const Qa=["innerTables"],rs=["innerSort"];function jc(q,G){if(1&q&&(l.TgZ(0,"div",6)(1,"div",7)(2,"div",8)(3,"div",9),l._uU(4,"Nom: "),l.qZA(),l.TgZ(5,"div",10),l._uU(6),l.qZA()()(),l.TgZ(7,"div",7)(8,"div",8)(9,"div",9),l._uU(10,"Pr\xe9nom:"),l.qZA(),l.TgZ(11,"div",10),l._uU(12),l.qZA()()()()),2&q){const b=l.oxw();l.xp6(6),l.Oqu(b.informationsAssure.nom),l.xp6(6),l.hij("",b.informationsAssure.prenom," ")}}function tc(q,G){if(1&q&&(l.TgZ(0,"div",6)(1,"div",7)(2,"div",8)(3,"div",9),l._uU(4,"Raison Social: "),l.qZA(),l.TgZ(5,"div",10),l._uU(6),l.qZA()()()()),2&q){const b=l.oxw();l.xp6(6),l.Oqu(b.informationsAssure.raisonSocial)}}function as(q,G){if(1&q&&(l.TgZ(0,"div",10),l._uU(1),l.ALo(2,"dateFormatPipe"),l.qZA()),2&q){const b=l.oxw().$implicit;l.xp6(1),l.Oqu(l.lcZ(2,1,null==b.reponse?null:b.reponse.valeur))}}function Tl(q,G){if(1&q&&(l.TgZ(0,"div",10),l._uU(1),l.qZA()),2&q){const b=l.oxw().$implicit;l.xp6(1),l.Oqu(null==b.reponse?null:b.reponse.valeur)}}function uu(q,G){if(1&q&&(l.TgZ(0,"div",10),l._uU(1),l.qZA()),2&q){const b=l.oxw().$implicit;l.xp6(1),l.Oqu(null==b.reponse||null==b.reponse.idParamReponse?null:b.reponse.idParamReponse.description)}}function um(q,G){if(1&q&&(l.TgZ(0,"div",10),l._uU(1),l.qZA()),2&q){const b=l.oxw().$implicit;l.xp6(1),l.Oqu(null==b.reponse?null:b.reponse.description)}}function Sc(q,G){if(1&q&&(l.TgZ(0,"div",10),l._uU(1),l.qZA()),2&q){const b=l.oxw().$implicit;l.xp6(1),l.Oqu(null==b.reponse?null:b.reponse.valeur)}}function mm(q,G){if(1&q&&(l.TgZ(0,"div",6)(1,"div",7)(2,"div",8)(3,"div",9),l._uU(4),l.qZA(),l.YNc(5,as,3,3,"div",23),l.YNc(6,Tl,2,1,"div",23),l.YNc(7,uu,2,1,"div",23),l.YNc(8,um,2,1,"div",23),l.YNc(9,Sc,2,1,"div",23),l.qZA()()()),2&q){const b=G.$implicit;l.xp6(4),l.Oqu(b.libelle),l.xp6(1),l.Q6J("ngIf","date"==(null==b.typeChamp?null:b.typeChamp.description)),l.xp6(1),l.Q6J("ngIf","Number"==(null==b.typeChamp?null:b.typeChamp.description)),l.xp6(1),l.Q6J("ngIf","Liste of values"==(null==b.typeChamp?null:b.typeChamp.description)),l.xp6(1),l.Q6J("ngIf","From Table"==(null==b.typeChamp?null:b.typeChamp.description)),l.xp6(1),l.Q6J("ngIf","Liste of values"!=(null==b.typeChamp?null:b.typeChamp.description)&&"Number"!=(null==b.typeChamp?null:b.typeChamp.description)&&"From Table"!=(null==b.typeChamp?null:b.typeChamp.description)&&"date"!=(null==b.typeChamp?null:b.typeChamp.description))}}function wu(q,G){if(1&q&&(l.TgZ(0,"mat-expansion-panel",20)(1,"mat-expansion-panel-header")(2,"mat-panel-title",21),l._uU(3),l.qZA()(),l.YNc(4,mm,10,6,"div",22),l.qZA()),2&q){const b=G.$implicit,te=G.index;l.Q6J("expanded",!0),l.xp6(3),l.hij(" ",null==b[te]?null:b[te].categorieParamRisque," "),l.xp6(1),l.Q6J("ngForOf",b)}}function Qr(q,G){if(1&q&&(l.TgZ(0,"mat-accordion",18),l.YNc(1,wu,5,3,"mat-expansion-panel",19),l.qZA()),2&q){const b=l.oxw();l.xp6(1),l.Q6J("ngForOf",b.informationsRisque)}}function yc(q,G){1&q&&(l.TgZ(0,"th",35),l._uU(1,"Description"),l.qZA())}function Hc(q,G){if(1&q&&(l.TgZ(0,"td",36),l._uU(1),l.qZA()),2&q){const b=G.$implicit;l.xp6(1),l.hij(" ",b.description," ")}}function Gs(q,G){1&q&&(l.TgZ(0,"th",35),l._uU(1,"Pack"),l.qZA())}function mu(q,G){if(1&q&&(l.TgZ(0,"td",36),l._uU(1),l.qZA()),2&q){const b=G.$implicit;l.xp6(1),l.hij(" ",b.pack.description," ")}}function $c(q,G){1&q&&l._UZ(0,"th",35)}function bl(q,G){if(1&q){const b=l.EpF();l.TgZ(0,"td",36)(1,"button",37),l.NdJ("click",function(){const ye=l.CHM(b).$implicit,Ke=l.oxw(2);return l.KtG(Ke.toggleRow(ye))}),l.TgZ(2,"mat-icon"),l._uU(3),l.qZA()()()}if(2&q){const b=G.$implicit,te=l.oxw(2);l.xp6(3),l.Oqu(te.expandedElement===b?"expand_less":"expand_more")}}function Ou(q,G){if(1&q&&(l.TgZ(0,"th",35),l._uU(1),l.qZA()),2&q){const b=l.oxw().$implicit;l.xp6(1),l.hij(" ",b,"")}}function Xr(q,G){if(1&q&&(l.TgZ(0,"td",36),l._uU(1),l.qZA()),2&q){const b=G.$implicit,te=l.oxw(),_e=te.index,ye=te.$implicit;l.xp6(1),l.hij(" ",b.risque[_e][ye]," ")}}function Kc(q,G){1&q&&(l.ynx(0,47),l.YNc(1,Ou,2,1,"th",26),l.YNc(2,Xr,2,1,"td",27),l.BQk()),2&q&&l.Q6J("matColumnDef",G.$implicit)}function ku(q,G){1&q&&(l.TgZ(0,"th",35),l._uU(1," Action "),l.qZA())}function du(q,G){if(1&q){const b=l.EpF();l.TgZ(0,"td",36)(1,"button",48)(2,"mat-icon"),l._uU(3,"more_vert"),l.qZA()(),l.TgZ(4,"mat-menu",49,50)(6,"button",51),l.NdJ("click",function(){const ye=l.CHM(b).$implicit,Ke=l.oxw(5);return l.KtG(Ke.consultRisque(ye.idRisque,Ke.idGroupe))}),l.TgZ(7,"mat-icon"),l._uU(8,"zoom_in"),l.qZA(),l.TgZ(9,"span"),l._uU(10,"Consulter risque"),l.qZA()()()()}if(2&q){const b=l.MAs(5);l.xp6(1),l.Q6J("matMenuTriggerFor",b)}}function dm(q,G){1&q&&l._UZ(0,"tr",52)}function _u(q,G){1&q&&l._UZ(0,"tr",53)}function _m(q,G){if(1&q&&(l.TgZ(0,"div",41)(1,"table",42,43),l.YNc(3,Kc,3,1,"ng-container",44),l.ynx(4,45),l.YNc(5,ku,2,0,"th",26),l.YNc(6,du,11,1,"td",27),l.BQk(),l.YNc(7,dm,1,0,"tr",31),l.YNc(8,_u,1,0,"tr",46),l.qZA()()),2&q){const b=l.oxw(2).$implicit,te=l.oxw(2);l.xp6(1),l.Q6J("dataSource",b.risques),l.xp6(2),l.Q6J("ngForOf",te.displayedColumnsCol),l.xp6(4),l.Q6J("matHeaderRowDef",te.displayedColumnsRsInner),l.xp6(1),l.Q6J("matRowDefColumns",te.displayedColumnsRsInner)}}function Nc(q,G){if(1&q&&(l.TgZ(0,"div",39),l.YNc(1,_m,9,4,"div",40),l.qZA()),2&q){const b=l.oxw().$implicit,te=l.oxw(2);l.Q6J("@detailExpand",b==te.expandedElement?"expanded":"collapsed"),l.xp6(1),l.Q6J("ngIf",te.expandedElement)}}function Mu(q,G){if(1&q&&(l.TgZ(0,"td",36),l.YNc(1,Nc,2,2,"div",38),l.qZA()),2&q){const b=G.$implicit,te=l.oxw(2);l.uIk("colspan",te.displayedColumnsRs.length),l.xp6(1),l.Q6J("ngIf",null==b.risques||null==b.risques.data?null:b.risques.data.length)}}function Uu(q,G){1&q&&l._UZ(0,"tr",52)}function Fu(q,G){if(1&q&&l._UZ(0,"tr",53),2&q){const b=G.$implicit,te=l.oxw(2);l.ekj("example-element-row",null==b.risques||null==b.risques.data?null:b.risques.data.length)("example-expanded-row",te.expandedElement===b)}}function Ic(q,G){1&q&&l._UZ(0,"tr",54)}const Ec=function(){return["expandedDetail"]},Qu=function(){return[5,10]};function Rc(q,G){if(1&q&&(l.TgZ(0,"mat-accordion",18)(1,"table",24),l.ynx(2,25),l.YNc(3,yc,2,0,"th",26),l.YNc(4,Hc,2,1,"td",27),l.BQk(),l.ynx(5,28),l.YNc(6,Gs,2,0,"th",26),l.YNc(7,mu,2,1,"td",27),l.BQk(),l.ynx(8,29),l.YNc(9,$c,1,0,"th",26),l.YNc(10,bl,4,1,"td",27),l.BQk(),l.ynx(11,30),l.YNc(12,Mu,2,2,"td",27),l.BQk(),l.YNc(13,Uu,1,0,"tr",31),l.YNc(14,Fu,1,4,"tr",32),l.YNc(15,Ic,1,0,"tr",33),l.qZA(),l._UZ(16,"mat-paginator",34),l.qZA()),2&q){const b=l.oxw();l.xp6(1),l.Q6J("dataSource",b.dataSourceGroupes),l.xp6(12),l.Q6J("matHeaderRowDef",b.displayedColumnsRs),l.xp6(1),l.Q6J("matRowDefColumns",b.displayedColumnsRs),l.xp6(1),l.Q6J("matRowDefColumns",l.DdM(6,Ec)),l.xp6(1),l.Q6J("pageSize",10)("pageSizeOptions",l.DdM(7,Qu))}}function pu(q,G){1&q&&(l.TgZ(0,"th",35),l._uU(1," Garantie"),l.qZA())}function pm(q,G){if(1&q&&(l.TgZ(0,"td",36),l._uU(1),l.qZA()),2&q){const b=G.$implicit;l.xp6(1),l.hij(" ",b.description," ")}}function Ju(q,G){1&q&&(l.TgZ(0,"th",35),l._uU(1," Plafond "),l.qZA())}function Wc(q,G){if(1&q&&(l.TgZ(0,"td",36),l._uU(1),l.qZA()),2&q){const b=G.$implicit;l.xp6(1),l.hij(" ","0"!=b.plafond?b.plafond:"-"," ")}}function fu(q,G){1&q&&(l.TgZ(0,"th",35),l._uU(1," Franchise "),l.qZA())}function Bs(q,G){if(1&q&&(l.TgZ(0,"td",36),l._uU(1),l.qZA()),2&q){const b=G.$implicit;l.xp6(1),l.hij(" ",b.franchise," ")}}function fm(q,G){1&q&&(l.TgZ(0,"th",35),l._uU(1," Formule "),l.qZA())}function gu(q,G){if(1&q&&(l.TgZ(0,"td",36),l._uU(1),l.qZA()),2&q){const b=G.$implicit;l.xp6(1),l.hij(" ",b.formule," ")}}function fr(q,G){1&q&&(l.TgZ(0,"th",35),l._uU(1," Prime "),l.qZA())}function ea(q,G){if(1&q&&(l.TgZ(0,"td",36),l._uU(1),l.ALo(2,"money"),l.ALo(3,"number"),l.TgZ(4,"sup"),l._uU(5,"DA"),l.qZA()()),2&q){const b=G.$implicit;l.xp6(1),l.hij(" ",l.lcZ(2,1,l.xi3(3,3,b.prime,"1.0-0")),"")}}function $o(q,G){1&q&&l._UZ(0,"th",35)}function pa(q,G){if(1&q){const b=l.EpF();l.TgZ(0,"button",37),l.NdJ("click",function(){l.CHM(b);const _e=l.oxw().$implicit,ye=l.oxw(2);return l.KtG(ye.expandedElementPack=ye.expandedElementPack===_e?null:_e)}),l.TgZ(1,"mat-icon"),l._uU(2),l.qZA()()}if(2&q){const b=l.oxw().$implicit,te=l.oxw(2);l.xp6(2),l.Oqu(te.expandedElementPack===b?"indeterminate_check_box":"add_box")}}function Lu(q,G){if(1&q&&(l.TgZ(0,"td",62),l.YNc(1,pa,3,1,"button",63),l.qZA()),2&q){const b=G.$implicit,te=l.oxw(2);l.ekj("example-expanded-row",te.expandedElementPack===b),l.xp6(1),l.Q6J("ngIf",0!=b.sousGarantieList.data.length)}}function hu(q,G){1&q&&(l.TgZ(0,"th",35),l._uU(1," Sous garantie"),l.qZA())}function Cu(q,G){if(1&q&&(l.TgZ(0,"td",36),l._uU(1),l.qZA()),2&q){const b=G.$implicit;l.xp6(1),l.hij(" ",b.description," ")}}function Dc(q,G){1&q&&(l.TgZ(0,"th",35),l._uU(1," Plafond "),l.qZA())}function Yu(q,G){if(1&q&&(l.TgZ(0,"td",36),l._uU(1),l.qZA()),2&q){const b=G.$implicit;l.xp6(1),l.hij(" ","0"!=b.plafond?b.plafond:"-"," ")}}function gm(q,G){1&q&&(l.TgZ(0,"th",35),l._uU(1," Franchise "),l.qZA())}function Pl(q,G){if(1&q&&(l.TgZ(0,"td",36),l._uU(1),l.qZA()),2&q){const b=G.$implicit;l.xp6(1),l.hij(" ",b.franchise," ")}}function dc(q,G){1&q&&(l.TgZ(0,"th",35),l._uU(1," Formule "),l.qZA())}function Zl(q,G){if(1&q&&(l.TgZ(0,"td",36),l._uU(1),l.qZA()),2&q){const b=G.$implicit;l.xp6(1),l.hij(" ",b.formule," ")}}function Gu(q,G){1&q&&(l.TgZ(0,"th",35),l._uU(1," Prime "),l.qZA())}function xu(q,G){if(1&q&&(l.TgZ(0,"td",36),l._uU(1),l.ALo(2,"money"),l.ALo(3,"number"),l.TgZ(4,"sup"),l._uU(5,"DA"),l.qZA()()),2&q){const b=G.$implicit;l.xp6(1),l.hij(" ",l.lcZ(2,1,l.xi3(3,3,b.prime,"1.0-0")),"")}}function lo(q,G){1&q&&l._UZ(0,"th",35)}function hm(q,G){1&q&&l._UZ(0,"td",36)}function Cm(q,G){1&q&&l._UZ(0,"th",35)}function Gl(q,G){1&q&&l._UZ(0,"td",36)}function vu(q,G){1&q&&l._UZ(0,"tr",52)}function xm(q,G){1&q&&l._UZ(0,"tr",53)}function vm(q,G){if(1&q&&(l.TgZ(0,"td",36)(1,"div",39)(2,"table",64),l.ynx(3,25),l.YNc(4,hu,2,0,"th",26),l.YNc(5,Cu,2,1,"td",27),l.BQk(),l.ynx(6,56),l.YNc(7,Dc,2,0,"th",26),l.YNc(8,Yu,2,1,"td",27),l.BQk(),l.ynx(9,57),l.YNc(10,gm,2,0,"th",26),l.YNc(11,Pl,2,1,"td",27),l.BQk(),l.ynx(12,58),l.YNc(13,dc,2,0,"th",26),l.YNc(14,Zl,2,1,"td",27),l.BQk(),l.ynx(15,59),l.YNc(16,Gu,2,0,"th",26),l.YNc(17,xu,6,6,"td",27),l.BQk(),l.ynx(18,65),l.YNc(19,lo,1,0,"th",26),l.YNc(20,hm,1,0,"td",27),l.BQk(),l.ynx(21,66),l.YNc(22,Cm,1,0,"th",26),l.YNc(23,Gl,1,0,"td",27),l.BQk(),l.YNc(24,vu,1,0,"tr",31),l.YNc(25,xm,1,0,"tr",46),l.qZA()()()),2&q){const b=G.$implicit,te=l.oxw(2);l.uIk("colspan",te.displayedColumnsPack.length),l.xp6(1),l.Q6J("@detailExpand",b==te.expandedElementPack?"expanded":"collapsed"),l.xp6(1),l.Q6J("dataSource",b.sousGarantieList),l.xp6(22),l.Q6J("matHeaderRowDef",te.displayedColumnsPackSousGarantie),l.xp6(1),l.Q6J("matRowDefColumns",te.displayedColumnsPackSousGarantie)}}function Na(q,G){1&q&&l._UZ(0,"tr",52)}function Bu(q,G){1&q&&l._UZ(0,"tr",53)}function Ia(q,G){1&q&&l._UZ(0,"tr",54)}function ql(q,G){if(1&q&&(l.TgZ(0,"mat-expansion-panel",4)(1,"mat-expansion-panel-header")(2,"mat-panel-title"),l._uU(3),l.qZA()(),l.TgZ(4,"table",55),l.ynx(5,25),l.YNc(6,pu,2,0,"th",26),l.YNc(7,pm,2,1,"td",27),l.BQk(),l.ynx(8,56),l.YNc(9,Ju,2,0,"th",26),l.YNc(10,Wc,2,1,"td",27),l.BQk(),l.ynx(11,57),l.YNc(12,fu,2,0,"th",26),l.YNc(13,Bs,2,1,"td",27),l.BQk(),l.ynx(14,58),l.YNc(15,fm,2,0,"th",26),l.YNc(16,gu,2,1,"td",27),l.BQk(),l.ynx(17,59),l.YNc(18,fr,2,0,"th",26),l.YNc(19,ea,6,6,"td",27),l.BQk(),l.ynx(20,60),l.YNc(21,$o,1,0,"th",26),l.YNc(22,Lu,2,3,"td",61),l.BQk(),l.ynx(23,30),l.YNc(24,vm,26,5,"td",27),l.BQk(),l.YNc(25,Na,1,0,"tr",31),l.YNc(26,Bu,1,0,"tr",46),l.YNc(27,Ia,1,0,"tr",33),l.qZA()()),2&q){const b=l.oxw();l.Q6J("expanded",!0),l.xp6(3),l.hij(' Pack et garanties "',b.packName,'" '),l.xp6(1),l.Q6J("dataSource",b.dataSourcePack),l.xp6(21),l.Q6J("matHeaderRowDef",b.displayedColumnsPack),l.xp6(1),l.Q6J("matRowDefColumns",b.displayedColumnsPack),l.xp6(1),l.Q6J("matRowDefColumns",l.DdM(6,Ec))}}function _c(q,G){if(1&q&&(l.ynx(0),l.TgZ(1,"td"),l._uU(2),l.qZA(),l.TgZ(3,"td"),l._uU(4),l.ALo(5,"money"),l.ALo(6,"number"),l.TgZ(7,"sup"),l._uU(8,"DA"),l.qZA()(),l.BQk()),2&q){const b=l.oxw().$implicit;l.xp6(2),l.Oqu(b.typePrime.description),l.xp6(2),l.hij("",l.lcZ(5,2,l.xi3(6,4,b.prime,"1.0-0"))," ")}}function zu(q,G){if(1&q&&(l.TgZ(0,"tr"),l.YNc(1,_c,9,7,"ng-container",67),l.qZA()),2&q){const b=G.$implicit;l.xp6(1),l.Q6J("ngIf",101==b.typePrime.idParam)}}function Ea(q,G){if(1&q&&(l.TgZ(0,"tr")(1,"td"),l._uU(2),l.qZA(),l.TgZ(3,"td"),l._uU(4),l.ALo(5,"money"),l.ALo(6,"number"),l.TgZ(7,"sup"),l._uU(8,"DA"),l.qZA()()()),2&q){const b=G.$implicit;l.xp6(2),l.Oqu(b.taxe.description),l.xp6(2),l.hij("",l.lcZ(5,2,l.xi3(6,4,b.prime,"1.0-0"))," ")}}function Sl(q,G){if(1&q&&(l.ynx(0),l.TgZ(1,"td",68),l._uU(2),l.qZA(),l.TgZ(3,"td",68),l._uU(4),l.ALo(5,"money"),l.ALo(6,"number"),l.TgZ(7,"sup"),l._uU(8,"DA"),l.qZA()(),l.BQk()),2&q){const b=l.oxw().$implicit;l.xp6(2),l.Oqu(b.typePrime.description),l.xp6(2),l.hij("",l.lcZ(5,2,l.xi3(6,4,b.prime,"1.0-0"))," ")}}function Au(q,G){if(1&q&&(l.TgZ(0,"tr"),l.YNc(1,Sl,9,7,"ng-container",67),l.qZA()),2&q){const b=G.$implicit;l.xp6(1),l.Q6J("ngIf",186==b.typePrime.idParam)}}const U=[{path:"creation-devis/:codeProduit/:produit",component:rm,canActivate:[me.k],data:{roles:["CDC_BEA","COURTIER","ROLE_SUPER_ADMIN","ANALYSTE","METIER","BACKOFFICE","DA","BO","CDC"]}},{path:"consultation/:codeProduit/:nomProduit",component:Al,canActivate:[me.k],data:{roles:["CDC_BEA","COURTIER","ROLE_SUPER_ADMIN","ANALYSTE","METIER","BACKOFFICE","DA","BO","CDC","CONSULTATION"]}},{path:"consultation/:codeProduit/:produit/:idDevis",component:(()=>{class q{constructor(b,te,_e,ye,Ke,Pt,ft){this.authentificationService=b,this.dialog=te,this.cd=_e,this.genericService=ye,this.router=Ke,this.route=Pt,this.devisService=ft,this.dataSourcePack=new w.by,this.dataSourcePrime=new w.by,this.dataSourceGroupes=new w.by,this.displayedColumnsPack=["description","plafond","franchise","formule","prime","sousGarantie"],this.displayedColumnsPackSousGarantie=["description","plafond","franchise","formule","prime","empty1","empty2"],this.displayedColumnsPrime=["description","prime"],this.informationsAssure=[],this.informationsContrat=[],this.informationsPack=[],this.informationsPrime=[],this.categoriesRisque=[],this.sousGarantieTab=[],this.primeListe=[],this.taxeListe=[],this.displayedColumnsRs=["description","pack","more"],this.displayedColumnsRsInner=[],this.displayedColumnsCol=[],this.res=[],this.valeurVenale=0,this.multiRisque=!1}getUserById(b){this.authentificationService.getByUserId(b).subscribe({next:te=>{this.auditUser=te.nom+" "+te.prenom},error:te=>{console.log(te)}})}ngOnInit(){var b=this;this.idDevis=this.route.snapshot.paramMap.get("idDevis"),this.getInfoProduit(),this.devisService.getDevisById(this.idDevis).subscribe({next:te=>{if(this.getUserById(te.auditUser),this.multiRisque||this.consultRisque(te.groupes[0].risques[0].idRisque,te.groupes[0].idGroupe),this.informationsAssure={typeClient:te.typeClient.description,raisonSocial:te.raisonSocial,nom:te.nom,prenom:te.prenom,email:te.email,tel:te.telephone},this.informationsContrat={duree:te.duree.description,agence:te.agence?.raisonSocial,reduction:te.reduction?.nomReduction,convention:te.reduction?.codeConvention?.nomConvention},this.packName=te?.groupes[0]?.pack.description,this.multiRisque){let _e=[];const ye=te.groupes;ye.forEach(Ke=>{Ke.risques.forEach(Pt=>{Pt.risque.forEach(ft=>{ft.colonne=ft.colonne.split(" ").map(Nt=>Nt.charAt(0).toUpperCase()+Nt.substring(1)).join("").replace(/[\xb0']/g,""),this.displayedColumnsRsInner=this.displayedColumnsRsInner.includes(ft.colonne)?this.displayedColumnsRsInner:[...this.displayedColumnsRsInner,ft.colonne],this.displayedColumnsCol=this.displayedColumnsCol.includes(ft.colonne)?this.displayedColumnsCol:[...this.displayedColumnsCol,ft.colonne];const St=Pt.risque.find(Nt=>Nt.colonne===ft.colonne);St&&(St[ft.colonne]=ft.valeur,delete St.colonne,delete St.valeur)})})}),this.displayedColumnsRsInner.push("action"),ye.forEach(Ke=>{Ke.risques&&Array.isArray(Ke.risques)&&Ke.risques.length?(Ke.risques.idGroupe=Ke.idGroupe,_e=[..._e,{...Ke,risques:new w.by(Ke.risques)}]):_e=[..._e,Ke]}),this.dataSourceGroupes=new w.by(_e),this.dataSourceGroupes.paginator=this.paginator}else this.devisService.getPackIdRisque(this.idDevis,te.groupes[0].risques[0].idRisque).subscribe({next:(_e=(0,Le.Z)(function*(ye){ye.garantieList.map(Ke=>{let Pt="-",ft="-",St="-";(Ke.prime&&"0"!=Ke.prime||"95"!=te?.produit?.codeProduit)&&(Ke.sousGarantieList?.filter(Nt=>{let Bn="-",hn="-",no="-";Nt.categorieList.map(kn=>{"C15"==kn.code?no=kn.valeur:"C16"==kn.code?hn=kn.valeur:"C7"==kn.code&&("0"==kn.valeur&&(kn.valeur=b.valeurVenale),Bn=kn.valeur)}),b.sousGarantieTab.push({idGarantie:Nt.idGarantie,description:Nt.description,prime:Nt.prime,plafond:"-"!=Bn?Number(Bn).toLocaleString("fi-FI",{minimumFractionDigits:2,maximumFractionDigits:2}):Bn,formule:"-"!=hn?Number(hn).toLocaleString("fi-FI",{minimumFractionDigits:2,maximumFractionDigits:2}):hn,franchise:"-"!=no?Number(no).toLocaleString("fi-FI",{minimumFractionDigits:2,maximumFractionDigits:2}):no})}),Ke.categorieList.map(Nt=>{"C15"==Nt.code?St=Nt.valeur:"C16"==Nt.code?ft=Nt.valeur:"C7"==Nt.code&&("0"==Nt.valeur&&(Nt.valeur=b.valeurVenale),Pt=Nt.valeur)}),b.informationsPack.push({idGarantie:Ke.idGarantie,description:Ke.description,prime:Ke.prime,plafond:"-"!=Pt?Number(Pt).toLocaleString("fi-FI",{minimumFractionDigits:2,maximumFractionDigits:2}):Pt,formule:"-"!=ft?Number(ft).toLocaleString("fi-FI",{minimumFractionDigits:2,maximumFractionDigits:2}):ft,franchise:"-"!=St?Number(St).toLocaleString("fi-FI",{minimumFractionDigits:2,maximumFractionDigits:2}):St,sousGarantieList:new w.by(b.sousGarantieTab)})),b.sousGarantieTab=[]}),b.dataSourcePack=new w.by(b.informationsPack),b.dataSourcePack=new w.by(b.informationsPack)}),function(Ke){return _e.apply(this,arguments)}),error:_e=>{console.log(_e)}});var _e;this.primeListe=te.primeList,this.taxeListe=te.taxeList},error:te=>{console.log(te)}})}toggleRow(b){this.dataSourceGroupes.data.indexOf(b),this.idGroupe=b.idGroupe,b.risques&&b.risques.data.length&&(this.expandedElement=this.expandedElement===b?null:b),this.cd.detectChanges(),this.innerTables.forEach((te,_e)=>te.dataSource.sort=this.innerSort.toArray()[_e])}getInfoProduit(){let b=JSON.parse(sessionStorage.getItem("products")||"{}").find(te=>te.codeProduit==this.route.snapshot.paramMap.get("codeProduit")).idProduit;this.genericService.getPorduitById(b).subscribe({next:te=>{this.multiRisque="Oui"==te.param_Produit_Reponses.filter(_e=>"multirisque"==_e.idParamProduit.libelle)[0].reponse.description},error:te=>{console.log(te)}})}goBack(){this.router.navigate(["consultation/",this.route.snapshot.paramMap.get("codeProduit"),this.route.snapshot.paramMap.get("produit")])}getWilaya(){this.genericService.getAllWilayas(1).subscribe({next:b=>{this.wilayas=b,this.informationsRisque.map(te=>{te.map(_e=>{"P125"==_e.codeRisque||"P56"==_e.codeRisque?(this.risqueWilayaId=_e.reponse.valeur,_e.reponse.valeur=this.wilayas.filter(ye=>ye.idWilaya==_e.reponse.valeur)[0].description):"P126"==_e.codeRisque&&this.genericService.getAllCommuneByWilaya(this.risqueWilayaId).subscribe({next:ye=>{_e.reponse.valeur=ye.filter(Ke=>Ke.idCommune==_e.reponse.valeur)[0].description},error:ye=>{console.log(ye)}})})})},error:b=>{console.log(b)}})}consultRisque(b,te){this.devisService.getParamDevisByIdRisque(this.idDevis,te,b).subscribe({next:_e=>{this.datasParam=_e,this.multiRisque||(this.informationsRisque=this.datasParam.reduce((ye,Ke)=>("P40"==Ke?.codeParam&&(this.valeurVenale=Ke.valeur),(ye[Ke.categorieParamRisque]=ye[Ke.categorieParamRisque]||[]).push(Ke),ye),{}),this.informationsRisque=Object.values(this.informationsRisque),this.getWilaya()),this.multiRisque&&this.devisService.getPackIdRisque(this.idDevis,b).subscribe({next:ye=>{this.openDialog(_e,ye)},error:ye=>{console.log(ye)}})},error:_e=>{console.log(_e)}})}openDialog(b,te){this.dialog.open(cu.T,{width:"60%",data:{paramRisque:b,pack:te}}).afterClosed().subscribe(ye=>{})}}return q.\u0275fac=function(b){return new(b||q)(l.Y36(Fr.g),l.Y36(Ft.uw),l.Y36(l.sBO),l.Y36(Xn.M),l.Y36(ee.F0),l.Y36(ee.gz),l.Y36(tt.J))},q.\u0275cmp=l.Xpm({type:q,selectors:[["app-consult-devis"]],viewQuery:function(b,te){if(1&b&&(l.Gf(Jn.NW,5),l.Gf(Qa,5),l.Gf(rs,5)),2&b){let _e;l.iGM(_e=l.CRH())&&(te.paginator=_e.first),l.iGM(_e=l.CRH())&&(te.innerTables=_e),l.iGM(_e=l.CRH())&&(te.innerSort=_e)}},decls:90,vars:21,consts:[[1,"container"],[1,"header-title"],["aria-hidden","false","matTooltip","Retour","matTooltipPosition","left",1,"material-symbols-outlined",3,"click"],["multi","",1,"example-headers-align"],["hideToggle","",3,"expanded"],[1,"container",2,"padding","1rem 2rem"],[1,"row","infos"],[1,"col-md-6"],[1,"row"],[1,"col-md-6","key"],[1,"col-md-6","value"],["class","row infos",4,"ngIf","ngIfElse"],["personneMoral",""],["multi","",4,"ngIf","ngIfElse"],["multirisque",""],["hideToggle","",3,"expanded",4,"ngIf"],[1,"resume"],[4,"ngFor","ngForOf"],["multi",""],["hideToggle","","class","panel-risque",3,"expanded",4,"ngFor","ngForOf"],["hideToggle","",1,"panel-risque",3,"expanded"],[1,"categoryTitle"],["class","row infos ",4,"ngFor","ngForOf"],["class","col-md-6 value",4,"ngIf"],["mat-table","","multiTemplateDataRows","",1,"gestion-table",3,"dataSource"],["matColumnDef","description"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","pack"],["matColumnDef","more"],["matColumnDef","expandedDetail"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",3,"example-element-row","example-expanded-row",4,"matRowDef","matRowDefColumns"],["mat-row","","class","example-detail-row",4,"matRowDef","matRowDefColumns"],["aria-label","Select page of users",3,"pageSize","pageSizeOptions"],["mat-header-cell",""],["mat-cell",""],["mat-icon-button","","type","button","aria-label","",3,"click"],["class","example-element-detail",4,"ngIf"],[1,"example-element-detail"],["class","inner-table mat-elevation-z8",4,"ngIf"],[1,"inner-table","mat-elevation-z8"],["mat-table","","matSort","",1,"",3,"dataSource"],["innerTables",""],[3,"matColumnDef",4,"ngFor","ngForOf"],["matColumnDef","action"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"matColumnDef"],["mat-icon-button","","type","button","aria-label","menu contrat list",3,"matMenuTriggerFor"],["xPosition","after",1,"menu-contrat"],["menu","matMenu"],["mat-menu-item","","type","button",3,"click"],["mat-header-row",""],["mat-row",""],["mat-row","",1,"example-detail-row"],["mat-table","","multiTemplateDataRows","",1,"pack-table",3,"dataSource"],["matColumnDef","plafond"],["matColumnDef","franchise"],["matColumnDef","formule"],["matColumnDef","prime"],["matColumnDef","sousGarantie"],["mat-cell","","class","example-element-row",3,"example-expanded-row",4,"matCellDef"],["mat-cell","",1,"example-element-row"],["mat-icon-button","","type","button","aria-label","",3,"click",4,"ngIf"],["mat-table","","multiTemplateDataRows","",1,"pack-table","innertable",3,"dataSource"],["matColumnDef","empty1"],["matColumnDef","empty2"],[4,"ngIf"],[1,"primeTotale"]],template:function(b,te){if(1&b&&(l.TgZ(0,"div",0)(1,"h2",1)(2,"mat-icon",2),l.NdJ("click",function(){return te.goBack()}),l._uU(3,"arrow_circle_left"),l.qZA(),l._uU(4),l.qZA(),l.TgZ(5,"mat-accordion",3)(6,"mat-expansion-panel",4)(7,"mat-expansion-panel-header")(8,"mat-panel-title"),l._uU(9," Information de l'assur\xe9(e) "),l.qZA()(),l.TgZ(10,"div",5)(11,"div",6)(12,"div",7)(13,"div",8)(14,"div",9),l._uU(15,"Type Client: "),l.qZA(),l.TgZ(16,"div",10),l._uU(17),l.qZA()()()(),l.YNc(18,jc,13,2,"div",11),l.YNc(19,tc,7,1,"ng-template",null,12,l.W1O),l.TgZ(21,"div",6)(22,"div",7)(23,"div",8)(24,"div",9),l._uU(25,"Email: "),l.qZA(),l.TgZ(26,"div",10),l._uU(27),l.qZA()()(),l.TgZ(28,"div",7)(29,"div",8)(30,"div",9),l._uU(31,"T\xe9l\xe9phone:"),l.qZA(),l.TgZ(32,"div",10),l._uU(33),l.qZA()()()()()(),l.TgZ(34,"mat-expansion-panel",4)(35,"mat-expansion-panel-header")(36,"mat-panel-title"),l._uU(37," Contrat "),l.qZA()(),l.TgZ(38,"div",5)(39,"div",6)(40,"div",7)(41,"div",8)(42,"div",9),l._uU(43,"Dur\xe9e: "),l.qZA(),l.TgZ(44,"div",10),l._uU(45),l.qZA()()(),l.TgZ(46,"div",7)(47,"div",8)(48,"div",9),l._uU(49,"Agence: "),l.qZA(),l.TgZ(50,"div",10),l._uU(51),l.qZA()()()(),l.TgZ(52,"div",6)(53,"div",7)(54,"div",8)(55,"div",9),l._uU(56,"R\xe9duction: "),l.qZA(),l.TgZ(57,"div",10),l._uU(58),l.qZA()()(),l.TgZ(59,"div",7)(60,"div",8)(61,"div",9),l._uU(62,"Convention:"),l.qZA(),l.TgZ(63,"div",10),l._uU(64),l.qZA()()()(),l.TgZ(65,"div",6)(66,"div",7)(67,"div",8)(68,"div",9),l._uU(69,"Audit User: "),l.qZA(),l.TgZ(70,"div",10),l._uU(71),l.qZA()()(),l._UZ(72,"div",7),l.qZA()()(),l.TgZ(73,"mat-expansion-panel",4)(74,"mat-expansion-panel-header")(75,"mat-panel-title"),l._uU(76," Informations du risque "),l.qZA()(),l.TgZ(77,"div",5),l.YNc(78,Qr,2,1,"mat-accordion",13),l.YNc(79,Rc,17,8,"ng-template",null,14,l.W1O),l.qZA()(),l.YNc(81,ql,28,7,"mat-expansion-panel",15),l.TgZ(82,"mat-expansion-panel",4)(83,"mat-expansion-panel-header")(84,"mat-panel-title"),l._uU(85," Prime "),l.qZA()(),l.TgZ(86,"table",16),l.YNc(87,zu,2,1,"tr",17),l.YNc(88,Ea,9,7,"tr",17),l.YNc(89,Au,2,1,"tr",17),l.qZA()()()()),2&b){const _e=l.MAs(20),ye=l.MAs(80);l.xp6(4),l.hij(" Consultation du devis N\xb0",te.idDevis,""),l.xp6(2),l.Q6J("expanded",!0),l.xp6(11),l.Oqu(te.informationsAssure.typeClient),l.xp6(1),l.Q6J("ngIf","personne physique"==te.informationsAssure.typeClient)("ngIfElse",_e),l.xp6(9),l.Oqu(te.informationsAssure.email),l.xp6(6),l.hij("",te.informationsAssure.tel," "),l.xp6(1),l.Q6J("expanded",!0),l.xp6(11),l.hij("",te.informationsContrat.duree," "),l.xp6(6),l.Oqu(te.informationsContrat.agence),l.xp6(7),l.Oqu(te.informationsContrat.reduction),l.xp6(6),l.hij("",te.informationsContrat.convention," "),l.xp6(7),l.Oqu(te.auditUser),l.xp6(2),l.Q6J("expanded",!0),l.xp6(5),l.Q6J("ngIf",!te.multiRisque)("ngIfElse",ye),l.xp6(3),l.Q6J("ngIf",!te.multiRisque),l.xp6(1),l.Q6J("expanded",!0),l.xp6(5),l.Q6J("ngForOf",te.primeListe),l.xp6(1),l.Q6J("ngForOf",te.taxeListe),l.xp6(1),l.Q6J("ngForOf",te.primeListe)}},dependencies:[Se.sg,Se.O5,Mt.Hw,Lt.pp,Lt.ib,Lt.yz,Lt.yK,xt.VK,xt.OP,xt.p6,w.BZ,w.fO,w.as,w.w1,w.Dz,w.nj,w.ge,w.ev,w.XQ,w.Gk,Yl.gM,Jn.NW,xi.lW,Se.JJ,Sr.y,hi.X],styles:[".container[_ngcontent-%COMP%]{background-color:#fff;padding:40px 0;height:100%;overflow-y:auto;overflow-x:hidden}.gestion-table[_ngcontent-%COMP%]{width:100%}.gestion-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .gestion-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:16px}.gestion-table[_ngcontent-%COMP%]   .mat-header-cell[_ngcontent-%COMP%]{color:#00008f;font-weight:600}.gestion-table[_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]:nth-child(even), .gestion-table[_ngcontent-%COMP%]   .mat-header-row[_ngcontent-%COMP%]{background-color:#f7f7f9}.gestion-table[_ngcontent-%COMP%]   .mat-paginator[_ngcontent-%COMP%]{background-color:transparent;margin:20px auto auto;width:80%}.gestion-table[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{height:100%;font-size:26px;color:#00008f;width:-moz-fit-content;width:fit-content}.mat-menu-item[_ngcontent-%COMP%]{font-size:15px}.mat-menu-item[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:18px;height:-moz-fit-content;height:fit-content}.mat-menu-item[_ngcontent-%COMP%]:hover:not([disabled]), .mat-menu-item[_ngcontent-%COMP%]:hover:not([disabled])   .mat-icon[_ngcontent-%COMP%]{color:#00008f}.header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:0px 2rem}.header[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{height:-moz-fit-content;height:fit-content;font-size:29px;margin-right:1rem;width:-moz-fit-content;width:fit-content}.title-table[_ngcontent-%COMP%]{margin-bottom:0rem;font-weight:800!important;font-size:23px!important;color:#00008f!important}.container[_ngcontent-%COMP%]{background-color:#fff;padding:40px 0;height:100%;overflow-x:hidden;box-shadow:0 .5rem 1rem #00000026}.mat-expansion-panel-header[_ngcontent-%COMP%]{background:rgba(199,199,199,.2)!important;font-weight:600;font-size:16px}.mat-expansion-panel-header.mat-expanded[_ngcontent-%COMP%]{height:48px}.mat-expansion-panel-header-title[_ngcontent-%COMP%]{color:#00008f}.mat-expansion-panel[_ngcontent-%COMP%]:not([class*=mat-elevation-z]){box-shadow:none}.row.infos[_ngcontent-%COMP%]{font-size:16px;margin-bottom:2rem;font-weight:600}.panel-risque[_ngcontent-%COMP%]   .row.infos[_ngcontent-%COMP%]{margin-left:10px;margin-top:10px}.panel-risque[_ngcontent-%COMP%]{width:70%}.categoryTitle[_ngcontent-%COMP%]{text-transform:capitalize}.value[_ngcontent-%COMP%]{color:#00008f;font-weight:600}h2.header-title[_ngcontent-%COMP%]{padding:0 24px;font-size:21px!important;color:#00008f;font-weight:600!important;letter-spacing:1px;display:flex;justify-content:space-between}table.pack-table[_ngcontent-%COMP%]{width:100%;margin-top:1rem;margin-left:10px;margin-right:10px}.mat-header-row[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{color:#00008f}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:16px;font-weight:600;border-right:1px solid #e7e7e7;padding-left:1rem;width:200px}.mat-column-empty1[_ngcontent-%COMP%], .mat-column-empty2[_ngcontent-%COMP%]{border-right:none!important}.mat-header-cell[_ngcontent-%COMP%]{color:#333;font-weight:600;letter-spacing:.5px;font-size:15px}table.resume[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;border-spacing:0 19px}table.resume[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:17px;padding:12px 19px;border:1px solid rgba(0,0,0,.12)}.resume-buttons[_ngcontent-%COMP%]{margin-top:4rem;width:50%;display:flex;justify-content:space-between}.resume-buttons[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{margin-right:9px;font-size:24px}.mat-column-expandedDetail[_ngcontent-%COMP%]{padding-left:0!important;padding-right:0!important}.example-element-detail[_ngcontent-%COMP%]{overflow:hidden;display:flex}tr.example-detail-row[_ngcontent-%COMP%]{height:0}.mat-column-expandedDetail[_ngcontent-%COMP%]{padding:0}.mat-cell[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]:hover, .mat-header-cell[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]:hover{color:#d14723;cursor:pointer}.mat-cell[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{color:#00008f}.innertable[_ngcontent-%COMP%]{background-color:#f7f7f9}.cdk-column-expandedDetail[_ngcontent-%COMP%]{border-bottom-width:0px}.mat-menu-item[_ngcontent-%COMP%]{font-size:16px}.mat-icon[_ngcontent-%COMP%]{margin-right:16px;font-size:21px;height:-moz-fit-content;height:fit-content}.mat-menu-item[_ngcontent-%COMP%]:hover:not([disabled]){color:#00008f}.mat-menu-item[_ngcontent-%COMP%]:hover:not([disabled])   .mat-icon[_ngcontent-%COMP%]{color:#00008f}.inner-table[_ngcontent-%COMP%], .inner-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%}"],data:{animation:[(0,J.X$)("detailExpand",[(0,J.SB)("collapsed",(0,J.oB)({height:"0px",minHeight:"0",display:"none"})),(0,J.SB)("expanded",(0,J.oB)({height:"*"})),(0,J.eR)("expanded <=> collapsed",(0,J.jt)("225ms cubic-bezier(0.4, 0.0, 0.2, 1)"))])]}}),q})(),canActivate:[me.k],data:{roles:["CDC_BEA","COURTIER","ROLE_SUPER_ADMIN","ANALYSTE","METIER","BACKOFFICE","DA","BO","CDC","CONSULTATION"]}}];let Te=(()=>{class q{}return q.\u0275fac=function(b){return new(b||q)},q.\u0275mod=l.oAB({type:q}),q.\u0275inj=l.cJS({imports:[ee.Bz.forChild(U),ee.Bz]}),q})(),N=(()=>{class q{}return q.\u0275fac=function(b){return new(b||q)},q.\u0275mod=l.oAB({type:q}),q.\u0275inj=l.cJS({imports:[Se.ez,h.m,Ge.q,Te,K.I]}),q})()},3394:(co,wn,B)=>{"use strict";B.r(wn),B.d(wn,{GestionReductionModule:()=>lr});var Se=B(6895),K=B(294),Ge=B(4092),h=B(4466),ee=B(2510),me=B(9523),Le=B(8739),Q=B(6308),w=B(7155),o=B(5412),e=B(4006),xe=B(5439),n=B(4650),i=B(4850),Z=B(9549),O=B(284),J=B(9602);function he(ue,je){1&ue&&(n.TgZ(0,"div"),n._uU(1," ce champs est obligatoire"),n.qZA())}function Ze(ue,je){if(1&ue&&(n.TgZ(0,"mat-error",13),n.YNc(1,he,2,0,"div",14),n.qZA()),2&ue){const z=n.oxw();n.xp6(1),n.Q6J("ngIf",z.FormDesactiveReduction.controls.dateFin.errors.required)}}let l=(()=>{class ue{constructor(z,ge,we){this.data=z,this.formBuilder=ge,this.dialogRef=we,this.minDate=new Date}ngOnInit(){this.FormDesactiveReduction=this.formBuilder.group({dateFin:["",[e.kI.required]]})}submitDateFin(z){this.FormDesactiveReduction.valid&&(this.FormDesactiveReduction.get("dateFin").setValue(xe(this.FormDesactiveReduction.get("dateFin").value).format("YYYY-MM-DD")),this.dialogRef.close({data:this.FormDesactiveReduction.get("dateFin").value}))}}return ue.\u0275fac=function(z){return new(z||ue)(n.Y36(o.WI),n.Y36(e.qu),n.Y36(o.so))},ue.\u0275cmp=n.Xpm({type:ue,selectors:[["app-desactivation-reduction-dialog"]],decls:20,vars:5,consts:[["mat-dialog-title","",1,"dialog-header"],[1,"heading"],[1,"mat-typography"],[1,"row",3,"formGroup","ngSubmit"],["formDirective","ngForm"],["appearance","outline",1,"col-md-6"],["matInput","","formControlName","dateFin",3,"matDatepicker","min"],["matSuffix","",3,"for"],["pickerDatefin",""],["class","invalid-feedback",4,"ngIf"],[1,"row-button"],["mat-dialog-close","","type","button",1,"btn","btn-cancel"],["type","submit",1,"btn","btn-action","col-button-add"],[1,"invalid-feedback"],[4,"ngIf"]],template:function(z,ge){if(1&z){const we=n.EpF();n.TgZ(0,"div",0)(1,"span",1),n._uU(2,"D\xe9sactiver r\xe9duction"),n.qZA()(),n._UZ(3,"mat-divider"),n.TgZ(4,"mat-dialog-content",2)(5,"form",3,4),n.NdJ("ngSubmit",function(){n.CHM(we);const st=n.MAs(6);return n.KtG(ge.submitDateFin(st))}),n.TgZ(7,"mat-form-field",5)(8,"mat-label"),n._uU(9,"Date fin"),n.qZA(),n._UZ(10,"input",6)(11,"mat-datepicker-toggle",7)(12,"mat-datepicker",null,8),n.YNc(14,Ze,2,1,"mat-error",9),n.qZA(),n.TgZ(15,"div",10)(16,"button",11),n._uU(17,"Retour"),n.qZA(),n.TgZ(18,"button",12),n._uU(19,"Enregistrer"),n.qZA()()()()}if(2&z){const we=n.MAs(13);n.xp6(5),n.Q6J("formGroup",ge.FormDesactiveReduction),n.xp6(5),n.Q6J("matDatepicker",we)("min",ge.minDate),n.xp6(1),n.Q6J("for",we),n.xp6(3),n.Q6J("ngIf",ge.FormDesactiveReduction.controls.dateFin.errors)}},dependencies:[Se.O5,i.d,e._Y,e.Fj,e.JJ,e.JL,e.sg,e.u,Z.TO,Z.KE,Z.hX,Z.R9,O.Nt,o.ZT,o.uh,o.xY,J.Mq,J.hl,J.nW],styles:[".mat-dialog-content[_ngcontent-%COMP%]{padding-top:15px}.btn.btn-cancel[_ngcontent-%COMP%]{float:left}.btn.btn-action[_ngcontent-%COMP%]{float:right}"]}),ue})();var t=B(7947),Ft=B(3388),ln=B(7392),ut=B(8255),ot=B(266),tt=B(4385),Zt=B(3238),nn=B(4859),_n=B(4803);function xn(ue,je){if(1&ue&&(n.ynx(0),n.TgZ(1,"mat-option",33),n._uU(2),n.qZA(),n.BQk()),2&ue){const z=je.$implicit;n.xp6(1),n.Q6J("value",z.idCodeProduit),n.xp6(1),n.hij(" ",z.description," ")}}function mn(ue,je){1&ue&&(n.TgZ(0,"th",34),n._uU(1," Code "),n.qZA())}function Ri(ue,je){if(1&ue&&(n.TgZ(0,"td",35),n._uU(1),n.qZA()),2&ue){const z=je.$implicit;n.xp6(1),n.hij(" ",z.codeReduction," ")}}function Xn(ue,je){1&ue&&(n.TgZ(0,"th",34),n._uU(1," D\xe9scription "),n.qZA())}function Mt(ue,je){if(1&ue&&(n.TgZ(0,"td",35),n._uU(1),n.qZA()),2&ue){const z=je.$implicit;n.xp6(1),n.hij(" ",z.nomReduction," ")}}function Lt(ue,je){1&ue&&(n.TgZ(0,"th",34),n._uU(1," Produit "),n.qZA())}function xt(ue,je){if(1&ue&&(n.TgZ(0,"td",35),n._uU(1),n.qZA()),2&ue){const z=je.$implicit;n.xp6(1),n.hij(" ",z.produit," ")}}function ht(ue,je){1&ue&&(n.TgZ(0,"th",34),n._uU(1," type R\xe9duction "),n.qZA())}function Yn(ue,je){if(1&ue&&(n.TgZ(0,"td",35),n._uU(1),n.qZA()),2&ue){const z=je.$implicit;n.xp6(1),n.hij(" ",z.typeReduction," ")}}function Jn(ue,je){1&ue&&(n.TgZ(0,"th",34),n._uU(1," date Fin "),n.qZA())}function pi(ue,je){if(1&ue&&(n.TgZ(0,"td",35),n._uU(1),n.ALo(2,"dateFormatPipe"),n.qZA()),2&ue){const z=je.$implicit;n.xp6(1),n.hij(" ",n.lcZ(2,1,z.dateFin)," ")}}function Qn(ue,je){1&ue&&(n.TgZ(0,"th",34),n._uU(1," Action "),n.qZA())}function Kn(ue,je){if(1&ue){const z=n.EpF();n.TgZ(0,"td",35)(1,"button",36)(2,"mat-icon"),n._uU(3,"more_vert"),n.qZA()(),n.TgZ(4,"mat-menu",37,38)(6,"button",39),n.NdJ("click",function(){const wt=n.CHM(z).$implicit,st=n.oxw();return n.KtG(st.consultReduction(wt.idReduction))}),n.TgZ(7,"mat-icon"),n._uU(8,"zoom_in"),n.qZA(),n.TgZ(9,"span"),n._uU(10,"Consulter r\xe9duction"),n.qZA()(),n.TgZ(11,"button",39),n.NdJ("click",function(){const wt=n.CHM(z).$implicit,st=n.oxw();return n.KtG(st.modiftReduction(wt.idReduction))}),n.TgZ(12,"mat-icon"),n._uU(13,"zoom_in"),n.qZA(),n.TgZ(14,"span"),n._uU(15,"Modifier r\xe9duction"),n.qZA()(),n.TgZ(16,"button",40),n.NdJ("click",function(){const wt=n.CHM(z).$implicit,st=n.oxw();return n.KtG(st.desactiveReduction(wt.idReduction))}),n.TgZ(17,"mat-icon"),n._uU(18,"delete"),n.qZA(),n.TgZ(19,"span"),n._uU(20,"d\xe9sactiver r\xe9duction"),n.qZA()()()()}if(2&ue){const z=je.$implicit,ge=n.MAs(5),we=n.oxw();n.xp6(1),n.Q6J("matMenuTriggerFor",ge),n.xp6(15),n.Q6J("disabled",we.todayDate>z.dateFin)}}function xi(ue,je){1&ue&&n._UZ(0,"tr",41)}function tn(ue,je){1&ue&&n._UZ(0,"tr",42)}const Kt=function(){return[5,10]};let hi=(()=>{class ue{constructor(z,ge,we,wt,st){this.produitService=z,this.formBuilder=ge,this.router=we,this.reductionService=wt,this.dialog=st,this.displayedColumns=["codeReduction","nomReduction","idProduit","typeReduction","dateFin","action"],this.dataSource=new w.by,this.typeProduits=[],this.todayDate=new Date}ngOnInit(){this.initFormFilter(),this.getAllReduction(),this.getAllProduits()}initFormFilter(){this.formFilter=this.formBuilder.group({codeReduction:[null],idReduction:[0],nomReduction:[null],typeReduction:[0],produit:[0],dateFin:[null]})}getAllReduction(){this.reductionService.getAllReduction().subscribe(z=>{z.map(ge=>{ge.dateFin=new Date(ge.dateFin)}),this.dataSource=new w.by(z),this.paginate()})}submitFilter(){this.reductionService.reductionFiltre(this.formFilter.value).subscribe({next:z=>{this.dataSource=new w.by(z),this.paginate()},error:z=>{console.log(z)}})}resetTable(z){this.getAllReduction(),z.resetForm(),this.formFilter.reset(),this.initFormFilter()}getAllProduits(){this.produitService.getAllProduits().subscribe({next:z=>{this.typeProduits=z},error:z=>{console.log(z)}})}desactiveReduction(z){this.dialog.open(l,{width:"40%",data:{idGarantie:z}}).afterClosed().subscribe(we=>{null!=we.data&&this.reductionService.desactiverReduction({idReduction:z,date:we.data},z).subscribe(st=>{this.getAllReduction(),this.paginate()})})}navigateToCreation(){this.router.navigate(["gestion-reduction/creation-reduction"])}paginate(){this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort}consultReduction(z){this.router.navigate(["gestion-reduction/consultation-reduction/"+z])}modiftReduction(z){this.router.navigate(["gestion-reduction/modification-reduction/"+z])}}return ue.\u0275fac=function(z){return new(z||ue)(n.Y36(t.d),n.Y36(e.qu),n.Y36(ee.F0),n.Y36(Ft.w),n.Y36(o.uw))},ue.\u0275cmp=n.Xpm({type:ue,selectors:[["app-gestion-reduction"]],viewQuery:function(z,ge){if(1&z&&(n.Gf(Le.NW,5),n.Gf(Q.YE,5)),2&z){let we;n.iGM(we=n.CRH())&&(ge.paginator=we.first),n.iGM(we=n.CRH())&&(ge.sort=we.first)}},decls:66,vars:10,consts:[[1,"container"],[1,"header"],[1,"title-table"],[1,"btn","btn-secondary",2,"display","flex","align-items","center",3,"click"],["aria-hidden","false","aria-label","ajouter une reduction ",1,"material-symbols-outlined"],[1,"form","row",3,"formGroup","ngSubmit"],["formDirective","ngForm"],["appearance","outline",1,"col-md-5"],["type","text","matInput","","placeholder","","formControlName","codeReduction"],["type","text","matInput","","placeholder","","formControlName","nomReduction"],["formControlName","typeReduction"],["value","261"],["value","262"],["formControlName","produit"],[4,"ngFor","ngForOf"],["matInput","","formControlName","dateFin",3,"matDatepicker"],["matSuffix","",3,"for"],["pickerDateFin",""],[1,"col-md-5","button-row"],["matTooltip","Reset","matTooltipPosition","left",1,"material-symbols-outlined",3,"click"],[1,"btn","btn-action"],["mat-table","",1,"gestion-table",3,"dataSource"],["matColumnDef","codeReduction"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","nomReduction"],["matColumnDef","idProduit"],["matColumnDef","typeReduction"],["matColumnDef","dateFin"],["matColumnDef","action"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["aria-label","Select page",3,"pageSize","pageSizeOptions"],[3,"value"],["mat-header-cell",""],["mat-cell",""],["mat-icon-button","","type","button","aria-label","menu reduction list",3,"matMenuTriggerFor"],["xPosition","after"],["menu","matMenu"],["mat-menu-item","","type","button",3,"click"],["mat-menu-item","","type","button",3,"disabled","click"],["mat-header-row",""],["mat-row",""]],template:function(z,ge){if(1&z){const we=n.EpF();n.TgZ(0,"div",0)(1,"div",1)(2,"h2",2),n._uU(3,"Liste des r\xe9ductions"),n.qZA(),n.TgZ(4,"button",3),n.NdJ("click",function(){return ge.navigateToCreation()}),n.TgZ(5,"mat-icon",4),n._uU(6,"add_circle"),n.qZA(),n._uU(7," Ajouter une nouvelle r\xe9duction "),n.qZA()(),n._UZ(8,"mat-divider"),n.TgZ(9,"form",5,6),n.NdJ("ngSubmit",function(){return ge.submitFilter()}),n.TgZ(11,"mat-form-field",7)(12,"mat-label"),n._uU(13,"Code R\xe9duction"),n.qZA(),n._UZ(14,"input",8),n.qZA(),n.TgZ(15,"mat-form-field",7)(16,"mat-label"),n._uU(17,"Nom R\xe9duction"),n.qZA(),n._UZ(18,"input",9),n.qZA(),n.TgZ(19,"mat-form-field",7)(20,"mat-label"),n._uU(21,"Type R\xe9duction"),n.qZA(),n.TgZ(22,"mat-select",10)(23,"mat-option",11),n._uU(24," Corporate"),n.qZA(),n.TgZ(25,"mat-option",12),n._uU(26,"R\xe9tail"),n.qZA()()(),n.TgZ(27,"mat-form-field",7)(28,"mat-label"),n._uU(29,"Produit"),n.qZA(),n.TgZ(30,"mat-select",13),n.YNc(31,xn,3,2,"ng-container",14),n.qZA()(),n.TgZ(32,"mat-form-field",7)(33,"mat-label"),n._uU(34,"Date fin"),n.qZA(),n._UZ(35,"input",15)(36,"mat-datepicker-toggle",16)(37,"mat-datepicker",null,17),n.qZA(),n.TgZ(39,"div",18)(40,"mat-icon",19),n.NdJ("click",function(){n.CHM(we);const st=n.MAs(10);return n.KtG(ge.resetTable(st))}),n._uU(41,"restart_alt"),n.qZA(),n.TgZ(42,"button",20),n._uU(43,"Filtrer"),n.qZA()()(),n.TgZ(44,"table",21),n.ynx(45,22),n.YNc(46,mn,2,0,"th",23),n.YNc(47,Ri,2,1,"td",24),n.BQk(),n.ynx(48,25),n.YNc(49,Xn,2,0,"th",23),n.YNc(50,Mt,2,1,"td",24),n.BQk(),n.ynx(51,26),n.YNc(52,Lt,2,0,"th",23),n.YNc(53,xt,2,1,"td",24),n.BQk(),n.ynx(54,27),n.YNc(55,ht,2,0,"th",23),n.YNc(56,Yn,2,1,"td",24),n.BQk(),n.ynx(57,28),n.YNc(58,Jn,2,0,"th",23),n.YNc(59,pi,3,3,"td",24),n.BQk(),n.ynx(60,29),n.YNc(61,Qn,2,0,"th",23),n.YNc(62,Kn,21,2,"td",24),n.BQk(),n.YNc(63,xi,1,0,"tr",30),n.YNc(64,tn,1,0,"tr",31),n.qZA(),n._UZ(65,"mat-paginator",32),n.qZA()}if(2&z){const we=n.MAs(38);n.xp6(9),n.Q6J("formGroup",ge.formFilter),n.xp6(22),n.Q6J("ngForOf",ge.typeProduits),n.xp6(4),n.Q6J("matDatepicker",we),n.xp6(1),n.Q6J("for",we),n.xp6(8),n.Q6J("dataSource",ge.dataSource),n.xp6(19),n.Q6J("matHeaderRowDef",ge.displayedColumns),n.xp6(1),n.Q6J("matRowDefColumns",ge.displayedColumns),n.xp6(1),n.Q6J("pageSize",10)("pageSizeOptions",n.DdM(9,Kt))}},dependencies:[Se.sg,i.d,ln.Hw,ut.VK,ut.OP,ut.p6,e._Y,e.Fj,e.JJ,e.JL,e.sg,e.u,Z.KE,Z.hX,Z.R9,O.Nt,w.BZ,w.fO,w.as,w.w1,w.Dz,w.nj,w.ge,w.ev,w.XQ,w.Gk,ot.gM,Le.NW,J.Mq,J.hl,J.nW,tt.gD,Zt.ey,nn.lW,_n.y],styles:[".container[_ngcontent-%COMP%]{background-color:#fff;padding:40px 0;height:100%;overflow-y:auto;overflow-x:hidden}.gestion-table[_ngcontent-%COMP%]{width:100%;margin-top:2rem}.gestion-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .gestion-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:16px}.gestion-table[_ngcontent-%COMP%]   .mat-header-cell[_ngcontent-%COMP%]{color:#00008f;font-weight:600}.gestion-table[_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]:nth-child(even), .gestion-table[_ngcontent-%COMP%]   .mat-header-row[_ngcontent-%COMP%]{background-color:#f7f7f9}.gestion-table[_ngcontent-%COMP%]   .mat-paginator[_ngcontent-%COMP%]{background-color:transparent;margin:20px auto auto;width:80%}.gestion-table[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{height:100%;font-size:26px;color:#00008f;width:-moz-fit-content;width:fit-content}.form.row[_ngcontent-%COMP%]{padding:1rem}.button-row[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-end}.button-row[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{margin-right:2rem}.mat-menu-item[_ngcontent-%COMP%]{font-size:15px}.mat-menu-item[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:18px;height:-moz-fit-content;height:fit-content}.mat-menu-item[_ngcontent-%COMP%]:hover:not([disabled]), .mat-menu-item[_ngcontent-%COMP%]:hover:not([disabled])   .mat-icon[_ngcontent-%COMP%]{color:#00008f}.header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:0px 2rem}.header[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{height:-moz-fit-content;height:fit-content;font-size:29px;margin-right:1rem;width:-moz-fit-content;width:fit-content}.title-table[_ngcontent-%COMP%]{margin-bottom:0rem;font-weight:800!important;font-size:23px!important;color:#00008f!important}"]}),ue})();var $i=B(6666),Sn=B(3776),vt=B(6944),$e=B(6436),bn=B(6127),Vt=B(8153),Gn=B(852),ei=B(7084),vi=B(1948),uo=B(6257),bo=B(6709);const oe=["stepper"],pn=["checkbox"];function Zi(ue,je){if(1&ue){const z=n.EpF();n.TgZ(0,"div",7)(1,"mat-icon",8),n.NdJ("click",function(){n.CHM(z);const we=n.oxw();return n.KtG(we.step=0)}),n._uU(2,"arrow_circle_left"),n.qZA()()}}function Ai(ue,je){if(1&ue&&(n.TgZ(0,"div",9),n._uU(1),n.qZA()),2&ue){const z=n.oxw();n.xp6(1),n.hij("La r\xe9duction corpo ",z.codeReduction," a \xe9t\xe9 cr\xe9e avec succ\xe9s, veuillez revenir vers la page creation convention, et cliquer sur rafrachir la liste ")}}function Di(ue,je){if(1&ue&&(n.TgZ(0,"div",9),n._uU(1),n.qZA()),2&ue){const z=n.oxw();n.xp6(1),n.hij("La r\xe9duction retail ",z.codeReduction," a \xe9t\xe9 cr\xe9e avec succ\xe9s.")}}function Mn(ue,je){if(1&ue&&(n.ynx(0),n.TgZ(1,"mat-option",13),n._uU(2),n.qZA(),n.BQk()),2&ue){const z=je.$implicit;n.xp6(1),n.Q6J("value",z),n.xp6(1),n.hij(" ",z.description," ")}}function Nn(ue,je){if(1&ue){const z=n.EpF();n.ynx(0),n.TgZ(1,"mat-form-field",10)(2,"mat-label"),n._uU(3,"Type produit"),n.qZA(),n.TgZ(4,"mat-select",11),n.NdJ("selectionChange",function(we){n.CHM(z);const wt=n.oxw();return n.KtG(wt.changeTypeProduit(we.value))})("ngModelChange",function(we){n.CHM(z);const wt=n.oxw();return n.KtG(wt.typeProduit=we)}),n.YNc(5,Mn,3,2,"ng-container",12),n.qZA()(),n.BQk()}if(2&ue){const z=n.oxw();n.xp6(4),n.Q6J("ngModel",z.typeProduit),n.xp6(1),n.Q6J("ngForOf",z.typeProduits)}}function vn(ue,je){1&ue&&n._uU(0,"Informations g\xe9n\xe9rales")}function Et(ue,je){1&ue&&(n.TgZ(0,"div"),n._uU(1," ce champs est obligatoire"),n.qZA())}function mo(ue,je){if(1&ue&&(n.TgZ(0,"mat-error",49),n.YNc(1,Et,2,0,"div",6),n.qZA()),2&ue){const z=n.oxw(2);n.xp6(1),n.Q6J("ngIf",z.formInfoGeneral.controls.nomReduction.errors.required)}}function mr(ue,je){1&ue&&(n.TgZ(0,"div"),n._uU(1," ce champs est obligatoire"),n.qZA())}function zr(ue,je){if(1&ue&&(n.TgZ(0,"mat-error",49),n.YNc(1,mr,2,0,"div",6),n.qZA()),2&ue){const z=n.oxw(2);n.xp6(1),n.Q6J("ngIf",z.formInfoGeneral.controls.dateDebut.errors.required)}}function Eo(ue,je){1&ue&&(n.TgZ(0,"div"),n._uU(1," ce champs est obligatoire"),n.qZA())}function ra(ue,je){if(1&ue&&(n.TgZ(0,"mat-error",49),n.YNc(1,Eo,2,0,"div",6),n.qZA()),2&ue){const z=n.oxw(2);n.xp6(1),n.Q6J("ngIf",z.formInfoGeneral.controls.dateFin.errors.required)}}function aa(ue,je){if(1&ue&&(n.ynx(0),n.TgZ(1,"mat-option",13),n._uU(2),n.qZA(),n.BQk()),2&ue){const z=je.$implicit;n.xp6(1),n.Q6J("value",z),n.xp6(1),n.hij(" ",z.description," ")}}function Ba(ue,je){1&ue&&(n.TgZ(0,"div"),n._uU(1," ce champs est obligatoire"),n.qZA())}function za(ue,je){if(1&ue&&(n.TgZ(0,"mat-error",49),n.YNc(1,Ba,2,0,"div",6),n.qZA()),2&ue){const z=n.oxw(3);n.xp6(1),n.Q6J("ngIf",z.formInfoGeneral.controls.typeProduit.errors.required)}}function Aa(ue,je){if(1&ue){const z=n.EpF();n.TgZ(0,"mat-form-field",18)(1,"mat-label"),n._uU(2,"Type produit"),n.qZA(),n.TgZ(3,"mat-select",50),n.NdJ("ngModelChange",function(we){n.CHM(z);const wt=n.oxw(2);return n.KtG(wt.typeProduit=we)})("selectionChange",function(we){n.CHM(z);const wt=n.oxw(2);return n.KtG(wt.changeTypeProduit(we.value))}),n.YNc(4,aa,3,2,"ng-container",12),n.qZA(),n.YNc(5,za,2,1,"mat-error",20),n.qZA()}if(2&ue){const z=n.oxw(2);n.xp6(3),n.Q6J("ngModel",z.typeProduit),n.xp6(1),n.Q6J("ngForOf",z.typeProduits),n.xp6(1),n.Q6J("ngIf",z.formInfoGeneral.controls.typeProduit.errors)}}function Ks(ue,je){if(1&ue&&(n.ynx(0),n.TgZ(1,"mat-option",13),n._uU(2),n.qZA(),n.BQk()),2&ue){const z=je.$implicit;n.xp6(1),n.Q6J("value",z.idAgence),n.xp6(1),n.hij(" ",z.nomAgence," ")}}function ds(ue,je){1&ue&&(n.TgZ(0,"div"),n._uU(1," ce champs est obligatoire"),n.qZA())}function _s(ue,je){if(1&ue&&(n.TgZ(0,"mat-error",49),n.YNc(1,ds,2,0,"div",6),n.qZA()),2&ue){const z=n.oxw(2);n.xp6(1),n.Q6J("ngIf",z.formInfoGeneral.controls.agences.errors.required)}}function Ta(ue,je){if(1&ue&&(n.ynx(0),n.TgZ(1,"mat-option",13),n._uU(2),n.qZA(),n.BQk()),2&ue){const z=je.$implicit;n.xp6(1),n.Q6J("value",z.idParam),n.xp6(1),n.hij(" ",z.description," ")}}function sa(ue,je){1&ue&&(n.TgZ(0,"div"),n._uU(1," ce champs est obligatoire"),n.qZA())}function Ws(ue,je){if(1&ue&&(n.TgZ(0,"mat-error",49),n.YNc(1,sa,2,0,"div",6),n.qZA()),2&ue){const z=n.oxw(2);n.xp6(1),n.Q6J("ngIf",z.formInfoGeneral.controls.mouvementsPolice.errors.required)}}function Xs(ue,je){if(1&ue&&(n.ynx(0),n.TgZ(1,"mat-option",13),n._uU(2),n.qZA(),n.BQk()),2&ue){const z=je.$implicit;n.xp6(1),n.Q6J("value",z.idParam),n.xp6(1),n.hij(" ",z.description," ")}}function dr(ue,je){1&ue&&(n.TgZ(0,"div"),n._uU(1," ce champs est obligatoire"),n.qZA())}function Va(ue,je){if(1&ue&&(n.TgZ(0,"mat-error",49),n.YNc(1,dr,2,0,"div",6),n.qZA()),2&ue){const z=n.oxw(2);n.xp6(1),n.Q6J("ngIf",z.formInfoGeneral.controls.canalDistribution.errors.required)}}function ps(ue,je){if(1&ue&&(n.ynx(0),n.TgZ(1,"mat-option",13),n._uU(2),n.qZA(),n.BQk()),2&ue){const z=je.$implicit;n.xp6(1),n.Q6J("value",z.userid),n.xp6(1),n.AsE(" ",z.nom," ",z.prenom," ")}}function fs(ue,je){1&ue&&(n.TgZ(0,"div"),n._uU(1," ce champs est obligatoire"),n.qZA())}function Ra(ue,je){if(1&ue&&(n.TgZ(0,"mat-error",49),n.YNc(1,fs,2,0,"div",6),n.qZA()),2&ue){const z=n.oxw(2);n.xp6(1),n.Q6J("ngIf",z.formInfoGeneral.controls.utilisateurs.errors.required)}}function gs(ue,je){1&ue&&n._uU(0,"Informations relatif au produit")}function ja(ue,je){if(1&ue&&(n.ynx(0),n.TgZ(1,"mat-option",13),n._uU(2),n.qZA(),n.BQk()),2&ue){const z=je.$implicit;n.xp6(1),n.Q6J("value",z.id),n.xp6(1),n.hij(" ",z.description," ")}}function el(ue,je){1&ue&&(n.TgZ(0,"mat-error",49),n._uU(1," ce champs est obligatoire "),n.qZA())}function la(ue,je){if(1&ue&&(n.TgZ(0,"mat-error",49),n._uU(1),n.qZA()),2&ue){const z=n.oxw(2).$implicit,ge=n.oxw(2);n.xp6(1),n.hij(" ",null==ge.infoVehicule.get(z.formName).errors?null:ge.infoVehicule.get(z.formName).errors.msg," ")}}function hs(ue,je){if(1&ue){const z=n.EpF();n.TgZ(0,"mat-form-field",18)(1,"mat-label"),n._uU(2),n.qZA(),n.TgZ(3,"mat-select",55,56)(5,"mat-option",30),n.NdJ("click",function(){n.CHM(z);const we=n.MAs(4),wt=n.oxw(3);return n.KtG(wt.toggleAllSelection(we))}),n._uU(6,"Tout s\xe9lectionner"),n.qZA(),n.YNc(7,ja,3,2,"ng-container",12),n.qZA(),n.YNc(8,el,2,0,"mat-error",20),n.YNc(9,la,2,1,"mat-error",20),n.qZA()}if(2&ue){const z=n.oxw().$implicit,ge=n.oxw(2);n.xp6(2),n.hij("",z.libelle," "),n.xp6(1),n.s9C("formControlName",z.formName),n.xp6(2),n.Q6J("value",null),n.xp6(2),n.Q6J("ngForOf",z.reponses),n.xp6(1),n.Q6J("ngIf",null==ge.infoVehicule.get(z.formName).errors?null:ge.infoVehicule.get(z.formName).errors.required),n.xp6(1),n.Q6J("ngIf",null==ge.infoVehicule.get(z.formName).errors?null:ge.infoVehicule.get(z.formName).errors.bloquant)}}function Cs(ue,je){if(1&ue&&(n.ynx(0),n.TgZ(1,"mat-option",13),n._uU(2),n.qZA(),n.BQk()),2&ue){const z=je.$implicit;n.xp6(1),n.Q6J("value",z.idParam),n.xp6(1),n.hij(" ",z.description," ")}}function rr(ue,je){1&ue&&(n.TgZ(0,"mat-error",49),n._uU(1," ce champs est obligatoire "),n.qZA())}function xs(ue,je){if(1&ue&&(n.TgZ(0,"mat-error",49),n._uU(1),n.qZA()),2&ue){const z=n.oxw(2).$implicit,ge=n.oxw(2);n.xp6(1),n.hij(" ",null==ge.infoVehicule.get(z.formName).errors?null:ge.infoVehicule.get(z.formName).errors.msg," ")}}function vs(ue,je){if(1&ue&&(n.TgZ(0,"mat-form-field",18)(1,"mat-label"),n._uU(2),n.qZA(),n.TgZ(3,"mat-select",55),n.YNc(4,Cs,3,2,"ng-container",12),n.qZA(),n.YNc(5,rr,2,0,"mat-error",20),n.YNc(6,xs,2,1,"mat-error",20),n.qZA()),2&ue){const z=n.oxw().$implicit,ge=n.oxw(2);n.xp6(2),n.hij("",z.libelle," "),n.xp6(1),n.s9C("formControlName",z.formName),n.xp6(1),n.Q6J("ngForOf",z.reponses),n.xp6(1),n.Q6J("ngIf",null==ge.infoVehicule.get(z.formName).errors?null:ge.infoVehicule.get(z.formName).errors.required),n.xp6(1),n.Q6J("ngIf",null==ge.infoVehicule.get(z.formName).errors?null:ge.infoVehicule.get(z.formName).errors.bloquant)}}function tl(ue,je){if(1&ue&&(n.ynx(0),n.TgZ(1,"mat-option",13),n._uU(2),n.qZA(),n.BQk()),2&ue){const z=je.$implicit;n.xp6(1),n.Q6J("value",z.id),n.xp6(1),n.hij(" ",z.description," ")}}function As(ue,je){if(1&ue){const z=n.EpF();n.TgZ(0,"div",57)(1,"mat-label",58),n._uU(2),n.qZA(),n.TgZ(3,"mat-form-field",18)(4,"mat-label"),n._uU(5,"Type valeur"),n.qZA(),n.TgZ(6,"mat-select",59),n.NdJ("selectionChange",function(we){n.CHM(z);const wt=n.oxw().$implicit,st=n.oxw(2);return n.KtG(st.changeTypeValeur(we.value,wt.idParamRisque))}),n.YNc(7,tl,3,2,"ng-container",12),n.qZA()()()}if(2&ue){const z=n.oxw().$implicit,ge=n.oxw(2);n.xp6(2),n.Oqu(z.libelle),n.xp6(4),n.MGl("formControlName","typeValeur",z.formName,""),n.xp6(1),n.Q6J("ngForOf",ge.typeValues)}}function Ar(ue,je){1&ue&&(n.TgZ(0,"mat-label"),n._uU(1,"Valeur "),n.qZA())}function nl(ue,je){1&ue&&(n.TgZ(0,"mat-label"),n._uU(1,"Valeur Max"),n.qZA())}function il(ue,je){1&ue&&(n.TgZ(0,"mat-error",49),n._uU(1," ce champs est obligatoire "),n.qZA())}function Ts(ue,je){1&ue&&(n.TgZ(0,"mat-error",49),n._uU(1," ce champs n'est pas conforme "),n.qZA())}function Nr(ue,je){if(1&ue&&(n.TgZ(0,"mat-error",49),n._uU(1),n.qZA()),2&ue){const z=n.oxw(2).$implicit,ge=n.oxw(2);n.xp6(1),n.hij(" ",null==ge.infoVehicule.get(z.formName).errors?null:ge.infoVehicule.get(z.formName).errors.msg," ")}}function Lr(ue,je){if(1&ue&&(n.TgZ(0,"div")(1,"div",60)(2,"mat-form-field",18),n.YNc(3,Ar,2,0,"mat-label",6),n.YNc(4,nl,2,0,"mat-label",6),n._UZ(5,"input",61),n.YNc(6,il,2,0,"mat-error",20),n.YNc(7,Ts,2,0,"mat-error",20),n.YNc(8,Nr,2,1,"mat-error",20),n.qZA()()()),2&ue){const z=je.index,ge=n.oxw().$implicit,we=n.oxw(2);n.xp6(1),n.Q6J("formGroupName",z),n.xp6(2),n.Q6J("ngIf",0==z),n.xp6(1),n.Q6J("ngIf",1==z),n.xp6(2),n.Q6J("ngIf",null==we.infoVehicule.get(ge.formName).errors?null:we.infoVehicule.get(ge.formName).errors.required),n.xp6(1),n.Q6J("ngIf",(null==we.infoVehicule.get(ge.formName).errors?null:we.infoVehicule.get(ge.formName).errors.pattern)||(null==we.infoVehicule.get(ge.formName).errors?null:we.infoVehicule.get(ge.formName).errors.maxlength)),n.xp6(1),n.Q6J("ngIf",null==we.infoVehicule.get(ge.formName).errors?null:we.infoVehicule.get(ge.formName).errors.bloquant)}}function Da(ue,je){if(1&ue&&(n.ynx(0),n.TgZ(1,"mat-option",13),n._uU(2),n.qZA(),n.BQk()),2&ue){const z=je.$implicit;n.xp6(1),n.Q6J("value",z.idParam),n.xp6(1),n.hij(" ",z.marque," ")}}function bs(ue,je){1&ue&&(n.TgZ(0,"mat-error",49)(1,"div"),n._uU(2," ce champs est obligatoire"),n.qZA()())}function Ir(ue,je){if(1&ue&&(n.TgZ(0,"mat-error",49),n._uU(1),n.qZA()),2&ue){const z=n.oxw(2).$implicit,ge=n.oxw(2);n.xp6(1),n.hij(" ",null==ge.infoVehicule.get(z.formName).errors?null:ge.infoVehicule.get(z.formName).errors.msg," ")}}function ol(ue,je){if(1&ue){const z=n.EpF();n.TgZ(0,"mat-form-field",18)(1,"mat-label"),n._uU(2),n.qZA(),n.TgZ(3,"mat-select",55,62)(5,"mat-option",30),n.NdJ("click",function(){n.CHM(z);const we=n.MAs(4),wt=n.oxw(3);return n.KtG(wt.toggleAllSelection(we))}),n._uU(6,"Tout s\xe9lectionner"),n.qZA(),n.YNc(7,Da,3,2,"ng-container",12),n.qZA(),n.YNc(8,bs,3,0,"mat-error",20),n.YNc(9,Ir,2,1,"mat-error",20),n.qZA()}if(2&ue){const z=n.oxw().$implicit,ge=n.oxw(2);n.xp6(2),n.hij("",z.libelle," "),n.xp6(1),n.s9C("formControlName",z.formName),n.xp6(2),n.Q6J("value",null),n.xp6(2),n.Q6J("ngForOf",ge.marques),n.xp6(1),n.Q6J("ngIf",z.obligatoire),n.xp6(1),n.Q6J("ngIf",null==ge.infoVehicule.get(z.formName).errors?null:ge.infoVehicule.get(z.formName).errors.bloquant)}}function Ps(ue,je){1&ue&&(n.TgZ(0,"mat-error",49),n._uU(1," ce champs est obligatoire "),n.qZA())}function Zs(ue,je){if(1&ue&&(n.TgZ(0,"mat-error",49),n._uU(1),n.qZA()),2&ue){const z=n.oxw(2).$implicit,ge=n.oxw(2);n.xp6(1),n.hij(" ",null==ge.infoVehicule.get(z.formName).errors?null:ge.infoVehicule.get(z.formName).errors.msg," ")}}function qs(ue,je){if(1&ue&&(n.TgZ(0,"mat-form-field",18)(1,"mat-label"),n._uU(2),n.qZA(),n._UZ(3,"input",63)(4,"mat-datepicker-toggle",23)(5,"mat-datepicker",null,64),n.YNc(7,Ps,2,0,"mat-error",20),n.YNc(8,Zs,2,1,"mat-error",20),n.qZA()),2&ue){const z=n.MAs(6),ge=n.oxw().$implicit,we=n.oxw(2);n.xp6(2),n.Oqu(ge.libelle),n.xp6(1),n.s9C("formControlName",ge.formName),n.Q6J("matDatepicker",z),n.xp6(1),n.Q6J("for",z),n.xp6(3),n.Q6J("ngIf",null==we.infoVehicule.get(ge.formName).errors?null:we.infoVehicule.get(ge.formName).errors.required),n.xp6(1),n.Q6J("ngIf",null==we.infoVehicule.get(ge.formName).errors?null:we.infoVehicule.get(ge.formName).errors.bloquant)}}function _r(ue,je){if(1&ue&&(n.ynx(0),n.YNc(1,hs,10,6,"mat-form-field",51),n.YNc(2,vs,7,5,"mat-form-field",51),n.YNc(3,As,8,3,"div",52),n.TgZ(4,"div",53),n.YNc(5,Lr,9,6,"div",12),n.qZA(),n.YNc(6,ol,10,6,"mat-form-field",51),n.YNc(7,qs,9,6,"mat-form-field",54),n.BQk()),2&ue){const z=je.$implicit,ge=n.oxw(2);n.xp6(1),n.Q6J("ngIf","From Table"==(null==z.typeChamp?null:z.typeChamp.description)),n.xp6(1),n.Q6J("ngIf","Liste of values"==(null==z.typeChamp?null:z.typeChamp.description)),n.xp6(1),n.Q6J("ngIf",("String"==(null==z.typeChamp?null:z.typeChamp.description)||"Number"==(null==z.typeChamp?null:z.typeChamp.description))&&"Marque"!=z.formName),n.xp6(1),n.s9C("formArrayName",z.formName),n.xp6(1),n.Q6J("ngForOf",ge.valeurs(z.formName).controls),n.xp6(1),n.Q6J("ngIf","Marque"==z.formName),n.xp6(1),n.Q6J("ngIf","date"==(null==z.typeChamp?null:z.typeChamp.description))}}function Zr(ue,je){1&ue&&n._uU(0,"Pack")}function it(ue,je){if(1&ue){const z=n.EpF();n.TgZ(0,"mat-option",13)(1,"mat-checkbox",65),n.NdJ("change",function(we){const st=n.CHM(z).$implicit,Tn=n.oxw(2);return n.KtG(Tn.onChangePack(st,we))}),n._uU(2),n.qZA()()}if(2&ue){const z=je.$implicit;n.Q6J("value",z.idPack0),n.xp6(2),n.hij(" ",z.description,"")}}function ha(ue,je){1&ue&&(n.TgZ(0,"div"),n._uU(1," ce champs est obligatoire"),n.qZA())}function Ci(ue,je){if(1&ue&&(n.TgZ(0,"mat-error",49),n.YNc(1,ha,2,0,"div",6),n.qZA()),2&ue){const z=n.oxw(2);n.xp6(1),n.Q6J("ngIf",z.infoPack.controls.pack.errors.required)}}function qi(ue,je){1&ue&&(n.TgZ(0,"th",78),n._uU(1,"Garantie"),n.qZA())}function Ha(ue,je){1&ue&&(n.TgZ(0,"td",79)(1,"mat-form-field",80),n._UZ(2,"input",81),n.qZA()()),2&ue&&(n.Q6J("formGroup",je.$implicit),n.xp6(2),n.Q6J("readonly",!0))}function Ss(ue,je){1&ue&&(n.TgZ(0,"th",78),n._uU(1," Franchise"),n.qZA())}function ys(ue,je){1&ue&&(n.TgZ(0,"mat-label"),n._uU(1,"Franchise"),n.qZA())}const wa=function(ue){return{noUnderline:ue}};function di(ue,je){if(1&ue&&(n.TgZ(0,"td",79)(1,"mat-form-field",82),n.YNc(2,ys,2,0,"mat-label",6),n._UZ(3,"input",83),n.qZA()()),2&ue){const z=je.$implicit,ge=je.index,we=n.oxw(2).$implicit;let wt,st,Tn;n.Q6J("formGroup",z),n.xp6(1),n.Q6J("ngClass",n.VKq(4,wa,!(null!=(wt=we.get("garanties"))&&wt.value[ge].isEditable))),n.xp6(1),n.Q6J("ngIf",null==(st=we.get("garanties"))?null:st.value[ge].isEditable),n.xp6(1),n.Q6J("readonly",!(null!=(Tn=we.get("garanties"))&&Tn.value[ge].isEditable))}}function Yr(ue,je){1&ue&&(n.TgZ(0,"th",78),n._uU(1," Pourcentage"),n.qZA())}function $a(ue,je){1&ue&&(n.TgZ(0,"mat-label"),n._uU(1,"Pourcentage"),n.qZA())}function Ns(ue,je){if(1&ue&&(n.TgZ(0,"td",79)(1,"mat-form-field",82),n.YNc(2,$a,2,0,"mat-label",6),n._UZ(3,"input",84),n.qZA()()),2&ue){const z=je.$implicit,ge=je.index,we=n.oxw(2).$implicit;let wt,st,Tn;n.Q6J("formGroup",z),n.xp6(1),n.Q6J("ngClass",n.VKq(4,wa,!(null!=(wt=we.get("garanties"))&&wt.value[ge].isEditable))),n.xp6(1),n.Q6J("ngIf",null==(st=we.get("garanties"))?null:st.value[ge].isEditable),n.xp6(1),n.Q6J("readonly",!(null!=(Tn=we.get("garanties"))&&Tn.value[ge].isEditable))}}function ba(ue,je){1&ue&&(n.TgZ(0,"th",78),n._uU(1," Action "),n.qZA())}function Ka(ue,je){if(1&ue){const z=n.EpF();n.TgZ(0,"mat-icon",86),n.NdJ("click",function(){n.CHM(z);const we=n.oxw().index,wt=n.oxw(2).$implicit,st=n.oxw(2);return n.KtG(st.EditGarantieLigne(wt,we))}),n._uU(1,"edit"),n.qZA()}}function Ro(ue,je){if(1&ue){const z=n.EpF();n.TgZ(0,"mat-icon",86),n.NdJ("click",function(){n.CHM(z);const we=n.oxw().index,wt=n.oxw(2).$implicit,st=n.oxw(2);return n.KtG(st.SaveGarantieLigne(wt,we))}),n._uU(1,"check_circle"),n.qZA()}}function Oa(ue,je){if(1&ue&&(n.TgZ(0,"td",79),n.YNc(1,Ka,2,0,"mat-icon",85),n.YNc(2,Ro,2,0,"mat-icon",85),n.qZA()),2&ue){const z=je.$implicit,ge=je.index,we=n.oxw(2).$implicit;let wt,st;n.Q6J("formGroup",z),n.xp6(1),n.Q6J("ngIf",!(null!=(wt=we.get("garanties"))&&wt.value[ge].isEditable)),n.xp6(1),n.Q6J("ngIf",null==(st=we.get("garanties"))?null:st.value[ge].isEditable)}}function qr(ue,je){1&ue&&n._UZ(0,"tr",87)}function Ca(ue,je){1&ue&&n._UZ(0,"tr",88)}function Vr(ue,je){if(1&ue&&(n.TgZ(0,"table",69),n.ynx(1,70),n.YNc(2,qi,2,0,"th",71),n.YNc(3,Ha,3,2,"td",72),n.BQk(),n.ynx(4,73),n.YNc(5,Ss,2,0,"th",71),n.YNc(6,di,4,6,"td",72),n.BQk(),n.ynx(7,74),n.YNc(8,Yr,2,0,"th",71),n.YNc(9,Ns,4,6,"td",72),n.BQk(),n.ynx(10,75),n.YNc(11,ba,2,0,"th",71),n.YNc(12,Oa,3,3,"td",72),n.BQk(),n.YNc(13,qr,1,0,"tr",76),n.YNc(14,Ca,1,0,"tr",77),n.qZA()),2&ue){const z=n.oxw().index,ge=n.oxw(2);n.Q6J("dataSource",ge.dataSourceGaranties[z]),n.xp6(13),n.Q6J("matHeaderRowDef",ge.displayedColumns),n.xp6(1),n.Q6J("matRowDefColumns",ge.displayedColumns)}}function ca(ue,je){if(1&ue&&(n.ynx(0),n.TgZ(1,"mat-expansion-panel",66)(2,"mat-expansion-panel-header")(3,"mat-panel-title",67),n._uU(4),n.qZA()(),n.YNc(5,Vr,15,3,"table",68),n.qZA(),n.BQk()),2&ue){const z=je.$implicit,ge=je.index,we=n.oxw(2);n.xp6(1),n.Q6J("formGroupName",ge)("expanded",!0),n.xp6(3),n.hij(" ",z.value.description," "),n.xp6(1),n.Q6J("ngIf",we.loadTablePack)}}function So(ue,je){if(1&ue){const z=n.EpF();n.ynx(0),n.TgZ(1,"mat-stepper",14,15)(3,"mat-step"),n.YNc(4,vn,1,0,"ng-template",16),n.TgZ(5,"form",17),n.NdJ("ngSubmit",function(){n.CHM(z);const we=n.oxw();return n.KtG(we.submitInfoGenerales())}),n.TgZ(6,"mat-form-field",18)(7,"mat-label"),n._uU(8,"Nom R\xe9duction"),n.qZA(),n._UZ(9,"input",19),n.YNc(10,mo,2,1,"mat-error",20),n.qZA(),n.TgZ(11,"div",21)(12,"mat-form-field",18)(13,"mat-label"),n._uU(14,"Date D\xe9but"),n.qZA(),n.TgZ(15,"input",22),n.NdJ("dateChange",function(we){n.CHM(z);const wt=n.oxw();return n.KtG(wt.setDateDebut(we.value))}),n.qZA(),n._UZ(16,"mat-datepicker-toggle",23)(17,"mat-datepicker",null,24),n.YNc(19,zr,2,1,"mat-error",20),n.qZA(),n.TgZ(20,"mat-form-field",18)(21,"mat-label"),n._uU(22,"Date fin"),n.qZA(),n._UZ(23,"input",25)(24,"mat-datepicker-toggle",23)(25,"mat-datepicker",null,26),n.YNc(27,ra,2,1,"mat-error",20),n.qZA()(),n.TgZ(28,"div",21),n.YNc(29,Aa,6,3,"mat-form-field",27),n.TgZ(30,"mat-form-field",18)(31,"mat-label"),n._uU(32,"Agences"),n.qZA(),n.TgZ(33,"mat-select",28,29)(35,"mat-option",30),n.NdJ("click",function(){n.CHM(z);const we=n.MAs(34),wt=n.oxw();return n.KtG(wt.toggleAllSelection(we))}),n._uU(36,"Tout s\xe9lectionner"),n.qZA(),n.YNc(37,Ks,3,2,"ng-container",12),n.qZA(),n.YNc(38,_s,2,1,"mat-error",20),n.qZA()(),n.TgZ(39,"div",21)(40,"mat-form-field",18)(41,"mat-label"),n._uU(42,"Mouvemants Police"),n.qZA(),n.TgZ(43,"mat-select",31,32)(45,"mat-option",30),n.NdJ("click",function(){n.CHM(z);const we=n.MAs(44),wt=n.oxw();return n.KtG(wt.toggleAllSelection(we))}),n._uU(46,"Tout s\xe9lectionner"),n.qZA(),n.YNc(47,Ta,3,2,"ng-container",12),n.qZA(),n.YNc(48,Ws,2,1,"mat-error",20),n.qZA(),n.TgZ(49,"mat-form-field",18)(50,"mat-label"),n._uU(51,"Canal de distribution"),n.qZA(),n.TgZ(52,"mat-select",33,34)(54,"mat-option",30),n.NdJ("click",function(){n.CHM(z);const we=n.MAs(53),wt=n.oxw();return n.KtG(wt.toggleAllSelection(we))}),n._uU(55,"Tout s\xe9lectionner"),n.qZA(),n.YNc(56,Xs,3,2,"ng-container",12),n.qZA(),n.YNc(57,Va,2,1,"mat-error",20),n.qZA()(),n.TgZ(58,"div",21)(59,"mat-form-field",18)(60,"mat-label"),n._uU(61,"Utilisteurs"),n.qZA(),n.TgZ(62,"mat-select",35,36)(64,"mat-option",30),n.NdJ("click",function(){n.CHM(z);const we=n.MAs(63),wt=n.oxw();return n.KtG(wt.toggleAllSelection(we))}),n._uU(65,"Tout s\xe9lectionner"),n.qZA(),n.YNc(66,ps,3,3,"ng-container",12),n.qZA(),n.YNc(67,Ra,2,1,"mat-error",20),n.qZA(),n.TgZ(68,"mat-radio-group",37)(69,"mat-label"),n._uU(70,"Application Automatique"),n.qZA(),n.TgZ(71,"mat-radio-button",38),n._uU(72,"Oui"),n.qZA(),n.TgZ(73,"mat-radio-button",39),n._uU(74,"Non"),n.qZA()()(),n.TgZ(75,"div",40)(76,"button",41),n._uU(77,"Suivant"),n.qZA()()()(),n.TgZ(78,"mat-step"),n.YNc(79,gs,1,0,"ng-template",16),n.TgZ(80,"mat-accordion",42)(81,"mat-expansion-panel",43)(82,"mat-expansion-panel-header")(83,"mat-panel-title",44),n._uU(84," Risque "),n.qZA()(),n.TgZ(85,"form",17),n.NdJ("ngSubmit",function(){n.CHM(z);const we=n.oxw();return n.KtG(we.submitParamRisque())}),n.YNc(86,_r,8,7,"ng-container",12),n.TgZ(87,"div",40)(88,"button",41),n._uU(89,"Suivant"),n.qZA()()()()()(),n.TgZ(90,"mat-step"),n.YNc(91,Zr,1,0,"ng-template",16),n.TgZ(92,"form",17),n.NdJ("ngSubmit",function(){n.CHM(z);const we=n.oxw();return n.KtG(we.submitInfoProduit())}),n.TgZ(93,"mat-form-field",18)(94,"mat-label"),n._uU(95,"Pack "),n.qZA(),n.TgZ(96,"mat-select",45),n.YNc(97,it,3,2,"mat-option",46),n.qZA(),n.YNc(98,Ci,2,1,"mat-error",20),n.qZA(),n.TgZ(99,"div",47)(100,"mat-accordion",42),n.YNc(101,ca,6,4,"ng-container",12),n.qZA()(),n.TgZ(102,"div",40)(103,"button",48),n.NdJ("click",function(){n.CHM(z);const we=n.oxw();return n.KtG(we.submitReduction())}),n._uU(104,"Enregistrer"),n.qZA()()()()(),n.BQk()}if(2&ue){const z=n.MAs(18),ge=n.MAs(26),we=n.oxw();n.xp6(5),n.Q6J("formGroup",we.formInfoGeneral),n.xp6(5),n.Q6J("ngIf",we.formInfoGeneral.controls.nomReduction.errors),n.xp6(5),n.Q6J("matDatepicker",z)("min",we.minDate),n.xp6(1),n.Q6J("for",z),n.xp6(3),n.Q6J("ngIf",we.formInfoGeneral.controls.dateDebut.errors),n.xp6(4),n.Q6J("matDatepicker",ge)("min",we.dateDebut),n.xp6(1),n.Q6J("for",ge),n.xp6(3),n.Q6J("ngIf",we.formInfoGeneral.controls.dateFin.errors),n.xp6(2),n.Q6J("ngIf",262==we.typeReduction),n.xp6(6),n.Q6J("value",null),n.xp6(2),n.Q6J("ngForOf",we.agences),n.xp6(1),n.Q6J("ngIf",we.formInfoGeneral.controls.agences.errors),n.xp6(7),n.Q6J("value",null),n.xp6(2),n.Q6J("ngForOf",we.mouvements),n.xp6(1),n.Q6J("ngIf",we.formInfoGeneral.controls.mouvementsPolice.errors),n.xp6(6),n.Q6J("value",null),n.xp6(2),n.Q6J("ngForOf",we.canalDistributions),n.xp6(1),n.Q6J("ngIf",we.formInfoGeneral.controls.canalDistribution.errors),n.xp6(7),n.Q6J("value",null),n.xp6(2),n.Q6J("ngForOf",we.users),n.xp6(1),n.Q6J("ngIf",we.formInfoGeneral.controls.utilisateurs.errors),n.xp6(14),n.Q6J("expanded",!0),n.xp6(4),n.Q6J("formGroup",we.infoVehicule),n.xp6(1),n.Q6J("ngForOf",we.paraRisqueProduit),n.xp6(6),n.Q6J("formGroup",we.infoPack),n.xp6(5),n.Q6J("ngForOf",we.packs),n.xp6(1),n.Q6J("ngIf",we.infoPack.controls.pack.errors),n.xp6(3),n.Q6J("ngForOf",we.VORowsPacks().controls)}}let jr=(()=>{class ue{constructor(z,ge,we,wt,st,Tn,Qo,li,To,Mo,Zo,Wl){this.route=z,this.genericService=ge,this.produitService=we,this.agencesService=wt,this.vehiculeService=st,this.paramRisqueService=Tn,this.reductionService=Qo,this.personneService=li,this.router=To,this.routerquery=Mo,this.packService=Zo,this.formBuilder=Wl,this.typeReduction=0,this.loadTablePack=!1,this.emptyTableReduction=!0,this.paramReady=!1,this.step=0,this.idProduit=0,this.idWorkFlow=263,this.garantiePart=!1,this.minDate=new Date,this.dataSourceGaranties=[],this.dataSourcePacks=new w.by,this.displayedColumns=["garantie","franchise","pourcentage","action"],this.displayedPackColumns=["id","description","dateDebut","action"],this.displayedColumnsReductions=["nomReduction","dateDebut","typeProduit","action"],this.packs=[],this.personneMorales=[],this.garantieTab=[],this.packsTab=[],this.paraRisqueProduit=[],this.reductionList=[],this.paramRisqueType=[],this.agences=[],this.dateDebut=new Date,this.dataSourceReduction=new w.by(this.reductionList),this.reductionJson=$i.E,this.typeValeurRisque=[],this.marques=[],this.users=[],this.valeurCategory="",this.paraRisqueProduitCategory=[],this.mouvements=[],this.typeProduits=[],this.canalDistributions=[],this.dateDebutConvention=new Date,this.errorHandler={error:!1,msg:""},this.dateFinConvention=new Date,this.typeValues=[{id:1,description:"Valeur"},{id:2,description:"Intervale"}],this.reductionSuccess=!1,this.isAllCanalDistro=!1,this.isAllUtilisateurs=!1,this.isAllAgences=!1}ngOnInit(){this.router.url.includes("/creation-convention")?(this.typeReduction=261,this.reductionJson.typeReduction=261,this.routerquery.queryParams.subscribe(z=>{this.dateDebutConvention=new Date(z.dateDebut),this.dateFinConvention=new Date(z.dateFin)})):(this.typeReduction=262,this.reductionJson.typeReduction=262),this.getAllProduits(),this.getAllUsers(),this.getAllAgences(),this.initFormGeneral(),this.initInfoVehicule(),this.initInfoProduit(),this.initInfoPack(),this.getMarques(),this.getMouvements(),this.canalDistribution()}canalDistribution(){this.genericService.getParam(JSON.parse(sessionStorage.getItem("dictionnaire")||"{}").find(z=>"C22"==z.code).idCategorie).subscribe(z=>{this.canalDistributions=z})}initFormGeneral(){this.formInfoGeneral=this.formBuilder.group(261==this.typeReduction?{nomReduction:["",e.kI.required],dateDebut:[{value:this.dateDebutConvention,disabled:!0},e.kI.required],dateFin:[{value:this.dateFinConvention,disabled:!0},e.kI.required],agences:["",e.kI.required],appAutomatique:["",e.kI.required],mouvementsPolice:["",e.kI.required],canalDistribution:["",e.kI.required],utilisateurs:["",e.kI.required]}:{nomReduction:["",e.kI.required],dateDebut:["",e.kI.required],dateFin:[{value:"",disabled:!0},e.kI.required],agences:["",e.kI.required],typeProduit:["",e.kI.required],appAutomatique:["",e.kI.required],mouvementsPolice:["",e.kI.required],canalDistribution:["",e.kI.required],utilisateurs:["",e.kI.required]})}initInfoVehicule(){this.infoVehicule=this.formBuilder.group({})}initInfoProduit(){this.infoProduit=this.formBuilder.group({agence:["",e.kI.required],utilisateur:["",e.kI.required]})}initInfoPack(){this.infoPack=this.formBuilder.group({pack:["",e.kI.required],VORowsPacks:this.formBuilder.array([])})}newPack(z,ge){return this.formBuilder.group({idPack:z,description:ge,garanties:this.formBuilder.array([])})}newGarantie(z){return this.formBuilder.group({idGarantie:new e.NI(z.idGarantie),idPackComplet:new e.NI(z.idPackComplet),garantie:new e.NI(z.description),franchise:new e.NI(z.franchise),pourcentage:new e.NI(z.pourcentage),isEditable:new e.NI(!1),sousGaranties:new e.NI(z.sousGaranties)})}getMarques(){this.vehiculeService.getAllMarque().subscribe({next:z=>{this.marques=z},error:z=>{console.log(z)}})}getMouvements(){this.genericService.getParam(JSON.parse(sessionStorage.getItem("dictionnaire")||"{}").find(z=>"C35"==z.code).idCategorie).subscribe({next:z=>{this.mouvements=z},error:z=>{console.log(z)}})}getAllUsers(){this.genericService.getAllUsers().subscribe({next:z=>{this.users=z},error:z=>{console.log(z)}})}getAllProduits(){this.produitService.getAllProduits().subscribe({next:z=>{this.typeProduits=z},error:z=>{console.log(z)}})}addPackGaranties(z,ge){this.VORowsGaranties(z).push(this.newGarantie(ge))}VORowsPacks(){return this.infoPack.get("VORowsPacks")}VORowsGaranties(z){return this.VORowsPacks().at(z).get("garanties")}getAllPersonneMorale(){this.personneService.getAllPersonneMorale().subscribe({next:z=>{this.personneMorales=z},error:z=>{console.log(z)}})}getAllPack(){this.packService.getPackByProduit(this.idProduit).subscribe({next:z=>{z.map(ge=>{this.packs.push(ge)})},error:z=>{console.log(z)}})}getPack(z,ge){this.packService.getPackById(z).subscribe({next:we=>{this.garantiePart=!0,this.loadTablePack=!0,this.garantieTab=[],we.garantie.filter(wt=>{let st="0";wt.categorieList.filter(Qo=>{"franchise"==Qo.description&&(st=Qo.valeur)});let Tn={idGarantie:wt.idGarantie,idPackComplet:wt.idPackComplet,description:wt.description,franchise:st,pourcentage:"0",sousGaranties:wt.sousGarantieList};this.garantieTab.push({idGarantie:wt.idGarantie,idPackComplet:wt.idPackComplet,description:wt.description,franchise:st,pourcentage:"0"}),this.addPackGaranties(ge,Tn)}),this.initFormGarantie(ge)},error:we=>{console.log(we)}})}getAllAgences(){this.agencesService.getAllAgence().subscribe({next:z=>{this.agences=z},error:z=>{console.log(z)}})}initFormGarantie(z){this.dataSourceGaranties[z]=new w.by(this.VORowsGaranties(z).controls),this.dataSourceGaranties.paginator=this.paginator}get VORows(){return this.infoPack.controls.VORows}EditGarantieLigne(z,ge){z.get("garanties").at(ge).get("isEditable").patchValue(!0)}SaveGarantieLigne(z,ge){z.get("garanties").at(ge).get("isEditable").patchValue(!1)}submitReduction(){this.formInfoGeneral.valid&&this.infoVehicule.valid&&this.infoPack.valid&&0!=this.infoPack.value.VORowsPacks.length&&(this.reductionJson.pack=[],this.infoPack.value.VORowsPacks.map("95"!=this.typeProduit.codeProduit?z=>{z.garanties.map(ge=>{this.reductionJson.pack.push({idPackComplet:ge.idPackComplet,taux:ge.pourcentage,franchise:ge.franchise})})}:z=>{z.garanties.map(ge=>{let we=[];ge.sousGaranties.map(st=>{we.push({idPackComplet:st.idPackComplet})}),this.reductionJson.pack.push({idPackComplet:ge.idPackComplet,taux:ge.pourcentage,franchise:ge.franchise,sousGaranties:we})})}),this.reductionService.addReduction(this.reductionJson).subscribe({next:z=>{this.reductionSuccess=!0,this.typeProduit={},this.codeReduction=z.codeReduction,261==this.typeReduction&&(this.resetForm(),this.step=0)},error:z=>{this.handleError(z),console.log(z)}}))}handleError(z){500===z.status&&(this.errorHandler.error=!0,this.errorHandler.msg="Erreur systeme, veuillez contacter l'administrateur.")}onChangePack(z,ge){ge.checked&&null==this.packsTab.find(we=>we.idPack0===z.idPack0)?(this.packsTab.push(z),this.VORowsPacks().push(this.newPack(z.idPack0,z.description)),this.getPack(z.idPack0,this.VORowsPacks().controls.findIndex(we=>we.value.idPack===z.idPack0))):!ge.checked&&null!=this.packsTab.find(we=>we.idPack0===z.idPack0)&&(this.removePack(this.VORowsPacks().controls.findIndex(we=>we.value.idPack===z.idPack0)),this.packsTab.splice(this.packsTab.map(we=>we.idPack0).indexOf(z.idPack0),1))}removePack(z){this.VORowsPacks().removeAt(z)}getAllParamRisque(){let z=!1,ge=[];this.paramRisqueService.getParamByProduit(this.idProduit).subscribe({next:we=>{this.paramRisqueService.getWorkFlowByProduit(this.idProduit,this.idWorkFlow).subscribe({next:wt=>{we.map(st=>{let Tn={},Qo=null,li=null;wt.filter(To=>{st.paramRisque.idParamRisque==To.paramRisque.idParamRisque&&(z=!0,Qo=To.enabled,li=To.obligatoire)}),null==this.paraRisqueProduit.find(To=>st.paramRisque.idParamRisque===To.idParamRisque)&&z&&(Tn.idParamRisque=st.paramRisque.idParamRisque,Tn.libelle=st.paramRisque.libelle[0].toUpperCase()+st.paramRisque.libelle.slice(1),Tn.formName=st.paramRisque.libelle.split(" ").map(Mo=>Mo.charAt(0).toUpperCase()+Mo.substring(1)).join(""),Tn.orderChamp=st.paramRisque.orderChamp,Tn.position=st.paramRisque.position,Tn.typeChamp=st.paramRisque.typeChamp,Tn.sizeChamp=st.paramRisque.sizeChamp,Tn.reponses=st.paramRisque.categorie?.paramDictionnaires,Tn.typeValeur=st.iddictionnaire,Tn.defaultValue=st.valeur,Tn.obligatoire=li,Tn.enable=Qo,Tn.category=st.paramRisque.categorieParamRisque?.description,"String"!=Tn.typeChamp?.description&&"Number"!=Tn.typeChamp?.description||"Marque"==Tn.formName?"From Table"==Tn.typeChamp?.description&&null==st.paramRisque.paramRisqueParent?this.paramRisqueService.getTableParamParent(Tn.idParamRisque).subscribe({next:Mo=>{Tn.reponses=Mo,this.infoVehicule.addControl(Tn.formName,new e.NI(Tn.defaultValue,[e.kI.required]))},error:Mo=>{console.log(Mo)}}):this.infoVehicule.addControl(Tn.formName,new e.NI(Tn.defaultValue,[e.kI.required])):(this.infoVehicule.addControl(Tn.formName,new e.Oe([this.newValeur()])),this.infoVehicule.addControl("typeValeur"+Tn.formName,new e.NI(1,[e.kI.required]))),this.typeValeurRisque.push({type:1,idParamRisque:Tn.idParamRisque}),this.paraRisqueProduit.push(Tn)),z=!1,ge=[]}),this.paraRisqueProduit=Object.values(this.paraRisqueProduit),this.paraRisqueProduit.map(st=>{}),this.paramReady=!0},error:wt=>{console.log(wt)}})},error:we=>{console.log(we)}})}submitInfoGenerales(){this.formInfoGeneral.valid&&(this.reductionJson.nomReduction=this.formInfoGeneral.get("nomReduction").value,this.reductionJson.dateDebut=this.formInfoGeneral.get("dateDebut").value,this.reductionJson.dateFin=this.formInfoGeneral.get("dateFin").value,this.reductionJson.idProduit=this.typeProduit.idCodeProduit,this.reductionJson.agences=this.formInfoGeneral.get("agences").value.filter(z=>null!==z),this.reductionJson.appAutomatique=this.formInfoGeneral.get("appAutomatique").value,this.reductionJson.mouvementPolice=this.formInfoGeneral.get("mouvementsPolice").value.filter(z=>null!==z),this.reductionJson.canalDistributions=this.formInfoGeneral.get("canalDistribution").value.filter(z=>null!==z),this.reductionJson.utilisateurs=this.formInfoGeneral.get("utilisateurs").value.filter(z=>null!==z),this.reductionJson.isAllAgences=this.isAllAgences,this.reductionJson.isAllUtilisateurs=this.isAllUtilisateurs,this.reductionJson.isAllCanalDistro=this.isAllCanalDistro,this.stepper.next())}submitInfoProduit(){}submitParamRisque(){if(this.infoVehicule.valid){let z=0,ge=[];this.paraRisqueProduit.map(we=>{let wt=[],st=0,Tn=0,Qo=0;Object.keys(this.infoVehicule.value).map(li=>{li==we.formName&&(z=we.idParamRisque,"String"!=we.typeChamp?.description&&"Number"!=we.typeChamp?.description||"Marque"==li?wt=this.infoVehicule.get(li).value.filter(To=>null!==To):2==this.infoVehicule.get(li).length?(st=this.infoVehicule.get(li).at(0).value.valeur,Tn=this.infoVehicule.get(li).at(1).value.valeur):1==this.infoVehicule.get(li).length&&(Qo=this.infoVehicule.get(li).at(0).value.valeur),ge.push({idParam:z,valMin:st,valMax:Tn,idResponseParam:wt,valeur:Qo}))})}),this.reductionJson.param=ge,this.stepper.next()}}changeTypeValeur(z,ge){let we;we=this.paraRisqueProduit.filter(Tn=>Tn.idParamRisque==ge)[0];const wt=this.typeValeurRisque.findIndex(Tn=>Tn.idParamRisque===ge);let st={type:z,idParamRisque:ge};-1===wt?this.typeValeurRisque.push(st):this.typeValeurRisque[wt]=st,2==z?this.addValeur(we.formName):1==z&&this.removeValeur(0,we.formName)}changeTypeProduit(z){for(this.step=1,this.typeProduit=z,this.packs=[],this.infoPack.reset(),this.dataSourceGaranties=[];0!==this.infoPack.get("VORowsPacks").length;)this.infoPack.get("VORowsPacks").removeAt(0);this.idProduit=this.typeProduit?.idCodeProduit,this.getAllParamRisque(),this.getAllPack(),this.typeValeurRisque=[],this.paraRisqueProduit=[]}resetForm(){this.formInfoGeneral.reset(),this.infoProduit.reset(),this.infoVehicule.reset(),this.infoPack.reset(),this.infoPack.setControl("VORowsPacks",new e.Oe([])),this.initFormGeneral()}valeurs(z){return this.infoVehicule.get(z)}newValeur(){return this.formBuilder.group({valeur:""})}addValeur(z){this.valeurs(z).push(this.newValeur())}removeValeur(z,ge){this.valeurs(ge).removeAt(z)}setDateDebut(z){this.formInfoGeneral.get("dateFin").enable(),this.dateDebut=z}toggleAllSelection(z){const ge=z.options.filter(we=>null===we.value).map(we=>we.selected)[0];console.log("bonjour ines",ge,z.ngControl.name),ge&&("canalDistribution"==z.ngControl.name&&(this.isAllCanalDistro=!0),"utilisateurs"==z.ngControl.name&&(this.isAllUtilisateurs=!0),"agences"==z.ngControl.name&&(this.isAllAgences=!0)),z.options.forEach(ge?we=>we.select():we=>we.deselect())}}return ue.\u0275fac=function(z){return new(z||ue)(n.Y36(ee.gz),n.Y36(Sn.M),n.Y36(t.d),n.Y36(vt.e),n.Y36($e.t),n.Y36(bn.D),n.Y36(Ft.w),n.Y36(Vt.F),n.Y36(ee.F0),n.Y36(ee.gz),n.Y36(Gn.F),n.Y36(e.qu))},ue.\u0275cmp=n.Xpm({type:ue,selectors:[["app-creation-reduction"]],viewQuery:function(z,ge){if(1&z&&(n.Gf(Le.NW,5),n.Gf(oe,5),n.Gf(pn,5)),2&z){let we;n.iGM(we=n.CRH())&&(ge.paginator=we.first),n.iGM(we=n.CRH())&&(ge.stepper=we.first),n.iGM(we=n.CRH())&&(ge.checkboxes=we)}},decls:11,vars:5,consts:[[1,"container"],[1,"header-container"],["class","back-container",4,"ngIf"],[1,"header-title"],["aria-label","directions_car",1,"mat-icon","notranslate","material-symbols-outlined","material-icons","mat-icon-no-color"],["class","alert alert-success",4,"ngIf"],[4,"ngIf"],[1,"back-container"],["aria-hidden","false","matTooltip","Retour","matTooltipPosition","right",1,"material-symbols-outlined",3,"click"],[1,"alert","alert-success"],["appearance","outline",1,"col-md-5",2,"padding-left","2rem"],[3,"ngModel","selectionChange","ngModelChange"],[4,"ngFor","ngForOf"],[3,"value"],["linear",""],["stepper",""],["matStepLabel",""],[1,"form","row",3,"formGroup","ngSubmit"],["appearance","outline",1,"col-md-5"],["type","text","matInput","","placeholder","","formControlName","nomReduction"],["class","invalid-feedback",4,"ngIf"],[1,"row"],["matInput","","formControlName","dateDebut",3,"matDatepicker","min","dateChange"],["matSuffix","",3,"for"],["pickerDateDebut",""],["matInput","","formControlName","dateFin",3,"matDatepicker","min"],["pickerDateFin",""],["appearance","outline","class","col-md-5 ",4,"ngIf"],["formControlName","agences","multiple",""],["mySelAgences",""],[3,"value","click"],["formControlName","mouvementsPolice","multiple",""],["mySelMouv",""],["formControlName","canalDistribution","multiple",""],["mySelCanal",""],["formControlName","utilisateurs","multiple",""],["mySelUsers",""],["formControlName","appAutomatique",1,"col-md-5"],["value","true",1,"example-margin"],["value","false",1,"example-margin"],[1,"row-button"],["type","submit",1,"btn","btn-action"],["multi",""],["hideToggle","",1,"panel-risque",3,"expanded"],[1,"categoryTitle"],["formControlName","pack"],[3,"value",4,"ngFor","ngForOf"],["formArrayName","VORowsPacks"],[1,"btn","btn-action",3,"click"],[1,"invalid-feedback"],["formControlName","typeProduit",3,"ngModel","ngModelChange","selectionChange"],["appearance","outline","class","col-md-5",4,"ngIf"],["style","display:flex;flex-direction:\n                                    column;",4,"ngIf"],[3,"formArrayName"],["class","col-md-5","appearance","outline",4,"ngIf"],["multiple","",3,"formControlName"],["mySelDist",""],[2,"display","flex","flex-direction","column"],[2,"margin-bottom","2rem","font-size","16px","font-weight","600","color","#00008f"],[3,"formControlName","selectionChange"],[3,"formGroupName"],["type","text","matInput","","formControlName","valeur"],["mySelMarque",""],["matInput","",3,"matDatepicker","formControlName"],["picker",""],[3,"change"],[1,"panel-risque",3,"formGroupName","expanded"],[1,""],["mat-table","","class","pack-table","formArrayName","garanties",3,"dataSource",4,"ngIf"],["mat-table","","formArrayName","garanties",1,"pack-table",3,"dataSource"],["matColumnDef","garantie"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",3,"formGroup",4,"matCellDef"],["matColumnDef","franchise"],["matColumnDef","pourcentage"],["matColumnDef","action"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell","",3,"formGroup"],[1,"noUnderline"],["matInput","","type","text","formControlName","garantie",3,"readonly"],[3,"ngClass"],["matInput","","type","text","formControlName","franchise",3,"readonly"],["matInput","","type","text","formControlName","pourcentage",3,"readonly"],[3,"click",4,"ngIf"],[3,"click"],["mat-header-row",""],["mat-row",""]],template:function(z,ge){1&z&&(n.TgZ(0,"div",0)(1,"div",1),n.YNc(2,Zi,3,0,"div",2),n.TgZ(3,"h2",3)(4,"mat-icon",4),n._uU(5,"redeem"),n.qZA(),n._uU(6," R\xe9duction "),n.qZA()(),n.YNc(7,Ai,2,1,"div",5),n.YNc(8,Di,2,1,"div",5),n.YNc(9,Nn,6,2,"ng-container",6),n.YNc(10,So,105,30,"ng-container",6),n.qZA()),2&z&&(n.xp6(2),n.Q6J("ngIf",1==ge.step&&261==ge.typeReduction),n.xp6(5),n.Q6J("ngIf",ge.reductionSuccess&&261==ge.typeReduction),n.xp6(1),n.Q6J("ngIf",ge.reductionSuccess&&262==ge.typeReduction),n.xp6(1),n.Q6J("ngIf",0==ge.step&&261==ge.typeReduction),n.xp6(1),n.Q6J("ngIf",1==ge.step&&261==ge.typeReduction||262==ge.typeReduction))},dependencies:[Se.mk,Se.sg,Se.O5,ln.Hw,ei.pp,ei.ib,ei.yz,ei.yK,e._Y,e.Fj,e.JJ,e.JL,e.sg,e.u,e.x0,e.CE,Z.TO,Z.KE,Z.hX,Z.R9,O.Nt,w.BZ,w.fO,w.as,w.w1,w.Dz,w.nj,w.ge,w.ev,w.XQ,w.Gk,ot.gM,J.Mq,J.hl,J.nW,tt.gD,Zt.ey,vi.VQ,vi.U0,uo.C0,uo.VY,uo.Vq,bo.oG,e.On],styles:[".container[_ngcontent-%COMP%]{background-color:#fff;padding:40px 0;height:100%;overflow-y:hidden;overflow-x:hidden}  .mat-horizontal-content-container{margin-top:2rem}h2.header-title[_ngcontent-%COMP%]{padding:0 24px;font-size:21px!important;color:#00008f;font-weight:600!important;letter-spacing:1px;display:flex;justify-content:flex-end}h2.header-title[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{margin-right:1rem;font-size:32px;height:-moz-fit-content;height:fit-content;width:-moz-fit-content;width:fit-content}.form.row[_ngcontent-%COMP%]{flex-direction:column;padding:1rem}.row-button[_ngcontent-%COMP%]   .btn.btn-action[_ngcontent-%COMP%]{float:right;margin-top:2rem}.mat-radio-group[_ngcontent-%COMP%]{margin-top:2rem;margin-bottom:4rem}.mat-radio-group[_ngcontent-%COMP%]   .mat-radio-button[_ngcontent-%COMP%]{margin-left:4rem}.mat-expansion-panel[_ngcontent-%COMP%]{margin-bottom:2rem}.mat-expansion-panel-header[_ngcontent-%COMP%]{background:rgba(199,199,199,.2)!important;font-weight:600;font-size:16px}.mat-expansion-panel-header.mat-expanded[_ngcontent-%COMP%]{height:48px}  .mat-step-header .mat-step-icon-state-edit{background-color:#d14624}.mat-expansion-panel-header-title[_ngcontent-%COMP%]{color:#00008f}table[_ngcontent-%COMP%]{width:100%}.mat-row[_ngcontent-%COMP%]:nth-child(even), .mat-header-row[_ngcontent-%COMP%]{background-color:#f7f7f9}.mat-header-row[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{color:#00008f}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:16px;padding-top:9px}table[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{height:-moz-fit-content;height:fit-content;font-size:26px;width:-moz-fit-content;width:fit-content;cursor:pointer}table[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{color:#00008f}.mat-header-cell[_ngcontent-%COMP%]{color:#333;font-weight:600;letter-spacing:.5px;font-size:15px;width:165px}.noUnderline[_ngcontent-%COMP%]  .mat-form-field-underline{display:none}.mat-menu-item[_ngcontent-%COMP%]{font-size:16px}.mat-menu-item[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{margin-right:16px;font-size:21px;height:-moz-fit-content;height:fit-content}.mat-menu-item[_ngcontent-%COMP%]:hover:not([disabled]){color:#00008f}.mat-menu-item[_ngcontent-%COMP%]:hover:not([disabled])   .mat-icon[_ngcontent-%COMP%]{color:#00008f}.title-table[_ngcontent-%COMP%]{margin-bottom:2rem;font-weight:600!important;font-size:19px!important;color:#00008f!important;display:flex;align-items:center}.title-table[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{margin-right:1rem}.header-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-bottom:3rem}.back-container[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:31px;color:#00008f;margin-left:1rem}"]}),ue})();function Hr(ue,je){1&ue&&(n.TgZ(0,"span"),n._uU(1,", "),n.qZA())}function oo(ue,je){if(1&ue&&(n.ynx(0),n._uU(1),n.YNc(2,Hr,2,0,"span",13),n.BQk()),2&ue){const z=je.$implicit,ge=je.index,we=n.oxw(2);n.xp6(1),n.hij(" ",null==z||null==z.idAgence||null==z.idAgence.idPersonneMorale?null:z.idAgence.idPersonneMorale.raisonSocial," "),n.xp6(1),n.Q6J("ngIf",ge<(null==we.reduction||null==we.reduction.agences?null:we.reduction.agences.length)-1)}}function nt(ue,je){1&ue&&(n.TgZ(0,"span"),n._uU(1,", "),n.qZA())}function jt(ue,je){if(1&ue&&(n.ynx(0),n._uU(1),n.YNc(2,nt,2,0,"span",13),n.BQk()),2&ue){const z=je.$implicit,ge=je.index,we=n.oxw(2);n.xp6(1),n.hij(" ",null==z||null==z.idCanal?null:z.idCanal.description," "),n.xp6(1),n.Q6J("ngIf",ge<(null==we.reduction||null==we.reduction.canalDistributions?null:we.reduction.canalDistributions.length)-1)}}function Be(ue,je){1&ue&&(n.TgZ(0,"span"),n._uU(1,", "),n.qZA())}function zt(ue,je){if(1&ue&&(n.ynx(0),n._uU(1),n.YNc(2,Be,2,0,"span",13),n.BQk()),2&ue){const z=je.$implicit,ge=je.index,we=n.oxw(2);n.xp6(1),n.hij(" ",null==z||null==z.idMouvement?null:z.idMouvement.description," "),n.xp6(1),n.Q6J("ngIf",ge<(null==we.reduction||null==we.reduction.mouvementPolice?null:we.reduction.mouvementPolice.length)-1)}}function yn(ue,je){1&ue&&(n.TgZ(0,"span"),n._uU(1,", "),n.qZA())}function Un(ue,je){if(1&ue&&(n.ynx(0),n._uU(1),n.YNc(2,yn,2,0,"span",13),n.BQk()),2&ue){const z=je.$implicit,ge=je.index,we=n.oxw(2);n.xp6(1),n.AsE(" ",z.nom," ",z.prenom," "),n.xp6(1),n.Q6J("ngIf",ge<(null==we.reduction||null==we.reduction.utilisateur?null:we.reduction.utilisateur.length)-1)}}function wi(ue,je){1&ue&&(n.TgZ(0,"span"),n._uU(1,", "),n.qZA())}function ro(ue,je){if(1&ue&&(n.ynx(0),n._uU(1),n.YNc(2,wi,2,0,"span",13),n.BQk()),2&ue){const z=je.$implicit,ge=je.index,we=n.oxw(2).$implicit;n.xp6(1),n.hij(" ",null==z?null:z.description," "),n.xp6(1),n.Q6J("ngIf",ge<(null==we||null==we.idParam||null==we.idParam.reponseList?null:we.idParam.reponseList.length)-1)}}function ko(ue,je){if(1&ue&&(n.TgZ(0,"div",7)(1,"div",8),n._uU(2),n.qZA(),n.TgZ(3,"div",9),n.YNc(4,ro,3,2,"ng-container",10),n.qZA()()),2&ue){const z=n.oxw().$implicit;n.xp6(2),n.hij("",null==z.idParam?null:z.idParam.libelle,": "),n.xp6(2),n.Q6J("ngForOf",null==z.idParam?null:z.idParam.reponseList)}}function hr(ue,je){if(1&ue&&(n.TgZ(0,"div",9),n._uU(1),n.qZA()),2&ue){const z=n.oxw(2).$implicit;n.xp6(1),n.Oqu(z.valeur)}}function Rl(ue,je){if(1&ue&&(n.TgZ(0,"div",9),n._uU(1),n.qZA()),2&ue){const z=n.oxw(2).$implicit;n.xp6(1),n.AsE("",z.valMin," - ",z.valMax,"")}}function ka(ue,je){if(1&ue&&(n.TgZ(0,"div",7)(1,"div",8),n._uU(2),n.qZA(),n.YNc(3,hr,2,1,"div",16),n.YNc(4,Rl,2,2,"div",16),n.qZA()),2&ue){const z=n.oxw().$implicit;n.xp6(2),n.hij("",null==z.idParam?null:z.idParam.libelle,": "),n.xp6(1),n.Q6J("ngIf",0==z.valMin&&0==z.valMax),n.xp6(1),n.Q6J("ngIf",0!=z.valMin||0!=z.valMax)}}function rl(ue,je){if(1&ue&&(n.TgZ(0,"div",14)(1,"div",6),n.YNc(2,ko,5,2,"div",15),n.YNc(3,ka,5,3,"div",15),n.qZA()()),2&ue){const z=je.$implicit;n.xp6(2),n.Q6J("ngIf",0!=(null==z.idParam||null==z.idParam.reponseList?null:z.idParam.reponseList.length)),n.xp6(1),n.Q6J("ngIf",0==(null==z.idParam||null==z.idParam.reponseList?null:z.idParam.reponseList.length))}}function Is(ue,je){1&ue&&(n.TgZ(0,"th",27),n._uU(1,"Garantie"),n.qZA())}function Dl(ue,je){if(1&ue&&(n.TgZ(0,"td",28),n._uU(1),n.qZA()),2&ue){const z=je.$implicit;n.xp6(1),n.hij(" ",null==z.idPackComplet||null==z.idPackComplet.garantie?null:z.idPackComplet.garantie.description," ")}}function $l(ue,je){1&ue&&(n.TgZ(0,"th",27),n._uU(1," Franchise"),n.qZA())}function Er(ue,je){if(1&ue&&(n.TgZ(0,"td",28),n._uU(1),n.qZA()),2&ue){const z=je.$implicit;n.xp6(1),n.hij(" ",z.franchise," ")}}function al(ue,je){1&ue&&(n.TgZ(0,"th",27),n._uU(1," Pourcentage"),n.qZA())}function Oi(ue,je){if(1&ue&&(n.TgZ(0,"td",28),n._uU(1),n.qZA()),2&ue){const z=je.$implicit;n.xp6(1),n.hij(" ",z.taux," ")}}function zi(ue,je){1&ue&&n._UZ(0,"tr",29)}function wl(ue,je){1&ue&&n._UZ(0,"tr",30)}function sl(ue,je){if(1&ue&&(n.ynx(0),n.TgZ(1,"mat-expansion-panel",17)(2,"mat-expansion-panel-header")(3,"mat-panel-title",18),n._uU(4),n.qZA()(),n.TgZ(5,"table",19),n.ynx(6,20),n.YNc(7,Is,2,0,"th",21),n.YNc(8,Dl,2,1,"td",22),n.BQk(),n.ynx(9,23),n.YNc(10,$l,2,0,"th",21),n.YNc(11,Er,2,1,"td",22),n.BQk(),n.ynx(12,24),n.YNc(13,al,2,0,"th",21),n.YNc(14,Oi,2,1,"td",22),n.BQk(),n.YNc(15,zi,1,0,"tr",25),n.YNc(16,wl,1,0,"tr",26),n.qZA()(),n.BQk()),2&ue){const z=je.$implicit,ge=n.oxw(2);n.xp6(1),n.Q6J("expanded",!0),n.xp6(3),n.hij(" ",null==z[0].idPackComplet||null==z[0].idPackComplet.idPack0?null:z[0].idPackComplet.idPack0.description," "),n.xp6(1),n.Q6J("dataSource",z),n.xp6(10),n.Q6J("matHeaderRowDef",ge.displayedColumns),n.xp6(1),n.Q6J("matRowDefColumns",ge.displayedColumns)}}function Fi(ue,je){if(1&ue&&(n.TgZ(0,"div",4)(1,"div",5)(2,"div",6)(3,"div",7)(4,"div",8),n._uU(5,"Code r\xe9duction: "),n.qZA(),n.TgZ(6,"div",9),n._uU(7),n.qZA()()(),n.TgZ(8,"div",6)(9,"div",7)(10,"div",8),n._uU(11,"Nom r\xe9duction: "),n.qZA(),n.TgZ(12,"div",9),n._uU(13),n.qZA()()()(),n.TgZ(14,"div",5)(15,"div",6)(16,"div",7)(17,"div",8),n._uU(18,"date d\xe9but: "),n.qZA(),n.TgZ(19,"div",9),n._uU(20),n.ALo(21,"dateFormatPipe"),n.qZA()()(),n.TgZ(22,"div",6)(23,"div",7)(24,"div",8),n._uU(25,"date fin: "),n.qZA(),n.TgZ(26,"div",9),n._uU(27),n.ALo(28,"dateFormatPipe"),n.qZA()()()(),n.TgZ(29,"div",5)(30,"div",6)(31,"div",7)(32,"div",8),n._uU(33,"Produit: "),n.qZA(),n.TgZ(34,"div",9),n._uU(35),n.qZA()()(),n.TgZ(36,"div",6)(37,"div",7)(38,"div",8),n._uU(39,"Type r\xe9duction: "),n.qZA(),n.TgZ(40,"div",9),n._uU(41),n.qZA()()()(),n.TgZ(42,"div",5)(43,"div",6)(44,"div",7)(45,"div",8),n._uU(46,"Agences: "),n.qZA(),n.TgZ(47,"div",9),n.YNc(48,oo,3,2,"ng-container",10),n.qZA()()(),n.TgZ(49,"div",6)(50,"div",7)(51,"div",8),n._uU(52,"Canal de distributions: "),n.qZA(),n.TgZ(53,"div",9),n.YNc(54,jt,3,2,"ng-container",10),n.qZA()()()(),n.TgZ(55,"div",5)(56,"div",6)(57,"div",7)(58,"div",8),n._uU(59,"Mouvements police: "),n.qZA(),n.TgZ(60,"div",9),n.YNc(61,zt,3,2,"ng-container",10),n.qZA()()(),n.TgZ(62,"div",6)(63,"div",7)(64,"div",8),n._uU(65,"Utilisateur: "),n.qZA(),n.TgZ(66,"div",9),n.YNc(67,Un,3,3,"ng-container",10),n.qZA()()()(),n.YNc(68,rl,4,2,"div",11),n.TgZ(69,"div",5)(70,"div",7)(71,"div",8),n._uU(72,"Packs: "),n.qZA()()(),n.TgZ(73,"mat-accordion",12),n.YNc(74,sl,17,5,"ng-container",10),n.qZA()()),2&ue){const z=n.oxw();n.xp6(7),n.Oqu(z.reduction.codeReduction),n.xp6(6),n.Oqu(z.reduction.nomReduction),n.xp6(7),n.Oqu(n.lcZ(21,12,z.reduction.dateDebut)),n.xp6(7),n.Oqu(n.lcZ(28,14,z.reduction.dateFin)),n.xp6(8),n.Oqu(null==z.reduction.produit?null:z.reduction.produit.description),n.xp6(6),n.Oqu(null==z.reduction.typeReduction?null:z.reduction.typeReduction.description),n.xp6(7),n.Q6J("ngForOf",z.reduction.agences),n.xp6(6),n.Q6J("ngForOf",z.reduction.canalDistributions),n.xp6(7),n.Q6J("ngForOf",z.reduction.mouvementPolice),n.xp6(6),n.Q6J("ngForOf",z.reduction.utilisateur),n.xp6(1),n.Q6J("ngForOf",z.reductionRisque),n.xp6(6),n.Q6J("ngForOf",z.reductionPack)}}const ll=function(){return["/gestion-reduction"]},Tr=["stepper"],_o=["checkbox"];function Xa(ue,je){if(1&ue){const z=n.EpF();n.TgZ(0,"div",7)(1,"mat-icon",8),n.NdJ("click",function(){n.CHM(z);const we=n.oxw();return n.KtG(we.step=0)}),n._uU(2,"arrow_circle_left"),n.qZA()()}}function Do(ue,je){if(1&ue&&(n.TgZ(0,"div",9),n._uU(1),n.qZA()),2&ue){const z=n.oxw();n.xp6(1),n.hij("La r\xe9duction corpo ",z.codeReduction," a \xe9t\xe9 modifier avec succ\xe9s, veuillez revenir vers la page creation convention, et cliquer sur rafrachir la liste ")}}function $r(ue,je){if(1&ue&&(n.TgZ(0,"div",9),n._uU(1),n.qZA()),2&ue){const z=n.oxw();n.xp6(1),n.hij("La r\xe9duction retail ",z.codeReduction," a \xe9t\xe9 modifier avec succ\xe9s.")}}function Vo(ue,je){1&ue&&n._uU(0,"Informations g\xe9n\xe9rales")}function cl(ue,je){1&ue&&(n.TgZ(0,"div"),n._uU(1," ce champs est obligatoire"),n.qZA())}function ul(ue,je){if(1&ue&&(n.TgZ(0,"mat-error",47),n.YNc(1,cl,2,0,"div",6),n.qZA()),2&ue){const z=n.oxw(3);n.xp6(1),n.Q6J("ngIf",null==z.formInfoGeneral||null==z.formInfoGeneral.controls?null:z.formInfoGeneral.controls.nomReduction.errors.required)}}function si(ue,je){1&ue&&(n.TgZ(0,"div"),n._uU(1," ce champs est obligatoire"),n.qZA())}function Gr(ue,je){if(1&ue&&(n.TgZ(0,"mat-error",47),n.YNc(1,si,2,0,"div",6),n.qZA()),2&ue){const z=n.oxw(3);n.xp6(1),n.Q6J("ngIf",null==z.formInfoGeneral||null==z.formInfoGeneral.controls?null:z.formInfoGeneral.controls.dateDebut.errors.required)}}function ml(ue,je){1&ue&&(n.TgZ(0,"div"),n._uU(1,"Ce champ est obligatoire"),n.qZA())}function Es(ue,je){if(1&ue&&(n.TgZ(0,"mat-error"),n.YNc(1,ml,2,0,"div",6),n.qZA()),2&ue){const z=n.oxw(3);n.xp6(1),n.Q6J("ngIf",null==z.formInfoGeneral||null==z.formInfoGeneral.controls?null:z.formInfoGeneral.controls.dateFin.errors.required)}}function ao(ue,je){if(1&ue&&(n.ynx(0),n.TgZ(1,"mat-option"),n._uU(2),n.qZA(),n.BQk()),2&ue){const z=n.oxw(4);n.xp6(2),n.hij(" ",null==z.reduction?null:z.reduction.produit.description," ")}}function Rs(ue,je){1&ue&&(n.TgZ(0,"div"),n._uU(1," ce champs est obligatoire"),n.qZA())}function Ol(ue,je){if(1&ue&&(n.TgZ(0,"mat-error",47),n.YNc(1,Rs,2,0,"div",6),n.qZA()),2&ue){const z=n.oxw(4);n.xp6(1),n.Q6J("ngIf",null==z.formInfoGeneral||null==z.formInfoGeneral.controls?null:z.formInfoGeneral.controls.typeProduit.errors.required)}}function Vi(ue,je){if(1&ue){const z=n.EpF();n.TgZ(0,"mat-form-field",18)(1,"mat-label"),n._uU(2,"Type produit"),n.qZA(),n.TgZ(3,"mat-select",48),n.NdJ("ngModelChange",function(we){n.CHM(z);const wt=n.oxw(3);return n.KtG(wt.typeProduit=we)})("selectionChange",function(we){n.CHM(z);const wt=n.oxw(3);return n.KtG(wt.changeTypeProduit(we.value))}),n.YNc(4,ao,3,1,"ng-container",20),n.qZA(),n.YNc(5,Ol,2,1,"mat-error",21),n.qZA()}if(2&ue){const z=n.oxw(3);n.xp6(3),n.Q6J("ngModel",z.typeProduit),n.xp6(1),n.Q6J("ngForOf",z.typeProduits),n.xp6(1),n.Q6J("ngIf",null==z.formInfoGeneral||null==z.formInfoGeneral.controls?null:z.formInfoGeneral.controls.typeProduit.errors)}}function Ma(ue,je){if(1&ue&&(n.ynx(0),n.TgZ(1,"mat-option",49),n._uU(2),n.qZA(),n.BQk()),2&ue){const z=je.$implicit;n.xp6(1),n.Q6J("value",z.idAgence),n.xp6(1),n.hij(" ",z.nomAgence," ")}}function ar(ue,je){1&ue&&(n.TgZ(0,"div"),n._uU(1," ce champs est obligatoire"),n.qZA())}function Ds(ue,je){if(1&ue&&(n.TgZ(0,"mat-error",47),n.YNc(1,ar,2,0,"div",6),n.qZA()),2&ue){const z=n.oxw(3);n.xp6(1),n.Q6J("ngIf",null==z.formInfoGeneral||null==z.formInfoGeneral.controls?null:z.formInfoGeneral.controls.agences.errors.required)}}function Br(ue,je){if(1&ue&&(n.ynx(0),n.TgZ(1,"mat-option",49),n._uU(2),n.qZA(),n.BQk()),2&ue){const z=je.$implicit;n.xp6(1),n.Q6J("value",z.idParam),n.xp6(1),n.hij(" ",z.description," ")}}function Rr(ue,je){1&ue&&(n.TgZ(0,"div"),n._uU(1," ce champs est obligatoire"),n.qZA())}function ws(ue,je){if(1&ue&&(n.TgZ(0,"mat-error",47),n.YNc(1,Rr,2,0,"div",6),n.qZA()),2&ue){const z=n.oxw(3);n.xp6(1),n.Q6J("ngIf",null==z.formInfoGeneral||null==z.formInfoGeneral.controls?null:z.formInfoGeneral.controls.mouvementsPolice.errors.required)}}function Po(ue,je){if(1&ue&&(n.ynx(0),n.TgZ(1,"mat-option",49),n._uU(2),n.qZA(),n.BQk()),2&ue){const z=je.$implicit;n.xp6(1),n.Q6J("value",z.idParam),n.xp6(1),n.hij(" ",z.description," ")}}function yo(ue,je){1&ue&&(n.TgZ(0,"div"),n._uU(1," ce champs est obligatoire"),n.qZA())}function ua(ue,je){if(1&ue&&(n.TgZ(0,"mat-error",47),n.YNc(1,yo,2,0,"div",6),n.qZA()),2&ue){const z=n.oxw(3);n.xp6(1),n.Q6J("ngIf",null==z.formInfoGeneral||null==z.formInfoGeneral.controls?null:z.formInfoGeneral.controls.canalDistribution.errors.required)}}function Os(ue,je){if(1&ue&&(n.ynx(0),n.TgZ(1,"mat-option",49),n._uU(2),n.qZA(),n.BQk()),2&ue){const z=je.$implicit;n.xp6(1),n.Q6J("value",z.userid),n.xp6(1),n.AsE(" ",z.nom," ",z.prenom," ")}}function ks(ue,je){1&ue&&(n.TgZ(0,"div"),n._uU(1," ce champs est obligatoire"),n.qZA())}function ho(ue,je){if(1&ue&&(n.TgZ(0,"mat-error",47),n.YNc(1,ks,2,0,"div",6),n.qZA()),2&ue){const z=n.oxw(3);n.xp6(1),n.Q6J("ngIf",z.formInfoGeneral.controls.utilisateurs.errors.required)}}function Kr(ue,je){if(1&ue){const z=n.EpF();n.TgZ(0,"form",17),n.NdJ("ngSubmit",function(){n.CHM(z);const we=n.oxw(2);return n.KtG(we.submitInfoGenerales())}),n.TgZ(1,"div",25)(2,"mat-form-field",18)(3,"mat-label"),n._uU(4,"type produit"),n.qZA(),n._UZ(5,"input",26),n.YNc(6,ul,2,1,"mat-error",21),n.qZA()(),n.TgZ(7,"div",25)(8,"mat-form-field",18)(9,"mat-label"),n._uU(10,"Date D\xe9but"),n.qZA(),n.TgZ(11,"input",27),n.NdJ("dateChange",function(we){n.CHM(z);const wt=n.oxw(2);return n.KtG(wt.setDateDebut(we.value))}),n.qZA(),n._UZ(12,"mat-datepicker-toggle",28)(13,"mat-datepicker",null,29),n.YNc(15,Gr,2,1,"mat-error",21),n.qZA(),n.TgZ(16,"mat-form-field",18)(17,"mat-label"),n._uU(18,"Date Fin"),n.qZA(),n.TgZ(19,"input",30),n.NdJ("dateChange",function(we){n.CHM(z);const wt=n.oxw(2);return n.KtG(wt.setDateFin(we.value))}),n.qZA(),n._UZ(20,"mat-datepicker-toggle",28)(21,"mat-datepicker",null,31),n.YNc(23,Es,2,1,"mat-error",6),n.qZA()(),n.TgZ(24,"div",25),n.YNc(25,Vi,6,3,"mat-form-field",32),n.TgZ(26,"mat-form-field",18)(27,"mat-label"),n._uU(28,"Agences"),n.qZA(),n.TgZ(29,"mat-select",33,34)(31,"mat-option",35),n.NdJ("click",function(){n.CHM(z);const we=n.MAs(30),wt=n.oxw(2);return n.KtG(wt.toggleAllSelection(we))}),n._uU(32,"Tout s\xe9lectionner"),n.qZA(),n.YNc(33,Ma,3,2,"ng-container",20),n.qZA(),n.YNc(34,Ds,2,1,"mat-error",21),n.qZA()(),n.TgZ(35,"div",25)(36,"mat-form-field",18)(37,"mat-label"),n._uU(38,"Mouvemants Police"),n.qZA(),n.TgZ(39,"mat-select",36,37)(41,"mat-option",38),n.NdJ("click",function(){n.CHM(z);const we=n.MAs(40),wt=n.oxw(2);return n.KtG(wt.toggleAllSelection(we))}),n._uU(42,"Tout s\xe9lectionner"),n.qZA(),n.YNc(43,Br,3,2,"ng-container",20),n.qZA(),n.YNc(44,ws,2,1,"mat-error",21),n.qZA(),n.TgZ(45,"mat-form-field",18)(46,"mat-label"),n._uU(47,"Canal de distribution"),n.qZA(),n.TgZ(48,"mat-select",39,40)(50,"mat-option",38),n.NdJ("click",function(){n.CHM(z);const we=n.MAs(49),wt=n.oxw(2);return n.KtG(wt.toggleAllSelection(we))}),n._uU(51,"Tout s\xe9lectionner"),n.qZA(),n.YNc(52,Po,3,2,"ng-container",20),n.qZA(),n.YNc(53,ua,2,1,"mat-error",21),n.qZA()(),n.TgZ(54,"div",25)(55,"mat-form-field",18)(56,"mat-label"),n._uU(57,"Utilisteurs"),n.qZA(),n.TgZ(58,"mat-select",41,42)(60,"mat-option",38),n.NdJ("click",function(){n.CHM(z);const we=n.MAs(59),wt=n.oxw(2);return n.KtG(wt.toggleAllSelection(we))}),n._uU(61,"Tout s\xe9lectionner"),n.qZA(),n.YNc(62,Os,3,3,"ng-container",20),n.qZA(),n.YNc(63,ho,2,1,"mat-error",21),n.qZA(),n.TgZ(64,"mat-radio-group",43)(65,"mat-label"),n._uU(66,"Application Automatique"),n.qZA(),n.TgZ(67,"mat-radio-button",44),n._uU(68,"Oui"),n.qZA(),n.TgZ(69,"mat-radio-button",45),n._uU(70,"Non"),n.qZA()()(),n.TgZ(71,"div",23)(72,"button",46),n._uU(73,"Suivant"),n.qZA()()()}if(2&ue){const z=n.MAs(14),ge=n.MAs(22),we=n.oxw(2);n.Q6J("formGroup",we.formInfoGeneral),n.xp6(6),n.Q6J("ngIf",null==we.formInfoGeneral||null==we.formInfoGeneral.controls?null:we.formInfoGeneral.controls.nomReduction.errors),n.xp6(5),n.Q6J("matDatepicker",z)("min",we.minDate),n.xp6(1),n.Q6J("for",z),n.xp6(3),n.Q6J("ngIf",null==we.formInfoGeneral||null==we.formInfoGeneral.controls?null:we.formInfoGeneral.controls.dateDebut.errors),n.xp6(4),n.Q6J("matDatepicker",ge)("min",we.dateDebut),n.xp6(1),n.Q6J("for",ge),n.xp6(3),n.Q6J("ngIf",null==we.formInfoGeneral||null==we.formInfoGeneral.controls?null:we.formInfoGeneral.controls.dateFin.errors),n.xp6(2),n.Q6J("ngIf",262==we.typeReduction),n.xp6(8),n.Q6J("ngForOf",we.agences),n.xp6(1),n.Q6J("ngIf",null==we.formInfoGeneral||null==we.formInfoGeneral.controls?null:we.formInfoGeneral.controls.agences.errors),n.xp6(7),n.Q6J("value",null),n.xp6(2),n.Q6J("ngForOf",we.mouvements),n.xp6(1),n.Q6J("ngIf",null==we.formInfoGeneral||null==we.formInfoGeneral.controls?null:we.formInfoGeneral.controls.mouvementsPolice.errors),n.xp6(6),n.Q6J("value",null),n.xp6(2),n.Q6J("ngForOf",we.canalDistributions),n.xp6(1),n.Q6J("ngIf",null==we.formInfoGeneral||null==we.formInfoGeneral.controls?null:we.formInfoGeneral.controls.canalDistribution.errors),n.xp6(7),n.Q6J("value",null),n.xp6(2),n.Q6J("ngForOf",we.users),n.xp6(1),n.Q6J("ngIf",we.formInfoGeneral.controls.utilisateurs.errors),n.xp6(4),n.Q6J("checked",1==(null==we.reduction?null:we.reduction.appAutomatique)),n.xp6(2),n.Q6J("checked",0==(null==we.reduction?null:we.reduction.appAutomatique))}}function es(ue,je){1&ue&&n._uU(0,"Informations relatif au produit")}function kl(ue,je){if(1&ue&&(n.ynx(0),n.TgZ(1,"mat-option",49),n._uU(2),n.qZA(),n.BQk()),2&ue){const z=je.$implicit;n.xp6(1),n.Q6J("value",z.id),n.xp6(1),n.hij(" ",z.description," ")}}function Ml(ue,je){1&ue&&(n.TgZ(0,"mat-error",47),n._uU(1," ce champs est obligatoire "),n.qZA())}function Yo(ue,je){if(1&ue&&(n.TgZ(0,"mat-error",47),n._uU(1),n.qZA()),2&ue){const z=n.oxw(2).$implicit,ge=n.oxw(3);n.xp6(1),n.hij(" ",null==ge.infoVehicule.get(z.formName).errors?null:ge.infoVehicule.get(z.formName).errors.msg," ")}}function Ua(ue,je){if(1&ue){const z=n.EpF();n.TgZ(0,"mat-form-field",18)(1,"mat-label"),n._uU(2),n.qZA(),n.TgZ(3,"mat-select",54,55)(5,"mat-option",38),n.NdJ("click",function(){n.CHM(z);const we=n.MAs(4),wt=n.oxw(4);return n.KtG(wt.toggleAllSelection(we))}),n._uU(6,"Tout s\xe9lectionner"),n.qZA(),n.YNc(7,kl,3,2,"ng-container",20),n.qZA(),n.YNc(8,Ml,2,0,"mat-error",21),n.YNc(9,Yo,2,1,"mat-error",21),n.qZA()}if(2&ue){const z=n.oxw().$implicit,ge=n.oxw(3);n.xp6(2),n.hij("",z.libelle," "),n.xp6(1),n.s9C("formControlName",z.formName),n.xp6(2),n.Q6J("value",null),n.xp6(2),n.Q6J("ngForOf",z.reponses),n.xp6(1),n.Q6J("ngIf",null==ge.infoVehicule.get(z.formName).errors?null:ge.infoVehicule.get(z.formName).errors.required),n.xp6(1),n.Q6J("ngIf",null==ge.infoVehicule.get(z.formName).errors?null:ge.infoVehicule.get(z.formName).errors.bloquant)}}function Ul(ue,je){if(1&ue&&(n.ynx(0),n.TgZ(1,"mat-option",49),n._uU(2),n.qZA(),n.BQk()),2&ue){const z=je.$implicit;n.xp6(1),n.Q6J("value",z.idParam),n.xp6(1),n.hij(" ",z.description," ")}}function dl(ue,je){1&ue&&(n.TgZ(0,"mat-error",47),n._uU(1," ce champs est obligatoire "),n.qZA())}function tr(ue,je){if(1&ue&&(n.TgZ(0,"mat-error",47),n._uU(1),n.qZA()),2&ue){const z=n.oxw(2).$implicit,ge=n.oxw(3);n.xp6(1),n.hij(" ",null==ge.infoVehicule.get(z.formName).errors?null:ge.infoVehicule.get(z.formName).errors.msg," ")}}function Ms(ue,je){if(1&ue&&(n.TgZ(0,"mat-form-field",18)(1,"mat-label"),n._uU(2),n.qZA(),n.TgZ(3,"mat-select",54),n.YNc(4,Ul,3,2,"ng-container",20),n.qZA(),n.YNc(5,dl,2,0,"mat-error",21),n.YNc(6,tr,2,1,"mat-error",21),n.qZA()),2&ue){const z=n.oxw().$implicit,ge=n.oxw(3);n.xp6(2),n.hij("",z.libelle," "),n.xp6(1),n.s9C("formControlName",z.formName),n.xp6(1),n.Q6J("ngForOf",z.reponses),n.xp6(1),n.Q6J("ngIf",null==ge.infoVehicule.get(z.formName).errors?null:ge.infoVehicule.get(z.formName).errors.required),n.xp6(1),n.Q6J("ngIf",null==ge.infoVehicule.get(z.formName).errors?null:ge.infoVehicule.get(z.formName).errors.bloquant)}}function Dn(ue,je){if(1&ue&&(n.ynx(0),n.TgZ(1,"mat-option",49),n._uU(2),n.qZA(),n.BQk()),2&ue){const z=je.$implicit;n.xp6(1),n.Q6J("value",z.id),n.xp6(1),n.hij(" ",z.description," ")}}function ts(ue,je){if(1&ue){const z=n.EpF();n.TgZ(0,"div",56)(1,"mat-label",57),n._uU(2),n.qZA(),n.TgZ(3,"mat-form-field",18)(4,"mat-label"),n._uU(5,"Type valeur"),n.qZA(),n.TgZ(6,"mat-select",58),n.NdJ("selectionChange",function(we){n.CHM(z);const wt=n.oxw().$implicit,st=n.oxw(3);return n.KtG(st.changeTypeValeur(we.value,wt.idParamRisque))}),n.YNc(7,Dn,3,2,"ng-container",20),n.qZA()()()}if(2&ue){const z=n.oxw().$implicit,ge=n.oxw(3);n.xp6(2),n.Oqu(z.libelle),n.xp6(4),n.MGl("formControlName","typeValeur",z.formName,""),n.xp6(1),n.Q6J("ngForOf",ge.typeValues)}}function Kl(ue,je){1&ue&&(n.TgZ(0,"mat-label"),n._uU(1,"Valeur "),n.qZA())}function ns(ue,je){1&ue&&(n.TgZ(0,"mat-label"),n._uU(1,"Valeur Max"),n.qZA())}function Pa(ue,je){1&ue&&(n.TgZ(0,"mat-error",47),n._uU(1," ce champs est obligatoire "),n.qZA())}function Ho(ue,je){1&ue&&(n.TgZ(0,"mat-error",47),n._uU(1," ce champs n'est pas conforme "),n.qZA())}function ma(ue,je){if(1&ue&&(n.TgZ(0,"mat-error",47),n._uU(1),n.qZA()),2&ue){const z=n.oxw(2).$implicit,ge=n.oxw(3);n.xp6(1),n.hij(" ",null==ge.infoVehicule.get(z.formName).errors?null:ge.infoVehicule.get(z.formName).errors.msg," ")}}function wo(ue,je){if(1&ue&&(n.TgZ(0,"div")(1,"div",59)(2,"mat-form-field",18),n.YNc(3,Kl,2,0,"mat-label",6),n.YNc(4,ns,2,0,"mat-label",6),n._UZ(5,"input",60),n.YNc(6,Pa,2,0,"mat-error",21),n.YNc(7,Ho,2,0,"mat-error",21),n.YNc(8,ma,2,1,"mat-error",21),n.qZA()()()),2&ue){const z=je.index,ge=n.oxw().$implicit,we=n.oxw(3);n.xp6(1),n.Q6J("formGroupName",z),n.xp6(2),n.Q6J("ngIf",0==z),n.xp6(1),n.Q6J("ngIf",1==z),n.xp6(2),n.Q6J("ngIf",null==we.infoVehicule.get(ge.formName).errors?null:we.infoVehicule.get(ge.formName).errors.required),n.xp6(1),n.Q6J("ngIf",(null==we.infoVehicule.get(ge.formName).errors?null:we.infoVehicule.get(ge.formName).errors.pattern)||(null==we.infoVehicule.get(ge.formName).errors?null:we.infoVehicule.get(ge.formName).errors.maxlength)),n.xp6(1),n.Q6J("ngIf",null==we.infoVehicule.get(ge.formName).errors?null:we.infoVehicule.get(ge.formName).errors.bloquant)}}function Us(ue,je){if(1&ue&&(n.ynx(0),n.TgZ(1,"mat-option",49),n._uU(2),n.qZA(),n.BQk()),2&ue){const z=je.$implicit;n.xp6(1),n.Q6J("value",z.idParam),n.xp6(1),n.hij(" ",z.marque," ")}}function is(ue,je){1&ue&&(n.TgZ(0,"mat-error",47)(1,"div"),n._uU(2," ce champs est obligatoire"),n.qZA()())}function _l(ue,je){if(1&ue&&(n.TgZ(0,"mat-error",47),n._uU(1),n.qZA()),2&ue){const z=n.oxw(2).$implicit,ge=n.oxw(3);n.xp6(1),n.hij(" ",null==ge.infoVehicule.get(z.formName).errors?null:ge.infoVehicule.get(z.formName).errors.msg," ")}}function Fs(ue,je){if(1&ue){const z=n.EpF();n.TgZ(0,"mat-form-field",18)(1,"mat-label"),n._uU(2),n.qZA(),n.TgZ(3,"mat-select",54,61)(5,"mat-option",38),n.NdJ("click",function(){n.CHM(z);const we=n.MAs(4),wt=n.oxw(4);return n.KtG(wt.toggleAllSelection(we))}),n._uU(6,"Tout s\xe9lectionner"),n.qZA(),n.YNc(7,Us,3,2,"ng-container",20),n.qZA(),n.YNc(8,is,3,0,"mat-error",21),n.YNc(9,_l,2,1,"mat-error",21),n.qZA()}if(2&ue){const z=n.oxw().$implicit,ge=n.oxw(3);n.xp6(2),n.hij("",z.libelle," "),n.xp6(1),n.s9C("formControlName",z.formName),n.xp6(2),n.Q6J("value",null),n.xp6(2),n.Q6J("ngForOf",ge.marques),n.xp6(1),n.Q6J("ngIf",z.obligatoire),n.xp6(1),n.Q6J("ngIf",null==ge.infoVehicule.get(z.formName).errors?null:ge.infoVehicule.get(z.formName).errors.bloquant)}}function Fl(ue,je){1&ue&&(n.TgZ(0,"mat-error",47),n._uU(1," ce champs est obligatoire "),n.qZA())}function Qs(ue,je){if(1&ue&&(n.TgZ(0,"mat-error",47),n._uU(1),n.qZA()),2&ue){const z=n.oxw(2).$implicit,ge=n.oxw(3);n.xp6(1),n.hij(" ",null==ge.infoVehicule.get(z.formName).errors?null:ge.infoVehicule.get(z.formName).errors.msg," ")}}function Ql(ue,je){if(1&ue&&(n.TgZ(0,"mat-form-field",18)(1,"mat-label"),n._uU(2),n.qZA(),n._UZ(3,"input",62)(4,"mat-datepicker-toggle",28)(5,"mat-datepicker",null,63),n.YNc(7,Fl,2,0,"mat-error",21),n.YNc(8,Qs,2,1,"mat-error",21),n.qZA()),2&ue){const z=n.MAs(6),ge=n.oxw().$implicit,we=n.oxw(3);n.xp6(2),n.Oqu(ge.libelle),n.xp6(1),n.s9C("formControlName",ge.formName),n.Q6J("matDatepicker",z),n.xp6(1),n.Q6J("for",z),n.xp6(3),n.Q6J("ngIf",null==we.infoVehicule.get(ge.formName).errors?null:we.infoVehicule.get(ge.formName).errors.required),n.xp6(1),n.Q6J("ngIf",null==we.infoVehicule.get(ge.formName).errors?null:we.infoVehicule.get(ge.formName).errors.bloquant)}}function pl(ue,je){if(1&ue&&(n.ynx(0),n.YNc(1,Ua,10,6,"mat-form-field",50),n.YNc(2,Ms,7,5,"mat-form-field",50),n.YNc(3,ts,8,3,"div",51),n.TgZ(4,"div",52),n.YNc(5,wo,9,6,"div",20),n.qZA(),n.YNc(6,Fs,10,6,"mat-form-field",50),n.YNc(7,Ql,9,6,"mat-form-field",53),n.BQk()),2&ue){const z=je.$implicit,ge=n.oxw(3);n.xp6(1),n.Q6J("ngIf","From Table"==(null==z.typeChamp?null:z.typeChamp.description)),n.xp6(1),n.Q6J("ngIf","Liste of values"==(null==z.typeChamp?null:z.typeChamp.description)),n.xp6(1),n.Q6J("ngIf",("String"==(null==z.typeChamp?null:z.typeChamp.description)||"Number"==(null==z.typeChamp?null:z.typeChamp.description))&&"Marque"!=z.formName),n.xp6(1),n.s9C("formArrayName",z.formName),n.xp6(1),n.Q6J("ngForOf",ge.valeurs(z.formName).controls),n.xp6(1),n.Q6J("ngIf","Marque"==z.formName),n.xp6(1),n.Q6J("ngIf","date"==(null==z.typeChamp?null:z.typeChamp.description))}}function Jl(ue,je){if(1&ue){const z=n.EpF();n.TgZ(0,"form",17),n.NdJ("ngSubmit",function(){n.CHM(z);const we=n.oxw(2);return n.KtG(we.submitParamRisque())}),n.YNc(1,pl,8,7,"ng-container",20),n.TgZ(2,"div",23)(3,"button",46),n._uU(4,"Suivant"),n.qZA()()()}if(2&ue){const z=n.oxw(2);n.Q6J("formGroup",z.infoVehicule),n.xp6(1),n.Q6J("ngForOf",z.paraRisqueProduit)}}function Ce(ue,je){1&ue&&n._uU(0,"Pack")}function mt(ue,je){if(1&ue){const z=n.EpF();n.TgZ(0,"mat-option")(1,"mat-checkbox",64),n.NdJ("change",function(we){const st=n.CHM(z).$implicit,Tn=n.oxw(2);return n.KtG(Tn.onChangePack(st,we))}),n._uU(2),n.qZA()()}if(2&ue){const z=je.$implicit;n.xp6(2),n.hij(" ",z.description,"")}}function Pe(ue,je){1&ue&&(n.TgZ(0,"div"),n._uU(1," ce champs est obligatoire"),n.qZA())}function _t(ue,je){if(1&ue&&(n.TgZ(0,"mat-error",47),n.YNc(1,Pe,2,0,"div",6),n.qZA()),2&ue){const z=n.oxw(2);n.xp6(1),n.Q6J("ngIf",z.infoPack.controls.pack.errors.required)}}function yt(ue,je){1&ue&&(n.TgZ(0,"th",77),n._uU(1,"Garantie"),n.qZA())}function rn(ue,je){1&ue&&(n.TgZ(0,"td",78)(1,"mat-form-field",79),n._UZ(2,"input",80),n.qZA()()),2&ue&&(n.Q6J("formGroup",je.$implicit),n.xp6(2),n.Q6J("readonly",!0))}function eo(ue,je){1&ue&&(n.TgZ(0,"th",77),n._uU(1," Franchise"),n.qZA())}function sr(ue,je){1&ue&&(n.TgZ(0,"mat-label"),n._uU(1,"Franchise"),n.qZA())}const Dr=function(ue){return{noUnderline:ue}};function wr(ue,je){if(1&ue&&(n.TgZ(0,"td",78)(1,"mat-form-field",81),n.YNc(2,sr,2,0,"mat-label",6),n._UZ(3,"input",82),n.qZA()()),2&ue){const z=je.$implicit,ge=je.index,we=n.oxw(2).$implicit;let wt,st,Tn;n.Q6J("formGroup",z),n.xp6(1),n.Q6J("ngClass",n.VKq(4,Dr,!(null!=(wt=we.get("garanties"))&&wt.value[ge].isEditable))),n.xp6(1),n.Q6J("ngIf",null==(st=we.get("garanties"))?null:st.value[ge].isEditable),n.xp6(1),n.Q6J("readonly",!(null!=(Tn=we.get("garanties"))&&Tn.value[ge].isEditable))}}function Or(ue,je){1&ue&&(n.TgZ(0,"th",77),n._uU(1," Pourcentage"),n.qZA())}function pr(ue,je){1&ue&&(n.TgZ(0,"mat-label"),n._uU(1,"Pourcentage"),n.qZA())}function Za(ue,je){if(1&ue&&(n.TgZ(0,"td",78)(1,"mat-form-field",81),n.YNc(2,pr,2,0,"mat-label",6),n._UZ(3,"input",83),n.qZA()()),2&ue){const z=je.$implicit,ge=je.index,we=n.oxw(2).$implicit;let wt,st,Tn;n.Q6J("formGroup",z),n.xp6(1),n.Q6J("ngClass",n.VKq(4,Dr,!(null!=(wt=we.get("garanties"))&&wt.value[ge].isEditable))),n.xp6(1),n.Q6J("ngIf",null==(st=we.get("garanties"))?null:st.value[ge].isEditable),n.xp6(1),n.Q6J("readonly",!(null!=(Tn=we.get("garanties"))&&Tn.value[ge].isEditable))}}function os(ue,je){1&ue&&(n.TgZ(0,"th",77),n._uU(1," Action "),n.qZA())}function fl(ue,je){if(1&ue){const z=n.EpF();n.TgZ(0,"mat-icon",35),n.NdJ("click",function(){n.CHM(z);const we=n.oxw().index,wt=n.oxw(2).$implicit,st=n.oxw(2);return n.KtG(st.EditGarantieLigne(wt,we))}),n._uU(1,"edit"),n.qZA()}}function Js(ue,je){if(1&ue){const z=n.EpF();n.TgZ(0,"mat-icon",35),n.NdJ("click",function(){n.CHM(z);const we=n.oxw().index,wt=n.oxw(2).$implicit,st=n.oxw(2);return n.KtG(st.SaveGarantieLigne(wt,we))}),n._uU(1,"check_circle"),n.qZA()}}function qa(ue,je){if(1&ue&&(n.TgZ(0,"td",78),n.YNc(1,fl,2,0,"mat-icon",84),n.YNc(2,Js,2,0,"mat-icon",84),n.qZA()),2&ue){const z=je.$implicit,ge=je.index,we=n.oxw(2).$implicit;let wt,st;n.Q6J("formGroup",z),n.xp6(1),n.Q6J("ngIf",!(null!=(wt=we.get("garanties"))&&wt.value[ge].isEditable)),n.xp6(1),n.Q6J("ngIf",null==(st=we.get("garanties"))?null:st.value[ge].isEditable)}}function Ac(ue,je){1&ue&&n._UZ(0,"tr",85)}function Wo(ue,je){1&ue&&n._UZ(0,"tr",86)}function qt(ue,je){if(1&ue&&(n.TgZ(0,"table",68),n.ynx(1,69),n.YNc(2,yt,2,0,"th",70),n.YNc(3,rn,3,2,"td",71),n.BQk(),n.ynx(4,72),n.YNc(5,eo,2,0,"th",70),n.YNc(6,wr,4,6,"td",71),n.BQk(),n.ynx(7,73),n.YNc(8,Or,2,0,"th",70),n.YNc(9,Za,4,6,"td",71),n.BQk(),n.ynx(10,74),n.YNc(11,os,2,0,"th",70),n.YNc(12,qa,3,3,"td",71),n.BQk(),n.YNc(13,Ac,1,0,"tr",75),n.YNc(14,Wo,1,0,"tr",76),n.qZA()),2&ue){const z=n.oxw().index,ge=n.oxw(2);n.Q6J("dataSource",ge.dataSourceGaranties[z]),n.xp6(13),n.Q6J("matHeaderRowDef",ge.displayedColumns),n.xp6(1),n.Q6J("matRowDefColumns",ge.displayedColumns)}}function an(ue,je){if(1&ue&&(n.ynx(0),n.TgZ(1,"mat-expansion-panel",65)(2,"mat-expansion-panel-header")(3,"mat-panel-title",66),n._uU(4),n.qZA()(),n.YNc(5,qt,15,3,"table",67),n.qZA(),n.BQk()),2&ue){const z=je.$implicit,ge=je.index,we=n.oxw(2);n.xp6(1),n.Q6J("formGroupName",ge)("expanded",!0),n.xp6(3),n.hij(" ",z.value.description," "),n.xp6(1),n.Q6J("ngIf",we.loadTablePack)}}function Gt(ue,je){if(1&ue){const z=n.EpF();n.ynx(0),n.TgZ(1,"mat-stepper",10,11)(3,"mat-step"),n.YNc(4,Vo,1,0,"ng-template",12),n.YNc(5,Kr,74,24,"form",13),n.qZA(),n.TgZ(6,"mat-step"),n.YNc(7,es,1,0,"ng-template",12),n.TgZ(8,"mat-accordion",14)(9,"mat-expansion-panel",15)(10,"mat-expansion-panel-header")(11,"mat-panel-title",16),n._uU(12," Risque "),n.qZA()(),n.YNc(13,Jl,5,2,"form",13),n.qZA()()(),n.TgZ(14,"mat-step"),n.YNc(15,Ce,1,0,"ng-template",12),n.TgZ(16,"form",17),n.NdJ("ngSubmit",function(){n.CHM(z);const we=n.oxw();return n.KtG(we.submitInfoProduit())}),n.TgZ(17,"mat-form-field",18)(18,"mat-label"),n._uU(19,"Pack "),n.qZA(),n.TgZ(20,"mat-select",19),n.YNc(21,mt,3,1,"mat-option",20),n.qZA(),n.YNc(22,_t,2,1,"mat-error",21),n.qZA(),n.TgZ(23,"div",22)(24,"mat-accordion",14),n.YNc(25,an,6,4,"ng-container",20),n.qZA()(),n.TgZ(26,"div",23)(27,"button",24),n.NdJ("click",function(){n.CHM(z);const we=n.oxw();return n.KtG(we.submitReduction())}),n._uU(28,"Enregistrer"),n.qZA()()()()(),n.BQk()}if(2&ue){const z=n.oxw();n.xp6(5),n.Q6J("ngIf",z.formInfoGeneral),n.xp6(4),n.Q6J("expanded",!0),n.xp6(4),n.Q6J("ngIf",z.infoVehicule),n.xp6(3),n.Q6J("formGroup",z.infoPack),n.xp6(5),n.Q6J("ngForOf",z.packs),n.xp6(1),n.Q6J("ngIf",z.infoPack.controls.pack.errors),n.xp6(3),n.Q6J("ngForOf",z.VORowsPacks().controls)}}const Qi=[{path:"gestion-reduction/creation-reduction",component:jr,canActivate:[me.k],data:{roles:["ADMIN","ROLE_SUPER_ADMIN","ANALYSTE","METIER","BACKOFFICE","BO"]}},{path:"creation-convention/creation-reduction",component:jr,canActivate:[me.k],data:{roles:["ADMIN","ROLE_SUPER_ADMIN","ANALYSTE","METIER","BACKOFFICE","BO"]}},{path:"gestion-reduction/consultation-reduction/:idReduction",component:(()=>{class ue{constructor(z,ge,we){this.router=z,this.route=ge,this.reductionService=we,this.reduction=[],this.reductionRisque=[],this.reductionPack=[],this.reductionReady=!1,this.displayedColumnsReduc=["codeReduction","nomReduction","tauxReduction","action"],this.displayedColumns=["garantie","franchise","pourcentage"]}ngOnInit(){this.idReduction=this.route.snapshot.paramMap.get("idReduction"),this.reductionService.getReductionById(this.idReduction).subscribe({next:z=>{this.reductionReady=!0,this.reduction=z,this.reductionRisque=this.reduction.paramList,this.reductionPack=this.reduction.packList.reduce((ge,we)=>((ge[we.idPackComplet.idPack0.idPack0]=ge[we.idPackComplet.idPack0.idPack0]||[]).push(we),ge),{}),this.reductionPack=Object.values(this.reductionPack)},error:z=>{console.log(z)}})}consultReduction(z){this.router.navigate(["gestion-reduction/consultation-reduction/"+z])}}return ue.\u0275fac=function(z){return new(z||ue)(n.Y36(ee.F0),n.Y36(ee.gz),n.Y36(Ft.w))},ue.\u0275cmp=n.Xpm({type:ue,selectors:[["app-consult-reduction"]],decls:6,vars:4,consts:[[1,"container"],[1,"header-title"],["aria-hidden","false","matTooltip","Retour","matTooltipPosition","left",1,"material-symbols-outlined",3,"routerLink"],["class","infos",4,"ngIf"],[1,"infos"],[1,"row","mini-info"],[1,"col-md-6"],[1,"row"],[1,"col-md-6","key"],[1,"col-md-6","value"],[4,"ngFor","ngForOf"],["class","row mini-info risque",4,"ngFor","ngForOf"],["multi",""],[4,"ngIf"],[1,"row","mini-info","risque"],["class","row",4,"ngIf"],["class","col-md-6 value",4,"ngIf"],[1,"panel-risque",3,"expanded"],[1,""],["mat-table","",1,"pack-table",3,"dataSource"],["matColumnDef","garantie"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","franchise"],["matColumnDef","pourcentage"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],["mat-header-row",""],["mat-row",""]],template:function(z,ge){1&z&&(n.TgZ(0,"div",0)(1,"h2",1)(2,"mat-icon",2),n._uU(3,"arrow_circle_left"),n.qZA(),n._uU(4),n.qZA(),n.YNc(5,Fi,75,16,"div",3),n.qZA()),2&z&&(n.xp6(2),n.Q6J("routerLink",n.DdM(3,ll)),n.xp6(2),n.hij(" Consultation de la r\xe9duction N\xb0",ge.idReduction,""),n.xp6(1),n.Q6J("ngIf",ge.reductionReady))},dependencies:[Se.sg,Se.O5,ln.Hw,ei.pp,ei.ib,ei.yz,ei.yK,w.BZ,w.fO,w.as,w.w1,w.Dz,w.nj,w.ge,w.ev,w.XQ,w.Gk,ot.gM,ee.rH,_n.y],styles:[".container[_ngcontent-%COMP%]{background-color:#fff;padding:40px 0;height:100%;overflow-x:hidden;box-shadow:0 .5rem 1rem #00000026}.infos[_ngcontent-%COMP%]{font-size:16px;margin-bottom:2rem;font-weight:600;padding:2rem 3rem}.value[_ngcontent-%COMP%]{color:#00008f;font-weight:600}.mini-info[_ngcontent-%COMP%]{margin-bottom:2rem}h2.header-title[_ngcontent-%COMP%]{padding:0 24px;font-size:21px!important;color:#00008f;font-weight:600!important;letter-spacing:1px;display:flex;justify-content:space-between}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:16px;font-weight:600;border-right:1px solid #e7e7e7;padding-left:1rem}.mat-icon[_ngcontent-%COMP%]{height:100%;font-size:26px;width:-moz-fit-content;width:fit-content}.mat-header-cell[_ngcontent-%COMP%]{color:#333;font-weight:600;letter-spacing:.5px;font-size:15px}.container[_ngcontent-%COMP%]{background-color:#fff;padding:40px 0;height:100%;overflow-y:hidden;overflow-x:hidden}  .mat-horizontal-content-container{margin-top:2rem}.mat-expansion-panel-header[_ngcontent-%COMP%]{background:rgba(199,199,199,.2)!important;font-weight:600;font-size:16px}.mat-expansion-panel-header.mat-expanded[_ngcontent-%COMP%]{height:48px}  .mat-step-header .mat-step-icon-state-edit{background-color:#d14624}.mat-expansion-panel-header-title[_ngcontent-%COMP%]{color:#00008f}table[_ngcontent-%COMP%]{width:100%}.mat-row[_ngcontent-%COMP%]:nth-child(even), .mat-header-row[_ngcontent-%COMP%]{background-color:#f7f7f9}.mat-header-row[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{color:#00008f}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:16px;padding-top:9px}table[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{height:-moz-fit-content;height:fit-content;font-size:26px;width:-moz-fit-content;width:fit-content;cursor:pointer}table[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{color:#00008f}.mat-header-cell[_ngcontent-%COMP%]{color:#333;font-weight:600;letter-spacing:.5px;font-size:15px;width:165px}.noUnderline[_ngcontent-%COMP%]  .mat-form-field-underline{display:none}.mat-menu-item[_ngcontent-%COMP%]{font-size:16px}.mat-menu-item[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{margin-right:16px;font-size:21px;height:-moz-fit-content;height:fit-content}.mat-menu-item[_ngcontent-%COMP%]:hover:not([disabled]){color:#00008f}.mat-menu-item[_ngcontent-%COMP%]:hover:not([disabled])   .mat-icon[_ngcontent-%COMP%]{color:#00008f}.title-table[_ngcontent-%COMP%]{margin-bottom:2rem;font-weight:600!important;font-size:19px!important;color:#00008f!important;display:flex;align-items:center}.title-table[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{margin-right:1rem}.header-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-bottom:3rem}.back-container[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:31px;color:#00008f;margin-left:1rem}"]}),ue})(),canActivate:[me.k],data:{roles:["ADMIN","ROLE_SUPER_ADMIN","ANALYSTE","METIER","BACKOFFICE","BO"]}},{path:"gestion-reduction/modification-reduction/:idReduction",component:(()=>{class ue{constructor(z,ge,we,wt,st,Tn,Qo,li,To,Mo,Zo,Wl){this.route=z,this.genericService=ge,this.produitService=we,this.agencesService=wt,this.vehiculeService=st,this.paramRisqueService=Tn,this.reductionService=Qo,this.personneService=li,this.router=To,this.routerquery=Mo,this.packService=Zo,this.formBuilder=Wl,this.reduction=[],this.reductionRisque=[],this.reductionPack=[],this.reductionReady=!1,this.displayedColumnsReduc=["codeReduction","nomReduction","tauxReduction","action"],this.displayedColumns=["garantie","franchise","pourcentage"],this.typeReduction=0,this.loadTablePack=!1,this.emptyTableReduction=!0,this.paramReady=!1,this.step=0,this.idProduit=0,this.idWorkFlow=263,this.garantiePart=!1,this.minDate=new Date,this.dataSourceGaranties=[],this.dataSourcePacks=new w.by,this.displayedPackColumns=["id","description","dateDebut","action"],this.displayedColumnsReductions=["nomReduction","dateDebut","typeProduit","action"],this.packs=[],this.personneMorales=[],this.garantieTab=[],this.packsTab=[],this.paraRisqueProduit=[],this.reductionList=[],this.paramRisqueType=[],this.agences=[],this.dateDebut=new Date,this.dateFin=new Date,this.dataSourceReduction=new w.by(this.reductionList),this.reductionJson=$i.E,this.typeValeurRisque=[],this.marques=[],this.users=[],this.valeurCategory="",this.paraRisqueProduitCategory=[],this.mouvements=[],this.typeProduits=[],this.canalDistributions=[],this.dateDebutConvention=new Date,this.errorHandler={error:!1,msg:""},this.dateFinConvention=new Date,this.typeValues=[{id:1,description:"Valeur"},{id:2,description:"Intervale"}],this.reductionSuccess=!1,this.isAllCanalDistro=!1,this.isAllUtilisateurs=!1,this.isAllAgences=!1,this.allSelected=!1,this.selectAllValue="ALL",this.selectedPackss=[]}ngOnInit(){this.idReduction=this.route.snapshot.paramMap.get("idReduction"),this.router.url.includes("/modification-reduction")||"R\xe9tail"!=this.reduction?.typeReduction?.description?(this.typeReduction=261,this.reductionJson.typeReduction=261,this.routerquery.queryParams.subscribe(z=>{this.dateDebutConvention=new Date(z.dateDebut),this.dateFinConvention=new Date(z.dateFin)})):(this.typeReduction=262,this.reductionJson.typeReduction=262),this.getAllProduits(),this.getAllUsers(),this.initInfoPack(),this.getAllAgences(),this.initInfoProduit(),this.getMarques(),this.getMouvements(),this.canalDistribution(),this.reductionService.getReductionById(this.idReduction).subscribe({next:z=>{console.log("je suis info getreduction",z),this.reductionReady=!0,this.reduction=z,this.prevUsers=z.utilisateur,this.idProduit=z?.produit.idCodeProduit,this.reductionRisque=this.reduction.paramList,this.reductionPack=this.reduction.packList.reduce((ge,we)=>((ge[we.idPackComplet.idPack0.idPack0]=ge[we.idPackComplet.idPack0.idPack0]||[]).push(we),ge),{}),this.reductionPack=Object.values(this.reductionPack),console.log("je suis users recupereedepuis dats",this.prevUsers),this.initFormGeneral()},error:z=>{console.log(z)}})}parseDate(z){return z?new Date(z):null}consultReduction(z){this.router.navigate(["gestion-reduction/consultation-reduction/"+z])}canalDistribution(){this.genericService.getParam(JSON.parse(sessionStorage.getItem("dictionnaire")||"{}").find(z=>"C22"==z.code).idCategorie).subscribe(z=>{this.canalDistributions=z})}initFormGeneral(){console.log("ahha je suis le type reduction",this.reduction);const z=this.reduction.agences.filter(st=>st.idAgence&&null!=st.idAgence.idAgence).map(st=>st.idAgence.idAgence),ge=this.reduction.utilisateur.map(st=>st.userid),we=this.reduction.canalDistributions.map(st=>st.idCanal?.idParam),wt=this.reduction.mouvementPolice.map(st=>st.idMouvement?.idParam);console.log("je suis les users selectionne",ge),this.formInfoGeneral=this.formBuilder.group(261==this.typeReduction?{nomReduction:[{value:this.reduction.nomReduction,disabled:!0}],typeProduit:[{value:this.reduction.produit?.description,disabled:!0}],dateDebut:[{value:this.reduction.dateDebut?new Date(this.reduction.dateDebut):null,disabled:!0}],dateFin:[{value:this.reduction.dateFin?new Date(this.reduction.dateFin):null}],agences:this.reduction.agences?.map(st=>st.idAgence).filter(st=>null!=st||null!=st)||[],appAutomatique:[this.reduction.appAutomatique],mouvementsPolice:[this.reduction.mouvementPolice||[]],canalDistribution:[this.reduction.canalDistributions||[]],utilisateurs:[this.reduction.utilisateur||[]]}:{nomReduction:[{value:this.reduction.nomReduction,disabled:!0}],typeProduit:[{value:this.reduction.produit?.description,disabled:!0}],dateDebut:[{value:this.reduction.dateDebut?new Date(this.reduction.dateDebut):null,disabled:!0}],dateFin:[{value:this.reduction.dateFin?new Date(this.reduction.dateFin):null}],appAutomatique:[this.reduction.appAutomatique],mouvementsPolice:[this.reduction.mouvementPolice||[]],canalDistribution:[this.reduction.canalDistributions||[]],utilisateurs:[this.reduction.utilisateur||[]],agences:this.reduction.agences?.map(st=>st.idAgence).filter(st=>null!=st||null!=st)||[]}),this.formInfoGeneral.patchValue({nomReduction:this.reduction.nomReduction||"",dateDebut:this.reduction.dateDebut||"",dateFin:this.reduction.dateFin||"",agences:z,typeProduit:this.reduction?.produit?.description||"",appAutomatique:this.reduction?.appAutomatique||"",mouvementsPolice:wt,canalDistribution:we,utilisateurs:ge}),console.log("je suis me form apres initialisation",this.formInfoGeneral)}initInfoVehicule(){this.infoVehicule=this.formBuilder.group({}),this.reduction.paramList.forEach(z=>{const ge=z.idParam.libelle.split(" ").map(wt=>wt.charAt(0).toUpperCase()+wt.substring(1)).join("");null!=z.valeur&&(this.myVals=z),console.log("je suis le rs",z),console.log("lenghth de rs.idparam.responsellist");let we=[];if(0!=z.idParam.reponseList.length)z.idParam.reponseList.forEach(wt=>{console.log("res ",wt),we.push(wt.idParam)}),this.infoVehicule.addControl(ge,new e.NI(we)),this.infoVehicule.patchValue(ge,we),console.log("this.infoVehicule ",this.infoVehicule);else if(0==z.valMax&&0==z.valMin){let wt={id:1,description:"Valeur"};this.infoVehicule.addControl("typeValeur"+ge,new e.NI(wt.id)),this.infoVehicule.patchValue("typeValeur"+ge,wt.id),this.infoVehicule.addControl("valeur",new e.NI(this.myVals))}else if(0!=this.myVals.valMax){let wt={id:2,description:"Intervale"};console.log("je suis interval",this.myVals.valMax),this.infoVehicule.addControl("typeValeur"+ge,new e.NI(wt.id)),this.infoVehicule.patchValue("typeValeur"+ge,wt.id),this.infoVehicule.addControl("i",new e.NI(this.myVals)),this.infoVehicule.patchValue("i",this.myVals)}}),this.reduction.packList.forEach(z=>{this.selectedPackss.push(z.idPackComplet.idPack0)}),this.checked={checked:!0},this.selectedPacks=this.selectedPackss=this.selectedPackss.filter((z,ge,we)=>ge===we.findIndex(wt=>wt.description===z.description)),console.log("je suis les id de la reduction",this.selectedPacks),this.selectedPacks.forEach(z=>{this.onChangePack(z,this.checked)}),this.infoPack.addControl("pack",new e.NI(this.selectedPacks)),this.infoPack.patchValue("pack",this.selectedPacks),this.infoPack.value.pack=this.selectedPacks,this.infoPack.get("pack")?.disable(),console.log("je suis le pack",this.selectedPacks),console.log("Formulaire infoVehicule apr\xe8s initialisation:",this.infoVehicule)}isPackChecked(z){return this.reduction.packList?.some(ge=>ge.code===z.code)}initInfoPack(){this.infoPack=this.formBuilder.group({pack:[""],VORowsPacks:this.formBuilder.array([])})}createPackRow(z){return this.formBuilder.group({description:[z.idPackComplet?.idPack0.description],garanties:this.formBuilder.array(z.garantie?[this.createGarantieGroup(z.garantie)]:[])})}createGarantieGroup(z){return this.formBuilder.group({garantie:[z.description],franchise:[z.valeurEnvloppe||""],pourcentage:[z.taux],isEditable:[!1]})}initInfoProduit(){this.infoProduit=this.formBuilder.group({agence:["",e.kI.required],utilisateur:["",e.kI.required]})}newPack(z,ge){return this.formBuilder.group({idPack:z,description:ge,garanties:this.formBuilder.array([])})}newGarantie(z){return this.formBuilder.group({idGarantie:new e.NI(z.idGarantie),idPackComplet:new e.NI(z.idPackComplet),garantie:new e.NI(z.description),franchise:new e.NI(z.franchise),pourcentage:new e.NI(z.pourcentage),isEditable:new e.NI(!1),sousGaranties:new e.NI(z.sousGaranties)})}getMarques(){this.vehiculeService.getAllMarque().subscribe({next:z=>{this.marques=z},error:z=>{console.log(z)}})}getMouvements(){this.genericService.getParam(JSON.parse(sessionStorage.getItem("dictionnaire")||"{}").find(z=>"C35"==z.code).idCategorie).subscribe({next:z=>{this.mouvements=z},error:z=>{console.log(z)}})}getAllUsers(){this.genericService.getAllUsers().subscribe({next:z=>{this.users=z},error:z=>{console.log(z)}})}getAllProduits(){this.produitService.getAllProduits().subscribe({next:z=>{this.typeProduits=z},error:z=>{console.log(z)}})}addPackGaranties(z,ge){console.log("hello je suispackIndex et garantie ",z,ge),this.VORowsGaranties(z).push(this.newGarantie(ge))}VORowsPacks(){return this.infoPack.get("VORowsPacks")}VORowsGaranties(z){return this.VORowsPacks().at(z).get("garanties")}getAllPersonneMorale(){this.personneService.getAllPersonneMorale().subscribe({next:z=>{this.personneMorales=z},error:z=>{console.log(z)}})}getAllPack(){this.packService.getPackByProduit(this.idProduit).subscribe({next:z=>{z.map(ge=>{this.packs.push(ge)}),console.log("je suis le pack insert",this.packs)},error:z=>{console.log(z)}})}getPack(z,ge){console.log("tectectettec",z,ge),this.packService.getPackById(z).subscribe({next:we=>{this.garantiePart=!0,this.loadTablePack=!0,this.garantieTab=[],we.garantie.filter(wt=>{let st="0";wt.categorieList.filter(Qo=>{"franchise"==Qo.description&&(st=Qo.valeur)});let Tn={idGarantie:wt.idGarantie,idPackComplet:wt.idPackComplet,description:wt.description,franchise:st,pourcentage:"0",sousGaranties:wt.sousGarantieList};this.garantieTab.push({idGarantie:wt.idGarantie,idPackComplet:wt.idPackComplet,description:wt.description,franchise:st,pourcentage:"0"}),this.addPackGaranties(ge,Tn)}),this.initFormGarantie(ge)},error:we=>{console.log(we)}})}getAllAgences(){this.agencesService.getAllAgence().subscribe({next:z=>{this.agences=z},error:z=>{console.log(z)}})}initFormGarantie(z){this.dataSourceGaranties[z]=new w.by(this.VORowsGaranties(z).controls),this.dataSourceGaranties.paginator=this.paginator}get VORows(){return this.infoPack.controls.VORows}EditGarantieLigne(z,ge){z.get("garanties").at(ge).get("isEditable").patchValue(!0)}SaveGarantieLigne(z,ge){z.get("garanties").at(ge).get("isEditable").patchValue(!1)}submitReduction(){"95"!=this.typeProduit.codeProduit?(this.reductionJson.pack=[],this.infoPack.value.VORowsPacks.map(z=>{console.log("ehjhgjhgjhvfj",z),z.garanties.map(ge=>{let we={idPackComplet:ge.idPackComplet,taux:ge.pourcentage,franchise:ge.franchise};console.log("jkghllljkhj",this.reductionJson.pack),this.reductionJson.pack.push(we)})})):this.infoPack.value.VORowsPacks.map(z=>{z.garanties.map(ge=>{let we=[];ge.sousGaranties.map(st=>{we.push({idPackComplet:st.idPackComplet})}),this.reductionJson.pack.push({idPackComplet:ge.idPackComplet,taux:ge.pourcentage,franchise:ge.franchise,sousGaranties:we}),this.reductionJson.idReduction=this.reduction.idReduction})}),this.reductionService.addReduction(this.reductionJson).subscribe({next:z=>{this.reductionSuccess=!0,this.typeProduit={},this.codeReduction=this.reduction.codeReduction,261==this.typeReduction&&(this.resetForm(),this.step=0)},error:z=>{this.handleError(z),console.log(z)}})}handleError(z){500===z.status&&(this.errorHandler.error=!0,this.errorHandler.msg="Erreur systeme, veuillez contacter l'administrateur.")}onChangePack(z,ge){console.log("he suis les info de onchangepack",z,ge),ge.checked&&null==this.packsTab.find(we=>we.idPack0===z.idPack0)?(this.packsTab.push(z),this.VORowsPacks().push(this.newPack(z.idPack0,z.description)),this.getPack(z.idPack0,this.VORowsPacks().controls.findIndex(we=>we.value.idPack===z.idPack0))):!ge.checked&&null!=this.packsTab.find(we=>we.idPack0===z.idPack0)&&(this.removePack(this.VORowsPacks().controls.findIndex(we=>we.value.idPack===z.idPack0)),this.packsTab.splice(this.packsTab.map(we=>we.idPack0).indexOf(z.idPack0),1))}removePack(z){this.VORowsPacks().removeAt(z)}getAllParamRisque(){let z=!1,ge=[];this.paramRisqueService.getParamByProduit(this.idProduit).subscribe({next:we=>{this.paramRisqueService.getWorkFlowByProduit(this.idProduit,this.idWorkFlow).subscribe({next:wt=>{we.map(st=>{let Tn={},Qo=null,li=null;if(wt.filter(To=>{st.paramRisque.idParamRisque==To.paramRisque.idParamRisque&&(z=!0,Qo=To.enabled,li=To.obligatoire)}),null==this.paraRisqueProduit.find(To=>st.paramRisque.idParamRisque===To.idParamRisque)&&z){if(Tn.idParamRisque=st.paramRisque.idParamRisque,Tn.libelle=st.paramRisque.libelle[0].toUpperCase()+st.paramRisque.libelle.slice(1),Tn.formName=st.paramRisque.libelle.split(" ").map(Mo=>Mo.charAt(0).toUpperCase()+Mo.substring(1)).join(""),Tn.orderChamp=st.paramRisque.orderChamp,Tn.position=st.paramRisque.position,Tn.typeChamp=st.paramRisque.typeChamp,Tn.sizeChamp=st.paramRisque.sizeChamp,Tn.reponses=st.paramRisque.categorie?.paramDictionnaires,Tn.typeValeur=st.iddictionnaire,Tn.defaultValue=st.valeur,Tn.obligatoire=li,Tn.enable=Qo,Tn.category=st.paramRisque.categorieParamRisque?.description,"String"!=Tn.typeChamp?.description&&"Number"!=Tn.typeChamp?.description||"Marque"==Tn.formName)"From Table"==Tn.typeChamp?.description&&null==st.paramRisque.paramRisqueParent?this.paramRisqueService.getTableParamParent(Tn.idParamRisque).subscribe({next:Mo=>{Tn.reponses=Mo,this.infoVehicule.addControl(Tn.formName,new e.NI(Tn.defaultValue,[e.kI.required]))},error:Mo=>{console.log(Mo)}}):this.infoVehicule.addControl(Tn.formName,new e.NI(Tn.defaultValue,[e.kI.required]));else{const Mo=this.reduction.paramList.find(Zo=>Zo?.idParam?.idParamRisque==Tn.idParamRisque);0==Mo.valMin&&0==Mo.valMax?(this.infoVehicule.addControl(Tn.formName,new e.Oe([this.newValeur(Mo.valeur)])),this.infoVehicule.addControl("typeValeur"+Tn.formName,new e.NI(1,[e.kI.required]))):(this.infoVehicule.addControl(Tn.formName,new e.Oe([this.newValeur(Mo.valMin)])),this.addValeur(Tn.formName,Mo.valMax),this.infoVehicule.addControl("typeValeur"+Tn.formName,new e.NI(2,[e.kI.required])))}this.typeValeurRisque.push({type:1,idParamRisque:Tn.idParamRisque}),this.paraRisqueProduit.push(Tn)}z=!1,ge=[]}),this.paraRisqueProduit=Object.values(this.paraRisqueProduit),this.paraRisqueProduit.map(st=>{}),this.paramReady=!0},error:wt=>{console.log(wt)}})},error:we=>{console.log(we)}})}submitInfoGenerales(){this.formInfoGeneral.valid&&(this.changeTypeProduit(this.reduction.produit),this.reductionJson.nomReduction=this.formInfoGeneral.get("nomReduction").value,this.reductionJson.codeReduction=this.reduction.codeReduction,this.reductionJson.idReduction=this.reduction.idReduction,this.reductionJson.dateDebut=this.formInfoGeneral.get("dateDebut").value,this.reductionJson.dateFin=this.formInfoGeneral.get("dateFin").value,this.reductionJson.idProduit=this.reduction?.produit.idCodeProduit,this.reductionJson.agences=this.formInfoGeneral.get("agences").value.filter(z=>null!==z||void 0!==z),this.reductionJson.appAutomatique=this.formInfoGeneral.get("appAutomatique").value,this.reductionJson.mouvementPolice=this.formInfoGeneral.get("mouvementsPolice").value.filter(z=>null!==z),this.reductionJson.canalDistributions=this.formInfoGeneral.get("canalDistribution").value.filter(z=>null!==z),this.reductionJson.utilisateurs=this.formInfoGeneral.get("utilisateurs").value.filter(z=>null!==z),this.reductionJson.isAllAgences=this.isAllAgences,this.reductionJson.isAllUtilisateurs=this.isAllUtilisateurs,this.reductionJson.isAllCanalDistro=this.isAllCanalDistro,this.initInfoVehicule(),this.stepper.next())}submitInfoProduit(){}submitParamRisque(){if(this.infoVehicule.valid){let z=0,ge=[];this.paraRisqueProduit.map(we=>{let wt=[],st=0,Tn=0,Qo=0;Object.keys(this.infoVehicule.value).map(li=>{li==we.formName&&(z=we.idParamRisque,"String"!=we.typeChamp?.description&&"Number"!=we.typeChamp?.description||"Marque"==li?wt=this.infoVehicule.get(li).value.filter(To=>null!==To):2==this.infoVehicule.get(li).length?(st=this.infoVehicule.get(li).at(0).value.valeur,Tn=this.infoVehicule.get(li).at(1).value.valeur):1==this.infoVehicule.get(li).length&&(Qo=this.infoVehicule.get(li).at(0).value.valeur),ge.push({idParam:z,valMin:st,valMax:Tn,idResponseParam:wt,valeur:Qo}))})}),this.reductionJson.param=ge,this.stepper.next()}}changeTypeValeur(z,ge){let we;we=this.paraRisqueProduit.filter(Tn=>Tn.idParamRisque==ge)[0];const wt=this.typeValeurRisque.findIndex(Tn=>Tn.idParamRisque===ge);let st={type:z,idParamRisque:ge};-1===wt?this.typeValeurRisque.push(st):this.typeValeurRisque[wt]=st,console.log("je suis type valuer risque",this.typeValeurRisque),2==z?this.addValeur(we.formName,""):1==z&&this.removeValeur(0,we.formName)}changeTypeProduit(z){for(console.log("jyyyys suis ",z),this.typeProduit=z,this.packs=[],this.infoPack.reset(),this.dataSourceGaranties=[];0!==this.infoPack.get("VORowsPacks").length;)this.infoPack.get("VORowsPacks").removeAt(0);this.idProduit=this.typeProduit?.idCodeProduit,this.getAllParamRisque(),this.getAllPack(),this.typeValeurRisque=[],this.paraRisqueProduit=[]}resetForm(){this.formInfoGeneral.reset(),this.infoProduit.reset(),this.infoVehicule.reset(),this.infoPack.reset(),this.infoPack.setControl("VORowsPacks",new e.Oe([])),this.initFormGeneral()}valeurs(z){return this.infoVehicule.get(z)}newValeur(z){return this.formBuilder.group({valeur:[z,[e.kI.required]]})}addValeur(z,ge){console.log("jhjhjhjhh",z,this.newValeur(ge)),this.valeurs(z).push(this.newValeur(ge)),console.log("this.valeurs",this.valeurs)}removeValeur(z,ge){console.log("dagui",z,ge,this.valeurs(ge)),this.valeurs(ge).removeAt(z)}setDateDebut(z){this.formInfoGeneral.get("dateFin").enable(),this.dateDebut=z}setDateFin(z){this.formInfoGeneral.get("dateFin").enable(),this.dateFin=z}toggleAllSelection(z){const ge=z.options.filter(we=>null===we.value).map(we=>we.selected)[0];console.log("bonjour ines",ge,z.ngControl.name),ge&&("canalDistribution"==z.ngControl.name&&(this.isAllCanalDistro=!0),"utilisateurs"==z.ngControl.name&&(this.isAllUtilisateurs=!0),"agences"==z.ngControl.name&&(this.isAllAgences=!0)),z.options.forEach(ge?we=>we.select():we=>we.deselect())}}return ue.\u0275fac=function(z){return new(z||ue)(n.Y36(ee.gz),n.Y36(Sn.M),n.Y36(t.d),n.Y36(vt.e),n.Y36($e.t),n.Y36(bn.D),n.Y36(Ft.w),n.Y36(Vt.F),n.Y36(ee.F0),n.Y36(ee.gz),n.Y36(Gn.F),n.Y36(e.qu))},ue.\u0275cmp=n.Xpm({type:ue,selectors:[["app-modification-reduction"]],viewQuery:function(z,ge){if(1&z&&(n.Gf(Le.NW,5),n.Gf(Tr,5),n.Gf(_o,5)),2&z){let we;n.iGM(we=n.CRH())&&(ge.paginator=we.first),n.iGM(we=n.CRH())&&(ge.stepper=we.first),n.iGM(we=n.CRH())&&(ge.checkboxes=we)}},decls:10,vars:4,consts:[[1,"container"],[1,"header-container"],["class","back-container",4,"ngIf"],[1,"header-title"],["aria-label","directions_car",1,"mat-icon","notranslate","material-symbols-outlined","material-icons","mat-icon-no-color"],["class","alert alert-success",4,"ngIf"],[4,"ngIf"],[1,"back-container"],["aria-hidden","false","matTooltip","Retour","matTooltipPosition","right",1,"material-symbols-outlined",3,"click"],[1,"alert","alert-success"],["linear",""],["stepper",""],["matStepLabel",""],["class","form row",3,"formGroup","ngSubmit",4,"ngIf"],["multi",""],["hideToggle","",1,"panel-risque",3,"expanded"],[1,"categoryTitle"],[1,"form","row",3,"formGroup","ngSubmit"],["appearance","outline",1,"col-md-5"],["formControlName","pack"],[4,"ngFor","ngForOf"],["class","invalid-feedback",4,"ngIf"],["formArrayName","VORowsPacks"],[1,"row-button"],[1,"btn","btn-action",3,"click"],[1,"row"],["type","text","matInput","","placeholder","","formControlName","typeProduit"],["matInput","","formControlName","dateDebut",3,"matDatepicker","min","dateChange"],["matSuffix","",3,"for"],["pickerDateDebut",""],["matInput","","formControlName","dateFin",3,"matDatepicker","min","dateChange"],["pickerDateFin",""],["appearance","outline","class","col-md-5 ",4,"ngIf"],["formControlName","agences","multiple",""],["mySelAgences",""],[3,"click"],["formControlName","mouvementsPolice","multiple",""],["mySelMouv",""],[3,"value","click"],["formControlName","canalDistribution","multiple",""],["mySelCanal",""],["formControlName","utilisateurs","multiple",""],["mySelUsers",""],["formControlName","appAutomatique",1,"col-md-5"],["value","true",1,"example-margin",3,"checked"],["value","false",1,"example-margin",3,"checked"],["type","submit",1,"btn","btn-action"],[1,"invalid-feedback"],["formControlName","typeProduit",3,"ngModel","ngModelChange","selectionChange"],[3,"value"],["appearance","outline","class","col-md-5",4,"ngIf"],["style","display:flex;flex-direction:\n                                    column;",4,"ngIf"],[3,"formArrayName"],["class","col-md-5","appearance","outline",4,"ngIf"],["multiple","",3,"formControlName"],["mySelDist",""],[2,"display","flex","flex-direction","column"],[2,"margin-bottom","2rem","font-size","16px","font-weight","600","color","#00008f"],[3,"formControlName","selectionChange"],[3,"formGroupName"],["type","text","matInput","","formControlName","valeur"],["mySelMarque",""],["matInput","",3,"matDatepicker","formControlName"],["picker",""],[3,"checked","change"],[1,"panel-risque",3,"formGroupName","expanded"],[1,""],["mat-table","","class","pack-table","formArrayName","garanties",3,"dataSource",4,"ngIf"],["mat-table","","formArrayName","garanties",1,"pack-table",3,"dataSource"],["matColumnDef","garantie"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",3,"formGroup",4,"matCellDef"],["matColumnDef","franchise"],["matColumnDef","pourcentage"],["matColumnDef","action"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell","",3,"formGroup"],[1,"noUnderline"],["matInput","","type","text","formControlName","garantie",3,"readonly"],[3,"ngClass"],["matInput","","type","text","formControlName","franchise",3,"readonly"],["matInput","","type","text","formControlName","pourcentage",3,"readonly"],[3,"click",4,"ngIf"],["mat-header-row",""],["mat-row",""]],template:function(z,ge){1&z&&(n.TgZ(0,"div",0)(1,"div",1),n.YNc(2,Xa,3,0,"div",2),n.TgZ(3,"h2",3)(4,"mat-icon",4),n._uU(5,"redeem"),n.qZA(),n._uU(6," R\xe9duction "),n.qZA()(),n.YNc(7,Do,2,1,"div",5),n.YNc(8,$r,2,1,"div",5),n.YNc(9,Gt,29,7,"ng-container",6),n.qZA()),2&z&&(n.xp6(2),n.Q6J("ngIf",1==ge.step&&261==ge.typeReduction),n.xp6(5),n.Q6J("ngIf",ge.reductionSuccess&&261==ge.typeReduction),n.xp6(1),n.Q6J("ngIf",ge.reductionSuccess&&262==ge.typeReduction),n.xp6(1),n.Q6J("ngIf",0==ge.step&&261==ge.typeReduction||262==ge.typeReduction))},dependencies:[Se.mk,Se.sg,Se.O5,ln.Hw,ei.pp,ei.ib,ei.yz,ei.yK,e._Y,e.Fj,e.JJ,e.JL,e.sg,e.u,e.x0,e.CE,Z.TO,Z.KE,Z.hX,Z.R9,O.Nt,w.BZ,w.fO,w.as,w.w1,w.Dz,w.nj,w.ge,w.ev,w.XQ,w.Gk,ot.gM,J.Mq,J.hl,J.nW,tt.gD,Zt.ey,vi.VQ,vi.U0,uo.C0,uo.VY,uo.Vq,bo.oG],styles:[".container[_ngcontent-%COMP%]{background-color:#fff;padding:40px 0;height:100%;overflow-y:hidden;overflow-x:hidden}  .mat-horizontal-content-container{margin-top:2rem}h2.header-title[_ngcontent-%COMP%]{padding:0 24px;font-size:21px!important;color:#00008f;font-weight:600!important;letter-spacing:1px;display:flex;justify-content:flex-end}h2.header-title[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{margin-right:1rem;font-size:32px;height:-moz-fit-content;height:fit-content;width:-moz-fit-content;width:fit-content}.form.row[_ngcontent-%COMP%]{flex-direction:column;padding:1rem}.row-button[_ngcontent-%COMP%]   .btn.btn-action[_ngcontent-%COMP%]{float:right;margin-top:2rem}.mat-radio-group[_ngcontent-%COMP%]{margin-top:2rem;margin-bottom:4rem}.mat-radio-group[_ngcontent-%COMP%]   .mat-radio-button[_ngcontent-%COMP%]{margin-left:4rem}.mat-expansion-panel[_ngcontent-%COMP%]{margin-bottom:2rem}.mat-expansion-panel-header[_ngcontent-%COMP%]{background:rgba(199,199,199,.2)!important;font-weight:600;font-size:16px}.mat-expansion-panel-header.mat-expanded[_ngcontent-%COMP%]{height:48px}  .mat-step-header .mat-step-icon-state-edit{background-color:#d14624}.mat-expansion-panel-header-title[_ngcontent-%COMP%]{color:#00008f}table[_ngcontent-%COMP%]{width:100%}.mat-row[_ngcontent-%COMP%]:nth-child(even), .mat-header-row[_ngcontent-%COMP%]{background-color:#f7f7f9}.mat-header-row[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{color:#00008f}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:16px;padding-top:9px}table[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{height:-moz-fit-content;height:fit-content;font-size:26px;width:-moz-fit-content;width:fit-content;cursor:pointer}table[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{color:#00008f}.mat-header-cell[_ngcontent-%COMP%]{color:#333;font-weight:600;letter-spacing:.5px;font-size:15px;width:165px}.noUnderline[_ngcontent-%COMP%]  .mat-form-field-underline{display:none}.mat-menu-item[_ngcontent-%COMP%]{font-size:16px}.mat-menu-item[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{margin-right:16px;font-size:21px;height:-moz-fit-content;height:fit-content}.mat-menu-item[_ngcontent-%COMP%]:hover:not([disabled]){color:#00008f}.mat-menu-item[_ngcontent-%COMP%]:hover:not([disabled])   .mat-icon[_ngcontent-%COMP%]{color:#00008f}.title-table[_ngcontent-%COMP%]{margin-bottom:2rem;font-weight:600!important;font-size:19px!important;color:#00008f!important;display:flex;align-items:center}.title-table[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{margin-right:1rem}.header-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-bottom:3rem}.back-container[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:31px;color:#00008f;margin-left:1rem}"]}),ue})(),canActivate:[me.k],data:{roles:["ADMIN","ROLE_SUPER_ADMIN","ANALYSTE","METIER","BACKOFFICE","BO"]}},{path:"gestion-reduction",component:hi,canActivate:[me.k],data:{roles:["ADMIN","ROLE_SUPER_ADMIN","ANALYSTE","METIER","BACKOFFICE","BO"]}}];let xo=(()=>{class ue{}return ue.\u0275fac=function(z){return new(z||ue)},ue.\u0275mod=n.oAB({type:ue}),ue.\u0275inj=n.cJS({imports:[ee.Bz.forChild(Qi),ee.Bz]}),ue})(),lr=(()=>{class ue{}return ue.\u0275fac=function(z){return new(z||ue)},ue.\u0275mod=n.oAB({type:ue}),ue.\u0275inj=n.cJS({imports:[Se.ez,h.m,Ge.q,xo,K.I]}),ue})()},9512:(co,wn,B)=>{"use strict";B.r(wn),B.d(wn,{GestionSinistresModule:()=>Ax});var Se=B(6895),K=B(294),Ge=B(4092),h=B(4466),ee=B(2510),me=B(9523),Le=B(5861),Q=B(4006),w=B(2644),o=B(5439),e=B(5226),xe=B.n(e),n=B(7155);class i{}class Z{}class O{}class J{}class he{}class Ze{}class l{}var t=B(4650),Ft=B(6436),ln=B(6944),ut=B(6127),ot=B(7179),tt=B(3776),Zt=B(5120),nn=B(4850),_n=B(7392),xn=B(8255),mn=B(9549),Ri=B(9349),Xn=B(284),Mt=B(8739),Lt=B(9602),xt=B(4385),ht=B(3238),Yn=B(1948),Jn=B(4859),pi=B(6257),Qn=B(1572),Kn=B(3271),xi=B(6838),tn=B(4803);const Kt=["stepper"],hi=["stepperH"],$i=["stepperInfoVehicule"];function Sn(f,D){1&f&&t._uU(0,"Informations sinistres")}function vt(f,D){if(1&f&&(t.TgZ(0,"div",58),t._uU(1),t.qZA()),2&f){const m=t.oxw();t.xp6(1),t.hij("Impossible de cr\xe9er un sinistre ,la police est ",m.infoPolice.statue.description,"")}}function $e(f,D){1&f&&t._uU(0,"N\xb0 sinistre")}function bn(f,D){1&f&&(t.TgZ(0,"div"),t._uU(1," ce champs est obligatoire"),t.qZA())}function Vt(f,D){1&f&&(t.TgZ(0,"div"),t._uU(1," cette police est inexistante"),t.qZA())}function Gn(f,D){if(1&f&&(t.TgZ(0,"mat-error",66),t.YNc(1,bn,2,0,"div",17),t.YNc(2,Vt,2,0,"div",17),t.qZA()),2&f){const m=t.oxw(2);t.xp6(1),t.Q6J("ngIf",m.formPolice.controls.numPolice.errors.required),t.xp6(1),t.Q6J("ngIf",!m.formPolice.controls.numPolice.errors.required)}}function ei(f,D){1&f&&(t.TgZ(0,"div"),t._uU(1," ce champs est obligatoire"),t.qZA())}function vi(f,D){if(1&f&&(t.TgZ(0,"mat-error",66),t.YNc(1,ei,2,0,"div",17),t.qZA()),2&f){const m=t.oxw(2);t.xp6(1),t.Q6J("ngIf",m.formPolice.controls.dateSurvenance.errors.required)}}function uo(f,D){1&f&&(t.TgZ(0,"div"),t._uU(1," ce champs est obligatoire"),t.qZA())}function bo(f,D){if(1&f&&(t.TgZ(0,"mat-error",66),t.YNc(1,uo,2,0,"div",17),t.qZA()),2&f){const m=t.oxw(4);t.xp6(1),t.Q6J("ngIf",m.formPolice.controls.immatriculation.errors.required)}}function oe(f,D){if(1&f&&(t.TgZ(0,"mat-form-field",12)(1,"mat-label"),t._uU(2," Immatriculation "),t.qZA(),t._UZ(3,"input",68),t.YNc(4,bo,2,1,"mat-error",16),t.qZA()),2&f){const m=t.oxw(3);t.xp6(4),t.Q6J("ngIf",m.formPolice.controls.immatriculation.errors)}}function pn(f,D){if(1&f&&(t.TgZ(0,"mat-option",70),t._uU(1),t.qZA()),2&f){const m=D.$implicit;t.Q6J("value",m),t.xp6(1),t.hij(" ",m.nimmatriculation," ")}}function Zi(f,D){if(1&f){const m=t.EpF();t.TgZ(0,"mat-form-field",12)(1,"mat-label"),t._uU(2,"Immatriculation"),t.qZA(),t.TgZ(3,"mat-select",69)(4,"mat-select-filter",22),t.NdJ("filteredReturn",function(j){t.CHM(m);const be=t.oxw(3);return t.KtG(be.filterlistMatricules=j)}),t.qZA(),t.YNc(5,pn,2,2,"mat-option",23),t.qZA()()}if(2&f){const m=t.oxw(3);t.xp6(4),t.Q6J("displayMember","nimmatriculation")("array",m.listMatricules),t.xp6(1),t.Q6J("ngForOf",m.filterlistMatricules)}}function Ai(f,D){if(1&f&&(t.TgZ(0,"div",11),t.YNc(1,oe,5,1,"mat-form-field",18),t.YNc(2,Zi,6,3,"mat-form-field",67),t.qZA()),2&f){const m=t.oxw(2);t.xp6(1),t.Q6J("ngIf",!m.multiRisque),t.xp6(1),t.Q6J("ngIf",m.multiRisque)}}function Di(f,D){1&f&&(t.TgZ(0,"span"),t._uU(1,"Suivant"),t.qZA())}function Mn(f,D){1&f&&t._UZ(0,"mat-spinner",72)}const Nn=function(f){return{"spinner-btn":f}};function vn(f,D){if(1&f&&(t.TgZ(0,"button",71),t.YNc(1,Di,2,0,"span",17),t.YNc(2,Mn,1,0,"mat-spinner",54),t.qZA()),2&f){const m=t.oxw(2);t.Q6J("ngClass",t.VKq(4,Nn,!m.infoSinistreStep.step1))("disabled",!m.infoSinistreStep.step1),t.xp6(1),t.Q6J("ngIf",m.infoSinistreStep.step1),t.xp6(1),t.Q6J("ngIf",!m.infoSinistreStep.step1)}}function Et(f,D){if(1&f){const m=t.EpF();t.TgZ(0,"form",59),t.NdJ("ngSubmit",function(){t.CHM(m);const j=t.oxw();return t.KtG(j.submitInfoPolice())}),t.TgZ(1,"div",11)(2,"mat-form-field",12)(3,"mat-label"),t._uU(4,"N\xb0 Police "),t.qZA(),t.TgZ(5,"input",60),t.NdJ("ngModelChange",function(j){t.CHM(m);const be=t.oxw();return t.KtG(be.numPolice=j)})("ngModelChange",function(j){t.CHM(m);const be=t.oxw();return t.KtG(be.onPoliceInput(j))}),t.qZA(),t.YNc(6,Gn,3,2,"mat-error",16),t.qZA()(),t.TgZ(7,"div",11)(8,"mat-form-field",12)(9,"mat-label"),t._uU(10,"Survenue le"),t.qZA(),t.TgZ(11,"input",61),t.NdJ("dateChange",function(j){t.CHM(m);const be=t.oxw();return t.KtG(be.dateSurvenanceChange(j.value))}),t.qZA(),t._UZ(12,"mat-datepicker-toggle",14)(13,"mat-datepicker",null,62),t.YNc(15,vi,2,1,"mat-error",16),t.qZA(),t.TgZ(16,"mat-form-field",12)(17,"mat-label"),t._uU(18,"Survenue \xe0"),t.qZA(),t.TgZ(19,"input",63),t.NdJ("ngModelChange",function(j){t.CHM(m);const be=t.oxw();return t.KtG(be.timeSurvenanceChange(j))}),t.qZA()(),t._UZ(20,"ngx-material-timepicker",null,64),t.qZA(),t.YNc(22,Ai,3,2,"div",19),t.TgZ(23,"div",36),t.YNc(24,vn,3,6,"button",65),t.qZA()()}if(2&f){const m=t.MAs(14),I=t.MAs(21),j=t.oxw();t.Q6J("formGroup",j.formPolice),t.xp6(5),t.Q6J("ngModel",j.numPolice),t.xp6(1),t.Q6J("ngIf",j.formPolice.controls.numPolice.errors),t.xp6(5),t.Q6J("matDatepicker",m)("disabled",j.disabledTime)("max",j.maxDate)("min",j.dataEffetContrat),t.xp6(1),t.Q6J("for",m),t.xp6(3),t.Q6J("ngIf",j.formPolice.controls.dateSurvenance.errors),t.xp6(4),t.Q6J("ngxTimepicker",I)("format",24),t.xp6(3),t.Q6J("ngIf","45A"==j.codeProduit||"45F"==j.codeProduit||"45L"==j.codeProduit),t.xp6(2),t.Q6J("ngIf",j.matriculeExist)}}function mo(f,D){1&f&&t._uU(0,"Informations Sinistre")}function mr(f,D){1&f&&(t.TgZ(0,"div"),t._uU(1," ce champs est obligatoire"),t.qZA())}function zr(f,D){if(1&f&&(t.TgZ(0,"mat-error",66),t.YNc(1,mr,2,0,"div",17),t.qZA()),2&f){const m=t.oxw();t.xp6(1),t.Q6J("ngIf",m.formInfoSinistre.controls.dateDeclaration.errors.required)}}function Eo(f,D){1&f&&(t.TgZ(0,"h3"),t._uU(1,"Lieu de survenance"),t.qZA())}function ra(f,D){if(1&f&&(t.ynx(0),t.TgZ(1,"mat-option",70),t._uU(2),t.qZA(),t.BQk()),2&f){const m=D.$implicit;t.xp6(1),t.Q6J("value",m.idPays),t.xp6(1),t.Oqu(m.description)}}function aa(f,D){1&f&&(t.TgZ(0,"div"),t._uU(1," ce champs est obligatoire"),t.qZA())}function Ba(f,D){if(1&f&&(t.TgZ(0,"mat-error",66),t.YNc(1,aa,2,0,"div",17),t.qZA()),2&f){const m=t.oxw(2);t.xp6(1),t.Q6J("ngIf",m.formInfoSinistre.controls.pays.errors.required)}}function za(f,D){if(1&f){const m=t.EpF();t.TgZ(0,"mat-form-field",12)(1,"mat-label"),t._uU(2," Pays "),t.qZA(),t.TgZ(3,"mat-select",73),t.NdJ("selectionChange",function(j){t.CHM(m);const be=t.oxw();return t.KtG(be.getWilayas(j.value))}),t.YNc(4,ra,3,2,"ng-container",25),t.qZA(),t.YNc(5,Ba,2,1,"mat-error",16),t.qZA()}if(2&f){const m=t.oxw();t.xp6(4),t.Q6J("ngForOf",m.pays),t.xp6(1),t.Q6J("ngIf",m.formInfoSinistre.controls.pays.errors)}}function Aa(f,D){if(1&f&&(t.ynx(0),t.TgZ(1,"mat-option",70),t._uU(2),t.qZA(),t.BQk()),2&f){const m=D.$implicit;t.xp6(1),t.Q6J("value",m.idWilaya),t.xp6(1),t.Oqu(m.description)}}function Ks(f,D){1&f&&(t.TgZ(0,"div"),t._uU(1," ce champs est obligatoire"),t.qZA())}function ds(f,D){if(1&f&&(t.TgZ(0,"mat-error",66),t.YNc(1,Ks,2,0,"div",17),t.qZA()),2&f){const m=t.oxw(2);t.xp6(1),t.Q6J("ngIf",m.formInfoSinistre.controls.wilayas.errors.required)}}function _s(f,D){if(1&f&&(t.ynx(0),t.TgZ(1,"mat-option",70),t._uU(2),t.qZA(),t.BQk()),2&f){const m=D.$implicit;t.xp6(1),t.Q6J("value",m.idCommune),t.xp6(1),t.Oqu(m.description)}}function Ta(f,D){1&f&&(t.TgZ(0,"div"),t._uU(1," ce champs est obligatoire"),t.qZA())}function sa(f,D){if(1&f&&(t.TgZ(0,"mat-error",66),t.YNc(1,Ta,2,0,"div",17),t.qZA()),2&f){const m=t.oxw(2);t.xp6(1),t.Q6J("ngIf",m.formInfoSinistre.controls.commune.errors.required)}}function Ws(f,D){if(1&f){const m=t.EpF();t.TgZ(0,"div",11)(1,"mat-form-field",12)(2,"mat-label"),t._uU(3," Wilayas "),t.qZA(),t.TgZ(4,"mat-select",74),t.NdJ("selectionChange",function(j){t.CHM(m);const be=t.oxw();return t.KtG(be.getCommunes(j.value))}),t.YNc(5,Aa,3,2,"ng-container",25),t.qZA(),t.YNc(6,ds,2,1,"mat-error",16),t.qZA(),t.TgZ(7,"mat-form-field",12)(8,"mat-label"),t._uU(9," Communes "),t.qZA(),t.TgZ(10,"mat-select",75),t.YNc(11,_s,3,2,"ng-container",25),t.qZA(),t.YNc(12,sa,2,1,"mat-error",16),t.qZA()()}if(2&f){const m=t.oxw();t.xp6(5),t.Q6J("ngForOf",m.wilayas),t.xp6(1),t.Q6J("ngIf",m.formInfoSinistre.controls.wilayas.errors),t.xp6(5),t.Q6J("ngForOf",m.communes),t.xp6(1),t.Q6J("ngIf",m.formInfoSinistre.controls.commune.errors)}}function Xs(f,D){if(1&f&&(t.TgZ(0,"mat-option",70),t._uU(1),t.qZA()),2&f){const m=D.$implicit;t.Q6J("value",m),t.xp6(1),t.hij(" ",m.description," ")}}function dr(f,D){1&f&&(t.TgZ(0,"div"),t._uU(1," ce champs est obligatoire"),t.qZA())}function Va(f,D){if(1&f&&(t.TgZ(0,"mat-error",66),t.YNc(1,dr,2,0,"div",17),t.qZA()),2&f){const m=t.oxw();t.xp6(1),t.Q6J("ngIf",m.formInfoSinistre.controls.causeSinistre.errors.required)}}function ps(f,D){if(1&f&&(t.ynx(0),t.TgZ(1,"mat-option",70),t._uU(2),t.qZA(),t.BQk()),2&f){const m=D.$implicit;t.xp6(1),t.Q6J("value",m),t.xp6(1),t.Oqu(m.description)}}function fs(f,D){1&f&&(t.TgZ(0,"div"),t._uU(1," ce champs est obligatoire"),t.qZA())}function Ra(f,D){if(1&f&&(t.TgZ(0,"mat-error",66),t.YNc(1,fs,2,0,"div",17),t.qZA()),2&f){const m=t.oxw();t.xp6(1),t.Q6J("ngIf",m.formInfoSinistre.controls.originSinistre.errors.required)}}function gs(f,D){1&f&&(t.TgZ(0,"mat-form-field",12)(1,"mat-label"),t._uU(2,"Contact "),t.qZA(),t._UZ(3,"input",76),t.qZA())}function ja(f,D){1&f&&(t.TgZ(0,"mat-error",77),t._uU(1,"ce champs est obligatoire"),t.qZA())}function el(f,D){1&f&&(t.TgZ(0,"div"),t._uU(1," ce champs est obligatoire"),t.qZA())}function la(f,D){if(1&f&&(t.TgZ(0,"mat-error",66),t.YNc(1,el,2,0,"div",17),t.qZA()),2&f){const m=t.oxw(2);t.xp6(1),t.Q6J("ngIf",m.formInfoSinistre.controls.nomAutorite.errors.required)}}function hs(f,D){if(1&f&&(t.TgZ(0,"mat-form-field",12)(1,"mat-label"),t._uU(2,"Brigade ou commissariat de ... "),t.qZA(),t._UZ(3,"input",78),t.YNc(4,la,2,1,"mat-error",16),t.qZA()),2&f){const m=t.oxw();t.xp6(4),t.Q6J("ngIf",m.formInfoSinistre.controls.nomAutorite.errors)}}function Cs(f,D){if(1&f&&(t.ynx(0),t.TgZ(1,"mat-option",70),t._uU(2),t.qZA(),t.BQk()),2&f){const m=D.$implicit;t.xp6(1),t.Q6J("value",m.idAgence),t.xp6(1),t.Oqu(m.nomAgence)}}function rr(f,D){1&f&&(t.TgZ(0,"div"),t._uU(1," ce champs est obligatoire"),t.qZA())}function xs(f,D){if(1&f&&(t.TgZ(0,"mat-error",66),t.YNc(1,rr,2,0,"div",17),t.qZA()),2&f){const m=t.oxw();t.xp6(1),t.Q6J("ngIf",m.formInfoSinistre.controls.agence.errors.required)}}function vs(f,D){1&f&&(t.TgZ(0,"div"),t._uU(1," ce champs est obligatoire"),t.qZA())}function tl(f,D){if(1&f&&(t.TgZ(0,"mat-error",66),t.YNc(1,vs,2,0,"div",17),t.qZA()),2&f){const m=t.oxw();t.xp6(1),t.Q6J("ngIf",m.formInfoSinistre.controls.tauxResponsabilite.errors.required)}}function As(f,D){1&f&&(t.TgZ(0,"div"),t._uU(1," ce champs est obligatoire"),t.qZA())}function Ar(f,D){if(1&f&&(t.TgZ(0,"mat-error",66),t.YNc(1,As,2,0,"div",17),t.qZA()),2&f){const m=t.oxw();t.xp6(1),t.Q6J("ngIf",m.formInfoSinistre.controls.descriptionSinistre.errors.required)}}function nl(f,D){1&f&&t._uU(0,"Information police")}function il(f,D){if(1&f&&(t.TgZ(0,"tr")(1,"td",80),t._uU(2,"nom:"),t.qZA(),t.TgZ(3,"td",81),t._uU(4),t.qZA(),t.TgZ(5,"td",80),t._uU(6,"prenom:"),t.qZA(),t.TgZ(7,"td",81),t._uU(8),t.qZA()()),2&f){const m=t.oxw(2);t.xp6(4),t.Oqu(null==m.infoPolice||null==m.infoPolice.assure?null:m.infoPolice.assure.nom),t.xp6(4),t.Oqu(null==m.infoPolice||null==m.infoPolice.assure?null:m.infoPolice.assure.prenom1)}}function Ts(f,D){if(1&f&&(t.TgZ(0,"tr")(1,"td",80),t._uU(2,"Raison Sociale:"),t.qZA(),t.TgZ(3,"td",81),t._uU(4),t.qZA()()),2&f){const m=t.oxw(2);t.xp6(4),t.Oqu(null==m.infoPolice||null==m.infoPolice.assure?null:m.infoPolice.assure.raisonSocial)}}function Nr(f,D){if(1&f&&(t.TgZ(0,"td",80),t._uU(1),t.qZA()),2&f){const m=t.oxw(2);t.xp6(1),t.hij("date ",null==m.infoPolice||null==m.infoPolice.statue?null:m.infoPolice.statue.description,":")}}function Lr(f,D){if(1&f&&(t.TgZ(0,"table",79),t.YNc(1,il,9,2,"tr",17),t.YNc(2,Ts,5,1,"tr",17),t.TgZ(3,"tr")(4,"td",80),t._uU(5,"statut:"),t.qZA(),t.TgZ(6,"td",81),t._uU(7),t.qZA(),t.YNc(8,Nr,2,1,"td",82),t.TgZ(9,"td",81),t._uU(10),t.qZA()(),t.TgZ(11,"tr")(12,"td",80),t._uU(13,"date Effet:"),t.qZA(),t.TgZ(14,"td",81),t._uU(15),t.ALo(16,"dateFormatPipe"),t.qZA(),t.TgZ(17,"td",80),t._uU(18,"date d'\xe9cheance:"),t.qZA(),t.TgZ(19,"td",81),t._uU(20),t.ALo(21,"dateFormatPipe"),t.qZA()(),t.TgZ(22,"tr")(23,"td",80),t._uU(24,"agence:"),t.qZA(),t.TgZ(25,"td",81),t._uU(26),t.qZA(),t.TgZ(27,"td",80),t._uU(28,"code risque:"),t.qZA(),t.TgZ(29,"td",81),t._uU(30),t.qZA()(),t.TgZ(31,"tr")(32,"td",80),t._uU(33,"Pack:"),t.qZA(),t.TgZ(34,"td",81),t._uU(35),t.qZA()()()),2&f){const m=t.oxw();t.xp6(1),t.Q6J("ngIf","personnePhysique"==(null==m.infoPolice||null==m.infoPolice.assure?null:m.infoPolice.assure.typePersonne)),t.xp6(1),t.Q6J("ngIf","personneMorale"==(null==m.infoPolice||null==m.infoPolice.assure?null:m.infoPolice.assure.typePersonne)),t.xp6(5),t.Oqu(null==m.infoPolice||null==m.infoPolice.statue?null:m.infoPolice.statue.description),t.xp6(1),t.Q6J("ngIf","CP338"==(null==m.infoPolice||null==m.infoPolice.statue?null:m.infoPolice.statue.code)||"CP337"==(null==m.infoPolice||null==m.infoPolice.statue?null:m.infoPolice.statue.code)||"CP354"==(null==m.infoPolice?null:m.infoPolice.statue)),t.xp6(2),t.Oqu(null==m.infoPolice?null:m.infoPolice.dateStaue),t.xp6(5),t.Oqu(t.lcZ(16,10,null==m.infoPolice?null:m.infoPolice.dateEffet)),t.xp6(5),t.Oqu(t.lcZ(21,12,null==m.infoPolice?null:m.infoPolice.dateExpiration)),t.xp6(6),t.Oqu(null==m.infoPolice||null==m.infoPolice.agence?null:m.infoPolice.agence.raisonSocial),t.xp6(4),t.Oqu(m.codeRisque),t.xp6(5),t.Oqu(null==m.infoPolice.groupesList[0]||null==m.infoPolice.groupesList[0].pack?null:m.infoPolice.groupesList[0].pack.description)}}function Da(f,D){if(1&f&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA()()),2&f){const m=D.$implicit;t.xp6(2),t.Oqu(m.description)}}function bs(f,D){if(1&f&&(t.TgZ(0,"table",83)(1,"caption"),t._uU(2,"Listes des garanties appertenant \xe0 cette police"),t.qZA(),t.TgZ(3,"tr")(4,"th",81),t._uU(5,"Garanties "),t.qZA()(),t.YNc(6,Da,3,1,"tr",25),t.qZA()),2&f){const m=t.oxw();t.xp6(6),t.Q6J("ngForOf",m.garantieList)}}function Ir(f,D){1&f&&t._uU(0,"Informations du bien & tiers")}function ol(f,D){1&f&&t._uU(0,"Informations du bien")}function Ps(f,D){1&f&&(t.TgZ(0,"div"),t._uU(1," ce champs est obligatoire"),t.qZA())}function Zs(f,D){if(1&f&&(t.TgZ(0,"mat-error",66),t.YNc(1,Ps,2,0,"div",17),t.qZA()),2&f){const m=t.oxw(2);t.xp6(1),t.Q6J("ngIf",m.formInfoVehicule.controls.codeRisque.errors.required)}}function qs(f,D){1&f&&(t.TgZ(0,"div"),t._uU(1," ce champs est obligatoire"),t.qZA())}function _r(f,D){if(1&f&&(t.TgZ(0,"mat-error",66),t.YNc(1,qs,2,0,"div",17),t.qZA()),2&f){const m=t.oxw(4);t.xp6(1),t.Q6J("ngIf",m.formInfoVehicule.controls.marque.errors.required)}}function Zr(f,D){1&f&&(t.TgZ(0,"div"),t._uU(1," ce champs est obligatoire"),t.qZA())}function it(f,D){if(1&f&&(t.TgZ(0,"mat-error",66),t.YNc(1,Zr,2,0,"div",17),t.qZA()),2&f){const m=t.oxw(4);t.xp6(1),t.Q6J("ngIf",m.formInfoVehicule.controls.modele.errors.required)}}function ha(f,D){1&f&&(t.TgZ(0,"div"),t._uU(1," ce champs est obligatoire"),t.qZA())}function Ci(f,D){if(1&f&&(t.TgZ(0,"mat-error",66),t.YNc(1,ha,2,0,"div",17),t.qZA()),2&f){const m=t.oxw(4);t.xp6(1),t.Q6J("ngIf",m.formInfoVehicule.controls.immatriculation.errors.required)}}function qi(f,D){1&f&&(t.TgZ(0,"div"),t._uU(1," ce champs est obligatoire"),t.qZA())}function Ha(f,D){if(1&f&&(t.TgZ(0,"mat-error",66),t.YNc(1,qi,2,0,"div",17),t.qZA()),2&f){const m=t.oxw(4);t.xp6(1),t.Q6J("ngIf",m.formInfoVehicule.controls.numChassis.errors.required)}}function Ss(f,D){if(1&f&&(t.TgZ(0,"div",11)(1,"mat-form-field",12)(2,"mat-label"),t._uU(3,"Marque "),t.qZA(),t._UZ(4,"input",91),t.YNc(5,_r,2,1,"mat-error",16),t.qZA(),t.TgZ(6,"mat-form-field",12)(7,"mat-label"),t._uU(8,"Modele "),t.qZA(),t._UZ(9,"input",92),t.YNc(10,it,2,1,"mat-error",16),t.qZA()(),t.TgZ(11,"div",11)(12,"mat-form-field",12)(13,"mat-label"),t._uU(14,"Immatriculation "),t.qZA(),t._UZ(15,"input",68),t.YNc(16,Ci,2,1,"mat-error",16),t.qZA(),t.TgZ(17,"mat-form-field",12)(18,"mat-label"),t._uU(19,"N\xb0 Chassis "),t.qZA(),t._UZ(20,"input",93),t.YNc(21,Ha,2,1,"mat-error",16),t.qZA()()),2&f){const m=t.oxw(3);t.xp6(5),t.Q6J("ngIf",m.formInfoVehicule.controls.marque.errors),t.xp6(5),t.Q6J("ngIf",m.formInfoVehicule.controls.modele.errors),t.xp6(6),t.Q6J("ngIf",m.formInfoVehicule.controls.immatriculation.errors),t.xp6(5),t.Q6J("ngIf",m.formInfoVehicule.controls.numChassis.errors)}}function ys(f,D){1&f&&t.YNc(0,Ss,22,4,"ng-template")}function wa(f,D){1&f&&(t.TgZ(0,"div"),t._uU(1," ce champs est obligatoire"),t.qZA())}function di(f,D){if(1&f&&(t.TgZ(0,"mat-error",66),t.YNc(1,wa,2,0,"div",17),t.qZA()),2&f){const m=t.oxw(3);t.xp6(1),t.Q6J("ngIf",m.formInfoVehicule.controls.nom.errors.required)}}function Yr(f,D){1&f&&(t.TgZ(0,"div"),t._uU(1," ce champs est obligatoire"),t.qZA())}function $a(f,D){if(1&f&&(t.TgZ(0,"mat-error",66),t.YNc(1,Yr,2,0,"div",17),t.qZA()),2&f){const m=t.oxw(3);t.xp6(1),t.Q6J("ngIf",m.formInfoVehicule.controls.prenom.errors.required)}}function Ns(f,D){1&f&&(t.TgZ(0,"div"),t._uU(1," ce champs est obligatoire"),t.qZA())}function ba(f,D){if(1&f&&(t.TgZ(0,"mat-error",66),t.YNc(1,Ns,2,0,"div",17),t.qZA()),2&f){const m=t.oxw(3);t.xp6(1),t.Q6J("ngIf",m.formInfoVehicule.controls.adresse.errors.required)}}function Ka(f,D){if(1&f&&(t.ynx(0),t.TgZ(1,"mat-option",70),t._uU(2),t.qZA(),t.BQk()),2&f){const m=D.$implicit;t.xp6(1),t.Q6J("value",m.idWilaya),t.xp6(1),t.Oqu(m.description)}}function Ro(f,D){if(1&f&&(t.ynx(0),t.TgZ(1,"mat-option",70),t._uU(2),t.qZA(),t.BQk()),2&f){const m=D.$implicit;t.xp6(1),t.Q6J("value",m.idCommune),t.xp6(1),t.Oqu(m.description)}}function Oa(f,D){if(1&f){const m=t.EpF();t.TgZ(0,"div",11)(1,"mat-form-field",12)(2,"mat-label"),t._uU(3," Nom assur\xe9 "),t.qZA(),t._UZ(4,"input",94),t.YNc(5,di,2,1,"mat-error",16),t.qZA(),t.TgZ(6,"mat-form-field",12)(7,"mat-label"),t._uU(8," Prenom assur\xe9 "),t.qZA(),t._UZ(9,"input",95),t.YNc(10,$a,2,1,"mat-error",16),t.qZA()(),t.TgZ(11,"div",11)(12,"mat-form-field",12)(13,"mat-label"),t._uU(14," Adresse "),t.qZA(),t._UZ(15,"input",96),t.YNc(16,ba,2,1,"mat-error",16),t.qZA(),t.TgZ(17,"mat-form-field",12)(18,"mat-label"),t._uU(19," Wilaya "),t.qZA(),t.TgZ(20,"mat-select",97),t.YNc(21,Ka,3,2,"ng-container",25),t.qZA()(),t.TgZ(22,"mat-form-field",12)(23,"mat-label"),t._uU(24," Commune "),t.qZA(),t.TgZ(25,"mat-select",98),t.NdJ("selectionChange",function(j){t.CHM(m);const be=t.oxw(2);return t.KtG(be.getCommunes(j.value))}),t.YNc(26,Ro,3,2,"ng-container",25),t.qZA()()()}if(2&f){const m=t.oxw(2);t.xp6(5),t.Q6J("ngIf",m.formInfoVehicule.controls.nom.errors),t.xp6(5),t.Q6J("ngIf",m.formInfoVehicule.controls.prenom.errors),t.xp6(6),t.Q6J("ngIf",m.formInfoVehicule.controls.adresse.errors),t.xp6(5),t.Q6J("ngForOf",m.wilayas),t.xp6(5),t.Q6J("ngForOf",m.communes)}}function qr(f,D){if(1&f&&(t.TgZ(0,"mat-option",70),t._uU(1),t.qZA()),2&f){const m=D.$implicit;t.Q6J("value",m),t.xp6(1),t.hij(" ",m.description," ")}}function Ca(f,D){1&f&&(t.TgZ(0,"div"),t._uU(1," ce champs est obligatoire"),t.qZA())}function Vr(f,D){if(1&f&&(t.TgZ(0,"mat-error",66),t.YNc(1,Ca,2,0,"div",17),t.qZA()),2&f){const m=t.oxw(2);t.xp6(1),t.Q6J("ngIf",m.formInfoVehicule.controls.zoneAffectee.errors.required)}}function ca(f,D){1&f&&(t.TgZ(0,"mat-error",77),t._uU(1,"ce champs est obligatoire"),t.qZA())}function So(f,D){if(1&f&&(t.TgZ(0,"tr")(1,"td"),t._uU(2,"Peut circuler ?"),t.qZA(),t.TgZ(3,"td")(4,"mat-radio-group",99)(5,"mat-radio-button",89),t._uU(6,"Oui"),t.qZA(),t.TgZ(7,"mat-radio-button",90),t._uU(8,"Non"),t.qZA(),t.YNc(9,ca,2,0,"mat-error",30),t.qZA()()()),2&f){const m=t.oxw(2);t.xp6(9),t.Q6J("ngIf",m.formInfoVehicule.get("canCirculate").invalid&&m.submitedInfoVehicule)}}function jr(f,D){1&f&&(t.TgZ(0,"mat-error",77),t._uU(1,"ce champs est obligatoire"),t.qZA())}function Hr(f,D){1&f&&(t.TgZ(0,"mat-error",77),t._uU(1,"ce champs est obligatoire"),t.qZA())}function oo(f,D){if(1&f){const m=t.EpF();t.TgZ(0,"tr")(1,"td"),t._uU(2,"Comptez-vous faire appel \xe0 un assisteur ?"),t.qZA(),t.TgZ(3,"td")(4,"mat-radio-group",100),t.NdJ("change",function(j){t.CHM(m);const be=t.oxw(2);return t.KtG(be.withAssisteur(j.value,2))}),t.TgZ(5,"mat-radio-button",89),t._uU(6,"Oui"),t.qZA(),t.TgZ(7,"mat-radio-button",90),t._uU(8,"Non"),t.qZA(),t.YNc(9,Hr,2,0,"mat-error",30),t.qZA()()()}if(2&f){const m=t.oxw(2);t.xp6(9),t.Q6J("ngIf",m.formInfoVehicule.get("futurAssisteur").invalid&&m.submitedInfoVehicule)}}function nt(f,D){if(1&f&&(t.ynx(0),t.TgZ(1,"mat-option",70),t._uU(2),t.qZA(),t.BQk()),2&f){const m=D.$implicit;t.xp6(1),t.Q6J("value",m.idParam),t.xp6(1),t.Oqu(m.description)}}function jt(f,D){1&f&&(t.TgZ(0,"div"),t._uU(1," ce champs est obligatoire"),t.qZA())}function Be(f,D){if(1&f&&(t.TgZ(0,"mat-error",66),t.YNc(1,jt,2,0,"div",17),t.qZA()),2&f){const m=t.oxw(3);t.xp6(1),t.Q6J("ngIf",m.formInfoVehicule.controls.listAssisteur.errors.required)}}function zt(f,D){if(1&f&&(t.TgZ(0,"mat-form-field",12)(1,"mat-label"),t._uU(2,"Assisteur "),t.qZA(),t.TgZ(3,"mat-select",101),t.YNc(4,nt,3,2,"ng-container",25),t.qZA(),t.YNc(5,Be,2,1,"mat-error",16),t.qZA()),2&f){const m=t.oxw(2);t.xp6(4),t.Q6J("ngForOf",m.assisteurs),t.xp6(1),t.Q6J("ngIf",m.formInfoVehicule.controls.listAssisteur.errors)}}function yn(f,D){1&f&&(t.TgZ(0,"span"),t._uU(1,"Suivant"),t.qZA())}function Un(f,D){1&f&&t._UZ(0,"mat-spinner",72)}function wi(f,D){if(1&f&&(t.TgZ(0,"button",71),t.YNc(1,yn,2,0,"span",17),t.YNc(2,Un,1,0,"mat-spinner",54),t.qZA()),2&f){const m=t.oxw(2);t.Q6J("ngClass",t.VKq(4,Nn,!m.loaderZone))("disabled",!m.loaderZone),t.xp6(1),t.Q6J("ngIf",m.loaderZone),t.xp6(1),t.Q6J("ngIf",!m.loaderZone)}}function ro(f,D){if(1&f){const m=t.EpF();t.TgZ(0,"form",84),t.NdJ("ngSubmit",function(){t.CHM(m);const j=t.oxw();return t.KtG(j.submitInfoVehicule())}),t.TgZ(1,"div",11)(2,"mat-form-field",12)(3,"mat-label"),t._uU(4,"Code risque "),t.qZA(),t._UZ(5,"input",85),t.YNc(6,Zs,2,1,"mat-error",16),t.qZA()(),t.YNc(7,ys,1,0,null,47),t.YNc(8,Oa,27,5,"ng-template",null,86,t.W1O),t.TgZ(10,"div",11)(11,"mat-form-field",12)(12,"mat-label"),t._uU(13," Zone Affect\xe9e "),t.qZA(),t.TgZ(14,"mat-select",87),t.NdJ("selectionChange",function(j){t.CHM(m);const be=t.oxw();return t.KtG(be.controlDoublonsWithZone(j.value))}),t.TgZ(15,"mat-select-filter",22),t.NdJ("filteredReturn",function(j){t.CHM(m);const be=t.oxw();return t.KtG(be.filteredZonesAffectees=j)}),t.qZA(),t.YNc(16,qr,2,2,"mat-option",23),t.qZA(),t.YNc(17,Vr,2,1,"mat-error",16),t.qZA()(),t.TgZ(18,"table"),t.YNc(19,So,10,1,"tr",17),t.TgZ(20,"tr")(21,"td"),t._uU(22,"Avez-vous fait appel \xe0 un assisteur ?"),t.qZA(),t.TgZ(23,"td")(24,"mat-radio-group",88),t.NdJ("change",function(j){t.CHM(m);const be=t.oxw();return t.KtG(be.withAssisteur(j.value,1))}),t.TgZ(25,"mat-radio-button",89),t._uU(26,"Oui"),t.qZA(),t.TgZ(27,"mat-radio-button",90),t._uU(28,"Non"),t.qZA(),t.YNc(29,jr,2,0,"mat-error",30),t.qZA()()(),t.YNc(30,oo,10,1,"tr",17),t.qZA(),t.YNc(31,zt,6,2,"mat-form-field",18),t.TgZ(32,"div",36),t.YNc(33,wi,3,6,"button",65),t.qZA()()}if(2&f){const m=t.MAs(9),I=t.oxw();t.Q6J("formGroup",I.formInfoVehicule),t.xp6(6),t.Q6J("ngIf",I.formInfoVehicule.controls.codeRisque.errors),t.xp6(1),t.Q6J("ngIf","45A"==I.codeProduit||"45F"==I.codeProduit||"45L"==I.codeProduit)("ngIfElse",m),t.xp6(7),t.Q6J("disabled",I.disabledZone),t.xp6(1),t.Q6J("displayMember","description")("array",I.zonesAffectees),t.xp6(1),t.Q6J("ngForOf",I.filteredZonesAffectees),t.xp6(1),t.Q6J("ngIf",I.formInfoVehicule.controls.zoneAffectee.errors),t.xp6(2),t.Q6J("ngIf","45A"==I.codeProduit||"45F"==I.codeProduit||"45L"==I.codeProduit),t.xp6(10),t.Q6J("ngIf",I.formInfoVehicule.get("assisteur").invalid&&I.submitedInfoVehicule),t.xp6(1),t.Q6J("ngIf",I.futurAssisteurExist),t.xp6(1),t.Q6J("ngIf",I.listAssisteurExist),t.xp6(2),t.Q6J("ngIf",I.doublonsZone)}}function ko(f,D){1&f&&t._uU(0," Informations sur le conducteur")}function hr(f,D){if(1&f&&(t.ynx(0),t.TgZ(1,"mat-option",111),t._uU(2),t.qZA(),t.BQk()),2&f){const m=D.$implicit,I=t.oxw(3);t.xp6(1),t.Q6J("value",m)("disabled","personneMorale"==(null==I.infoPolice||null==I.infoPolice.assure?null:I.infoPolice.assure.typePersonne)&&"CP306"==m.code||I.conducteurError&&"CP307"==(null==m?null:m.code)),t.xp6(1),t.Oqu(m.description)}}function Rl(f,D){1&f&&(t.TgZ(0,"div"),t._uU(1," ce champs est obligatoire"),t.qZA())}function ka(f,D){if(1&f&&(t.TgZ(0,"mat-error",66),t.YNc(1,Rl,2,0,"div",17),t.qZA()),2&f){const m=t.oxw(3);t.xp6(1),t.Q6J("ngIf",m.formInfoConducteur.controls.typeConducteur.errors.required)}}function rl(f,D){1&f&&(t.TgZ(0,"div"),t._uU(1," ce champs est obligatoire"),t.qZA())}function Is(f,D){if(1&f&&(t.TgZ(0,"mat-error",66),t.YNc(1,rl,2,0,"div",17),t.qZA()),2&f){const m=t.oxw(3);t.xp6(1),t.Q6J("ngIf",m.formInfoConducteur.controls.nomConducteur.errors.required)}}function Dl(f,D){1&f&&(t.TgZ(0,"div"),t._uU(1," ce champs est obligatoire"),t.qZA())}function $l(f,D){if(1&f&&(t.TgZ(0,"mat-error",66),t.YNc(1,Dl,2,0,"div",17),t.qZA()),2&f){const m=t.oxw(3);t.xp6(1),t.Q6J("ngIf",m.formInfoConducteur.controls.prenomConducteur.errors.required)}}function Er(f,D){1&f&&(t.TgZ(0,"div"),t._uU(1," ce champs est obligatoire"),t.qZA())}function al(f,D){if(1&f&&(t.TgZ(0,"mat-error",66),t.YNc(1,Er,2,0,"div",17),t.qZA()),2&f){const m=t.oxw(3);t.xp6(1),t.Q6J("ngIf",m.formInfoConducteur.controls.numPermis.errors.required)}}function Oi(f,D){1&f&&(t.TgZ(0,"div"),t._uU(1," ce champs est obligatoire"),t.qZA())}function zi(f,D){if(1&f&&(t.TgZ(0,"mat-error",66),t.YNc(1,Oi,2,0,"div",17),t.qZA()),2&f){const m=t.oxw(3);t.xp6(1),t.Q6J("ngIf",m.formInfoConducteur.controls.dateDelivrance.errors.required)}}function wl(f,D){if(1&f&&(t.ynx(0),t.TgZ(1,"mat-option",70),t._uU(2),t.qZA(),t.BQk()),2&f){const m=D.$implicit;t.xp6(1),t.Q6J("value",m.idWilaya),t.xp6(1),t.Oqu(m.description)}}function sl(f,D){1&f&&(t.TgZ(0,"div"),t._uU(1," ce champs est obligatoire"),t.qZA())}function Fi(f,D){if(1&f&&(t.TgZ(0,"mat-error",66),t.YNc(1,sl,2,0,"div",17),t.qZA()),2&f){const m=t.oxw(3);t.xp6(1),t.Q6J("ngIf",m.formInfoConducteur.controls.lieuDelivrance.errors.required)}}function ll(f,D){1&f&&(t.TgZ(0,"div"),t._uU(1," ce champs est obligatoire"),t.qZA())}function Wa(f,D){if(1&f&&(t.TgZ(0,"mat-error",66),t.YNc(1,ll,2,0,"div",17),t.qZA()),2&f){const m=t.oxw(3);t.xp6(1),t.Q6J("ngIf",m.formInfoConducteur.controls.adresse.errors.required)}}function Tr(f,D){1&f&&(t.TgZ(0,"div"),t._uU(1," ce champs est obligatoire"),t.qZA())}function _o(f,D){if(1&f&&(t.TgZ(0,"mat-error",66),t.YNc(1,Tr,2,0,"div",17),t.qZA()),2&f){const m=t.oxw(3);t.xp6(1),t.Q6J("ngIf",m.formInfoConducteur.controls.contact.errors.required)}}function Xa(f,D){if(1&f){const m=t.EpF();t.TgZ(0,"form",84),t.NdJ("ngSubmit",function(){t.CHM(m);const j=t.oxw(2);return t.KtG(j.submitInfoConducteur())}),t.TgZ(1,"div",11)(2,"mat-form-field",12)(3,"mat-label"),t._uU(4,"Type conducteur "),t.qZA(),t.TgZ(5,"mat-select",102),t.NdJ("selectionChange",function(j){t.CHM(m);const be=t.oxw(2);return t.KtG(be.changeTypeConducteur(j.value))}),t.YNc(6,hr,3,3,"ng-container",25),t.qZA(),t.YNc(7,ka,2,1,"mat-error",16),t.qZA(),t.TgZ(8,"div",11)(9,"mat-form-field",12)(10,"mat-label"),t._uU(11),t.qZA(),t._UZ(12,"input",103),t.YNc(13,Is,2,1,"mat-error",16),t.qZA(),t.TgZ(14,"mat-form-field",12)(15,"mat-label"),t._uU(16),t.qZA(),t._UZ(17,"input",104),t.YNc(18,$l,2,1,"mat-error",16),t.qZA()(),t.TgZ(19,"div",11)(20,"mat-form-field",12)(21,"mat-label"),t._uU(22,"N\xb0 permis"),t.qZA(),t._UZ(23,"input",105),t.YNc(24,al,2,1,"mat-error",16),t.qZA()(),t.TgZ(25,"div",11)(26,"mat-form-field",12)(27,"mat-label"),t._uU(28,"Date D\xe9livrance"),t.qZA(),t._UZ(29,"input",106)(30,"mat-datepicker-toggle",14)(31,"mat-datepicker",null,107),t.YNc(33,zi,2,1,"mat-error",16),t.qZA(),t.TgZ(34,"mat-form-field",12)(35,"mat-label"),t._uU(36,"Lieu d\xe9livrance"),t.qZA(),t.TgZ(37,"mat-select",108),t.YNc(38,wl,3,2,"ng-container",25),t.qZA(),t.YNc(39,Fi,2,1,"mat-error",16),t.qZA()(),t.TgZ(40,"div",11)(41,"mat-form-field",12)(42,"mat-label"),t._uU(43,"Adresse"),t.qZA(),t._UZ(44,"input",96),t.YNc(45,Wa,2,1,"mat-error",16),t.qZA(),t.TgZ(46,"mat-form-field",12)(47,"mat-label"),t._uU(48,"Contact"),t.qZA(),t._UZ(49,"input",109),t.YNc(50,_o,2,1,"mat-error",16),t.qZA()()(),t.TgZ(51,"div",36)(52,"button",110),t._uU(53,"Suivant"),t.qZA(),t.TgZ(54,"button",43),t.NdJ("click",function(){t.CHM(m);const j=t.oxw(2);return t.KtG(j.goback("vehiculeInfo"))}),t._uU(55,"Retour"),t.qZA()()()}if(2&f){const m=t.MAs(32),I=t.oxw(2);t.Q6J("formGroup",I.formInfoConducteur),t.xp6(6),t.Q6J("ngForOf",I.typeConducteursArray),t.xp6(1),t.Q6J("ngIf",I.formInfoConducteur.controls.typeConducteur.errors),t.xp6(4),t.hij("Nom ",I.labelAssure.label," "),t.xp6(2),t.Q6J("ngIf",I.formInfoConducteur.controls.nomConducteur.errors),t.xp6(3),t.hij("Pr\xe9nom ",I.labelAssure.label," "),t.xp6(2),t.Q6J("ngIf",I.formInfoConducteur.controls.prenomConducteur.errors),t.xp6(6),t.Q6J("ngIf",I.formInfoConducteur.controls.numPermis.errors),t.xp6(5),t.Q6J("matDatepicker",m)("max",I.today),t.xp6(1),t.Q6J("for",m),t.xp6(3),t.Q6J("ngIf",I.formInfoConducteur.controls.dateDelivrance.errors),t.xp6(5),t.Q6J("ngForOf",I.wilayasDelivrance),t.xp6(1),t.Q6J("ngIf",I.formInfoConducteur.controls.lieuDelivrance.errors),t.xp6(6),t.Q6J("ngIf",I.formInfoConducteur.controls.adresse.errors),t.xp6(5),t.Q6J("ngIf",I.formInfoConducteur.controls.contact.errors)}}function Do(f,D){if(1&f&&(t.TgZ(0,"mat-step"),t.YNc(1,ko,1,0,"ng-template",6),t.YNc(2,Xa,56,16,"form",46),t.qZA()),2&f){const m=t.oxw();t.xp6(2),t.Q6J("ngIf",m.formConducteurReady)}}function $r(f,D){1&f&&t._uU(0," Informations sur l'adversaire")}function Vo(f,D){1&f&&t.YNc(0,$r,1,0,"ng-template",6)}function cl(f,D){1&f&&t._uU(0," Informations sur le tiers")}function ul(f,D){1&f&&t.YNc(0,cl,1,0,"ng-template",6)}function si(f,D){1&f&&(t.TgZ(0,"mat-error",77),t._uU(1,"Veuillez renseigner ce champ."),t.qZA())}function Gr(f,D){if(1&f){const m=t.EpF();t.TgZ(0,"mat-radio-group",113),t.NdJ("change",function(j){t.CHM(m);const be=t.oxw(2);return t.KtG(be.withTier(j.value))})("ngModelChange",function(j){t.CHM(m);const be=t.oxw(2);return t.KtG(be.defaultChoice=j)}),t.TgZ(1,"mat-label"),t._uU(2,"Est-ce qu'un tier existe ? "),t.qZA(),t.TgZ(3,"mat-radio-button",89),t._uU(4,"Oui"),t.qZA(),t.TgZ(5,"mat-radio-button",90),t._uU(6,"Non"),t.qZA(),t.YNc(7,si,2,0,"mat-error",30),t.qZA()}if(2&f){const m=t.oxw(2);t.Q6J("ngModel",m.defaultChoice),t.xp6(7),t.Q6J("ngIf",null==m.defaultChoice)}}function ml(f,D){if(1&f&&(t.ynx(0),t.TgZ(1,"mat-option",70),t._uU(2),t.qZA(),t.BQk()),2&f){const m=D.$implicit;t.xp6(1),t.Q6J("value",m),t.xp6(1),t.Oqu(m.description)}}function Es(f,D){1&f&&(t.TgZ(0,"div"),t._uU(1," ce champs est obligatoire"),t.qZA())}function ao(f,D){if(1&f&&(t.TgZ(0,"mat-error",66),t.YNc(1,Es,2,0,"div",17),t.qZA()),2&f){const m=t.oxw(4);t.xp6(1),t.Q6J("ngIf",m.formInfoAdversaire.controls.typeAdversaire.errors.required)}}function Rs(f,D){if(1&f){const m=t.EpF();t.TgZ(0,"mat-form-field",12)(1,"mat-label"),t._uU(2,"Type adversaire"),t.qZA(),t.TgZ(3,"mat-select",120),t.NdJ("selectionChange",function(j){t.CHM(m);const be=t.oxw(3);return t.KtG(be.changeTypeAdversaire(j.value))}),t.YNc(4,ml,3,2,"ng-container",25),t.qZA(),t.YNc(5,ao,2,1,"mat-error",16),t.qZA()}if(2&f){const m=t.oxw(3);t.xp6(4),t.Q6J("ngForOf",m.typeAdversaireArray),t.xp6(1),t.Q6J("ngIf",m.formInfoAdversaire.controls.typeAdversaire.errors)}}function Ol(f,D){1&f&&(t.TgZ(0,"mat-error",77),t._uU(1,"Ce champs est obligatoire"),t.qZA())}function Vi(f,D){if(1&f&&(t.TgZ(0,"mat-radio-group",121)(1,"mat-label"),t._uU(2,"Tiers de la m\xeame famille ? "),t.qZA(),t.TgZ(3,"mat-radio-button",89),t._uU(4,"Oui"),t.qZA(),t.TgZ(5,"mat-radio-button",90),t._uU(6,"Non"),t.qZA(),t.YNc(7,Ol,2,0,"mat-error",30),t.qZA()),2&f){const m=t.oxw(3);t.xp6(7),t.Q6J("ngIf",m.formInfoAdversaire.get("isFamily").invalid&&m.sumitedTier)}}function Ma(f,D){1&f&&(t.TgZ(0,"div"),t._uU(1," ce champs est obligatoire"),t.qZA())}function ar(f,D){if(1&f&&(t.TgZ(0,"mat-error",66),t.YNc(1,Ma,2,0,"div",17),t.qZA()),2&f){const m=t.oxw(3);t.xp6(1),t.Q6J("ngIf",m.formInfoAdversaire.controls.nomAdversaire.errors.required)}}function Ds(f,D){1&f&&(t.TgZ(0,"div"),t._uU(1," ce champs est obligatoire"),t.qZA())}function Br(f,D){if(1&f&&(t.TgZ(0,"mat-error",66),t.YNc(1,Ds,2,0,"div",17),t.qZA()),2&f){const m=t.oxw(3);t.xp6(1),t.Q6J("ngIf",m.formInfoAdversaire.controls.prenomAdversaire.errors.required)}}function Rr(f,D){if(1&f&&(t.ynx(0),t.TgZ(1,"mat-option",70),t._uU(2),t.qZA(),t.BQk()),2&f){const m=D.$implicit;t.xp6(1),t.Q6J("value",m.idParam),t.xp6(1),t.Oqu(m.description)}}function ws(f,D){1&f&&(t.TgZ(0,"div"),t._uU(1," ce champs est obligatoire"),t.qZA())}function Po(f,D){if(1&f&&(t.TgZ(0,"mat-error",66),t.YNc(1,ws,2,0,"div",17),t.qZA()),2&f){const m=t.oxw(4);t.xp6(1),t.Q6J("ngIf",m.formInfoAdversaire.controls.companyAdverse.errors.required)}}function yo(f,D){if(1&f&&(t.TgZ(0,"mat-option",70),t._uU(1),t.qZA()),2&f){const m=D.$implicit;t.Q6J("value",m.idParam),t.xp6(1),t.hij(" ",m.description," ")}}function ua(f,D){1&f&&(t.TgZ(0,"div"),t._uU(1," ce champs est obligatoire"),t.qZA())}function Os(f,D){if(1&f&&(t.TgZ(0,"mat-error",66),t.YNc(1,ua,2,0,"div",17),t.qZA()),2&f){const m=t.oxw(4);t.xp6(1),t.Q6J("ngIf",m.formInfoAdversaire.controls.agenceAdverse.errors.required)}}function ks(f,D){if(1&f){const m=t.EpF();t.TgZ(0,"div",11)(1,"mat-form-field",12)(2,"mat-label"),t._uU(3,"Assurance adverse "),t.qZA(),t.TgZ(4,"mat-select",122),t.NdJ("selectionChange",function(j){t.CHM(m);const be=t.oxw(3);return t.KtG(be.getAgenceAdverse(j.value))}),t.YNc(5,Rr,3,2,"ng-container",25),t.qZA(),t.YNc(6,Po,2,1,"mat-error",16),t.qZA(),t.TgZ(7,"mat-form-field",12)(8,"mat-label"),t._uU(9,"Agence adverse "),t.qZA(),t.TgZ(10,"mat-select",123)(11,"mat-select-filter",22),t.NdJ("filteredReturn",function(j){t.CHM(m);const be=t.oxw(3);return t.KtG(be.filteredAgenceAdversesArray=j)}),t.qZA(),t.YNc(12,yo,2,2,"mat-option",23),t.qZA(),t.YNc(13,Os,2,1,"mat-error",16),t.qZA()()}if(2&f){const m=t.oxw(3);t.xp6(5),t.Q6J("ngForOf",m.companiesAdverse),t.xp6(1),t.Q6J("ngIf",m.formInfoAdversaire.controls.companyAdverse.errors),t.xp6(5),t.Q6J("displayMember","description")("array",m.agenceAdversesArray),t.xp6(1),t.Q6J("ngForOf",m.filteredAgenceAdversesArray),t.xp6(1),t.Q6J("ngIf",m.formInfoAdversaire.controls.agenceAdverse.errors)}}function ho(f,D){1&f&&(t.TgZ(0,"div"),t._uU(1," ce champs est obligatoire"),t.qZA())}function Kr(f,D){if(1&f&&(t.TgZ(0,"mat-error",66),t.YNc(1,ho,2,0,"div",17),t.qZA()),2&f){const m=t.oxw(4);t.xp6(1),t.Q6J("ngIf",m.formInfoAdversaire.controls.numPolice.errors.required)}}function es(f,D){if(1&f&&(t.TgZ(0,"div",11)(1,"mat-form-field",12)(2,"mat-label"),t._uU(3,"N\xb0 police "),t.qZA(),t._UZ(4,"input",124),t.YNc(5,Kr,2,1,"mat-error",16),t.qZA(),t.TgZ(6,"mat-form-field",12)(7,"mat-label"),t._uU(8,"Contact "),t.qZA(),t._UZ(9,"input",109),t.qZA()()),2&f){const m=t.oxw(3);t.xp6(5),t.Q6J("ngIf",m.formInfoAdversaire.controls.numPolice.errors)}}function kl(f,D){if(1&f&&(t.ynx(0),t.TgZ(1,"mat-option",70),t._uU(2),t.qZA(),t.BQk()),2&f){const m=D.$implicit;t.xp6(1),t.Q6J("value",m),t.xp6(1),t.hij(" ",m.marque," ")}}function Ml(f,D){1&f&&(t.TgZ(0,"div"),t._uU(1," ce champs est obligatoire"),t.qZA())}function Yo(f,D){if(1&f&&(t.TgZ(0,"mat-error",66),t.YNc(1,Ml,2,0,"div",17),t.qZA()),2&f){const m=t.oxw(4);t.xp6(1),t.Q6J("ngIf",m.formInfoAdversaire.controls.marqueVehiculeAdverse.errors.required)}}function Ua(f,D){if(1&f&&(t.ynx(0),t.TgZ(1,"mat-option",70),t._uU(2),t.qZA(),t.BQk()),2&f){const m=D.$implicit;t.xp6(1),t.Q6J("value",m),t.xp6(1),t.Oqu(m.modele)}}function Ul(f,D){1&f&&(t.TgZ(0,"div"),t._uU(1," ce champs est obligatoire"),t.qZA())}function dl(f,D){if(1&f&&(t.TgZ(0,"mat-error",66),t.YNc(1,Ul,2,0,"div",17),t.qZA()),2&f){const m=t.oxw(4);t.xp6(1),t.Q6J("ngIf",m.formInfoAdversaire.controls.modeleVehiculeAdverse.errors.required)}}function tr(f,D){1&f&&(t.TgZ(0,"div"),t._uU(1," ce champs est obligatoire"),t.qZA())}function Ms(f,D){if(1&f&&(t.TgZ(0,"mat-error",66),t.YNc(1,tr,2,0,"div",17),t.qZA()),2&f){const m=t.oxw(4);t.xp6(1),t.Q6J("ngIf",m.formInfoAdversaire.controls.immatriculationVehiculeAdverse.errors.required)}}function Dn(f,D){1&f&&(t.TgZ(0,"div"),t._uU(1," ce champs est obligatoire"),t.qZA())}function ts(f,D){if(1&f&&(t.TgZ(0,"mat-error",66),t.YNc(1,Dn,2,0,"div",17),t.qZA()),2&f){const m=t.oxw(4);t.xp6(1),t.Q6J("ngIf",m.formInfoAdversaire.controls.nomConducteurAdverse.errors.required)}}function Kl(f,D){1&f&&(t.TgZ(0,"div"),t._uU(1," ce champs est obligatoire"),t.qZA())}function ns(f,D){if(1&f&&(t.TgZ(0,"mat-error",66),t.YNc(1,Kl,2,0,"div",17),t.qZA()),2&f){const m=t.oxw(4);t.xp6(1),t.Q6J("ngIf",m.formInfoAdversaire.controls.prenomConducteurAdverse.errors.required)}}function Pa(f,D){1&f&&(t.TgZ(0,"div"),t._uU(1," ce champs est obligatoire"),t.qZA())}function Ho(f,D){if(1&f&&(t.TgZ(0,"mat-error",66),t.YNc(1,Pa,2,0,"div",17),t.qZA()),2&f){const m=t.oxw(4);t.xp6(1),t.Q6J("ngIf",m.formInfoAdversaire.controls.numPermisConducteurAdverse.errors.required)}}function ma(f,D){1&f&&(t.TgZ(0,"div"),t._uU(1," ce champs est obligatoire"),t.qZA())}function wo(f,D){if(1&f&&(t.TgZ(0,"mat-error",66),t.YNc(1,ma,2,0,"div",17),t.qZA()),2&f){const m=t.oxw(4);t.xp6(1),t.Q6J("ngIf",m.formInfoAdversaire.controls.dateDelivranceAdverse.errors.required)}}function Us(f,D){if(1&f&&(t.ynx(0),t.TgZ(1,"mat-option",70),t._uU(2),t.qZA(),t.BQk()),2&f){const m=D.$implicit;t.xp6(1),t.Q6J("value",m),t.xp6(1),t.Oqu(m.description)}}function is(f,D){1&f&&(t.TgZ(0,"div"),t._uU(1," ce champs est obligatoire"),t.qZA())}function _l(f,D){if(1&f&&(t.TgZ(0,"mat-error",66),t.YNc(1,is,2,0,"div",17),t.qZA()),2&f){const m=t.oxw(4);t.xp6(1),t.Q6J("ngIf",m.formInfoAdversaire.controls.lieuDelivranceAdverse.errors.required)}}function Fs(f,D){if(1&f){const m=t.EpF();t.TgZ(0,"div",125)(1,"h3"),t._uU(2,"Informations sur v\xe9hicule adverse "),t.qZA(),t.TgZ(3,"div",11)(4,"mat-form-field",12)(5,"mat-label"),t._uU(6,"Marque "),t.qZA(),t.TgZ(7,"mat-select",126),t.NdJ("selectionChange",function(j){t.CHM(m);const be=t.oxw(3);return t.KtG(be.getModel(null==j.value?null:j.value.idParam))}),t.YNc(8,kl,3,2,"ng-container",25),t.qZA(),t.YNc(9,Yo,2,1,"mat-error",16),t.qZA(),t.TgZ(10,"mat-form-field",12)(11,"mat-label"),t._uU(12,"Modele "),t.qZA(),t.TgZ(13,"mat-select",127),t.YNc(14,Ua,3,2,"ng-container",25),t.qZA(),t.YNc(15,dl,2,1,"mat-error",16),t.qZA()(),t.TgZ(16,"div",11)(17,"mat-form-field",12)(18,"mat-label"),t._uU(19,"Immatriculation "),t.qZA(),t._UZ(20,"input",128),t.YNc(21,Ms,2,1,"mat-error",16),t.qZA()(),t.TgZ(22,"div",11)(23,"h3"),t._uU(24,"Informations sur conducteurs adverse "),t.qZA(),t.TgZ(25,"mat-form-field",12)(26,"mat-label"),t._uU(27,"Nom conducteur adverse"),t.qZA(),t._UZ(28,"input",129),t.YNc(29,ts,2,1,"mat-error",16),t.qZA(),t.TgZ(30,"mat-form-field",12)(31,"mat-label"),t._uU(32,"Pr\xe9nom conducteur adverse "),t.qZA(),t._UZ(33,"input",130),t.YNc(34,ns,2,1,"mat-error",16),t.qZA()(),t.TgZ(35,"div",11)(36,"mat-form-field",12)(37,"mat-label"),t._uU(38,"N\xb0 permis conducteur adverse"),t.qZA(),t._UZ(39,"input",131),t.YNc(40,Ho,2,1,"mat-error",16),t.qZA()(),t.TgZ(41,"div",11)(42,"mat-form-field",12)(43,"mat-label"),t._uU(44,"Date D\xe9livrance"),t.qZA(),t._UZ(45,"input",132)(46,"mat-datepicker-toggle",14)(47,"mat-datepicker",null,133),t.YNc(49,wo,2,1,"mat-error",16),t.qZA(),t.TgZ(50,"mat-form-field",12)(51,"mat-label"),t._uU(52,"Lieu de d\xe9livrance "),t.qZA(),t.TgZ(53,"mat-select",134),t.YNc(54,Us,3,2,"ng-container",25),t.qZA(),t.YNc(55,_l,2,1,"mat-error",16),t.qZA()()()}if(2&f){const m=t.MAs(48),I=t.oxw(3);t.xp6(8),t.Q6J("ngForOf",I.marques),t.xp6(1),t.Q6J("ngIf",I.formInfoAdversaire.controls.marqueVehiculeAdverse.errors),t.xp6(5),t.Q6J("ngForOf",I.models),t.xp6(1),t.Q6J("ngIf",I.formInfoAdversaire.controls.modeleVehiculeAdverse.errors),t.xp6(6),t.Q6J("ngIf",I.formInfoAdversaire.controls.immatriculationVehiculeAdverse.errors),t.xp6(8),t.Q6J("ngIf",I.formInfoAdversaire.controls.nomConducteurAdverse.errors),t.xp6(5),t.Q6J("ngIf",I.formInfoAdversaire.controls.prenomConducteurAdverse.errors),t.xp6(6),t.Q6J("ngIf",I.formInfoAdversaire.controls.numPermisConducteurAdverse.errors),t.xp6(5),t.Q6J("matDatepicker",m)("max",I.today),t.xp6(1),t.Q6J("for",m),t.xp6(3),t.Q6J("ngIf",I.formInfoAdversaire.controls.dateDelivranceAdverse.errors),t.xp6(5),t.Q6J("ngForOf",I.wilayas),t.xp6(1),t.Q6J("ngIf",I.formInfoAdversaire.controls.lieuDelivranceAdverse.errors)}}function Fl(f,D){if(1&f){const m=t.EpF();t.TgZ(0,"form",84,114),t.NdJ("ngSubmit",function(){t.CHM(m);const j=t.MAs(1),be=t.oxw(2);return t.KtG(be.submitTier(j))}),t.TgZ(2,"div",11),t.YNc(3,Rs,6,2,"mat-form-field",18),t.YNc(4,Vi,8,1,"mat-radio-group",115),t.qZA(),t.TgZ(5,"div",11)(6,"mat-form-field",12)(7,"mat-label"),t._uU(8,"Nom "),t.qZA(),t._UZ(9,"input",116),t.YNc(10,ar,2,1,"mat-error",16),t.qZA(),t.TgZ(11,"mat-form-field",12)(12,"mat-label"),t._uU(13,"Pr\xe9nom "),t.qZA(),t._UZ(14,"input",117),t.YNc(15,Br,2,1,"mat-error",16),t.qZA(),t.TgZ(16,"mat-radio-group",118),t.NdJ("change",function(j){t.CHM(m);const be=t.oxw(2);return t.KtG(be.tiersAssure(j.value))}),t.TgZ(17,"mat-label"),t._uU(18," Tiers assur\xe9 "),t.qZA(),t.TgZ(19,"mat-radio-button",70),t._uU(20,"Oui"),t.qZA(),t.TgZ(21,"mat-radio-button",70),t._uU(22,"Non"),t.qZA()()(),t.YNc(23,ks,14,6,"div",19),t.YNc(24,es,10,1,"div",19),t.YNc(25,Fs,56,14,"div",119),t.TgZ(26,"div",36)(27,"button",110),t._uU(28,"Ajouter tier"),t.qZA()()()}if(2&f){const m=t.oxw(2);t.Q6J("formGroup",m.formInfoAdversaire),t.xp6(3),t.Q6J("ngIf","45A"==m.codeProduit||"45F"==m.codeProduit||"45L"==m.codeProduit),t.xp6(1),t.Q6J("ngIf","CP309"==(null==m.typeAdversaireSelected?null:m.typeAdversaireSelected.code)),t.xp6(6),t.Q6J("ngIf",m.formInfoAdversaire.controls.nomAdversaire.errors),t.xp6(5),t.Q6J("ngIf",m.formInfoAdversaire.controls.prenomAdversaire.errors),t.xp6(4),t.Q6J("value",!0),t.xp6(2),t.Q6J("value",!1),t.xp6(2),t.Q6J("ngIf",m.formInfoAdversaire.get("assure").value),t.xp6(1),t.Q6J("ngIf",m.formInfoAdversaire.get("assure").value),t.xp6(1),t.Q6J("ngIf","CP309"==(null==m.typeAdversaireSelected?null:m.typeAdversaireSelected.code))}}function Qs(f,D){1&f&&(t.TgZ(0,"th",144),t._uU(1," Type adversaire "),t.qZA())}function Ql(f,D){if(1&f&&(t.TgZ(0,"td",145),t._uU(1),t.qZA()),2&f){const m=D.$implicit;t.xp6(1),t.hij(" ",null==m||null==m.typeAdversaire?null:m.typeAdversaire.description," ")}}function pl(f,D){1&f&&(t.ynx(0,143),t.YNc(1,Qs,2,0,"th",138),t.YNc(2,Ql,2,1,"td",139),t.BQk())}function Jl(f,D){1&f&&(t.TgZ(0,"th",144),t._uU(1," Nom "),t.qZA())}function Ce(f,D){if(1&f&&(t.TgZ(0,"td",145),t._uU(1),t.qZA()),2&f){const m=D.$implicit;t.xp6(1),t.AsE(" ",null==m?null:m.nomAdversaire," ",null==m?null:m.prenomAdversaire,"")}}function mt(f,D){1&f&&(t.TgZ(0,"th",144),t._uU(1," Action "),t.qZA())}function Pe(f,D){if(1&f){const m=t.EpF();t.TgZ(0,"td",145)(1,"button",146)(2,"mat-icon"),t._uU(3,"more_vert"),t.qZA()(),t.TgZ(4,"mat-menu",147,148)(6,"button",149),t.NdJ("click",function(){const be=t.CHM(m).$implicit,It=t.oxw(3);return t.KtG(It.deleteTier(be.idTier))}),t.TgZ(7,"mat-icon"),t._uU(8,"delete"),t.qZA(),t.TgZ(9,"span"),t._uU(10,"Supprimer tier"),t.qZA()()()()}if(2&f){const m=t.MAs(5);t.xp6(1),t.Q6J("matMenuTriggerFor",m)}}function _t(f,D){1&f&&t._UZ(0,"tr",150)}function yt(f,D){1&f&&t._UZ(0,"tr",151)}function rn(f,D){if(1&f&&(t.TgZ(0,"table",135),t.YNc(1,pl,3,0,"ng-container",136),t.ynx(2,137),t.YNc(3,Jl,2,0,"th",138),t.YNc(4,Ce,2,2,"td",139),t.BQk(),t.ynx(5,140),t.YNc(6,mt,2,0,"th",138),t.YNc(7,Pe,11,1,"td",139),t.BQk(),t.YNc(8,_t,1,0,"tr",141),t.YNc(9,yt,1,0,"tr",142),t.qZA()),2&f){const m=t.oxw(2);t.Q6J("dataSource",m.dataSourceTier),t.xp6(1),t.Q6J("ngIf","95"!=m.codeProduit&&"96"!=m.codeProduit),t.xp6(7),t.Q6J("matHeaderRowDef",m.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",m.displayedColumns)}}const eo=function(){return[5,10]};function sr(f,D){1&f&&t._UZ(0,"mat-paginator",152),2&f&&t.Q6J("pageSize",10)("pageSizeOptions",t.DdM(2,eo))}function Dr(f,D){if(1&f&&(t.ynx(0),t.YNc(1,Gr,8,2,"mat-radio-group",50),t.YNc(2,Fl,29,10,"form",46),t.YNc(3,rn,10,4,"table",52),t.YNc(4,sr,1,3,"mat-paginator",112),t.BQk()),2&f){const m=t.oxw();t.xp6(1),t.Q6J("ngIf",0==m.tierTab.length),t.xp6(1),t.Q6J("ngIf",m.tierExist),t.xp6(1),t.Q6J("ngIf",0!=m.tierTab.length),t.xp6(1),t.Q6J("ngIf",0!=m.tierTab.length)}}function wr(f,D){1&f&&(t.TgZ(0,"div",153),t._uU(1,'Vous devez modifier cause pour "Collision" si vous souhaitez ajouter un adversaire.'),t.qZA())}function Or(f,D){1&f&&t._uU(0,"Informations Bless\xe9s/D\xe9c\xe8s")}function pr(f,D){1&f&&(t.TgZ(0,"mat-error",77),t._uU(1,"ce champs est obligatoire"),t.qZA())}function Za(f,D){if(1&f){const m=t.EpF();t.TgZ(0,"mat-radio-group",113),t.NdJ("change",function(j){t.CHM(m);const be=t.oxw();return t.KtG(be.withBlesses(j.value))})("ngModelChange",function(j){t.CHM(m);const be=t.oxw();return t.KtG(be.defaultChoiceBlesse=j)}),t.TgZ(1,"mat-label"),t._uU(2,"Est-ce que des bless\xe9s/d\xe9c\xe8s existe ? "),t.qZA(),t.TgZ(3,"mat-radio-button",28),t._uU(4,"Oui"),t.qZA(),t.TgZ(5,"mat-radio-button",29),t._uU(6,"Non"),t.qZA(),t.YNc(7,pr,2,0,"mat-error",30),t.qZA()}if(2&f){const m=t.oxw();t.Q6J("ngModel",m.defaultChoiceBlesse),t.xp6(7),t.Q6J("ngIf",null==m.defaultChoiceBlesse)}}function os(f,D){if(1&f&&(t.ynx(0),t.TgZ(1,"mat-option",70),t._uU(2),t.qZA(),t.BQk()),2&f){const m=D.$implicit;t.xp6(1),t.Q6J("value",m),t.xp6(1),t.Oqu(m.description)}}function fl(f,D){1&f&&(t.TgZ(0,"div"),t._uU(1," ce champs est obligatoire"),t.qZA())}function Js(f,D){if(1&f&&(t.TgZ(0,"mat-error",66),t.YNc(1,fl,2,0,"div",17),t.qZA()),2&f){const m=t.oxw(3);t.xp6(1),t.Q6J("ngIf",m.formInfoBlesses.controls.typeBlesses.errors.required)}}function qa(f,D){if(1&f&&(t.TgZ(0,"div",11)(1,"mat-form-field",12)(2,"mat-label"),t._uU(3,"Type bless\xe9/D\xe9c\xe8s "),t.qZA(),t.TgZ(4,"mat-select",161),t.YNc(5,os,3,2,"ng-container",25),t.qZA(),t.YNc(6,Js,2,1,"mat-error",16),t.qZA()()),2&f){const m=t.oxw(2);t.xp6(5),t.Q6J("ngForOf",m.typeBlessesArray),t.xp6(1),t.Q6J("ngIf",m.formInfoBlesses.controls.typeBlesses.errors)}}function Ac(f,D){1&f&&(t.TgZ(0,"div"),t._uU(1," ce champs est obligatoire"),t.qZA())}function Wo(f,D){if(1&f&&(t.TgZ(0,"mat-error",66),t.YNc(1,Ac,2,0,"div",17),t.qZA()),2&f){const m=t.oxw(2);t.xp6(1),t.Q6J("ngIf",m.formInfoBlesses.controls.nomBlesse.errors.required)}}function qt(f,D){1&f&&(t.TgZ(0,"div"),t._uU(1," ce champs est obligatoire"),t.qZA())}function an(f,D){if(1&f&&(t.TgZ(0,"mat-error",66),t.YNc(1,qt,2,0,"div",17),t.qZA()),2&f){const m=t.oxw(2);t.xp6(1),t.Q6J("ngIf",m.formInfoBlesses.controls.prenomBlesse.errors.required)}}function Gt(f,D){1&f&&(t.TgZ(0,"div"),t._uU(1," ce champs est obligatoire"),t.qZA())}function Wn(f,D){if(1&f&&(t.TgZ(0,"mat-error",66),t.YNc(1,Gt,2,0,"div",17),t.qZA()),2&f){const m=t.oxw(2);t.xp6(1),t.Q6J("ngIf",m.formInfoBlesses.controls.dateNaissanceBlesse.errors.required)}}function Qi(f,D){if(1&f&&(t.ynx(0),t.TgZ(1,"mat-option",70),t._uU(2),t.qZA(),t.BQk()),2&f){const m=D.$implicit;t.xp6(1),t.Q6J("value",m),t.xp6(1),t.Oqu(m.description)}}function xo(f,D){1&f&&(t.TgZ(0,"div"),t._uU(1," ce champs est obligatoire"),t.qZA())}function lr(f,D){if(1&f&&(t.TgZ(0,"mat-error",66),t.YNc(1,xo,2,0,"div",17),t.qZA()),2&f){const m=t.oxw(2);t.xp6(1),t.Q6J("ngIf",m.formInfoBlesses.controls.etatBlesse.errors.required)}}function ue(f,D){1&f&&(t.TgZ(0,"div"),t._uU(1," ce champs est obligatoire"),t.qZA())}function je(f,D){if(1&f&&(t.TgZ(0,"mat-error",66),t.YNc(1,ue,2,0,"div",17),t.qZA()),2&f){const m=t.oxw(2);t.xp6(1),t.Q6J("ngIf",m.formInfoBlesses.controls.contact.errors.required)}}function z(f,D){if(1&f){const m=t.EpF();t.TgZ(0,"form",154,114),t.NdJ("ngSubmit",function(){t.CHM(m);const j=t.MAs(1),be=t.oxw();return t.KtG(be.submitBlesse(j))}),t.YNc(2,qa,7,2,"div",19),t.TgZ(3,"div",11)(4,"mat-form-field",12)(5,"mat-label"),t._uU(6,"Nom "),t.qZA(),t._UZ(7,"input",155),t.YNc(8,Wo,2,1,"mat-error",16),t.qZA(),t.TgZ(9,"mat-form-field",12)(10,"mat-label"),t._uU(11,"Pr\xe9nom "),t.qZA(),t._UZ(12,"input",156),t.YNc(13,an,2,1,"mat-error",16),t.qZA()(),t.TgZ(14,"div",11)(15,"mat-form-field",12)(16,"mat-label"),t._uU(17,"Date naissance "),t.qZA(),t._UZ(18,"input",157)(19,"mat-datepicker-toggle",14)(20,"mat-datepicker",null,158),t.YNc(22,Wn,2,1,"mat-error",16),t.qZA(),t.TgZ(23,"mat-form-field",12)(24,"mat-label"),t._uU(25,"Etat sinistr\xe9 "),t.qZA(),t.TgZ(26,"mat-select",159),t.YNc(27,Qi,3,2,"ng-container",25),t.qZA(),t.YNc(28,lr,2,1,"mat-error",16),t.qZA()(),t.TgZ(29,"div",11)(30,"mat-form-field",12)(31,"mat-label"),t._uU(32,"Contact "),t.qZA(),t._UZ(33,"input",109),t.YNc(34,je,2,1,"mat-error",16),t.qZA()(),t.TgZ(35,"div",36)(36,"button",160),t._uU(37,"Ajouter bless\xe9/d\xe9\xe7\xe8s"),t.qZA()()()}if(2&f){const m=t.MAs(21),I=t.oxw();t.Q6J("formGroup",I.formInfoBlesses),t.xp6(2),t.Q6J("ngIf","45A"==I.codeProduit||"45F"==I.codeProduit||"45L"==I.codeProduit),t.xp6(6),t.Q6J("ngIf",I.formInfoBlesses.controls.nomBlesse.errors),t.xp6(5),t.Q6J("ngIf",I.formInfoBlesses.controls.prenomBlesse.errors),t.xp6(5),t.Q6J("matDatepicker",m)("max",I.today),t.xp6(1),t.Q6J("for",m),t.xp6(3),t.Q6J("ngIf",I.formInfoBlesses.controls.dateNaissanceBlesse.errors),t.xp6(5),t.Q6J("ngForOf",I.typesinistree),t.xp6(1),t.Q6J("ngIf",I.formInfoBlesses.controls.etatBlesse.errors),t.xp6(6),t.Q6J("ngIf",I.formInfoBlesses.controls.contact.errors)}}function ge(f,D){1&f&&(t.TgZ(0,"th",144),t._uU(1," Etat sinistr\xe9 "),t.qZA())}function we(f,D){if(1&f&&(t.TgZ(0,"td",145),t._uU(1),t.qZA()),2&f){const m=D.$implicit;t.xp6(1),t.hij(" ",null==m?null:m.etatBlesse," ")}}function wt(f,D){1&f&&(t.TgZ(0,"th",144),t._uU(1," Nom "),t.qZA())}function st(f,D){if(1&f&&(t.TgZ(0,"td",145),t._uU(1),t.qZA()),2&f){const m=D.$implicit;t.xp6(1),t.AsE(" ",null==m?null:m.nomBlesse," ",null==m?null:m.prenomBlesse,"")}}function Tn(f,D){1&f&&(t.TgZ(0,"th",144),t._uU(1," Date naissance "),t.qZA())}function Qo(f,D){if(1&f&&(t.TgZ(0,"td",145),t._uU(1),t.ALo(2,"date"),t.qZA()),2&f){const m=D.$implicit;t.xp6(1),t.hij(" ",t.xi3(2,1,null==m?null:m.dateNaissance,"dd/MM/yyyy"),"")}}function li(f,D){1&f&&(t.TgZ(0,"th",144),t._uU(1," type blesses/d\xe9c\xe8s "),t.qZA())}function To(f,D){if(1&f&&(t.TgZ(0,"td",145),t._uU(1),t.qZA()),2&f){const m=D.$implicit;t.xp6(1),t.hij(" ",null==m?null:m.typeBlesses,"")}}function Mo(f,D){1&f&&(t.ynx(0,165),t.YNc(1,li,2,0,"th",138),t.YNc(2,To,2,1,"td",139),t.BQk())}function Zo(f,D){1&f&&(t.TgZ(0,"th",144),t._uU(1," Action "),t.qZA())}function Wl(f,D){if(1&f){const m=t.EpF();t.TgZ(0,"td",145)(1,"button",146)(2,"mat-icon"),t._uU(3,"more_vert"),t.qZA()(),t.TgZ(4,"mat-menu",147,148)(6,"button",149),t.NdJ("click",function(){const be=t.CHM(m).$implicit,It=t.oxw(2);return t.KtG(It.deleteBlesses(be.idBlesse))}),t.TgZ(7,"mat-icon"),t._uU(8,"delete"),t.qZA(),t.TgZ(9,"span"),t._uU(10,"Supprimer blesses/d\xe9c\xe8s"),t.qZA()()()()}if(2&f){const m=t.MAs(5);t.xp6(1),t.Q6J("matMenuTriggerFor",m)}}function eu(f,D){1&f&&t._UZ(0,"tr",150)}function Tc(f,D){1&f&&t._UZ(0,"tr",151)}function Uo(f,D){if(1&f&&(t.TgZ(0,"table",135),t.ynx(1,162),t.YNc(2,ge,2,0,"th",138),t.YNc(3,we,2,1,"td",139),t.BQk(),t.ynx(4,137),t.YNc(5,wt,2,0,"th",138),t.YNc(6,st,2,2,"td",139),t.BQk(),t.ynx(7,163),t.YNc(8,Tn,2,0,"th",138),t.YNc(9,Qo,3,4,"td",139),t.BQk(),t.YNc(10,Mo,3,0,"ng-container",164),t.ynx(11,140),t.YNc(12,Zo,2,0,"th",138),t.YNc(13,Wl,11,1,"td",139),t.BQk(),t.YNc(14,eu,1,0,"tr",141),t.YNc(15,Tc,1,0,"tr",142),t.qZA()),2&f){const m=t.oxw();t.Q6J("dataSource",m.dataSourceBlesses),t.xp6(10),t.Q6J("ngIf","95"!=m.codeProduit&&"96"!=m.codeProduit),t.xp6(4),t.Q6J("matHeaderRowDef",m.displayedColumnsBlesses),t.xp6(1),t.Q6J("matRowDefColumns",m.displayedColumnsBlesses)}}function Ls(f,D){1&f&&t._UZ(0,"mat-paginator",166),2&f&&t.Q6J("pageSize",10)("pageSizeOptions",t.DdM(2,eo))}function sc(f,D){1&f&&(t.TgZ(0,"span"),t._uU(1,"Suivant"),t.qZA())}function Yc(f,D){1&f&&t._UZ(0,"mat-spinner",72)}function Go(f,D){if(1&f&&(t.TgZ(0,"div",167),t._uU(1),t.qZA()),2&f){const m=t.oxw();t.xp6(1),t.hij("Le sinistre ",m.codeSinistre," cr\xe9er avec succ\xe9es ")}}function yi(f,D){1&f&&t._uU(0,"R\xe9sum\xe9")}function Wr(f,D){1&f&&(t.TgZ(0,"td",80),t._uU(1,"Immatriculation :"),t.qZA())}function Li(f,D){if(1&f&&(t.TgZ(0,"td",81),t._uU(1),t.qZA()),2&f){const m=t.oxw(2);t.xp6(1),t.Oqu(null==m.resumeObject?null:m.resumeObject.immatriculation)}}function so(f,D){1&f&&(t.TgZ(0,"td",80),t._uU(1,"Adresse :"),t.qZA())}function Ll(f,D){if(1&f&&(t.TgZ(0,"td",81),t._uU(1),t.qZA()),2&f){const m=t.oxw(2);t.xp6(1),t.Oqu(null==m.resumeObject?null:m.resumeObject.adresse)}}function kr(f,D){if(1&f&&(t.TgZ(0,"tr")(1,"td",80),t._uU(2,"Wilaya :"),t.qZA(),t.TgZ(3,"td",81),t._uU(4),t.qZA(),t.TgZ(5,"td",80),t._uU(6,"Commune:"),t.qZA(),t.TgZ(7,"td",81),t._uU(8),t.qZA()()),2&f){const m=t.oxw(2);t.xp6(4),t.Oqu(null==m.resumeObject||null==m.resumeObject.wilaya?null:m.resumeObject.wilaya.description),t.xp6(4),t.Oqu(null==m.resumeObject||null==m.resumeObject.commune?null:m.resumeObject.commune.description)}}function Sa(f,D){if(1&f&&(t.TgZ(0,"table",168)(1,"tr")(2,"td",80),t._uU(3,"N\xb0police:"),t.qZA(),t.TgZ(4,"td",81),t._uU(5),t.qZA(),t.TgZ(6,"td",80),t._uU(7,"Nom & pr\xe9nom Assur\xe9: "),t.qZA(),t.TgZ(8,"td",81),t._uU(9),t.qZA()(),t.TgZ(10,"tr")(11,"td",80),t._uU(12,"Date d\xe9claration sinistre:"),t.qZA(),t.TgZ(13,"td",81),t._uU(14),t.qZA(),t.TgZ(15,"td",80),t._uU(16,"Origine de d\xe9claration:"),t.qZA(),t.TgZ(17,"td",81),t._uU(18),t.qZA()(),t.TgZ(19,"tr")(20,"td",80),t._uU(21,"Date de survenance :"),t.qZA(),t.TgZ(22,"td",81),t._uU(23),t.qZA(),t.TgZ(24,"td",80),t._uU(25,"Cause:"),t.qZA(),t.TgZ(26,"td",81),t._uU(27),t.qZA()(),t.TgZ(28,"tr")(29,"td",80),t._uU(30,"Nature dommage:"),t.qZA(),t.TgZ(31,"td",81),t._uU(32),t.qZA(),t.YNc(33,Wr,2,0,"td",82),t.YNc(34,Li,2,1,"td",169),t.YNc(35,so,2,0,"td",82),t.YNc(36,Ll,2,1,"td",169),t.qZA(),t.YNc(37,kr,9,2,"tr",17),t.TgZ(38,"tr")(39,"td",80),t._uU(40,"code risque:"),t.qZA(),t.TgZ(41,"td",81),t._uU(42),t.qZA(),t.TgZ(43,"td",80),t._uU(44,"Zone affect\xe9e :"),t.qZA(),t.TgZ(45,"td",81),t._uU(46),t.qZA()(),t._UZ(47,"tr"),t.qZA()),2&f){const m=t.oxw();t.xp6(5),t.Oqu(null==m.resumeObject?null:m.resumeObject.numPolice),t.xp6(4),t.AsE("",null==m.infoPolice||null==m.infoPolice.assure?null:m.infoPolice.assure.nom," ",null==m.infoPolice||null==m.infoPolice.assure?null:m.infoPolice.assure.prenom1," "),t.xp6(5),t.Oqu(null==m.resumeObject?null:m.resumeObject.dateDeclaration),t.xp6(4),t.Oqu(null==m.resumeObject?null:m.resumeObject.origineDeclaration),t.xp6(5),t.Oqu(null==m.resumeObject?null:m.resumeObject.dateSurvenance),t.xp6(4),t.Oqu(null==m.resumeObject?null:m.resumeObject.cause),t.xp6(5),t.Oqu(null==m.resumeObject?null:m.resumeObject.natureDommage),t.xp6(1),t.Q6J("ngIf","45A"==m.codeProduit||"45F"==m.codeProduit||"45L"==m.codeProduit),t.xp6(1),t.Q6J("ngIf","45A"==m.codeProduit||"45F"==m.codeProduit||"45L"==m.codeProduit),t.xp6(1),t.Q6J("ngIf","45A"!=m.codeProduit&&"45F"!=m.codeProduit&&"45L"!=m.codeProduit),t.xp6(1),t.Q6J("ngIf","45A"!=m.codeProduit&&"45F"!=m.codeProduit&&"45L"!=m.codeProduit),t.xp6(1),t.Q6J("ngIf","45A"!=m.codeProduit&&"45F"!=m.codeProduit&&"45L"!=m.codeProduit),t.xp6(5),t.Oqu(null==m.resumeObject?null:m.resumeObject.CodeRisque),t.xp6(4),t.Oqu(null==m.resumeObject?null:m.resumeObject.zoneAffecte)}}function Bo(f,D){1&f&&(t.TgZ(0,"span"),t._uU(1,"Enregistrer sinistre"),t.qZA())}function Oo(f,D){1&f&&t._UZ(0,"mat-spinner",72)}let da=(()=>{class f{constructor(m,I,j,be,It,ri,Mi,$s,ng){this.route=m,this.router=I,this.vehiculeService=j,this.agencesService=be,this.paramRisqueService=It,this.contratService=ri,this.genericService=Mi,this.sinistresService=$s,this.formBuilder=ng,this.today=new Date,this.maxDate=new Date,this.natureSinistre="",this.codeSinistre="",this.imatriculations=[],this.pays=[],this.loaderNature=!1,this.wilayas=[],this.communes=[],this.marques=[],this.models=[],this.vehiculesteps={step1:!1,step2:!1,step3:!1},this.submitedInfoSinistre=!1,this.submitedInfoVehicule=!1,this.companiesAdverse=[],this.zonesAffectees=[],this.filteredZonesAffectees=[],this.blessesTab=[],this.garantieList=[],this.dataSourceBlesses=new n.by,this.sinistreBody=new i,this.dateSurevance=new Date,this.numPolice="",this.errorBody={error:!1,msg:""},this.loaderSinistre=!1,this.indexTier=0,this.sinistreNotAllowed=!1,this.formVehiculeReady=!1,this.matriculeExist=!1,this.resumeReadu=!1,this.codeRisque="",this.labelAssure={label:"conducteur",type:"physique"},this.typesinistree=[],this.loaderZone=!1,this.originExist=!1,this.sumitedTier=!1,this.indexBlesse=0,this.tierExist=!1,this.formConducteurReady=!1,this.autoriteExist=!1,this.futurAssisteurExist=!1,this.policyExist=!1,this.listAssisteurExist=!1,this.blesseExist=!1,this.tiersClicked={blesse:!1,adversaire:!1,assistance:!1},this.idProduit=0,this.conducteurPersonne=new Z,this.adversairePersonne=new Z,this.blessePersonne=new Z,this.selectedIndex=0,this.mindDateDeclaration=new Date,this.infoSinistreStep={step1:!0,step2:!1},this.tierTab=[],this.dataSourceTier=new n.by,this.dateSurvenance={exist:!1,date:new Date},this.timeSurvenance={exist:!1,time:""},this.causesSinistreArray=[],this.agenceAdversesArray=[],this.filteredAgenceAdversesArray=[],this.originesSinistreArray=[],this.paramRisqueAll=[],this.agencesList=[],this.successSinistre=!1,this.disableZone=!1,this.infoPolice={},this.filterlistMatricules=[],this.tempArray=[{id:1,description:"exemple 1"},{id:2,description:"exemple 2"},{id:3,description:"exemple 3"}],this.tierRadioControl=new Q.NI,this.typeConducteursArray=[],this.assisteurs=[],this.typeAdversaireArray=[],this.typeBlessesArray=[],this.autorites=[{id:1,value:"Oui"},{id:2,value:"Non"}],this.doublonsZone=!1,this.disabledZone=!1,this.disabledTime=!0,this.dateTimeSurevance=null,this.tiersLength=0,this.blessesLength=0,this.multiRisque=!1,this.roleUser=JSON.parse(sessionStorage.getItem("roles")||""),this.sinistreRoles={"45A":["WEB_HELP","GESTIONNAIRE_SINISTRE","RESPONSABLE_SINISTRE","DIRECTEUR","CHEF_PROJET","ADMIN","ROLE_SUPER_ADMIN","ANALYSTE","GESTION_SINISTRE","GESTIONNAIRE_JUNIOR"],"45F":["WEB_HELP","GESTIONNAIRE_SINISTRE","RESPONSABLE_SINISTRE","DIRECTEUR","CHEF_PROJET","ADMIN","ROLE_SUPER_ADMIN","ANALYSTE","GESTION_SINISTRE","GESTIONNAIRE_JUNIOR"],"45L":["WEB_HELP","GESTIONNAIRE_SINISTRE","RESPONSABLE_SINISTRE","DIRECTEUR","CHEF_PROJET","ADMIN","ROLE_SUPER_ADMIN","ANALYSTE","GESTION_SINISTRE","GESTIONNAIRE_JUNIOR"],95:["WEB_HELP","GESTION_SINISTRE_MRH_MRP","RESPONSABLE_SINISTRE_MRH_MRP","ADMIN","ROLE_SUPER_ADMIN","ANALYSTE"],96:["WEB_HELP","GESTION_SINISTRE_MRH_MRP","RESPONSABLE_SINISTRE_MRH_MRP","ADMIN","ROLE_SUPER_ADMIN","ANALYSTE"]}}ngOnInit(){this.codeProduit=this.route.snapshot.paramMap.get("codeProduit"),this.produit=this.route.snapshot.paramMap.get("nameProduit"),this.sinistreBody.personnes=[],this.sinistreBody.auditUser=sessionStorage.getItem("userId"),this.displayedColumns="95"!=this.codeProduit&&"96"!=this.codeProduit?["typeAdversaire","name","action"]:["name","action"],this.displayedColumnsBlesses="95"!=this.codeProduit&&"96"!=this.codeProduit?["etatSinistree","name","dateNaissance","typeBlesse","action"]:["etatSinistree","name","dateNaissance","action"];let m=!1;this.roleUser.find(I=>{this.sinistreRoles[this.codeProduit+""].includes(I)&&(m=!0)}),m||this.router.navigate(["/dashboard"]),this.getProductId(),this.getAllParamRisque(),this.getAllAgences(),this.initFormPolice(),this.initFormInfoSinistre(),this.getPays(),this.initFormVehicule(),this.getDictionnaireList()}getProductId(){this.idProduit=JSON.parse(sessionStorage.getItem("products")||"{}")?.find(m=>m.codeProduit==this.codeProduit)?.idProduit,this.getInfoProduit()}getInfoProduit(){this.genericService.getPorduitById(this.idProduit).subscribe({next:m=>{this.multiRisque="Oui"==m?.param_Produit_Reponses?.filter(I=>"multirisque"==I?.idParamProduit?.libelle)[0]?.reponse?.description},error:m=>{console.log(m)}})}getAllParamRisque(){this.paramRisqueService.getParamByProduit(this.idProduit).subscribe({next:m=>{this.paramRisqueAll=m},error:m=>{console.log(m)}})}getAllAgences(){this.agencesService.getAllAgence().subscribe({next:m=>{this.agencesList=m},error:m=>{console.log(m)}})}getDictionnaireList(){this.genericService.getCause(JSON.parse(sessionStorage.getItem("dictionnaire")||"{}")?.find(m=>"C43"==m.code)?.idCategorie,this.codeProduit).subscribe(m=>{this.causesSinistreArray=m,this.filteredcausesSinistre=this.causesSinistreArray.slice()}),this.genericService.getParam(JSON.parse(sessionStorage.getItem("dictionnaire")||"{}")?.find(m=>"C44"==m.code)?.idCategorie).subscribe(m=>{this.originesSinistreArray=m}),this.genericService.getParam(JSON.parse(sessionStorage.getItem("dictionnaire")||"{}")?.find(m=>"C45"==m.code)?.idCategorie).subscribe(m=>{this.typeConducteursArray=m}),this.genericService.getParam(JSON.parse(sessionStorage.getItem("dictionnaire")||"{}")?.find(m=>"C46"==m.code)?.idCategorie).subscribe(m=>{this.typeAdversaireArray=m,("45F"==this.codeProduit||"45A"==this.codeProduit||"45L"==this.codeProduit)&&(this.typeAdversaireArray=this.typeAdversaireArray.filter(I=>"dv96"!==I.code))}),this.genericService.getParam(JSON.parse(sessionStorage.getItem("dictionnaire")||"{}")?.find(m=>"C47"==m.code)?.idCategorie).subscribe(m=>{this.typeBlessesArray=m}),this.genericService.getParam(JSON.parse(sessionStorage.getItem("dictionnaire")||"{}")?.find(m=>"C51"==m.code)?.idCategorie).subscribe(m=>{this.companiesAdverse=m}),this.genericService.getParam(JSON.parse(sessionStorage.getItem("dictionnaire")||"{}")?.find(m=>"C54"==m.code)?.idCategorie).subscribe(m=>{this.typesinistree=m}),this.genericService.getParam(JSON.parse(sessionStorage.getItem("dictionnaire")||"{}")?.find(m=>"C55"==m.code)?.idCategorie).subscribe(m=>{this.assisteurs=m})}initFormPolice(){this.formPolice=this.formBuilder.group({numPolice:["",[Q.kI.required]],dateSurvenance:[{value:"",disabled:!0},Q.kI.required],timeSurvenance:[{value:"",disabled:!0},Q.kI.required],immatriculation:[{value:"",disabled:!0},"95"!=this.codeProduit&&"96"!=this.codeProduit?[Q.kI.required]:[]]})}getPays(){this.genericService.getPays().subscribe({next:m=>{this.pays=m,this.formInfoSinistre.get("pays").setValue(this.pays.filter(I=>"DZA"==I.codePays)[0]?.idPays),this.getWilayas(this.pays.filter(I=>"DZA"==I.codePays)[0]?.idPays),this.getWilayasDelivrance()},error:m=>{console.log(m)}})}getWilayas(m){this.formInfoSinistre.get("wilayas").setValue(""),this.wilayas=[],this.genericService.getAllWilayas(m).subscribe({next:I=>{this.wilayas=I,this.formInfoSinistre.get("commune").setValue(""),this.communes=[]},error:I=>{console.log(I)}}),"DZA"==this.pays.filter(I=>I.idPays==m)[0]?.codePays&&"95"!=this.codeProduit&&"96"!=this.codeProduit?(this.formInfoSinistre.get("wilayas").enable(),this.formInfoSinistre.get("commune").enable(),this.formInfoSinistre.get("wilayas").setValidators([Q.kI.required]),this.formInfoSinistre.get("wilayas").updateValueAndValidity()):(this.formInfoSinistre.get("wilayas").disable(),this.formInfoSinistre.get("commune").disable(),this.formInfoSinistre.get("wilayas").setValidators([]),this.formInfoSinistre.get("wilayas").updateValueAndValidity())}getWilayasDelivrance(){this.genericService.getAllWilayas(this.pays.filter(m=>"DZA"==m.codePays)[0]?.idPays).subscribe({next:m=>{this.wilayasDelivrance=m},error:m=>{console.log(m)}})}getCommunes(m){this.genericService.getAllCommuneByWilaya(m).subscribe({next:I=>{this.communes=I},error:I=>{console.log(I)}})}onPoliceInput(m){this.numPolice.length>11&&this.numPolice.length<=16&&this.contratService.getPolicyExist(this.numPolice).subscribe({next:I=>{I.exist?(this.formPolice.get("dateSurvenance").enable(),this.formPolice.get("timeSurvenance").enable(),this.disabledTime=!1,this.errorBody.error=!1,this.errorBody.msg="",this.dataEffetContrat=I.dateEffet):(this.formPolice.controls.numPolice.setErrors({incorrect:!0}),this.formPolice.get("dateSurvenance").setValue(""),this.formPolice.get("timeSurvenance").setValue(""),this.formPolice.get("dateSurvenance").disable(),this.formPolice.get("timeSurvenance").disable(),this.errorBody.error=!0,this.errorBody.msg="Police inexistante.",xe().fire(this.errorBody.msg,"","error"))},error:I=>{console.log(I)}})}dateSurvenanceChange(m){if(""!=m){if(this.dateSurvenance.exist=!0,this.timeSurvenance.exist){this.mindDateDeclaration=this.formPolice.get("dateSurvenance").value;var I=o(this.formPolice.get("dateSurvenance").value,"ddd MMM D YYYY HH:mm:ss ZZ");let j=this.formPolice.get("timeSurvenance").value.split(":")[0],be=this.formPolice.get("timeSurvenance").value.split(":")[1];I.set({h:j,m:be}),this.dateTimeSurevance=I,"45A"==this.codeProduit||"45F"==this.codeProduit||"45L"==this.codeProduit?this.getMatricule(I.format()):this.matriculeExist=!0,this.contratService.getHistoriqueStatus({idContrat:this.numPolice,date:I}).subscribe({next:ri=>{this.matriculeExist=ri.status,ri.status||xe().fire("Cette police est r\xe9sili\xe9e avant la survenance du sinistre","","error")},error:ri=>{console.log(ri)}})}}else this.dateSurvenance.exist=!1;this.dateSurvenance.date=m}timeSurvenanceChange(m){if(""!=m){if(this.timeSurvenance.exist=!0,this.dateSurvenance.exist){var I=o(this.formPolice.get("dateSurvenance").value,"ddd MMM D YYYY HH:mm:ss ZZ");let j=this.formPolice.get("timeSurvenance").value.split(":")[0],be=this.formPolice.get("timeSurvenance").value.split(":")[1];I.set({h:j,m:be}),this.dateTimeSurevance=I,"45A"==this.codeProduit||"45F"==this.codeProduit||"45L"==this.codeProduit?this.getMatricule(I.format()):this.matriculeExist=!0,this.contratService.getHistoriqueStatus({idContrat:this.numPolice,date:I}).subscribe({next:ri=>{this.matriculeExist=ri.status,ri.status||xe().fire("Cette police est r\xe9sili\xe9e avant la survenance du sinistre","","error")},error:ri=>{console.log(ri)}})}}else this.timeSurvenance.exist=!1;this.timeSurvenance.time=m}getMatricule(m){this.contratService.getMatricule({idContrat:this.numPolice,date:m}).subscribe({next:j=>{0!=j.length?(this.matriculeExist=!0,this.idHisContrat=j.idHistorique,this.multiRisque?(this.formPolice.get("immatriculation").enable(),this.listMatricules=j.immatriculationList,this.filterlistMatricules=this.listMatricules.slice()):(this.formPolice.get("immatriculation").disable(),this.formPolice.get("immatriculation").setValue(j?.immatriculationList[j.immatriculationList.length-1]?.nimmatriculation),this.idRisque=j?.immatriculationList[j.immatriculationList.length-1]?.idRisque,this.idGroupe=j?.immatriculationList[j.immatriculationList.length-1]?.idGroupe)):(this.formPolice.get("immatriculation").setValue(null),this.matriculeExist=!1,xe().fire("Aucune immatriculation n'est li\xe9e au mouvement","","error"))},error:j=>{console.log(j)}})}submitInfoPolice(){if(this.dateSurevance=this.formPolice.get("dateSurvenance").value,this.formPolice.get("immatriculation").enable(),this.infoSinistreStep.step1=!1,("95"==this.codeProduit||"96"==this.codeProduit)&&(this.idHisContrat=0),this.formPolice.valid){this.formPolice.get("immatriculation").disable(),this.sinistreBody.numPolice=this.formPolice.get("numPolice").value,this.sinistreBody.dateSurvenance=this.dateTimeSurevance;let m=this.multiRisque?this.formPolice.get("immatriculation").value?.idRisque:this.idRisque,I=this.multiRisque?this.formPolice.get("immatriculation").value?.idGroupe:this.idGroupe;this.sinistresService.getPolicyInformationsByRisque({idContrat:this.sinistreBody?.numPolice,date:this.sinistreBody?.dateSurvenance,risque:m,groupe:I},this.idHisContrat).subscribe({next:be=>{0!=be.length?(this.sinistreBody.agenceContrat=be.agence?.codeAgence,this.sinistreBody.idHistorique=be.idHistorique,this.sinistreBody.produit=be.produit,this.infoPolice=be,this.infoPolice.assure=be.personnesList?.filter(It=>"CP235"==It?.role?.code||"CP236"==It?.role?.code||"CP238"==It?.role?.code||"CP240"==It?.role?.code)[0]?.personne,Object.assign(this.infoPolice.assure,"raisonSocial"in this.infoPolice.assure?{typePersonne:"personneMorale"}:{typePersonne:"personnePhysique"}),this.garantieList=this.infoPolice?.paramContratList,this.codeRisque=this.multiRisque?this.formPolice.get("immatriculation").value?.idRisque:this.infoPolice?.groupesList[0]?.risques[0]?.idRisque,this.sinistreBody.codeRisque=this.codeRisque,"45A"==this.codeProduit||"45F"==this.codeProduit||"45L"==this.codeProduit?(this.sinistreBody.immatriculation={idParam:this.paramRisqueAll?.filter(It=>"P38"==It?.paramRisque?.codeParam)[0]?.paramRisque?.idParamRisque,valeur:this.multiRisque?this.formPolice.get("immatriculation").value?.nimmatriculation:this.formPolice.get("immatriculation").value},this.setValeurVehicule()):(this.sinistreBody.adresse=this.infoPolice?.risqueList?.find(It=>"P245"==It.codeRisque||"P106"==It.codeRisque||"P141"==It.codeRisque)?.reponse?.valeur,this.sinistreBody.wilaya=this.infoPolice?.risqueList?.find(It=>"P246"==It.codeRisque||"P125"==It.codeRisque)?.reponse,this.sinistreBody.commune=this.infoPolice?.risqueList?.find(It=>"P247"==It.codeRisque||"P126"==It.codeRisque)?.reponse,this.setValeurBien()),this.policyExist=!0,this.controlDoublons(),this.sinistreBody.paramContratList=be.paramContratList):(this.policyExist=!1,xe().fire("Cette police n'existe pas","","error")),this.initFormConducteur()},error:be=>{this.infoSinistreStep.step1=!0,console.log(be),xe().fire(be,"","error")}})}else null==this.formPolice.get("immatriculation").value&&xe().fire("Aucune immatriculation n'est li\xe9e au mouvement","","error"),this.formPolice.get("immatriculation").disable()}initFormInfoSinistre(){this.formInfoSinistre=this.formBuilder.group({dateDeclaration:["",[Q.kI.required]],wilayas:["","45A"==this.codeProduit||"45F"==this.codeProduit||"45L"==this.codeProduit?[Q.kI.required]:[]],commune:["",[]],pays:["","45A"==this.codeProduit||"45F"==this.codeProduit||"45L"==this.codeProduit?[Q.kI.required]:[]],causeSinistre:["",[Q.kI.required]],originSinistre:[null,[Q.kI.required]],contactOrigine:["",[]],autorite:["",[Q.kI.required]],nomAutorite:["",[]],descriptionSinistre:["",[Q.kI.required]],agence:["",[Q.kI.required]],tauxResponsabilite:["",[Q.kI.required,Q.kI.pattern(w.e.number)]]})}submitInfoSinistre(){if(this.submitedInfoSinistre=!0,this.formInfoSinistre.valid){switch(this.sinistreBody.dateDeclaration=o(this.formInfoSinistre.get("dateDeclaration").value).format("YYYY-MM-DD"),this.sinistreBody.communeSurvenance=this.formInfoSinistre.get("commune").value,this.sinistreBody.wilayaSurvenance=this.formInfoSinistre.get("wilayas").value,this.sinistreBody.paysSurvenance=this.formInfoSinistre.get("pays").value,this.sinistreBody.causeSinistre={idParam:this.formInfoSinistre.get("causeSinistre").value?.idParam},this.sinistreBody.origineSinistre={idParam:this.formInfoSinistre.get("originSinistre").value?.idParam},this.sinistreBody.contactOrigine=this.formInfoSinistre.get("contactOrigine").value,this.sinistreBody.origineSinistre&&(this.sinistreBody.descriptionSinistre=this.formInfoSinistre.get("descriptionSinistre").value),this.sinistreBody.autorite=this.formInfoSinistre.get("nomAutorite").value,this.sinistreBody.agence=this.formInfoSinistre.get("agence").value,this.sinistreBody.tauxResponsabilite=this.formInfoSinistre.get("tauxResponsabilite").value,this.infoSinistreStep.step2=!0,this.causeSinistre=this.formInfoSinistre.get("causeSinistre").value?.code,this.defaultChoice=null,this.causeSinistre){case"AUT004":this.tierTab=[],this.sinistreBody.personnes=this.sinistreBody?.personnes?.filter(m=>"CP309"!=m?.typePersonne?.code&&"CP310"!=m?.typePersonne?.code&&"CP594"!=m?.typePersonne?.code),this.vehiculesteps.step3=!0;break;case"AUT016":case"AUT014":this.defaultChoiceBlesse=0,this.withBlesses(this.defaultChoiceBlesse);break;default:this.defaultChoiceBlesse=1,this.withBlesses(this.defaultChoiceBlesse),this.vehiculesteps.step3=!1}"45A"==this.codeProduit||"45F"==this.codeProduit||"45L"==this.codeProduit?(this.formInfoVehicule.get("zoneAffectee").setValue(""),this.vehiculesteps.step1=!1,this.getZoneByProduit(this.formInfoSinistre.get("causeSinistre").value?.idParam,null)):("95"==this.codeProduit||"96"==this.codeProduit)&&this.getZoneByProduit(this.formInfoSinistre.get("causeSinistre").value?.idParam,this.codeProduit)}}getZoneByProduit(m,I){this.genericService.getParamMrp(m,this.codeProduit).subscribe(j=>{this.stepper.next(),this.zonesAffectees=j,this.filteredZonesAffectees=this.zonesAffectees.slice()})}chooseOrigin(m){"CP304"==m.code?(this.formInfoSinistre.get("contactOrigine").setValidators([Q.kI.required]),this.formInfoSinistre.get("contactOrigine").updateValueAndValidity()):(this.formInfoSinistre.get("contactOrigine").setValidators([]),this.formInfoSinistre.get("contactOrigine").updateValueAndValidity()),this.originExist=!0}withAutorite(m){0==m?(this.formInfoSinistre.get("nomAutorite").setValidators([Q.kI.required]),this.formInfoSinistre.get("nomAutorite").updateValueAndValidity(),this.autoriteExist=!0):(this.formInfoSinistre.get("nomAutorite").setValidators([]),this.formInfoSinistre.get("nomAutorite").updateValueAndValidity(),this.autoriteExist=!1)}withAssisteur(m,I){this.tiersClicked.assistance=!0,"false"==m?(this.formInfoVehicule.get("futurAssisteur").setValidators([Q.kI.required]),this.formInfoVehicule.get("futurAssisteur").updateValueAndValidity(),this.futurAssisteurExist=!0,this.listAssisteurExist=!1):"true"==m&&(this.formInfoVehicule.get("listAssisteur").setValidators([Q.kI.required]),this.formInfoVehicule.get("listAssisteur").updateValueAndValidity(),1==I?(this.formInfoVehicule.get("futurAssisteur").setValidators([]),this.formInfoVehicule.get("futurAssisteur").updateValueAndValidity(),this.sinistreBody.appelAssisteur=!1,this.futurAssisteurExist=!1):this.sinistreBody.appelAssisteur=!0,this.listAssisteurExist=!0)}controlDoublonsWithZone(m){let I={idContrat:this.sinistreBody?.numPolice,codeRisque:this.sinistreBody?.codeRisque,dateSurvenance:this.sinistreBody?.dateSurvenance,zoneAffecte:{idParam:m?.idParam}};this.doublonsZone=!0,this.disabledZone=!0,this.loaderZone=!1,this.sinistresService.getIfExisteDoublonWithZone(I).subscribe({next:j=>{this.disabledZone=!1,this.loaderZone=!0,j.statut?(this.doublonsZone=!1,xe().fire("Attention , un sinistre existe d\xe9j\xe0 sous le N\xb0"+j.messageStatut+"\n          \xc7a sera un message bloquant \n          ","","error")):this.vehiculesteps.step1=!0},error:j=>{this.loaderZone=!0,console.log(j)}})}controlDoublons(){this.sinistresService.getIfExisteDoublon({idContrat:this.sinistreBody?.numPolice,codeRisque:this.sinistreBody?.codeRisque,dateSurvenance:this.sinistreBody?.dateSurvenance,zoneAffecte:null}).subscribe({next:I=>{this.stepper.next(),this.infoSinistreStep.step1=!0,I.statut&&xe().fire("Attention , un sinistre existe d\xe9j\xe0 pour ce v\xe9hicule avec la m\xeame date de survenance ","","warning")},error:I=>{this.infoSinistreStep.step1=!0,console.log(I),xe().fire(I,"","error")}})}setValeurBien(){this.formInfoVehicule.get("codeRisque").setValue(this.sinistreBody?.codeRisque),this.formInfoVehicule.get("nom").setValue(this.infoPolice?.assure?.nom),this.formInfoVehicule.get("prenom").setValue(this.infoPolice?.assure?.prenom1),this.formInfoVehicule.get("adresse").setValue(this.sinistreBody?.adresse),this.formInfoVehicule.get("wilaya").setValue(+this.sinistreBody?.wilaya?.valeur),this.getCommunes(this.sinistreBody?.wilaya?.valeur),this.formInfoVehicule.get("commune").setValue(+this.sinistreBody?.commune?.valeur),this.formVehiculeReady=!0}setValeurVehicule(){this.formInfoVehicule.get("codeRisque").setValue(this.sinistreBody?.codeRisque);let m=this.infoPolice?.risqueList?.filter(I=>"P25"==I?.codeRisque)[0];this.formInfoVehicule.get("marque").setValue(m?.reponse?.idParamReponse?.description),m=this.infoPolice?.risqueList?.filter(I=>"P26"==I?.codeRisque)[0],this.formInfoVehicule.get("modele").setValue(m?.reponse?.idParamReponse?.description),this.formInfoVehicule.get("immatriculation").setValue(this.sinistreBody?.immatriculation?.valeur),m=this.infoPolice?.risqueList?.filter(I=>"P30"==I?.codeRisque)[0],this.formInfoVehicule.get("numChassis").setValue(m?.valeur),this.formVehiculeReady=!0}initFormVehicule(){this.formInfoVehicule=this.formBuilder.group({codeRisque:[{value:"",disabled:!0},[Q.kI.required]],marque:[{value:"",disabled:!0},"45A"==this.codeProduit||"45F"==this.codeProduit||"45L"==this.codeProduit?[Q.kI.required]:[]],modele:[{value:"",disabled:!0},"45A"==this.codeProduit||"45F"==this.codeProduit||"45L"==this.codeProduit?[Q.kI.required]:[]],immatriculation:[{value:"",disabled:!0},"45A"==this.codeProduit||"45F"==this.codeProduit||"45L"==this.codeProduit?[Q.kI.required]:[]],numChassis:[{value:"",disabled:!0},"45A"==this.codeProduit||"45F"==this.codeProduit||"45L"==this.codeProduit?[Q.kI.required]:[]],zoneAffectee:["",[Q.kI.required]],canCirculate:["","45A"==this.codeProduit||"45F"==this.codeProduit||"45L"==this.codeProduit?[Q.kI.required]:[]],assisteur:["",[Q.kI.required]],futurAssisteur:["",[]],listAssisteur:[null,[]],nom:[{value:"",disabled:!0},[Q.kI.required]],prenom:[{value:"",disabled:!0},[Q.kI.required]],adresse:[{value:"",disabled:!0},[Q.kI.required]],wilaya:[{value:"",disabled:!0},[Q.kI.required]],commune:[{value:"",disabled:!0},[Q.kI.required]]})}submitInfoVehicule(){this.submitedInfoVehicule=!0,this.formInfoVehicule.valid&&(this.sinistreBody.zoneAffecte={idParam:this.formInfoVehicule.get("zoneAffectee").value?.idParam},this.sinistreBody.canCirculate=this.formInfoVehicule.get("canCirculate").value,this.formInfoVehicule.get("assisteur")?(this.sinistreBody.assisteurExist=this.formInfoVehicule.get("assisteur").value,this.sinistreBody.idAssisteur={idParam:this.formInfoVehicule.get("listAssisteur").value}):this.formInfoVehicule.get("futurAssisteur")?(this.sinistreBody.assisteurExist=this.formInfoVehicule.get("futurAssisteur").value,this.sinistreBody.idAssisteur={idParam:this.formInfoVehicule.get("listAssisteur").value}):(this.sinistreBody.assisteurExist=!1,this.sinistreBody.idAssisteur=null),this.stepperInfoVehicule.next(),"45A"!=this.codeProduit&&(this.vehiculesteps.step2=!0))}getZonesByCause(m){this.formInfoVehicule.get("zoneAffectee").setValue(""),this.vehiculesteps.step1=!1,this.sinistresService.getByLien(m).subscribe({next:I=>{this.stepper.next(),this.zonesAffectees=I,this.filteredZonesAffectees=this.zonesAffectees.slice()},error:I=>{console.log(I)}})}getAgenceAdverse(m){this.sinistresService.getByLien(m).subscribe({next:I=>{this.agenceAdversesArray=I,this.filteredAgenceAdversesArray=this.agenceAdversesArray.slice()},error:I=>{console.log(I)}})}initFormConducteur(){this.formConducteurReady=!0,this.formInfoConducteur=this.formBuilder.group({typeConducteur:["",[Q.kI.required]],nomConducteur:["",Q.kI.required],prenomConducteur:["",Q.kI.required],numPermis:["",Q.kI.required],dateDelivrance:["",Q.kI.required],lieuDelivrance:["",Q.kI.required],adresse:["",[]],contact:["",[]]}),"45F"==this.codeProduit&&(this.formInfoConducteur.setControl("typeConducteur",new Q.NI({value:this.typeConducteursArray?.find(m=>"CP308"==m?.code),disabled:!0})),this.changeTypeConducteur(this.typeConducteursArray?.find(m=>"CP308"==m?.code)))}changeTypeConducteur(m){if(this.conducteurPersonne=new Z,this.typeConducteur=m,"CP306"==m.code||"CP307"==m.code){let I;"CP307"==m.code?(this.labelAssure.label="conducteur habituel",this.labelAssure.type="physique",I=this.infoPolice?.personnesList?.filter(j=>"CP233"==j?.role?.code||"CP237"==j?.role?.code||"CP238"==j?.role?.code||"CP240"==j?.role?.code)[0]?.personne,I.hasOwnProperty("nom")||""!=I?.personne?.nom?(this.formInfoConducteur.get("nomConducteur").setValue(I?.nom),this.formInfoConducteur.get("prenomConducteur").setValue(I?.prenom1),this.conducteurError=!1):this.conducteurError=!0):(I=this.infoPolice?.assure,this.labelAssure.label="assure",this.labelAssure.type="physique",this.formInfoConducteur.get("nomConducteur").setValue(I?.nom),this.formInfoConducteur.get("prenomConducteur").setValue(I?.prenom1)),this.formInfoConducteur.get("numPermis").setValue(I?.documentList?.filter(j=>"D02"==j?.typeDocument?.code)[0]?.description),this.formInfoConducteur.get("lieuDelivrance").setValue(Number(this.infoPolice?.risqueList?.filter(j=>"P56"==j?.codeParam)[0]?.valeur)),this.formInfoConducteur.get("adresse").setValue(I?.adressesList[0]?.description),this.formInfoConducteur.get("contact").setValue(I?.contactList[0]?.description),this.formInfoConducteur.disable(),"45F"!=this.codeProduit&&this.formInfoConducteur.get("typeConducteur").enable(),this.formInfoConducteur.get("dateDelivrance").enable(),this.formInfoConducteur.get("numPermis").enable(),this.formInfoConducteur.get("lieuDelivrance").enable()}else this.formInfoConducteur.get("nomConducteur").setValue(""),this.formInfoConducteur.get("prenomConducteur").setValue(""),this.formInfoConducteur.get("numPermis").setValue(""),this.formInfoConducteur.get("dateDelivrance").setValue(""),this.formInfoConducteur.get("lieuDelivrance").setValue(""),this.formInfoConducteur.get("adresse").setValue(""),this.formInfoConducteur.get("contact").setValue(""),this.formInfoConducteur.enable()}submitInfoConducteur(){if(this.formInfoConducteur.valid){this.vehiculesteps.step2=!0,this.conducteurPersonne.nomConducteur=this.formInfoConducteur.get("nomConducteur").value,this.conducteurPersonne.prenomConducteur=this.formInfoConducteur.get("prenomConducteur").value,this.conducteurPersonne.typePersonne={idParam:this.typeConducteur.idParam,code:this.typeConducteur.code},this.conducteurPersonne.paramRisque=[];let m=this.paramRisqueAll?.filter(j=>"P56"==j?.paramRisque?.codeParam)[0];this.conducteurPersonne.paramRisque.push({idParam:m?.paramRisque?.idParamRisque,valeur:this.formInfoConducteur.get("lieuDelivrance").value,idReponse:this.wilayasDelivrance?.filter(j=>j?.idWilaya==this.formInfoConducteur.get("lieuDelivrance").value)[0]?.idWilaya}),this.conducteurPersonne.adresse=this.formInfoConducteur.get("adresse").value,this.conducteurPersonne.contact=this.formInfoConducteur.get("contact").value,this.conducteurPersonne.numeroPermis=this.formInfoConducteur.get("numPermis").value,this.conducteurPersonne.dateDelivrance=this.formInfoConducteur.get("dateDelivrance").value;let I=this.sinistreBody?.personnes?.findIndex(j=>"CP308"==j?.typePersonne?.code||"CP307"==j?.typePersonne?.code||"CP306"==j?.typePersonne?.code);-1!==I?this.sinistreBody.personnes[I]=this.conducteurPersonne:this.sinistreBody.personnes.push(this.conducteurPersonne),this.conducteurPersonne=new Z,this.stepperInfoVehicule.next()}}withTier(m){this.tiersClicked.adversaire=!0,"true"==m&&"AUT004"!=this.causeSinistre?(this.initFormAdversaire(),this.getMarque()):"AUT004"==this.causeSinistre&&"true"==m?(this.tierExist=!1,xe().fire("cause \xab choc fortuit \xbb ne doit pas avoir un tiers, veuillez modifier la cause ","","error")):"false"==m&&"AUT005"==this.causeSinistre?xe().fire("Tiers obligatoire  si cause \xab collision \xbb, veuillez modifier la cause","","error"):"false"==m&&(this.vehiculesteps.step3=!0,this.tierExist=!1,this.tierTab=[],this.dataSourceTier.data=[])}getMarque(){this.vehiculeService.getAllMarque().subscribe({next:m=>{this.marques=m},error:m=>{console.log(m)}})}getModel(m){this.vehiculeService.getModelByMarque(m).subscribe({next:I=>{this.models=I},error:I=>{console.log(I)}})}initFormAdversaire(){this.tierExist=!0,this.formInfoAdversaire=this.formBuilder.group({typeAdversaire:["","95"==this.codeProduit||"96"==this.codeProduit?[]:[Q.kI.required]],isFamily:["","95"==this.codeProduit||"96"==this.codeProduit?[]:[Q.kI.required]],nomAdversaire:["",Q.kI.required],prenomAdversaire:["",Q.kI.required],companyAdverse:[null,[Q.kI.required]],agenceAdverse:[null,[]],numPolice:[null,[]],contact:[null,[]],nomConducteurAdverse:[null,[]],prenomConducteurAdverse:[null,[]],numPermisConducteurAdverse:[null,[]],dateDelivranceAdverse:[null,[]],lieuDelivranceAdverse:[null,[]],marqueVehiculeAdverse:[null,[]],modeleVehiculeAdverse:[null,[]],immatriculationVehiculeAdverse:[null,[]],assure:[{value:!0,disabled:"45A"==this.codeProduit||"45F"==this.codeProduit||"45L"==this.codeProduit}]})}tiersAssure(m){m?(this.formInfoAdversaire.get("companyAdverse").setValidators([Q.kI.required]),this.formInfoAdversaire.get("companyAdverse").updateValueAndValidity([Q.kI.required])):(this.formInfoAdversaire.get("companyAdverse").setValidators([]),this.formInfoAdversaire.get("companyAdverse").updateValueAndValidity([]))}changeTypeAdversaire(m){this.typeAdversaireSelected=m,"CP309"==m.code?(this.formInfoAdversaire.get("agenceAdverse").setValidators([Q.kI.required]),this.formInfoAdversaire.get("isFamily").setValidators([Q.kI.required]),this.formInfoAdversaire.get("agenceAdverse").updateValueAndValidity([Q.kI.required]),this.formInfoAdversaire.get("numPolice").setValidators([Q.kI.required]),this.formInfoAdversaire.get("numPolice").updateValueAndValidity([Q.kI.required]),this.formInfoAdversaire.get("nomConducteurAdverse").setValidators([Q.kI.required]),this.formInfoAdversaire.get("nomConducteurAdverse").updateValueAndValidity([Q.kI.required]),this.formInfoAdversaire.get("prenomConducteurAdverse").setValidators([Q.kI.required]),this.formInfoAdversaire.get("prenomConducteurAdverse").updateValueAndValidity([Q.kI.required]),this.formInfoAdversaire.get("numPermisConducteurAdverse").setValidators([Q.kI.required]),this.formInfoAdversaire.get("numPermisConducteurAdverse").updateValueAndValidity([Q.kI.required]),this.formInfoAdversaire.get("dateDelivranceAdverse").setValidators([Q.kI.required]),this.formInfoAdversaire.get("dateDelivranceAdverse").updateValueAndValidity([Q.kI.required]),this.formInfoAdversaire.get("lieuDelivranceAdverse").setValidators([Q.kI.required]),this.formInfoAdversaire.get("lieuDelivranceAdverse").updateValueAndValidity([Q.kI.required]),this.formInfoAdversaire.get("marqueVehiculeAdverse").setValidators([Q.kI.required]),this.formInfoAdversaire.get("marqueVehiculeAdverse").updateValueAndValidity([Q.kI.required]),this.formInfoAdversaire.get("modeleVehiculeAdverse").setValidators([Q.kI.required]),this.formInfoAdversaire.get("modeleVehiculeAdverse").updateValueAndValidity([Q.kI.required]),this.formInfoAdversaire.get("immatriculationVehiculeAdverse").setValidators([Q.kI.required]),this.formInfoAdversaire.get("immatriculationVehiculeAdverse").updateValueAndValidity([Q.kI.required])):(this.formInfoAdversaire.get("isFamily").setValidators([]),this.formInfoAdversaire.get("isFamily").updateValueAndValidity([]),this.formInfoAdversaire.get("agenceAdverse").setValidators([]),this.formInfoAdversaire.get("agenceAdverse").updateValueAndValidity([]),this.formInfoAdversaire.get("numPolice").setValidators([]),this.formInfoAdversaire.get("numPolice").updateValueAndValidity(),this.formInfoAdversaire.get("nomConducteurAdverse").setValidators([]),this.formInfoAdversaire.get("nomConducteurAdverse").updateValueAndValidity([]),this.formInfoAdversaire.get("prenomConducteurAdverse").setValidators([]),this.formInfoAdversaire.get("prenomConducteurAdverse").updateValueAndValidity([]),this.formInfoAdversaire.get("numPermisConducteurAdverse").setValidators([]),this.formInfoAdversaire.get("numPermisConducteurAdverse").updateValueAndValidity([]),this.formInfoAdversaire.get("dateDelivranceAdverse").setValidators([]),this.formInfoAdversaire.get("dateDelivranceAdverse").updateValueAndValidity([]),this.formInfoAdversaire.get("lieuDelivranceAdverse").setValidators([]),this.formInfoAdversaire.get("lieuDelivranceAdverse").updateValueAndValidity([]),this.formInfoAdversaire.get("marqueVehiculeAdverse").setValidators([]),this.formInfoAdversaire.get("marqueVehiculeAdverse").updateValueAndValidity([]),this.formInfoAdversaire.get("modeleVehiculeAdverse").setValidators([]),this.formInfoAdversaire.get("modeleVehiculeAdverse").updateValueAndValidity([]),this.formInfoAdversaire.get("immatriculationVehiculeAdverse").setValidators([]),this.formInfoAdversaire.get("immatriculationVehiculeAdverse").updateValueAndValidity([]))}submitTier(m){if(this.sumitedTier=!0,this.formInfoAdversaire.valid){if(this.vehiculesteps.step3=!0,this.adversairePersonne.nom=this.formInfoAdversaire.get("nomAdversaire").value,this.adversairePersonne.prenom=this.formInfoAdversaire.get("prenomAdversaire").value,this.adversairePersonne.companyAdverse={idParam:this.formInfoAdversaire.get("companyAdverse").value},this.adversairePersonne.agenceAdverse=""==this.formInfoAdversaire.get("agenceAdverse").value?null:{idParam:this.formInfoAdversaire.get("agenceAdverse").value},this.adversairePersonne.numPoliceAdverse=this.formInfoAdversaire.get("numPolice").value,"95"!=this.codeProduit&&"96"!=this.codeProduit){if(this.adversairePersonne.typePersonne={idParam:this.typeAdversaireSelected?.idParam,code:this.typeAdversaireSelected?.code},this.adversairePersonne.nomConducteur=this.formInfoAdversaire.get("nomConducteurAdverse").value,this.adversairePersonne.prenomConducteur=this.formInfoAdversaire.get("prenomConducteurAdverse").value,this.adversairePersonne.numeroPermis=this.formInfoAdversaire.get("numPermisConducteurAdverse").value,this.adversairePersonne.dateDelivrance=this.formInfoAdversaire.get("dateDelivranceAdverse").value,this.adversairePersonne.isFamilly=this.formInfoAdversaire.get("isFamily").value,"CP309"==this.typeAdversaireSelected.code){let I=[{value:this.formInfoAdversaire.get("lieuDelivranceAdverse").value?.idWilaya,description:this.formInfoAdversaire.get("lieuDelivranceAdverse").value?.description,code:"P56"},{value:this.formInfoAdversaire.get("marqueVehiculeAdverse").value?.idParam,description:this.formInfoAdversaire.get("marqueVehiculeAdverse").value?.marque,code:"P25"},{value:this.formInfoAdversaire.get("modeleVehiculeAdverse").value?.idParam,description:this.formInfoAdversaire.get("modeleVehiculeAdverse").value?.modele,code:"P26"},{value:this.formInfoAdversaire.get("immatriculationVehiculeAdverse").value,code:"P38"}];this.adversairePersonne.paramRisque=[],I?.forEach(j=>this.setParam(j))}}else this.adversairePersonne.typePersonne={idParam:this.typeAdversaireArray?.find(I=>"CP309"==I?.code)?.idParam,code:"CP309"};Object.assign(this.formInfoAdversaire.value,{idTier:this.indexTier}),this.adversairePersonne.idPersonne=this.indexTier,this.sinistreBody.personnes.push(this.adversairePersonne),this.adversairePersonne=new Z,this.tierTab.push(this.formInfoAdversaire.value),this.tiersLength=this.tierTab.length,this.defaultChoice=!0,this.dataSourceTier.data=this.tierTab,m.resetForm(),this.formInfoAdversaire.reset(),this.formInfoAdversaire.get("assure").setValue(!0)}this.indexTier=this.indexTier+1}setParam(m){let I=this.paramRisqueAll?.filter(j=>j?.paramRisque?.codeParam==m?.code)[0];this.adversairePersonne.paramRisque.push("L01"==I.typeChamp?.code?{idParam:this.paramRisqueAll?.filter(j=>j?.paramRisque?.codeParam==m?.code)[0]?.paramRisque?.idParamRisque,valeur:"",idReponse:m.value}:"P56"==I?.paramRisque?.codeParam||"P26"==I?.paramRisque?.codeParam||"P25"==I?.paramRisque?.codeParam?{idParam:this.paramRisqueAll?.filter(j=>j?.paramRisque?.codeParam==m?.code)[0]?.paramRisque?.idParamRisque,valeur:m.description,idReponse:m.value}:{idParam:this.paramRisqueAll?.filter(j=>j?.paramRisque?.codeParam==m?.code)[0]?.paramRisque?.idParamRisque,valeur:m.value,idReponse:null})}deleteTier(m){this.tierTab=this.tierTab?.filter(function(I){return I.idTier!==m}),this.tiersLength=this.tierTab.length,0==this.tiersLength&&(this.defaultChoice=null),this.sinistreBody?.personnes?.filter(function(I){return I?.idpersonne!==m}),this.dataSourceTier.data=this.tierTab}withBlesses(m){this.tiersClicked.blesse=!0,0==m?(this.blesseExist=!0,this.initFormBlesses()):(this.blesseExist=!1,this.blessesTab=[],this.dataSourceBlesses.data=[],null!=this.formInfoBlesses&&(this.formInfoBlesses.get("typeBlesses").setValidators([]),this.formInfoBlesses.get("typeBlesses").updateValueAndValidity(),this.formInfoBlesses.get("etatBlesse").setValidators([]),this.formInfoBlesses.get("etatBlesse").updateValueAndValidity()))}initFormBlesses(){this.formInfoBlesses=this.formBuilder.group({typeBlesses:["","95"==this.codeProduit||"96"==this.codeProduit?[]:[Q.kI.required]],nomBlesse:[""],prenomBlesse:[""],dateNaissanceBlesse:[""],etatBlesse:["",[Q.kI.required]],contact:[""]})}submitBlesse(m){this.formInfoBlesses.valid&&(this.blessePersonne.typePersonne="95"!=this.codeProduit&&"96"!=this.codeProduit?{idParam:this.formInfoBlesses.get("typeBlesses").value?.idParam}:{idParam:this.typeBlessesArray?.find(I=>"TP98"==I.code)?.idParam},this.blessePersonne.nom=this.formInfoBlesses.get("nomBlesse").value,this.blessePersonne.prenom=this.formInfoBlesses.get("prenomBlesse").value,this.blessePersonne.dateNaissance=this.formInfoBlesses.get("dateNaissanceBlesse").value,this.blessePersonne.etatSinistre={idParam:this.formInfoBlesses.get("etatBlesse").value?.idParam},this.blessePersonne.contact=this.formInfoBlesses.get("contact").value,this.blessesTab.push({idBlesse:this.indexBlesse,typeBlesses:"95"!=this.codeProduit&&"96"!=this.codeProduit?this.formInfoBlesses.get("typeBlesses").value?.description:"",nomBlesse:this.formInfoBlesses.get("nomBlesse").value,prenomBlesse:this.formInfoBlesses.get("prenomBlesse").value,etatBlesse:this.formInfoBlesses.get("etatBlesse").value?.description,dateNaissance:this.formInfoBlesses.get("dateNaissanceBlesse").value}),this.blessesLength=this.blessesTab.length,this.defaultChoiceBlesse=!0,this.blessePersonne.idPersonne=this.indexBlesse,this.sinistreBody.personnes.push(this.blessePersonne),this.blessePersonne=new Z,this.dataSourceBlesses.data=this.blessesTab,m.resetForm(),this.formInfoBlesses.reset(),this.indexBlesse=this.indexBlesse+1)}deleteBlesses(m){this.blessesTab=this.blessesTab?.filter(I=>I?.idBlesse!==m),this.blessesLength=this.blessesTab.length,0==this.blessesLength&&(this.defaultChoiceBlesse=null),this.sinistreBody.personnes=this.sinistreBody?.personnes?.filter(I=>I?.idPersonne!=m),this.dataSourceBlesses.data=this.blessesTab}goToStep(m){3==m?this.vehiculesteps.step1&&this.vehiculesteps.step2&&this.vehiculesteps.step3&&(null!=this.defaultChoice||"AUT004"==this.causeSinistre)&&this.stepperH.next():(this.stepperH.next(),this.stepperInfoVehicule.selectedIndex=0)}getNature(){(this.blesseExist&&0!=this.blessesTab.length||!this.blesseExist&&this.tiersClicked?.blesse)&&(this.loaderNature=!0,this.sinistresService.getNatureSinistre({codeProduit:this.sinistreBody?.produit?.codeProduit,idZoneAffecte:this.sinistreBody?.zoneAffecte?.idParam,existTier:0===this.tierTab.length?0:1,existBlesse:0===this.blessesTab.length?0:1}).subscribe({next:I=>{this.loaderNature=!1,this.natureSinistre=I,this.sinistreBody.natureDommage=I,this.stepperH.next(),this.goToResume()},error:I=>{this.loaderNature=!1}}))}goToResume(){this.resumeObject={numPolice:this.sinistreBody?.numPolice,dateDeclaration:o(this.sinistreBody?.dateDeclaration).format("YYYY-MM-DD"),dateSurvenance:o(this.sinistreBody?.dateSurvenance).format("YYYY-MM-DD"),CodeRisque:this.sinistreBody?.codeRisque,natureDommage:this.natureSinistre,adversaire:{nom:this.sinistreBody?.personnes?.filter(m=>"CP309"==m?.typePersonne?.code||"CP310"==m?.typePersonne?.code)[0]?.nom,prenom:this.sinistreBody?.personnes?.filter(m=>"CP309"==m?.typePersonne?.code||"CP309"==m?.typePersonne?.code)[0]?.prenom,typeAdversaire:this.sinistreBody?.personnes?.filter(m=>"CP309"==m?.typePersonne?.code?"V\xe9hicule":"CP310"==m?.typePersonne?.code?"Objet":void 0)},origineDeclaration:this.originesSinistreArray?.filter(m=>m?.idParam==this.sinistreBody?.origineSinistre?.idParam)[0]?.description,cause:this.causesSinistreArray?.filter(m=>m?.idParam==this.sinistreBody?.causeSinistre?.idParam)[0]?.description,immatriculation:"45A"==this.codeProduit||"45F"==this.codeProduit||"45L"==this.codeProduit?this.sinistreBody?.immatriculation?.valeur:"",zoneAffecte:this.zonesAffectees?.filter(m=>m?.idParam==this.sinistreBody?.zoneAffecte?.idParam)[0]?.description,adresse:this.sinistreBody?.adresse,wilaya:this.sinistreBody?.wilaya,commune:this.sinistreBody?.commune},this.resumeReadu=!0}submitSinitre(){var I,m=this;this.loaderSinistre=!0,this.sinistresService.addSinistre(this.sinistreBody).subscribe({next:(I=(0,Le.Z)(function*(j){m.successSinistre=!0,m.loaderSinistre=!1,m.codeSinistre=j?.codeSinistre,xe().fire({title:"Voulez-vous cr\xe9e une mission d'expertise pour le  sinistre N\xb0 "+m.codeSinistre,icon:"info",showCancelButton:!0,cancelButtonText:"non",confirmButtonText:"oui"}).then(be=>{m.router.navigate(be.isConfirmed?["gestion-missionsExpertise/gestion-mission-expertise/"+j?.idSinistre+"/creation-mission-expertise"]:["/gestion-sinistre/"+m.codeProduit+"/automobileMono"])})}),function(be){return I.apply(this,arguments)}),error:I=>{this.successSinistre=!1,this.handleError(I),this.loaderSinistre=!1,console.log(I)}})}handleError(m){switch(m.status){case 500:this.errorBody.error=!0,this.errorBody.msg="Erreur syst\xe8me, veuillez contacter l'administrateur.";break;case 402:this.errorBody.error=!0,this.errorBody.msg="Erreur lors de la validation du devis, veuillez contacter l'administrateur.";break;case 404:this.errorBody.error=!0,this.errorBody.msg=m.message}}show(){}goback(m){"vehiculeInfo"==m?this.stepperInfoVehicule.previous():"h"==m?this.stepperH.previous():this.stepper.previous()}}return f.\u0275fac=function(m){return new(m||f)(t.Y36(ee.gz),t.Y36(ee.F0),t.Y36(Ft.t),t.Y36(ln.e),t.Y36(ut.D),t.Y36(ot.H),t.Y36(tt.M),t.Y36(Zt.m),t.Y36(Q.qu))},f.\u0275cmp=t.Xpm({type:f,selectors:[["app-create-sinistre"]],viewQuery:function(m,I){if(1&m&&(t.Gf(Kt,5),t.Gf(hi,5),t.Gf($i,5)),2&m){let j;t.iGM(j=t.CRH())&&(I.stepper=j.first),t.iGM(j=t.CRH())&&(I.stepperH=j.first),t.iGM(j=t.CRH())&&(I.stepperInfoVehicule=j.first)}},decls:137,vars:47,consts:[[1,"container"],[1,"header-container"],[1,"header-title",3,"click"],["aria-label","directions_car",1,"mat-icon","notranslate","material-symbols-outlined","material-icons","mat-icon-no-color"],["linear",""],["stepperH",""],["matStepLabel",""],["stepper",""],["class","alert alert-danger",4,"ngIf"],["class","container formPolice",3,"formGroup","ngSubmit",4,"ngIf"],[1,"container","infoSinistre",3,"formGroup","ngSubmit"],[1,"row"],["appearance","outline",1,"col-md-5"],["matInput","","formControlName","dateDeclaration",3,"matDatepicker","min","max"],["matSuffix","",3,"for"],["pickerdateDeclaration",""],["class","invalid-feedback",4,"ngIf"],[4,"ngIf"],["class","col-md-5","appearance","outline",4,"ngIf"],["class","row",4,"ngIf"],[2,"margin-bottom","2rem"],["formControlName","causeSinistre"],[3,"displayMember","array","filteredReturn"],[3,"value",4,"ngFor","ngForOf"],["formControlName","originSinistre",3,"selectionChange"],[4,"ngFor","ngForOf"],[1,"row",2,"flex-direction","column"],["aria-label","Select\n                                an\n                                option","formControlName","autorite",1,"col-md-12",3,"change"],["value","0"],["value","1"],["class","invalid-feedback","style","margin-left: 1rem;",4,"ngIf"],["formControlName","agence"],["type","text","matInput","","formControlName","tauxResponsabilite"],["matSuffix",""],["formControlName","descriptionSinistre","matInput","","cdkTextareaAutosize","","cdkAutosizeMinRows","1","cdkAutosizeMaxRows","10"],["autosize","cdkTextareaAutosize"],[1,"button-row"],["mat-button","",1,"btn","btn-action"],["mat-button","",1,"btn","btn-cancel",3,"click"],["class","infos polices",4,"ngIf"],["class","infos garanties",4,"ngIf"],[1,"button-row",2,"margin-top","2rem"],["mat-button","",1,"btn","btn-action",3,"click"],["mat-button","","type","button",1,"btn","btn-cancel",3,"click"],[3,"linear"],["stepperInfoVehicule",""],["class","container\n                        formVehicule",3,"formGroup","ngSubmit",4,"ngIf"],[4,"ngIf","ngIfElse"],["withTierVar",""],["mat-button","","type","button",1,"btn","btn-action",3,"click"],["class","col-md-12 tierExistRadio",3,"ngModel","change","ngModelChange",4,"ngIf"],["class","container",3,"formGroup","ngSubmit",4,"ngIf"],["mat-table","","class","gestion-table",3,"dataSource",4,"ngIf"],["aria-label","Select\n                page of users",3,"pageSize","pageSizeOptions",4,"ngIf"],["color","white","diameter","25",4,"ngIf"],["class","alert alert-success",4,"ngIf"],["class","infos resume",4,"ngIf"],[1,"btn","btn-action",3,"ngClass","disabled","click"],[1,"alert","alert-danger"],[1,"container","formPolice",3,"formGroup","ngSubmit"],["type","text","matInput","","placeholder","","formControlName","numPolice",3,"ngModel","ngModelChange"],["matInput","","formControlName","dateSurvenance",3,"matDatepicker","disabled","max","min","dateChange"],["pickerdateSurvenance",""],["matInput","","formControlName","timeSurvenance",3,"ngxTimepicker","format","ngModelChange"],["endTime",""],["mat-button","","class","btn\n                                btn-action ",3,"ngClass","disabled",4,"ngIf"],[1,"invalid-feedback"],["appearance","outline","class","col-md-5",4,"ngIf"],["type","text","matInput","","placeholder","","formControlName","immatriculation"],["formControlName","immatriculation"],[3,"value"],["mat-button","",1,"btn","btn-action",3,"ngClass","disabled"],["color","white","diameter","25"],["formControlName","pays",3,"selectionChange"],["formControlName","wilayas",3,"selectionChange"],["formControlName","commune"],["type","text","matInput","","placeholder","","formControlName","contactOrigine"],[1,"invalid-feedback",2,"margin-left","1rem"],["type","text","matInput","","placeholder","","formControlName","nomAutorite"],[1,"infos","polices"],[1,"key"],[1,"value"],["class","key",4,"ngIf"],[1,"infos","garanties"],[1,"container","formVehicule",3,"formGroup","ngSubmit"],["type","text","matInput","","placeholder","","formControlName","codeRisque"],["notAuto",""],["formControlName","zoneAffectee",3,"disabled","selectionChange"],["formControlName","assisteur",1,"col-md-12",3,"change"],["value","true"],["value","false"],["type","text","matInput","","placeholder","","formControlName","marque"],["type","text","matInput","","placeholder","","formControlName","modele"],["type","text","matInput","","placeholder","","formControlName","numChassis"],["type","text","matInput","","placeholder","","formControlName","nom"],["type","text","matInput","","placeholder","","formControlName","prenom"],["type","text","matInput","","placeholder","","formControlName","adresse"],["formControlName","wilaya"],["formControlName","commune",3,"selectionChange"],["formControlName","canCirculate",1,"col-md-12"],["formControlName","futurAssisteur",1,"col-md-12",3,"change"],["formControlName","listAssisteur"],["formControlName","typeConducteur",3,"selectionChange"],["type","text","matInput","","placeholder","","formControlName","nomConducteur"],["type","text","matInput","","placeholder","","formControlName","prenomConducteur"],["type","text","matInput","","placeholder","","formControlName","numPermis"],["matInput","","formControlName","dateDelivrance",3,"matDatepicker","max"],["pickerdateDelivrance",""],["formControlName","lieuDelivrance"],["type","text","matInput","","placeholder","","formControlName","contact"],["mat-button","","type","submit",1,"btn","btn-action"],[3,"value","disabled"],["aria-label","Select\n                        page of users",3,"pageSize","pageSizeOptions",4,"ngIf"],[1,"col-md-12","tierExistRadio",3,"ngModel","change","ngModelChange"],["formDirective","ngForm"],["class","col-md-12","formControlName","isFamily",4,"ngIf"],["type","text","matInput","","placeholder","","formControlName","nomAdversaire"],["type","text","matInput","","placeholder","","formControlName","prenomAdversaire"],["formControlName","assure",1,"col-md-12",3,"change"],["class","vehiculeAdverse",4,"ngIf"],["formControlName","typeAdversaire",3,"selectionChange"],["formControlName","isFamily",1,"col-md-12"],["formControlName","companyAdverse",3,"selectionChange"],["formControlName","agenceAdverse"],["type","text","matInput","","placeholder","","formControlName","numPolice"],[1,"vehiculeAdverse"],["formControlName","marqueVehiculeAdverse",3,"selectionChange"],["formControlName","modeleVehiculeAdverse"],["type","text","matInput","","placeholder","","formControlName","immatriculationVehiculeAdverse"],["type","text","matInput","","placeholder","","formControlName","nomConducteurAdverse"],["type","text","matInput","","placeholder","","formControlName","prenomConducteurAdverse"],["type","text","matInput","","placeholder","","formControlName","numPermisConducteurAdverse"],["matInput","","formControlName","dateDelivranceAdverse",3,"matDatepicker","max"],["pickerdateDelivranceAdvere",""],["formControlName","lieuDelivranceAdverse"],["mat-table","",1,"gestion-table",3,"dataSource"],["matColumnDef","typeAdversaire",4,"ngIf"],["matColumnDef","name"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","action"],["mat-header-row","","class","example-second-header-row",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["matColumnDef","typeAdversaire"],["mat-header-cell",""],["mat-cell",""],["mat-icon-button","","type","button","aria-label","menu risque list",3,"matMenuTriggerFor"],["xPosition","after"],["menu","matMenu"],["mat-menu-item","","type","button",3,"click"],["mat-header-row","",1,"example-second-header-row"],["mat-row",""],["aria-label","Select\n                        page of users",3,"pageSize","pageSizeOptions"],[1,"alert","alert-warning"],[1,"container",3,"formGroup","ngSubmit"],["type","text","matInput","","placeholder","","formControlName","nomBlesse"],["type","text","matInput","","placeholder","","formControlName","prenomBlesse"],["matInput","","formControlName","dateNaissanceBlesse",3,"matDatepicker","max"],["pickerdateNaissanceBlesse",""],["formControlName","etatBlesse"],["mat-button","","type","submit","type","submit",1,"btn","btn-action"],["formControlName","typeBlesses"],["matColumnDef","etatSinistree"],["matColumnDef","dateNaissance"],["matColumnDef","typeBlesse",4,"ngIf"],["matColumnDef","typeBlesse"],["aria-label","Select\n                page of users",3,"pageSize","pageSizeOptions"],[1,"alert","alert-success"],[1,"infos","resume"],["class","value",4,"ngIf"]],template:function(m,I){if(1&m&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h2",2),t.NdJ("click",function(){return I.show()}),t.TgZ(3,"mat-icon",3),t._uU(4,"report"),t.qZA(),t._uU(5," D\xe9claration sinistre "),t.qZA()(),t.TgZ(6,"mat-stepper",4,5)(8,"mat-step"),t.YNc(9,Sn,1,0,"ng-template",6),t.TgZ(10,"mat-vertical-stepper",null,7),t.YNc(12,vt,2,1,"div",8),t.TgZ(13,"mat-step"),t.YNc(14,$e,1,0,"ng-template",6),t.YNc(15,Et,25,13,"form",9),t.qZA(),t.TgZ(16,"mat-step"),t.YNc(17,mo,1,0,"ng-template",6),t.TgZ(18,"form",10),t.NdJ("ngSubmit",function(){return I.submitInfoSinistre()}),t.TgZ(19,"div",11)(20,"mat-form-field",12)(21,"mat-label"),t._uU(22,"Date declaration"),t.qZA(),t._UZ(23,"input",13)(24,"mat-datepicker-toggle",14)(25,"mat-datepicker",null,15),t.YNc(27,zr,2,1,"mat-error",16),t.qZA(),t.YNc(28,Eo,2,0,"h3",17),t.YNc(29,za,6,2,"mat-form-field",18),t.qZA(),t.YNc(30,Ws,13,4,"div",19),t.TgZ(31,"div",11),t._UZ(32,"mat-divider",20),t.TgZ(33,"mat-form-field",12)(34,"mat-label"),t._uU(35," Cause sinistre "),t.qZA(),t.TgZ(36,"mat-select",21)(37,"mat-select-filter",22),t.NdJ("filteredReturn",function(be){return I.filteredcausesSinistre=be}),t.qZA(),t.YNc(38,Xs,2,2,"mat-option",23),t.qZA(),t.YNc(39,Va,2,1,"mat-error",16),t.qZA()(),t.TgZ(40,"div",11)(41,"mat-form-field",12)(42,"mat-label"),t._uU(43," Origine "),t.qZA(),t.TgZ(44,"mat-select",24),t.NdJ("selectionChange",function(be){return I.chooseOrigin(be.value)}),t.YNc(45,ps,3,2,"ng-container",25),t.qZA(),t.YNc(46,Ra,2,1,"mat-error",16),t.qZA(),t.YNc(47,gs,4,0,"mat-form-field",18),t.qZA(),t.TgZ(48,"div",26)(49,"mat-radio-group",27),t.NdJ("change",function(be){return I.withAutorite(be.value)}),t.TgZ(50,"mat-label"),t._uU(51," Intervention des autorit\xe9s "),t.qZA(),t.TgZ(52,"mat-radio-button",28),t._uU(53,"Oui"),t.qZA(),t.TgZ(54,"mat-radio-button",29),t._uU(55,"Non"),t.qZA(),t.YNc(56,ja,2,0,"mat-error",30),t.qZA(),t.YNc(57,hs,5,1,"mat-form-field",18),t.qZA(),t.TgZ(58,"div",11)(59,"mat-form-field",12)(60,"mat-label"),t._uU(61," Agence de gestion du sinistre "),t.qZA(),t.TgZ(62,"mat-select",31),t.YNc(63,Cs,3,2,"ng-container",25),t.qZA(),t.YNc(64,xs,2,1,"mat-error",16),t.qZA(),t.TgZ(65,"mat-form-field",12)(66,"mat-label"),t._uU(67,"Taux de responsabilit\xe9"),t.qZA(),t._UZ(68,"input",32),t.TgZ(69,"mat-icon",33),t._uU(70,"percent"),t.qZA(),t.YNc(71,tl,2,1,"mat-error",16),t.qZA()(),t.TgZ(72,"div",11)(73,"mat-form-field",12)(74,"mat-label"),t._uU(75,"Description sinistre"),t.qZA(),t._UZ(76,"textarea",34,35),t.YNc(78,Ar,2,1,"mat-error",16),t.qZA()(),t.TgZ(79,"div",36)(80,"button",37),t._uU(81,"Suivant"),t.qZA(),t.TgZ(82,"button",38),t.NdJ("click",function(){return I.goback("autre")}),t._uU(83,"Retour"),t.qZA()()()(),t.TgZ(84,"mat-step"),t.YNc(85,nl,1,0,"ng-template",6),t.YNc(86,Lr,36,14,"table",39),t.YNc(87,bs,7,1,"table",40),t.TgZ(88,"div",41)(89,"button",42),t.NdJ("click",function(){return I.goToStep(2)}),t._uU(90,"Suivant"),t.qZA(),t.TgZ(91,"button",43),t.NdJ("click",function(){return I.goback("autre")}),t._uU(92,"Retour"),t.qZA()()()()(),t.TgZ(93,"mat-step"),t.YNc(94,Ir,1,0,"ng-template",6),t.TgZ(95,"mat-vertical-stepper",44,45)(97,"mat-step"),t.YNc(98,ol,1,0,"ng-template",6),t.YNc(99,ro,34,14,"form",46),t.qZA(),t.YNc(100,Do,3,1,"mat-step",17),t.TgZ(101,"mat-step"),t.YNc(102,Vo,1,0,null,17),t.YNc(103,ul,1,0,null,17),t.YNc(104,Dr,5,4,"ng-container",47),t.YNc(105,wr,2,0,"ng-template",null,48,t.W1O),t.TgZ(107,"div",36)(108,"button",38),t.NdJ("click",function(){return I.goback("vehiculeInfo")}),t._uU(109,"Retour"),t.qZA()()()(),t.TgZ(110,"div",41)(111,"button",49),t.NdJ("click",function(){return I.goToStep(3)}),t._uU(112,"Suivant"),t.qZA(),t.TgZ(113,"button",38),t.NdJ("click",function(){return I.goback("h")}),t._uU(114,"Retour"),t.qZA()()(),t.TgZ(115,"mat-step"),t.YNc(116,Or,1,0,"ng-template",6),t.YNc(117,Za,8,2,"mat-radio-group",50),t.YNc(118,z,38,11,"form",51),t.YNc(119,Uo,16,4,"table",52),t.YNc(120,Ls,1,3,"mat-paginator",53),t.TgZ(121,"div",36)(122,"button",49),t.NdJ("click",function(){return I.getNature()}),t.YNc(123,sc,2,0,"span",17),t.YNc(124,Yc,1,0,"mat-spinner",54),t.qZA(),t.TgZ(125,"button",43),t.NdJ("click",function(){return I.goback("h")}),t._uU(126,"Retour"),t.qZA()()(),t.TgZ(127,"mat-step"),t.YNc(128,Go,2,1,"div",55),t.YNc(129,yi,1,0,"ng-template",6),t.YNc(130,Sa,48,15,"table",56),t.TgZ(131,"div",41)(132,"button",57),t.NdJ("click",function(){return I.submitSinitre()}),t.YNc(133,Bo,2,0,"span",17),t.YNc(134,Oo,1,0,"mat-spinner",54),t.qZA(),t.TgZ(135,"button",38),t.NdJ("click",function(){return I.goback("h")}),t._uU(136,"Retour"),t.qZA()()()()()),2&m){const j=t.MAs(26),be=t.MAs(106);t.xp6(12),t.Q6J("ngIf",I.sinistreNotAllowed),t.xp6(3),t.Q6J("ngIf",I.formPolice),t.xp6(3),t.Q6J("formGroup",I.formInfoSinistre),t.xp6(5),t.Q6J("matDatepicker",j)("min",I.dateSurevance)("max",I.today),t.xp6(1),t.Q6J("for",j),t.xp6(3),t.Q6J("ngIf",I.formInfoSinistre.controls.dateDeclaration.errors),t.xp6(1),t.Q6J("ngIf","45A"==I.codeProduit||"45F"==I.codeProduit||"45L"==I.codeProduit),t.xp6(1),t.Q6J("ngIf","45A"==I.codeProduit||"45F"==I.codeProduit||"45L"==I.codeProduit),t.xp6(1),t.Q6J("ngIf","45A"==I.codeProduit||"45F"==I.codeProduit||"45L"==I.codeProduit),t.xp6(7),t.Q6J("displayMember","description")("array",I.causesSinistreArray),t.xp6(1),t.Q6J("ngForOf",I.filteredcausesSinistre),t.xp6(1),t.Q6J("ngIf",I.formInfoSinistre.controls.causeSinistre.errors),t.xp6(6),t.Q6J("ngForOf",I.originesSinistreArray),t.xp6(1),t.Q6J("ngIf",I.formInfoSinistre.controls.originSinistre.errors),t.xp6(1),t.Q6J("ngIf",I.originExist),t.xp6(9),t.Q6J("ngIf",I.formInfoSinistre.get("autorite").invalid&&I.submitedInfoSinistre),t.xp6(1),t.Q6J("ngIf",I.autoriteExist),t.xp6(6),t.Q6J("ngForOf",I.agencesList),t.xp6(1),t.Q6J("ngIf",I.formInfoSinistre.controls.agence.errors),t.xp6(7),t.Q6J("ngIf",I.formInfoSinistre.controls.tauxResponsabilite.errors),t.xp6(7),t.Q6J("ngIf",I.formInfoSinistre.controls.descriptionSinistre.errors),t.xp6(8),t.Q6J("ngIf",I.policyExist),t.xp6(1),t.Q6J("ngIf",I.policyExist),t.xp6(8),t.Q6J("linear",!1),t.xp6(4),t.Q6J("ngIf",I.formVehiculeReady),t.xp6(1),t.Q6J("ngIf","45A"==I.codeProduit||"45F"==I.codeProduit||"45L"==I.codeProduit),t.xp6(2),t.Q6J("ngIf","45A"==I.codeProduit||"45F"==I.codeProduit||"45L"==I.codeProduit),t.xp6(1),t.Q6J("ngIf","45A"!=I.codeProduit&&"45F"!=I.codeProduit&&"45L"!=I.codeProduit),t.xp6(1),t.Q6J("ngIf","AUT004"!=I.causeSinistre)("ngIfElse",be),t.xp6(13),t.Q6J("ngIf",0==I.blessesLength&&"AUT016"!=I.causeSinistre&&"AUT014"!=I.causeSinistre),t.xp6(1),t.Q6J("ngIf",I.blesseExist),t.xp6(1),t.Q6J("ngIf",0!=I.blessesTab.length),t.xp6(1),t.Q6J("ngIf",0!=I.blessesTab.length),t.xp6(3),t.Q6J("ngIf",!I.loaderNature),t.xp6(1),t.Q6J("ngIf",I.loaderNature),t.xp6(4),t.Q6J("ngIf",I.successSinistre),t.xp6(2),t.Q6J("ngIf",I.resumeReadu),t.xp6(2),t.Q6J("ngClass",t.VKq(45,Nn,I.loaderSinistre))("disabled",I.loaderSinistre),t.xp6(1),t.Q6J("ngIf",!I.loaderSinistre),t.xp6(1),t.Q6J("ngIf",I.loaderSinistre)}},dependencies:[Se.mk,Se.sg,Se.O5,nn.d,_n.Hw,xn.VK,xn.OP,xn.p6,Q._Y,Q.Fj,Q.JJ,Q.JL,Q.sg,Q.u,mn.TO,mn.KE,mn.hX,mn.R9,Ri.IC,Xn.Nt,n.BZ,n.fO,n.as,n.w1,n.Dz,n.nj,n.ge,n.ev,n.XQ,n.Gk,Mt.NW,Lt.Mq,Lt.hl,Lt.nW,xt.gD,ht.ey,Yn.VQ,Yn.U0,Jn.lW,pi.C0,pi.VY,pi.Vq,Qn.Ou,Q.On,Kn.ro,Kn.I2,xi.Fq,Se.uU,tn.y],styles:[".container[_ngcontent-%COMP%]{background-color:#fff;padding:40px 0;height:100%;overflow-y:auto;overflow-x:hidden}.gestion-table[_ngcontent-%COMP%]{width:100%}.gestion-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .gestion-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:16px}.gestion-table[_ngcontent-%COMP%]   .mat-header-cell[_ngcontent-%COMP%]{color:#00008f;font-weight:600}.gestion-table[_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]:nth-child(even), .gestion-table[_ngcontent-%COMP%]   .mat-header-row[_ngcontent-%COMP%]{background-color:#f7f7f9}.gestion-table[_ngcontent-%COMP%]   .mat-paginator[_ngcontent-%COMP%]{background-color:transparent;margin:20px auto auto;width:80%}.gestion-table[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{height:100%;font-size:26px;color:#00008f;width:-moz-fit-content;width:fit-content}.mat-menu-item[_ngcontent-%COMP%]{font-size:15px}.mat-menu-item[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:18px;height:-moz-fit-content;height:fit-content}.mat-menu-item[_ngcontent-%COMP%]:hover:not([disabled]), .mat-menu-item[_ngcontent-%COMP%]:hover:not([disabled])   .mat-icon[_ngcontent-%COMP%]{color:#00008f}.header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:0px 2rem}.header[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{height:-moz-fit-content;height:fit-content;font-size:29px;margin-right:1rem;width:-moz-fit-content;width:fit-content}.title-table[_ngcontent-%COMP%]{margin-bottom:0rem;font-weight:800!important;font-size:23px!important;color:#00008f!important}.container[_ngcontent-%COMP%]{background-color:#fff;padding:40px 2rem;height:100%;overflow-y:hidden;overflow-x:hidden}  .mat-vertical-stepper-header[aria-selected=true]{background:rgba(118,152,203,.1803921569)}  .mat-vertical-stepper-header[aria-selected=true] .mat-step-text-label{color:#00008f;font-weight:600;font-size:17px}  .mat-horizontal-stepper-header,   .mat-vertical-stepper-header{pointer-events:none}.button-row[_ngcontent-%COMP%]   .btn-action[_ngcontent-%COMP%]{float:right}.button-row[_ngcontent-%COMP%]   .btn-cancel[_ngcontent-%COMP%]{float:left}.spinner-btn[_ngcontent-%COMP%]{padding:4px 20px}  .mat-vertical-stepper-header{padding:11px 24px}  .mat-step-header .mat-step-icon-state-edit{background-color:#0000008a}  .mat-step-header .mat-step-icon-state-edit .mat-icon{font-size:14px;height:-moz-fit-content;height:fit-content;width:-moz-fit-content;width:fit-content}h2.header-title[_ngcontent-%COMP%]{padding:0 24px;font-size:21px!important;color:#00008f;font-weight:600!important;letter-spacing:1px;display:flex;justify-content:flex-end}h2.header-title[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{margin-right:1rem;font-size:32px;height:-moz-fit-content;height:fit-content;width:-moz-fit-content;width:fit-content}  .timepicker__header,   .clock-face__clock-hand,   .clock-face__number>span.active{background-color:#00008f!important}  .timepicker-button{color:#00008f!important}table.infos[_ngcontent-%COMP%]{margin-top:2rem;border-collapse:collapse;border-spacing:0 19px;font-size:16px;width:100%}table.infos.garanties[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], table.infos.garanties[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border:1px solid rgba(0,0,0,.12)}table.infos.garanties[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background:rgb(247,247,249)}table.infos[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], table.infos[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:12px 19px}table.infos.garanties[_ngcontent-%COMP%]   caption[_ngcontent-%COMP%]{caption-side:initial}.infos[_ngcontent-%COMP%]   .key[_ngcontent-%COMP%], .infos[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{text-transform:capitalize}.infos.resume[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f7f7f9}.mat-radio-group[_ngcontent-%COMP%]   .mat-radio-button[_ngcontent-%COMP%]{margin-left:4rem}.mat-radio-group[_ngcontent-%COMP%]{margin-bottom:2rem;display:flex;align-items:center}.infos[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{color:#00008f;font-weight:600}.tierExistRadio[_ngcontent-%COMP%]{margin-top:3rem}.vehiculeAdverse[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .infoSinistre[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#00008f;font-weight:600!important}"]}),f})();var Ni=B(7084),Bi=B(266);function Cr(f,D){1&f&&(t.TgZ(0,"mat-form-field",10)(1,"mat-label"),t._uU(2,"N\xb0Chassis"),t.qZA(),t._UZ(3,"input",27),t.qZA())}function tu(f,D){1&f&&(t.TgZ(0,"mat-form-field",10)(1,"mat-label"),t._uU(2,"Adresse"),t.qZA(),t._UZ(3,"input",28),t.qZA())}function Gc(f,D){1&f&&(t.TgZ(0,"mat-form-field",10)(1,"mat-label"),t._uU(2,"Nom assure"),t.qZA(),t._UZ(3,"input",29),t.qZA())}function bc(f,D){1&f&&(t.TgZ(0,"mat-form-field",10)(1,"mat-label"),t._uU(2,"Pr\xe9nom assure"),t.qZA(),t._UZ(3,"input",30),t.qZA())}function yu(f,D){1&f&&(t.TgZ(0,"div",9)(1,"mat-form-field",10)(2,"mat-label"),t._uU(3,"Nom conducteur du v\xe9hicule assur\xe9"),t.qZA(),t._UZ(4,"input",31),t.qZA(),t.TgZ(5,"mat-form-field",10)(6,"mat-label"),t._uU(7,"Pr\xe9nom conducteur du v\xe9hicule assur\xe9"),t.qZA(),t._UZ(8,"input",32),t.qZA(),t.TgZ(9,"mat-form-field",10)(10,"mat-label"),t._uU(11,"Immatriculation assur\xe9"),t.qZA(),t._UZ(12,"input",33),t.qZA()())}function xr(f,D){1&f&&(t.TgZ(0,"div",9)(1,"mat-form-field",10)(2,"mat-label"),t._uU(3,"Nom adversaire"),t.qZA(),t._UZ(4,"input",34),t.qZA(),t.TgZ(5,"mat-form-field",10)(6,"mat-label"),t._uU(7,"Pr\xe9nom adversaire"),t.qZA(),t._UZ(8,"input",35),t.qZA(),t.TgZ(9,"mat-form-field",10)(10,"mat-label"),t._uU(11,"Immatriculation Adversaire"),t.qZA(),t._UZ(12,"input",36),t.qZA()())}function Mr(f,D){1&f&&(t.TgZ(0,"div",9)(1,"mat-form-field",10)(2,"mat-label"),t._uU(3,"ID Client"),t.qZA(),t._UZ(4,"input",37),t.qZA(),t.TgZ(5,"mat-form-field",10)(6,"mat-label"),t._uU(7,"Numero Contrat"),t.qZA(),t._UZ(8,"input",38),t.qZA()())}function _a(f,D){1&f&&(t.TgZ(0,"th",56),t._uU(1," N\xb0Sinistre "),t.qZA())}function gl(f,D){if(1&f&&(t.TgZ(0,"td",57),t._uU(1),t.qZA()),2&f){const m=D.$implicit;t.xp6(1),t.hij(" ",m.codeSinistre," ")}}function se(f,D){1&f&&(t.TgZ(0,"th",56),t._uU(1," N\xb0Police "),t.qZA())}function He(f,D){if(1&f&&(t.TgZ(0,"td",57),t._uU(1),t.qZA()),2&f){const m=D.$implicit;t.xp6(1),t.hij(" ",m.codePolice," ")}}function Y(f,D){1&f&&(t.TgZ(0,"th",56),t._uU(1," Assure "),t.qZA())}function Ee(f,D){if(1&f&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&f){const m=t.oxw().$implicit;t.xp6(1),t.AsE("",m.nom," ",m.prenom,"")}}function Ye(f,D){if(1&f&&t._uU(0),2&f){const m=t.oxw().$implicit;t.Oqu(m.raisonSocial)}}function Ct(f,D){if(1&f&&(t.TgZ(0,"td",57),t.YNc(1,Ee,2,2,"span",58),t.YNc(2,Ye,1,1,"ng-template",null,59,t.W1O),t.qZA()),2&f){const m=D.$implicit,I=t.MAs(3);t.xp6(1),t.Q6J("ngIf",null!=m.nom)("ngIfElse",I)}}function sn(f,D){1&f&&(t.TgZ(0,"th",56),t._uU(1," Date "),t.qZA())}function Pn(f,D){if(1&f&&(t.TgZ(0,"td",57),t._uU(1),t.ALo(2,"date"),t.qZA()),2&f){const m=D.$implicit;t.xp6(1),t.hij(" ",t.Dn7(2,1,m.dateSurvenance,"dd-MM-yyyy","utc")," ")}}function fn(f,D){1&f&&(t.TgZ(0,"th",56),t._uU(1," Immatriculation "),t.qZA())}function ui(f,D){if(1&f&&(t.TgZ(0,"td",57),t._uU(1),t.qZA()),2&f){const m=D.$implicit;t.xp6(1),t.hij(" ",m.immatriculation," ")}}function bi(f,D){1&f&&(t.ynx(0,60),t.YNc(1,fn,2,0,"th",41),t.YNc(2,ui,2,1,"td",42),t.BQk())}function to(f,D){1&f&&(t.TgZ(0,"th",56),t._uU(1," Cause "),t.qZA())}function fo(f,D){if(1&f&&(t.TgZ(0,"td",57),t._uU(1),t.qZA()),2&f){const m=D.$implicit;t.xp6(1),t.hij(" ",m.cause_sinistre," ")}}function Xo(f,D){1&f&&(t.ynx(0,61),t.YNc(1,to,2,0,"th",41),t.YNc(2,fo,2,1,"td",42),t.BQk())}function Ur(f,D){1&f&&(t.TgZ(0,"th",56),t._uU(1," Nature"),t.qZA())}function fi(f,D){if(1&f&&(t.TgZ(0,"td",57),t._uU(1),t.qZA()),2&f){const m=D.$implicit;t.xp6(1),t.hij(" ",m.typeSinistre," ")}}function Ki(f,D){1&f&&(t.ynx(0,62),t.YNc(1,Ur,2,0,"th",41),t.YNc(2,fi,2,1,"td",42),t.BQk())}function br(f,D){1&f&&(t.TgZ(0,"th",56),t._uU(1," Garantie "),t.qZA())}function De(f,D){if(1&f&&(t.TgZ(0,"td",57),t._uU(1),t.qZA()),2&f){const m=D.$implicit;t.xp6(1),t.hij(" ",m.cause_sinistre," ")}}function lc(f,D){1&f&&(t.ynx(0,63),t.YNc(1,br,2,0,"th",41),t.YNc(2,De,2,1,"td",42),t.BQk())}function Bc(f,D){1&f&&(t.TgZ(0,"th",56),t._uU(1," Wilaya "),t.qZA())}function ya(f,D){if(1&f&&(t.TgZ(0,"td",57),t._uU(1),t.qZA()),2&f){const m=D.$implicit;t.xp6(1),t.hij(" ",m.wilaya," ")}}function Co(f,D){1&f&&(t.ynx(0,64),t.YNc(1,Bc,2,0,"th",41),t.YNc(2,ya,2,1,"td",42),t.BQk())}function om(f,D){1&f&&(t.TgZ(0,"th",56),t._uU(1," Commune"),t.qZA())}function nu(f,D){if(1&f&&(t.TgZ(0,"td",57),t._uU(1),t.qZA()),2&f){const m=D.$implicit;t.xp6(1),t.hij(" ",m.commune," ")}}function xa(f,D){1&f&&(t.ynx(0,65),t.YNc(1,om,2,0,"th",41),t.YNc(2,nu,2,1,"td",42),t.BQk())}function Ys(f,D){1&f&&(t.TgZ(0,"th",56),t._uU(1," Situation"),t.qZA())}function Nu(f,D){if(1&f&&(t.TgZ(0,"td",57),t._uU(1),t.qZA()),2&f){const m=D.$implicit;t.xp6(1),t.hij(" ",m.situationSinistre," ")}}function Pc(f,D){1&f&&(t.TgZ(0,"th",56),t._uU(1," Action "),t.qZA())}function Iu(f,D){if(1&f){const m=t.EpF();t.TgZ(0,"td",57)(1,"button",66)(2,"mat-icon"),t._uU(3,"more_vert"),t.qZA()(),t.TgZ(4,"mat-menu",67,68)(6,"button",69),t.NdJ("click",function(){const be=t.CHM(m).$implicit,It=t.oxw(2);return t.KtG(It.goTo("police",be.codePolice))}),t.TgZ(7,"mat-icon"),t._uU(8,"zoom_in"),t.qZA(),t.TgZ(9,"span"),t._uU(10,"Consulter police"),t.qZA()(),t.TgZ(11,"button",69),t.NdJ("click",function(){const be=t.CHM(m).$implicit,It=t.oxw(2);return t.KtG(It.goTo("sinistre",be.codeSinistre))}),t.TgZ(12,"mat-icon"),t._uU(13,"zoom_in"),t.qZA(),t.TgZ(14,"span"),t._uU(15,"Consulter sinistre"),t.qZA()(),t.TgZ(16,"button",69),t.NdJ("click",function(){const be=t.CHM(m).$implicit,It=t.oxw(2);return t.KtG(It.goTo("gestion",be.codeSinistre))}),t.TgZ(17,"mat-icon"),t._uU(18,"settings"),t.qZA(),t.TgZ(19,"span"),t._uU(20,"Gestion sinistre"),t.qZA()(),t.TgZ(21,"button",70),t.NdJ("click",function(){const be=t.CHM(m).$implicit,It=t.oxw(2);return t.KtG(It.goTo("expertise",be.idSinistre))}),t.TgZ(22,"mat-icon"),t._uU(23,"demography"),t.qZA(),t.TgZ(24,"span"),t._uU(25,"Expertise"),t.qZA()()()()}if(2&f){const m=D.$implicit,I=t.MAs(5),j=t.oxw(2);t.xp6(1),t.Q6J("matMenuTriggerFor",I),t.xp6(20),t.Q6J("disabled","Annul\xe9e"==m.situationSinistre||!j.roleExist)}}function cc(f,D){1&f&&t._UZ(0,"tr",71)}function rm(f,D){1&f&&t._UZ(0,"tr",72)}function hl(f,D){if(1&f&&(t.TgZ(0,"table",39),t.ynx(1,40),t.YNc(2,_a,2,0,"th",41),t.YNc(3,gl,2,1,"td",42),t.BQk(),t.ynx(4,43),t.YNc(5,se,2,0,"th",41),t.YNc(6,He,2,1,"td",42),t.BQk(),t.ynx(7,44),t.YNc(8,Y,2,0,"th",41),t.YNc(9,Ct,4,2,"td",42),t.BQk(),t.ynx(10,45),t.YNc(11,sn,2,0,"th",41),t.YNc(12,Pn,3,5,"td",42),t.BQk(),t.YNc(13,bi,3,0,"ng-container",46),t.YNc(14,Xo,3,0,"ng-container",47),t.YNc(15,Ki,3,0,"ng-container",48),t.YNc(16,lc,3,0,"ng-container",49),t.YNc(17,Co,3,0,"ng-container",50),t.YNc(18,xa,3,0,"ng-container",51),t.ynx(19,52),t.YNc(20,Ys,2,0,"th",41),t.YNc(21,Nu,2,1,"td",42),t.BQk(),t.ynx(22,53),t.YNc(23,Pc,2,0,"th",41),t.YNc(24,Iu,26,2,"td",42),t.BQk(),t.YNc(25,cc,1,0,"tr",54),t.YNc(26,rm,1,0,"tr",55),t.qZA()),2&f){const m=t.oxw();t.Q6J("dataSource",m.dataSource),t.xp6(13),t.Q6J("ngIf","45A"==m.codeProduit||"45F"==m.codeProduit||"45L"==m.codeProduit),t.xp6(1),t.Q6J("ngIf","45A"==m.codeProduit||"45F"==m.codeProduit||"45L"==m.codeProduit),t.xp6(1),t.Q6J("ngIf","45A"==m.codeProduit||"45F"==m.codeProduit||"45L"==m.codeProduit||"95"==m.codeProduit||"96"==m.codeProduit),t.xp6(1),t.Q6J("ngIf","95"==m.codeProduit||"96"==m.codeProduit),t.xp6(1),t.Q6J("ngIf","95"==m.codeProduit||"96"==m.codeProduit),t.xp6(1),t.Q6J("ngIf","95"==m.codeProduit||"96"==m.codeProduit),t.xp6(7),t.Q6J("matHeaderRowDef",m.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",m.displayedColumns)}}function km(f,D){if(1&f){const m=t.EpF();t.TgZ(0,"mat-paginator",73),t.NdJ("page",function(j){t.CHM(m);const be=t.oxw();return t.KtG(be.onPageChange(j))}),t.qZA()}if(2&f){const m=t.oxw();t.Q6J("length",m.lengthElement)("pageSize",10)}}let Yl=(()=>{class f{constructor(m,I,j,be){this.route=m,this.formBuilder=I,this.router=j,this.sinistresService=be,this.messageSuccess="",this.sinistreCreated=!1,this.filteredTable=!1,this.isCourtier=sessionStorage.getItem("roles")?.includes("COURTIER"),this.AgenceCourtier=sessionStorage.getItem("agence"),this.roleExist=!1,this.roleUser=JSON.parse(sessionStorage.getItem("roles")||""),this.sinistreRoles={"45A":["WEB_HELP","GESTIONNAIRE_SINISTRE","RESPONSABLE_SINISTRE","DIRECTEUR","CHEF_PROJET","ADMIN","ROLE_SUPER_ADMIN","ANALYSTE","GESTION_SINISTRE","GESTIONNAIRE_JUNIOR"],"45F":["WEB_HELP","GESTIONNAIRE_SINISTRE","RESPONSABLE_SINISTRE","DIRECTEUR","CHEF_PROJET","ADMIN","ROLE_SUPER_ADMIN","ANALYSTE","GESTION_SINISTRE","GESTIONNAIRE_JUNIOR"],"45L":["WEB_HELP","GESTIONNAIRE_SINISTRE","RESPONSABLE_SINISTRE","DIRECTEUR","CHEF_PROJET","ADMIN","ROLE_SUPER_ADMIN","ANALYSTE","GESTION_SINISTRE","GESTIONNAIRE_JUNIOR"],95:["WEB_HELP","GESTION_SINISTRE_MRH_MRP","RESPONSABLE_SINISTRE_MRH_MRP","ADMIN","ROLE_SUPER_ADMIN","ANALYSTE"],96:["WEB_HELP","GESTION_SINISTRE_MRH_MRP","RESPONSABLE_SINISTRE_MRH_MRP","ADMIN","ROLE_SUPER_ADMIN","ANALYSTE"]}}ngOnInit(){this.codeProduit=this.route.snapshot.paramMap.get("codeProduit"),this.produit=this.route.snapshot.paramMap.get("produit"),this.roleUser.find(m=>{this.sinistreRoles[this.codeProduit+""].includes(m)&&(this.roleExist=!0)}),"45A"==this.codeProduit||"45F"==this.codeProduit||"45L"==this.codeProduit?this.displayedColumns=["numSinistre","numPolice","assure","dateSurvenance","immatriculation","causeSinistre","typeSinistre","situationSinistre","action"]:("95"==this.codeProduit||"96"==this.codeProduit)&&(this.displayedColumns=["numSinistre","numPolice","assure","dateSurvenance","garantie","wilaya","commune","typeSinistre","situationSinistre","action"]),this.initFormFilter(),this.isCourtier?this.submitFilter(0,10):this.getAllSinistre(0,10)}initFormFilter(){this.formFilterSinistre=this.formBuilder.group({numPolice:[null],prenomConducteurAssure:[null],nomConducteurAssure:[null],nomAssure:[null],prenomAssure:[null],dateSurvenance:[null],numSinistre:[null],immatriculationAssure:[null],codeRisque:[null],nomAdversaire:[null],prenomAdversaire:[null],idAgence:this.isCourtier?["undefined"!=sessionStorage.getItem("agence")?this.AgenceCourtier:null]:[null],immatriculationAdversaire:[null],numChassis:[null],raisonSociale:[null],adresse:[null],codeProduit:[null],idClient:[null],numContrat:[null]})}onPageChange(m){this.filteredTable?this.submitFilter(m.pageIndex,m.pageSize):this.getAllSinistre(m.pageIndex,m.pageSize)}getAllSinistre(m,I){this.sinistresService.getAllSinistres(this.codeProduit,I,m).subscribe({next:j=>{j.content=this.isCourtier?j.content.filter(be=>be.agence==this.AgenceCourtier):j.content,this.sinistreTable=j,this.dataSource=new n.by(j.content),this.paginator&&(this.paginator.length=j.totalElements),this.dataSource.paginator=this.paginator,this.lengthElement=this.sinistreTable.totalElements},error:j=>{console.log(j)}})}addSinistre(){this.router.navigate(["creation-sinistre"],{relativeTo:this.route})}submitFilter(m,I){let j={nom:this.formFilterSinistre.get("nomAssure").value,prenom:this.formFilterSinistre.get("prenomAssure").value,raisonSocial:this.formFilterSinistre.get("raisonSociale").value,dateSurvenance:this.formFilterSinistre.get("dateSurvenance").value,codeSinistre:this.formFilterSinistre.get("numSinistre").value,idContrat:this.formFilterSinistre.get("numPolice").value,risque:this.formFilterSinistre.get("codeRisque").value,nomAdversaire:this.formFilterSinistre.get("nomAdversaire").value,prenomAdversaire:this.formFilterSinistre.get("prenomAdversaire").value,immatriculation:this.formFilterSinistre.get("immatriculationAssure").value,numeroChassis:this.formFilterSinistre.get("numChassis").value,adresse:this.formFilterSinistre.get("adresse").value,codeProduit:this.codeProduit,idAgence:this.isCourtier?this.AgenceCourtier:this.formFilterSinistre.get("idAgence").value,nomConducteur:this.formFilterSinistre.get("nomConducteurAssure").value,prenomConducteur:this.formFilterSinistre.get("prenomConducteurAssure").value,immatriculationConducteur:this.formFilterSinistre.get("immatriculationAdversaire").value,idClient:this.formFilterSinistre.get("idClient").value,numContrat:this.formFilterSinistre.get("numContrat").value};this.sinistresService.filterSinistre(j,m,I).subscribe({next:be=>{this.filteredTable=!0,this.sinistreTable=be,this.dataSource=new n.by(be?.content),console.log("this.dataSourcesdsdsdsdsd",be),this.paginator&&(this.paginator.length=be?.totalElements),this.dataSource.paginator=this.paginator,this.lengthElement=this.sinistreTable.totalElements},error:be=>{console.log(be)}})}resetTable(m){this.filteredTable=!1,m.resetForm(),this.formFilterSinistre.reset(),this.isCourtier?this.submitFilter(0,10):this.getAllSinistre(0,10)}goTo(m,I){let j;for(let be=0;be<this.sinistreTable.content.length;be++){let It=this.sinistreTable.content[be];I===It.codeSinistre&&(j=It.immatriculation)}switch(m){case"police":this.router.navigateByUrl("consultation-police/"+this.codeProduit+"/"+this.produit+"/"+I);break;case"sinistre":this.router.navigate(["consultation-sinistre/"+I],{relativeTo:this.route,queryParams:{immatriculation:j}});break;case"gestion":this.router.navigate(["gestionnaire-sinistre/"+I],{relativeTo:this.route});break;case"expertise":this.router.navigateByUrl("gestion-missionsExpertise/gestion-mission-expertise/"+I+"/"+this.produit)}}}return f.\u0275fac=function(m){return new(m||f)(t.Y36(ee.gz),t.Y36(Q.qu),t.Y36(ee.F0),t.Y36(Zt.m))},f.\u0275cmp=t.Xpm({type:f,selectors:[["app-gestion-sinistres"]],viewQuery:function(m,I){if(1&m&&t.Gf(Mt.NW,7),2&m){let j;t.iGM(j=t.CRH())&&(I.paginator=j.first)}},decls:59,vars:16,consts:[[1,"container"],[1,"header"],[1,"title-table"],[1,"btn","btn-secondary",2,"display","flex","align-items","center",3,"disabled","click"],["aria-hidden","false","aria-label","ajouter pack ",1,"material-symbols-outlined"],["multi","",1,"example-headers-align"],[3,"expanded"],[1,"row","formFiltre",3,"formGroup","ngSubmit"],["formDirective","ngForm"],[1,"row"],["appearance","outline",1,"col-md-4"],["type","text","matInput","","placeholder","","formControlName","numPolice"],["matInput","","formControlName","dateSurvenance",3,"matDatepicker"],["matSuffix","",3,"for"],["pickerdateSurvenance",""],["type","text","matInput","","placeholder","","formControlName","numSinistre"],["type","text","matInput","","placeholder","","formControlName","codeRisque"],["class","col-md-4","appearance","outline",4,"ngIf","ngIfElse"],["mrh",""],["class","col-md-4","appearance","outline",4,"ngIf"],["type","text","matInput","","placeholder","","formControlName","raisonSociale"],["class","row",4,"ngIf"],[1,"row-buttons"],["type","submit",1,"btn","btn-action"],["matTooltip","R\xe9nitialisation","matTooltipPosition","right",1,"material-symbols-outlined",3,"click"],["mat-table","","class","gestion-table",3,"dataSource",4,"ngIf"],[3,"length","pageSize","page",4,"ngIf"],["type","text","matInput","","placeholder","","formControlName","numChassis"],["type","text","matInput","","placeholder","","formControlName","adresse"],["type","text","matInput","","placeholder","","formControlName","nomAssure"],["type","text","matInput","","placeholder","","formControlName","prenomAssure"],["type","text","matInput","","placeholder","","formControlName","nomConducteurAssure"],["type","text","matInput","","placeholder","","formControlName","prenomConducteurAssure"],["type","text","matInput","","placeholder","","formControlName","immatriculationAssure"],["type","text","matInput","","placeholder","","formControlName","nomAdversaire"],["type","text","matInput","","placeholder","","formControlName","prenomAdversaire"],["type","text","matInput","","placeholder","","formControlName","immatriculationAdversaire"],["type","text","matInput","","placeholder","","formControlName","idClient"],["type","text","matInput","","placeholder","","formControlName","numContrat"],["mat-table","",1,"gestion-table",3,"dataSource"],["matColumnDef","numSinistre"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","numPolice"],["matColumnDef","assure"],["matColumnDef","dateSurvenance"],["matColumnDef","immatriculation",4,"ngIf"],["matColumnDef","causeSinistre",4,"ngIf"],["matColumnDef","typeSinistre",4,"ngIf"],["matColumnDef","garantie",4,"ngIf"],["matColumnDef","wilaya",4,"ngIf"],["matColumnDef","commune",4,"ngIf"],["matColumnDef","situationSinistre"],["matColumnDef","action"],["mat-header-row","","class","example-second-header-row",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],[4,"ngIf","ngIfElse"],["personneMorale",""],["matColumnDef","immatriculation"],["matColumnDef","causeSinistre"],["matColumnDef","typeSinistre"],["matColumnDef","garantie"],["matColumnDef","wilaya"],["matColumnDef","commune"],["mat-icon-button","","type","button","aria-label","menu",3,"matMenuTriggerFor"],["xPosition","after",1,"menu-formule"],["menu","matMenu"],["mat-menu-item","","type","button",3,"click"],["mat-menu-item","","type","button",3,"disabled","click"],["mat-header-row","",1,"example-second-header-row"],["mat-row",""],[3,"length","pageSize","page"]],template:function(m,I){if(1&m){const j=t.EpF();t.TgZ(0,"div",0)(1,"div",1)(2,"h2",2),t._uU(3),t.qZA(),t.TgZ(4,"button",3),t.NdJ("click",function(){return I.addSinistre()}),t.TgZ(5,"mat-icon",4),t._uU(6,"add_circle"),t.qZA(),t._uU(7),t.qZA()(),t._UZ(8,"mat-divider"),t.TgZ(9,"mat-accordion",5)(10,"mat-expansion-panel",6)(11,"mat-expansion-panel-header")(12,"mat-panel-title"),t._uU(13," Recherches sinistre "),t.qZA()(),t.TgZ(14,"form",7,8),t.NdJ("ngSubmit",function(){return I.submitFilter(0,10)}),t.TgZ(16,"div",9)(17,"mat-form-field",10)(18,"mat-label"),t._uU(19,"N\xb0police"),t.qZA(),t._UZ(20,"input",11),t.qZA()(),t.TgZ(21,"div",9)(22,"mat-form-field",10)(23,"mat-label"),t._uU(24,"Date Survenance"),t.qZA(),t._UZ(25,"input",12)(26,"mat-datepicker-toggle",13)(27,"mat-datepicker",null,14),t.qZA(),t.TgZ(29,"mat-form-field",10)(30,"mat-label"),t._uU(31,"N\xb0Sinistre"),t.qZA(),t._UZ(32,"input",15),t.qZA()(),t.TgZ(33,"div",9)(34,"mat-form-field",10)(35,"mat-label"),t._uU(36,"Code risque "),t.qZA(),t._UZ(37,"input",16),t.qZA(),t.YNc(38,Cr,4,0,"mat-form-field",17),t.YNc(39,tu,4,0,"ng-template",null,18,t.W1O),t.qZA(),t.TgZ(41,"div",9),t.YNc(42,Gc,4,0,"mat-form-field",19),t.YNc(43,bc,4,0,"mat-form-field",19),t.TgZ(44,"mat-form-field",10)(45,"mat-label"),t._uU(46,"Raison Sociale"),t.qZA(),t._UZ(47,"input",20),t.qZA()(),t.ynx(48),t.YNc(49,yu,13,0,"div",21),t.YNc(50,xr,13,0,"div",21),t.YNc(51,Mr,9,0,"div",21),t.BQk(),t.TgZ(52,"div",22)(53,"button",23),t._uU(54,"Recherche"),t.qZA(),t.TgZ(55,"mat-icon",24),t.NdJ("click",function(){t.CHM(j);const It=t.MAs(15);return t.KtG(I.resetTable(It))}),t._uU(56,"restart_alt"),t.qZA()()()()(),t.YNc(57,hl,27,9,"table",25),t.YNc(58,km,1,2,"mat-paginator",26),t.qZA()}if(2&m){const j=t.MAs(28),be=t.MAs(40);t.xp6(3),t.hij(" Listes des sinistres ",I.produit,""),t.xp6(1),t.Q6J("disabled",I.isCourtier||!I.roleExist),t.xp6(3),t.hij(" D\xe9clarer un sinistre ",I.produit," "),t.xp6(3),t.Q6J("expanded",!0),t.xp6(4),t.Q6J("formGroup",I.formFilterSinistre),t.xp6(11),t.Q6J("matDatepicker",j),t.xp6(1),t.Q6J("for",j),t.xp6(12),t.Q6J("ngIf","45A"==I.codeProduit||"45F"==I.codeProduit||"45L"==I.codeProduit)("ngIfElse",be),t.xp6(4),t.Q6J("ngIf","45A"==I.codeProduit),t.xp6(1),t.Q6J("ngIf","45A"==I.codeProduit),t.xp6(6),t.Q6J("ngIf","45A"==I.codeProduit||"45F"==I.codeProduit||"45L"==I.codeProduit),t.xp6(1),t.Q6J("ngIf","45A"==I.codeProduit||"45F"==I.codeProduit||"45L"==I.codeProduit),t.xp6(1),t.Q6J("ngIf","45L"==I.codeProduit),t.xp6(6),t.Q6J("ngIf",0!=I.dataSource.data.length),t.xp6(1),t.Q6J("ngIf",0!=I.dataSource.data.length)}},dependencies:[Se.O5,nn.d,_n.Hw,Ni.pp,Ni.ib,Ni.yz,Ni.yK,xn.VK,xn.OP,xn.p6,Q._Y,Q.Fj,Q.JJ,Q.JL,Q.sg,Q.u,mn.KE,mn.hX,mn.R9,Xn.Nt,n.BZ,n.fO,n.as,n.w1,n.Dz,n.nj,n.ge,n.ev,n.XQ,n.Gk,Bi.gM,Mt.NW,Lt.Mq,Lt.hl,Lt.nW,Jn.lW,Se.uU],styles:[".container[_ngcontent-%COMP%]{background-color:#fff;padding:40px 0;height:100%;overflow-y:auto;overflow-x:hidden}.gestion-table[_ngcontent-%COMP%]{width:100%}.gestion-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .gestion-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:16px}.gestion-table[_ngcontent-%COMP%]   .mat-header-cell[_ngcontent-%COMP%]{color:#00008f;font-weight:600}.gestion-table[_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]:nth-child(even), .gestion-table[_ngcontent-%COMP%]   .mat-header-row[_ngcontent-%COMP%]{background-color:#f7f7f9}.gestion-table[_ngcontent-%COMP%]   .mat-paginator[_ngcontent-%COMP%]{background-color:transparent;margin:20px auto auto;width:80%}.gestion-table[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{height:100%;font-size:26px;color:#00008f;width:-moz-fit-content;width:fit-content}.mat-menu-item[_ngcontent-%COMP%]{font-size:15px}.mat-menu-item[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:18px;height:-moz-fit-content;height:fit-content}.mat-menu-item[_ngcontent-%COMP%]:hover:not([disabled]), .mat-menu-item[_ngcontent-%COMP%]:hover:not([disabled])   .mat-icon[_ngcontent-%COMP%]{color:#00008f}.header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:0px 2rem}.header[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{height:-moz-fit-content;height:fit-content;font-size:29px;margin-right:1rem;width:-moz-fit-content;width:fit-content}.title-table[_ngcontent-%COMP%]{margin-bottom:0rem;font-weight:800!important;font-size:23px!important;color:#00008f!important}.row.formFiltre[_ngcontent-%COMP%]{width:100%;padding:0 2rem;margin-top:2rem}.mat-divider[_ngcontent-%COMP%]{margin-bottom:2rem}.mat-expansion-panel[_ngcontent-%COMP%]{box-shadow:none}.mat-expansion-panel-header[_ngcontent-%COMP%]{background:rgba(199,199,199,.2)!important;font-weight:600;font-size:16px}.mat-expansion-panel-header.mat-expanded[_ngcontent-%COMP%]{height:48px}.mat-expansion-panel-header-title[_ngcontent-%COMP%]{color:#00008f}.row-buttons[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:center}.row-buttons[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{color:#00008f;cursor:pointer;margin-left:2rem}"]}),f})();var Cl=B(8661);function Sr(f,D){if(1&f&&(t.TgZ(0,"tr")(1,"td",7),t._uU(2,"Adresse"),t.qZA(),t.TgZ(3,"td",8),t._uU(4),t.qZA()()),2&f){const m=t.oxw();t.xp6(4),t.Oqu(m.infoSinistre.adresse)}}function Eu(f,D){if(1&f&&(t.TgZ(0,"tr")(1,"td",7),t._uU(2,"Immatriculation"),t.qZA(),t.TgZ(3,"td",8),t._uU(4),t.qZA()()),2&f){const m=t.oxw();t.xp6(4),t.Oqu(m.infoSinistre.immatriculation)}}function xl(f,D){if(1&f&&(t.TgZ(0,"tr")(1,"td",7),t._uU(2,"pays survenance"),t.qZA(),t.TgZ(3,"td",8),t._uU(4),t.qZA()(),t.TgZ(5,"tr")(6,"td",7),t._uU(7,"wilaya survenance"),t.qZA(),t.TgZ(8,"td",8),t._uU(9),t.qZA()(),t.TgZ(10,"tr")(11,"td",7),t._uU(12,"commune survenance"),t.qZA(),t.TgZ(13,"td",8),t._uU(14),t.qZA()()),2&f){const m=t.oxw(2);t.xp6(4),t.Oqu(m.infoSinistre.paysSurvenance),t.xp6(5),t.Oqu(m.infoSinistre.wilayaSurvenance),t.xp6(5),t.Oqu(m.infoSinistre.communeSurvenance)}}function iu(f,D){1&f&&t.YNc(0,xl,15,3,"ng-template")}function ou(f,D){if(1&f&&(t.TgZ(0,"tr")(1,"td",7),t._uU(2,"peut circuler"),t.qZA(),t.TgZ(3,"td",8),t._uU(4),t.qZA()()),2&f){const m=t.oxw();t.xp6(4),t.Oqu(m.infoSinistre.canCirculate)}}function Ru(f,D){if(1&f&&(t.TgZ(0,"td",8),t._uU(1),t.qZA()),2&f){const m=t.oxw().$implicit;t.xp6(1),t.Oqu(m.valeur)}}function am(f,D){if(1&f&&(t.TgZ(0,"td",8),t._uU(1),t.ALo(2,"dateFormatPipe"),t.qZA()),2&f){const m=t.oxw().$implicit;t.xp6(1),t.Oqu(t.lcZ(2,1,m.valeur))}}function ru(f,D){if(1&f&&(t.TgZ(0,"tr")(1,"td",7),t._uU(2),t.qZA(),t.YNc(3,Ru,2,1,"td",13),t.YNc(4,am,3,3,"td",13),t.qZA()),2&f){const m=D.$implicit;t.xp6(2),t.Oqu(m.descriptionChamp),t.xp6(1),t.Q6J("ngIf","L06"!=(null==m||null==m.typeChamp?null:m.typeChamp.code)),t.xp6(1),t.Q6J("ngIf","L06"==(null==m||null==m.typeChamp?null:m.typeChamp.code))}}function Xl(f,D){if(1&f&&(t.TgZ(0,"mat-expansion-panel",5)(1,"mat-expansion-panel-header")(2,"mat-panel-title"),t._uU(3," Informations sur le conducteur "),t.qZA()(),t.TgZ(4,"table",6)(5,"tr")(6,"td",7),t._uU(7,"nom"),t.qZA(),t.TgZ(8,"td",8),t._uU(9),t.qZA()(),t.TgZ(10,"tr")(11,"td",7),t._uU(12,"Pr\xe9nom"),t.qZA(),t.TgZ(13,"td",8),t._uU(14),t.qZA()(),t.TgZ(15,"tr")(16,"td",7),t._uU(17,"adresse"),t.qZA(),t.TgZ(18,"td",8),t._uU(19),t.qZA()(),t.TgZ(20,"tr")(21,"td",7),t._uU(22,"Contact"),t.qZA(),t.TgZ(23,"td",8),t._uU(24),t.qZA()(),t.TgZ(25,"tr")(26,"td",7),t._uU(27,"N\xb0permis"),t.qZA(),t.TgZ(28,"td",8),t._uU(29),t.qZA()(),t.TgZ(30,"tr")(31,"td",7),t._uU(32,"Date d\xe9livrance Permis"),t.qZA(),t.TgZ(33,"td",8),t._uU(34),t.ALo(35,"dateFormatPipe"),t.qZA(),t._UZ(36,"td"),t.qZA(),t.YNc(37,ru,5,3,"tr",12),t.qZA()()),2&f){const m=t.oxw();t.Q6J("expanded",!0),t.xp6(9),t.Oqu(m.conducteurSinistre.nomConducteur),t.xp6(5),t.Oqu(m.conducteurSinistre.prenomConducteur),t.xp6(5),t.Oqu(m.conducteurSinistre.adresse),t.xp6(5),t.Oqu(m.conducteurSinistre.contact),t.xp6(5),t.Oqu(m.conducteurSinistre.numeroPermis),t.xp6(5),t.Oqu(t.lcZ(35,8,m.conducteurSinistre.dateDelivrance)),t.xp6(3),t.Q6J("ngForOf",m.conducteurSinistre.sinsitreparams)}}function ec(f,D){if(1&f&&(t.TgZ(0,"tr")(1,"td",7),t._uU(2,"Tiers de la m\xeame famille ?"),t.qZA(),t.TgZ(3,"td",8),t._uU(4),t.qZA()()),2&f){const m=t.oxw().$implicit;t.xp6(4),t.Oqu(m.isFamilly?"Oui":"Non")}}function vl(f,D){if(1&f&&(t.TgZ(0,"tr")(1,"td",7),t._uU(2,"Nom conducteur"),t.qZA(),t.TgZ(3,"td",8),t._uU(4),t.qZA()()),2&f){const m=t.oxw().$implicit;t.xp6(4),t.Oqu(m.nomConducteur)}}function Fa(f,D){if(1&f&&(t.TgZ(0,"tr")(1,"td",7),t._uU(2,"pr\xe9nom conducteur"),t.qZA(),t.TgZ(3,"td",8),t._uU(4),t.qZA()()),2&f){const m=t.oxw().$implicit;t.xp6(4),t.Oqu(m.prenomConducteur)}}function au(f,D){if(1&f&&(t.TgZ(0,"tr")(1,"td",7),t._uU(2,"Date d\xe9livrance"),t.qZA(),t.TgZ(3,"td",8),t._uU(4),t.ALo(5,"dateFormatPipe"),t.qZA()()),2&f){const m=t.oxw().$implicit;t.xp6(4),t.Oqu(t.lcZ(5,1,m.dateDelivrance))}}function zc(f,D){if(1&f&&(t.TgZ(0,"td",8),t._uU(1),t.qZA()),2&f){const m=t.oxw().$implicit;t.xp6(1),t.Oqu(m.valeur)}}function su(f,D){if(1&f&&(t.TgZ(0,"td",8),t._uU(1),t.ALo(2,"dateFormatPipe"),t.qZA()),2&f){const m=t.oxw().$implicit;t.xp6(1),t.Oqu(t.lcZ(2,1,m.valeur))}}function sm(f,D){if(1&f&&(t.TgZ(0,"tr")(1,"td",7),t._uU(2),t.qZA(),t.YNc(3,zc,2,1,"td",13),t.YNc(4,su,3,3,"td",13),t.qZA()),2&f){const m=D.$implicit;t.xp6(2),t.Oqu(m.descriptionChamp),t.xp6(1),t.Q6J("ngIf","L06"!=(null==m||null==m.typeChamp?null:m.typeChamp.code)),t.xp6(1),t.Q6J("ngIf","L06"==(null==m||null==m.typeChamp?null:m.typeChamp.code))}}function Du(f,D){if(1&f&&(t.ynx(0),t.TgZ(1,"tr")(2,"td",14),t._uU(3,"Informations sur v\xe9hicule adverse"),t.qZA()(),t.YNc(4,sm,5,3,"tr",12),t.BQk()),2&f){const m=t.oxw().$implicit;t.xp6(4),t.Q6J("ngForOf",m.sinsitreparams)}}function ji(f,D){if(1&f&&(t.TgZ(0,"mat-expansion-panel",5)(1,"mat-expansion-panel-header")(2,"mat-panel-title"),t._uU(3),t.qZA()(),t.TgZ(4,"table",6),t.YNc(5,ec,5,1,"tr",9),t.TgZ(6,"tr")(7,"td",7),t._uU(8,"nom"),t.qZA(),t.TgZ(9,"td",8),t._uU(10),t.qZA()(),t.TgZ(11,"tr")(12,"td",7),t._uU(13,"Pr\xe9nom"),t.qZA(),t.TgZ(14,"td",8),t._uU(15),t.qZA()(),t.TgZ(16,"tr")(17,"td",7),t._uU(18,"Assurance adverse"),t.qZA(),t.TgZ(19,"td",8),t._uU(20),t.qZA()(),t.TgZ(21,"tr")(22,"td",7),t._uU(23,"Agence adverse"),t.qZA(),t.TgZ(24,"td",8),t._uU(25),t.qZA()(),t.TgZ(26,"tr")(27,"td",7),t._uU(28,"Police adverse"),t.qZA(),t.TgZ(29,"td",8),t._uU(30),t.qZA()(),t.TgZ(31,"tr")(32,"td",7),t._uU(33,"contact adverse"),t.qZA(),t.TgZ(34,"td",8),t._uU(35),t.qZA()(),t.YNc(36,vl,5,1,"tr",9),t.YNc(37,Fa,5,1,"tr",9),t.YNc(38,au,6,3,"tr",9),t.YNc(39,Du,5,1,"ng-container",9),t.qZA()()),2&f){const m=D.$implicit,I=D.index,j=t.oxw();t.Q6J("expanded",!0),t.xp6(3),t.hij(" Adversaire N\xb0",I+1," "),t.xp6(2),t.Q6J("ngIf","95"!=j.codeProduit&&"96"!=j.codeProduit),t.xp6(5),t.Oqu(m.nom),t.xp6(5),t.Oqu(m.prenom),t.xp6(5),t.Oqu(null==m.compagnyAdverse?null:m.compagnyAdverse.description),t.xp6(5),t.Oqu(null==m.agenceAdvese?null:m.agenceAdvese.description),t.xp6(5),t.Oqu(m.policeAdversaire),t.xp6(5),t.Oqu(m.contact),t.xp6(1),t.Q6J("ngIf","95"!=j.codeProduit&&"96"!=j.codeProduit),t.xp6(1),t.Q6J("ngIf","95"!=j.codeProduit&&"96"!=j.codeProduit),t.xp6(1),t.Q6J("ngIf","95"!=j.codeProduit&&"96"!=j.codeProduit),t.xp6(1),t.Q6J("ngIf",0!=m.sinsitreparams.length)}}function uc(f,D){if(1&f&&(t.TgZ(0,"mat-expansion-panel",5)(1,"mat-expansion-panel-header")(2,"mat-panel-title"),t._uU(3),t.qZA()(),t.TgZ(4,"table",6)(5,"tr")(6,"td",7),t._uU(7,"\xe9tat Sinistr\xe9e"),t.qZA(),t.TgZ(8,"td",8),t._uU(9),t.qZA()(),t.TgZ(10,"tr")(11,"td",7),t._uU(12,"Type "),t.qZA(),t.TgZ(13,"td",8),t._uU(14),t.qZA()(),t.TgZ(15,"tr")(16,"td",7),t._uU(17,"nom"),t.qZA(),t.TgZ(18,"td",8),t._uU(19),t.qZA()(),t.TgZ(20,"tr")(21,"td",7),t._uU(22,"Pr\xe9nom"),t.qZA(),t.TgZ(23,"td",8),t._uU(24),t.qZA()(),t.TgZ(25,"tr")(26,"td",7),t._uU(27,"Date de naissance "),t.qZA(),t.TgZ(28,"td",8),t._uU(29),t.qZA()(),t.TgZ(30,"tr")(31,"td",7),t._uU(32,"contact "),t.qZA(),t.TgZ(33,"td",8),t._uU(34),t.qZA()()()()),2&f){const m=D.$implicit,I=D.index;t.Q6J("expanded",!0),t.xp6(3),t.hij(" Bless\xe9/D\xe9ces N\xb0",I+1," "),t.xp6(6),t.Oqu(m.etatSinistre.description),t.xp6(5),t.Oqu(m.typePersonne.description),t.xp6(5),t.Oqu(m.nom),t.xp6(5),t.Oqu(m.prenom),t.xp6(5),t.Oqu(m.dateNaissance),t.xp6(5),t.Oqu(m.contact)}}const Zc=function(f){return[f]};let mc=(()=>{class f{constructor(m,I,j,be){this.authentificationService=m,this.route=I,this.sinistresService=j,this.paramRisqueService=be,this.adversaireTab=[],this.blessesTab=[],this.idProduit=0,this.conducteurSinistre=[],this.infoSinistre=[],this.paramRisqueAll=[]}ngOnInit(){this.codeSinistre=this.route.snapshot.paramMap.get("codeSinistre"),this.codeProduit=this.route.snapshot.paramMap.get("codeProduit"),this.nomProduit=this.route.snapshot.paramMap.get("nameProduit"),this.route.queryParams.subscribe(m=>{this.imatriculationNew=m.immatriculation}),this.getProductId(),this.getAllParamRisque()}getProductId(){this.idProduit=JSON.parse(sessionStorage.getItem("products")||"{}").find(m=>"45A"==m.codeProduit).idProduit}getAllParamRisque(){this.paramRisqueService.getParamByProduit(this.idProduit).subscribe({next:m=>{this.paramRisqueAll=m,this.getSinistreByCode(this.codeSinistre)},error:m=>{console.log(m)}})}getSinistreByCode(m){this.sinistresService.getSinistreByCode(m).subscribe({next:j=>{this.getUserById(j.auditUser,"audit"),this.getUserById(j.createUser,"create"),this.infoSinistre={codeSinistre:j.codeSinistre,codeRisque:j.codeRisque,dateDeclaration:j.dateDeclaration,dateSurvenance:j.dateSurvenance,paysSurvenance:j.paysSurvenance?.description,wilayaSurvenance:j.wilayaSurvenance?.description,communeSurvenance:j.communeSurvenance?.description,causeSinistre:j.causeSinistre?.description,origineSinistre:j.origineSinistre?.description,zoneAffecte:j.zoneAffecte?.description,statut:j.statut?.description,tauxResponsabilite:j.tauxResponsabilite,canCirculate:j.canCirculate?"Oui":"Non",autorite:j.autorite?"Oui":"Non",description:j.description,agence:j.agence?.idPersonneMorale?.raisonSocial,natureDommage:j.natureDommage,assisteurExist:0!=j.sinistreAssistances.length,assisteur:"non",adresse:j?.contratHistorique?.contratPersonneRoleList[0]?.personne?.adressesList[0]?.description,immatriculation:j?.contratHistorique?.risqueList.find(be=>"P38"==be.paramRisque.codeParam&&be.risque==j?.codeRisque)?.valeur},this.infoSinistre.assisteurExist&&(j.sinistreAssistances[0].existeAssistance?this.infoSinistre.assisteur=j.sinistreAssistances[0].assisteur.description:j.sinistreAssistances[0].appelAssistance&&(this.infoSinistre.assisteur=j.sinistreAssistances[0].assisteur?.description)),this.adversaireTab=j.sinistrePersonnes.filter(be=>"C46"==be.categoriePersonne?.code),this.adversaireTab.filter(be=>{0!=be.sinsitreparams.length&&be.sinsitreparams.filter(It=>{this.paramRisqueAll.filter(ri=>{ri.paramRisque?.codeParam==It.paramrisque?.codeParam&&(It.descriptionChamp=ri.paramRisque?.descriptionChamp)})})}),this.blessesTab=j.sinistrePersonnes.filter(be=>"C47"==be.categoriePersonne?.code),("45A"==this.codeProduit||"45F"==this.codeProduit)&&(this.conducteurSinistre=j.sinistrePersonnes.filter(be=>"C45"==be.categoriePersonne?.code)[0],this.conducteurSinistre.sinsitreparams.filter(be=>{this.paramRisqueAll.filter(It=>{It.paramRisque.codeParam==be.paramrisque.codeParam&&(be.descriptionChamp=It.paramRisque?.descriptionChamp)})}))},error:j=>{console.log(j)}})}getUserById(m,I){this.authentificationService.getByUserId(m).subscribe({next:j=>{"audit"==I?this.auditUser=j.email:this.createUser=j.email},error:j=>{console.log(j)}})}}return f.\u0275fac=function(m){return new(m||f)(t.Y36(Cl.g),t.Y36(ee.gz),t.Y36(Zt.m),t.Y36(ut.D))},f.\u0275cmp=t.Xpm({type:f,selectors:[["app-consultation-sinistre"]],viewQuery:function(m,I){if(1&m&&t.Gf(Mt.NW,5),2&m){let j;t.iGM(j=t.CRH())&&(I.paginator=j.first)}},decls:101,vars:33,consts:[[1,"container"],[1,"header-title"],["aria-hidden","false","matTooltip","Retour","matTooltipPosition","left",1,"material-symbols-outlined",3,"routerLink"],[1,"tables-panel"],["multi","",1,"example-headers-align"],[3,"expanded"],[1,"tab"],[1,"key"],[1,"value"],[4,"ngIf"],[3,"expanded",4,"ngIf"],[3,"expanded",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],["class","value",4,"ngIf"],["colspan","2",1,"key"]],template:function(m,I){1&m&&(t.TgZ(0,"div",0)(1,"h2",1)(2,"mat-icon",2),t._uU(3,"arrow_circle_left"),t.qZA(),t._uU(4," Consultation sinistre"),t.qZA(),t.TgZ(5,"div",3)(6,"mat-accordion",4)(7,"mat-expansion-panel",5)(8,"mat-expansion-panel-header")(9,"mat-panel-title"),t._uU(10," Informations sur le sinistre "),t.qZA()(),t.TgZ(11,"table",6)(12,"tr")(13,"td",7),t._uU(14,"Code sinistre"),t.qZA(),t.TgZ(15,"td",8),t._uU(16),t.qZA()(),t.TgZ(17,"tr")(18,"td",7),t._uU(19,"code risque"),t.qZA(),t.TgZ(20,"td",8),t._uU(21),t.qZA()(),t.YNc(22,Sr,5,1,"tr",9),t.YNc(23,Eu,5,1,"tr",9),t.TgZ(24,"tr")(25,"td",7),t._uU(26,"date d\xe9claration"),t.qZA(),t.TgZ(27,"td",8),t._uU(28),t.ALo(29,"dateFormatPipe"),t.qZA()(),t.TgZ(30,"tr")(31,"td",7),t._uU(32,"date survenance"),t.qZA(),t.TgZ(33,"td",8),t._uU(34),t.ALo(35,"date"),t.qZA()(),t.YNc(36,iu,1,0,null,9),t.TgZ(37,"tr")(38,"td",7),t._uU(39,"cause sinistre"),t.qZA(),t.TgZ(40,"td",8),t._uU(41),t.qZA()(),t.TgZ(42,"tr")(43,"td",7),t._uU(44,"origine Sinistre"),t.qZA(),t.TgZ(45,"td",8),t._uU(46),t.qZA()(),t.TgZ(47,"tr")(48,"td",7),t._uU(49,"zone affecte"),t.qZA(),t.TgZ(50,"td",8),t._uU(51),t.qZA()(),t.TgZ(52,"tr")(53,"td",7),t._uU(54,"statut"),t.qZA(),t.TgZ(55,"td",8),t._uU(56),t.qZA()(),t.TgZ(57,"tr")(58,"td",7),t._uU(59,"autorite"),t.qZA(),t.TgZ(60,"td",8),t._uU(61),t.qZA()(),t.TgZ(62,"tr")(63,"td",7),t._uU(64,"taux responsabilite"),t.qZA(),t.TgZ(65,"td",8),t._uU(66),t.qZA()(),t.YNc(67,ou,5,1,"tr",9),t.TgZ(68,"tr")(69,"td",7),t._uU(70,"Assisteur "),t.qZA(),t.TgZ(71,"td",8),t._uU(72),t.qZA()(),t.TgZ(73,"tr")(74,"td",7),t._uU(75,"nature dommage"),t.qZA(),t.TgZ(76,"td",8),t._uU(77),t.qZA()(),t.TgZ(78,"tr")(79,"td",7),t._uU(80,"Agence"),t.qZA(),t.TgZ(81,"td",8),t._uU(82),t.qZA()(),t.TgZ(83,"tr")(84,"td",7),t._uU(85,"Decription sinistre"),t.qZA(),t.TgZ(86,"td",8),t._uU(87),t.qZA()(),t.TgZ(88,"tr")(89,"td",7),t._uU(90,"Utilisateur de cr\xe9ation"),t.qZA(),t.TgZ(91,"td",8),t._uU(92),t.qZA()(),t.TgZ(93,"tr")(94,"td",7),t._uU(95,"Dernier utilisateur"),t.qZA(),t.TgZ(96,"td",8),t._uU(97),t.qZA()()()(),t.YNc(98,Xl,38,10,"mat-expansion-panel",10),t.YNc(99,ji,40,13,"mat-expansion-panel",11),t.YNc(100,uc,35,8,"mat-expansion-panel",11),t.qZA()()()),2&m&&(t.xp6(2),t.Q6J("routerLink",t.VKq(31,Zc,"/gestion-sinistre/"+I.codeProduit+"/"+I.nomProduit)),t.xp6(5),t.Q6J("expanded",!0),t.xp6(9),t.Oqu(I.infoSinistre.codeSinistre),t.xp6(5),t.Oqu(I.infoSinistre.codeRisque),t.xp6(1),t.Q6J("ngIf","96"==I.codeProduit),t.xp6(1),t.Q6J("ngIf","96"!=I.codeProduit),t.xp6(5),t.Oqu(t.lcZ(29,25,I.infoSinistre.dateDeclaration)),t.xp6(6),t.Oqu(t.Dn7(35,27,I.infoSinistre.dateSurvenance,"dd-MM-yyyy HH:mm:ss","utc")),t.xp6(2),t.Q6J("ngIf","45A"==I.codeProduit||"45F"==I.codeProduit),t.xp6(5),t.Oqu(I.infoSinistre.causeSinistre),t.xp6(5),t.Oqu(I.infoSinistre.origineSinistre),t.xp6(5),t.Oqu(I.infoSinistre.zoneAffecte),t.xp6(5),t.Oqu(I.infoSinistre.statut),t.xp6(5),t.Oqu(I.infoSinistre.autorite),t.xp6(5),t.Oqu(I.infoSinistre.tauxResponsabilite),t.xp6(1),t.Q6J("ngIf","45A"==I.codeProduit||"45F"==I.codeProduit),t.xp6(5),t.Oqu(I.infoSinistre.assisteur),t.xp6(5),t.Oqu(I.infoSinistre.natureDommage),t.xp6(5),t.Oqu(I.infoSinistre.agence),t.xp6(5),t.Oqu(I.infoSinistre.description),t.xp6(5),t.Oqu(I.auditUser),t.xp6(5),t.Oqu(I.createUser),t.xp6(1),t.Q6J("ngIf","45A"==I.codeProduit||"45F"==I.codeProduit),t.xp6(1),t.Q6J("ngForOf",I.adversaireTab),t.xp6(1),t.Q6J("ngForOf",I.blessesTab))},dependencies:[Se.sg,Se.O5,_n.Hw,Ni.pp,Ni.ib,Ni.yz,Ni.yK,Bi.gM,ee.rH,Se.uU,tn.y],styles:[".container[_ngcontent-%COMP%]{background-color:#fff;padding:40px 0;height:100%;overflow-y:auto;overflow-x:hidden}.gestion-table[_ngcontent-%COMP%]{width:100%}.gestion-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .gestion-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:16px}.gestion-table[_ngcontent-%COMP%]   .mat-header-cell[_ngcontent-%COMP%]{color:#00008f;font-weight:600}.gestion-table[_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]:nth-child(even), .gestion-table[_ngcontent-%COMP%]   .mat-header-row[_ngcontent-%COMP%]{background-color:#f7f7f9}.gestion-table[_ngcontent-%COMP%]   .mat-paginator[_ngcontent-%COMP%]{background-color:transparent;margin:20px auto auto;width:80%}.gestion-table[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{height:100%;font-size:26px;color:#00008f;width:-moz-fit-content;width:fit-content}.mat-menu-item[_ngcontent-%COMP%]{font-size:15px}.mat-menu-item[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:18px;height:-moz-fit-content;height:fit-content}.mat-menu-item[_ngcontent-%COMP%]:hover:not([disabled]), .mat-menu-item[_ngcontent-%COMP%]:hover:not([disabled])   .mat-icon[_ngcontent-%COMP%]{color:#00008f}.header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:0px 2rem}.header[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{height:-moz-fit-content;height:fit-content;font-size:29px;margin-right:1rem;width:-moz-fit-content;width:fit-content}.title-table[_ngcontent-%COMP%]{margin-bottom:0rem;font-weight:800!important;font-size:23px!important;color:#00008f!important}.container[_ngcontent-%COMP%]{background-color:#fff;padding:40px 0;height:100%;overflow-x:hidden;box-shadow:0 .5rem 1rem #00000026}.value[_ngcontent-%COMP%]{color:#00008f;font-weight:600}.key[_ngcontent-%COMP%]:first-letter{text-transform:uppercase}.mat-expansion-panel[_ngcontent-%COMP%]{margin-bottom:1rem}.mat-expansion-panel-header[_ngcontent-%COMP%]{background:rgba(199,199,199,.2)!important;font-weight:600;font-size:16px}.mat-expansion-panel-header.mat-expanded[_ngcontent-%COMP%]{height:48px}.mat-expansion-panel-header-title[_ngcontent-%COMP%]{color:#00008f}.mat-expansion-panel[_ngcontent-%COMP%]:not([class*=mat-elevation-z]){box-shadow:none}h2.header-title[_ngcontent-%COMP%]{padding:0 24px;font-size:21px!important;color:#00008f;font-weight:600!important;letter-spacing:1px;display:flex;justify-content:space-between}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:16px;font-weight:600;padding-left:1rem}.mat-header-cell[_ngcontent-%COMP%]{color:#333;font-weight:600;letter-spacing:.5px;font-size:15px}.tables-panel[_ngcontent-%COMP%]{width:80%}table[_ngcontent-%COMP%]{width:100%;margin:2rem}table.tab[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:17px;padding:10px 13px;border:1px solid rgba(0,0,0,.12)}.tab-buttons[_ngcontent-%COMP%]{margin-top:4rem;width:50%;display:flex;justify-content:space-between}.tab-buttons[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{margin-right:9px;font-size:24px}"]}),f})();function No(f,D){1&f&&(t.TgZ(0,"th"),t._uU(1,"immatriculation"),t.qZA())}function qc(f,D){1&f&&(t.TgZ(0,"th"),t._uU(1,"Adresse"),t.qZA(),t.TgZ(2,"th"),t._uU(3,"Wilaya"),t.qZA(),t.TgZ(4,"th"),t._uU(5,"Commune"),t.qZA())}function Vc(f,D){1&f&&(t.TgZ(0,"th"),t._uU(1,"Nom assur\xe9"),t.qZA())}function lm(f,D){1&f&&(t.TgZ(0,"th"),t._uU(1,"Pr\xe9nom assur\xe9"),t.qZA())}function lu(f,D){1&f&&(t.TgZ(0,"th"),t._uU(1,"Raison Social"),t.qZA())}function cm(f,D){if(1&f&&(t.TgZ(0,"td",5),t._uU(1),t.qZA()),2&f){const m=t.oxw();t.xp6(1),t.Oqu(m.infoSinistre.immatriculation)}}function Al(f,D){if(1&f&&(t.TgZ(0,"td",5),t._uU(1),t.qZA(),t.TgZ(2,"td",5),t._uU(3),t.qZA(),t.TgZ(4,"td",5),t._uU(5),t.qZA()),2&f){const m=t.oxw();t.xp6(1),t.Oqu(m.infoSinistre.adresse),t.xp6(2),t.Oqu(m.infoSinistre.wilaya),t.xp6(2),t.Oqu(m.infoSinistre.commune)}}function cu(f,D){if(1&f&&(t.TgZ(0,"td",5),t._uU(1),t.qZA()),2&f){const m=t.oxw();t.xp6(1),t.Oqu(m.infoSinistre.nomAssure)}}function Fr(f,D){if(1&f&&(t.TgZ(0,"td",5),t._uU(1),t.qZA()),2&f){const m=t.oxw();t.xp6(1),t.Oqu(m.infoSinistre.prenomAssure)}}function Qa(f,D){if(1&f&&(t.TgZ(0,"td",5),t._uU(1),t.qZA()),2&f){const m=t.oxw();t.xp6(1),t.Oqu(m.infoSinistre.raisonSocial)}}let rs=(()=>{class f{constructor(){this.infoSinistre=JSON.parse(sessionStorage.getItem("infoSinistre")||"{}")}ngOnInit(){}}return f.\u0275fac=function(m){return new(m||f)},f.\u0275cmp=t.Xpm({type:f,selectors:[["app-entete-gestion"]],decls:33,vars:16,consts:[[1,"infoSinistre"],[1,"resumeSinistre"],[4,"ngIf","ngIfElse"],["notAuto",""],[4,"ngIf"],[1,"value"],["class","value",4,"ngIf","ngIfElse"],["notAuto2",""],["class","value",4,"ngIf"]],template:function(m,I){if(1&m&&(t.TgZ(0,"div",0)(1,"table",1)(2,"tr")(3,"th"),t._uU(4,"N\xb0 sinistre"),t.qZA(),t.TgZ(5,"th"),t._uU(6,"N\xb0 police"),t.qZA(),t.TgZ(7,"th"),t._uU(8,"date de survenance"),t.qZA(),t.YNc(9,No,2,0,"th",2),t.YNc(10,qc,6,0,"ng-template",null,3,t.W1O),t.TgZ(12,"th"),t._uU(13,"code risque"),t.qZA(),t.YNc(14,Vc,2,0,"th",4),t.YNc(15,lm,2,0,"th",4),t.YNc(16,lu,2,0,"th",4),t.qZA(),t.TgZ(17,"tr")(18,"td",5),t._uU(19),t.qZA(),t.TgZ(20,"td",5),t._uU(21),t.qZA(),t.TgZ(22,"td",5),t._uU(23),t.ALo(24,"dateFormatPipe"),t.qZA(),t.YNc(25,cm,2,1,"td",6),t.YNc(26,Al,6,3,"ng-template",null,7,t.W1O),t.TgZ(28,"td",5),t._uU(29),t.qZA(),t.YNc(30,cu,2,1,"td",8),t.YNc(31,Fr,2,1,"td",8),t.YNc(32,Qa,2,1,"td",8),t.qZA()()()),2&m){const j=t.MAs(11),be=t.MAs(27);t.xp6(9),t.Q6J("ngIf",I.infoSinistre.immatriculation)("ngIfElse",j),t.xp6(5),t.Q6J("ngIf",I.infoSinistre.nomAssure),t.xp6(1),t.Q6J("ngIf",I.infoSinistre.prenomAssure),t.xp6(1),t.Q6J("ngIf",I.infoSinistre.raisonSocial),t.xp6(3),t.Oqu(I.infoSinistre.codeSinistre),t.xp6(2),t.Oqu(I.infoSinistre.idContrat),t.xp6(2),t.Oqu(t.lcZ(24,14,I.infoSinistre.dateSurvenance)),t.xp6(2),t.Q6J("ngIf",I.infoSinistre.immatriculation)("ngIfElse",be),t.xp6(4),t.Oqu(I.infoSinistre.codeRisque),t.xp6(1),t.Q6J("ngIf",I.infoSinistre.nomAssure),t.xp6(1),t.Q6J("ngIf",I.infoSinistre.prenomAssure),t.xp6(1),t.Q6J("ngIf",I.infoSinistre.raisonSocial)}},dependencies:[Se.O5,tn.y],styles:["table.resumeSinistre[_ngcontent-%COMP%]{background-color:#00008f0d;font-weight:600;margin:2rem auto}table.resumeSinistre[_ngcontent-%COMP%], table.resumeSinistre[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], table.resumeSinistre[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border:1px solid rgba(0,0,0,.12);border-collapse:collapse;font-size:17px}table.resumeSinistre[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], table.resumeSinistre[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:10px 20px}table.resumeSinistre[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{color:#00008f}"]}),f})();function jc(f,D){if(1&f&&(t.ynx(0),t.TgZ(1,"mat-option",12),t._uU(2),t.qZA(),t.BQk()),2&f){const m=D.$implicit;t.xp6(1),t.Q6J("value",m),t.xp6(1),t.hij("",m.description," ")}}function tc(f,D){if(1&f&&(t.ynx(0),t.TgZ(1,"mat-option",12),t._uU(2),t.qZA(),t.BQk()),2&f){const m=D.$implicit;t.xp6(1),t.Q6J("value",m),t.xp6(1),t.hij("",m.description," ")}}function as(f,D){1&f&&(t.TgZ(0,"div"),t._uU(1," ce champs est obligatoire "),t.qZA())}function Tl(f,D){if(1&f&&(t.TgZ(0,"mat-error",23),t.YNc(1,as,2,0,"div",17),t.qZA()),2&f){const m=t.oxw(2);t.xp6(1),t.Q6J("ngIf",m.formOpAssure.controls.typeAssureList.errors.required)}}function uu(f,D){if(1&f&&(t.ynx(0),t.TgZ(1,"mat-option",12),t._uU(2),t.qZA(),t.BQk()),2&f){const m=D.$implicit;t.xp6(1),t.Q6J("value",m),t.xp6(1),t.hij("",m.description," ")}}function um(f,D){1&f&&(t.TgZ(0,"div"),t._uU(1," ce champs est obligatoire "),t.qZA())}function Sc(f,D){if(1&f&&(t.TgZ(0,"mat-error",23),t.YNc(1,um,2,0,"div",17),t.qZA()),2&f){const m=t.oxw(3);t.xp6(1),t.Q6J("ngIf",m.formOpAssure.controls.typeBenificiaire.errors.required)}}function mm(f,D){1&f&&(t.TgZ(0,"div"),t._uU(1," ce champs est obligatoire "),t.qZA())}function wu(f,D){if(1&f&&(t.TgZ(0,"mat-error",23),t.YNc(1,mm,2,0,"div",17),t.qZA()),2&f){const m=t.oxw(3);t.xp6(1),t.Q6J("ngIf",m.formOpAssure.controls.nomBenificiaire.errors.required)}}function Qr(f,D){1&f&&(t.TgZ(0,"div"),t._uU(1," ce champs est obligatoire "),t.qZA())}function yc(f,D){if(1&f&&(t.TgZ(0,"mat-error",23),t.YNc(1,Qr,2,0,"div",17),t.qZA()),2&f){const m=t.oxw(3);t.xp6(1),t.Q6J("ngIf",m.formOpAssure.controls.prenomBenificiaire.errors.required)}}function Hc(f,D){if(1&f&&(t.TgZ(0,"div")(1,"div",5)(2,"div",6)(3,"mat-form-field",7)(4,"mat-label"),t._uU(5,"Type b\xe9n\xe9ficiaire"),t.qZA(),t.TgZ(6,"mat-select",24),t.YNc(7,uu,3,2,"ng-container",9),t.qZA(),t.YNc(8,Sc,2,1,"mat-error",16),t.qZA()()(),t.TgZ(9,"div",5)(10,"div",6)(11,"mat-form-field",7)(12,"mat-label"),t._uU(13,"Nom b\xe9nificiaire"),t.qZA(),t._UZ(14,"input",25),t.YNc(15,wu,2,1,"mat-error",16),t.qZA()(),t.TgZ(16,"div",6)(17,"mat-form-field",7)(18,"mat-label"),t._uU(19,"Pr\xe9nom b\xe9nificiaire"),t.qZA(),t._UZ(20,"input",26),t.YNc(21,yc,2,1,"mat-error",16),t.qZA()()()()),2&f){const m=t.oxw(2);t.xp6(7),t.Q6J("ngForOf",m.typeBenificiaire),t.xp6(1),t.Q6J("ngIf",m.formOpAssure.controls.typeBenificiaire.errors),t.xp6(7),t.Q6J("ngIf",m.formOpAssure.controls.nomBenificiaire.errors),t.xp6(6),t.Q6J("ngIf",m.formOpAssure.controls.prenomBenificiaire.errors)}}function Gs(f,D){1&f&&(t.TgZ(0,"div"),t._uU(1," ce champs est obligatoire "),t.qZA())}function mu(f,D){if(1&f&&(t.TgZ(0,"mat-error",23),t.YNc(1,Gs,2,0,"div",17),t.qZA()),2&f){const m=t.oxw(2);t.xp6(1),t.Q6J("ngIf",m.formOpAssure.controls.refOpAssure.errors.required)}}function $c(f,D){1&f&&(t.TgZ(0,"div"),t._uU(1," ce champs est obligatoire "),t.qZA())}function bl(f,D){if(1&f&&(t.TgZ(0,"div"),t._uU(1),t.qZA()),2&f){const m=t.oxw(3);t.xp6(1),t.hij(" ",m.formOpAssure.controls.opHtcAssure.errors.invalidDecimal.message," ")}}function Ou(f,D){if(1&f&&(t.TgZ(0,"mat-error",23),t.YNc(1,$c,2,0,"div",17),t.YNc(2,bl,2,1,"div",17),t.qZA()),2&f){const m=t.oxw(2);t.xp6(1),t.Q6J("ngIf",m.formOpAssure.controls.opHtcAssure.errors.required),t.xp6(1),t.Q6J("ngIf",m.formOpAssure.controls.opHtcAssure.errors.invalidDecimal)}}function Xr(f,D){1&f&&t._UZ(0,"mat-spinner",27)}function Kc(f,D){1&f&&(t.TgZ(0,"span"),t._uU(1," Cr\xe9er "),t.qZA())}function ku(f,D){if(1&f){const m=t.EpF();t.TgZ(0,"form",13,14),t.NdJ("ngSubmit",function(){t.CHM(m);const j=t.oxw();return t.KtG(j.submitOp())}),t.TgZ(2,"h2",3),t._uU(3,"Op Assur\xe9"),t.qZA(),t.TgZ(4,"div",5)(5,"div",6)(6,"mat-form-field",7)(7,"mat-label"),t._uU(8,"B\xe9nificiaire"),t.qZA(),t.TgZ(9,"mat-select",15),t.YNc(10,tc,3,2,"ng-container",9),t.qZA(),t.YNc(11,Tl,2,1,"mat-error",16),t.qZA()()(),t.YNc(12,Hc,22,4,"div",17),t.TgZ(13,"div",5)(14,"div",6)(15,"mat-form-field",7)(16,"mat-label"),t._uU(17,"R\xe9f\xe9rence document"),t.qZA(),t._UZ(18,"input",18),t.YNc(19,mu,2,1,"mat-error",16),t.qZA()(),t.TgZ(20,"div",6)(21,"mat-form-field",7)(22,"mat-label"),t._uU(23,"Montant TTC"),t.qZA(),t._UZ(24,"input",19),t.YNc(25,Ou,3,2,"mat-error",16),t.qZA()()(),t.TgZ(26,"div",20)(27,"button",21),t.YNc(28,Xr,1,0,"mat-spinner",22),t.YNc(29,Kc,2,0,"span",17),t.qZA()()()}if(2&f){const m=t.oxw();t.Q6J("formGroup",m.formOpAssure),t.xp6(10),t.Q6J("ngForOf",m.typeAssureList),t.xp6(1),t.Q6J("ngIf",m.formOpAssure.controls.typeAssureList.errors),t.xp6(1),t.Q6J("ngIf","CP523"==m.formOpAssure.value.typeAssureList.code),t.xp6(7),t.Q6J("ngIf",m.formOpAssure.controls.refOpAssure.errors),t.xp6(6),t.Q6J("ngIf",m.formOpAssure.controls.opHtcAssure.errors),t.xp6(3),t.Q6J("ngIf",m.createOp),t.xp6(1),t.Q6J("ngIf",!m.createOp)}}function du(f,D){if(1&f&&(t.ynx(0),t.TgZ(1,"mat-option",12),t._uU(2),t.qZA(),t.BQk()),2&f){const m=D.$implicit;t.xp6(1),t.Q6J("value",m.idExpert),t.xp6(1),t.hij("",m.raisonSocial," ")}}function dm(f,D){1&f&&(t.TgZ(0,"div"),t._uU(1," ce champs est obligatoire "),t.qZA())}function _u(f,D){if(1&f&&(t.TgZ(0,"mat-error",23),t.YNc(1,dm,2,0,"div",17),t.qZA()),2&f){const m=t.oxw(2);t.xp6(1),t.Q6J("ngIf",m.formOpPrestataire.controls.opPrestataireList.errors.required)}}function _m(f,D){if(1&f&&(t.ynx(0),t.TgZ(1,"mat-option",12),t._uU(2),t.qZA(),t.BQk()),2&f){const m=D.$implicit;t.xp6(1),t.Q6J("value",m),t.xp6(1),t.hij("",m.description," ")}}function Nc(f,D){1&f&&(t.TgZ(0,"div"),t._uU(1," ce champs est obligatoire "),t.qZA())}function Mu(f,D){if(1&f&&(t.TgZ(0,"mat-error",23),t.YNc(1,Nc,2,0,"div",17),t.qZA()),2&f){const m=t.oxw(3);t.xp6(1),t.Q6J("ngIf",m.formOpPrestataire.controls.typePrestataire.errors.required)}}function Uu(f,D){if(1&f&&(t.TgZ(0,"div",5)(1,"div",6)(2,"mat-form-field",7)(3,"mat-label"),t._uU(4,"Type prestataire"),t.qZA(),t.TgZ(5,"mat-select",36),t.YNc(6,_m,3,2,"ng-container",9),t.qZA(),t.YNc(7,Mu,2,1,"mat-error",16),t.qZA()()()),2&f){const m=t.oxw(2);t.xp6(6),t.Q6J("ngForOf",m.typePrestataire),t.xp6(1),t.Q6J("ngIf",m.formOpPrestataire.controls.typePrestataire.errors)}}function Fu(f,D){1&f&&(t.TgZ(0,"div"),t._uU(1," ce champs est obligatoire "),t.qZA())}function Ic(f,D){if(1&f&&(t.TgZ(0,"mat-error",23),t.YNc(1,Fu,2,0,"div",17),t.qZA()),2&f){const m=t.oxw(3);t.xp6(1),t.Q6J("ngIf",m.formOpPrestataire.controls.nomPrestataire.errors.required)}}function Ec(f,D){1&f&&(t.TgZ(0,"div"),t._uU(1," ce champs est obligatoire "),t.qZA())}function Qu(f,D){if(1&f&&(t.TgZ(0,"mat-error",23),t.YNc(1,Ec,2,0,"div",17),t.qZA()),2&f){const m=t.oxw(3);t.xp6(1),t.Q6J("ngIf",m.formOpPrestataire.controls.pernomPrestataire.errors.required)}}function Rc(f,D){if(1&f&&(t.TgZ(0,"div",5)(1,"div",6)(2,"mat-form-field",7)(3,"mat-label"),t._uU(4,"Nom prestataire"),t.qZA(),t._UZ(5,"input",37),t.YNc(6,Ic,2,1,"mat-error",16),t.qZA()(),t.TgZ(7,"div",6)(8,"mat-form-field",7)(9,"mat-label"),t._uU(10,"Pr\xe9nom prestataire"),t.qZA(),t._UZ(11,"input",38),t.YNc(12,Qu,2,1,"mat-error",16),t.qZA()()()),2&f){const m=t.oxw(2);t.xp6(6),t.Q6J("ngIf",m.formOpPrestataire.controls.nomPrestataire.errors),t.xp6(6),t.Q6J("ngIf",m.formOpPrestataire.controls.pernomPrestataire.errors)}}function pu(f,D){1&f&&(t.TgZ(0,"div"),t._uU(1," ce champs est obligatoire "),t.qZA())}function pm(f,D){if(1&f&&(t.TgZ(0,"mat-error",23),t.YNc(1,pu,2,0,"div",17),t.qZA()),2&f){const m=t.oxw(2);t.xp6(1),t.Q6J("ngIf",m.formOpPrestataire.controls.refOpPrestataire.errors.required)}}function Ju(f,D){1&f&&(t.TgZ(0,"div"),t._uU(1," ce champs est obligatoire "),t.qZA())}function Wc(f,D){if(1&f&&(t.TgZ(0,"div"),t._uU(1),t.qZA()),2&f){const m=t.oxw(3);t.xp6(1),t.hij(" ",m.formOpPrestataire.controls.opBaseTva.errors.invalidDecimal.message," ")}}function fu(f,D){if(1&f&&(t.TgZ(0,"mat-error",23),t.YNc(1,Ju,2,0,"div",17),t.YNc(2,Wc,2,1,"div",17),t.qZA()),2&f){const m=t.oxw(2);t.xp6(1),t.Q6J("ngIf",m.formOpPrestataire.controls.opBaseTva.errors.required),t.xp6(1),t.Q6J("ngIf",m.formOpPrestataire.controls.opBaseTva.errors.invalidDecimal)}}function Bs(f,D){1&f&&(t.TgZ(0,"div"),t._uU(1," ce champs est obligatoire "),t.qZA())}function fm(f,D){if(1&f&&(t.TgZ(0,"div"),t._uU(1),t.qZA()),2&f){const m=t.oxw(3);t.xp6(1),t.hij(" ",m.formOpPrestataire.controls.totalHt.errors.invalidDecimal.message," ")}}function gu(f,D){if(1&f&&(t.TgZ(0,"mat-error",23),t.YNc(1,Bs,2,0,"div",17),t.YNc(2,fm,2,1,"div",17),t.qZA()),2&f){const m=t.oxw(2);t.xp6(1),t.Q6J("ngIf",m.formOpPrestataire.controls.totalHt.errors.required),t.xp6(1),t.Q6J("ngIf",m.formOpPrestataire.controls.totalHt.errors.invalidDecimal)}}function fr(f,D){if(1&f&&(t.ynx(0),t.TgZ(1,"mat-option",12),t._uU(2),t.qZA(),t.BQk()),2&f){const m=D.$implicit;t.xp6(1),t.Q6J("value",m),t.xp6(1),t.hij("",m.description," %")}}function ea(f,D){1&f&&(t.TgZ(0,"div"),t._uU(1," ce champs est obligatoire "),t.qZA())}function $o(f,D){if(1&f&&(t.TgZ(0,"mat-error",23),t.YNc(1,ea,2,0,"div",17),t.qZA()),2&f){const m=t.oxw(2);t.xp6(1),t.Q6J("ngIf",m.formOpPrestataire.controls.opTvaPrestataire.errors.required)}}function pa(f,D){1&f&&t._UZ(0,"mat-spinner",27)}function Lu(f,D){1&f&&(t.TgZ(0,"span"),t._uU(1," Cr\xe9er "),t.qZA())}function hu(f,D){if(1&f){const m=t.EpF();t.TgZ(0,"form",13,14),t.NdJ("ngSubmit",function(){t.CHM(m);const j=t.oxw();return t.KtG(j.submitOp())}),t.TgZ(2,"h2",3),t._uU(3,"Op Prestataire"),t.qZA(),t.TgZ(4,"div",5)(5,"div",6)(6,"mat-form-field",7)(7,"mat-label"),t._uU(8,"Prestataire"),t.qZA(),t.TgZ(9,"mat-select",28)(10,"mat-option",29),t._uU(11,"Autre.."),t.qZA(),t.YNc(12,du,3,2,"ng-container",9),t.qZA(),t.YNc(13,_u,2,1,"mat-error",16),t.qZA()()(),t.YNc(14,Uu,8,2,"div",30),t.YNc(15,Rc,13,2,"div",30),t.TgZ(16,"div",5)(17,"div",6)(18,"mat-form-field",7)(19,"mat-label"),t._uU(20,"R\xe9f\xe9rence document"),t.qZA(),t._UZ(21,"input",31),t.YNc(22,pm,2,1,"mat-error",16),t.qZA()(),t.TgZ(23,"div",6)(24,"mat-form-field",7)(25,"mat-label"),t._uU(26,"Base TVA"),t.qZA(),t._UZ(27,"input",32),t.YNc(28,fu,3,2,"mat-error",16),t.qZA()()(),t.TgZ(29,"div",5)(30,"div",6)(31,"mat-form-field",7)(32,"mat-label"),t._uU(33,"Total HT"),t.qZA(),t._UZ(34,"input",33),t.YNc(35,gu,3,2,"mat-error",16),t.qZA()(),t.TgZ(36,"div",6)(37,"mat-form-field",7)(38,"mat-label"),t._uU(39,"TVA "),t.qZA(),t.TgZ(40,"mat-select",34),t.YNc(41,fr,3,2,"ng-container",9),t.qZA(),t.YNc(42,$o,2,1,"mat-error",16),t.qZA()()(),t.TgZ(43,"div",5)(44,"div",6)(45,"mat-form-field",7)(46,"mat-label"),t._uU(47,"Valeur Total"),t.qZA(),t._UZ(48,"input",35),t.qZA()()(),t.TgZ(49,"div",20)(50,"button",21),t.YNc(51,pa,1,0,"mat-spinner",22),t.YNc(52,Lu,2,0,"span",17),t.qZA()()()}if(2&f){const m=t.oxw();t.Q6J("formGroup",m.formOpPrestataire),t.xp6(12),t.Q6J("ngForOf",m.expertList),t.xp6(1),t.Q6J("ngIf",m.formOpPrestataire.controls.opPrestataireList.errors),t.xp6(1),t.Q6J("ngIf","0"==m.formOpPrestataire.value.opPrestataireList),t.xp6(1),t.Q6J("ngIf","0"==m.formOpPrestataire.value.opPrestataireList),t.xp6(7),t.Q6J("ngIf",m.formOpPrestataire.controls.refOpPrestataire.errors),t.xp6(6),t.Q6J("ngIf",m.formOpPrestataire.controls.opBaseTva.errors),t.xp6(6),t.Q6J("value",m.jsonOp.montantTTCPrestataire?m.jsonOp.montantTTCPrestataire:null),t.xp6(1),t.Q6J("ngIf",m.formOpPrestataire.controls.totalHt.errors),t.xp6(6),t.Q6J("ngForOf",m.tvaList),t.xp6(1),t.Q6J("ngIf",m.formOpPrestataire.controls.opTvaPrestataire.errors),t.xp6(6),t.Q6J("value",m.jsonOp.montantTTCPrestataire?m.jsonOp.montantTTCPrestataire:null)("disabled",!0),t.xp6(3),t.Q6J("ngIf",m.createOp),t.xp6(1),t.Q6J("ngIf",!m.createOp)}}function Cu(f,D){if(1&f&&(t.ynx(0),t.TgZ(1,"mat-option",12),t._uU(2),t.qZA(),t.BQk()),2&f){const m=D.$implicit;t.xp6(1),t.Q6J("value",m),t.xp6(1),t.hij("",m.description," ")}}function Dc(f,D){if(1&f&&(t.ynx(0),t.TgZ(1,"mat-option",12),t._uU(2),t.qZA(),t.BQk()),2&f){const m=D.$implicit;t.xp6(1),t.Q6J("value",m.idSinistrePersonne),t.xp6(1),t.AsE("",m.nom," ",m.prenom," ")}}function Yu(f,D){1&f&&(t.TgZ(0,"div"),t._uU(1," ce champs est obligatoire "),t.qZA())}function gm(f,D){if(1&f&&(t.TgZ(0,"mat-error",23),t.YNc(1,Yu,2,0,"div",17),t.qZA()),2&f){const m=t.oxw(3);t.xp6(1),t.Q6J("ngIf",m.formOpTier.controls.adversaire.errors.required)}}function Pl(f,D){if(1&f&&(t.ynx(0),t.TgZ(1,"mat-option",12),t._uU(2),t.qZA(),t.BQk()),2&f){const m=D.$implicit;t.xp6(1),t.Q6J("value",m),t.xp6(1),t.hij("",m.description," ")}}function dc(f,D){1&f&&(t.TgZ(0,"div"),t._uU(1," ce champs est obligatoire "),t.qZA())}function Zl(f,D){if(1&f&&(t.TgZ(0,"mat-error",23),t.YNc(1,dc,2,0,"div",17),t.qZA()),2&f){const m=t.oxw(3);t.xp6(1),t.Q6J("ngIf",m.formOpTier.controls.typeBeneficiairetier.errors.required)}}function Gu(f,D){1&f&&(t.TgZ(0,"div",5)(1,"div",6)(2,"mat-form-field",7)(3,"mat-label"),t._uU(4,"Compagnie adverse"),t.qZA(),t._UZ(5,"input",44),t.qZA()(),t.TgZ(6,"div",6)(7,"mat-form-field",7)(8,"mat-label"),t._uU(9,"B\xe9n\xe9ficiaire"),t.qZA(),t._UZ(10,"input",45),t.qZA()()())}function xu(f,D){1&f&&(t.TgZ(0,"div"),t._uU(1," ce champs est obligatoire "),t.qZA())}function lo(f,D){if(1&f&&(t.TgZ(0,"mat-error",23),t.YNc(1,xu,2,0,"div",17),t.qZA()),2&f){const m=t.oxw(4);t.xp6(1),t.Q6J("ngIf",m.formOpAssure.controls.nomBenificiaire.errors.required)}}function hm(f,D){1&f&&(t.TgZ(0,"div"),t._uU(1," ce champs est obligatoire "),t.qZA())}function Cm(f,D){if(1&f&&(t.TgZ(0,"mat-error",23),t.YNc(1,hm,2,0,"div",17),t.qZA()),2&f){const m=t.oxw(4);t.xp6(1),t.Q6J("ngIf",m.formOpAssure.controls.prenomBenificiaire.errors.required)}}function Gl(f,D){if(1&f&&(t.TgZ(0,"div",5)(1,"div",6)(2,"mat-form-field",7)(3,"mat-label"),t._uU(4,"Nom b\xe9nificiaire"),t.qZA(),t._UZ(5,"input",25),t.YNc(6,lo,2,1,"mat-error",16),t.qZA()(),t.TgZ(7,"div",6)(8,"mat-form-field",7)(9,"mat-label"),t._uU(10,"Pr\xe9nom b\xe9nificiaire"),t.qZA(),t._UZ(11,"input",26),t.YNc(12,Cm,2,1,"mat-error",16),t.qZA()()()),2&f){const m=t.oxw(3);t.xp6(6),t.Q6J("ngIf",m.formOpAssure.controls.nomBenificiaire.errors),t.xp6(6),t.Q6J("ngIf",m.formOpAssure.controls.prenomBenificiaire.errors)}}function vu(f,D){if(1&f){const m=t.EpF();t.TgZ(0,"div")(1,"div",5)(2,"div",6)(3,"mat-form-field",7)(4,"mat-label"),t._uU(5,"Liste des tiers "),t.qZA(),t.TgZ(6,"mat-select",41),t.NdJ("selectionChange",function(j){t.CHM(m);const be=t.oxw(2);return t.KtG(be.selectAdversaire(j.value))}),t.YNc(7,Dc,3,3,"ng-container",9),t.qZA(),t.YNc(8,gm,2,1,"mat-error",16),t.qZA()(),t.TgZ(9,"div",6)(10,"mat-form-field",7)(11,"mat-label"),t._uU(12,"type B\xe9n\xe9ficiaire"),t.qZA(),t.TgZ(13,"mat-select",42),t.NdJ("ngModelChange",function(j){t.CHM(m);const be=t.oxw(2);return t.KtG(be.selectedBeneficiaire=j)}),t.TgZ(14,"mat-option",43),t._uU(15,"Lui M\xeame"),t.qZA(),t.YNc(16,Pl,3,2,"ng-container",9),t.qZA(),t.YNc(17,Zl,2,1,"mat-error",16),t.qZA()()(),t.YNc(18,Gu,11,0,"div",30),t.YNc(19,Gl,13,2,"div",30),t.qZA()}if(2&f){const m=t.oxw(2);t.xp6(7),t.Q6J("ngForOf",m.adversaireTab),t.xp6(1),t.Q6J("ngIf",m.formOpTier.controls.adversaire.errors),t.xp6(5),t.Q6J("ngModel",m.selectedBeneficiaire),t.xp6(3),t.Q6J("ngForOf",m.typeBenificiaire),t.xp6(1),t.Q6J("ngIf",m.formOpTier.controls.typeBeneficiairetier.errors),t.xp6(1),t.Q6J("ngIf","01"==m.selectedBeneficiaire),t.xp6(1),t.Q6J("ngIf","01"!=m.selectedBeneficiaire&&null!=m.selectedBeneficiaire)}}function xm(f,D){if(1&f&&(t.ynx(0),t.TgZ(1,"mat-option",12),t._uU(2),t.qZA(),t.BQk()),2&f){const m=D.$implicit;t.xp6(1),t.Q6J("value",m.idSinistrePersonne),t.xp6(1),t.AsE("",m.nom," ",m.prenom," ")}}function vm(f,D){1&f&&(t.TgZ(0,"div"),t._uU(1," ce champs est obligatoire "),t.qZA())}function Na(f,D){if(1&f&&(t.TgZ(0,"mat-error",23),t.YNc(1,vm,2,0,"div",17),t.qZA()),2&f){const m=t.oxw(3);t.xp6(1),t.Q6J("ngIf",m.formOpTier.controls.blesse.errors.required)}}function Bu(f,D){if(1&f&&(t.ynx(0),t.TgZ(1,"mat-option",12),t._uU(2),t.qZA(),t.BQk()),2&f){const m=D.$implicit;t.xp6(1),t.Q6J("value",m),t.xp6(1),t.hij("",m.description," ")}}function Ia(f,D){1&f&&(t.TgZ(0,"div"),t._uU(1," ce champs est obligatoire "),t.qZA())}function ql(f,D){if(1&f&&(t.TgZ(0,"mat-error",23),t.YNc(1,Ia,2,0,"div",17),t.qZA()),2&f){const m=t.oxw(3);t.xp6(1),t.Q6J("ngIf",m.formOpTier.controls.typeBeneficiairetier.errors.required)}}function _c(f,D){1&f&&(t.TgZ(0,"div",5)(1,"div",6)(2,"mat-form-field",7)(3,"mat-label"),t._uU(4,"B\xe9n\xe9ficiaire"),t.qZA(),t._UZ(5,"input",47),t.qZA()()())}function zu(f,D){1&f&&(t.TgZ(0,"div"),t._uU(1," ce champs est obligatoire "),t.qZA())}function Ea(f,D){if(1&f&&(t.TgZ(0,"mat-error",23),t.YNc(1,zu,2,0,"div",17),t.qZA()),2&f){const m=t.oxw(4);t.xp6(1),t.Q6J("ngIf",m.formOpAssure.controls.nomBenificiaire.errors.required)}}function Sl(f,D){1&f&&(t.TgZ(0,"div"),t._uU(1," ce champs est obligatoire "),t.qZA())}function Au(f,D){if(1&f&&(t.TgZ(0,"mat-error",23),t.YNc(1,Sl,2,0,"div",17),t.qZA()),2&f){const m=t.oxw(4);t.xp6(1),t.Q6J("ngIf",m.formOpAssure.controls.prenomBenificiaire.errors.required)}}function wc(f,D){if(1&f&&(t.TgZ(0,"div",5)(1,"div",6)(2,"mat-form-field",7)(3,"mat-label"),t._uU(4,"Nom b\xe9nificiaire"),t.qZA(),t._UZ(5,"input",25),t.YNc(6,Ea,2,1,"mat-error",16),t.qZA()(),t.TgZ(7,"div",6)(8,"mat-form-field",7)(9,"mat-label"),t._uU(10,"Pr\xe9nom b\xe9nificiaire"),t.qZA(),t._UZ(11,"input",26),t.YNc(12,Au,2,1,"mat-error",16),t.qZA()()()),2&f){const m=t.oxw(3);t.xp6(6),t.Q6J("ngIf",m.formOpAssure.controls.nomBenificiaire.errors),t.xp6(6),t.Q6J("ngIf",m.formOpAssure.controls.prenomBenificiaire.errors)}}function U(f,D){if(1&f){const m=t.EpF();t.TgZ(0,"div",5)(1,"div",6)(2,"mat-form-field",7)(3,"mat-label"),t._uU(4,"Liste des Bless\xe9s d\xe9c\xe9s "),t.qZA(),t.TgZ(5,"mat-select",46),t.NdJ("selectionChange",function(j){t.CHM(m);const be=t.oxw(2);return t.KtG(be.selectBlesse(j.value))}),t.YNc(6,xm,3,3,"ng-container",9),t.qZA(),t.YNc(7,Na,2,1,"mat-error",16),t.qZA()(),t.TgZ(8,"div",6)(9,"mat-form-field",7)(10,"mat-label"),t._uU(11,"type B\xe9n\xe9ficiaire"),t.qZA(),t.TgZ(12,"mat-select",42),t.NdJ("ngModelChange",function(j){t.CHM(m);const be=t.oxw(2);return t.KtG(be.selectedBeneficiaire=j)}),t.TgZ(13,"mat-option",43),t._uU(14,"Lui M\xeame"),t.qZA(),t.YNc(15,Bu,3,2,"ng-container",9),t.qZA(),t.YNc(16,ql,2,1,"mat-error",16),t.qZA()(),t.YNc(17,_c,6,0,"div",30),t.YNc(18,wc,13,2,"div",30),t.qZA()}if(2&f){const m=t.oxw(2);t.xp6(6),t.Q6J("ngForOf",m.blessesList),t.xp6(1),t.Q6J("ngIf",m.formOpTier.controls.blesse.errors),t.xp6(5),t.Q6J("ngModel",m.selectedBeneficiaire),t.xp6(3),t.Q6J("ngForOf",m.typeBenificiaire),t.xp6(1),t.Q6J("ngIf",m.formOpTier.controls.typeBeneficiairetier.errors),t.xp6(1),t.Q6J("ngIf","01"==m.selectedBeneficiaire),t.xp6(1),t.Q6J("ngIf","01"!=m.selectedBeneficiaire&&null!=m.selectedBeneficiaire)}}function Te(f,D){1&f&&(t.TgZ(0,"div"),t._uU(1," ce champs est obligatoire "),t.qZA())}function N(f,D){if(1&f&&(t.TgZ(0,"div"),t._uU(1),t.qZA()),2&f){const m=t.oxw(3);t.xp6(1),t.hij(" ",m.formOpTier.controls.montantIndmnt.errors.invalidDecimal.message," ")}}function q(f,D){if(1&f&&(t.TgZ(0,"mat-error",23),t.YNc(1,Te,2,0,"div",17),t.YNc(2,N,2,1,"div",17),t.qZA()),2&f){const m=t.oxw(2);t.xp6(1),t.Q6J("ngIf",m.formOpTier.controls.montantIndmnt.errors.required),t.xp6(1),t.Q6J("ngIf",m.formOpTier.controls.montantIndmnt.errors.invalidDecimal)}}function G(f,D){1&f&&t._UZ(0,"mat-spinner",27)}function b(f,D){1&f&&(t.TgZ(0,"span"),t._uU(1," Cr\xe9er "),t.qZA())}function te(f,D){if(1&f){const m=t.EpF();t.TgZ(0,"form",13,14),t.NdJ("ngSubmit",function(){t.CHM(m);const j=t.oxw();return t.KtG(j.submitOp())}),t.TgZ(2,"h2",3),t._uU(3,"Op tiers"),t.qZA(),t.TgZ(4,"div",5)(5,"div",6)(6,"mat-form-field",7)(7,"mat-label"),t._uU(8,"Type tiers "),t.qZA(),t.TgZ(9,"mat-select",39),t.NdJ("selectionChange",function(j){t.CHM(m);const be=t.oxw();return t.KtG(be.selectTypeTier(j.value))}),t.YNc(10,Cu,3,2,"ng-container",9),t.qZA()()()(),t.YNc(11,vu,20,7,"div",17),t.YNc(12,U,19,7,"div",30),t.TgZ(13,"div",5)(14,"div",6)(15,"mat-form-field",7)(16,"mat-label"),t._uU(17,"Montant ind\xe9mnisation "),t.qZA(),t._UZ(18,"input",40),t.YNc(19,q,3,2,"mat-error",16),t.qZA()()(),t.TgZ(20,"div",20)(21,"button",21),t.YNc(22,G,1,0,"mat-spinner",22),t.YNc(23,b,2,0,"span",17),t.qZA()()()}if(2&f){const m=t.oxw();t.Q6J("formGroup",m.formOpTier),t.xp6(10),t.Q6J("ngForOf",m.typeTiersList),t.xp6(1),t.Q6J("ngIf","CD09"==m.formOpTier.value.typeTier.code),t.xp6(1),t.Q6J("ngIf","CD10"==m.formOpTier.value.typeTier.code),t.xp6(7),t.Q6J("ngIf",m.formOpTier.controls.montantIndmnt.errors),t.xp6(3),t.Q6J("ngIf",m.createOp),t.xp6(1),t.Q6J("ngIf",!m.createOp)}}function _e(f){if(f.value&&!/^\d+(\.\d{1,2})?$/.test(f.value))return console.log("control"),console.log(f.value),{invalidDecimal:{message:"D\xe9cimal invalid"}}}let ye=(()=>{class f{constructor(m,I,j,be,It){this.formBuilder=m,this.genericService=I,this.route=j,this.router=be,this.sinistresService=It,this.jsonOp={},this.tvaList=[],this.adversaireTab=[],this.expertList=[],this.codeTypeOp={},this.typeOpList=[],this.typeBenificiaire=null,this.selectedBeneficiaire=null,this.roleUser=JSON.parse(sessionStorage.getItem("roles")||""),this.sinistreRoles={"45A":["GESTIONNAIRE_SINISTRE","RESPONSABLE_SINISTRE","DIRECTEUR","CHEF_PROJET","ADMIN","ROLE_SUPER_ADMIN","ANALYSTE","GESTION_SINISTRE","GESTIONNAIRE_JUNIOR"],"45F":["GESTIONNAIRE_SINISTRE","RESPONSABLE_SINISTRE","DIRECTEUR","CHEF_PROJET","ADMIN","ROLE_SUPER_ADMIN","ANALYSTE","GESTION_SINISTRE","GESTIONNAIRE_JUNIOR"],"45L":["GESTIONNAIRE_SINISTRE","RESPONSABLE_SINISTRE","DIRECTEUR","CHEF_PROJET","ADMIN","ROLE_SUPER_ADMIN","ANALYSTE","GESTION_SINISTRE","GESTIONNAIRE_JUNIOR"],95:["GESTION_SINISTRE_MRH_MRP","RESPONSABLE_SINISTRE_MRH_MRP","ADMIN","ROLE_SUPER_ADMIN","ANALYSTE"],96:["GESTION_SINISTRE_MRH_MRP","RESPONSABLE_SINISTRE_MRH_MRP","ADMIN","ROLE_SUPER_ADMIN","ANALYSTE"]},this.newItemEvent=new t.vpe}ngOnInit(){this.createOp=!1,this.getDictionnaireList(),this.initFormOpAssure(),this.initFormOpTier(),this.initFormOpPrestataire(),null!==this.codeSinistre&&(this.codeSinistre=this.route.snapshot.paramMap.get("codeSinistre")),this.getCodeProduitA(),null!==this.codeReserve&&(this.codeReserve=this.route.snapshot.paramMap.get("codeReserve")),null!==this.statutSinistre&&(this.statutSinistre=this.route.snapshot.paramMap.get("codeStatut")),null!==this.codeGarantie&&(this.codeGarantie=this.route.snapshot.paramMap.get("codeGarantie")),this.getListExpert(this.codeSinistre),this.getListAdversaire(this.codeSinistre)}getDictionnaireList(){this.genericService.getParam(JSON.parse(sessionStorage.getItem("dictionnaire")||"{}").find(m=>"C52"==m.code).idCategorie).subscribe(m=>{this.typeOpList=m.filter(I=>this.calculateur?.referencePV?"OPA"==I.code||"OPT"==I.code:"OPA"==I.code||"OPP"==I.code||"OPT"==I.code)}),this.genericService.getParam(JSON.parse(sessionStorage.getItem("dictionnaire")||"{}").find(m=>"C69"==m.code).idCategorie).subscribe(m=>{this.tvaList=m}),this.genericService.getParam(JSON.parse(sessionStorage.getItem("dictionnaire")||"{}").find(m=>"C99"==m.code).idCategorie).subscribe(m=>{this.typeBenificiaire=m,"96"==this.codeProduit&&(this.typeBenificiaire=this.typeBenificiaire.filter(I=>"divers"!=I.description),console.log(" this.typeBenificiaire",this.typeBenificiaire))})}getCodeProduitA(){this.sinistresService.getSinistreByCode(this.codeSinistre).subscribe({next:m=>{this.codeProduit=m.produit.codeProduit;let I=!1;this.roleUser.find(j=>{this.sinistreRoles[this.codeProduit+""].includes(j)&&(I=!0)}),I||this.router.navigate(["/dashboard"]),"96"==this.codeProduit&&(this.typeBenificiaire=this.typeBenificiaire.filter(j=>"divers"!=j.description))},error:m=>{console.log(m)}})}getListExpert(m){this.sinistresService.getListExpert(m).subscribe({next:I=>{this.expertList=I;const j=new Set;this.expertList=this.expertList.filter(be=>!j.has(JSON.stringify(be))&&j.add(JSON.stringify(be)))},error:I=>{console.log(I)}})}getListAdversaire(m){this.sinistresService.getSinistreByCode(m).subscribe({next:I=>{this.adversaireTab=I.sinistrePersonnes.filter(j=>"C46"==j.categoriePersonne.code)},error:I=>{console.log(I)}})}selectTypeTier(m){"CD09"==m.code?this.getListAdv(this.codeSinistre):this.getListBlesses(this.codeSinistre)}getListAdv(m){this.sinistresService.getTiers(m).subscribe({next:I=>{this.tiersList=I},error:I=>{console.log(I)}})}getListBlesses(m){this.sinistresService.getBlesses(m).subscribe({next:I=>{this.blessesList=I},error:I=>{console.log(I)}})}selectTypeOp(m){this.codeTypeOp=m,"OPA"==m.code?(this.sinistresService.getByLien(m.idParam).subscribe({next:I=>{this.typeAssureList=I},error:I=>{console.log(I)}}),this.sinistresService.getSinistreByCode(this.codeSinistre).subscribe({next:I=>{this.assure=I.sinistrePersonnes.filter(j=>"C45"==j.categoriePersonne.code)[0]},error:I=>{console.log(I)}})):"OPP"==m.code?this.sinistresService.getByLien(m.idParam).subscribe({next:I=>{this.typePrestataire=I},error:I=>{console.log(I)}}):"OPT"==m.code&&this.sinistresService.getByLien(m.idParam).subscribe({next:I=>{this.typeTiersList=I},error:I=>{console.log(I)}})}selectAdversaire(m){let I=this.adversaireTab.filter(j=>j.idSinistrePersonne==m)[0];this.companyAdv={},this.companyAdv.idParam=I?.compagnyAdverse?.idParam,this.companyAdv.description=I?.compagnyAdverse?.description,this.companyAdv.code=I.compagnyAdverse?.code,this.adversaireId=I?.idSinistrePersonne,this.formOpTier.get("companyAdverse").setValue(this.companyAdv?.description),this.formOpTier.get("beneficiaireBless").setValue(I.nom+" "+I.prenom),"CP405"==this.companyAdv.code?this.formOpTier.get("beneficiaire").setValue(I.nom+" "+I.prenom):this.formOpTier.get("beneficiaire").setValue(this.companyAdv.description)}selectBlesse(m){let I=this.blessesList.filter(j=>j.idSinistrePersonne==m)[0];this.adversaireId=I.idSinistrePersonne,this.formOpTier.get("beneficiaireBless").setValue(I.nom+" "+I.prenom)}initFormOpAssure(){this.formOpAssure=this.formBuilder.group({refOpAssure:[this.calculateur?.referencePV,[Q.kI.required,Q.kI.maxLength(15)]],typeAssureList:["",[Q.kI.required]],typeBenificiaire:[""],nomBenificiaire:[""],prenomBenificiaire:[""],opHtcAssure:[{value:this.calculateur?.totalRegle,disabled:!!this.calculateur?.totalRegle},[Q.kI.required,_e]]})}initFormOpPrestataire(){this.formOpPrestataire=this.formBuilder.group({opPrestataireList:["",[Q.kI.required]],refOpPrestataire:["",[Q.kI.required,Q.kI.maxLength(15)]],opTvaPrestataire:["",[Q.kI.required]],opBaseTva:["",[Q.kI.required,_e]],typePrestataire:[""],nomPrestataire:[""],pernomPrestataire:[""],totalHt:["",[Q.kI.required,_e]]})}initFormOpTier(){this.formOpTier=this.formBuilder.group({typeTier:["",[Q.kI.required]],adversaire:[""],typeBeneficiairetier:[""],nomBenificiaire:[""],blesse:[""],prenomBenificiaire:[""],beneficiaire:[{value:"",disabled:!0}],beneficiaireBless:[{value:"",disabled:!0}],companyAdverse:[{value:"",disabled:!0}],montantIndmnt:[{value:this.calculateur?.totalRegle,disabled:!!this.calculateur?.totalRegle},[Q.kI.required,_e]]})}submitOp(){if(this.jsonOp={},this.formOpAssure.valid)this.createOp=!0,this.jsonOp={},this.jsonOp.typeOp={},this.jsonOp.typeOp.idParam=this.codeTypeOp.idParam,this.jsonOp.typeOp.code=this.codeTypeOp.code,this.jsonOp.sinistrePersonne={},this.jsonOp.sinistrePersonne.idSinistrePersonne=this.assure?.idSinistrePersonne,this.jsonOp.typeBenificiaire={},this.jsonOp.typeBenificiaire.idParam=this.formOpAssure.get("typeAssureList").value.idParam,this.jsonOp.typeBenificiaire.code=this.formOpAssure.get("typeAssureList").value.code,"CP522"==this.formOpAssure.get("typeAssureList").value.code?this.jsonOp.benificiaire=null:(this.jsonOp.benificiaire={},this.jsonOp.benificiaire.idParam=this.formOpAssure.get("typeBenificiaire").value.idParam,this.jsonOp.benificiaire.code=this.formOpAssure.get("typeBenificiaire").value.code),this.jsonOp.nom=this.formOpAssure.get("nomBenificiaire").value,this.jsonOp.prenom=this.formOpAssure.get("prenomBenificiaire").value,this.jsonOp.referenceDocument=this.formOpAssure.get("refOpAssure").value,this.jsonOp.montantTTC=this.formOpAssure.get("opHtcAssure").value;else if(this.formOpPrestataire.valid)this.createOp=!0,this.jsonOp={},this.jsonOp.typeOp={},this.jsonOp.typeOp.idParam=this.codeTypeOp.idParam,this.jsonOp.typeOp.code=this.codeTypeOp.code,this.jsonOp.referenceDocument=this.formOpPrestataire.get("refOpPrestataire").value,this.jsonOp.montantHTC=this.formOpPrestataire.get("opBaseTva").value,this.jsonOp.tva={},this.jsonOp.tva.idParam=this.formOpPrestataire.get("opTvaPrestataire").value.idParam,this.jsonOp.tva.code=this.formOpPrestataire.get("opTvaPrestataire").value.code,this.jsonOp.totalHt=this.formOpPrestataire.get("totalHt").value,"0"==this.formOpPrestataire.get("opPrestataireList").value?(this.jsonOp.nom=this.formOpPrestataire.get("nomPrestataire").value,this.jsonOp.prenom=this.formOpPrestataire.get("pernomPrestataire").value,this.jsonOp.benificiaire={},this.jsonOp.benificiaire.idParam=this.formOpPrestataire.get("typePrestataire").value.idParam,this.jsonOp.benificiaire.code=this.formOpPrestataire.get("typePrestataire").value.code):(this.jsonOp.expert={},this.jsonOp.expert.idExpert=this.formOpPrestataire.get("opPrestataireList").value);else if(this.formOpTier.valid)if(this.createOp=!0,this.jsonOp={},this.jsonOp.typeOp={},this.jsonOp.typeOp.idParam=this.codeTypeOp.idParam,this.jsonOp.typeOp.code=this.codeTypeOp.code,this.jsonOp.montantTTC=this.formOpTier.get("montantIndmnt").value,"CD09"==this.formOpTier.get("typeTier").value.code)if(this.jsonOp.typeBenificiaire={},this.jsonOp.typeBenificiaire.idParam=this.formOpTier.get("typeTier").value.idParam,this.jsonOp.typeBenificiaire.code=this.formOpTier.get("typeTier").value.code,"01"==this.selectedBeneficiaire){this.jsonOp.sinistrePersonne={},this.jsonOp.sinistrePersonne.idSinistrePersonne=this.formOpTier.get("adversaire").value;let m=this.adversaireTab.find(I=>I.idSinistrePersonne==this.jsonOp.sinistrePersonne.idSinistrePersonne);this.jsonOp.nom=m.nom,this.jsonOp.prenom=m.prenom}else this.jsonOp.sinistrePersonne={},this.jsonOp.sinistrePersonne.idSinistrePersonne=this.formOpTier.get("adversaire").value,this.jsonOp.benificiaire={},this.jsonOp.benificiaire.idParam=this.formOpTier.get("typeBeneficiairetier").value.idParam,this.jsonOp.benificiaire.code=this.formOpTier.get("typeBeneficiairetier").value.code,this.jsonOp.nom=this.formOpTier.get("nomBenificiaire").value,this.jsonOp.prenom=this.formOpTier.get("prenomBenificiaire").value;else this.jsonOp.typeBenificiaire={},this.jsonOp.typeBenificiaire.idParam=this.formOpTier.get("typeTier").value.idParam,this.jsonOp.typeBenificiaire.code=this.formOpTier.get("typeTier").value.code,"01"==this.selectedBeneficiaire?(this.jsonOp.sinistrePersonne={},this.jsonOp.sinistrePersonne.idSinistrePersonne=this.formOpTier.get("blesse").value):(this.jsonOp.benificiaire={},this.jsonOp.benificiaire.idParam=this.formOpTier.get("typeBeneficiairetier").value.idParam,this.jsonOp.benificiaire.code=this.formOpTier.get("typeBeneficiairetier").value.code,this.jsonOp.sinistrePersonne={},this.jsonOp.sinistrePersonne.idSinistrePersonne=this.formOpTier.get("blesse").value,this.jsonOp.nom=this.formOpTier.get("nomBenificiaire").value,this.jsonOp.prenom=this.formOpTier.get("prenomBenificiaire").value);this.jsonOp.calculateur=this.calculateur,this.newItemEvent.emit(this.jsonOp)}goTo(m){"instance"===m&&this.router.navigate(["../../../../..//OP/"+this.idDecompte+"/creation-instance"],{relativeTo:this.route})}goBack(){this.router.navigate(["../../../../"],{relativeTo:this.route})}}return f.\u0275fac=function(m){return new(m||f)(t.Y36(Q.qu),t.Y36(tt.M),t.Y36(ee.gz),t.Y36(ee.F0),t.Y36(Zt.m))},f.\u0275cmp=t.Xpm({type:f,selectors:[["app-create-op-assure"]],inputs:{calculateur:"calculateur"},outputs:{newItemEvent:"newItemEvent"},decls:19,vars:4,consts:[[1,"container"],[1,"header-container"],["aria-hidden","false","matTooltip","Retour","matTooltipPosition","left",1,"material-symbols-outlined","head-display",3,"click"],[1,"header-title"],[2,"margin-bottom","20px","margin-top","40px"],[1,"row"],[1,"col-md-6"],["appearance","outline",1,"col-md-10"],[3,"selectionChange"],[4,"ngFor","ngForOf"],[2,"margin-bottom","40px","margin-top","40px"],["class","formFiltre",3,"formGroup","ngSubmit",4,"ngIf"],[3,"value"],[1,"formFiltre",3,"formGroup","ngSubmit"],["formDirective","ngForm"],["formControlName","typeAssureList"],["class","invalid-feedback",4,"ngIf"],[4,"ngIf"],["type","text","matInput","","placeholder","","formControlName","refOpAssure"],["type","number","matInput","","placeholder","","formControlName","opHtcAssure"],[1,"button-row"],["type","submit",1,"btn","btn-action"],["color","white","diameter","30",4,"ngIf"],[1,"invalid-feedback"],["formControlName","typeBenificiaire"],["type","text","matInput","","placeholder","","formControlName","nomBenificiaire"],["type","text","matInput","","placeholder","","formControlName","prenomBenificiaire"],["color","white","diameter","30"],["formControlName","opPrestataireList"],["value","0"],["class","row",4,"ngIf"],["type","text","matInput","","placeholder","","formControlName","refOpPrestataire"],["type","number","matInput","","placeholder","","formControlName","opBaseTva"],["type","number","formControlName","totalHt","matInput","","placeholder","",3,"value"],["formControlName","opTvaPrestataire"],["type","text","matInput","","placeholder","",3,"value","disabled"],["formControlName","typePrestataire"],["type","text","matInput","","placeholder","","formControlName","nomPrestataire"],["type","text","matInput","","placeholder","","formControlName","pernomPrestataire"],["formControlName","typeTier",3,"selectionChange"],["type","number","matInput","","placeholder","","formControlName","montantIndmnt"],["formControlName","adversaire",3,"selectionChange"],["formControlName","typeBeneficiairetier",3,"ngModel","ngModelChange"],["value","01"],["type","text","matInput","","placeholder","","formControlName","companyAdverse"],["type","text","matInput","","placeholder","","formControlName","beneficiaire"],["formControlName","blesse",3,"selectionChange"],["type","text","matInput","","placeholder","","formControlName","beneficiaireBless"]],template:function(m,I){1&m&&(t.TgZ(0,"div",0)(1,"div",1)(2,"mat-icon",2),t.NdJ("click",function(){return I.goBack()}),t._uU(3,"arrow_circle_left "),t.qZA(),t.TgZ(4,"h2",3),t._uU(5," Cr\xe9ation OP "),t.qZA()(),t._UZ(6,"app-entete-gestion"),t.TgZ(7,"div",4)(8,"div",5)(9,"div",6)(10,"mat-form-field",7)(11,"mat-label"),t._uU(12,"Type de l'OP"),t.qZA(),t.TgZ(13,"mat-select",8),t.NdJ("selectionChange",function(be){return I.selectTypeOp(be.value)}),t.YNc(14,jc,3,2,"ng-container",9),t.qZA()()()(),t._UZ(15,"mat-divider",10),t.qZA(),t.YNc(16,ku,30,8,"form",11),t.YNc(17,hu,53,15,"form",11),t.YNc(18,te,24,7,"form",11),t.qZA()),2&m&&(t.xp6(14),t.Q6J("ngForOf",I.typeOpList),t.xp6(2),t.Q6J("ngIf","OPA"==I.codeTypeOp.code),t.xp6(1),t.Q6J("ngIf","OPP"==I.codeTypeOp.code),t.xp6(1),t.Q6J("ngIf","OPT"==I.codeTypeOp.code))},dependencies:[Se.sg,Se.O5,nn.d,_n.Hw,Q._Y,Q.Fj,Q.wV,Q.JJ,Q.JL,Q.sg,Q.u,mn.TO,mn.KE,mn.hX,Xn.Nt,Bi.gM,xt.gD,ht.ey,Qn.Ou,rs],styles:[".container[_ngcontent-%COMP%]{background-color:#fff;padding:40px 43px;height:100%;overflow-x:hidden;box-shadow:0 .5rem 1rem #00000026}.header-container[_ngcontent-%COMP%]{font-size:21px!important;color:#00008f;font-weight:600!important;letter-spacing:1px;display:flex;justify-content:space-between}.head-display[_ngcontent-%COMP%]{transform:scale(1.5)}h2.header-title[_ngcontent-%COMP%]{padding:0 24px;font-size:21px!important;color:#00008f;font-weight:600!important;letter-spacing:1px;display:flex;justify-content:space-between}.header-title[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{cursor:pointer;width:-moz-fit-content;width:fit-content;height:-moz-fit-content;height:fit-content;font-size:33px}.formFiltre[_ngcontent-%COMP%]{margin-top:30px;margin-left:25px}.button-row[_ngcontent-%COMP%]   .btn-action[_ngcontent-%COMP%]{float:right}.mat-menu-item[_ngcontent-%COMP%]{font-size:15px}.mat-menu-item[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:18px;height:-moz-fit-content;height:fit-content}.mat-menu-item[_ngcontent-%COMP%]:hover:not([disabled]), .mat-menu-item[_ngcontent-%COMP%]:hover:not([disabled])   .mat-icon[_ngcontent-%COMP%]{color:#00008f}"]}),f})();var Ke=B(5412);let Pt=(()=>{class f{constructor(m,I,j){this.sinistresService=m,this.data=I,this.dialogRef=j,this.clotureSinistre={statut:!1,reponse:!1},this.desistementReponse=!1,this.natureDommage=""}ngOnInit(){}desistement(m){}cloturerSinistre(m){}}return f.\u0275fac=function(m){return new(m||f)(t.Y36(Zt.m),t.Y36(Ke.WI),t.Y36(Ke.so))},f.\u0275cmp=t.Xpm({type:f,selectors:[["app-withdrawal-sinistre-dialog"]],decls:12,vars:2,consts:[[1,"heading"],[1,"mat-typography"],[1,"content"],[1,"button-row"],["type","button",1,"btn","btn-cancel",3,"mat-dialog-close"],[1,"btn","btn-delete",3,"mat-dialog-close"]],template:function(m,I){1&m&&(t.TgZ(0,"h2",0),t._uU(1,"D\xe9sistement de client "),t.qZA(),t._UZ(2,"mat-divider"),t.TgZ(3,"mat-dialog-content",1)(4,"p"),t._uU(5,"Etes-vous sur de vouloir d\xe9sister ce sinistre."),t.qZA(),t.TgZ(6,"div",2)(7,"div",3)(8,"button",4),t._uU(9,"Retour"),t.qZA(),t.TgZ(10,"button",5),t._uU(11,"Confirmer"),t.qZA()()()()),2&m&&(t.xp6(8),t.Q6J("mat-dialog-close",!1),t.xp6(2),t.Q6J("mat-dialog-close",!0))},dependencies:[nn.d,Ke.ZT,Ke.xY],styles:[".tierExistRadio[_ngcontent-%COMP%]{margin-top:3rem}.mat-radio-group[_ngcontent-%COMP%]   .mat-radio-button[_ngcontent-%COMP%]{margin-left:4rem}.mat-radio-label[_ngcontent-%COMP%]{font-size:16px}.mat-dialog-content[_ngcontent-%COMP%]{padding-top:15px}.btn.btn-cancel[_ngcontent-%COMP%]{float:left}.btn.btn-delete[_ngcontent-%COMP%]{float:right}p[_ngcontent-%COMP%]{margin-bottom:2rem;font-size:19px;text-align:center;line-height:3rem}.content[_ngcontent-%COMP%]{display:flex;flex-direction:column}.content[_ngcontent-%COMP%]   .existRadio[_ngcontent-%COMP%]{margin-bottom:2rem}.button-row[_ngcontent-%COMP%]{margin-top:2rem}"]}),f})();function ft(f,D){if(1&f&&(t.ynx(0),t.TgZ(1,"mat-option",13),t._uU(2),t.qZA(),t.BQk()),2&f){const m=D.$implicit;t.xp6(1),t.Q6J("value",m.idParam),t.xp6(1),t.hij(" ",m.description," ")}}function St(f,D){if(1&f&&(t.ynx(0),t.TgZ(1,"mat-option",13),t._uU(2),t.qZA(),t.BQk()),2&f){const m=D.$implicit;t.xp6(1),t.Q6J("value",m.idParam),t.xp6(1),t.hij(" ",m.description," ")}}function Nt(f,D){1&f&&(t.TgZ(0,"button",14),t._uU(1,"Enregistrer"),t.qZA())}function Bn(f,D){1&f&&(t.TgZ(0,"div")(1,"p"),t._uU(2,"Fiche pas disponible pour modification."),t.qZA()())}let hn=(()=>{class f{constructor(m,I,j,be,It){this.formBuilder=m,this.genericService=I,this.sinistresService=j,this.data=be,this.dialogRef=It,this.loadListFraudes=!1,this.fraudesArray=[],this.contentieuxArray=[],this.typeFraudes=[]}ngOnInit(){this.formFraude=this.formBuilder.group({fraude:["",Q.kI.required],contentieux:["",Q.kI.required]}),"CP355"==this.data.statutSinistre||"CP415"==this.data.statutSinistre?this.formFraude.disable():this.formFraude.enable(),this.genericService.getParam(JSON.parse(sessionStorage.getItem("dictionnaire")||"{}").find(m=>"C58"==m.code).idCategorie).subscribe(m=>{this.fraudesArray=m,null!=this.data.fraude?this.formFraude.get("fraude").setValue(this.data.fraude.statutFraude.idParam):this.formFraude.get("fraude").setValue(this.fraudesArray.filter(I=>"CP435"==I.code)[0].idParam)}),this.genericService.getParam(JSON.parse(sessionStorage.getItem("dictionnaire")||"{}").find(m=>"C73"==m.code).idCategorie).subscribe(m=>{this.contentieuxArray=m,null!=this.data.fraude?this.formFraude.get("contentieux").setValue(this.data.fraude.statutContentieux.idParam):this.formFraude.get("contentieux").setValue(this.contentieuxArray.filter(I=>"CP483"==I.code)[0].idParam)})}submit(){this.dialogRef.close({data:{data:!0,fraude:this.formFraude.get("fraude").value,contentieux:this.formFraude.get("contentieux").value}})}}return f.\u0275fac=function(m){return new(m||f)(t.Y36(Q.qu),t.Y36(tt.M),t.Y36(Zt.m),t.Y36(Ke.WI),t.Y36(Ke.so))},f.\u0275cmp=t.Xpm({type:f,selectors:[["app-fraude-sinistre-dialog"]],decls:22,vars:6,consts:[[1,"heading"],[1,"mat-typography"],[1,"content"],[3,"formGroup","ngSubmit"],["formDirective","ngForm"],["appearance","outline",1,"col-md-12"],["formControlName","fraude","appearance","outline"],[4,"ngFor","ngForOf"],["formControlName","contentieux","appearance","outline"],[1,"button-row"],["type","button",1,"btn","btn-cancel",3,"mat-dialog-close"],["class","btn btn-delete","type","submit",4,"ngIf"],[4,"ngIf"],[3,"value"],["type","submit",1,"btn","btn-delete"]],template:function(m,I){1&m&&(t.TgZ(0,"h2",0),t._uU(1,"Fraude et contentieux "),t.qZA(),t._UZ(2,"mat-divider"),t.TgZ(3,"mat-dialog-content",1)(4,"div",2)(5,"form",3,4),t.NdJ("ngSubmit",function(){return I.submit()}),t.TgZ(7,"mat-form-field",5)(8,"mat-label"),t._uU(9,"Fraude "),t.qZA(),t.TgZ(10,"mat-select",6),t.YNc(11,ft,3,2,"ng-container",7),t.qZA()(),t.TgZ(12,"mat-form-field",5)(13,"mat-label"),t._uU(14,"Contentieux "),t.qZA(),t.TgZ(15,"mat-select",8),t.YNc(16,St,3,2,"ng-container",7),t.qZA()(),t.TgZ(17,"div",9)(18,"button",10),t._uU(19,"Retour"),t.qZA(),t.YNc(20,Nt,2,0,"button",11),t.qZA(),t.YNc(21,Bn,3,0,"div",12),t.qZA()()()),2&m&&(t.xp6(5),t.Q6J("formGroup",I.formFraude),t.xp6(6),t.Q6J("ngForOf",I.fraudesArray),t.xp6(5),t.Q6J("ngForOf",I.contentieuxArray),t.xp6(2),t.Q6J("mat-dialog-close",!1),t.xp6(2),t.Q6J("ngIf","CP355"!==I.data.statutSinistre&&"CP415"!==I.data.statutSinistre&&"CP524"!==I.data.statutSinistre),t.xp6(1),t.Q6J("ngIf","CP415"===I.data.statutSinistre||"CP524"===I.data.statutSinistre))},dependencies:[Se.sg,Se.O5,nn.d,Q._Y,Q.JJ,Q.JL,Q.sg,Q.u,mn.KE,mn.hX,Ke.ZT,Ke.xY,xt.gD,ht.ey],styles:[".mat-dialog-content[_ngcontent-%COMP%]{padding-top:15px}.btn.btn-cancel[_ngcontent-%COMP%]{float:left}.btn.btn-delete[_ngcontent-%COMP%]{float:right}p[_ngcontent-%COMP%]{margin-bottom:2rem;font-size:19px;text-align:center;line-height:3rem}"]}),f})();function no(f,D){if(1&f){const m=t.EpF();t.TgZ(0,"tr")(1,"td"),t._uU(2,"Comptez-vous faire appel \xe0 un assisteur ?"),t.qZA(),t.TgZ(3,"td")(4,"mat-radio-group",14),t.NdJ("change",function(j){t.CHM(m);const be=t.oxw();return t.KtG(be.withAssisteur(j.value,2))}),t.TgZ(5,"mat-radio-button",6),t._uU(6,"Oui"),t.qZA(),t.TgZ(7,"mat-radio-button",7),t._uU(8,"Non"),t.qZA()()()()}}function kn(f,D){if(1&f&&(t.ynx(0),t.TgZ(1,"mat-option",19),t._uU(2),t.qZA(),t.BQk()),2&f){const m=D.$implicit;t.xp6(1),t.Q6J("value",m.idParam),t.xp6(1),t.Oqu(m.description)}}function Gi(f,D){1&f&&(t.TgZ(0,"div"),t._uU(1," ce champs est obligatoire"),t.qZA())}function vo(f,D){if(1&f&&(t.TgZ(0,"mat-error",20),t.YNc(1,Gi,2,0,"div",8),t.qZA()),2&f){const m=t.oxw(2);t.xp6(1),t.Q6J("ngIf",m.formAssistance.controls.idAssistance.errors.required)}}function Jo(f,D){if(1&f&&(t.TgZ(0,"mat-form-field",15)(1,"mat-label"),t._uU(2,"Assisteur "),t.qZA(),t.TgZ(3,"mat-select",16),t.YNc(4,kn,3,2,"ng-container",17),t.qZA(),t.YNc(5,vo,2,1,"mat-error",18),t.qZA()),2&f){const m=t.oxw();t.xp6(4),t.Q6J("ngForOf",m.assisteurs),t.xp6(1),t.Q6J("ngIf",m.formAssistance.controls.idAssistance.errors)}}function Ii(f,D){1&f&&(t.TgZ(0,"button",21),t._uU(1,"Enregistrer"),t.qZA())}let ci=(()=>{class f{constructor(m,I,j,be,It){this.genericService=m,this.formBuilder=I,this.sinistresService=j,this.data=be,this.dialogRef=It,this.listAssisteurExist=!1,this.futurAssisteurExist=!1,this.assisteurs=[]}ngOnInit(){this.formAssistance=this.formBuilder.group({assisteur:["",Q.kI.required],futurAssisteur:["",Q.kI.required],idAssistance:["",Q.kI.required]}),this.genericService.getParam(JSON.parse(sessionStorage.getItem("dictionnaire")||"{}").find(m=>"C55"==m.code).idCategorie).subscribe(m=>{this.assisteurs=m}),this.initForm()}initForm(){0!=this.data.assistanceInfo.length&&(null!=this.data.assistanceInfo[0].existeAssistance?(this.formAssistance.get("assisteur").setValue("true"),this.withAssisteur("true",1),this.formAssistance.get("idAssistance").setValue(this.data.assistanceInfo[0].assisteur.idParam)):(this.formAssistance.get("assisteur").setValue("false"),this.withAssisteur("false",1),this.formAssistance.get("futurAssisteur").setValue("true"),this.withAssisteur("true",2),this.formAssistance.get("idAssistance").setValue(this.data.assistanceInfo[0].assisteur.idParam))),"CP355"==this.data.statutSinistre||"CP415"==this.data.statutSinistre||"CP524"==this.data.statutSinistre||"CP525"==this.data.statutSinistre||"CP526"==this.data.statutSinistre?this.formAssistance.disable():this.formAssistance.enable()}withAssisteur(m,I){"false"==m?(this.formAssistance.get("futurAssisteur").setValidators([Q.kI.required]),this.formAssistance.get("futurAssisteur").updateValueAndValidity(),this.futurAssisteurExist=!0,this.listAssisteurExist=!1):"true"==m&&(this.formAssistance.get("idAssistance").setValidators([Q.kI.required]),this.formAssistance.get("idAssistance").updateValueAndValidity(),1==I&&(this.formAssistance.get("futurAssisteur").setValidators([]),this.formAssistance.get("futurAssisteur").updateValueAndValidity(),this.futurAssisteurExist=!1),this.listAssisteurExist=!0)}submitAssistance(){if(this.formAssistance.valid){let m={};"true"==this.formAssistance.get("assisteur").value?(m.existeAssistance=this.formAssistance.get("assisteur").value,m.assisteur={idParam:this.formAssistance.get("idAssistance").value},m.appelAssistance=null):"true"==this.formAssistance.get("futurAssisteur").value?(m.existeAssistance=null,m.appelAssistance=this.formAssistance.get("futurAssisteur").value,m.assisteur={idParam:this.formAssistance.get("idAssistance").value}):m=null,this.dialogRef.close({data:{data:!0,bodyAssistance:m}})}}}return f.\u0275fac=function(m){return new(m||f)(t.Y36(tt.M),t.Y36(Q.qu),t.Y36(Zt.m),t.Y36(Ke.WI),t.Y36(Ke.so))},f.\u0275cmp=t.Xpm({type:f,selectors:[["app-edit-assistance-dialog"]],decls:25,vars:5,consts:[[1,"heading"],[1,"mat-typography"],[1,"content"],[3,"formGroup","ngSubmit"],["formDirective","ngForm"],["formControlName","assisteur",1,"col-md-5",3,"change"],["value","true"],["value","false"],[4,"ngIf"],["colspan","2"],["class","col-md-12","appearance","outline",4,"ngIf"],[1,"button-row"],["type","button",1,"btn","btn-cancel",3,"mat-dialog-close"],["class","btn btn-delete","type","submit",4,"ngIf"],["formControlName","futurAssisteur",1,"col-md-12",3,"change"],["appearance","outline",1,"col-md-12"],["formControlName","idAssistance"],[4,"ngFor","ngForOf"],["class","invalid-feedback",4,"ngIf"],[3,"value"],[1,"invalid-feedback"],["type","submit",1,"btn","btn-delete"]],template:function(m,I){1&m&&(t.TgZ(0,"h2",0),t._uU(1,"Assistance "),t.qZA(),t._UZ(2,"mat-divider"),t.TgZ(3,"mat-dialog-content",1)(4,"div",2)(5,"form",3,4),t.NdJ("ngSubmit",function(){return I.submitAssistance()}),t.TgZ(7,"table")(8,"tr")(9,"td"),t._uU(10,"Avez-vous fait appel \xe0 un assisteur ?"),t.qZA(),t.TgZ(11,"td")(12,"mat-radio-group",5),t.NdJ("change",function(be){return I.withAssisteur(be.value,1)}),t.TgZ(13,"mat-radio-button",6),t._uU(14,"Oui"),t.qZA(),t.TgZ(15,"mat-radio-button",7),t._uU(16,"Non"),t.qZA()()()(),t.YNc(17,no,9,0,"tr",8),t.TgZ(18,"tr")(19,"td",9),t.YNc(20,Jo,6,2,"mat-form-field",10),t.qZA()()(),t.TgZ(21,"div",11)(22,"button",12),t._uU(23,"Retour"),t.qZA(),t.YNc(24,Ii,2,0,"button",13),t.qZA()()()()),2&m&&(t.xp6(5),t.Q6J("formGroup",I.formAssistance),t.xp6(12),t.Q6J("ngIf",I.futurAssisteurExist),t.xp6(3),t.Q6J("ngIf",I.listAssisteurExist),t.xp6(2),t.Q6J("mat-dialog-close",!1),t.xp6(2),t.Q6J("ngIf","CP355"!=I.data.statutSinistre&&"CP415"!=I.data.statutSinistre&&"CP524"!=I.data.statutSinistre))},dependencies:[Se.sg,Se.O5,nn.d,Q._Y,Q.JJ,Q.JL,Q.sg,Q.u,mn.TO,mn.KE,mn.hX,Ke.ZT,Ke.xY,xt.gD,ht.ey,Yn.VQ,Yn.U0],styles:[".mat-dialog-content[_ngcontent-%COMP%]{padding-top:15px}.btn.btn-cancel[_ngcontent-%COMP%]{float:left}.btn.btn-delete[_ngcontent-%COMP%]{float:right}p[_ngcontent-%COMP%]{margin-bottom:2rem;font-size:19px;text-align:center;line-height:3rem}.mat-radio-group[_ngcontent-%COMP%]   .mat-radio-button[_ngcontent-%COMP%]{margin-left:4rem}.mat-radio-group[_ngcontent-%COMP%]{display:flex;align-items:center}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:1rem}"]}),f})();function io(f,D){if(1&f){const m=t.EpF();t.TgZ(0,"div")(1,"p"),t._uU(2,"Etes-vous sur de vouloir supprimer ce tier de ce sinistre."),t.qZA(),t.TgZ(3,"div")(4,"button",4),t._uU(5,"Retour"),t.qZA(),t.TgZ(6,"button",5),t.NdJ("click",function(){t.CHM(m);const j=t.oxw();return t.KtG(j.submitSupression())}),t._uU(7,"Confirmer"),t.qZA()()()}2&f&&(t.xp6(4),t.Q6J("mat-dialog-close",!1))}function yl(f,D){if(1&f&&(t.ynx(0),t.TgZ(1,"mat-option",15),t._uU(2),t.qZA(),t.BQk()),2&f){const m=D.$implicit;t.xp6(1),t.Q6J("value",m),t.xp6(1),t.hij(" ",m.description," ")}}function go(f,D){1&f&&(t.TgZ(0,"div"),t._uU(1," ce champs est obligatoire"),t.qZA())}function nc(f,D){if(1&f&&(t.TgZ(0,"mat-error",16),t.YNc(1,go,2,0,"div",7),t.qZA()),2&f){const m=t.oxw(3);t.xp6(1),t.Q6J("ngIf",m.formMotif.controls.motif.errors.required)}}function Rd(f,D){if(1&f&&(t.ynx(0),t.TgZ(1,"mat-option",15),t._uU(2),t.qZA(),t.BQk()),2&f){const m=D.$implicit;t.xp6(1),t.Q6J("value",m),t.xp6(1),t.hij(" ",m.description," ")}}function q_(f,D){1&f&&(t.TgZ(0,"div"),t._uU(1," ce champs est obligatoire"),t.qZA())}function Dd(f,D){if(1&f&&(t.TgZ(0,"mat-error",16),t.YNc(1,q_,2,0,"div",7),t.qZA()),2&f){const m=t.oxw(4);t.xp6(1),t.Q6J("ngIf",m.formMotif.controls.sousMotif.errors.required)}}function Vu(f,D){if(1&f&&(t.TgZ(0,"mat-form-field",9)(1,"mat-label"),t._uU(2,"Sans suite "),t.qZA(),t.TgZ(3,"mat-select",17),t.YNc(4,Rd,3,2,"ng-container",11),t.qZA(),t.YNc(5,Dd,2,1,"mat-error",12),t.qZA()),2&f){const m=t.oxw(3);t.xp6(4),t.Q6J("ngForOf",m.sousMotifsArray),t.xp6(1),t.Q6J("ngIf",m.formMotif.controls.sousMotif.errors)}}function Am(f,D){1&f&&(t.TgZ(0,"div"),t._uU(1," ce champs est obligatoire"),t.qZA())}function S_(f,D){if(1&f&&(t.TgZ(0,"mat-error",16),t.YNc(1,Am,2,0,"div",7),t.qZA()),2&f){const m=t.oxw(4);t.xp6(1),t.Q6J("ngIf",m.formMotif.controls.description.errors.required)}}function wd(f,D){if(1&f&&(t.TgZ(0,"mat-form-field",9)(1,"mat-label"),t._uU(2,"Description"),t.qZA(),t._UZ(3,"input",18),t.YNc(4,S_,2,1,"mat-error",12),t.qZA()),2&f){const m=t.oxw(3);t.xp6(4),t.Q6J("ngIf",m.formMotif.controls.description.errors)}}function Od(f,D){if(1&f){const m=t.EpF();t.TgZ(0,"form",8),t.NdJ("ngSubmit",function(){t.CHM(m);const j=t.oxw(2);return t.KtG(j.submitMotif())}),t.TgZ(1,"mat-form-field",9)(2,"mat-label"),t._uU(3,"Motif "),t.qZA(),t.TgZ(4,"mat-select",10),t.NdJ("selectionChange",function(j){t.CHM(m);const be=t.oxw(2);return t.KtG(be.controlMotif(j.value))}),t.YNc(5,yl,3,2,"ng-container",11),t.qZA(),t.YNc(6,nc,2,1,"mat-error",12),t.qZA(),t.YNc(7,Vu,6,2,"mat-form-field",13),t.YNc(8,wd,5,1,"mat-form-field",13),t.TgZ(9,"div")(10,"button",4),t._uU(11,"Retour"),t.qZA(),t.TgZ(12,"button",14),t._uU(13,"Confirmer"),t.qZA()()()}if(2&f){const m=t.oxw(2);t.Q6J("formGroup",m.formMotif),t.xp6(5),t.Q6J("ngForOf",m.motifsArray),t.xp6(1),t.Q6J("ngIf",m.formMotif.controls.motif.errors),t.xp6(1),t.Q6J("ngIf","CP526"==m.motifCloture),t.xp6(1),t.Q6J("ngIf","CP526"==m.motifCloture),t.xp6(2),t.Q6J("mat-dialog-close",!1)}}function Mm(f,D){if(1&f){const m=t.EpF();t.TgZ(0,"div")(1,"button",4),t._uU(2,"Retour"),t.qZA(),t.TgZ(3,"button",5),t.NdJ("click",function(){t.CHM(m);const j=t.oxw(2);return t.KtG(j.submitConfirmation())}),t._uU(4,"Confirmer"),t.qZA()()}2&f&&(t.xp6(1),t.Q6J("mat-dialog-close",!1))}function kd(f,D){if(1&f&&(t.TgZ(0,"p"),t._uU(1),t.qZA(),t.YNc(2,Od,14,6,"form",6),t.YNc(3,Mm,5,1,"div",7)),2&f){const m=t.oxw();t.xp6(1),t.hij("Etes-vous sur de vouloir ",m.data.typeContent," ce sinistre."),t.xp6(1),t.Q6J("ngIf",m.formMotif&&"cloturer"==m.data.typeContent),t.xp6(1),t.Q6J("ngIf","cloturer"!=m.data.typeContent)}}let ju=(()=>{class f{constructor(m,I,j,be){this.genericService=m,this.formBuilder=I,this.dialogRef=j,this.data=be,this.minDate=new Date,this.motifsArray=[],this.sousMotifsArray=[]}ngOnInit(){this.formMotif=this.formBuilder.group({motif:["",[Q.kI.required]],sousMotif:[null],description:[""]}),this.genericService.getParam(JSON.parse(sessionStorage.getItem("dictionnaire")||"{}").find(m=>"C76"==m.code).idCategorie).subscribe(m=>{this.motifsArray=m}),this.genericService.getParam(JSON.parse(sessionStorage.getItem("dictionnaire")||"{}").find(m=>"C77"==m.code).idCategorie).subscribe(m=>{this.sousMotifsArray=m})}submitSupression(){this.dialogRef.close({data:{data:!0,dateFin:new Date}})}submitMotif(){if(this.formMotif.valid){let m={motif:{idParam:this.formMotif.get("motif").value.idParam,code:this.formMotif.get("motif").value.code},sousMotif:{},description:this.formMotif.get("description").value,motifCode:this.motifCloture};"CP526"==this.motifCloture&&(m.sousMotif={idParam:this.formMotif.get("sousMotif").value.idParam,code:this.formMotif.get("sousMotif").value.code}),this.dialogRef.close({data:{data:!0,content:m}})}}submitConfirmation(){this.dialogRef.close({data:{data:!0,content:null}})}controlMotif(m){this.motifCloture=m.code,"CP526"==this.motifCloture?(this.formMotif.get("sousMotif").setValidators([Q.kI.required]),this.formMotif.get("description").setValidators([Q.kI.required])):(this.formMotif.get("sousMotif").setValidators([]),this.formMotif.get("description").setValidators([]))}}return f.\u0275fac=function(m){return new(m||f)(t.Y36(tt.M),t.Y36(Q.qu),t.Y36(Ke.so),t.Y36(Ke.WI))},f.\u0275cmp=t.Xpm({type:f,selectors:[["app-delete-personne-dialog"]],decls:7,vars:2,consts:[[1,"heading"],[1,"mat-typography"],[4,"ngIf","ngIfElse"],["otherContent",""],["type","button",1,"btn","btn-cancel",3,"mat-dialog-close"],[1,"btn","btn-delete",3,"click"],["class","form row",3,"formGroup","ngSubmit",4,"ngIf"],[4,"ngIf"],[1,"form","row",3,"formGroup","ngSubmit"],["appearance","outline",1,"col-md-12"],["formControlName","motif","appearance","outline",3,"selectionChange"],[4,"ngFor","ngForOf"],["class","invalid-feedback",4,"ngIf"],["class","col-md-12","appearance","outline",4,"ngIf"],["type","submit",1,"btn","btn-delete"],[3,"value"],[1,"invalid-feedback"],["formControlName","sousMotif","appearance","outline"],["type","text","matInput","","placeholder","","formControlName","description"]],template:function(m,I){if(1&m&&(t.TgZ(0,"h2",0),t._uU(1,"Confirmation"),t.qZA(),t._UZ(2,"mat-divider"),t.TgZ(3,"mat-dialog-content",1),t.YNc(4,io,8,1,"div",2),t.YNc(5,kd,4,3,"ng-template",null,3,t.W1O),t.qZA()),2&m){const j=t.MAs(6);t.xp6(4),t.Q6J("ngIf","personne"==I.data.typeContent)("ngIfElse",j)}},dependencies:[Se.sg,Se.O5,nn.d,Q._Y,Q.Fj,Q.JJ,Q.JL,Q.sg,Q.u,mn.TO,mn.KE,mn.hX,Xn.Nt,Ke.ZT,Ke.xY,xt.gD,ht.ey],styles:[".mat-dialog-content[_ngcontent-%COMP%]{padding-top:15px}.btn.btn-cancel[_ngcontent-%COMP%]{float:left}.btn.btn-delete[_ngcontent-%COMP%]{float:right}p[_ngcontent-%COMP%]{margin-bottom:2rem;font-size:19px;text-align:center;line-height:3rem}"]}),f})();function Um(f,D){if(1&f){const m=t.EpF();t.TgZ(0,"button",7),t.NdJ("click",function(){t.CHM(m);const j=t.oxw();return t.KtG(j.confirmationDialog("cloturer"))}),t.TgZ(1,"mat-icon"),t._uU(2,"block"),t.qZA(),t.TgZ(3,"span"),t._uU(4,"Cloturer sinistre"),t.qZA()()}if(2&f){const m=t.oxw();t.Q6J("disabled",!m.roleExist||"CP355"===m.infoSinistre.statut.code||m.isCdcDa||"CP415"===m.infoSinistre.statut.code||"CP524"===m.infoSinistre.statut.code||"CP525"===m.infoSinistre.statut.code||"CP526"===m.infoSinistre.statut.code)}}function Fm(f,D){if(1&f){const m=t.EpF();t.TgZ(0,"button",7),t.NdJ("click",function(){t.CHM(m);const j=t.oxw();return t.KtG(j.confirmationDialog("annuler"))}),t.TgZ(1,"mat-icon"),t._uU(2,"cancel"),t.qZA(),t.TgZ(3,"span"),t._uU(4,"Annuler sinistre"),t.qZA()()}if(2&f){const m=t.oxw();t.Q6J("disabled",!m.roleExist||"CP355"===m.infoSinistre.statut.code||m.isCdcDa||"CP415"===m.infoSinistre.statut.code||"CP524"===m.infoSinistre.statut.code||"CP525"===m.infoSinistre.statut.code||"CP526"===m.infoSinistre.statut.code)}}function y_(f,D){if(1&f){const m=t.EpF();t.TgZ(0,"button",7),t.NdJ("click",function(){t.CHM(m);const j=t.oxw();return t.KtG(j.confirmationDialog("reouvrir"))}),t.TgZ(1,"mat-icon"),t._uU(2,"folder_open"),t.qZA(),t.TgZ(3,"span"),t._uU(4,"Reouvrir sinistre"),t.qZA()()}if(2&f){const m=t.oxw();t.Q6J("disabled",m.isCdcDa||"CP415"===m.infoSinistre.statut.code)}}function rd(f,D){if(1&f&&(t.TgZ(0,"div",19)(1,"div",20)(2,"div",21)(3,"span",22),t._uU(4," R\xe9serves totale "),t.qZA(),t.TgZ(5,"span",23),t._uU(6),t.qZA()(),t.TgZ(7,"div",21)(8,"span",22),t._uU(9," R\xe9serves actuelle "),t.qZA(),t.TgZ(10,"span",23),t._uU(11),t.qZA()()(),t.TgZ(12,"div",24)(13,"div",25)(14,"span",22),t._uU(15," OP's Emis "),t.qZA(),t.TgZ(16,"span",23),t._uU(17),t.qZA()(),t.TgZ(18,"div",25)(19,"span",22),t._uU(20," OP's Per\xe7u "),t.qZA(),t.TgZ(21,"span",23),t._uU(22),t.qZA()(),t.TgZ(23,"div",25)(24,"span",22),t._uU(25," Recours "),t.qZA(),t.TgZ(26,"span",23),t._uU(27),t.qZA()(),t.TgZ(28,"div",25)(29,"span",22),t._uU(30," OR's Emis "),t.qZA(),t.TgZ(31,"span",23),t._uU(32),t.qZA()(),t.TgZ(33,"div",25)(34,"span",22),t._uU(35," OR's Per\xe7u "),t.qZA(),t.TgZ(36,"span",23),t._uU(37),t.qZA()()()()),2&f){const m=t.oxw(2);t.xp6(6),t.hij(" ",m.tabReserve.reserveTotal," "),t.xp6(5),t.hij(" ",m.tabReserve.reserveActuelle," "),t.xp6(6),t.hij(" ",m.tabReserve.opEmis," "),t.xp6(5),t.hij(" ",m.tabReserve.opercu," "),t.xp6(5),t.hij(" ",m.tabReserve.recours," "),t.xp6(5),t.hij(" ",m.tabReserve.orEmis," "),t.xp6(5),t.hij(" ",m.tabReserve.orPercu," ")}}const Hu=function(f){return{"disabled-cards":f}},ad=function(f,D){return{"disabled-cards card-disabled":f,card:D}};function Qm(f,D){if(1&f){const m=t.EpF();t.TgZ(0,"section",10),t._UZ(1,"app-entete-gestion"),t.TgZ(2,"div",11)(3,"div",12),t.NdJ("click",function(){t.CHM(m);const j=t.oxw();return t.KtG(j.goTo("infos"))}),t.TgZ(4,"mat-icon",13),t._uU(5,"edit_note"),t.qZA(),t.TgZ(6,"span",14),t._uU(7,"Informations sinistre"),t.qZA(),t.TgZ(8,"p"),t._uU(9,"Completez les Informations du sinistre."),t.qZA()(),t.TgZ(10,"div",12),t.NdJ("click",function(){t.CHM(m);const j=t.oxw();return t.KtG(j.goTo("assistance"))}),t.TgZ(11,"mat-icon",13),t._uU(12,"draft_orders"),t.qZA(),t.TgZ(13,"span",14),t._uU(14,"Assistance"),t.qZA(),t.TgZ(15,"p"),t._uU(16,"Completez les Informations du sinistre."),t.qZA()(),t.TgZ(17,"div",12),t.NdJ("click",function(){t.CHM(m);const j=t.oxw();return t.KtG(j.goTo("tiers"))}),t.TgZ(18,"mat-icon",13),t._uU(19,"manage_accounts"),t.qZA(),t.TgZ(20,"span",14),t._uU(21,"Adversaires"),t.qZA(),t.TgZ(22,"p"),t._uU(23,"Modifiez, supprimez, et ajoutez des adversaires."),t.qZA()()(),t.TgZ(24,"div",11)(25,"div",12),t.NdJ("click",function(){t.CHM(m);const j=t.oxw();return t.KtG(j.goTo("blesse"))}),t.TgZ(26,"mat-icon",13),t._uU(27,"manage_accounts"),t.qZA(),t.TgZ(28,"span",14),t._uU(29,"Blesses/d\xe9c\xe9s"),t.qZA(),t.TgZ(30,"p"),t._uU(31,"Modifiez, supprimez, et ajoutez des Blesses/d\xe9c\xe9s."),t.qZA()(),t.TgZ(32,"div",12),t.NdJ("click",function(){t.CHM(m);const j=t.oxw();return t.KtG(j.goTo("withdrawal"))}),t.TgZ(33,"mat-icon",13),t._uU(34,"block"),t.qZA(),t.TgZ(35,"span",14),t._uU(36,"D\xe9sistement de client "),t.qZA(),t.TgZ(37,"p"),t._uU(38,"Modifiez, supprimez, et ajoutez des Blesses/d\xe9c\xe9s."),t.qZA()(),t.TgZ(39,"div",12),t.NdJ("click",function(){t.CHM(m);const j=t.oxw();return t.KtG(j.goTo("fraude"))}),t.TgZ(40,"mat-icon",13),t._uU(41,"bug_report"),t.qZA(),t.TgZ(42,"span",14),t._uU(43,"Fraude et contentieux "),t.qZA(),t.TgZ(44,"p"),t._uU(45,"Le sinistre peut \xeatre tagger comme \xe9tat fraude ou \xe9tat contentieux."),t.qZA()()(),t.TgZ(46,"div",11)(47,"div",15),t.NdJ("click",function(){t.CHM(m);const j=t.oxw();return t.KtG(j.goTo("reservePaiement"))}),t.TgZ(48,"mat-icon",13),t._uU(49,"edit_note"),t.qZA(),t.TgZ(50,"span",14),t._uU(51,"R\xe9serves de paiement"),t.qZA(),t._UZ(52,"p"),t.qZA(),t.TgZ(53,"div",15),t.NdJ("click",function(){t.CHM(m);const j=t.oxw();return t.KtG(j.goTo("reserveRecours"))}),t.TgZ(54,"mat-icon",13),t._uU(55,"draft_orders"),t.qZA(),t.TgZ(56,"span",14),t._uU(57,"R\xe9serve de recours"),t.qZA(),t._UZ(58,"p"),t.qZA(),t.TgZ(59,"div",12),t.NdJ("click",function(){t.CHM(m);const j=t.oxw();return t.KtG(j.goTo("gestionOp"))}),t.TgZ(60,"mat-icon",13),t._uU(61,"manage_accounts"),t.qZA(),t.TgZ(62,"span",14),t._uU(63,"OP et Instances"),t.qZA(),t._UZ(64,"p"),t.qZA()(),t.TgZ(65,"section",16)(66,"h2",17),t._uU(67,"R\xe9serve & OP"),t.qZA(),t.YNc(68,rd,38,7,"div",18),t.qZA()()}if(2&f){const m=t.oxw();t.xp6(2),t.Q6J("ngClass",t.VKq(8,Hu,!m.roleExist||"CP355"===m.infoSinistre.statut.code||m.isCdcDa||"CP415"===m.infoSinistre.statut.code||"CP524"===m.infoSinistre.statut.code||"CP525"===m.infoSinistre.statut.code||"CP526"===m.infoSinistre.statut.code)),t.xp6(22),t.Q6J("ngClass",t.VKq(10,Hu,!m.roleExist||"CP355"===m.infoSinistre.statut.code||m.isCdcDa||"CP415"===m.infoSinistre.statut.code||"CP524"===m.infoSinistre.statut.code||"CP525"===m.infoSinistre.statut.code||"CP526"===m.infoSinistre.statut.code)),t.xp6(22),t.Q6J("ngClass",t.VKq(12,Hu,"CP355"===m.infoSinistre.statut.code||m.isCdcDa||"CP415"===m.infoSinistre.statut.code||"CP524"===m.infoSinistre.statut.code||"CP525"===m.infoSinistre.statut.code||"CP526"===m.infoSinistre.statut.code)),t.xp6(1),t.Q6J("ngClass",t.WLB(14,ad,!m.roleExist||m.isCdcDa,m.roleExist&&!m.isCdcDa)),t.xp6(6),t.Akn(!m.roleExist||m.isCdcDa?"margin: 0 0 0 26px":""),t.Q6J("ngClass",t.WLB(17,ad,!m.roleExist||m.isCdcDa,m.roleExist&&!m.isCdcDa)),t.xp6(15),t.Q6J("ngIf",m.infoReserveReady)}}function Oc(f,D){if(1&f&&(t.TgZ(0,"section",26)(1,"div",27),t._uU(2),t.qZA()()),2&f){const m=t.oxw();t.xp6(2),t.Oqu(m.infoSinistreReady.msg)}}const Md=function(f){return[f]};let kc=(()=>{class f{constructor(m,I,j,be,It){this.sinistresService=m,this.dialog=I,this.router=j,this.route=be,this.formBuilder=It,this.rolesJs=JSON.parse(sessionStorage.getItem("roles")??""),this.isCdcDa=this.rolesJs?.includes("CDC")||this.rolesJs?.includes("DA")||this.rolesJs.includes("COURTIER"),this.codeProduit=this.route.snapshot.paramMap.get("codeProduit"),this.nomProduit=this.route.snapshot.paramMap.get("nameProduit"),this.codeSinistre=this.route.snapshot.paramMap.get("codeSinistre"),this.infoSinistre=[],this.infoSinistreReady={statut:"false",msg:""},this.roleExist=!1,this.roleUser=JSON.parse(sessionStorage.getItem("roles")||""),this.sinistreRoles={"45A":["GESTIONNAIRE_SINISTRE","RESPONSABLE_SINISTRE","DIRECTEUR","CHEF_PROJET","ADMIN","ROLE_SUPER_ADMIN","ANALYSTE","GESTION_SINISTRE","GESTIONNAIRE_JUNIOR"],"45F":["GESTIONNAIRE_SINISTRE","RESPONSABLE_SINISTRE","DIRECTEUR","CHEF_PROJET","ADMIN","ROLE_SUPER_ADMIN","ANALYSTE","GESTION_SINISTRE","GESTIONNAIRE_JUNIOR"],"45L":["GESTIONNAIRE_SINISTRE","RESPONSABLE_SINISTRE","DIRECTEUR","CHEF_PROJET","ADMIN","ROLE_SUPER_ADMIN","ANALYSTE","GESTION_SINISTRE","GESTIONNAIRE_JUNIOR"],95:["GESTION_SINISTRE_MRH_MRP","RESPONSABLE_SINISTRE_MRH_MRP","ADMIN","ROLE_SUPER_ADMIN","ANALYSTE"],96:["GESTION_SINISTRE_MRH_MRP","RESPONSABLE_SINISTRE_MRH_MRP","ADMIN","ROLE_SUPER_ADMIN","ANALYSTE"]},this.infoReserveReady=!1}ngOnInit(){this.getSinistreInfo(),this.getModifInfo(),this.roleUser.find(m=>{this.sinistreRoles[this.codeProduit+""].includes(m)&&(this.roleExist=!0)})}getSinistreInfo(){this.sinistresService.getSinistreByCode(this.codeSinistre).subscribe({next:m=>{this.infoSinistre=m,"45A"==this.codeProduit&&(this.infoSinistre.immatriculation=this.infoSinistre.contratHistorique.risqueList.filter(I=>"P38"==I.paramRisque.codeParam)[0].valeur),this.infoSinistreReady.statut="true"},error:m=>{this.infoSinistreReady.statut="error",this.infoSinistreReady.msg="Erreur syst\xe9me, veuillez contacter l'administrateur.",console.log(m)}})}transferRecour(){this.sinistresService.transferRecour(this.infoSinistre.idSinistre).subscribe({next:m=>{let I=m;xe().fire({title:I.message,icon:"success",showConfirmButton:!0}).then(j=>{j.isConfirmed&&window.location.reload()})},error:m=>{xe().fire({title:m.message,icon:"error",showConfirmButton:!0})}})}getModifInfo(){this.sinistresService.getInfosModif(this.codeSinistre).subscribe({next:m=>{this.tabReserve=m,this.infoReserveReady=!0},error:m=>{console.log(m)}})}goTo(m){if(this.roleExist&&!this.isCdcDa||"gestionOp"===m)switch(m){case"infos":this.router.navigate(["completez-informations-sinistre"],{relativeTo:this.route});break;case"tiers":this.router.navigate(["tiers"],{relativeTo:this.route});break;case"withdrawal":this.withdrawalDialog();break;case"fraude":this.fraudeDialog();break;case"assistance":this.assistanceDialog();break;case"blesse":this.router.navigate(["blesses"],{relativeTo:this.route});break;case"reservePaiement":this.router.navigate([this.infoSinistre.statut.code+"/reserve-paiement"],{relativeTo:this.route});break;case"reserveRecours":this.router.navigate([this.infoSinistre.statut.code+"/reserve-recours"],{relativeTo:this.route});break;default:break;case"gestionOp":this.router.navigate(["gestion-op"],{relativeTo:this.route})}}withdrawalDialog(){"CP355"!=this.infoSinistre.statut.code&&"CP415"!=this.infoSinistre.statut.code&&"CP524"!=this.infoSinistre.statut.code&&this.dialog.open(Pt,{width:"40%"}).afterClosed().subscribe(I=>{I&&this.sinistresService.desistementSinistre(this.infoSinistre.idSinistre).subscribe({next:j=>{this.handleSuccess("d\xe9sistement sinistre avec succ\xe9e."),this.getSinistreInfo()},error:j=>{this.handleError(j)}})})}fraudeDialog(){this.dialog.open(hn,{width:"40%",data:{fraude:this.infoSinistre.sinistreFraudes[0],statutSinistre:this.infoSinistre.statut.code}}).afterClosed().subscribe(I=>{if(I.data&&I.data.data){let j={statutFraude:{idParam:I.data.fraude},statutContentieux:{idParam:I.data.contentieux},sinistre:{idSinistre:this.infoSinistre.idSinistre},auditUser:sessionStorage.getItem("userId")};0==this.infoSinistre.sinistreFraudes.length?this.sinistresService.AddFraude(j,this.infoSinistre.idSinistre).subscribe({next:be=>{this.getSinistreInfo(),this.handleSuccess("Fraude d\xe9clar\xe9e avec succ\xe9e.")},error:be=>{this.handleError(be)}}):this.sinistresService.updateFraude(j,this.infoSinistre.sinistreFraudes[0]?.idFraude).subscribe({next:be=>{this.getSinistreInfo(),this.handleSuccess("Fraude modifi\xe9e avec succ\xe9e.")},error:be=>{this.handleError(be)}})}})}assistanceDialog(){const m=this.dialog.open(ci,{width:"40%",data:{assistanceInfo:this.infoSinistre.sinistreAssistances,statutSinistre:this.infoSinistre.statut.code}});let I=this.infoSinistre.sinistreAssistances[0];m.afterClosed().subscribe(j=>{j&&(0!=this.infoSinistre.sinistreAssistances.length?(null!=j.data.bodyAssistance?(I.existeAssistance=j.data.bodyAssistance.existeAssistance,I.appelAssistance=j.data.bodyAssistance.appelAssistance,I.assisteur={idParam:j.data.bodyAssistance.assisteur.idParam}):(I.existeAssistance=null,I.appelAssistance=null,I.assisteur=null),I.auditUser=sessionStorage.getItem("userId"),this.sinistresService.editAssisteur(I,I.idAssistance).subscribe({next:be=>{this.getSinistreInfo(),this.handleSuccess("Assistance modifi\xe9e avec succ\xe9e.")},error:be=>{}})):(I={},null!=j.data.bodyAssistance?(I.existeAssistance=j.data.bodyAssistance.existeAssistance,I.appelAssistance=j.data.bodyAssistance.appelAssistance,I.assisteur={idParam:j.data.bodyAssistance.assisteur.idParam}):(I.existeAssistance=null,I.appelAssistance=null,I.assisteur=null),I.auditUser=sessionStorage.getItem("userId"),this.sinistresService.addAssisteur(I,this.infoSinistre.idSinistre).subscribe({next:be=>{this.getSinistreInfo(),this.handleSuccess("Assistance ajout\xe9e avec succ\xe9e.")},error:be=>{}})))})}confirmationDialog(m){this.dialog.open(ju,{width:"40%",data:{typeContent:m}}).afterClosed().subscribe(j=>{if(j)if(null==j.data.content)switch(m){case"annuler":this.sinistresService.annulerSinistre(this.infoSinistre.idSinistre).subscribe({next:be=>{this.handleSuccess(be),this.router.navigate(["gestion-sinistre/"+this.route.snapshot.paramMap.get("codeProduit")+"/"+this.route.snapshot.paramMap.get("nameProduit")+"/gestionnaire-sinistre/"+this.codeSinistre])},error:be=>{this.handleError(be)}});break;case"reouvrir":this.sinistresService.reouvrirSinistre(this.infoSinistre.idSinistre).subscribe({next:be=>{this.getSinistreInfo(),this.handleSuccess(be)},error:be=>{this.handleError(be)}})}else{let be={motif:{idParam:j.data.content.motif.idParam,code:j.data.content.motif.code},description:j.data.content.description,sousMotif:{}};"CP526"==j.data.content.motifCloture&&(be.sousMotif={idParam:j.data.content.sousMotif.idParam,code:j.data.content.sousMotif.code}),this.sinistresService.cloturerSinistre(this.infoSinistre.idSinistre,be).subscribe({next:It=>{this.getSinistreInfo(),this.handleSuccess(It),"CP526"==be.motif.code&&this.sinistresService.outputClassement(this.infoSinistre,be)},error:It=>{this.handleError(It)}})}})}handleError(m){xe().fire(m,"","error")}handleSuccess(m){xe().fire({title:m,icon:"info",confirmButtonText:"Ok"}).then(I=>{I.isConfirmed&&window.location.reload()})}}return f.\u0275fac=function(m){return new(m||f)(t.Y36(Zt.m),t.Y36(Ke.uw),t.Y36(ee.F0),t.Y36(ee.gz),t.Y36(Q.qu))},f.\u0275cmp=t.Xpm({type:f,selectors:[["app-modification-sinistre"]],decls:21,vars:10,consts:[[1,"container"],[1,"header-title"],["aria-hidden","false","matTooltip","Retour","matTooltipPosition","left",1,"material-symbols-outlined",3,"routerLink"],["mat-icon-button","","type","button","aria-label","menu  list",3,"matMenuTriggerFor"],["xPosition","after"],["menu","matMenu"],["mat-menu-item","","type","button",3,"disabled","click",4,"ngIf"],["mat-menu-item","","type","button",3,"disabled","click"],["class","content",4,"ngIf"],["class","error",4,"ngIf"],[1,"content"],[1,"row","cards",3,"ngClass"],[1,"card","col-md-3",3,"click"],["aria-hidden","false",1,"material-symbols-outlined"],[1,"title-card"],[1,"col-md-3",3,"ngClass","click"],[1,"reserve-section"],[1,"reserve-header"],["class","row reserve",4,"ngIf"],[1,"row","reserve"],[1,"col-md-4","main-col"],[1,"col-md-5","sub-col"],[1,"key"],[1,"value"],[1,"col-md-8","main-col"],[1,"col-md-2","sub-col"],[1,"error"],[1,"alert","alert-danger"]],template:function(m,I){if(1&m&&(t.TgZ(0,"div",0)(1,"h2",1)(2,"mat-icon",2),t._uU(3,"arrow_circle_left"),t.qZA(),t.TgZ(4,"div"),t._uU(5," Gestion sinistre "),t.TgZ(6,"button",3)(7,"mat-icon"),t._uU(8,"more_vert"),t.qZA()(),t.TgZ(9,"mat-menu",4,5),t.YNc(11,Um,5,1,"button",6),t.YNc(12,Fm,5,1,"button",6),t.YNc(13,y_,5,1,"button",6),t.TgZ(14,"button",7),t.NdJ("click",function(){return I.transferRecour()}),t.TgZ(15,"mat-icon"),t._uU(16,"folder_open"),t.qZA(),t.TgZ(17,"span"),t._uU(18,"Transfer recours"),t.qZA()()()()(),t.YNc(19,Qm,69,20,"section",8),t.YNc(20,Oc,3,1,"section",9),t.qZA()),2&m){const j=t.MAs(10);t.xp6(2),t.Q6J("routerLink",t.VKq(8,Md,"/gestion-sinistre/"+I.codeProduit+"/"+I.nomProduit)),t.xp6(4),t.Q6J("matMenuTriggerFor",j),t.xp6(5),t.Q6J("ngIf","true"==I.infoSinistreReady.statut),t.xp6(1),t.Q6J("ngIf","true"==I.infoSinistreReady.statut),t.xp6(1),t.Q6J("ngIf",!I.roleExist||"true"==I.infoSinistreReady.statut),t.xp6(1),t.Q6J("disabled",!I.roleExist||"CP336"===I.infoSinistre.statut.code||"CP14010"===I.infoSinistre.statut.code||"CP14008"===I.infoSinistre.statut.code),t.xp6(5),t.Q6J("ngIf","true"==I.infoSinistreReady.statut),t.xp6(1),t.Q6J("ngIf","error"==I.infoSinistreReady.statut)}},dependencies:[Se.mk,Se.O5,_n.Hw,xn.VK,xn.OP,xn.p6,Bi.gM,Jn.lW,ee.rH,rs],styles:[".container[_ngcontent-%COMP%]{background-color:#fff;padding:40px 43px;height:100%;overflow-x:hidden;box-shadow:0 .5rem 1rem #00000026}.disabled-cards[_ngcontent-%COMP%]{color:#b3b3b3}h2.header-title[_ngcontent-%COMP%]{font-size:21px!important;color:#00008f;font-weight:600!important;letter-spacing:1px;display:flex;justify-content:space-between}.header-title[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;height:-moz-fit-content;height:fit-content;font-size:33px}.row.cards[_ngcontent-%COMP%]{justify-content:center;margin-top:4rem}.card[_ngcontent-%COMP%], .card-disabled[_ngcontent-%COMP%]{padding:1rem;display:flex;flex-direction:column;font-size:16px;box-shadow:0 .5rem 1rem #00000026!important;justify-content:center;border-radius:16px}.row.cards[_ngcontent-%COMP%]:not(.disabled-cards)   .card[_ngcontent-%COMP%]:hover{transform:scale(1.1);transition:all ease .5s;box-shadow:0 .5rem 1rem #00008f33!important}.row.cards[_ngcontent-%COMP%]:not(.disabled-cards)   .card[_ngcontent-%COMP%]:hover   .title-card[_ngcontent-%COMP%], .row.cards[_ngcontent-%COMP%]:not(.disabled-cards)   .card[_ngcontent-%COMP%]:hover   .mat-icon[_ngcontent-%COMP%]{color:#00008f}.title-card[_ngcontent-%COMP%]{font-size:19px;font-weight:600;margin-bottom:1rem}.card[_ngcontent-%COMP%]:not(:first-child){margin-left:2rem}.card[_ngcontent-%COMP%]:hover, .card-disabled[_ngcontent-%COMP%]:hover{cursor:pointer;box-shadow:0 .5rem 1rem #00000026!important}.card[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%], .card-disabled[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{height:-moz-fit-content;height:fit-content;width:-moz-fit-content;width:fit-content;font-size:47px;margin-bottom:1rem}.reserve-section[_ngcontent-%COMP%]{margin-top:5rem}.reserve[_ngcontent-%COMP%]{border:2px solid #00008f;padding:2rem 1rem}.main-col[_ngcontent-%COMP%]{display:flex;flex-direction:row}.main-col[_ngcontent-%COMP%]:first-child{justify-content:space-between}.main-col[_ngcontent-%COMP%]:nth-child(2){justify-content:end}.main-col[_ngcontent-%COMP%]:nth-child(2)   .sub-col[_ngcontent-%COMP%]{margin-left:1rem}.sub-col[_ngcontent-%COMP%]{display:grid;font-size:18px}.sub-col[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{border:1px solid rgba(0,0,143,.05);padding:10px 12px;background:rgba(0,0,143,.05)}.sub-col[_ngcontent-%COMP%]   .key[_ngcontent-%COMP%]{margin-bottom:1rem;color:#00008f;font-weight:600}.reserve-header[_ngcontent-%COMP%]{color:#00008f;font-weight:600!important}.mat-menu-item[_ngcontent-%COMP%]{font-size:15px}.mat-menu-item[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:18px;height:-moz-fit-content;height:fit-content}.mat-menu-item[_ngcontent-%COMP%]:hover:not([disabled]), .mat-menu-item[_ngcontent-%COMP%]:hover:not([disabled])   .mat-icon[_ngcontent-%COMP%]{color:#00008f}table.resumeSinistre[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:17px;padding:12px 19px;border:1px solid rgba(0,0,0,.12)}table.resumeSinistre[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{color:#00008f;font-weight:600}"]}),f})();function sd(f,D){if(1&f&&(t.TgZ(0,"mat-option",16),t._uU(1),t.qZA()),2&f){const m=D.$implicit;t.Q6J("value",m.idParam),t.xp6(1),t.hij(" ",m.description," ")}}function Ud(f,D){1&f&&(t.TgZ(0,"div"),t._uU(1," ce champs est obligatoire"),t.qZA())}function N_(f,D){if(1&f&&(t.TgZ(0,"mat-error",17),t.YNc(1,Ud,2,0,"div",18),t.qZA()),2&f){const m=t.oxw(2);t.xp6(1),t.Q6J("ngIf",m.formEditInfoSinistre.controls.causeSinistre.errors.required)}}function Fd(f,D){if(1&f&&(t.TgZ(0,"mat-option",16),t._uU(1),t.qZA()),2&f){const m=D.$implicit;t.Q6J("value",m.idParam),t.xp6(1),t.hij(" ",m.description," ")}}function Qd(f,D){1&f&&(t.TgZ(0,"div"),t._uU(1," ce champs est obligatoire"),t.qZA())}function I_(f,D){if(1&f&&(t.TgZ(0,"mat-error",17),t.YNc(1,Qd,2,0,"div",18),t.qZA()),2&f){const m=t.oxw(2);t.xp6(1),t.Q6J("ngIf",m.formEditInfoSinistre.controls.zoneAffecte.errors.required)}}function pc(f,D){1&f&&(t.TgZ(0,"div"),t._uU(1," ce champs est obligatoire"),t.qZA())}function ld(f,D){if(1&f&&(t.TgZ(0,"mat-error",17),t.YNc(1,pc,2,0,"div",18),t.qZA()),2&f){const m=t.oxw(2);t.xp6(1),t.Q6J("ngIf",m.formEditInfoSinistre.controls.tauxResponsabiliteGestion.errors.required)}}function Jm(f,D){1&f&&(t.TgZ(0,"button",19),t._uU(1,"Enregistrer"),t.qZA())}function Lm(f,D){if(1&f){const m=t.EpF();t.TgZ(0,"form",5),t.NdJ("ngSubmit",function(){t.CHM(m);const j=t.oxw();return t.KtG(j.submitInfosEdit())}),t.TgZ(1,"mat-form-field",6)(2,"mat-label"),t._uU(3," Cause sinistre "),t.qZA(),t.TgZ(4,"mat-select",7),t.NdJ("selectionChange",function(j){t.CHM(m);const be=t.oxw();return t.KtG("45A"==be.codeProduit||"45F"==be.codeProduit||"45L"==be.codeProduit?be.getZonesByCause(j.value,2):"")}),t.TgZ(5,"mat-select-filter",8),t.NdJ("filteredReturn",function(j){t.CHM(m);const be=t.oxw();return t.KtG(be.filteredcausesSinistre=j)}),t.qZA(),t.YNc(6,sd,2,2,"mat-option",9),t.qZA(),t.YNc(7,N_,2,1,"mat-error",10),t.qZA(),t.TgZ(8,"mat-form-field",6)(9,"mat-label"),t._uU(10," Zone Affect\xe9e "),t.qZA(),t.TgZ(11,"mat-select",11),t.NdJ("selectionChange",function(j){t.CHM(m);const be=t.oxw();return t.KtG(be.controlDoublonsWithZone(j.value))}),t.TgZ(12,"mat-select-filter",8),t.NdJ("filteredReturn",function(j){t.CHM(m);const be=t.oxw();return t.KtG(be.filteredZonesAffectees=j)}),t.qZA(),t.YNc(13,Fd,2,2,"mat-option",9),t.qZA(),t.YNc(14,I_,2,1,"mat-error",10),t.qZA(),t.TgZ(15,"mat-form-field",6)(16,"mat-label"),t._uU(17,"Taux de responsabilit\xe9 Gestion acutellement est : "),t.TgZ(18,"strong"),t._uU(19),t.qZA()(),t._UZ(20,"input",12),t.TgZ(21,"mat-icon",13),t._uU(22,"percent"),t.qZA(),t.YNc(23,ld,2,1,"mat-error",10),t.qZA(),t.TgZ(24,"div",14),t.YNc(25,Jm,2,0,"button",15),t.qZA()()}if(2&f){const m=t.oxw();t.Q6J("formGroup",m.formEditInfoSinistre),t.xp6(5),t.Q6J("displayMember","description")("array",m.causesSinistreArray),t.xp6(1),t.Q6J("ngForOf",m.filteredcausesSinistre),t.xp6(1),t.Q6J("ngIf",m.formEditInfoSinistre.controls.causeSinistre.errors),t.xp6(4),t.Q6J("disabled",m.disabledZone),t.xp6(1),t.Q6J("displayMember","description")("array",m.zonesAffectees),t.xp6(1),t.Q6J("ngForOf",m.filteredZonesAffectees),t.xp6(1),t.Q6J("ngIf",m.formEditInfoSinistre.controls.zoneAffecte.errors),t.xp6(5),t.Oqu(m.TauxGestion),t.xp6(4),t.Q6J("ngIf",m.formEditInfoSinistre.controls.tauxResponsabiliteGestion.errors),t.xp6(2),t.Q6J("ngIf",!m.disabledZone&&!m.sinistreBlocked&&"CP355"!=m.statusSinistre)}}let Ym=(()=>{class f{constructor(m,I,j,be,It){this.router=m,this.route=I,this.sinistresService=j,this.genericService=be,this.formBuilder=It,this.causesSinistreArray=[],this.filteredcausesSinistre=[],this.zonesAffectees=[],this.filteredZonesAffectees=[],this.infoSinistre=[],this.disabledZone=!1,this.sinistreBlocked=!1,this.loadUpdate=!1,this.msgApi={error:!1,msg:""},this.successUpdate=!1,this.roleUser=JSON.parse(sessionStorage.getItem("roles")||""),this.sinistreRoles={"45A":["GESTIONNAIRE_SINISTRE","RESPONSABLE_SINISTRE","DIRECTEUR","CHEF_PROJET","ADMIN","ROLE_SUPER_ADMIN","ANALYSTE","GESTION_SINISTRE","GESTIONNAIRE_JUNIOR"],"45F":["GESTIONNAIRE_SINISTRE","RESPONSABLE_SINISTRE","DIRECTEUR","CHEF_PROJET","ADMIN","ROLE_SUPER_ADMIN","ANALYSTE","GESTION_SINISTRE","GESTIONNAIRE_JUNIOR"],"45L":["GESTIONNAIRE_SINISTRE","RESPONSABLE_SINISTRE","DIRECTEUR","CHEF_PROJET","ADMIN","ROLE_SUPER_ADMIN","ANALYSTE","GESTION_SINISTRE","GESTIONNAIRE_JUNIOR"],95:["GESTION_SINISTRE_MRH_MRP","RESPONSABLE_SINISTRE_MRH_MRP","ADMIN","ROLE_SUPER_ADMIN","ANALYSTE"],96:["GESTION_SINISTRE_MRH_MRP","RESPONSABLE_SINISTRE_MRH_MRP","ADMIN","ROLE_SUPER_ADMIN","ANALYSTE"]}}ngOnInit(){this.codeSinistre=this.route.snapshot.paramMap.get("codeSinistre"),this.codeProduit=this.route.snapshot.paramMap.get("codeProduit");let m=!1;this.roleUser.find(I=>{this.sinistreRoles[this.codeProduit+""].includes(I)&&(m=!0)}),m||this.router.navigate(["/dashboard"]),this.getSinistreInfo()}initFormEditInfosSinistre(){this.formEditInfoSinistre=this.formBuilder.group({causeSinistre:[this.infoSinistre.causeSinistre.idParam,[Q.kI.required]],zoneAffecte:[this.infoSinistre.zoneAffecte.idParam,Q.kI.required],tauxResponsabiliteGestion:["",Q.kI.required]}),"CP355"==this.statusSinistre||"CP415"==this.statusSinistre||"CP524"==this.statusSinistre||"CP525"==this.statusSinistre||"CP526"==this.statusSinistre?this.formEditInfoSinistre.disable():this.formEditInfoSinistre.enable(),this.formEditInfoSinistre.get("zoneAffecte").setValue(this.infoSinistre.zoneAffecte.idParam)}getSinistreInfo(){this.sinistresService.getSinistreByCode(this.codeSinistre).subscribe({next:m=>{this.infoSinistre=m,this.statusSinistre=this.infoSinistre.statut.code,this.TauxGestion=JSON.parse(this.infoSinistre?.tauxResponsabiliteGestion??"null"),this.codeCauseSinistre=this.infoSinistre.causeSinistre.code,this.getDictionnaireList(),this.initFormEditInfosSinistre()},error:m=>{console.log(m)}})}getDictionnaireList(){this.genericService.getCause(JSON.parse(sessionStorage.getItem("dictionnaire")||"{}").find(m=>"C43"==m.code).idCategorie,this.codeProduit).subscribe(m=>{this.causesSinistreArray=m,this.filteredcausesSinistre=this.causesSinistreArray.slice(),"45A"==this.codeProduit||"45F"==this.codeProduit||"45L"==this.codeProduit?this.getZoneByProduit(this.infoSinistre.causeSinistre.idParam,this.codeProduit,1):("95"==this.codeProduit||"96"==this.codeProduit)&&this.getZoneByProduit(this.infoSinistre.causeSinistre.idParam,this.codeProduit,-1)})}getZoneByProduit(m,I,j){1!=j&&this.formEditInfoSinistre.get("zoneAffecte").setValue(""),this.genericService.getParamMrp(m,I).subscribe(be=>{this.zonesAffectees=be,this.filteredZonesAffectees=this.zonesAffectees.slice()})}getZonesByCause(m,I){1!=I&&this.formEditInfoSinistre.get("zoneAffecte").setValue("");let j=this.infoSinistre.sinistrePersonnes.filter(be=>"C46"==be.categoriePersonne.code)?.length;this.codeCauseSinistre=this.causesSinistreArray.filter(be=>be.idParam==m)[0].code,0==j&&"AUT005"==this.codeCauseSinistre?(this.handleError("La modification de la cause vers collision est interdite en l'absence d'adversaire."),this.formEditInfoSinistre.get("causeSinistre").setValue(this.previousCause)):this.previousCause=m,this.sinistresService.getByLien(m).subscribe({next:be=>{this.zonesAffectees=be,this.filteredZonesAffectees=this.zonesAffectees.slice()},error:be=>{console.log(be)}})}controlDoublonsWithZone(m){this.disabledZone=!0,this.sinistresService.getIfExisteDoublonWithZone({idContrat:this.infoSinistre.contratHistorique.idContrat.idContrat,codeRisque:this.infoSinistre.codeRisque,dateSurvenance:this.infoSinistre.dateSurvenance,zoneAffecte:{idParam:m}}).subscribe({next:j=>{this.disabledZone=!1,j.statut&&(this.sinistreBlocked=!0,this.handleError(j.messageStatut))},error:j=>{this.disabledZone=!1,this.handleError(j),console.log(j)}})}submitInfosEdit(){if(this.formEditInfoSinistre.valid){let m={causeSinistre:{idParam:this.formEditInfoSinistre.get("causeSinistre").value},tauxResponsabiliteGestion:this.formEditInfoSinistre.get("tauxResponsabiliteGestion").value,zoneAffecte:{idParam:this.formEditInfoSinistre.get("zoneAffecte").value},auditUser:sessionStorage.getItem("userId")};this.sinistresService.getPolicyInformationsByRisque({idContrat:this.infoSinistre?.contratHistorique?.idContrat?.idContrat,date:this.infoSinistre?.dateSurvenance,risque:this.infoSinistre?.codeRisque,groupe:999},this.infoSinistre?.contratHistorique?.idHistoriqueContrat).subscribe({next:j=>{0!=j.length?(m.paramContratList=j.paramContratList,this.loadUpdate=!0,this.sinistresService.updateInfosSinistre(m,this.infoSinistre.idSinistre,this.codeProduit).subscribe({next:be=>{this.loadUpdate=!1,this.msgApi.error=!1,xe().fire({title:"Modification informations sinistre avec succ\xe9e",icon:"success",showConfirmButton:!0}).then(It=>{this.goBack()})},error:be=>{this.loadUpdate=!1,xe().fire({title:be.messageStatut,icon:"error",showConfirmButton:!0}),console.log(be)}})):xe().fire("Cette police n'existe pas","","error")},error:j=>{console.log(j),xe().fire(j,"","error")}})}}goBack(){this.router.navigate(["../"],{relativeTo:this.route})}handleError(m){let I="";I=500==m.status?"Erreur syst\xe8me, veuillez contacter l'administrateur.":m,xe().fire(I,"","error")}}return f.\u0275fac=function(m){return new(m||f)(t.Y36(ee.F0),t.Y36(ee.gz),t.Y36(Zt.m),t.Y36(tt.M),t.Y36(Q.qu))},f.\u0275cmp=t.Xpm({type:f,selectors:[["app-completez-infos"]],decls:8,vars:1,consts:[[1,"container"],[1,"header-container"],[1,"header-title"],["aria-hidden","false","matTooltip","Retour","matTooltipPosition","left",1,"material-symbols-outlined",3,"click"],["class","form row",3,"formGroup","ngSubmit",4,"ngIf"],[1,"form","row",3,"formGroup","ngSubmit"],["appearance","outline",1,"col-md-5"],["formControlName","causeSinistre",3,"selectionChange"],[3,"displayMember","array","filteredReturn"],[3,"value",4,"ngFor","ngForOf"],["class","invalid-feedback",4,"ngIf"],["formControlName","zoneAffecte",3,"disabled","selectionChange"],["type","text","matInput","","formControlName","tauxResponsabiliteGestion"],["matSuffix",""],[1,"button-row"],["mat-button","","class","btn btn-action","type","submit",4,"ngIf"],[3,"value"],[1,"invalid-feedback"],[4,"ngIf"],["mat-button","","type","submit",1,"btn","btn-action"]],template:function(m,I){1&m&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h2",2)(3,"mat-icon",3),t.NdJ("click",function(){return I.goBack()}),t._uU(4,"arrow_circle_left"),t.qZA(),t._uU(5," Completez informations sinistres "),t.qZA()(),t._UZ(6,"app-entete-gestion"),t.YNc(7,Lm,26,13,"form",4),t.qZA()),2&m&&(t.xp6(7),t.Q6J("ngIf",I.formEditInfoSinistre))},dependencies:[Se.sg,Se.O5,_n.Hw,Q._Y,Q.Fj,Q.JJ,Q.JL,Q.sg,Q.u,mn.TO,mn.KE,mn.hX,mn.R9,Xn.Nt,Bi.gM,xt.gD,ht.ey,Jn.lW,xi.Fq,rs],styles:[".container[_ngcontent-%COMP%]{background-color:#fff;padding:40px 2rem;height:100%;overflow-y:hidden;overflow-x:hidden}h2.header-title[_ngcontent-%COMP%]{font-size:21px!important;color:#00008f;font-weight:600!important;letter-spacing:1px;display:flex}h2.header-title[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{margin-right:1rem;font-size:32px;height:-moz-fit-content;height:fit-content;width:-moz-fit-content;width:fit-content}h2.header-title.title[_ngcontent-%COMP%]{align-items:center;display:flex}.form.row[_ngcontent-%COMP%]{flex-direction:column;margin-top:4rem}.button-row[_ngcontent-%COMP%]   .btn-action[_ngcontent-%COMP%]{float:right}"]}),f})();function Nl(f,D){if(1&f){const m=t.EpF();t.TgZ(0,"mat-icon",12),t.NdJ("click",function(){t.CHM(m);const j=t.oxw(2);return t.KtG(j.editTier())}),t._uU(1,"edit"),t.qZA()}}function Yi(f,D){if(1&f&&(t.TgZ(0,"div",10),t.YNc(1,Nl,2,0,"mat-icon",11),t._uU(2," Consulter Tier"),t.qZA()),2&f){const m=t.oxw();t.xp6(1),t.Q6J("ngIf",m.consultTierShow)}}function Tm(f,D){1&f&&(t.TgZ(0,"span"),t._uU(1,"Modifier Tier"),t.qZA())}function cd(f,D){1&f&&(t.TgZ(0,"div",13),t._uU(1,"Tier modifi\xe9 avec succ\xe9s"),t.qZA())}function Tu(f,D){if(1&f&&(t.ynx(0),t.TgZ(1,"mat-option",31),t._uU(2),t.qZA(),t.BQk()),2&f){const m=D.$implicit;t.xp6(1),t.Q6J("value",m),t.xp6(1),t.Oqu(m.description)}}function E_(f,D){1&f&&(t.TgZ(0,"div"),t._uU(1," ce champs est obligatoire"),t.qZA())}function ud(f,D){if(1&f&&(t.TgZ(0,"mat-error",32),t.YNc(1,E_,2,0,"div",5),t.qZA()),2&f){const m=t.oxw(3);t.xp6(1),t.Q6J("ngIf",m.formAddTier.controls.typeAdversaire.errors.required)}}function Jd(f,D){1&f&&(t.TgZ(0,"mat-error",37),t._uU(1,"Ce champs est obligatoire"),t.qZA())}function Ja(f,D){if(1&f&&(t.TgZ(0,"mat-radio-group",33)(1,"mat-label"),t._uU(2,"Tiers de la m\xeame famille ? "),t.qZA(),t.TgZ(3,"mat-radio-button",34),t._uU(4,"Oui"),t.qZA(),t.TgZ(5,"mat-radio-button",35),t._uU(6,"Non"),t.qZA(),t.YNc(7,Jd,2,0,"mat-error",36),t.qZA()),2&f){const m=t.oxw(3);t.xp6(7),t.Q6J("ngIf",m.formAddTier.get("isFamily").invalid)}}function R_(f,D){if(1&f){const m=t.EpF();t.TgZ(0,"div",19)(1,"mat-form-field",20)(2,"mat-label"),t._uU(3,"Type adversaire "),t.qZA(),t.TgZ(4,"mat-select",28),t.NdJ("selectionChange",function(j){t.CHM(m);const be=t.oxw(2);return t.KtG(be.changeTypeAdversaire(j.value))}),t.YNc(5,Tu,3,2,"ng-container",29),t.qZA(),t.YNc(6,ud,2,1,"mat-error",22),t.qZA(),t.YNc(7,Ja,8,1,"mat-radio-group",30),t.qZA()}if(2&f){const m=t.oxw(2);t.xp6(5),t.Q6J("ngForOf",m.typeAdversaireArray),t.xp6(1),t.Q6J("ngIf",m.formAddTier.controls.typeAdversaire.errors),t.xp6(1),t.Q6J("ngIf","CP309"==m.typeTierSelectedCode)}}function D_(f,D){1&f&&(t.TgZ(0,"div"),t._uU(1," ce champs est obligatoire"),t.qZA())}function Ld(f,D){if(1&f&&(t.TgZ(0,"mat-error",32),t.YNc(1,D_,2,0,"div",5),t.qZA()),2&f){const m=t.oxw(2);t.xp6(1),t.Q6J("ngIf",m.formAddTier.controls.nomAdversaire.errors.required)}}function w_(f,D){1&f&&(t.TgZ(0,"div"),t._uU(1," ce champs est obligatoire"),t.qZA())}function Yd(f,D){if(1&f&&(t.TgZ(0,"mat-error",32),t.YNc(1,w_,2,0,"div",5),t.qZA()),2&f){const m=t.oxw(2);t.xp6(1),t.Q6J("ngIf",m.formAddTier.controls.prenomAdversaire.errors.required)}}function O_(f,D){if(1&f){const m=t.EpF();t.TgZ(0,"mat-radio-group",38),t.NdJ("ngModelChange",function(j){t.CHM(m);const be=t.oxw(2);return t.KtG(be.selectedValue=j)})("change",function(j){t.CHM(m);const be=t.oxw(2);return t.KtG(be.tiersAssure(j.value))}),t.TgZ(1,"mat-label"),t._uU(2," Tiers assur\xe9 "),t.qZA(),t.TgZ(3,"mat-radio-button",31),t._uU(4,"Oui"),t.qZA(),t.TgZ(5,"mat-radio-button",31),t._uU(6," Non"),t.qZA()()}if(2&f){const m=t.oxw(2);t.Q6J("ngModel",m.selectedValue),t.xp6(3),t.Q6J("value",!0),t.xp6(2),t.Q6J("value",!1)}}const Gd=function(f){return{"disabled-radio-button":f}};function k_(f,D){if(1&f){const m=t.EpF();t.TgZ(0,"mat-radio-group",38),t.NdJ("ngModelChange",function(j){t.CHM(m);const be=t.oxw(2);return t.KtG(be.selectedValue=j)})("change",function(j){t.CHM(m);const be=t.oxw(2);return t.KtG(be.tiersAssure(j.value))}),t.TgZ(1,"mat-label"),t._uU(2," Tiers assur\xe9 "),t.qZA(),t.TgZ(3,"mat-radio-button",39),t._uU(4,"Oui"),t.qZA(),t.TgZ(5,"mat-radio-button",40),t._uU(6," Non"),t.qZA()()}if(2&f){const m=t.oxw(2);t.Q6J("ngModel",m.selectedValue),t.xp6(3),t.Q6J("value",!0)("ngClass",t.VKq(4,Gd,!0===m.selectedValue)),t.xp6(2),t.Q6J("value",!1)}}function zs(f,D){if(1&f&&(t.ynx(0),t.TgZ(1,"mat-option",31),t._uU(2),t.qZA(),t.BQk()),2&f){const m=D.$implicit;t.xp6(1),t.Q6J("value",m),t.xp6(1),t.Oqu(m.description)}}function ss(f,D){1&f&&(t.TgZ(0,"div"),t._uU(1," ce champs est obligatoire"),t.qZA())}function Gm(f,D){if(1&f&&(t.TgZ(0,"mat-error",32),t.YNc(1,ss,2,0,"div",5),t.qZA()),2&f){const m=t.oxw(3);t.xp6(1),t.Q6J("ngIf",m.formAddTier.controls.companyAdverse.errors.required)}}function va(f,D){if(1&f&&(t.TgZ(0,"mat-option",31),t._uU(1),t.qZA()),2&f){const m=D.$implicit;t.Q6J("value",m.idParam),t.xp6(1),t.hij(" ",m.description," ")}}function md(f,D){1&f&&(t.TgZ(0,"div"),t._uU(1," ce champs est obligatoire"),t.qZA())}function M_(f,D){if(1&f&&(t.TgZ(0,"mat-error",32),t.YNc(1,md,2,0,"div",5),t.qZA()),2&f){const m=t.oxw(3);t.xp6(1),t.Q6J("ngIf",m.formAddTier.controls.agenceAdverse.errors.required)}}function U_(f,D){if(1&f){const m=t.EpF();t.TgZ(0,"div",19)(1,"mat-form-field",20)(2,"mat-label"),t._uU(3,"Assurance adverse "),t.qZA(),t.TgZ(4,"mat-select",41),t.NdJ("selectionChange",function(j){t.CHM(m);const be=t.oxw(2);return t.KtG(be.getAgenceAdverse(j.value))}),t.YNc(5,zs,3,2,"ng-container",29),t.qZA(),t.YNc(6,Gm,2,1,"mat-error",22),t.qZA(),t.TgZ(7,"mat-form-field",20)(8,"mat-label"),t._uU(9,"Agence adverse "),t.qZA(),t.TgZ(10,"mat-select",42)(11,"mat-select-filter",43),t.NdJ("filteredReturn",function(j){t.CHM(m);const be=t.oxw(2);return t.KtG(be.filteredAgenceAdversesArray=j)}),t.qZA(),t.YNc(12,va,2,2,"mat-option",44),t.qZA(),t.YNc(13,M_,2,1,"mat-error",22),t.qZA()()}if(2&f){const m=t.oxw(2);t.xp6(5),t.Q6J("ngForOf",m.companiesAdverse),t.xp6(1),t.Q6J("ngIf",m.formAddTier.controls.companyAdverse.errors),t.xp6(5),t.Q6J("displayMember","description")("array",m.agenceAdversesArray),t.xp6(1),t.Q6J("ngForOf",m.filteredAgenceAdversesArray),t.xp6(1),t.Q6J("ngIf",m.formAddTier.controls.agenceAdverse.errors)}}function $u(f,D){1&f&&(t.TgZ(0,"div"),t._uU(1," ce champs est obligatoire"),t.qZA())}function dd(f,D){if(1&f&&(t.TgZ(0,"mat-error",32),t.YNc(1,$u,2,0,"div",5),t.qZA()),2&f){const m=t.oxw(3);t.xp6(1),t.Q6J("ngIf",m.formAddTier.controls.numPolice.errors.required)}}function Bd(f,D){if(1&f&&(t.TgZ(0,"div",19)(1,"mat-form-field",20)(2,"mat-label"),t._uU(3,"N\xb0 police "),t.qZA(),t._UZ(4,"input",45),t.YNc(5,dd,2,1,"mat-error",22),t.qZA(),t.TgZ(6,"mat-form-field",20)(7,"mat-label"),t._uU(8,"Contact "),t.qZA(),t._UZ(9,"input",46),t.qZA()()),2&f){const m=t.oxw(2);t.xp6(5),t.Q6J("ngIf",m.formAddTier.controls.numPolice.errors)}}function F_(f,D){if(1&f&&(t.ynx(0),t.TgZ(1,"mat-option",31),t._uU(2),t.qZA(),t.BQk()),2&f){const m=D.$implicit;t.xp6(1),t.Q6J("value",m.idParam),t.xp6(1),t.hij(" ",m.marque," ")}}function fc(f,D){1&f&&(t.TgZ(0,"div"),t._uU(1," ce champs est obligatoire"),t.qZA())}function Q_(f,D){if(1&f&&(t.TgZ(0,"mat-error",32),t.YNc(1,fc,2,0,"div",5),t.qZA()),2&f){const m=t.oxw(3);t.xp6(1),t.Q6J("ngIf",m.formAddTier.controls.marqueVehiculeAdverse.errors.required)}}function J_(f,D){if(1&f&&(t.ynx(0),t.TgZ(1,"mat-option",31),t._uU(2),t.qZA(),t.BQk()),2&f){const m=D.$implicit;t.xp6(1),t.Q6J("value",m.idParam),t.xp6(1),t.Oqu(m.modele)}}function zd(f,D){1&f&&(t.TgZ(0,"div"),t._uU(1," ce champs est obligatoire"),t.qZA())}function Vd(f,D){if(1&f&&(t.TgZ(0,"mat-error",32),t.YNc(1,zd,2,0,"div",5),t.qZA()),2&f){const m=t.oxw(3);t.xp6(1),t.Q6J("ngIf",m.formAddTier.controls.modeleVehiculeAdverse.errors.required)}}function L_(f,D){1&f&&(t.TgZ(0,"div"),t._uU(1," ce champs est obligatoire"),t.qZA())}function _d(f,D){if(1&f&&(t.TgZ(0,"mat-error",32),t.YNc(1,L_,2,0,"div",5),t.qZA()),2&f){const m=t.oxw(3);t.xp6(1),t.Q6J("ngIf",m.formAddTier.controls.immatriculationVehiculeAdverse.errors.required)}}function jd(f,D){1&f&&(t.TgZ(0,"div"),t._uU(1," ce champs est obligatoire"),t.qZA())}function bm(f,D){if(1&f&&(t.TgZ(0,"mat-error",32),t.YNc(1,jd,2,0,"div",5),t.qZA()),2&f){const m=t.oxw(3);t.xp6(1),t.Q6J("ngIf",m.formAddTier.controls.nomConducteurAdverse.errors.required)}}function pd(f,D){1&f&&(t.TgZ(0,"div"),t._uU(1," ce champs est obligatoire"),t.qZA())}function Hd(f,D){if(1&f&&(t.TgZ(0,"mat-error",32),t.YNc(1,pd,2,0,"div",5),t.qZA()),2&f){const m=t.oxw(3);t.xp6(1),t.Q6J("ngIf",m.formAddTier.controls.prenomConducteurAdverse.errors.required)}}function Bm(f,D){1&f&&(t.TgZ(0,"div"),t._uU(1," ce champs est obligatoire"),t.qZA())}function Pm(f,D){if(1&f&&(t.TgZ(0,"mat-error",32),t.YNc(1,Bm,2,0,"div",5),t.qZA()),2&f){const m=t.oxw(3);t.xp6(1),t.Q6J("ngIf",m.formAddTier.controls.numPermisConducteurAdverse.errors.required)}}function fd(f,D){1&f&&(t.TgZ(0,"div"),t._uU(1," ce champs est obligatoire"),t.qZA())}function ls(f,D){if(1&f&&(t.TgZ(0,"mat-error",32),t.YNc(1,fd,2,0,"div",5),t.qZA()),2&f){const m=t.oxw(3);t.xp6(1),t.Q6J("ngIf",m.formAddTier.controls.dateDelivranceAdverse.errors.required)}}function Il(f,D){if(1&f&&(t.ynx(0),t.TgZ(1,"mat-option",31),t._uU(2),t.qZA(),t.BQk()),2&f){const m=D.$implicit;t.xp6(1),t.Q6J("value",m.idWilaya),t.xp6(1),t.Oqu(m.description)}}function er(f,D){1&f&&(t.TgZ(0,"div"),t._uU(1," ce champs est obligatoire"),t.qZA())}function Xc(f,D){if(1&f&&(t.TgZ(0,"mat-error",32),t.YNc(1,er,2,0,"div",5),t.qZA()),2&f){const m=t.oxw(3);t.xp6(1),t.Q6J("ngIf",m.formAddTier.controls.lieuDelivranceAdverse.errors.required)}}function gd(f,D){if(1&f){const m=t.EpF();t.TgZ(0,"div",47)(1,"h3",48),t._uU(2,"Informations sur v\xe9hicule adverse "),t.qZA(),t.TgZ(3,"div",19)(4,"mat-form-field",20)(5,"mat-label"),t._uU(6,"Marque "),t.qZA(),t.TgZ(7,"mat-select",49),t.NdJ("selectionChange",function(j){t.CHM(m);const be=t.oxw(2);return t.KtG(be.getModel(j.value))}),t.YNc(8,F_,3,2,"ng-container",29),t.qZA(),t.YNc(9,Q_,2,1,"mat-error",22),t.qZA(),t.TgZ(10,"mat-form-field",20)(11,"mat-label"),t._uU(12,"Modele "),t.qZA(),t.TgZ(13,"mat-select",50),t.YNc(14,J_,3,2,"ng-container",29),t.qZA(),t.YNc(15,Vd,2,1,"mat-error",22),t.qZA()(),t.TgZ(16,"div",19)(17,"mat-form-field",20)(18,"mat-label"),t._uU(19,"Immatriculation "),t.qZA(),t._UZ(20,"input",51),t.YNc(21,_d,2,1,"mat-error",22),t.qZA()(),t.TgZ(22,"div",19)(23,"h3",48),t._uU(24,"Informations sur conducteurs adverse "),t.qZA(),t.TgZ(25,"mat-form-field",20)(26,"mat-label"),t._uU(27,"Nom conducteur adverse"),t.qZA(),t._UZ(28,"input",52),t.YNc(29,bm,2,1,"mat-error",22),t.qZA(),t.TgZ(30,"mat-form-field",20)(31,"mat-label"),t._uU(32,"Pr\xe9nom conducteur adverse "),t.qZA(),t._UZ(33,"input",53),t.YNc(34,Hd,2,1,"mat-error",22),t.qZA()(),t.TgZ(35,"div",19)(36,"mat-form-field",20)(37,"mat-label"),t._uU(38,"N\xb0 permis conducteur adverse"),t.qZA(),t._UZ(39,"input",54),t.YNc(40,Pm,2,1,"mat-error",22),t.qZA()(),t.TgZ(41,"div",19)(42,"mat-form-field",20)(43,"mat-label"),t._uU(44,"Date D\xe9livrance"),t.qZA(),t._UZ(45,"input",55)(46,"mat-datepicker-toggle",56)(47,"mat-datepicker",null,57),t.YNc(49,ls,2,1,"mat-error",22),t.qZA(),t.TgZ(50,"mat-form-field",20)(51,"mat-label"),t._uU(52,"Lieu de d\xe9livrance "),t.qZA(),t.TgZ(53,"mat-select",58),t.YNc(54,Il,3,2,"ng-container",29),t.qZA(),t.YNc(55,Xc,2,1,"mat-error",22),t.qZA()()()}if(2&f){const m=t.MAs(48),I=t.oxw(2);t.xp6(8),t.Q6J("ngForOf",I.marques),t.xp6(1),t.Q6J("ngIf",I.formAddTier.controls.marqueVehiculeAdverse.errors),t.xp6(5),t.Q6J("ngForOf",I.models),t.xp6(1),t.Q6J("ngIf",I.formAddTier.controls.modeleVehiculeAdverse.errors),t.xp6(6),t.Q6J("ngIf",I.formAddTier.controls.immatriculationVehiculeAdverse.errors),t.xp6(8),t.Q6J("ngIf",I.formAddTier.controls.nomConducteurAdverse.errors),t.xp6(5),t.Q6J("ngIf",I.formAddTier.controls.prenomConducteurAdverse.errors),t.xp6(6),t.Q6J("ngIf",I.formAddTier.controls.numPermisConducteurAdverse.errors),t.xp6(5),t.Q6J("matDatepicker",m),t.xp6(1),t.Q6J("for",m),t.xp6(3),t.Q6J("ngIf",I.formAddTier.controls.dateDelivranceAdverse.errors),t.xp6(5),t.Q6J("ngForOf",I.wilayas),t.xp6(1),t.Q6J("ngIf",I.formAddTier.controls.lieuDelivranceAdverse.errors)}}function hd(f,D){1&f&&(t.TgZ(0,"div",59)(1,"button",60),t._uU(2,"Ajouter tier"),t.qZA()())}function Y_(f,D){if(1&f){const m=t.EpF();t.TgZ(0,"mat-accordion",14)(1,"mat-expansion-panel",15)(2,"mat-expansion-panel-header")(3,"mat-panel-title"),t._uU(4," Ajouter tier "),t.qZA()(),t.TgZ(5,"form",16,17),t.NdJ("ngSubmit",function(){t.CHM(m);const j=t.MAs(6),be=t.oxw();return t.KtG(be.submitTier(j))}),t.YNc(7,R_,8,3,"div",18),t.TgZ(8,"div",19)(9,"mat-form-field",20)(10,"mat-label"),t._uU(11,"Nom "),t.qZA(),t._UZ(12,"input",21),t.YNc(13,Ld,2,1,"mat-error",22),t.qZA(),t.TgZ(14,"mat-form-field",20)(15,"mat-label"),t._uU(16,"Pr\xe9nom "),t.qZA(),t._UZ(17,"input",23),t.YNc(18,Yd,2,1,"mat-error",22),t.qZA(),t.YNc(19,O_,7,3,"mat-radio-group",24),t.YNc(20,k_,7,6,"mat-radio-group",24),t.qZA(),t.YNc(21,U_,14,6,"div",18),t.YNc(22,Bd,10,1,"div",18),t.TgZ(23,"div",19)(24,"mat-form-field",20)(25,"mat-label"),t._uU(26,"Taux Responsabilit\xe9 "),t.qZA(),t._UZ(27,"input",25),t.qZA()(),t.YNc(28,gd,56,13,"div",26),t.YNc(29,hd,3,0,"div",27),t.qZA()()()}if(2&f){const m=t.oxw();t.xp6(1),t.Q6J("expanded",!0),t.xp6(4),t.Q6J("formGroup",m.formAddTier),t.xp6(2),t.Q6J("ngIf","45A"==m.codeProduit||"45F"==m.codeProduit||"45L"==m.codeProduit),t.xp6(6),t.Q6J("ngIf",m.formAddTier.controls.nomAdversaire.errors),t.xp6(5),t.Q6J("ngIf",m.formAddTier.controls.prenomAdversaire.errors),t.xp6(1),t.Q6J("ngIf","96"==m.codeProduit||"95"==m.codeProduit),t.xp6(1),t.Q6J("ngIf","45A"==m.codeProduit||"45F"==m.codeProduit||"45L"==m.codeProduit),t.xp6(1),t.Q6J("ngIf",m.formAddTier.get("assure").value),t.xp6(1),t.Q6J("ngIf",m.formAddTier.get("assure").value),t.xp6(6),t.Q6J("ngIf","CP309"==m.typeTierSelectedCode),t.xp6(1),t.Q6J("ngIf","CP355"!=m.statutSinistre||"CP524"!=m.statutSinistre||"CP525"!=m.statutSinistre||"CP526"!=m.statutSinistre)}}function G_(f,D){1&f&&(t.TgZ(0,"th",71),t._uU(1," Type adversaire "),t.qZA())}function B_(f,D){if(1&f&&(t.TgZ(0,"td",72),t._uU(1),t.qZA()),2&f){const m=D.$implicit;t.xp6(1),t.hij(" ",m.typePersonne.description," ")}}function z_(f,D){1&f&&(t.ynx(0,70),t.YNc(1,G_,2,0,"th",64),t.YNc(2,B_,2,1,"td",65),t.BQk())}function Cd(f,D){1&f&&(t.TgZ(0,"th",71),t._uU(1," Nom "),t.qZA())}function V_(f,D){if(1&f&&(t.TgZ(0,"td",72),t._uU(1),t.qZA()),2&f){const m=D.$implicit;t.xp6(1),t.hij(" ",m.nom," ")}}function j_(f,D){1&f&&(t.TgZ(0,"th",71),t._uU(1," Pr\xe9nom "),t.qZA())}function H_(f,D){if(1&f&&(t.TgZ(0,"td",72),t._uU(1),t.qZA()),2&f){const m=D.$implicit;t.xp6(1),t.hij(" ",m.prenom,"")}}function $_(f,D){1&f&&(t.TgZ(0,"th",71),t._uU(1," Action "),t.qZA())}function $d(f,D){if(1&f){const m=t.EpF();t.TgZ(0,"td",72)(1,"button",73)(2,"mat-icon"),t._uU(3,"more_vert"),t.qZA()(),t.TgZ(4,"mat-menu",74,75)(6,"button",76),t.NdJ("click",function(){const be=t.CHM(m).$implicit,It=t.oxw(2);return t.KtG(It.consultTier(be.typePersonne,be))}),t.TgZ(7,"mat-icon"),t._uU(8,"zoom_in"),t.qZA(),t.TgZ(9,"span"),t._uU(10,"Consulter tier"),t.qZA()(),t.TgZ(11,"button",76),t.NdJ("click",function(){const be=t.CHM(m).$implicit,It=t.oxw(2);return t.KtG(It.deleteTier(be))}),t.TgZ(12,"mat-icon"),t._uU(13,"delete"),t.qZA(),t.TgZ(14,"span"),t._uU(15,"Supprimer tier"),t.qZA()()()()}if(2&f){const m=t.MAs(5),I=t.oxw(2);t.xp6(1),t.Q6J("matMenuTriggerFor",m),t.xp6(5),t.Q6J("disabled","CP355"==I.statutSinistre||"CP415"==I.statutSinistre||"CP524"==I.statutSinistre||"CP525"==I.statutSinistre||"CP526"==I.statutSinistre),t.xp6(5),t.Q6J("disabled","CP355"==I.statutSinistre||"CP415"==I.statutSinistre||"CP524"==I.statutSinistre||"CP525"==I.statutSinistre||"CP526"==I.statutSinistre)}}function xd(f,D){1&f&&t._UZ(0,"tr",77)}function Kd(f,D){1&f&&t._UZ(0,"tr",78)}function K_(f,D){if(1&f&&(t.TgZ(0,"table",61),t.YNc(1,z_,3,0,"ng-container",62),t.ynx(2,63),t.YNc(3,Cd,2,0,"th",64),t.YNc(4,V_,2,1,"td",65),t.BQk(),t.ynx(5,66),t.YNc(6,j_,2,0,"th",64),t.YNc(7,H_,2,1,"td",65),t.BQk(),t.ynx(8,67),t.YNc(9,$_,2,0,"th",64),t.YNc(10,$d,16,3,"td",65),t.BQk(),t.YNc(11,xd,1,0,"tr",68),t.YNc(12,Kd,1,0,"tr",69),t.qZA()),2&f){const m=t.oxw();t.Q6J("dataSource",m.dataSourceTier),t.xp6(1),t.Q6J("ngIf","45A"==m.codeProduit||"45F"==m.codeProduit||"45L"==m.codeProduit),t.xp6(10),t.Q6J("matHeaderRowDef",m.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",m.displayedColumns)}}const W_=function(){return[5,10]};function X_(f,D){1&f&&t._UZ(0,"mat-paginator",79),2&f&&t.Q6J("pageSize",10)("pageSizeOptions",t.DdM(2,W_))}function Wd(f,D){if(1&f&&(t.TgZ(0,"div",82),t._uU(1),t.qZA()),2&f){const m=t.oxw(2);t.xp6(1),t.Oqu(m.errorHandler.msg)}}function Xd(f,D){1&f&&(t.TgZ(0,"div"),t._uU(1," ce champs est obligatoire"),t.qZA())}function Mc(f,D){if(1&f&&(t.TgZ(0,"mat-error",32),t.YNc(1,Xd,2,0,"div",5),t.qZA()),2&f){const m=t.oxw(2);t.xp6(1),t.Q6J("ngIf",m.formAddTier.controls.nomAdversaire.errors.required)}}function ep(f,D){1&f&&(t.TgZ(0,"div"),t._uU(1," ce champs est obligatoire"),t.qZA())}function tp(f,D){if(1&f&&(t.TgZ(0,"mat-error",32),t.YNc(1,ep,2,0,"div",5),t.qZA()),2&f){const m=t.oxw(2);t.xp6(1),t.Q6J("ngIf",m.formAddTier.controls.prenomAdversaire.errors.required)}}function np(f,D){if(1&f&&(t.ynx(0),t.TgZ(1,"mat-option",31),t._uU(2),t.qZA(),t.BQk()),2&f){const m=D.$implicit;t.xp6(1),t.Q6J("value",m.idParam),t.xp6(1),t.Oqu(m.description)}}function ip(f,D){1&f&&(t.TgZ(0,"div"),t._uU(1," ce champs est obligatoire"),t.qZA())}function Bl(f,D){if(1&f&&(t.TgZ(0,"mat-error",32),t.YNc(1,ip,2,0,"div",5),t.qZA()),2&f){const m=t.oxw(2);t.xp6(1),t.Q6J("ngIf",m.formAddTier.controls.companyAdverse.errors.required)}}function op(f,D){if(1&f&&(t.TgZ(0,"mat-option",31),t._uU(1),t.qZA()),2&f){const m=D.$implicit;t.Q6J("value",m.idParam),t.xp6(1),t.hij(" ",m.description," ")}}function e_(f,D){1&f&&(t.TgZ(0,"div"),t._uU(1," ce champs est obligatoire"),t.qZA())}function t_(f,D){if(1&f&&(t.TgZ(0,"mat-error",32),t.YNc(1,e_,2,0,"div",5),t.qZA()),2&f){const m=t.oxw(2);t.xp6(1),t.Q6J("ngIf",m.formAddTier.controls.agenceAdverse.errors.required)}}function n_(f,D){1&f&&(t.TgZ(0,"div"),t._uU(1," ce champs est obligatoire"),t.qZA())}function rp(f,D){if(1&f&&(t.TgZ(0,"mat-error",32),t.YNc(1,n_,2,0,"div",5),t.qZA()),2&f){const m=t.oxw(2);t.xp6(1),t.Q6J("ngIf",m.formAddTier.controls.numPolice.errors.required)}}function ap(f,D){if(1&f&&(t.ynx(0),t.TgZ(1,"mat-option",31),t._uU(2),t.qZA(),t.BQk()),2&f){const m=D.$implicit;t.xp6(1),t.Q6J("value",m.idParam),t.xp6(1),t.Oqu(m.marque)}}function sp(f,D){1&f&&(t.TgZ(0,"div"),t._uU(1," ce champs est obligatoire"),t.qZA())}function lp(f,D){if(1&f&&(t.TgZ(0,"mat-error",32),t.YNc(1,sp,2,0,"div",5),t.qZA()),2&f){const m=t.oxw(3);t.xp6(1),t.Q6J("ngIf",m.formAddTier.controls.marqueVehiculeAdverse.errors.required)}}function vd(f,D){if(1&f&&(t.ynx(0),t.TgZ(1,"mat-option",31),t._uU(2),t.qZA(),t.BQk()),2&f){const m=D.$implicit;t.xp6(1),t.Q6J("value",m.idParam),t.xp6(1),t.Oqu(m.modele)}}function Ad(f,D){1&f&&(t.TgZ(0,"div"),t._uU(1," ce champs est obligatoire"),t.qZA())}function i_(f,D){if(1&f&&(t.TgZ(0,"mat-error",32),t.YNc(1,Ad,2,0,"div",5),t.qZA()),2&f){const m=t.oxw(3);t.xp6(1),t.Q6J("ngIf",m.formAddTier.controls.modeleVehiculeAdverse.errors.required)}}function cp(f,D){1&f&&(t.TgZ(0,"div"),t._uU(1," ce champs est obligatoire"),t.qZA())}function up(f,D){if(1&f&&(t.TgZ(0,"mat-error",32),t.YNc(1,cp,2,0,"div",5),t.qZA()),2&f){const m=t.oxw(3);t.xp6(1),t.Q6J("ngIf",m.formAddTier.controls.immatriculationVehiculeAdverse.errors.required)}}function mp(f,D){1&f&&(t.TgZ(0,"div"),t._uU(1," ce champs est obligatoire"),t.qZA())}function dp(f,D){if(1&f&&(t.TgZ(0,"mat-error",32),t.YNc(1,mp,2,0,"div",5),t.qZA()),2&f){const m=t.oxw(3);t.xp6(1),t.Q6J("ngIf",m.formAddTier.controls.nomConducteurAdverse.errors.required)}}function _p(f,D){1&f&&(t.TgZ(0,"div"),t._uU(1," ce champs est obligatoire"),t.qZA())}function o_(f,D){if(1&f&&(t.TgZ(0,"mat-error",32),t.YNc(1,_p,2,0,"div",5),t.qZA()),2&f){const m=t.oxw(3);t.xp6(1),t.Q6J("ngIf",m.formAddTier.controls.prenomConducteurAdverse.errors.required)}}function pp(f,D){1&f&&(t.TgZ(0,"div"),t._uU(1," ce champs est obligatoire"),t.qZA())}function Zm(f,D){if(1&f&&(t.TgZ(0,"mat-error",32),t.YNc(1,pp,2,0,"div",5),t.qZA()),2&f){const m=t.oxw(3);t.xp6(1),t.Q6J("ngIf",m.formAddTier.controls.numPermisConducteurAdverse.errors.required)}}function fp(f,D){1&f&&(t.TgZ(0,"div"),t._uU(1," ce champs est obligatoire"),t.qZA())}function gp(f,D){if(1&f&&(t.TgZ(0,"mat-error",32),t.YNc(1,fp,2,0,"div",5),t.qZA()),2&f){const m=t.oxw(3);t.xp6(1),t.Q6J("ngIf",m.formAddTier.controls.dateDelivranceAdverse.errors.required)}}function zm(f,D){if(1&f&&(t.ynx(0),t.TgZ(1,"mat-option",31),t._uU(2),t.qZA(),t.BQk()),2&f){const m=D.$implicit;t.xp6(1),t.Q6J("value",m.idWilaya),t.xp6(1),t.Oqu(m.description)}}function r_(f,D){1&f&&(t.TgZ(0,"div"),t._uU(1," ce champs est obligatoire"),t.qZA())}function hp(f,D){if(1&f&&(t.TgZ(0,"mat-error",32),t.YNc(1,r_,2,0,"div",5),t.qZA()),2&f){const m=t.oxw(3);t.xp6(1),t.Q6J("ngIf",m.formAddTier.controls.lieuDelivranceAdverse.errors.required)}}function Cp(f,D){if(1&f){const m=t.EpF();t.TgZ(0,"div",47)(1,"h3"),t._uU(2,"Informations sur v\xe9hicule adverse "),t.qZA(),t.TgZ(3,"div",19)(4,"mat-form-field",20)(5,"mat-label"),t._uU(6,"Marque "),t.qZA(),t.TgZ(7,"mat-select",49),t.NdJ("selectionChange",function(j){t.CHM(m);const be=t.oxw(2);return t.KtG(be.getModel(j.value))}),t.YNc(8,ap,3,2,"ng-container",29),t.qZA(),t.YNc(9,lp,2,1,"mat-error",22),t.qZA(),t.TgZ(10,"mat-form-field",20)(11,"mat-label"),t._uU(12,"Modele "),t.qZA(),t.TgZ(13,"mat-select",50),t.YNc(14,vd,3,2,"ng-container",29),t.qZA(),t.YNc(15,i_,2,1,"mat-error",22),t.qZA()(),t.TgZ(16,"div",19)(17,"mat-form-field",20)(18,"mat-label"),t._uU(19,"Immatriculation "),t.qZA(),t._UZ(20,"input",51),t.YNc(21,up,2,1,"mat-error",22),t.qZA()(),t.TgZ(22,"div",19)(23,"h3"),t._uU(24,"Informations sur conducteurs adverse "),t.qZA(),t.TgZ(25,"mat-form-field",20)(26,"mat-label"),t._uU(27,"Nom conducteur adverse"),t.qZA(),t._UZ(28,"input",52),t.YNc(29,dp,2,1,"mat-error",22),t.qZA(),t.TgZ(30,"mat-form-field",20)(31,"mat-label"),t._uU(32,"Pr\xe9nom conducteur adverse "),t.qZA(),t._UZ(33,"input",53),t.YNc(34,o_,2,1,"mat-error",22),t.qZA()(),t.TgZ(35,"div",19)(36,"mat-form-field",20)(37,"mat-label"),t._uU(38,"N\xb0 permis conducteur adverse"),t.qZA(),t._UZ(39,"input",54),t.YNc(40,Zm,2,1,"mat-error",22),t.qZA()(),t.TgZ(41,"div",19)(42,"mat-form-field",20)(43,"mat-label"),t._uU(44,"Date D\xe9livrance"),t.qZA(),t._UZ(45,"input",55)(46,"mat-datepicker-toggle",56)(47,"mat-datepicker",null,57),t.YNc(49,gp,2,1,"mat-error",22),t.qZA(),t.TgZ(50,"mat-form-field",20)(51,"mat-label"),t._uU(52,"Lieu de d\xe9livrance "),t.qZA(),t.TgZ(53,"mat-select",58),t.YNc(54,zm,3,2,"ng-container",29),t.qZA(),t.YNc(55,hp,2,1,"mat-error",22),t.qZA()()()}if(2&f){const m=t.MAs(48),I=t.oxw(2);t.xp6(8),t.Q6J("ngForOf",I.marques),t.xp6(1),t.Q6J("ngIf",I.formAddTier.controls.marqueVehiculeAdverse.errors),t.xp6(5),t.Q6J("ngForOf",I.models),t.xp6(1),t.Q6J("ngIf",I.formAddTier.controls.modeleVehiculeAdverse.errors),t.xp6(6),t.Q6J("ngIf",I.formAddTier.controls.immatriculationVehiculeAdverse.errors),t.xp6(8),t.Q6J("ngIf",I.formAddTier.controls.nomConducteurAdverse.errors),t.xp6(5),t.Q6J("ngIf",I.formAddTier.controls.prenomConducteurAdverse.errors),t.xp6(6),t.Q6J("ngIf",I.formAddTier.controls.numPermisConducteurAdverse.errors),t.xp6(5),t.Q6J("matDatepicker",m),t.xp6(1),t.Q6J("for",m),t.xp6(3),t.Q6J("ngIf",I.formAddTier.controls.dateDelivranceAdverse.errors),t.xp6(5),t.Q6J("ngForOf",I.wilayas),t.xp6(1),t.Q6J("ngIf",I.formAddTier.controls.lieuDelivranceAdverse.errors)}}function La(f,D){1&f&&(t.TgZ(0,"button",60),t._uU(1,"Modifier tier"),t.qZA())}function qm(f,D){if(1&f){const m=t.EpF();t.TgZ(0,"div"),t.YNc(1,Wd,2,1,"div",80),t.TgZ(2,"form",16,17),t.NdJ("ngSubmit",function(){t.CHM(m);const j=t.MAs(3),be=t.oxw();return t.KtG(be.submitEditTier(j))}),t.TgZ(4,"div",19)(5,"mat-form-field",20)(6,"mat-label"),t._uU(7,"Nom "),t.qZA(),t._UZ(8,"input",21),t.YNc(9,Mc,2,1,"mat-error",22),t.qZA(),t.TgZ(10,"mat-form-field",20)(11,"mat-label"),t._uU(12,"Pr\xe9nom "),t.qZA(),t._UZ(13,"input",23),t.YNc(14,tp,2,1,"mat-error",22),t.qZA()(),t.TgZ(15,"div",19)(16,"mat-form-field",20)(17,"mat-label"),t._uU(18,"Assurance adverse "),t.qZA(),t.TgZ(19,"mat-select",41),t.NdJ("selectionChange",function(j){t.CHM(m);const be=t.oxw();return t.KtG(be.getAgenceAdverseEdit(j.value))}),t.TgZ(20,"mat-option",31),t._uU(21,"-- Aucune"),t.qZA(),t.YNc(22,np,3,2,"ng-container",29),t.qZA(),t.YNc(23,Bl,2,1,"mat-error",22),t.qZA(),t.TgZ(24,"mat-form-field",20)(25,"mat-label"),t._uU(26,"Agence adverse "),t.qZA(),t.TgZ(27,"mat-select",42)(28,"mat-select-filter",43),t.NdJ("filteredReturn",function(j){t.CHM(m);const be=t.oxw();return t.KtG(be.filteredAgenceAdversesArray=j)}),t.qZA(),t.YNc(29,op,2,2,"mat-option",44),t.qZA(),t.YNc(30,t_,2,1,"mat-error",22),t.qZA()(),t.TgZ(31,"div",19)(32,"mat-form-field",20)(33,"mat-label"),t._uU(34,"N\xb0 police "),t.qZA(),t._UZ(35,"input",45),t.YNc(36,rp,2,1,"mat-error",22),t.qZA(),t.TgZ(37,"mat-form-field",20)(38,"mat-label"),t._uU(39,"Contact "),t.qZA(),t._UZ(40,"input",46),t.qZA(),t.TgZ(41,"mat-form-field",20)(42,"mat-label"),t._uU(43,"Taux Responsabilit\xe9 "),t.qZA(),t._UZ(44,"input",25),t.qZA(),t.YNc(45,Cp,56,13,"div",26),t.qZA(),t.TgZ(46,"div",59),t.YNc(47,La,2,0,"button",81),t.qZA()()()}if(2&f){const m=t.oxw();t.xp6(1),t.Q6J("ngIf",m.errorHandler.error),t.xp6(1),t.Q6J("formGroup",m.formAddTier),t.xp6(7),t.Q6J("ngIf",m.formAddTier.controls.nomAdversaire.errors),t.xp6(5),t.Q6J("ngIf",m.formAddTier.controls.prenomAdversaire.errors),t.xp6(6),t.Q6J("value",!1),t.xp6(2),t.Q6J("ngForOf",m.companiesAdverse),t.xp6(1),t.Q6J("ngIf",m.formAddTier.controls.companyAdverse.errors),t.xp6(5),t.Q6J("displayMember","description")("array",m.agenceAdversesArray),t.xp6(1),t.Q6J("ngForOf",m.filteredAgenceAdversesArray),t.xp6(1),t.Q6J("ngIf",m.formAddTier.controls.agenceAdverse.errors),t.xp6(6),t.Q6J("ngIf",m.formAddTier.controls.numPolice.errors),t.xp6(9),t.Q6J("ngIf","CP309"==m.typeTierConsult&&"45A"==m.codeProduit||"45F"==m.codeProduit||"45L"==m.codeProduit),t.xp6(2),t.Q6J("ngIf",m.editTierVar)}}let Sm=(()=>{class f{constructor(m,I,j,be,It,ri,Mi,$s){this.dialog=m,this.router=I,this.sinistresService=j,this.route=be,this.paramRisqueService=It,this.vehiculeService=ri,this.genericService=Mi,this.formBuilder=$s,this.typeAdversaireArray=[],this.companiesAdverse=[],this.agenceAdversesArray=[],this.filteredAgenceAdversesArray=[],this.marques=[],this.models=[],this.wilayas=[],this.informationsTier=[],this.dataSourceTier=new n.by,this.adversairePersonne=new Z,this.paramRisqueAll=[],this.infoSinistre=[],this.idProduit=0,this.consultTierShow=!1,this.editTierSuccess=!1,this.editTierVar=!1,this.idSinistre=0,this.selectedValue=!0,this.errorHandler={error:!1,msg:""},this.tempArray=[{id:1,description:"exemple 1"},{id:2,description:"exemple 2"},{id:3,description:"exemple 3"}],this.disabledAddTier=!1,this.displayedColumns=[],this.roleExist=!1,this.roleUser=JSON.parse(sessionStorage.getItem("roles")||""),this.sinistreRoles={"45A":["GESTIONNAIRE_SINISTRE","RESPONSABLE_SINISTRE","DIRECTEUR","CHEF_PROJET","ADMIN","ROLE_SUPER_ADMIN","ANALYSTE","GESTION_SINISTRE","GESTIONNAIRE_JUNIOR"],"45F":["GESTIONNAIRE_SINISTRE","RESPONSABLE_SINISTRE","DIRECTEUR","CHEF_PROJET","ADMIN","ROLE_SUPER_ADMIN","ANALYSTE","GESTION_SINISTRE","GESTIONNAIRE_JUNIOR"],"45L":["GESTIONNAIRE_SINISTRE","RESPONSABLE_SINISTRE","DIRECTEUR","CHEF_PROJET","ADMIN","ROLE_SUPER_ADMIN","ANALYSTE","GESTION_SINISTRE","GESTIONNAIRE_JUNIOR"],95:["GESTION_SINISTRE_MRH_MRP","RESPONSABLE_SINISTRE_MRH_MRP","ADMIN","ROLE_SUPER_ADMIN","ANALYSTE"],96:["GESTION_SINISTRE_MRH_MRP","RESPONSABLE_SINISTRE_MRH_MRP","ADMIN","ROLE_SUPER_ADMIN","ANALYSTE"]}}ngOnInit(){this.codeSinistre=this.route.snapshot.paramMap.get("codeSinistre"),this.codeProduit=this.route.snapshot.paramMap.get("codeProduit"),this.displayedColumns="45A"==this.codeProduit||"45F"==this.codeProduit||"45L"==this.codeProduit?["typeAdversaire","nom","prenom","action"]:["nom","prenom","action"],this.getDictionnaireList(),this.getIdPays("DZA"),this.getSinistreInfo(),this.getProductId(),this.getAllParamRisque(),this.initAddTier(),this.getMarque(),this.roleUser.find(m=>{this.sinistreRoles[this.codeProduit+""].includes(m)&&(this.roleExist=!0)}),this.roleExist||this.router.navigate(["/dashboard"])}getSinistreInfo(){this.sinistresService.getSinistreByCode(this.codeSinistre).subscribe({next:m=>{this.infoSinistre=m,this.idSinistre=m.idSinistre,this.dataSourceTier.data=m.sinistrePersonnes.filter(I=>"C46"==I.categoriePersonne.code),this.dataSourceTier.paginator=this.paginator,this.statutSinistre=this.infoSinistre.statut.code,"CP355"==this.statutSinistre||"CP415"==this.statutSinistre||"CP524"==this.statutSinistre||"CP525"==this.statutSinistre||"CP526"==this.statutSinistre?this.formAddTier.disable():this.formAddTier.enable()},error:m=>{console.log(m)}})}getDictionnaireList(){this.genericService.getParam(JSON.parse(sessionStorage.getItem("dictionnaire")||"{}").find(m=>"C46"==m.code).idCategorie).subscribe(m=>{this.typeAdversaireArray=m}),this.genericService.getParam(JSON.parse(sessionStorage.getItem("dictionnaire")||"{}").find(m=>"C51"==m.code).idCategorie).subscribe(m=>{this.companiesAdverse=m})}getProductId(){this.idProduit=JSON.parse(sessionStorage.getItem("products")||"{}").find(m=>"45A"==m.codeProduit).idProduit}tiersAssure(m){m?(this.formAddTier.get("companyAdverse").setValidators([Q.kI.required]),this.formAddTier.get("companyAdverse").updateValueAndValidity([Q.kI.required]),this.formAddTier.get("agenceAdverse").setValidators([Q.kI.required]),this.formAddTier.get("agenceAdverse").updateValueAndValidity([Q.kI.required]),this.formAddTier.get("numPolice").setValidators([Q.kI.required]),this.formAddTier.get("numPolice").updateValueAndValidity([Q.kI.required])):(this.formAddTier.get("companyAdverse").setValidators([]),this.formAddTier.get("companyAdverse").updateValueAndValidity([]),this.formAddTier.get("agenceAdverse").setValidators([]),this.formAddTier.get("agenceAdverse").updateValueAndValidity([]),this.formAddTier.get("numPolice").setValidators([]),this.formAddTier.get("numPolice").updateValueAndValidity([]))}initAddTier(){this.formAddTier=this.formBuilder.group({typeAdversaire:["","45A"==this.codeProduit||"45F"==this.codeProduit||"45L"==this.codeProduit?[Q.kI.required]:[]],isFamily:["","45A"==this.codeProduit||"45F"==this.codeProduit||"45L"==this.codeProduit?[Q.kI.required]:[]],nomAdversaire:["",[Q.kI.required]],prenomAdversaire:["",[Q.kI.required]],companyAdverse:["",[Q.kI.required]],agenceAdverse:["",[Q.kI.required]],numPolice:["",[Q.kI.required]],contact:["",[]],tauxResponsabilite:["",[Q.kI.required]],nomConducteurAdverse:["",[]],prenomConducteurAdverse:["",[]],numPermisConducteurAdverse:["",[]],dateDelivranceAdverse:["",[]],lieuDelivranceAdverse:["",[]],marqueVehiculeAdverse:["",[]],modeleVehiculeAdverse:["",[]],immatriculationVehiculeAdverse:["",[]],assure:[{value:!0,disabled:"45A"==this.codeProduit||"45F"==this.codeProduit||"45L"==this.codeProduit}]})}changeTypeAdversaire(m){this.typeTierSelected=m.idParam,this.typeTierSelectedCode=m.code,"CP309"==this.typeTierSelectedCode?(this.formAddTier.get("nomConducteurAdverse").setValidators([Q.kI.required]),this.formAddTier.get("nomConducteurAdverse").updateValueAndValidity([Q.kI.required]),this.formAddTier.get("prenomConducteurAdverse").setValidators([Q.kI.required]),this.formAddTier.get("prenomConducteurAdverse").updateValueAndValidity([Q.kI.required]),this.formAddTier.get("numPermisConducteurAdverse").setValidators([Q.kI.required]),this.formAddTier.get("numPermisConducteurAdverse").updateValueAndValidity([Q.kI.required]),this.formAddTier.get("dateDelivranceAdverse").setValidators([Q.kI.required]),this.formAddTier.get("dateDelivranceAdverse").updateValueAndValidity([Q.kI.required]),this.formAddTier.get("lieuDelivranceAdverse").setValidators([Q.kI.required]),this.formAddTier.get("lieuDelivranceAdverse").updateValueAndValidity([Q.kI.required]),this.formAddTier.get("marqueVehiculeAdverse").setValidators([Q.kI.required]),this.formAddTier.get("marqueVehiculeAdverse").updateValueAndValidity([Q.kI.required]),this.formAddTier.get("modeleVehiculeAdverse").setValidators([Q.kI.required]),this.formAddTier.get("modeleVehiculeAdverse").updateValueAndValidity([Q.kI.required]),this.formAddTier.get("immatriculationVehiculeAdverse").setValidators([Q.kI.required]),this.formAddTier.get("immatriculationVehiculeAdverse").updateValueAndValidity([Q.kI.required]),this.formAddTier.get("isFamily").setValidators([Q.kI.required]),this.formAddTier.get("isFamily").updateValueAndValidity([Q.kI.required])):(this.formAddTier.get("isFamily").setValidators([]),this.formAddTier.get("isFamily").updateValueAndValidity([]),this.formAddTier.get("nomConducteurAdverse").setValidators([]),this.formAddTier.get("nomConducteurAdverse").updateValueAndValidity([]),this.formAddTier.get("prenomConducteurAdverse").setValidators([]),this.formAddTier.get("prenomConducteurAdverse").updateValueAndValidity([]),this.formAddTier.get("numPermisConducteurAdverse").setValidators([]),this.formAddTier.get("numPermisConducteurAdverse").updateValueAndValidity([]),this.formAddTier.get("dateDelivranceAdverse").setValidators([]),this.formAddTier.get("dateDelivranceAdverse").updateValueAndValidity([]),this.formAddTier.get("lieuDelivranceAdverse").setValidators([]),this.formAddTier.get("lieuDelivranceAdverse").updateValueAndValidity([]),this.formAddTier.get("marqueVehiculeAdverse").setValidators([]),this.formAddTier.get("marqueVehiculeAdverse").updateValueAndValidity([]),this.formAddTier.get("modeleVehiculeAdverse").setValidators([]),this.formAddTier.get("modeleVehiculeAdverse").updateValueAndValidity([]),this.formAddTier.get("immatriculationVehiculeAdverse").setValidators([]),this.formAddTier.get("immatriculationVehiculeAdverse").updateValueAndValidity([]))}submitTier(m){if(this.formAddTier.valid){if(this.adversairePersonne.typePersonne="95"!=this.codeProduit&&"96"!=this.codeProduit?{idParam:this.typeTierSelected}:{idParam:this.typeAdversaireArray.find(I=>"CP309"==I.code)?.idParam,code:"CP309"},this.adversairePersonne.nom=this.formAddTier.get("nomAdversaire").value,this.adversairePersonne.prenom=this.formAddTier.get("prenomAdversaire").value,this.adversairePersonne.companyAdverse={idParam:this.formAddTier.get("companyAdverse").value.idParam},this.adversairePersonne.agenceAdverse=""==this.formAddTier.get("agenceAdverse").value?null:{idParam:this.formAddTier.get("agenceAdverse").value},this.adversairePersonne.isFamilly=this.formAddTier.get("isFamily").value,this.adversairePersonne.nomConducteur=this.formAddTier.get("nomConducteurAdverse").value,this.adversairePersonne.prenomConducteur=this.formAddTier.get("prenomConducteurAdverse").value,this.adversairePersonne.numPoliceAdverse=this.formAddTier.get("numPolice").value,this.adversairePersonne.contact=this.formAddTier.get("contact").value,this.adversairePersonne.dateDelivrance=this.formAddTier.get("dateDelivranceAdverse").value,this.adversairePersonne.tauxResponsabilite=this.formAddTier.get("tauxResponsabilite").value,this.adversairePersonne.numeroPermis=this.formAddTier.get("numPermisConducteurAdverse").value,"CP309"==this.typeTierSelectedCode){let I=[{value:this.formAddTier.get("lieuDelivranceAdverse").value,code:"P56"},{value:this.formAddTier.get("marqueVehiculeAdverse").value,code:"P25"},{value:this.formAddTier.get("modeleVehiculeAdverse").value,code:"P26"},{value:this.formAddTier.get("immatriculationVehiculeAdverse").value,code:"P38"}];this.adversairePersonne.paramRisque=[],I.forEach(j=>this.setParam(j))}this.adversairePersonne.auditUser=sessionStorage.getItem("userId"),this.sinistresService.addPersonne(this.adversairePersonne,this.idSinistre).subscribe({next:I=>{this.getSinistreInfo(),m.resetForm(),this.formAddTier.reset(),Object.keys(this.formAddTier.controls).forEach(j=>{this.formAddTier.controls[j].setErrors(null)})},error:I=>{this.handleError=I,console.log(I)}})}}setParam(m){this.adversairePersonne.paramRisque.push({idParam:this.paramRisqueAll.filter(I=>I.paramRisque.codeParam==m.code)[0].paramRisque.idParamRisque,valeur:m.value})}getAllParamRisque(){this.paramRisqueService.getParamByProduit(this.idProduit).subscribe({next:m=>{this.paramRisqueAll=m},error:m=>{console.log(m)}})}getMarque(){this.vehiculeService.getAllMarque().subscribe({next:m=>{this.marques=m},error:m=>{console.log(m)}})}getModel(m){this.vehiculeService.getModelByMarque(m).subscribe({next:I=>{this.models=I},error:I=>{console.log(I)}})}getIdPays(m){this.genericService.getPays().subscribe({next:I=>{this.getWilayas(I.find(j=>j.codePays==m).idPays)},error:I=>{console.log(I)}})}getWilayas(m){this.genericService.getAllWilayas(m).subscribe({next:I=>{this.wilayas=I},error:I=>{console.log(I)}})}getAgenceAdverse(m){this.formAddTier.get("agenceAdverse").setValue(""),this.sinistresService.getByLien(m.idParam).subscribe({next:I=>{this.agenceAdversesArray=I,this.filteredAgenceAdversesArray=this.agenceAdversesArray.slice()},error:I=>{console.log(I)}})}getAgenceAdverseEdit(m){0==m&&(this.formAddTier.get("agenceAdverse").disable(),this.formAddTier.get("numPolice").disable()),this.formAddTier.get("agenceAdverse").setValue(""),this.sinistresService.getByLien(m).subscribe({next:I=>{this.agenceAdversesArray=I,this.filteredAgenceAdversesArray=this.agenceAdversesArray.slice()},error:I=>{console.log(I)}})}consultTier(m,I){if(this.typeTierConsult=m.code,this.consultTierShow=!0,this.changeTypeAdversaire(m.code),this.formAddTier.disable(),this.informationsTier=I,console.log(I),this.getAgenceAdverseEdit(I.compagnyAdverse?.idParam),this.formAddTier.get("typeAdversaire").setValue(I.typePersonne?.idParam),this.formAddTier.get("nomAdversaire").setValue(I.nom),this.formAddTier.get("prenomAdversaire").setValue(I.prenom),this.formAddTier.get("companyAdverse").setValue(I.compagnyAdverse?.idParam),this.formAddTier.get("agenceAdverse").setValue(I.agenceAdvese?.idParam),this.formAddTier.get("numPolice").setValue(I.policeAdversaire),this.formAddTier.get("contact").setValue(I.contact),this.formAddTier.get("tauxResponsabilite").setValue(I.tauxResponsabilite),"CP309"==this.typeTierConsult){this.formAddTier.get("isFamily").setValue(I.isFamilly),this.formAddTier.get("nomConducteurAdverse").setValue(I.nomConducteur),this.formAddTier.get("prenomConducteurAdverse").setValue(I.prenomConducteur),this.formAddTier.get("numPermisConducteurAdverse").setValue(I.numeroPermis),this.formAddTier.get("dateDelivranceAdverse").setValue(new Date(I.dateDelivrance)),this.formAddTier.get("lieuDelivranceAdverse").setValue(Number(I.sinsitreparams.filter(Mi=>"P56"==Mi.paramrisque?.codeParam)[0]?.idValeur));const j=I.sinsitreparams.filter(Mi=>"P25"==Mi.paramrisque?.codeParam)[0]?.idValeur,be=I.sinsitreparams.filter(Mi=>"P25"==Mi.paramrisque?.codeParam)[0]?.valeur;null!=j?(this.formAddTier.get("marqueVehiculeAdverse").setValue(j),this.getModel(I.sinsitreparams.filter(Mi=>"P25"==Mi.paramrisque.codeParam)[0]?.idValeur)):this.formAddTier.get("marqueVehiculeAdverse").setValue(be),I.sinsitreparams.filter(Mi=>"P26"==Mi.paramrisque?.codeParam);const ri=I.sinsitreparams.filter(Mi=>"P26"==Mi.paramrisque?.codeParam)[0]?.idValeur;null!=ri?this.formAddTier.get("modeleVehiculeAdverse").setValue(ri):this.formAddTier.get("modeleVehiculeAdverse").setValue(I.sinsitreparams.filter(Mi=>"P26"==Mi.paramrisque?.codeParam)[0]?.valeur),this.formAddTier.get("immatriculationVehiculeAdverse").setValue(I.sinsitreparams.filter(Mi=>"P38"==Mi.paramrisque?.codeParam)[0]?.valeur)}}editTier(){this.editTierVar=!0,this.formAddTier.enable()}submitEditTier(m){this.formAddTier.valid&&(this.informationsTier.nom=this.formAddTier.get("nomAdversaire").value,this.informationsTier.prenom=this.formAddTier.get("prenomAdversaire").value,0!=this.formAddTier.get("companyAdverse").value?null!=this.formAddTier.get("companyAdverse").value&&(this.informationsTier.compagnyAdverse={idParam:this.formAddTier.get("companyAdverse").value}):this.informationsTier.compagnyAdverse=null,0!=this.formAddTier.get("agenceAdverse").value?null!=this.formAddTier.get("agenceAdverse").value&&(this.informationsTier.agenceAdvese={idParam:this.formAddTier.get("agenceAdverse").value}):this.informationsTier.agenceAdvese=null,this.informationsTier.policeAdversaire=this.formAddTier.get("numPolice").value,this.informationsTier.contact=this.formAddTier.get("contact").value,this.informationsTier.tauxResponsabilite=this.formAddTier.get("tauxResponsabilite").value,"CP309"==this.typeTierConsult&&(this.informationsTier.nomConducteur=this.formAddTier.get("nomConducteurAdverse").value,this.informationsTier.prenomConducteur=this.formAddTier.get("prenomConducteurAdverse").value,this.informationsTier.numeroPermis=this.formAddTier.get("numPermisConducteurAdverse").value,this.informationsTier.sinsitreparams.map(I=>{switch(I.paramrisque.codeParam){case"P54":I.valeur=this.formAddTier.get("dateDelivranceAdverse").value;break;case"P56":I.idValeur=this.formAddTier.get("lieuDelivranceAdverse").value,I.valeur=this.formAddTier.get("lieuDelivranceAdverse").value;break;case"P25":I.idValeur=this.formAddTier.get("marqueVehiculeAdverse").value,I.valeur=this.formAddTier.get("marqueVehiculeAdverse").value;break;case"P26":I.idValeur=this.formAddTier.get("modeleVehiculeAdverse").value,I.valeur=this.formAddTier.get("modeleVehiculeAdverse").value;break;case"P38":I.valeur=this.formAddTier.get("immatriculationVehiculeAdverse").value}})),this.updatePersonne(m,"edit"))}updatePersonne(m,I){this.informationsTier.auditUser=sessionStorage.getItem("userId"),this.sinistresService.updateInfosPersonne(this.informationsTier,this.informationsTier.idSinistrePersonne).subscribe({next:j=>{"edit"==I?(this.getSinistreInfo(),m.resetForm(),this.formAddTier.reset(),this.consultTierShow=!1,this.editTierVar=!1,this.editTierSuccess=!0,setTimeout(()=>{this.editTierSuccess=!1},2e4)):this.getSinistreInfo()},error:j=>{this.handleError=j,console.log(j)}})}handleError(m){switch(m.status){case 500:this.errorHandler.error=!0,this.errorHandler.msg="Erreur syst\xe8me, veuillez contacter l'administrateur.";break;case 402:this.errorHandler.error=!0,this.errorHandler.msg="Erreur lors de la validation du devis, veuillez contacter l'administrateur.";break;case 404:this.errorHandler.error=!0,this.errorHandler.msg=m.message}setTimeout(()=>{this.errorHandler.error=!1,this.errorHandler.msg=""},2e4)}goBack(){this.consultTierShow?(this.consultTierShow=!1,this.editTierVar=!1,this.formAddTier.reset(),this.formAddTier.enable()):this.router.navigate(["../"],{relativeTo:this.route})}deleteTier(m){1!=this.dataSourceTier.data.length&&"AUT005"==this.infoSinistre.causeSinistre?.code||"AUT005"!=this.infoSinistre.causeSinistre?.code?this.dialog.open(ju,{width:"40%",data:{typeContent:"personne"}}).afterClosed().subscribe(j=>{j.data.data&&(this.informationsTier=m,this.informationsTier.dateFin=j.data.dateFin,this.updatePersonne(void 0,"delete"))}):xe().fire("Il est interdit de supprimer tous les tiers tant que la cause est une 'Collision\n          ","","error")}}return f.\u0275fac=function(m){return new(m||f)(t.Y36(Ke.uw),t.Y36(ee.F0),t.Y36(Zt.m),t.Y36(ee.gz),t.Y36(ut.D),t.Y36(Ft.t),t.Y36(tt.M),t.Y36(Q.qu))},f.\u0275cmp=t.Xpm({type:f,selectors:[["app-tiers"]],viewQuery:function(m,I){if(1&m&&t.Gf(Mt.NW,5),2&m){let j;t.iGM(j=t.CRH())&&(I.paginator=j.first)}},decls:13,vars:7,consts:[[1,"container"],[1,"header-container"],[1,"header-title"],["aria-label","directions_car",1,"mat-icon","material-symbols-outlined",3,"click"],["class","toEdit",4,"ngIf"],[4,"ngIf"],["class","alert alert-success",4,"ngIf"],["class","example-headers-align","multi","",4,"ngIf"],["mat-table","","class","gestion-table",3,"dataSource",4,"ngIf"],["aria-label","Select\n            page of users",3,"pageSize","pageSizeOptions",4,"ngIf"],[1,"toEdit"],["class","mat-icon material-symbols-outlined","matTooltip","Modifier tier","matTooltipPosition","left",3,"click",4,"ngIf"],["matTooltip","Modifier tier","matTooltipPosition","left",1,"mat-icon","material-symbols-outlined",3,"click"],[1,"alert","alert-success"],["multi","",1,"example-headers-align"],[3,"expanded"],[1,"formTier",3,"formGroup","ngSubmit"],["formDirective","ngForm"],["class","row",4,"ngIf"],[1,"row"],["appearance","outline",1,"col-md-5"],["type","text","matInput","","placeholder","","formControlName","nomAdversaire"],["class","invalid-feedback",4,"ngIf"],["type","text","matInput","","placeholder","","formControlName","prenomAdversaire"],["class","col-md-12","formControlName","assure",3,"ngModel","ngModelChange","change",4,"ngIf"],["type","text","matInput","","placeholder","","formControlName","tauxResponsabilite"],["class","vehiculeAdverse",4,"ngIf"],["class","button-row",4,"ngIf"],["formControlName","typeAdversaire",3,"selectionChange"],[4,"ngFor","ngForOf"],["class","col-md-12","formControlName","isFamily",4,"ngIf"],[3,"value"],[1,"invalid-feedback"],["formControlName","isFamily",1,"col-md-12"],["value","true"],["value","false"],["class","invalid-feedback","style","margin-left: 1rem;",4,"ngIf"],[1,"invalid-feedback",2,"margin-left","1rem"],["formControlName","assure",1,"col-md-12",3,"ngModel","ngModelChange","change"],[3,"value","ngClass"],[1,"disabled-radio-button",3,"value"],["formControlName","companyAdverse",3,"selectionChange"],["formControlName","agenceAdverse"],[3,"displayMember","array","filteredReturn"],[3,"value",4,"ngFor","ngForOf"],["type","text","matInput","","placeholder","","formControlName","numPolice"],["type","text","matInput","","placeholder","","formControlName","contact"],[1,"vehiculeAdverse"],[1,"display-h3"],["formControlName","marqueVehiculeAdverse",3,"selectionChange"],["formControlName","modeleVehiculeAdverse"],["type","text","matInput","","placeholder","","formControlName","immatriculationVehiculeAdverse"],["type","text","matInput","","placeholder","","formControlName","nomConducteurAdverse"],["type","text","matInput","","placeholder","","formControlName","prenomConducteurAdverse"],["type","text","matInput","","placeholder","","formControlName","numPermisConducteurAdverse"],["matInput","","formControlName","dateDelivranceAdverse",3,"matDatepicker"],["matSuffix","",3,"for"],["pickerdateDelivranceAdvere",""],["formControlName","lieuDelivranceAdverse"],[1,"button-row"],["mat-button","","type","submit",1,"btn","btn-action"],["mat-table","",1,"gestion-table",3,"dataSource"],["matColumnDef","typeAdversaire",4,"ngIf"],["matColumnDef","nom"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","prenom"],["matColumnDef","action"],["mat-header-row","","class","example-second-header-row",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["matColumnDef","typeAdversaire"],["mat-header-cell",""],["mat-cell",""],["mat-icon-button","","type","button","aria-label","menu risque list",3,"matMenuTriggerFor"],["xPosition","after"],["menu","matMenu"],["mat-menu-item","","type","button",3,"disabled","click"],["mat-header-row","",1,"example-second-header-row"],["mat-row",""],["aria-label","Select\n            page of users",3,"pageSize","pageSizeOptions"],["class","alert alert-danger",4,"ngIf"],["mat-button","","class","btn\n                        btn-action ","type","submit",4,"ngIf"],[1,"alert","alert-danger"]],template:function(m,I){1&m&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h2",2)(3,"mat-icon",3),t.NdJ("click",function(){return I.goBack()}),t._uU(4,"arrow_circle_left"),t.qZA(),t.YNc(5,Yi,3,1,"div",4),t.YNc(6,Tm,2,0,"span",5),t.qZA()(),t._UZ(7,"app-entete-gestion"),t.YNc(8,cd,2,0,"div",6),t.YNc(9,Y_,30,11,"mat-accordion",7),t.YNc(10,K_,13,4,"table",8),t.YNc(11,X_,1,3,"mat-paginator",9),t.YNc(12,qm,48,14,"div",5),t.qZA()),2&m&&(t.xp6(5),t.Q6J("ngIf",!I.editTierVar),t.xp6(1),t.Q6J("ngIf",I.editTierVar),t.xp6(2),t.Q6J("ngIf",I.editTierSuccess&&!I.consultTierShow),t.xp6(1),t.Q6J("ngIf",!I.consultTierShow),t.xp6(1),t.Q6J("ngIf",!I.consultTierShow),t.xp6(1),t.Q6J("ngIf",!I.consultTierShow),t.xp6(1),t.Q6J("ngIf",I.consultTierShow))},dependencies:[Se.mk,Se.sg,Se.O5,_n.Hw,Ni.pp,Ni.ib,Ni.yz,Ni.yK,xn.VK,xn.OP,xn.p6,Q._Y,Q.Fj,Q.JJ,Q.JL,Q.sg,Q.u,mn.TO,mn.KE,mn.hX,mn.R9,Xn.Nt,n.BZ,n.fO,n.as,n.w1,n.Dz,n.nj,n.ge,n.ev,n.XQ,n.Gk,Bi.gM,Mt.NW,Lt.Mq,Lt.hl,Lt.nW,xt.gD,ht.ey,Yn.VQ,Yn.U0,Jn.lW,xi.Fq,rs],styles:['@charset "UTF-8";.container[_ngcontent-%COMP%]{background-color:#fff;padding:40px 0;height:100%;overflow-y:auto;overflow-x:hidden}.gestion-table[_ngcontent-%COMP%]{width:100%}.gestion-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .gestion-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:16px}.gestion-table[_ngcontent-%COMP%]   .mat-header-cell[_ngcontent-%COMP%]{color:#00008f;font-weight:600}.gestion-table[_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]:nth-child(even), .gestion-table[_ngcontent-%COMP%]   .mat-header-row[_ngcontent-%COMP%]{background-color:#f7f7f9}.gestion-table[_ngcontent-%COMP%]   .mat-paginator[_ngcontent-%COMP%]{background-color:transparent;margin:20px auto auto;width:80%}.gestion-table[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{height:100%;font-size:26px;color:#00008f;width:-moz-fit-content;width:fit-content}.mat-menu-item[_ngcontent-%COMP%]{font-size:15px}.mat-menu-item[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:18px;height:-moz-fit-content;height:fit-content}.mat-menu-item[_ngcontent-%COMP%]:hover:not([disabled]), .mat-menu-item[_ngcontent-%COMP%]:hover:not([disabled])   .mat-icon[_ngcontent-%COMP%]{color:#00008f}.header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:0px 2rem}.header[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{height:-moz-fit-content;height:fit-content;font-size:29px;margin-right:1rem;width:-moz-fit-content;width:fit-content}.title-table[_ngcontent-%COMP%]{margin-bottom:0rem;font-weight:800!important;font-size:23px!important;color:#00008f!important}.container[_ngcontent-%COMP%]{background-color:#fff;padding:40px 0;height:100%;overflow-x:hidden;box-shadow:0 .5rem 1rem #00000026}.mat-radio-group[_ngcontent-%COMP%]   .mat-radio-button[_ngcontent-%COMP%]{margin-left:4rem}.mat-radio-group[_ngcontent-%COMP%]{margin-bottom:2rem;display:flex;align-items:center}.mat-expansion-panel[_ngcontent-%COMP%]{margin-bottom:1rem}.mat-expansion-panel-header[_ngcontent-%COMP%]{background:rgba(199,199,199,.2)!important;font-weight:600;font-size:16px}.mat-expansion-panel-header.mat-expanded[_ngcontent-%COMP%]{height:48px}.mat-expansion-panel-header-title[_ngcontent-%COMP%], .display-h3[_ngcontent-%COMP%]{color:#00008f}.mat-expansion-panel[_ngcontent-%COMP%]:not([class*=mat-elevation-z]){box-shadow:none}h2.header-title[_ngcontent-%COMP%]{padding:0 24px;font-size:21px!important;color:#00008f;font-weight:600!important;letter-spacing:1px;display:flex;justify-content:space-between}.header-title[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{cursor:pointer}.formTier[_ngcontent-%COMP%]{padding:2rem}.button-row[_ngcontent-%COMP%]   .btn-action[_ngcontent-%COMP%]{float:right}.toEdit[_ngcontent-%COMP%]{display:flex;align-items:center}.toEdit[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{margin-right:2rem;cursor:pointer;font-size:28px}.disabled-radio-button[_ngcontent-%COMP%]{color:#9e9e9e;pointer-events:none;opacity:.5}']}),f})();function Vm(f,D){if(1&f){const m=t.EpF();t.TgZ(0,"mat-icon",11),t.NdJ("click",function(){t.CHM(m);const j=t.oxw(2);return t.KtG(j.editBlesse())}),t._uU(1,"edit"),t.qZA()}}function ym(f,D){if(1&f&&(t.TgZ(0,"div",9),t.YNc(1,Vm,2,0,"mat-icon",10),t._uU(2," Consulter Bl\xe9ss\xe9"),t.qZA()),2&f){const m=t.oxw();t.xp6(1),t.Q6J("ngIf",m.consultBlesseShow)}}function Ku(f,D){1&f&&(t.TgZ(0,"span"),t._uU(1,"Modifier Bl\xe9ss\xe9"),t.qZA())}function bu(f,D){1&f&&(t.TgZ(0,"div",12),t._uU(1,"Bl\xe9ss\xe9 modifi\xe9 avec succ\xe9s"),t.qZA())}function xp(f,D){if(1&f&&(t.ynx(0),t.TgZ(1,"mat-option",31),t._uU(2),t.qZA(),t.BQk()),2&f){const m=D.$implicit;t.xp6(1),t.Q6J("value",m.idParam),t.xp6(1),t.Oqu(m.description)}}function a_(f,D){1&f&&(t.TgZ(0,"div"),t._uU(1," ce champs est obligatoire"),t.qZA())}function Nm(f,D){if(1&f&&(t.TgZ(0,"mat-error",32),t.YNc(1,a_,2,0,"div",5),t.qZA()),2&f){const m=t.oxw(3);t.xp6(1),t.Q6J("ngIf",m.formInfoBlesses.controls.typeBlesses.errors.required)}}function Wu(f,D){if(1&f&&(t.TgZ(0,"div",18)(1,"mat-form-field",19)(2,"mat-label"),t._uU(3,"Type bless\xe9/D\xe9c\xe8s "),t.qZA(),t.TgZ(4,"mat-select",30),t.YNc(5,xp,3,2,"ng-container",27),t.qZA(),t.YNc(6,Nm,2,1,"mat-error",21),t.qZA()()),2&f){const m=t.oxw(2);t.xp6(5),t.Q6J("ngForOf",m.typeBlessesArray),t.xp6(1),t.Q6J("ngIf",m.formInfoBlesses.controls.typeBlesses.errors)}}function vp(f,D){1&f&&(t.TgZ(0,"div"),t._uU(1," ce champs est obligatoire"),t.qZA())}function Ap(f,D){if(1&f&&(t.TgZ(0,"mat-error",32),t.YNc(1,vp,2,0,"div",5),t.qZA()),2&f){const m=t.oxw(2);t.xp6(1),t.Q6J("ngIf",m.formInfoBlesses.controls.nomBlesse.errors.required)}}function Tp(f,D){1&f&&(t.TgZ(0,"div"),t._uU(1," ce champs est obligatoire"),t.qZA())}function s_(f,D){if(1&f&&(t.TgZ(0,"mat-error",32),t.YNc(1,Tp,2,0,"div",5),t.qZA()),2&f){const m=t.oxw(2);t.xp6(1),t.Q6J("ngIf",m.formInfoBlesses.controls.prenomBlesse.errors.required)}}function bp(f,D){1&f&&(t.TgZ(0,"div"),t._uU(1," ce champs est obligatoire"),t.qZA())}function jm(f,D){if(1&f&&(t.TgZ(0,"mat-error",32),t.YNc(1,bp,2,0,"div",5),t.qZA()),2&f){const m=t.oxw(2);t.xp6(1),t.Q6J("ngIf",m.formInfoBlesses.controls.dateNaissanceBlesse.errors.required)}}function Hm(f,D){if(1&f&&(t.ynx(0),t.TgZ(1,"mat-option",31),t._uU(2),t.qZA(),t.BQk()),2&f){const m=D.$implicit;t.xp6(1),t.Q6J("value",m.idParam),t.xp6(1),t.Oqu(m.description)}}function $m(f,D){1&f&&(t.TgZ(0,"div"),t._uU(1," ce champs est obligatoire"),t.qZA())}function Pp(f,D){if(1&f&&(t.TgZ(0,"mat-error",32),t.YNc(1,$m,2,0,"div",5),t.qZA()),2&f){const m=t.oxw(2);t.xp6(1),t.Q6J("ngIf",m.formInfoBlesses.controls.etatBlesse.errors.required)}}function Zp(f,D){1&f&&(t.TgZ(0,"div"),t._uU(1," ce champs est obligatoire"),t.qZA())}function qp(f,D){if(1&f&&(t.TgZ(0,"mat-error",32),t.YNc(1,Zp,2,0,"div",5),t.qZA()),2&f){const m=t.oxw(2);t.xp6(1),t.Q6J("ngIf",m.formInfoBlesses.controls.contact.errors.required)}}function l_(f,D){1&f&&(t.TgZ(0,"div",33)(1,"button",34),t._uU(2,"Ajouter"),t.qZA()())}function Sp(f,D){if(1&f){const m=t.EpF();t.TgZ(0,"mat-accordion",13)(1,"mat-expansion-panel",14)(2,"mat-expansion-panel-header")(3,"mat-panel-title"),t._uU(4," Ajouter Bl\xe9ss\xe9/d\xe9c\xe9s "),t.qZA()(),t.TgZ(5,"form",15,16),t.NdJ("ngSubmit",function(){t.CHM(m);const j=t.MAs(6),be=t.oxw();return t.KtG(be.submitBlesse(j))}),t.YNc(7,Wu,7,2,"div",17),t.TgZ(8,"div",18)(9,"mat-form-field",19)(10,"mat-label"),t._uU(11,"Nom "),t.qZA(),t._UZ(12,"input",20),t.YNc(13,Ap,2,1,"mat-error",21),t.qZA(),t.TgZ(14,"mat-form-field",19)(15,"mat-label"),t._uU(16,"Pr\xe9nom "),t.qZA(),t._UZ(17,"input",22),t.YNc(18,s_,2,1,"mat-error",21),t.qZA()(),t.TgZ(19,"div",18)(20,"mat-form-field",19)(21,"mat-label"),t._uU(22,"Date naissance "),t.qZA(),t._UZ(23,"input",23)(24,"mat-datepicker-toggle",24)(25,"mat-datepicker",null,25),t.YNc(27,jm,2,1,"mat-error",21),t.qZA(),t.TgZ(28,"mat-form-field",19)(29,"mat-label"),t._uU(30,"Etat sinistr\xe9 "),t.qZA(),t.TgZ(31,"mat-select",26),t.YNc(32,Hm,3,2,"ng-container",27),t.qZA(),t.YNc(33,Pp,2,1,"mat-error",21),t.qZA()(),t.TgZ(34,"div",18)(35,"mat-form-field",19)(36,"mat-label"),t._uU(37,"Contact "),t.qZA(),t._UZ(38,"input",28),t.YNc(39,qp,2,1,"mat-error",21),t.qZA()(),t.YNc(40,l_,3,0,"div",29),t.qZA()()()}if(2&f){const m=t.MAs(26),I=t.oxw();t.xp6(1),t.Q6J("expanded",!0),t.xp6(4),t.Q6J("formGroup",I.formInfoBlesses),t.xp6(2),t.Q6J("ngIf","45A"==I.codeProduit||"45F"==I.codeProduit||"45L"==I.codeProduit),t.xp6(6),t.Q6J("ngIf",I.formInfoBlesses.controls.nomBlesse.errors),t.xp6(5),t.Q6J("ngIf",I.formInfoBlesses.controls.prenomBlesse.errors),t.xp6(5),t.Q6J("matDatepicker",m)("max",I.today),t.xp6(1),t.Q6J("for",m),t.xp6(3),t.Q6J("ngIf",I.formInfoBlesses.controls.dateNaissanceBlesse.errors),t.xp6(5),t.Q6J("ngForOf",I.typesinistree),t.xp6(1),t.Q6J("ngIf",I.formInfoBlesses.controls.etatBlesse.errors),t.xp6(6),t.Q6J("ngIf",I.formInfoBlesses.controls.contact.errors),t.xp6(1),t.Q6J("ngIf","CP355"!=I.statutSinistre||"CP415"!=I.statutSinistre||"CP524"!=I.statutSinistre||"CP525"!=I.statutSinistre||"CP526"!=I.statutSinistre)}}function yp(f,D){1&f&&(t.TgZ(0,"th",45),t._uU(1," Type bless\xe9 "),t.qZA())}function Np(f,D){if(1&f&&(t.TgZ(0,"td",46),t._uU(1),t.qZA()),2&f){const m=D.$implicit;t.xp6(1),t.hij(" ",m.typePersonne.description," ")}}function Ip(f,D){1&f&&(t.TgZ(0,"th",45),t._uU(1," Nom "),t.qZA())}function Ep(f,D){if(1&f&&(t.TgZ(0,"td",46),t._uU(1),t.qZA()),2&f){const m=D.$implicit;t.xp6(1),t.hij(" ",m.nom," ")}}function Td(f,D){1&f&&(t.TgZ(0,"th",45),t._uU(1," Pr\xe9nom "),t.qZA())}function Rp(f,D){if(1&f&&(t.TgZ(0,"td",46),t._uU(1),t.qZA()),2&f){const m=D.$implicit;t.xp6(1),t.hij(" ",m.prenom,"")}}function c_(f,D){1&f&&(t.TgZ(0,"th",45),t._uU(1," Etat bless\xe9 "),t.qZA())}function Dp(f,D){if(1&f&&(t.TgZ(0,"td",46),t._uU(1),t.qZA()),2&f){const m=D.$implicit;t.xp6(1),t.hij(" ",m.etatSinistre.description,"")}}function u_(f,D){1&f&&(t.TgZ(0,"th",45),t._uU(1," Action "),t.qZA())}function Xu(f,D){if(1&f){const m=t.EpF();t.TgZ(0,"td",46)(1,"button",47)(2,"mat-icon"),t._uU(3,"more_vert"),t.qZA()(),t.TgZ(4,"mat-menu",48,49)(6,"button",50),t.NdJ("click",function(){const be=t.CHM(m).$implicit,It=t.oxw(2);return t.KtG(It.consultBlesse(be.typePersonne,be))}),t.TgZ(7,"mat-icon"),t._uU(8,"zoom_in"),t.qZA(),t.TgZ(9,"span"),t._uU(10,"Consulter Bl\xe9ss\xe9"),t.qZA()(),t.TgZ(11,"button",50),t.NdJ("click",function(){const be=t.CHM(m).$implicit,It=t.oxw(2);return t.KtG(It.deleteTier(be))}),t.TgZ(12,"mat-icon"),t._uU(13,"delete"),t.qZA(),t.TgZ(14,"span"),t._uU(15,"Supprimer Bl\xe9ss\xe9"),t.qZA()()()()}if(2&f){const m=t.MAs(5),I=t.oxw(2);t.xp6(1),t.Q6J("matMenuTriggerFor",m),t.xp6(5),t.Q6J("disabled","CP355"==I.statutSinistre||"CP415"!=I.statutSinistre||"CP524"==I.statutSinistre||"CP525"==I.statutSinistre||"CP526"==I.statutSinistre),t.xp6(5),t.Q6J("disabled","CP355"==I.statutSinistre||"CP415"==I.statutSinistre||"CP524"==I.statutSinistre||"CP525"==I.statutSinistre||"CP526"==I.statutSinistre)}}function m_(f,D){1&f&&t._UZ(0,"tr",51)}function wp(f,D){1&f&&t._UZ(0,"tr",52)}function Op(f,D){if(1&f&&(t.TgZ(0,"table",35),t.ynx(1,36),t.YNc(2,yp,2,0,"th",37),t.YNc(3,Np,2,1,"td",38),t.BQk(),t.ynx(4,39),t.YNc(5,Ip,2,0,"th",37),t.YNc(6,Ep,2,1,"td",38),t.BQk(),t.ynx(7,40),t.YNc(8,Td,2,0,"th",37),t.YNc(9,Rp,2,1,"td",38),t.BQk(),t.ynx(10,41),t.YNc(11,c_,2,0,"th",37),t.YNc(12,Dp,2,1,"td",38),t.BQk(),t.ynx(13,42),t.YNc(14,u_,2,0,"th",37),t.YNc(15,Xu,16,3,"td",38),t.BQk(),t.YNc(16,m_,1,0,"tr",43),t.YNc(17,wp,1,0,"tr",44),t.qZA()),2&f){const m=t.oxw();t.Q6J("dataSource",m.dataSourceBlesse),t.xp6(16),t.Q6J("matHeaderRowDef",m.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",m.displayedColumns)}}function kp(f,D){if(1&f&&(t.TgZ(0,"div",54),t._uU(1),t.qZA()),2&f){const m=t.oxw(2);t.xp6(1),t.Oqu(m.errorHandler.msg)}}function Mp(f,D){if(1&f&&(t.ynx(0),t.TgZ(1,"mat-option",31),t._uU(2),t.qZA(),t.BQk()),2&f){const m=D.$implicit;t.xp6(1),t.Q6J("value",m.idParam),t.xp6(1),t.Oqu(m.description)}}function Km(f,D){1&f&&(t.TgZ(0,"div"),t._uU(1," ce champs est obligatoire"),t.qZA())}function Up(f,D){if(1&f&&(t.TgZ(0,"mat-error",32),t.YNc(1,Km,2,0,"div",5),t.qZA()),2&f){const m=t.oxw(2);t.xp6(1),t.Q6J("ngIf",m.formInfoBlesses.controls.typeBlesses.errors.required)}}function y(f,D){1&f&&(t.TgZ(0,"div"),t._uU(1," ce champs est obligatoire"),t.qZA())}function ne(f,D){if(1&f&&(t.TgZ(0,"mat-error",32),t.YNc(1,y,2,0,"div",5),t.qZA()),2&f){const m=t.oxw(2);t.xp6(1),t.Q6J("ngIf",m.formInfoBlesses.controls.nomBlesse.errors.required)}}function u(f,D){1&f&&(t.TgZ(0,"div"),t._uU(1," ce champs est obligatoire"),t.qZA())}function M(f,D){if(1&f&&(t.TgZ(0,"mat-error",32),t.YNc(1,u,2,0,"div",5),t.qZA()),2&f){const m=t.oxw(2);t.xp6(1),t.Q6J("ngIf",m.formInfoBlesses.controls.prenomBlesse.errors.required)}}function W(f,D){1&f&&(t.TgZ(0,"div"),t._uU(1," ce champs est obligatoire"),t.qZA())}function ie(f,D){if(1&f&&(t.TgZ(0,"mat-error",32),t.YNc(1,W,2,0,"div",5),t.qZA()),2&f){const m=t.oxw(2);t.xp6(1),t.Q6J("ngIf",m.formInfoBlesses.controls.dateNaissanceBlesse.errors.required)}}function ve(f,D){if(1&f&&(t.ynx(0),t.TgZ(1,"mat-option",31),t._uU(2),t.qZA(),t.BQk()),2&f){const m=D.$implicit;t.xp6(1),t.Q6J("value",m.idParam),t.xp6(1),t.Oqu(m.description)}}function Re(f,D){1&f&&(t.TgZ(0,"div"),t._uU(1," ce champs est obligatoire"),t.qZA())}function Oe(f,D){if(1&f&&(t.TgZ(0,"mat-error",32),t.YNc(1,Re,2,0,"div",5),t.qZA()),2&f){const m=t.oxw(2);t.xp6(1),t.Q6J("ngIf",m.formInfoBlesses.controls.etatBlesse.errors.required)}}function ke(f,D){1&f&&(t.TgZ(0,"div"),t._uU(1," ce champs est obligatoire"),t.qZA())}function Qe(f,D){if(1&f&&(t.TgZ(0,"mat-error",32),t.YNc(1,ke,2,0,"div",5),t.qZA()),2&f){const m=t.oxw(2);t.xp6(1),t.Q6J("ngIf",m.formInfoBlesses.controls.contact.errors.required)}}function Bt(f,D){if(1&f){const m=t.EpF();t.TgZ(0,"div"),t.YNc(1,kp,2,1,"div",53),t.TgZ(2,"form",15,16),t.NdJ("ngSubmit",function(){t.CHM(m);const j=t.MAs(3),be=t.oxw();return t.KtG(be.submitEditBlesse(j))}),t.TgZ(4,"div",18)(5,"mat-form-field",19)(6,"mat-label"),t._uU(7,"Type bless\xe9/D\xe9c\xe8s "),t.qZA(),t.TgZ(8,"mat-select",30),t.YNc(9,Mp,3,2,"ng-container",27),t.qZA(),t.YNc(10,Up,2,1,"mat-error",21),t.qZA()(),t.TgZ(11,"div",18)(12,"mat-form-field",19)(13,"mat-label"),t._uU(14,"Nom "),t.qZA(),t._UZ(15,"input",20),t.YNc(16,ne,2,1,"mat-error",21),t.qZA(),t.TgZ(17,"mat-form-field",19)(18,"mat-label"),t._uU(19,"Pr\xe9nom "),t.qZA(),t._UZ(20,"input",22),t.YNc(21,M,2,1,"mat-error",21),t.qZA()(),t.TgZ(22,"div",18)(23,"mat-form-field",19)(24,"mat-label"),t._uU(25,"Date naissance "),t.qZA(),t._UZ(26,"input",23)(27,"mat-datepicker-toggle",24)(28,"mat-datepicker",null,25),t.YNc(30,ie,2,1,"mat-error",21),t.qZA(),t.TgZ(31,"mat-form-field",19)(32,"mat-label"),t._uU(33,"Etat sinistr\xe9 "),t.qZA(),t.TgZ(34,"mat-select",26),t.YNc(35,ve,3,2,"ng-container",27),t.qZA(),t.YNc(36,Oe,2,1,"mat-error",21),t.qZA()(),t.TgZ(37,"div",18)(38,"mat-form-field",19)(39,"mat-label"),t._uU(40,"Contact "),t.qZA(),t._UZ(41,"input",28),t.YNc(42,Qe,2,1,"mat-error",21),t.qZA()(),t.TgZ(43,"div",33)(44,"button",34),t._uU(45,"Ajouter"),t.qZA()()()()}if(2&f){const m=t.MAs(29),I=t.oxw();t.xp6(1),t.Q6J("ngIf",I.errorHandler.error),t.xp6(1),t.Q6J("formGroup",I.formInfoBlesses),t.xp6(7),t.Q6J("ngForOf",I.typeBlessesArray),t.xp6(1),t.Q6J("ngIf",I.formInfoBlesses.controls.typeBlesses.errors),t.xp6(6),t.Q6J("ngIf",I.formInfoBlesses.controls.nomBlesse.errors),t.xp6(5),t.Q6J("ngIf",I.formInfoBlesses.controls.prenomBlesse.errors),t.xp6(5),t.Q6J("matDatepicker",m)("max",I.today),t.xp6(1),t.Q6J("for",m),t.xp6(3),t.Q6J("ngIf",I.formInfoBlesses.controls.dateNaissanceBlesse.errors),t.xp6(5),t.Q6J("ngForOf",I.typesinistree),t.xp6(1),t.Q6J("ngIf",I.formInfoBlesses.controls.etatBlesse.errors),t.xp6(6),t.Q6J("ngIf",I.formInfoBlesses.controls.contact.errors)}}let Yt=(()=>{class f{constructor(m,I,j,be,It,ri,Mi,$s){this.dialog=m,this.router=I,this.sinistresService=j,this.route=be,this.paramRisqueService=It,this.vehiculeService=ri,this.genericService=Mi,this.formBuilder=$s,this.infoSinistre=[],this.idSinistre=0,this.dataSourceBlesse=new n.by,this.blessePersonne=new Z,this.errorHandler={error:!1,msg:""},this.today=new Date,this.consultBlesseShow=!1,this.informationsBlesse=[],this.editBlesseVar=!1,this.editBlesseSuccess=!1,this.typeBlessesArray=[],this.typesinistree=[],this.displayedColumns=["typeBlesses","nomBlesse","prenomBlesse","etatBlesse","action"],this.roleUser=JSON.parse(sessionStorage.getItem("roles")||""),this.sinistreRoles={"45A":["GESTIONNAIRE_SINISTRE","RESPONSABLE_SINISTRE","DIRECTEUR","CHEF_PROJET","ADMIN","ROLE_SUPER_ADMIN","ANALYSTE","GESTION_SINISTRE","GESTIONNAIRE_JUNIOR"],"45F":["GESTIONNAIRE_SINISTRE","RESPONSABLE_SINISTRE","DIRECTEUR","CHEF_PROJET","ADMIN","ROLE_SUPER_ADMIN","ANALYSTE","GESTION_SINISTRE","GESTIONNAIRE_JUNIOR"],"45L":["GESTIONNAIRE_SINISTRE","RESPONSABLE_SINISTRE","DIRECTEUR","CHEF_PROJET","ADMIN","ROLE_SUPER_ADMIN","ANALYSTE","GESTION_SINISTRE","GESTIONNAIRE_JUNIOR"],95:["GESTION_SINISTRE_MRH_MRP","RESPONSABLE_SINISTRE_MRH_MRP","ADMIN","ROLE_SUPER_ADMIN","ANALYSTE"],96:["GESTION_SINISTRE_MRH_MRP","RESPONSABLE_SINISTRE_MRH_MRP","ADMIN","ROLE_SUPER_ADMIN","ANALYSTE"]}}ngOnInit(){this.codeSinistre=this.route.snapshot.paramMap.get("codeSinistre"),this.codeProduit=this.route.snapshot.paramMap.get("codeProduit");let m=!1;this.roleUser.find(I=>{this.sinistreRoles[this.codeProduit+""].includes(I)&&(m=!0)}),m||this.router.navigate(["/dashboard"]),this.getSinistreInfo(),this.initAddBlesse(),this.genericService.getParam(JSON.parse(sessionStorage.getItem("dictionnaire")||"{}").find(I=>"C47"==I.code).idCategorie).subscribe(I=>{this.typeBlessesArray=I}),this.genericService.getParam(JSON.parse(sessionStorage.getItem("dictionnaire")||"{}").find(I=>"C54"==I.code).idCategorie).subscribe(I=>{this.typesinistree=I})}getSinistreInfo(){this.sinistresService.getSinistreByCode(this.codeSinistre).subscribe({next:m=>{this.infoSinistre=m,this.idSinistre=m.idSinistre,this.dataSourceBlesse.data=m.sinistrePersonnes.filter(I=>"C47"==I.categoriePersonne.code),this.dataSourceBlesse.paginator=this.paginator,this.statutSinistre=this.infoSinistre.statut.code,"CP355"==this.statutSinistre||"CP415"==this.statutSinistre||"CP524"==this.statutSinistre||"CP525"==this.statutSinistre||"CP526"==this.statutSinistre?this.formInfoBlesses.disable():this.formInfoBlesses.enable()},error:m=>{console.log(m)}})}editBlesse(){this.editBlesseVar=!0,this.formInfoBlesses.enable()}initAddBlesse(){this.formInfoBlesses=this.formBuilder.group({typeBlesses:["","45A"==this.codeProduit||"45F"==this.codeProduit||"45L"==this.codeProduit?[Q.kI.required]:[]],nomBlesse:[""],prenomBlesse:[""],dateNaissanceBlesse:[""],etatBlesse:["",[Q.kI.required]],contact:[""]})}consultBlesse(m,I){this.typeConsult=m.code,this.consultBlesseShow=!0,this.formInfoBlesses.disable(),this.informationsBlesse=I,this.formInfoBlesses.get("typeBlesses").setValue(I.typePersonne.idParam),this.formInfoBlesses.get("nomBlesse").setValue(I.nom),this.formInfoBlesses.get("prenomBlesse").setValue(I.prenom),this.formInfoBlesses.get("dateNaissanceBlesse").setValue(I.dateNaissance),this.formInfoBlesses.get("etatBlesse").setValue(I.etatSinistre.idParam),this.formInfoBlesses.get("contact").setValue(I.contact)}submitBlesse(m){this.formInfoBlesses.valid&&(this.blessePersonne.typePersonne="95"!=this.codeProduit&&"96"!=this.codeProduit?{idParam:this.formInfoBlesses.get("typeBlesses").value}:{idParam:this.typeBlessesArray.find(I=>"TP98"==I.code)?.idParam},this.blessePersonne.nom=this.formInfoBlesses.get("nomBlesse").value,this.blessePersonne.prenom=this.formInfoBlesses.get("prenomBlesse").value,this.blessePersonne.dateNaissance=this.formInfoBlesses.get("dateNaissanceBlesse").value,this.blessePersonne.etatSinistre={idParam:this.formInfoBlesses.get("etatBlesse").value},this.blessePersonne.contact=this.formInfoBlesses.get("contact").value,this.blessePersonne.auditUser=sessionStorage.getItem("userId"),this.sinistresService.addPersonne(this.blessePersonne,this.idSinistre).subscribe({next:I=>{this.getSinistreInfo(),m.resetForm(),this.formInfoBlesses.reset()},error:I=>{this.handleError=I,console.log(I)}}))}submitEditBlesse(m){this.informationsBlesse.typePersonne={idParam:this.formInfoBlesses.get("typeBlesses").value},this.informationsBlesse.nom=this.formInfoBlesses.get("nomBlesse").value,this.informationsBlesse.prenom=this.formInfoBlesses.get("prenomBlesse").value,this.informationsBlesse.dateNaissance=this.formInfoBlesses.get("dateNaissanceBlesse").value,this.informationsBlesse.etatSinistre={idParam:this.formInfoBlesses.get("etatBlesse").value},this.informationsBlesse.contact=this.formInfoBlesses.get("contact").value,this.updatePersonne(m,"edit")}handleError(m){switch(m.status){case 500:this.errorHandler.error=!0,this.errorHandler.msg="Erreur syst\xe8me, veuillez contacter l'administrateur.";break;case 402:this.errorHandler.error=!0,this.errorHandler.msg="Erreur lors de la validation du devis, veuillez contacter l'administrateur.";break;case 404:this.errorHandler.error=!0,this.errorHandler.msg=m.message}setTimeout(()=>{this.errorHandler.error=!1,this.errorHandler.msg=""},2e4)}updatePersonne(m,I){this.informationsBlesse.auditUser=sessionStorage.getItem("userId"),this.sinistresService.updateInfosPersonne(this.informationsBlesse,this.informationsBlesse.idSinistrePersonne).subscribe({next:j=>{"edit"==I?(this.getSinistreInfo(),m.resetForm(),this.formInfoBlesses.reset(),this.consultBlesseShow=!1,this.editBlesseVar=!1,this.editBlesseSuccess=!0,setTimeout(()=>{this.editBlesseSuccess=!1},2e4)):this.getSinistreInfo()},error:j=>{this.handleError=j,console.log(j)}})}deleteTier(m){this.dialog.open(ju,{width:"40%",data:{typeContent:"personne"}}).afterClosed().subscribe(j=>{j.data.data&&(this.informationsBlesse=m,this.informationsBlesse.dateFin=j.data.dateFin,this.updatePersonne(void 0,"delete"))})}goBack(){this.consultBlesseShow?(this.consultBlesseShow=!1,this.editBlesseVar=!1,this.formInfoBlesses.reset(),this.formInfoBlesses.enable()):this.router.navigate(["../"],{relativeTo:this.route})}}return f.\u0275fac=function(m){return new(m||f)(t.Y36(Ke.uw),t.Y36(ee.F0),t.Y36(Zt.m),t.Y36(ee.gz),t.Y36(ut.D),t.Y36(Ft.t),t.Y36(tt.M),t.Y36(Q.qu))},f.\u0275cmp=t.Xpm({type:f,selectors:[["app-blesses"]],viewQuery:function(m,I){if(1&m&&t.Gf(Mt.NW,5),2&m){let j;t.iGM(j=t.CRH())&&(I.paginator=j.first)}},decls:12,vars:6,consts:[[1,"container"],[1,"header-container"],[1,"header-title"],["aria-label","directions_car",1,"mat-icon","material-symbols-outlined",3,"click"],["class","toEdit",4,"ngIf"],[4,"ngIf"],["class","alert alert-success",4,"ngIfConsultBlesseShow","ngIf"],["class","example-headers-align","multi","",4,"ngIf"],["mat-table","","class","gestion-table",3,"dataSource",4,"ngIf"],[1,"toEdit"],["class","mat-icon material-symbols-outlined","matTooltip","Modifier Bl\xe9ss\xe9","matTooltipPosition","left",3,"click",4,"ngIf"],["matTooltip","Modifier Bl\xe9ss\xe9","matTooltipPosition","left",1,"mat-icon","material-symbols-outlined",3,"click"],[1,"alert","alert-success"],["multi","",1,"example-headers-align"],[3,"expanded"],[1,"formTier",3,"formGroup","ngSubmit"],["formDirective","ngForm"],["class","row",4,"ngIf"],[1,"row"],["appearance","outline",1,"col-md-5"],["type","text","matInput","","placeholder","","formControlName","nomBlesse"],["class","invalid-feedback",4,"ngIf"],["type","text","matInput","","placeholder","","formControlName","prenomBlesse"],["matInput","","formControlName","dateNaissanceBlesse",3,"matDatepicker","max"],["matSuffix","",3,"for"],["pickerdateNaissanceBlesse",""],["formControlName","etatBlesse"],[4,"ngFor","ngForOf"],["type","text","matInput","","placeholder","","formControlName","contact"],["class","button-row",4,"ngIf"],["formControlName","typeBlesses"],[3,"value"],[1,"invalid-feedback"],[1,"button-row"],["mat-button","","type","submit",1,"btn","btn-action"],["mat-table","",1,"gestion-table",3,"dataSource"],["matColumnDef","typeBlesses"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","nomBlesse"],["matColumnDef","prenomBlesse"],["matColumnDef","etatBlesse"],["matColumnDef","action"],["mat-header-row","","class","example-second-header-row",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],["mat-icon-button","","type","button","aria-label","menu risque list",3,"matMenuTriggerFor"],["xPosition","after"],["menu","matMenu"],["mat-menu-item","","type","button",3,"disabled","click"],["mat-header-row","",1,"example-second-header-row"],["mat-row",""],["class","alert alert-danger",4,"ngIf"],[1,"alert","alert-danger"]],template:function(m,I){1&m&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h2",2)(3,"mat-icon",3),t.NdJ("click",function(){return I.goBack()}),t._uU(4,"arrow_circle_left"),t.qZA(),t.YNc(5,ym,3,1,"div",4),t.YNc(6,Ku,2,0,"span",5),t.qZA()(),t._UZ(7,"app-entete-gestion"),t.YNc(8,bu,2,0,"div",6),t.YNc(9,Sp,41,13,"mat-accordion",7),t.YNc(10,Op,18,3,"table",8),t.YNc(11,Bt,46,13,"div",5),t.qZA()),2&m&&(t.xp6(5),t.Q6J("ngIf",!I.editBlesseVar),t.xp6(1),t.Q6J("ngIf",I.editBlesseVar),t.xp6(2),t.Q6J("ngIf",I.editBlesseSuccess),t.xp6(1),t.Q6J("ngIf",!I.consultBlesseShow),t.xp6(1),t.Q6J("ngIf",!I.consultBlesseShow),t.xp6(1),t.Q6J("ngIf",I.consultBlesseShow))},dependencies:[Se.sg,Se.O5,_n.Hw,Ni.pp,Ni.ib,Ni.yz,Ni.yK,xn.VK,xn.OP,xn.p6,Q._Y,Q.Fj,Q.JJ,Q.JL,Q.sg,Q.u,mn.TO,mn.KE,mn.hX,mn.R9,Xn.Nt,n.BZ,n.fO,n.as,n.w1,n.Dz,n.nj,n.ge,n.ev,n.XQ,n.Gk,Bi.gM,Lt.Mq,Lt.hl,Lt.nW,xt.gD,ht.ey,Jn.lW,rs],styles:[".container[_ngcontent-%COMP%]{background-color:#fff;padding:40px 0;height:100%;overflow-y:auto;overflow-x:hidden}.gestion-table[_ngcontent-%COMP%]{width:100%}.gestion-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .gestion-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:16px}.gestion-table[_ngcontent-%COMP%]   .mat-header-cell[_ngcontent-%COMP%]{color:#00008f;font-weight:600}.gestion-table[_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]:nth-child(even), .gestion-table[_ngcontent-%COMP%]   .mat-header-row[_ngcontent-%COMP%]{background-color:#f7f7f9}.gestion-table[_ngcontent-%COMP%]   .mat-paginator[_ngcontent-%COMP%]{background-color:transparent;margin:20px auto auto;width:80%}.gestion-table[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{height:100%;font-size:26px;color:#00008f;width:-moz-fit-content;width:fit-content}.mat-menu-item[_ngcontent-%COMP%]{font-size:15px}.mat-menu-item[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:18px;height:-moz-fit-content;height:fit-content}.mat-menu-item[_ngcontent-%COMP%]:hover:not([disabled]), .mat-menu-item[_ngcontent-%COMP%]:hover:not([disabled])   .mat-icon[_ngcontent-%COMP%]{color:#00008f}.header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:0px 2rem}.header[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{height:-moz-fit-content;height:fit-content;font-size:29px;margin-right:1rem;width:-moz-fit-content;width:fit-content}.title-table[_ngcontent-%COMP%]{margin-bottom:0rem;font-weight:800!important;font-size:23px!important;color:#00008f!important}.container[_ngcontent-%COMP%]{background-color:#fff;padding:40px 0;height:100%;overflow-x:hidden;box-shadow:0 .5rem 1rem #00000026}.mat-expansion-panel[_ngcontent-%COMP%]{margin-bottom:1rem}.mat-expansion-panel-header[_ngcontent-%COMP%]{background:rgba(199,199,199,.2)!important;font-weight:600;font-size:16px}.mat-expansion-panel-header.mat-expanded[_ngcontent-%COMP%]{height:48px}.mat-expansion-panel-header-title[_ngcontent-%COMP%]{color:#00008f}.mat-expansion-panel[_ngcontent-%COMP%]:not([class*=mat-elevation-z]){box-shadow:none}h2.header-title[_ngcontent-%COMP%]{padding:0 24px;font-size:21px!important;color:#00008f;font-weight:600!important;letter-spacing:1px;display:flex;justify-content:space-between}.header-title[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{cursor:pointer}.formTier[_ngcontent-%COMP%]{padding:2rem}.button-row[_ngcontent-%COMP%]   .btn-action[_ngcontent-%COMP%]{float:right}.toEdit[_ngcontent-%COMP%]{display:flex;align-items:center}.toEdit[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{margin-right:2rem;cursor:pointer;font-size:28px}"]}),f})();class dn{}var Ut=B(529),gn=B(8505),Fn=B(262),Pi=B(2843),ki=B(7550),ta=B(4641);let zl=(()=>{class f{constructor(m){this.http=m}getCapitaleBDG(m){const I={headers:new Ut.WM({"Content-Type":"application/json"})};return this.http.get(`${ki.g.API_ENDPOINT_TEST_CAPITAL_BDG}/${m}`,I).pipe((0,gn.b)(j=>j),(0,Fn.K)(j=>(0,Pi._)(j.error)))}addMissionExpertise(m){const I={headers:new Ut.WM({"Content-Type":"application/json"})};return this.http.post(`${ki.g.API_ENDPOINT_TEST_EXPERTISE}`,m,I).pipe((0,gn.b)(j=>j),(0,Fn.K)(j=>(0,Pi._)(j.error)))}getExpertsAll(){const m={headers:new Ut.WM({"Content-Type":"application/json"})};return this.http.get(`${ki.g.API_ENDPOINT_TEST_EXPERTS_ALL}`,m).pipe((0,gn.b)(I=>I),(0,Fn.K)(I=>(0,Pi._)(I.error)))}getMissionsExpertisesById(m){const I={headers:new Ut.WM({"Content-Type":"application/json"})};return this.http.get(`${ki.g.API_ENDPOINT_TEST_EXPERTISE}/${m}`,I).pipe((0,gn.b)(j=>j),(0,Fn.K)(j=>(0,Pi._)(j.error)))}getAllMissionsExpertisesBySinistre(m){const I={headers:new Ut.WM({"Content-Type":"application/json"})};return this.http.get(`${ki.g.API_ENDPOINT_TEST_MISSIONS_EXPERTISES_ALL}/${m}`,I).pipe((0,gn.b)(j=>j),(0,Fn.K)(j=>(0,Pi._)(j.error)))}getAllMissionsExpertisesByCode(m){const I={headers:new Ut.WM({"Content-Type":"application/json"})};return this.http.get(`${ki.g.API_ENDPOINT_TEST_MISSIONS_EXPERTISES_ALL_BY_CODE}/${m}`,I).pipe((0,gn.b)(j=>j),(0,Fn.K)(j=>(0,Pi._)(j.error)))}missionOpertion(m){const I={headers:new Ut.WM({"Content-Type":"application/json"})};return this.http.post(`${ki.g.API_ENDPOINT_TEST_MISSIONS_EXPERTISES_OPERATION}`,m,I).pipe((0,gn.b)(j=>j),(0,Fn.K)(j=>(0,Pi._)(j.error)))}outputMission(m,I){let j=I?.contratHistorique,be=j?.contratPersonneRoleList?.find(ri=>235==ri.role.idParam||236==ri.role.idParam||238==ri.role.idParam||280==ri.role.idParam)?.personne,It=j?.risqueList;if("96"==j.produit.codeProduit||"95"==j.produit.codeProduit){const ri={watermark:{text:"",color:"blue",opacity:.1},pageMargins:[35,30,35,90],border:[!1,!1,!1,!1],content:[{text:"ODS Expertise\n\n",style:"sectionHeader",color:"black"},{style:"table",table:{widths:["*"],alignment:"right",body:[[{text:"Objet : Etablissement d'un PV d'expertise",style:"headerTable",bold:!0}]]}},{layout:"noBorders",style:"table",table:{widths:["*","*"],alignment:"center",body:[[{text:[{text:"Assur\xe9(e)  : ",bold:!0,fontSize:"10"},{text:null!=be?.raisonSocial?be?.raisonSocial:be?.nom+" "+be?.prenom1,fontSize:"10"}],alignment:"left"},{text:[{text:"Expert : ",bold:!0,fontSize:"10"},{text:m?.jsonExpert?.raisonSocial,fontSize:"10"}],alignment:"left"}],[{text:[{text:"Police d'assurance N\xb0 : ",bold:!0,fontSize:"10"},{text:j?.idContrat?.idContrat,fontSize:"10"}],alignment:"left"},{text:[{text:"Adresse : ",bold:!0,fontSize:"10"},{text:m?.jsonExpert?.adresse,fontSize:"10"}],alignment:"left"}],[{text:[{text:"Dossier sinistre N\xb0 : ",bold:!0,fontSize:"10"},{text:I?.codeSinistre,fontSize:"10"}],alignment:"left"},{}],[{text:[{text:"Date de survenance : ",bold:!0,fontSize:"10"},{text:I?.dateSurvenance.split("T")[0],fontSize:"10"}],alignment:"left"},{}],[{text:[{text:"Type d'expertise : ",bold:!0,fontSize:"10"},{text:m?.typeExpertise?.description,fontSize:"10"}],alignment:"left"},{}],[{text:[{text:"T\xe9l\xe9phone N\xb0:",bold:!0,fontSize:"10"},{text:m?.jsonExpert?.tel,fontSize:"10"}],alignment:"left"},{}]]}},{text:"\nMadame, Monsieur,\n            \nEn  vertu  du  pr\xe9sent  ordre  de  service,  nous  vous  prions  de  bien  vouloir  proc\xe9der \xe0 l\u2019expertise des dommages du bien assur\xe9 objet du dossier sinistre susmentionn\xe9 suivant :",fontSize:10,color:"black",margin:[0,20,0,20]},{style:"table",table:{widths:["50%","50%"],alignment:"center",body:[[{text:[{text:"Localis\xe9 \xe0 l'adresse suivante : ",bold:!0,fontSize:"10"}],alignment:"left"},{text:[{text:j.risqueList[0].valeur,fontSize:"10"}],alignment:"left"}],[{text:[{text:"Cause du sinistre: ",bold:!0,fontSize:"10"}],alignment:"left"},{text:[{text:I?.causeSinistre?.description,fontSize:"10"}],alignment:"left"}],[{text:[{text:"Circonstances du sinistre : ",bold:!0,fontSize:"10"}],alignment:"left"},{text:[{text:I?.description,fontSize:"10"}],alignment:"left"}],[{text:[{text:"Commentaire : ",bold:!0,fontSize:"10"}],alignment:"left"},{text:[{text:m?.commentaire,fontSize:"10"}],alignment:"left"}]]}},{text:"\n Veuillez-vous rendre sur les lieux du sinistre afin de :\n\n\u2022\tFaire conna\xeetre les \xe9l\xe9ments permettant de d\xe9terminer les responsabilit\xe9s et le cas \xe9ch\xe9ant, convoquer les responsables et leur \xe9ventuel assureur ;\n\n\u2022\tRendre compte du d\xe9roulement de vos op\xe9rations et des \xe9ventuelles difficult\xe9s rencontr\xe9es au cours de la mission ;\n\n\u2022\tEn cas de besoin, saisir notre compagnie, pour la d\xe9signation d\u2019un sp\xe9cialiste comp\xe9tent dans un domaine particulier ;\n \n\n",fontSize:10,color:"black",margin:[0,20,0,0]},{text:"\n Dans l'attente de recevoir votre proc\xe8s-verbal d'expertise, veuillez agr\xe9er, Madame, Monsieur, nos salutations les meilleures. \n\n",fontSize:10,color:"black",margin:[0,0,0,20]},{layout:"noBorders",table:{widths:["*","*"],alignment:"center",body:[[{text:[{text:"Fait \xe0 : ",bold:!0,fontSize:"10"},{text:"Alger",fontSize:"10"}],alignment:"left"},{text:"Signature :",bold:!0,fontSize:"10",alignment:"center"}],[{text:[{text:"Le : ",bold:!0,fontSize:"10"},{text:I.auditDate.split("T")[0],fontSize:"10"}],alignment:"left"},{text:"",bold:!0,fontSize:"10",alignment:"left"}]]}}],styles:{sectionHeader:{bold:!0,color:"#d14723",fontSize:10,alignment:"right"},BG:{fontSize:8},table:{margin:[0,10,0,0]},headerTable:{alignment:"left",bold:!0,fontSize:10,color:"white",fillColor:"#00008F"}}};ta.createPdf(ri).download("ODS_"+m.numMission)}else if("T04"!=m?.typeExpertise?.code||"96"!=j.produit.codeProduit&&"95"!=j.produit.codeProduit){const ri={watermark:{text:"",color:"blue",opacity:.1},pageMargins:[35,30,35,90],border:[!1,!1,!1,!1],content:[{text:"ODS Expertise\n\n",style:"sectionHeader",color:"black"},{style:"table",table:{widths:["*"],alignment:"right",body:[[{text:"Objet : Etablissement d'un PV d'expertise",style:"headerTable"}]]}},{layout:"noBorders",style:"table",table:{widths:["*","*"],alignment:"center",body:[[{text:[{text:"Assur\xe9(e)  : ",bold:!0,fontSize:"12"},{text:null!=be?.raisonSocial?be?.raisonSocial:be?.nom+" "+be?.prenom1,fontSize:"12"}],alignment:"left"},{text:[{text:"Expert : ",bold:!0,fontSize:"12"},{text:m?.jsonExpert?.raisonSocial,fontSize:"12"}],alignment:"left"}],[{text:[{text:"Police d'assurance N\xb0 : ",bold:!0,fontSize:"12"},{text:j?.idContrat?.idContrat,fontSize:"12"}],alignment:"left"},{text:[{text:"Adresse : ",bold:!0,fontSize:"12"},{text:m?.jsonExpert?.adresse,fontSize:"12"}],alignment:"left"}],[{text:[{text:"Dossier sinistre N\xb0 : ",bold:!0,fontSize:"12"},{text:I?.codeSinistre,fontSize:"12"}],alignment:"left"},{}],[{text:[{text:"Date de survenance : ",bold:!0,fontSize:"12"},{text:I?.dateSurvenance.split("T")[0],fontSize:"12"}],alignment:"left"},{}],[{text:[{text:"Type d'expertise : ",bold:!0,fontSize:"12"},{text:m?.typeExpertise?.description,fontSize:"12"}],alignment:"left"},{}],[{text:[{text:"Mode d'expertise : ",bold:!0,fontSize:"12"},{text:m?.modeExpertise?.description,fontSize:"12"}],alignment:"left"},{}],[{text:[{text:"Contact : ",bold:!0,fontSize:"12"},{text:I?.contactOrigine,fontSize:"12"}],alignment:"left"},{}]]}},{text:"\nMadame, Monsieur,\n            \nEn  vertu  du  pr\xe9sent  ordre  de  service,  nous  vous  prions  de  bien  vouloir  proc\xe9der  \xe0  l'expertise  du v\xe9hicule objet du dossier sinistre susmentionn\xe9 suivant :",fontSize:12,color:"black"},{style:"table",table:{widths:["50%","50%"],alignment:"center",body:[[{text:[{text:"Marque : ",bold:!0,fontSize:"12"},{text:It?.find(Mi=>"P25"==Mi.paramRisque?.codeParam&&I?.codeRisque==Mi.risque)?.idParamReponse?.description,fontSize:"12"}],alignment:"left"},{text:[{text:"Mod\xe8le : ",bold:!0,fontSize:"12"},{text:It?.find(Mi=>"P26"==Mi.paramRisque?.codeParam&&I?.codeRisque==Mi.risque)?.idParamReponse?.description,fontSize:"12"}],alignment:"left"}],[{text:[{text:"Immatriculation : ",bold:!0,fontSize:"12"},{text:It?.find(Mi=>"P38"==Mi.paramRisque?.codeParam&&I?.codeRisque==Mi.risque)?.valeur,fontSize:"12"}],alignment:"left"},{text:[{text:"Num\xe9ro de ch\xe2ssis : ",bold:!0,fontSize:"12"},{text:It?.find(Mi=>"P30"==Mi.paramRisque?.codeParam&&I?.codeRisque==Mi.risque)?.valeur,fontSize:"12"}],alignment:"left"}],[{text:[{text:"Localis\xe9 \xe0 l'adresse suivante : ",bold:!0,fontSize:"12"}],alignment:"left"},{text:[{text:m?.lieuVehicule?.description,fontSize:"12"}],alignment:"left"}],[{text:[{text:"Commentaires : ",bold:!0,fontSize:"12"}],alignment:"left"},{text:[{text:m?.commentaire,fontSize:"12"}],alignment:"left"}],[{text:[{text:"Circonstances du sinistre : ",bold:!0,fontSize:"12"}],alignment:"left"},{text:[{text:I?.description,fontSize:"12"}],alignment:"left"}]]}},{style:"table",table:{widths:["50%","50%"],alignment:"center",body:[[{text:[{text:"Taux Honoraire (Main d'\u0153uvre) : ",bold:!0,fontSize:"12"}],alignment:"left"},{text:[{text:m?.mntMaindOeuvre+" DZD",fontSize:"12"}],alignment:"left"}]]}},{text:"\n Dans l'attente de recevoir votre proc\xe8s-verbal d'expertise, veuillez agr\xe9er, Madame, Monsieur, nos salutations les meilleures. \n\n",fontSize:12,color:"black"},{layout:"noBorders",table:{widths:["*","*"],alignment:"center",body:[[{text:[{text:"Fait \xe0 : ",bold:!0,fontSize:"12"},{text:"Alger",fontSize:"12"}],alignment:"left"},{text:"Signature :",bold:!0,fontSize:"12",alignment:"center"}],[{text:[{text:"Le : ",bold:!0,fontSize:"12"},{text:I.auditDate.split("T")[0],fontSize:"12"}],alignment:"left"},{text:"",bold:!0,fontSize:"12",alignment:"left"}]]}}],styles:{sectionHeader:{bold:!0,color:"#d14723",fontSize:10,alignment:"right"},BG:{fontSize:8},table:{margin:[0,10,0,0]},headerTable:{alignment:"left",bold:!0,fontSize:12,color:"white",fillColor:"#00008F"}}};ta.createPdf(ri).download("ODS_"+m.numMission)}else{const ri={watermark:{text:"",color:"blue",opacity:.1},pageMargins:[45,35,45,90],border:[!1,!1,!1,!1],content:[{layout:"noBorders",style:"table",table:{widths:["*","*"],alignment:"center",body:[[{text:[{text:"ODR / Dossier sinistre N\xb0 : ",bold:!0,fontSize:"12"},{text:I?.codeSinistre,fontSize:"12"}],alignment:"left"},{text:[{text:"Nature des dommages : ",bold:!0,fontSize:"12"},{text:"BDG",fontSize:"12"}],alignment:"left"}],[{text:[{text:"Date sinistre : ",bold:!0,fontSize:"12"},{text:I?.dateSurvenance.split("T")[0],fontSize:"12"}],alignment:"left"},{}],[{text:[{text:"Date de d\xe9claration : ",bold:!0,fontSize:"12"},{text:I?.dateDeclaration.split("T")[0],fontSize:"12"}],alignment:"left"},{}]]}},{layout:"noBorders",style:"table",table:{widths:["*"],alignment:"center",body:[[{text:[{text:"ORDRE DE REPARATION\n",bold:!0,fontSize:"14",color:"blue",decoration:"underline"},{text:"Sinistre automobile\n",bold:!0,fontSize:"14",color:"blue",decoration:"underline"},{text:"Garantie : \xab Bris de Glace \xbb",bold:!0,fontSize:"14",color:"blue",decoration:"underline"}],alignment:"center"}]]}},{text:"Ordre de r\xe9paration est transmis \xe0 Inter Partner Assistance Alg\xe9rie \xab IPA \xbb par le workflow JIRA afin de proc\xe9der aux r\xe9parations des glaces du v\xe9hicule dont les cordonn\xe9es sont indiqu\xe9es ci-dessous :",fontSize:12,color:"black"},{style:"table",table:{widths:["*","*","*"],alignment:"center",body:[[{text:[{text:"Assur\xe9(e)",bold:!0,fontSize:"12"}],style:"headerTable",alignment:"center"},{text:[{text:"V\xe9hicule",bold:!0,fontSize:"12"}],style:"headerTable",alignment:"center"},{text:[{text:"Police",bold:!0,fontSize:"12"}],style:"headerTable",alignment:"center"}],[{text:[{text:"Nom et pr\xe9nom : \n",bold:!0,fontSize:"12"},{text:null!=be?.raisonSocial?be?.raisonSocial:be?.nom+" "+be?.prenom1,fontSize:"12"}],alignment:"left"},{text:[{text:"Marque : \n",bold:!0,fontSize:"12"},{text:It?.find(Mi=>"P25"==Mi.paramRisque?.codeParam&&I?.codeRisque==Mi.risque)?.idParamReponse?.description,fontSize:"12"}],alignment:"left"},{text:[{text:"Police d'assurance N\xb0 : \n",bold:!0,fontSize:"12"},{text:j?.idContrat?.idContrat,fontSize:"12"}],alignment:"left"}],[{text:[{text:"T\xe9l\xe9phone : \n",bold:!0,fontSize:"12"},{text:be?.contactList.find(Mi=>"CNT1"==Mi.typeContact.code)?.description,fontSize:"12"}],alignment:"left"},{text:[{text:"Mod\xe8le : \n",bold:!0,fontSize:"12"},{text:It?.find(Mi=>"P26"==Mi.paramRisque?.codeParam&&I?.codeRisque==Mi.risque)?.idParamReponse?.description,fontSize:"12"}],alignment:"left"},{text:[{text:"Date d'effet : \n",bold:!0,fontSize:"12"},{text:j?.idContrat?.dateEffet,fontSize:"12"}],alignment:"left"}],[{text:[{text:"E-mail : \n",bold:!0,fontSize:"12"},{text:be?.contactList.find(Mi=>"CNT2"==Mi.typeContact.code)?.description,fontSize:"12"}],alignment:"left"},{text:[{text:"Immatriculation : \n",bold:!0,fontSize:"12"},{text:It?.find(Mi=>"P38"==Mi.paramRisque?.codeParam&&I?.codeRisque==Mi.risque)?.valeur,fontSize:"12"}],alignment:"left"},{text:[{text:"Date d'\xe9ch\xe9ance : \n",bold:!0,fontSize:"12"},{text:j?.idContrat?.dateExpiration,fontSize:"12"}],alignment:"left"}]]}},{table:{widths:[10,"*",10,"*"],alignment:"center",body:[[{text:[{text:"Identification du Bris de Glace",bold:!0,fontSize:"12"}],colSpan:4,style:"headerTable",alignment:"center"},{},{},{}],[{text:[{text:"CP359"==I?.zoneAffecte?.code?"X":" ",bold:!0,fontSize:"12"}],alignment:"center"},{text:[{text:"Pare - Brise",bold:!0,fontSize:"12"}],alignment:"left"},{text:[{text:"CP360"==I?.zoneAffecte?.code?"X":" ",bold:!0,fontSize:"12"}],alignment:"center"},{text:[{text:"Lunette Arri\xe8re",bold:!0,fontSize:"12"}],alignment:"left"}],[{text:[{text:"CP363"==I?.zoneAffecte?.code?"X":" ",bold:!0,fontSize:"12"}],alignment:"center"},{text:[{text:"Glace Avant Gauche",bold:!0,fontSize:"12"}],alignment:"left"},{text:[{text:"CP361"==I?.zoneAffecte?.code?"X":" ",bold:!0,fontSize:"12"}],alignment:"center"},{text:[{text:"Glace Avant Droite",bold:!0,fontSize:"12"}],alignment:"left"}],[{text:[{text:"CP364"==I?.zoneAffecte?.code?"X":" ",bold:!0,fontSize:"12"}],alignment:"center"},{text:[{text:"Glace Arri\xe8re Gauche",bold:!0,fontSize:"12"}],alignment:"left"},{text:[{text:"CP362"==I?.zoneAffecte?.code?"X":" ",bold:!0,fontSize:"12"}],alignment:"center"},{text:[{text:"Glace Arri\xe8re Droite",bold:!0,fontSize:"12"}],alignment:"left"}],[{text:[{text:"CP366"==I?.zoneAffecte?.code?"X":" ",bold:!0,fontSize:"12"}],alignment:"center"},{text:[{text:"D\xe9flecteur Gauche",bold:!0,fontSize:"12"}],alignment:"left"},{text:[{text:"CP365"==I?.zoneAffecte?.code?"X":" ",bold:!0,fontSize:"12"}],alignment:"center"},{text:[{text:"D\xe9flecteur Droit",bold:!0,fontSize:"12"}],alignment:"left"}],[{text:[{text:"CP368"==I?.zoneAffecte?.code?"X":" ",bold:!0,fontSize:"12"}],alignment:"center"},{text:[{text:"Custode Gauche",bold:!0,fontSize:"12"}],alignment:"left"},{text:[{text:"CP367"==I?.zoneAffecte?.code?"X":" ",bold:!0,fontSize:"12"}],alignment:"center"},{text:[{text:"Custode Droit",bold:!0,fontSize:"12"}],alignment:"left"}]]}},{text:"\n\nNB : Mettre (X) sur la case /Croquis choisi. ",fontSize:12,color:"black"},{layout:"noBorders",style:"table",table:{widths:["*","*"],alignment:"center",body:[[{text:[{text:"Etablie le : ",bold:!0,fontSize:"12"},{text:I.auditDate.split("T")[0],fontSize:"12"}],alignment:"left"},{text:"Signature :",bold:!0,fontSize:"12",alignment:"center"}],[{text:[{text:"Par : ",bold:!0,fontSize:"12"},{text:I.auditUser,fontSize:"12"}],alignment:"left"},{text:"",bold:!0,fontSize:"12",alignment:"left"}]]}}],styles:{sectionHeader:{bold:!0,color:"#d14723",fontSize:10,alignment:"right"},BG:{fontSize:8},table:{margin:[0,20,0,20]},headerTable:{alignment:"left",bold:!0,fontSize:12,color:"white",fillColor:"#00008F"}}};ta.createPdf(ri).download("ODR_"+m.numMission)}}}return f.\u0275fac=function(m){return new(m||f)(t.LFG(Ut.eN))},f.\u0275prov=t.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"}),f})();var na=B(3162);function Vl(f,D){1&f&&t._UZ(0,"mat-progress-bar",7)}function d_(f,D){if(1&f&&(t.TgZ(0,"div",8),t._uU(1),t.qZA()),2&f){const m=t.oxw();t.xp6(1),t.Oqu(m.errorHandler.msg)}}function mf(f,D){if(1&f&&(t.ynx(0),t.TgZ(1,"mat-option",22),t._uU(2),t.qZA(),t.BQk()),2&f){const m=D.$implicit;t.xp6(1),t.Q6J("value",m.idParam),t.xp6(1),t.Oqu(m.description)}}function df(f,D){1&f&&(t.TgZ(0,"div"),t._uU(1," ce champs est obligatoire"),t.qZA())}function bd(f,D){if(1&f&&(t.TgZ(0,"mat-error",23),t.YNc(1,df,2,0,"div",24),t.qZA()),2&f){const m=t.oxw(2);t.xp6(1),t.Q6J("ngIf",m.formMissionExpertise.controls.modeExpertise.errors.required)}}function Vp(f,D){if(1&f&&(t.ynx(0),t.TgZ(1,"mat-option",22),t._uU(2),t.qZA(),t.BQk()),2&f){const m=D.$implicit;t.xp6(1),t.Q6J("value",m.idWilaya),t.xp6(1),t.hij(" ",m.description,"")}}function _f(f,D){1&f&&(t.TgZ(0,"div"),t._uU(1," ce champs est obligatoire"),t.qZA())}function pf(f,D){if(1&f&&(t.TgZ(0,"mat-error",23),t.YNc(1,_f,2,0,"div",24),t.qZA()),2&f){const m=t.oxw(3);t.xp6(1),t.Q6J("ngIf",m.formMissionExpertise.controls.lieuVehicule.errors.required)}}function ff(f,D){if(1&f&&(t.TgZ(0,"mat-form-field",11)(1,"mat-label"),t._uU(2," Lieu v\xe9hicule "),t.qZA(),t.TgZ(3,"mat-select",25),t.YNc(4,Vp,3,2,"ng-container",13),t.qZA(),t.YNc(5,pf,2,1,"mat-error",14),t.qZA()),2&f){const m=t.oxw(2);t.xp6(4),t.Q6J("ngForOf",m.wilayasArray),t.xp6(1),t.Q6J("ngIf",m.formMissionExpertise.controls.lieuVehicule.errors)}}function gf(f,D){if(1&f&&(t.ynx(0),t.TgZ(1,"mat-option",27),t._uU(2),t.qZA(),t.BQk()),2&f){const m=D.$implicit,I=t.oxw(3);t.xp6(1),t.Q6J("disabled","T04"==m.code&&"AUT011"!=I.causeSinistre)("value",m),t.xp6(1),t.Oqu(m.description)}}function hf(f,D){1&f&&(t.TgZ(0,"div"),t._uU(1," ce champs est obligatoire"),t.qZA())}function Cf(f,D){if(1&f&&(t.TgZ(0,"mat-error",23),t.YNc(1,hf,2,0,"div",24),t.qZA()),2&f){const m=t.oxw(3);t.xp6(1),t.Q6J("ngIf",m.formMissionExpertise.controls.typeExpertise.errors.required)}}function xf(f,D){if(1&f){const m=t.EpF();t.TgZ(0,"mat-form-field",11)(1,"mat-label"),t._uU(2," Type expertise "),t.qZA(),t.TgZ(3,"mat-select",26),t.NdJ("selectionChange",function(j){t.CHM(m);const be=t.oxw(2);return t.KtG(be.changeTypeExpertise(j.value))}),t.YNc(4,gf,3,3,"ng-container",13),t.qZA(),t.YNc(5,Cf,2,1,"mat-error",14),t.qZA()}if(2&f){const m=t.oxw(2);t.xp6(4),t.Q6J("ngForOf",m.typeExpertise),t.xp6(1),t.Q6J("ngIf",m.formMissionExpertise.controls.typeExpertise.errors)}}function jp(f,D){1&f&&(t.TgZ(0,"div"),t._uU(1," ce champs est obligatoire"),t.qZA())}function vf(f,D){if(1&f&&(t.TgZ(0,"mat-error",23),t.YNc(1,jp,2,0,"div",24),t.qZA()),2&f){const m=t.oxw(2);t.xp6(1),t.Q6J("ngIf",m.formMissionExpertise.controls.commentaire.errors.required)}}function Af(f,D){1&f&&t._UZ(0,"mat-progress-bar",28)}function Hp(f,D){1&f&&(t.TgZ(0,"div"),t._uU(1," ce champs est obligatoire"),t.qZA())}function Tf(f,D){if(1&f&&(t.TgZ(0,"mat-error",23),t.YNc(1,Hp,2,0,"div",24),t.qZA()),2&f){const m=t.oxw(3);t.xp6(1),t.Q6J("ngIf",m.formMissionExpertise.controls.capitalBDG.errors.required)}}function Uc(f,D){1&f&&(t.TgZ(0,"div"),t._uU(1," ce champs est obligatoire"),t.qZA())}function bf(f,D){if(1&f&&(t.TgZ(0,"mat-error",23),t.YNc(1,Uc,2,0,"div",24),t.qZA()),2&f){const m=t.oxw(3);t.xp6(1),t.Q6J("ngIf",m.formMissionExpertise.controls.eligibiliteBDG.errors.required)}}function sg(f,D){if(1&f&&(t.TgZ(0,"div",10)(1,"mat-form-field",11)(2,"mat-label"),t._uU(3," Capital BDG restant "),t.qZA(),t._UZ(4,"input",29),t.YNc(5,Tf,2,1,"mat-error",14),t.qZA(),t.TgZ(6,"mat-form-field",11)(7,"mat-label"),t._uU(8," Eligibilit\xe9 BDG"),t.qZA(),t._UZ(9,"input",30),t.YNc(10,bf,2,1,"mat-error",14),t.qZA()()),2&f){const m=t.oxw(2);t.xp6(5),t.Q6J("ngIf",m.formMissionExpertise.controls.capitalBDG.errors),t.xp6(5),t.Q6J("ngIf",m.formMissionExpertise.controls.eligibiliteBDG.errors)}}function Im(f,D){if(1&f&&(t.ynx(0),t.TgZ(1,"mat-option",22),t._uU(2),t.qZA(),t.BQk()),2&f){const m=D.$implicit;t.xp6(1),t.Q6J("value",m),t.xp6(1),t.Oqu(m.raisonSocial)}}function po(f,D){1&f&&(t.TgZ(0,"div"),t._uU(1," ce champs est obligatoire"),t.qZA())}function Em(f,D){if(1&f&&(t.TgZ(0,"mat-error",23),t.YNc(1,po,2,0,"div",24),t.qZA()),2&f){const m=t.oxw(2);t.xp6(1),t.Q6J("ngIf",m.formMissionExpertise.controls.expert.errors.required)}}function El(f,D){1&f&&(t.TgZ(0,"div"),t._uU(1," ce champs est obligatoire"),t.qZA())}function ia(f,D){1&f&&(t.TgZ(0,"div"),t._uU(1," ce champs n'est pas conforme"),t.qZA())}function Pf(f,D){if(1&f&&(t.TgZ(0,"mat-error",23),t.YNc(1,El,2,0,"div",24),t.YNc(2,ia,2,0,"div",24),t.qZA()),2&f){const m=t.oxw(3);t.xp6(1),t.Q6J("ngIf",m.formMissionExpertise.controls.mainOeuvre.errors.required),t.xp6(1),t.Q6J("ngIf",null==m.formMissionExpertise.controls.mainOeuvre.errors?null:m.formMissionExpertise.controls.mainOeuvre.errors.pattern)}}function Pu(f,D){if(1&f&&(t.TgZ(0,"mat-form-field",11)(1,"mat-label"),t._uU(2," Main d'oeuvre"),t.qZA(),t._UZ(3,"input",31),t.YNc(4,Pf,3,2,"mat-error",14),t.qZA()),2&f){const m=t.oxw(2);t.xp6(4),t.Q6J("ngIf",m.formMissionExpertise.controls.mainOeuvre.errors)}}function Zf(f,D){1&f&&(t.TgZ(0,"div"),t._uU(1," ce champs est obligatoire"),t.qZA())}function qf(f,D){if(1&f&&(t.TgZ(0,"mat-error",23),t.YNc(1,Zf,2,0,"div",24),t.qZA()),2&f){const m=t.oxw(3);t.xp6(1),t.Q6J("ngIf",m.formMissionExpertise.controls.tel.errors.required)}}function Sf(f,D){1&f&&(t.TgZ(0,"div"),t._uU(1," ce champs est obligatoire"),t.qZA())}function yf(f,D){1&f&&(t.TgZ(0,"div"),t._uU(1," ce champs n'est pas conforme. "),t.qZA())}function Nf(f,D){if(1&f&&(t.TgZ(0,"mat-error",23),t.YNc(1,Sf,2,0,"div",24),t.YNc(2,yf,2,0,"div",24),t.qZA()),2&f){const m=t.oxw(3);t.xp6(1),t.Q6J("ngIf",m.formMissionExpertise.controls.email.errors.required),t.xp6(1),t.Q6J("ngIf",m.formMissionExpertise.controls.email.errors.pattern)}}function Fp(f,D){if(1&f&&(t.TgZ(0,"div",10)(1,"mat-form-field",11)(2,"mat-label"),t._uU(3," N\xb0 t\xe9l\xe9phone"),t.qZA(),t._UZ(4,"input",32),t.TgZ(5,"span",33),t._uU(6,"+213 \xa0"),t.qZA(),t.YNc(7,qf,2,1,"mat-error",14),t.qZA(),t.TgZ(8,"mat-form-field",11)(9,"mat-label"),t._uU(10," Email"),t.qZA(),t._UZ(11,"input",34),t.YNc(12,Nf,3,2,"mat-error",14),t.qZA()()),2&f){const m=t.oxw(2);t.xp6(7),t.Q6J("ngIf",m.formMissionExpertise.controls.tel.errors),t.xp6(5),t.Q6J("ngIf",m.formMissionExpertise.controls.email.errors)}}function If(f,D){1&f&&(t.TgZ(0,"button",35),t._uU(1,"Enregistrer"),t.qZA())}function Zu(f,D){if(1&f){const m=t.EpF();t.TgZ(0,"form",9),t.NdJ("ngSubmit",function(){t.CHM(m);const j=t.oxw();return t.KtG(j.submitExpertise())}),t.TgZ(1,"div",10)(2,"mat-form-field",11)(3,"mat-label"),t._uU(4," Mode expertise "),t.qZA(),t.TgZ(5,"mat-select",12),t.YNc(6,mf,3,2,"ng-container",13),t.qZA(),t.YNc(7,bd,2,1,"mat-error",14),t.qZA(),t.YNc(8,ff,6,2,"mat-form-field",15),t.qZA(),t.TgZ(9,"div",10),t.YNc(10,xf,6,2,"mat-form-field",15),t.TgZ(11,"mat-form-field",11)(12,"mat-label"),t._uU(13," Commentaire "),t.qZA(),t._UZ(14,"input",16),t.YNc(15,vf,2,1,"mat-error",14),t.qZA()(),t.YNc(16,Af,1,0,"mat-progress-bar",17),t.YNc(17,sg,11,2,"div",18),t.TgZ(18,"div",10)(19,"mat-form-field",11)(20,"mat-label"),t._uU(21," Expert "),t.qZA(),t.TgZ(22,"mat-select",19),t.NdJ("selectionChange",function(j){t.CHM(m);const be=t.oxw();return t.KtG(be.changeExpertise(j.value))}),t.TgZ(23,"mat-select-filter",20),t.NdJ("filteredReturn",function(j){t.CHM(m);const be=t.oxw();return t.KtG(be.filteredExperts=j)}),t.qZA(),t.YNc(24,Im,3,2,"ng-container",13),t.qZA(),t.YNc(25,Em,2,1,"mat-error",14),t.qZA(),t.YNc(26,Pu,5,1,"mat-form-field",15),t.qZA(),t.YNc(27,Fp,13,2,"div",18),t.YNc(28,If,2,0,"button",21),t.qZA()}if(2&f){const m=t.oxw();t.Q6J("formGroup",m.formMissionExpertise),t.xp6(6),t.Q6J("ngForOf",m.modeExpertise),t.xp6(1),t.Q6J("ngIf",m.formMissionExpertise.controls.modeExpertise.errors),t.xp6(1),t.Q6J("ngIf","45A"==m.produit||"45F"==m.produit||"45L"==m.produit),t.xp6(2),t.Q6J("ngIf","45A"==m.produit||"45F"==m.produit||"45L"==m.produit),t.xp6(5),t.Q6J("ngIf",m.formMissionExpertise.controls.commentaire.errors),t.xp6(1),t.Q6J("ngIf",m.loaderCapitalBDG),t.xp6(1),t.Q6J("ngIf",m.displayCpitalBDG&&!m.loaderCapitalBDG),t.xp6(6),t.Q6J("displayMember","raisonSocial")("array",m.experts),t.xp6(1),t.Q6J("ngForOf",m.filteredExperts),t.xp6(1),t.Q6J("ngIf",m.formMissionExpertise.controls.expert.errors),t.xp6(1),t.Q6J("ngIf","45A"==m.produit||"45F"==m.produit||"45L"==m.produit),t.xp6(1),t.Q6J("ngIf",m.expertSelected),t.xp6(1),t.Q6J("ngIf","CP355"!=m.statutSinistre||"CP415"!=m.statutSinistre&&!m.capitalBDGError)}}let Qp=(()=>{class f{constructor(m,I,j,be,It,ri){this.router=m,this.sinistresService=I,this.missionExpertiseService=j,this.route=be,this.genericService=It,this.formBuilder=ri,this.wilayasArray=[],this.modeExpertise=[],this.typeExpertise=[],this.experts=[],this.filteredExperts=[],this.displayCpitalBDG=!1,this.loaderInfoSinistre=!0,this.expertSelected=!1,this.canCirculate=!1,this.loaderCapitalBDG=!1,this.capitalBDGError=!1,this.bodyMissionExpertise=new dn,this.tempArray=[{id:1,description:"exemple 1"},{id:2,description:"exemple 2"},{id:3,description:"exemple 3"}],this.successBody={statut:!1,msg:""},this.errorHandler={error:!1,msg:""}}ngOnInit(){this.idSinistre=this.route.snapshot.paramMap.get("idSinistre"),this.nomProduit=this.route.snapshot.paramMap.get("produit"),this.getSinistreInfo(),this.getAllExperts()}getSinistreInfo(){this.sinistresService.getSinistreByID(this.idSinistre).subscribe({next:m=>{this.causeSinistre=m.causeSinistre.code,this.produit=m.produit.codeProduit,this.loaderInfoSinistre=!1,this.getDictionnaireList(),this.getWilayas(),this.statutSinistre=m.statut.code,this.initFormMissionExpertise(),this.canCirculate=m.canCirculate},error:m=>{console.log(m)}})}getWilayas(){let m;this.genericService.getPays().subscribe({next:I=>{m=I.find(j=>"DZA"==j.codePays).idPays,this.genericService.getAllWilayas(m).subscribe({next:j=>{this.wilayasArray=j},error:j=>{console.log(j)}})},error:I=>{console.log(I)}})}getDictionnaireList(){this.genericService.getParam(JSON.parse(sessionStorage.getItem("dictionnaire")||"{}").find(m=>"C39"==m.code).idCategorie).subscribe(m=>{this.modeExpertise=m}),this.genericService.getParam(JSON.parse(sessionStorage.getItem("dictionnaire")||"{}").find(m=>"C40"==m.code).idCategorie).subscribe(m=>{this.typeExpertise=m,this.canCirculate||this.formMissionExpertise.get("typeExpertise").setValue(this.typeExpertise.filter(I=>"T01"==I.code)[0])})}initFormMissionExpertise(){this.formMissionExpertise=this.formBuilder.group({modeExpertise:["",[Q.kI.required]],lieuVehicule:["","45A"==this.produit||"45F"==this.produit||"45L"==this.produit?[Q.kI.required]:[]],typeExpertise:["","45A"==this.produit||"45F"==this.produit||"45L"==this.produit?[Q.kI.required]:[]],commentaire:["",[]],capitalBDG:[{value:"",disabled:!0}],eligibiliteBDG:[{value:"",disabled:!0}],expert:["",Q.kI.required],mainOeuvre:["","45A"==this.produit||"45F"==this.produit||"45L"==this.produit?[Q.kI.required,Q.kI.pattern(w.e.number)]:[]],tel:[{value:"",disabled:!0},[Q.kI.required]],email:[{value:"",disabled:!0},[Q.kI.required]]}),"CP355"==this.statutSinistre||"CP415"==this.statutSinistre?this.formMissionExpertise.disable():(this.formMissionExpertise.enable(),this.formMissionExpertise.get("capitalBDG").disable(),this.formMissionExpertise.get("eligibiliteBDG").disable(),this.formMissionExpertise.get("email").disable(),this.formMissionExpertise.get("tel").disable())}changeTypeExpertise(m){"T04"==m.code&&"AUT011"==this.causeSinistre?(this.displayCpitalBDG=!0,this.getCapitalBDG(),this.formMissionExpertise.get("capitalBDG").setValidators([Q.kI.required]),this.formMissionExpertise.get("eligibiliteBDG").setValidators([Q.kI.required])):(this.capitalBDGError=!1,this.displayCpitalBDG=!1,this.formMissionExpertise.get("capitalBDG").setValidators([]),this.formMissionExpertise.get("eligibiliteBDG").setValidators([]))}getCapitalBDG(){this.loaderCapitalBDG=!0,this.missionExpertiseService.getCapitaleBDG(this.idSinistre).subscribe({next:m=>{this.loaderCapitalBDG=!1,this.formMissionExpertise.get("capitalBDG").setValue(m.capitalBDG),this.formMissionExpertise.get("eligibiliteBDG").setValue(m.eligibileBDG),this.capitalBDGError=!1},error:m=>{this.loaderCapitalBDG=!1,this.capitalBDGError=!0,xe().fire({title:"Garantie BDG indisponible ou capital insuffisant",icon:"error"}),console.log(m)}})}getAllExperts(){this.missionExpertiseService.getExpertsAll().subscribe({next:m=>{this.experts=m,this.filteredExperts=this.experts.slice()},error:m=>{console.log(m)}})}changeExpertise(m){this.expertSelected=!0,this.formMissionExpertise.get("tel").setValue(m.tel),this.formMissionExpertise.get("email").setValue(m.email)}submitExpertise(){this.formMissionExpertise.valid&&(this.bodyMissionExpertise.modeExpertise={idParam:this.formMissionExpertise.get("modeExpertise").value},this.bodyMissionExpertise.typeExpertise={idParam:this.formMissionExpertise.get("typeExpertise").value?.idParam},this.bodyMissionExpertise.lieuVehicule=this.formMissionExpertise.get("lieuVehicule").value,this.bodyMissionExpertise.bdg=this.displayCpitalBDG?{CapitalBDG:this.formMissionExpertise.get("capitalBDG")?.value,EligibileBDG:this.formMissionExpertise.get("eligibiliteBDG")?.value}:{},this.bodyMissionExpertise.idexpert={idExpert:this.formMissionExpertise.get("expert").value.idExpert},this.bodyMissionExpertise.mntMaindOeuvre=this.formMissionExpertise.get("mainOeuvre").value,this.bodyMissionExpertise.idsinistre={idSinistre:this.idSinistre},this.bodyMissionExpertise.commentaire=this.formMissionExpertise.get("commentaire").value,this.missionExpertiseService.addMissionExpertise(this.bodyMissionExpertise).subscribe({next:m=>{m.statut?(xe().fire({title:m.messageStatut,icon:"success"}).then(I=>{I.isConfirmed&&this.router.navigate(["gestion-missionsExpertise/gestion-mission-expertise/"+this.idSinistre+"/"+this.nomProduit])}),this.successBody.statut=m.statut):xe().fire({title:m.messageStatut,icon:"error"})},error:m=>{this.handleError(m)}}))}handleError(m){500===m.status&&(this.errorHandler.error=!0,this.errorHandler.msg="Erreur systeme, veuillez contacter l'administrateur.")}}return f.\u0275fac=function(m){return new(m||f)(t.Y36(ee.F0),t.Y36(Zt.m),t.Y36(zl),t.Y36(ee.gz),t.Y36(tt.M),t.Y36(Q.qu))},f.\u0275cmp=t.Xpm({type:f,selectors:[["app-creation-mission-expertise"]],decls:9,vars:3,consts:[[1,"container"],[1,"header-container"],[1,"header-title"],["aria-hidden","false","matTooltip","Retour","matTooltipPosition","left","routerLink","..",1,"material-symbols-outlined"],["mode","indeterminate",4,"ngIf"],["class","alert alert-danger",4,"ngIf"],["class","formExpertise",3,"formGroup","ngSubmit",4,"ngIf"],["mode","indeterminate"],[1,"alert","alert-danger"],[1,"formExpertise",3,"formGroup","ngSubmit"],[1,"row"],["appearance","outline",1,"col-md-5"],["formControlName","modeExpertise"],[4,"ngFor","ngForOf"],["class","invalid-feedback",4,"ngIf"],["class","col-md-5","appearance","outline",4,"ngIf"],["type","text","matInput","","placeholder","","formControlName","commentaire"],["mode","indeterminate","style","margin-bottom: 2rem;",4,"ngIf"],["class","row",4,"ngIf"],["formControlName","expert",3,"selectionChange"],[3,"displayMember","array","filteredReturn"],["class","btn btn-action","type","submit",4,"ngIf"],[3,"value"],[1,"invalid-feedback"],[4,"ngIf"],["formControlName","lieuVehicule"],["formControlName","typeExpertise",3,"selectionChange"],[3,"disabled","value"],["mode","indeterminate",2,"margin-bottom","2rem"],["type","text","matInput","","placeholder","","formControlName","capitalBDG"],["type","text","matInput","","placeholder","","formControlName","eligibiliteBDG"],["type","text","matInput","","placeholder","","formControlName","mainOeuvre"],["type","text","matInput","","placeholder","","formControlName","tel"],["matPrefix",""],["type","text","matInput","","placeholder","","formControlName","email"],["type","submit",1,"btn","btn-action"]],template:function(m,I){1&m&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h2",2)(3,"mat-icon",3),t._uU(4,"arrow_circle_left"),t.qZA(),t._uU(5," Mission expertise "),t.qZA()(),t.YNc(6,Vl,1,0,"mat-progress-bar",4),t.YNc(7,d_,2,1,"div",5),t.YNc(8,Zu,29,15,"form",6),t.qZA()),2&m&&(t.xp6(6),t.Q6J("ngIf",I.loaderInfoSinistre),t.xp6(1),t.Q6J("ngIf",I.errorHandler.error),t.xp6(1),t.Q6J("ngIf",I.formMissionExpertise&&!I.loaderInfoSinistre))},dependencies:[Se.sg,Se.O5,_n.Hw,Q._Y,Q.Fj,Q.JJ,Q.JL,Q.sg,Q.u,mn.TO,mn.KE,mn.hX,mn.qo,Xn.Nt,Bi.gM,xt.gD,ht.ey,na.pW,ee.rH,xi.Fq],styles:[".container[_ngcontent-%COMP%]{background-color:#fff;padding:40px 2rem;height:100%;overflow-y:hidden;overflow-x:hidden}h2.header-title[_ngcontent-%COMP%]{padding:0 24px;font-size:21px!important;color:#00008f;font-weight:600!important;letter-spacing:1px;display:flex;justify-content:space-between}h2.header-title[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{margin-right:1rem;font-size:32px;height:-moz-fit-content;height:fit-content;width:-moz-fit-content;width:fit-content}.formExpertise[_ngcontent-%COMP%]{margin-top:3rem}.formExpertise[_ngcontent-%COMP%]   .btn-action[_ngcontent-%COMP%]{float:right}"]}),f})();function __(f,D){if(1&f){const m=t.EpF();t.TgZ(0,"div",6)(1,"p"),t._uU(2,"Voulez-vous vraiment annuler la mission ?"),t.qZA(),t.TgZ(3,"div",7)(4,"button",8),t._uU(5,"Retour"),t.qZA(),t.TgZ(6,"button",9),t.NdJ("click",function(){t.CHM(m);const j=t.oxw();return t.KtG(j.submitResponse())}),t._uU(7,"Enregistrer"),t.qZA()()()}}function Jr(f,D){1&f&&(t.TgZ(0,"div"),t._uU(1," ce champs est obligatoire"),t.qZA())}function oa(f,D){if(1&f&&(t.TgZ(0,"mat-error",15),t.YNc(1,Jr,2,0,"div",16),t.qZA()),2&f){const m=t.oxw(2);t.xp6(1),t.Q6J("ngIf",m.formMotif.controls.motif.errors.required)}}function $p(f,D){if(1&f){const m=t.EpF();t.TgZ(0,"form",10),t.NdJ("ngSubmit",function(){t.CHM(m);const j=t.oxw();return t.KtG(j.submitResponse())}),t.TgZ(1,"p"),t._uU(2,"Voulez-vous vraiment rejeter la mission ?"),t.qZA(),t.TgZ(3,"mat-form-field",11)(4,"mat-label"),t._uU(5,"Motif "),t.qZA(),t._UZ(6,"input",12),t.YNc(7,oa,2,1,"mat-error",13),t.qZA(),t.TgZ(8,"div",7)(9,"button",8),t._uU(10,"Retour"),t.qZA(),t.TgZ(11,"button",14),t._uU(12,"Enregistrer"),t.qZA()()()}if(2&f){const m=t.oxw();t.Q6J("formGroup",m.formMotif),t.xp6(7),t.Q6J("ngIf",m.formMotif.controls.motif.errors)}}let Jp=(()=>{class f{constructor(m,I,j,be,It){this.router=m,this.route=I,this.dialogRef=j,this.formBuilder=be,this.data=It,this.roleUser=JSON.parse(sessionStorage.getItem("roles")||""),this.sinistreRoles={"45A":["GESTIONNAIRE_SINISTRE","RESPONSABLE_SINISTRE","DIRECTEUR","CHEF_PROJET","ADMIN","ROLE_SUPER_ADMIN","ANALYSTE","GESTION_SINISTRE","GESTIONNAIRE_JUNIOR"],"45F":["GESTIONNAIRE_SINISTRE","RESPONSABLE_SINISTRE","DIRECTEUR","CHEF_PROJET","ADMIN","ROLE_SUPER_ADMIN","ANALYSTE","GESTION_SINISTRE","GESTIONNAIRE_JUNIOR"],"45L":["GESTIONNAIRE_SINISTRE","RESPONSABLE_SINISTRE","DIRECTEUR","CHEF_PROJET","ADMIN","ROLE_SUPER_ADMIN","ANALYSTE","GESTION_SINISTRE","GESTIONNAIRE_JUNIOR"],95:["GESTION_SINISTRE_MRH_MRP","RESPONSABLE_SINISTRE_MRH_MRP","ADMIN","ROLE_SUPER_ADMIN","ANALYSTE"],96:["GESTION_SINISTRE_MRH_MRP","RESPONSABLE_SINISTRE_MRH_MRP","ADMIN","ROLE_SUPER_ADMIN","ANALYSTE"]}}ngOnInit(){this.typeConfirmation=this.data.type,this.formMotif=this.formBuilder.group({motif:["",[Q.kI.required]]}),this.codeProduit=this.route.snapshot.paramMap.get("codeProduit");let m=!1;this.roleUser.find(I=>{this.sinistreRoles[this.codeProduit+""].includes(I)&&(m=!0)}),m||this.router.navigate(["/dashboard"])}submitResponse(){this.formMotif.valid&&"S11"==this.typeConfirmation?this.dialogRef.close({data:{type:this.typeConfirmation,data:this.formMotif.get("motif").value}}):"S11"!=this.typeConfirmation&&this.dialogRef.close({data:{type:this.typeConfirmation,data:""}})}}return f.\u0275fac=function(m){return new(m||f)(t.Y36(ee.F0),t.Y36(ee.gz),t.Y36(Ke.so),t.Y36(Q.qu),t.Y36(Ke.WI))},f.\u0275cmp=t.Xpm({type:f,selectors:[["app-confirmation-mission-dialog"]],decls:9,vars:2,consts:[[1,"heading"],[2,"float","right","font-size","24px"],["aria-hidden","false","aria-label","","matTooltip","","matTooltipPosition","right","mat-dialog-close","",1,"material-symbols-outlined"],[1,"mat-typography"],["class","row form",4,"ngIf"],["class","row form",3,"formGroup","ngSubmit",4,"ngIf"],[1,"row","form"],[1,"row-button"],["mat-dialog-close","","type","button",1,"btn","btn-cancel"],["type","button",1,"btn","btn-delete",3,"click"],[1,"row","form",3,"formGroup","ngSubmit"],["appearance","outline",1,"col-md-5"],["type","text","matInput","","placeholder","","formControlName","motif"],["class","invalid-feedback",4,"ngIf"],["type","submit",1,"btn","btn-delete"],[1,"invalid-feedback"],[4,"ngIf"]],template:function(m,I){1&m&&(t.TgZ(0,"h2",0),t._uU(1,"Confirmation "),t.TgZ(2,"span",1)(3,"mat-icon",2),t._uU(4," close "),t.qZA()()(),t._UZ(5,"mat-divider"),t.TgZ(6,"mat-dialog-content",3),t.YNc(7,__,8,0,"div",4),t.YNc(8,$p,13,2,"form",5),t.qZA()),2&m&&(t.xp6(7),t.Q6J("ngIf","S13"==I.typeConfirmation),t.xp6(1),t.Q6J("ngIf","S11"==I.typeConfirmation))},dependencies:[Se.O5,nn.d,_n.Hw,Q._Y,Q.Fj,Q.JJ,Q.JL,Q.sg,Q.u,mn.TO,mn.KE,mn.hX,Xn.Nt,Bi.gM,Ke.ZT,Ke.xY],styles:["p[_ngcontent-%COMP%]{margin-bottom:2rem;font-size:19px;text-align:center;line-height:3rem}.form.row[_ngcontent-%COMP%]{justify-content:center}.mat-dialog-content[_ngcontent-%COMP%]{padding-top:15px}.btn.btn-cancel[_ngcontent-%COMP%]{float:left}.btn.btn-delete[_ngcontent-%COMP%]{float:right}"]}),f})();function Ef(f,D){if(1&f){const m=t.EpF();t.TgZ(0,"button",18),t.NdJ("click",function(){t.CHM(m);const j=t.oxw();return t.KtG(j.addMissionExpertise())}),t.TgZ(1,"mat-icon",19),t._uU(2,"add_circle"),t.qZA(),t._uU(3," Ajouter une mission d'expertise "),t.qZA()}}function Rf(f,D){1&f&&(t.TgZ(0,"th",20),t._uU(1," N\xb0 Mission d'expertise "),t.qZA())}function Df(f,D){if(1&f&&(t.TgZ(0,"td",21),t._uU(1),t.qZA()),2&f){const m=D.$implicit;t.xp6(1),t.hij(" ",m.numMission," ")}}function wf(f,D){1&f&&(t.TgZ(0,"th",20),t._uU(1," Type Expertise "),t.qZA())}function Wm(f,D){if(1&f&&(t.TgZ(0,"td",21),t._uU(1),t.qZA()),2&f){const m=D.$implicit;t.xp6(1),t.hij(" ",m.typeExpertise.description," ")}}function p_(f,D){1&f&&(t.TgZ(0,"th",20),t._uU(1," Mode Expertise "),t.qZA())}function Rm(f,D){if(1&f&&(t.TgZ(0,"td",21),t._uU(1),t.qZA()),2&f){const m=D.$implicit;t.xp6(1),t.hij(" ",m.modeExpertise.description," ")}}function Pd(f,D){1&f&&(t.TgZ(0,"th",20),t._uU(1," Expert "),t.qZA())}function Of(f,D){if(1&f&&(t.TgZ(0,"td",21),t._uU(1),t.qZA()),2&f){const m=D.$implicit;t.xp6(1),t.hij(" ",m.idexpert,"")}}function Kp(f,D){1&f&&(t.TgZ(0,"th",20),t._uU(1," Date mission d'expertise "),t.qZA())}function Zd(f,D){if(1&f&&(t.TgZ(0,"td",21),t._uU(1),t.ALo(2,"dateFormatPipe"),t.qZA()),2&f){const m=D.$implicit;t.xp6(1),t.hij(" ",t.lcZ(2,1,m.dateMission)," ")}}function Ko(f,D){1&f&&(t.TgZ(0,"th",20),t._uU(1," Statut "),t.qZA())}function ic(f,D){if(1&f&&(t.TgZ(0,"td",21),t._uU(1),t.qZA()),2&f){const m=D.$implicit;t.xp6(1),t.hij(" ",m.statutMission.description," ")}}function Wp(f,D){1&f&&(t.TgZ(0,"th",20),t._uU(1," Action "),t.qZA())}function Xp(f,D){if(1&f){const m=t.EpF();t.TgZ(0,"td",21)(1,"button",22)(2,"mat-icon"),t._uU(3,"more_vert"),t.qZA()(),t.TgZ(4,"mat-menu",23,24)(6,"button",25),t.NdJ("click",function(){const be=t.CHM(m).$implicit,It=t.oxw();return t.KtG(It.goTo(be.idMissionExpertise))}),t.TgZ(7,"mat-icon"),t._uU(8,"zoom_in"),t.qZA(),t.TgZ(9,"span"),t._uU(10,"Consulter"),t.qZA()(),t.TgZ(11,"button",26),t.NdJ("click",function(){const be=t.CHM(m).$implicit,It=t.oxw();return t.KtG(It.openConfirmation(be.idMissionExpertise,"S11"))}),t.TgZ(12,"mat-icon"),t._uU(13,"close"),t.qZA(),t.TgZ(14,"span"),t._uU(15,"Rejet"),t.qZA()(),t.TgZ(16,"button",26),t.NdJ("click",function(){const be=t.CHM(m).$implicit,It=t.oxw();return t.KtG(It.openConfirmation(be.idMissionExpertise,"S13"))}),t.TgZ(17,"mat-icon"),t._uU(18,"cancel"),t.qZA(),t.TgZ(19,"span"),t._uU(20,"Annuler"),t.qZA()(),t.TgZ(21,"button",26),t.NdJ("click",function(){const be=t.CHM(m).$implicit,It=t.oxw();return t.KtG(It.printMission(be.idMissionExpertise))}),t.TgZ(22,"mat-icon"),t._uU(23,"print"),t.qZA(),t.TgZ(24,"span"),t._uU(25,"Imprimer"),t.qZA()()()()}if(2&f){const m=D.$implicit,I=t.MAs(5),j=t.oxw();t.xp6(1),t.Q6J("matMenuTriggerFor",I),t.xp6(10),t.Q6J("disabled",("S10"!=m.statutMission.code||"CP355"==j.statutSinistre||"CP415"==j.statutSinistre||"CP524"==j.statutSinistre||"CP525"==j.statutSinistre||"CP526"==j.statutSinistre)&&j.hasRights),t.xp6(5),t.Q6J("disabled",("S10"!=m.statutMission.code||"CP355"==j.statutSinistre||"CP524"==j.statutSinistre||"CP525"==j.statutSinistre||"CP526"==j.statutSinistre)&&j.hasRights),t.xp6(5),t.Q6J("disabled","S11"==m.statutMission.code||"S13"==m.statutMission.code)}}function kf(f,D){1&f&&t._UZ(0,"tr",27)}function ef(f,D){1&f&&t._UZ(0,"tr",28)}const Mf=function(f){return[f]},tf=function(){return[5,10]};let qu=(()=>{class f{constructor(m,I,j,be,It){this.dialog=m,this.route=I,this.router=j,this.missionExpertiseService=be,this.sinistresService=It,this.displayedColumns=["numMission","typeExpertise","modeExpertise","expert","dateMission","statut","action"],this.missions=[{numMission:1,typeExpertise:"par acte",expert:"test test",dateMission:new Date,statut:"En cours"},{numMission:2,typeExpertise:"par acte",expert:"test test",dateMission:new Date,statut:"Rejet\xe9"}],this.dataSource=new n.by,this.roleUser=JSON.parse(sessionStorage.getItem("roles")||""),this.sinistreRoles={"45A":["WEB_HELP","GESTIONNAIRE_SINISTRE","RESPONSABLE_SINISTRE","DIRECTEUR","CHEF_PROJET","ADMIN","ROLE_SUPER_ADMIN","ANALYSTE","GESTION_SINISTRE","GESTIONNAIRE_JUNIOR"],"45F":["WEB_HELP","GESTIONNAIRE_SINISTRE","RESPONSABLE_SINISTRE","DIRECTEUR","CHEF_PROJET","ADMIN","ROLE_SUPER_ADMIN","ANALYSTE","GESTION_SINISTRE","GESTIONNAIRE_JUNIOR"],"45L":["WEB_HELP","GESTIONNAIRE_SINISTRE","RESPONSABLE_SINISTRE","DIRECTEUR","CHEF_PROJET","ADMIN","ROLE_SUPER_ADMIN","ANALYSTE","GESTION_SINISTRE","GESTIONNAIRE_JUNIOR"],95:["WEB_HELP","GESTION_SINISTRE_MRH_MRP","RESPONSABLE_SINISTRE_MRH_MRP","ADMIN","ROLE_SUPER_ADMIN","ANALYSTE"],96:["WEB_HELP","GESTION_SINISTRE_MRH_MRP","RESPONSABLE_SINISTRE_MRH_MRP","ADMIN","ROLE_SUPER_ADMIN","ANALYSTE"]}}ngOnInit(){this.idSinistre=this.route.snapshot.paramMap.get("idSinistre"),this.produit=this.route.snapshot.paramMap.get("produit"),this.hasRights=sessionStorage.getItem("roles")?.includes("WEB_HELP"),this.getSinistreById(),this.getAllMissionExpertise(),this.codeProduit=this.route.snapshot.paramMap.get("codeProduit");let m=!1;this.roleUser.find(I=>{this.sinistreRoles[this.codeProduit+""].includes(I)&&(m=!0)}),m||this.router.navigate(["/dashboard"])}getSinistreById(){this.sinistresService.getSinistreByID(this.idSinistre).subscribe({next:m=>{this.sinistre=m,this.statutSinistre=this.sinistre.statut.code},error:m=>{console.log(m)}})}printMission(m){this.missionExpertiseService.getMissionsExpertisesById(m).subscribe({next:I=>{console.log(I),console.log(this.sinistre),this.missionExpertiseService.outputMission(I,this.sinistre)},error:I=>{console.log(I)}})}getAllMissionExpertise(){this.missionExpertiseService.getAllMissionsExpertisesBySinistre(this.idSinistre).subscribe({next:m=>{this.dataSource=new n.by(m),this.dataSource.paginator=this.paginator},error:m=>{console.log(m)}})}goTo(m){this.router.navigateByUrl("gestion-missionsExpertise/gestion-mission-expertise/"+this.idSinistre+"/consultation-mission-expertise/"+m)}addMissionExpertise(){this.router.navigateByUrl("gestion-missionsExpertise/gestion-mission-expertise/"+this.idSinistre+"/"+this.produit+"/creation-mission-expertise")}openConfirmation(m,I){this.dialog.open(Jp,{width:"40%",disableClose:!0,data:{type:I}}).afterClosed().subscribe(be=>{0!=be&&this.missionExpertiseService.missionOpertion({idMissionExpertise:m,typeFonction:I,motifRejet:be.data.data}).subscribe({next:ri=>{ri.statut?(this.getAllMissionExpertise(),xe().fire(ri.messageStatut,"","success")):xe().fire(ri.messageStatut,"","error")},error:ri=>{console.log(ri)}})})}}return f.\u0275fac=function(m){return new(m||f)(t.Y36(Ke.uw),t.Y36(ee.gz),t.Y36(ee.F0),t.Y36(zl),t.Y36(Zt.m))},f.\u0275cmp=t.Xpm({type:f,selectors:[["app-gestion-mission-expertise"]],viewQuery:function(m,I){if(1&m&&t.Gf(Mt.NW,5),2&m){let j;t.iGM(j=t.CRH())&&(I.paginator=j.first)}},decls:33,vars:10,consts:[[1,"container"],[1,"header"],[1,"title-table"],["aria-hidden","false","aria-label","ajouter pack ","matTooltip","Retour","matTooltipPosition","left",1,"material-symbols-outlined",3,"routerLink"],["class","btn btn-secondary","style","display: flex;\n            align-items: center;",3,"click",4,"ngIf"],["mat-table","",1,"gestion-table",3,"dataSource"],["matColumnDef","numMission"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","typeExpertise"],["matColumnDef","modeExpertise"],["matColumnDef","expert"],["matColumnDef","dateMission"],["matColumnDef","statut"],["matColumnDef","action"],["mat-header-row","","class","example-second-header-row",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["aria-label","Select page of users",3,"pageSize","pageSizeOptions"],[1,"btn","btn-secondary",2,"display","flex","align-items","center",3,"click"],["aria-hidden","false","aria-label","ajouter pack ",1,"material-symbols-outlined"],["mat-header-cell",""],["mat-cell",""],["mat-icon-button","","type","button","aria-label","menu",3,"matMenuTriggerFor"],["xPosition","after",1,"menu-formule"],["menu","matMenu"],["mat-menu-item","","type","button",3,"click"],["mat-menu-item","","type","button",3,"disabled","click"],["mat-header-row","",1,"example-second-header-row"],["mat-row",""]],template:function(m,I){1&m&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h2",2)(3,"mat-icon",3),t._uU(4,"arrow_circle_left"),t.qZA(),t._uU(5," Listes des Missions d'expertises"),t.qZA(),t.YNc(6,Ef,4,0,"button",4),t.qZA(),t._UZ(7,"mat-divider"),t.TgZ(8,"table",5),t.ynx(9,6),t.YNc(10,Rf,2,0,"th",7),t.YNc(11,Df,2,1,"td",8),t.BQk(),t.ynx(12,9),t.YNc(13,wf,2,0,"th",7),t.YNc(14,Wm,2,1,"td",8),t.BQk(),t.ynx(15,10),t.YNc(16,p_,2,0,"th",7),t.YNc(17,Rm,2,1,"td",8),t.BQk(),t.ynx(18,11),t.YNc(19,Pd,2,0,"th",7),t.YNc(20,Of,2,1,"td",8),t.BQk(),t.ynx(21,12),t.YNc(22,Kp,2,0,"th",7),t.YNc(23,Zd,3,3,"td",8),t.BQk(),t.ynx(24,13),t.YNc(25,Ko,2,0,"th",7),t.YNc(26,ic,2,1,"td",8),t.BQk(),t.ynx(27,14),t.YNc(28,Wp,2,0,"th",7),t.YNc(29,Xp,26,4,"td",8),t.BQk(),t.YNc(30,kf,1,0,"tr",15),t.YNc(31,ef,1,0,"tr",16),t.qZA(),t._UZ(32,"mat-paginator",17),t.qZA()),2&m&&(t.xp6(3),t.Q6J("routerLink",t.VKq(7,Mf,"/gestion-sinistre/"+(null==I.sinistre?null:I.sinistre.produit.codeProduit)+"/"+I.produit)),t.xp6(3),t.Q6J("ngIf","CP355"!=I.statutSinistre||"CP415"!=I.statutSinistre||"CP524"!=I.statutSinistre||"CP525"!=I.statutSinistre||"CP526"!=I.statutSinistre),t.xp6(2),t.Q6J("dataSource",I.dataSource),t.xp6(22),t.Q6J("matHeaderRowDef",I.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",I.displayedColumns),t.xp6(1),t.Q6J("pageSize",10)("pageSizeOptions",t.DdM(9,tf)))},dependencies:[Se.O5,nn.d,_n.Hw,xn.VK,xn.OP,xn.p6,n.BZ,n.fO,n.as,n.w1,n.Dz,n.nj,n.ge,n.ev,n.XQ,n.Gk,Bi.gM,Mt.NW,Jn.lW,ee.rH,tn.y],styles:[".container[_ngcontent-%COMP%]{background-color:#fff;padding:40px 0;height:100%;overflow-y:auto;overflow-x:hidden}.gestion-table[_ngcontent-%COMP%]{width:100%}.gestion-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .gestion-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:16px}.gestion-table[_ngcontent-%COMP%]   .mat-header-cell[_ngcontent-%COMP%]{color:#00008f;font-weight:600}.gestion-table[_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]:nth-child(even), .gestion-table[_ngcontent-%COMP%]   .mat-header-row[_ngcontent-%COMP%]{background-color:#f7f7f9}.gestion-table[_ngcontent-%COMP%]   .mat-paginator[_ngcontent-%COMP%]{background-color:transparent;margin:20px auto auto;width:80%}.gestion-table[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{height:100%;font-size:26px;color:#00008f;width:-moz-fit-content;width:fit-content}.mat-menu-item[_ngcontent-%COMP%]{font-size:15px}.mat-menu-item[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:18px;height:-moz-fit-content;height:fit-content}.mat-menu-item[_ngcontent-%COMP%]:hover:not([disabled]), .mat-menu-item[_ngcontent-%COMP%]:hover:not([disabled])   .mat-icon[_ngcontent-%COMP%]{color:#00008f}.header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:0px 2rem}.header[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{height:-moz-fit-content;height:fit-content;font-size:29px;margin-right:1rem;width:-moz-fit-content;width:fit-content}.title-table[_ngcontent-%COMP%]{margin-bottom:0rem;font-weight:800!important;font-size:23px!important;color:#00008f!important}"]}),f})();function Ao(f,D){if(1&f&&(t.TgZ(0,"div",6)(1,"div",7)(2,"div",8),t._uU(3,"Lieu v\xe9hicule: "),t.qZA(),t.TgZ(4,"div",9),t._uU(5),t.qZA()()()),2&f){const m=t.oxw(2);t.xp6(5),t.Oqu(m.informationsMissionExpertise.lieuVehicule.description)}}function nf(f,D){if(1&f&&(t.TgZ(0,"div",6)(1,"div",7)(2,"div",8),t._uU(3,"Main D'oeuvre:"),t.qZA(),t.TgZ(4,"div",9),t._uU(5),t.qZA()()()),2&f){const m=t.oxw(2);t.xp6(5),t.hij("",m.informationsMissionExpertise.mntMaindOeuvre," ")}}function gc(f,D){if(1&f&&(t.TgZ(0,"div",5)(1,"div",6)(2,"div",7)(3,"div",8),t._uU(4,"Motif rejet:"),t.qZA(),t.TgZ(5,"div",9),t._uU(6),t.qZA()()()()),2&f){const m=t.oxw(2);t.xp6(6),t.hij("",m.informationsMissionExpertise.motifRejet," ")}}function of(f,D){if(1&f&&(t.TgZ(0,"div",4)(1,"div",5)(2,"div",6)(3,"div",7)(4,"div",8),t._uU(5,"Mode expertise: "),t.qZA(),t.TgZ(6,"div",9),t._uU(7),t.qZA()()(),t.TgZ(8,"div",6)(9,"div",7)(10,"div",8),t._uU(11,"Type expertise:"),t.qZA(),t.TgZ(12,"div",9),t._uU(13),t.qZA()()()(),t.TgZ(14,"div",5),t.YNc(15,Ao,6,1,"div",10),t.TgZ(16,"div",6)(17,"div",7)(18,"div",8),t._uU(19,"Commentaire: "),t.qZA(),t.TgZ(20,"div",9),t._uU(21),t.qZA()()()(),t.TgZ(22,"div",5)(23,"div",6)(24,"div",7)(25,"div",8),t._uU(26,"Expert:"),t.qZA(),t.TgZ(27,"div",9),t._uU(28),t.qZA()()(),t.YNc(29,nf,6,1,"div",10),t.qZA(),t.TgZ(30,"div",5)(31,"div",6)(32,"div",7)(33,"div",8),t._uU(34,"Email: "),t.qZA(),t.TgZ(35,"div",9),t._uU(36),t.qZA()()(),t.TgZ(37,"div",6)(38,"div",7)(39,"div",8),t._uU(40,"T\xe9l\xe9phone:"),t.qZA(),t.TgZ(41,"div",9),t._uU(42),t.qZA()()()(),t.YNc(43,gc,7,1,"div",11),t.qZA()),2&f){const m=t.oxw();t.xp6(7),t.Oqu(m.informationsMissionExpertise.modeExpertise.description),t.xp6(6),t.hij("",m.informationsMissionExpertise.typeExpertise.description," "),t.xp6(2),t.Q6J("ngIf",null!=m.informationsMissionExpertise.lieuVehicule),t.xp6(6),t.Oqu(m.informationsMissionExpertise.commentaire),t.xp6(7),t.hij("",m.informationsMissionExpertise.jsonExpert.raisonSocial," "),t.xp6(1),t.Q6J("ngIf",null!=m.informationsMissionExpertise.mntMaindOeuvre),t.xp6(7),t.Oqu(m.informationsMissionExpertise.jsonExpert.email),t.xp6(6),t.hij("",m.informationsMissionExpertise.jsonExpert.tel," "),t.xp6(1),t.Q6J("ngIf",null!=m.informationsMissionExpertise.motifRejet)}}let Uf=(()=>{class f{constructor(m,I,j,be){this.router=m,this.dialog=I,this.route=j,this.missionExpertiseService=be,this.informationsMissionExpertise=[],this.getInfoReady=!1,this.roleUser=JSON.parse(sessionStorage.getItem("roles")||""),this.sinistreRoles={"45A":["WEB_HELP","GESTIONNAIRE_SINISTRE","RESPONSABLE_SINISTRE","DIRECTEUR","CHEF_PROJET","ADMIN","ROLE_SUPER_ADMIN","ANALYSTE","GESTION_SINISTRE","GESTIONNAIRE_JUNIOR"],"45F":["WEB_HELP","GESTIONNAIRE_SINISTRE","RESPONSABLE_SINISTRE","DIRECTEUR","CHEF_PROJET","ADMIN","ROLE_SUPER_ADMIN","ANALYSTE","GESTION_SINISTRE","GESTIONNAIRE_JUNIOR"],"45L":["WEB_HELP","GESTIONNAIRE_SINISTRE","RESPONSABLE_SINISTRE","DIRECTEUR","CHEF_PROJET","ADMIN","ROLE_SUPER_ADMIN","ANALYSTE","GESTION_SINISTRE","GESTIONNAIRE_JUNIOR"],95:["WEB_HELP","GESTION_SINISTRE_MRH_MRP","RESPONSABLE_SINISTRE_MRH_MRP","ADMIN","ROLE_SUPER_ADMIN","ANALYSTE"],96:["WEB_HELP","GESTION_SINISTRE_MRH_MRP","RESPONSABLE_SINISTRE_MRH_MRP","ADMIN","ROLE_SUPER_ADMIN","ANALYSTE"]}}ngOnInit(){this.idMissionExpertise=this.route.snapshot.paramMap.get("idMissionExpertise"),this.codeProduit=this.route.snapshot.paramMap.get("codeProduit");let m=!1;this.roleUser.find(I=>{this.sinistreRoles[this.codeProduit+""].includes(I)&&(m=!0)}),m||this.router.navigate(["/dashboard"]),this.getMissionExpertiseById()}getMissionExpertiseById(){this.missionExpertiseService.getMissionsExpertisesById(this.idMissionExpertise).subscribe({next:m=>{this.informationsMissionExpertise=m,this.idMissionExpertise=m.numMission,this.getInfoReady=!0},error:m=>{console.log(m)}})}openConfirmation(m){this.dialog.open(Jp,{width:"40%",data:{type:m}}).afterClosed().subscribe(j=>{0!=j&&this.missionExpertiseService.missionOpertion({idMissionExpertise:this.idMissionExpertise,typeFonction:m,motifRejet:j.data.data}).subscribe({next:It=>{It.statut?xe().fire(It.messageStatut,"","success"):xe().fire(It.messageStatut,"","error")},error:It=>{console.log(It)}})})}}return f.\u0275fac=function(m){return new(m||f)(t.Y36(ee.F0),t.Y36(Ke.uw),t.Y36(ee.gz),t.Y36(zl))},f.\u0275cmp=t.Xpm({type:f,selectors:[["app-consultation-mission-expertise"]],decls:6,vars:2,consts:[[1,"container"],[1,"header-title"],["aria-hidden","false","matTooltip","Retour","matTooltipPosition","left","routerLink","../../",1,"material-symbols-outlined"],["class","container-rows",4,"ngIf"],[1,"container-rows"],[1,"row","infos"],[1,"col-md-6"],[1,"row"],[1,"col-md-6","key"],[1,"col-md-6","value"],["class","col-md-6",4,"ngIf"],["class","row infos",4,"ngIf"]],template:function(m,I){1&m&&(t.TgZ(0,"div",0)(1,"h2",1)(2,"mat-icon",2),t._uU(3,"arrow_circle_left"),t.qZA(),t._uU(4),t.qZA(),t.YNc(5,of,44,9,"div",3),t.qZA()),2&m&&(t.xp6(4),t.hij(" Consultation de la mission d'expertise N\xb0",I.idMissionExpertise,""),t.xp6(1),t.Q6J("ngIf",I.getInfoReady))},dependencies:[Se.O5,_n.Hw,Bi.gM,ee.rH],styles:[".container[_ngcontent-%COMP%]{background-color:#fff;padding:40px 0;height:100%;overflow-x:hidden;box-shadow:0 .5rem 1rem #00000026}.row.infos[_ngcontent-%COMP%]{font-size:16px;margin-bottom:2rem;font-weight:600}.value[_ngcontent-%COMP%]{color:#00008f;font-weight:600}.container-rows[_ngcontent-%COMP%]{padding:2rem;margin-top:4rem}h2.header-title[_ngcontent-%COMP%]{padding:0 24px;font-size:21px!important;color:#00008f;font-weight:600!important;letter-spacing:1px;display:flex;justify-content:space-between}.row-buttons[_ngcontent-%COMP%]{float:right;margin-top:2rem}.row-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:first-child{margin-right:1rem}"]}),f})(),nr=(()=>{class f{constructor(m,I){this.dialogRef=m,this.data=I}onClose(){this.dialogRef.close()}onClick(){this.dialogRef.close(this.data),console.log(this.data)}}return f.\u0275fac=function(m){return new(m||f)(t.Y36(Ke.so),t.Y36(Ke.WI))},f.\u0275cmp=t.Xpm({type:f,selectors:[["app-edit-reserve-dialog"]],decls:14,vars:1,consts:[[1,"heading"],["matInput","","name","reservation",3,"ngModel","ngModelChange"],["mat-button","",3,"click"]],template:function(m,I){1&m&&(t.TgZ(0,"h2",0),t._uU(1,"Modifier La reserve Actuelle ?"),t.qZA(),t._UZ(2,"mat-divider"),t.TgZ(3,"mat-dialog-content")(4,"form")(5,"mat-form-field")(6,"p"),t._uU(7,"La nouvelle reserve est :"),t.qZA(),t.TgZ(8,"input",1),t.NdJ("ngModelChange",function(be){return I.data.reservation=be}),t.qZA()()(),t.TgZ(9,"mat-dialog-actions")(10,"button",2),t.NdJ("click",function(){return I.onClose()}),t._uU(11,"Annuler"),t.qZA(),t.TgZ(12,"button",2),t.NdJ("click",function(){return I.onClick()}),t._uU(13,"Sauvegarder"),t.qZA()()()),2&m&&(t.xp6(8),t.Q6J("ngModel",I.data.reservation))},dependencies:[nn.d,Q._Y,Q.Fj,Q.JJ,Q.JL,mn.KE,Xn.Nt,Ke.xY,Ke.H8,Jn.lW,Q.On,Q.F]}),f})();function Ff(f,D){if(1&f){const m=t.EpF();t.ynx(0),t.TgZ(1,"tr")(2,"td"),t._uU(3),t.qZA(),t.TgZ(4,"td"),t._uU(5),t.qZA(),t.TgZ(6,"td"),t._uU(7),t.qZA(),t.TgZ(8,"td"),t._uU(9),t.qZA(),t.TgZ(10,"td")(11,"button",7)(12,"mat-icon"),t._uU(13,"more_vert"),t.qZA()(),t.TgZ(14,"mat-menu",8,9)(16,"button",10),t.NdJ("click",function(){const be=t.CHM(m).$implicit,It=t.oxw().$implicit,ri=t.oxw();return t.KtG(ri.goTo("create-op",be.codeReserve,It.codeGarantie))}),t.TgZ(17,"mat-icon"),t._uU(18,"add_circle"),t.qZA(),t.TgZ(19,"span"),t._uU(20,"OP sans PV "),t.qZA()(),t.TgZ(21,"button",10),t.NdJ("click",function(){const be=t.CHM(m).$implicit,It=t.oxw().$implicit,ri=t.oxw();return t.KtG(ri.calculateur(be.codeReserve,It.codeGarantie))}),t.TgZ(22,"mat-icon"),t._uU(23,"add_circle"),t.qZA(),t.TgZ(24,"span"),t._uU(25,"PVE"),t.qZA()(),t.TgZ(26,"button",10),t.NdJ("click",function(){const be=t.CHM(m).$implicit,It=t.oxw(2);return t.KtG(It.cancelReserve(be.idreserve))}),t.TgZ(27,"mat-icon"),t._uU(28,"cancel"),t.qZA(),t.TgZ(29,"span"),t._uU(30,"Annuler une r\xe9serve "),t.qZA()(),t.TgZ(31,"button",10),t.NdJ("click",function(){const be=t.CHM(m).$implicit,It=t.oxw().$implicit,ri=t.oxw();return t.KtG(ri.modifierReserve(be.idreserve,It.codeGarantie,be.codeReserve))}),t.TgZ(32,"mat-icon"),t._uU(33,"border_color"),t.qZA(),t.TgZ(34,"span"),t._uU(35,"Modifier Reserve Garantie "),t.qZA()()()()(),t.BQk()}if(2&f){const m=D.$implicit,I=t.MAs(15),j=t.oxw().$implicit,be=t.oxw();t.xp6(3),t.Oqu(m.nomReserve),t.xp6(2),t.Oqu(m.reserveActuelle),t.xp6(2),t.Oqu(m.op),t.xp6(2),t.Oqu(m.reserveTotal),t.xp6(2),t.Q6J("matMenuTriggerFor",I),t.xp6(5),t.Q6J("disabled","CP355"==be.statutSinistre||"CP415"==be.statutSinistre||"CP524"==be.statutSinistre||"CP525"==be.statutSinistre||"CP526"==be.statutSinistre),t.xp6(5),t.Q6J("disabled","CP355"==be.statutSinistre||"CP415"==be.statutSinistre||"CP524"==be.statutSinistre||"CP525"==be.statutSinistre||null==m.idreserve||"CP526"==be.statutSinistre),t.xp6(5),t.Q6J("disabled","CP355"==be.statutSinistre||"CP415"==be.statutSinistre||null==m.idreserve||"CP524"==be.statutSinistre||"CP526"==be.statutSinistre),t.xp6(5),t.Q6J("disabled","CP355"==be.statutSinistre||"CP415"==be.statutSinistre||"CP524"==be.statutSinistre||"CP525"==be.statutSinistre||"CP526"==be.statutSinistre||"G00"!=j.codeGarantie||be.privilage)}}function Lp(f,D){if(1&f&&(t.ynx(0),t.TgZ(1,"tr",6)(2,"td"),t._uU(3),t.qZA(),t._UZ(4,"td"),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.qZA(),t.TgZ(9,"td"),t._uU(10),t.qZA(),t._UZ(11,"td"),t.qZA(),t.YNc(12,Ff,36,9,"ng-container",5),t.BQk()),2&f){const m=D.$implicit;t.xp6(2),t.uIk("rowspan",m.reserves.length+1),t.xp6(1),t.Oqu(m.nomGarantie),t.xp6(3),t.Oqu(m.reserveActuelle),t.xp6(2),t.Oqu(m.op),t.xp6(2),t.Oqu(m.reserveTotal),t.xp6(2),t.Q6J("ngForOf",m.reserves)}}let f_=(()=>{class f{constructor(m,I,j,be){this.route=m,this.router=I,this.sinistresService=j,this.dialog=be,this.displayedColumns=["garantie","reserve","reserveActuelle","op","reserveTotale","action"],this.dataSource=[],this.spanningColumns=["garantie"],this.spans=[],this.privilage=!1,this.roleUser=JSON.parse(sessionStorage.getItem("roles")||""),this.sinistreRoles={"45A":["GESTIONNAIRE_SINISTRE","RESPONSABLE_SINISTRE","DIRECTEUR","CHEF_PROJET","ADMIN","ROLE_SUPER_ADMIN","ANALYSTE","GESTION_SINISTRE","GESTIONNAIRE_JUNIOR"],"45F":["GESTIONNAIRE_SINISTRE","RESPONSABLE_SINISTRE","DIRECTEUR","CHEF_PROJET","ADMIN","ROLE_SUPER_ADMIN","ANALYSTE","GESTION_SINISTRE","GESTIONNAIRE_JUNIOR"],"45L":["GESTIONNAIRE_SINISTRE","RESPONSABLE_SINISTRE","DIRECTEUR","CHEF_PROJET","ADMIN","ROLE_SUPER_ADMIN","ANALYSTE","GESTION_SINISTRE","GESTIONNAIRE_JUNIOR"],95:["GESTION_SINISTRE_MRH_MRP","RESPONSABLE_SINISTRE_MRH_MRP","ADMIN","ROLE_SUPER_ADMIN","ANALYSTE"],96:["GESTION_SINISTRE_MRH_MRP","RESPONSABLE_SINISTRE_MRH_MRP","ADMIN","ROLE_SUPER_ADMIN","ANALYSTE"]}}ngOnInit(){this.codeSinistre=this.route.snapshot.paramMap.get("codeSinistre"),this.idSinistre=this.route.snapshot.paramMap.get("codeSinistre"),this.statutSinistre=this.route.snapshot.paramMap.get("statutSinistre"),this.getReserves(),this.roles=sessionStorage.getItem("roles"),this.privilage=this.roles.includes("GESTIONNAIRE_JUNIOR");const m=this.route.snapshot.paramMap.get("codeProduit");let I=!1;this.roleUser.find(j=>{this.sinistreRoles[m+""].includes(j)&&(I=!0)}),I||this.router.navigate(["/dashboard"])}getReserves(){this.sinistresService.getReserveByCodeSinistre(this.codeSinistre).subscribe({next:m=>{this.dataSource=m},error:m=>{console.log(m)}})}goTo(m,I,j){this.sinistresService.getSinistreByCode(this.codeSinistre).subscribe({next:be=>{"create-op"===(this.dataSource=be,m)&&this.router.navigate(["calculateur/"+j+"/"+I+"/OP"],{relativeTo:this.route})},error:be=>{xe().fire("une erreur est survenue contacter l'administratuer","","error"),console.log(be)}})}cancelReserve(m){this.sinistresService.annulationReserve(m).subscribe({next:I=>{xe().fire(I,"","success"),this.getReserves()},error:I=>{xe().fire(I,"","error"),console.log(I)}})}modifierReserve(m,I,j){this.dialog.open(nr,{width:"300px",data:{reservation:this.dataSource.find(It=>It.codeGarantie==I)?.reserves?.find(It=>It.codeReserve==j)?.reserveActuelle??0}}).afterClosed().subscribe(It=>{It&&(this.reservation=It.reservation),this.sinistresService.getModifierReserveByCodeGarantieAndCodeReserve(this.codeSinistre,{idReserve:m,codeGarantie:I,codeReserve:j,valeur:this.reservation}).subscribe({next:Mi=>{this.dataSource=Mi,xe().fire({icon:"success",title:"Reserve modifier avec succes",timer:5e3}),window.location.reload()},error:Mi=>{xe().fire({showConfirmButton:!0}),console.log(Mi)}})})}goBack(){this.router.navigate(["../../"],{relativeTo:this.route})}calculateur(m,I){this.sinistresService.getSinistreByCode(this.codeSinistre).subscribe({next:j=>{this.dataSource=j,this.router.navigate(["calculateur/"+I+"/"+m+"/PV"],{relativeTo:this.route})},error:j=>{xe().fire("une erreur est survenue contacter l'administratuer","","error"),console.log(j)}})}}return f.\u0275fac=function(m){return new(m||f)(t.Y36(ee.gz),t.Y36(ee.F0),t.Y36(Zt.m),t.Y36(Ke.uw))},f.\u0275cmp=t.Xpm({type:f,selectors:[["app-reserve-paiement"]],decls:23,vars:1,consts:[[1,"container"],[1,"header-container"],[1,"header-title"],["aria-label","directions_car",1,"mat-icon","material-symbols-outlined",3,"click"],[1,"gestion-table"],[4,"ngFor","ngForOf"],[1,"garantie-line"],["mat-icon-button","","type","button","aria-label","menu",3,"matMenuTriggerFor"],["xPosition","after",1,"menu-formule"],["menu","matMenu"],["mat-menu-item","","type","button",3,"disabled","click"]],template:function(m,I){1&m&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h2",2)(3,"mat-icon",3),t.NdJ("click",function(){return I.goBack()}),t._uU(4,"arrow_circle_left"),t.qZA(),t.TgZ(5,"span"),t._uU(6,"Tableau des r\xe9serves de paiement "),t.qZA()()(),t._UZ(7,"app-entete-gestion"),t.TgZ(8,"table",4),t.ynx(9),t.TgZ(10,"th"),t._uU(11,"Garantie "),t.qZA(),t.TgZ(12,"th"),t._uU(13," R\xe9serve "),t.qZA(),t.TgZ(14,"th"),t._uU(15," R\xe9serve Actuelle "),t.qZA(),t.TgZ(16,"th"),t._uU(17," OP "),t.qZA(),t.TgZ(18,"th"),t._uU(19," R\xe9serve totale "),t.qZA(),t.TgZ(20,"th"),t._uU(21," Action"),t.qZA(),t.BQk(),t.YNc(22,Lp,13,6,"ng-container",5),t.qZA()()),2&m&&(t.xp6(22),t.Q6J("ngForOf",I.dataSource))},dependencies:[Se.sg,_n.Hw,xn.VK,xn.OP,xn.p6,Jn.lW,rs],styles:[".container[_ngcontent-%COMP%]{background-color:#fff;padding:40px 0;height:100%;overflow-y:auto;overflow-x:hidden}.gestion-table[_ngcontent-%COMP%]{width:100%}.gestion-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .gestion-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:16px}.gestion-table[_ngcontent-%COMP%]   .mat-header-cell[_ngcontent-%COMP%]{color:#00008f;font-weight:600}.gestion-table[_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]:nth-child(even), .gestion-table[_ngcontent-%COMP%]   .mat-header-row[_ngcontent-%COMP%]{background-color:#f7f7f9}.gestion-table[_ngcontent-%COMP%]   .mat-paginator[_ngcontent-%COMP%]{background-color:transparent;margin:20px auto auto;width:80%}.gestion-table[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{height:100%;font-size:26px;color:#00008f;width:-moz-fit-content;width:fit-content}.mat-menu-item[_ngcontent-%COMP%]{font-size:15px}.mat-menu-item[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:18px;height:-moz-fit-content;height:fit-content}.mat-menu-item[_ngcontent-%COMP%]:hover:not([disabled]), .mat-menu-item[_ngcontent-%COMP%]:hover:not([disabled])   .mat-icon[_ngcontent-%COMP%]{color:#00008f}.header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:0px 2rem}.header[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{height:-moz-fit-content;height:fit-content;font-size:29px;margin-right:1rem;width:-moz-fit-content;width:fit-content}.title-table[_ngcontent-%COMP%]{margin-bottom:0rem;font-weight:800!important;font-size:23px!important;color:#00008f!important}.container[_ngcontent-%COMP%]{background-color:#fff;padding:40px 43px;height:100%;overflow-x:hidden;box-shadow:0 .5rem 1rem #00000026}h2.header-title[_ngcontent-%COMP%]{padding:0 24px;font-size:21px!important;color:#00008f;font-weight:600!important;letter-spacing:1px;display:flex;justify-content:space-between}.header-title[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{cursor:pointer}.mat-column-garantie[_ngcontent-%COMP%]{border-right-color:#0000001f;border-right-width:1px;border-right-style:solid}.mat-column-reserve[_ngcontent-%COMP%]{padding-left:1rem}.gestion-table[_ngcontent-%COMP%]{padding:10px}.gestion-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .gestion-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:5px}.garantie-line[_ngcontent-%COMP%], .gestion-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#f7f7f9}thead[_ngcontent-%COMP%], tbody[_ngcontent-%COMP%], tfoot[_ngcontent-%COMP%], tr[_ngcontent-%COMP%], td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{border-color:inherit;border-style:solid;border-width:0;border:1px solid #ebebeb}"]}),f})();class rf{}class af{}class v{}const H=["stepperH"],C=["stepperCompany"],le=["stepperRestitution"];function re(f,D){1&f&&t._uU(0,"tableau des r\xe9serves de Recours ")}function Fe(f,D){if(1&f){const m=t.EpF();t.TgZ(0,"mat-form-field",18)(1,"mat-label"),t._uU(2,"Type restitution"),t.qZA(),t.TgZ(3,"mat-select",19),t.NdJ("ngModelChange",function(j){t.CHM(m);const be=t.oxw();return t.KtG(be.typeSelected=j)}),t.TgZ(4,"mat-option",20),t._uU(5,"Restitution suite \xe0 un \xe9tat fraude"),t.qZA(),t.TgZ(6,"mat-option",21),t._uU(7,"Restitution suite \xe0 un paiement erron\xe9"),t.qZA()()()}if(2&f){const m=t.oxw();t.xp6(3),t.Q6J("ngModel",m.typeSelected),t.xp6(1),t.Q6J("disabled","CP438"!=m.codeFraude)}}function ti(f,D){if(1&f){const m=t.EpF();t.TgZ(0,"button",22),t.NdJ("click",function(){t.CHM(m);const j=t.oxw();return t.KtG(j.submitRecouvrement())}),t._uU(1,"Suivant"),t.qZA()}if(2&f){const m=t.oxw();t.Q6J("disabled","CP524"===m.statutSinistre)}}function qo(f,D){1&f&&t._UZ(0,"mat-progress-bar",23)}function Vs(f,D){if(1&f){const m=t.EpF();t.ynx(0),t.TgZ(1,"tr")(2,"td"),t._uU(3),t.qZA(),t.TgZ(4,"td"),t._uU(5),t.qZA(),t.TgZ(6,"td"),t._uU(7),t.qZA(),t.TgZ(8,"td"),t._uU(9),t.qZA(),t.TgZ(10,"td")(11,"button",27)(12,"mat-icon"),t._uU(13,"more_vert"),t.qZA()(),t.TgZ(14,"mat-menu",28,29)(16,"button",30),t.NdJ("click",function(){const be=t.CHM(m).$implicit,It=t.oxw().$implicit,ri=t.oxw(2);return t.KtG(ri.selectReserve(be.codeReserve,It.codeGarantie,ri.typeRecouvrementParent))}),t.TgZ(17,"mat-icon"),t._uU(18,"done_outline"),t.qZA(),t.TgZ(19,"span"),t._uU(20,"S\xe9lectionner la r\xe9serve "),t.qZA()(),t.TgZ(21,"button",30),t.NdJ("click",function(){const be=t.CHM(m).$implicit,It=t.oxw(3);return t.KtG(It.cancelReserve(be.idreserve))}),t.TgZ(22,"mat-icon"),t._uU(23,"cancel"),t.qZA(),t.TgZ(24,"span"),t._uU(25,"Annuler une r\xe9serve "),t.qZA()()()()(),t.BQk()}if(2&f){const m=D.$implicit,I=t.MAs(15),j=t.oxw(3);t.xp6(3),t.Oqu(m.nomReserve),t.xp6(2),t.Oqu(m.reserveActuelle),t.xp6(2),t.Oqu(m.op),t.xp6(2),t.Oqu(m.reserveTotal),t.xp6(2),t.Q6J("matMenuTriggerFor",I),t.xp6(5),t.Q6J("disabled","CP355"==j.statutSinistre||"CP524"==j.statutSinistre||"CP525"==j.statutSinistre||"CP526"==j.statutSinistre),t.xp6(5),t.Q6J("disabled","CP355"==j.statutSinistre||"CP524"==j.statutSinistre||"CP525"==j.statutSinistre||"CP526"==j.statutSinistre||null==m.idreserve)}}function Ya(f,D){if(1&f&&(t.ynx(0),t.TgZ(1,"tr",26)(2,"td"),t._uU(3),t.qZA(),t._UZ(4,"td"),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.qZA(),t.TgZ(9,"td"),t._uU(10),t.qZA(),t._UZ(11,"td"),t.qZA(),t.YNc(12,Vs,26,7,"ng-container",25),t.BQk()),2&f){const m=D.$implicit;t.xp6(2),t.uIk("rowspan",m.reserves.length+1),t.xp6(1),t.Oqu(m.nomGarantie),t.xp6(3),t.Oqu(m.reserveActuelle),t.xp6(2),t.Oqu(m.op),t.xp6(2),t.Oqu(m.reserveTotal),t.xp6(2),t.Q6J("ngForOf",m.reserves)}}function Fc(f,D){if(1&f&&(t.TgZ(0,"mat-expansion-panel",8)(1,"mat-expansion-panel-header")(2,"mat-panel-title"),t._uU(3," tableau des r\xe9serves de Recours "),t.qZA()(),t.TgZ(4,"table",24),t.ynx(5),t.TgZ(6,"th"),t._uU(7,"Garantie "),t.qZA(),t.TgZ(8,"th"),t._uU(9," R\xe9serve "),t.qZA(),t.TgZ(10,"th"),t._uU(11," R\xe9serve Actuelle "),t.qZA(),t.TgZ(12,"th"),t._uU(13," OR "),t.qZA(),t.TgZ(14,"th"),t._uU(15," R\xe9serve totale "),t.qZA(),t.TgZ(16,"th"),t._uU(17," Action"),t.qZA(),t.BQk(),t.YNc(18,Ya,13,6,"ng-container",25),t.qZA()()),2&f){const m=t.oxw();t.Q6J("expanded",!0),t.xp6(18),t.Q6J("ngForOf",m.dataSource)}}function g_(f,D){1&f&&t._uU(0,"Recours company")}function Qf(f,D){1&f&&t._uU(0,"Montant prevu")}function js(f,D){if(1&f&&(t.ynx(0),t.TgZ(1,"mat-option",46),t._uU(2),t.qZA(),t.BQk()),2&f){const m=D.$implicit;t.xp6(1),t.Q6J("value",m.idSinistrePersonne),t.xp6(1),t.AsE("",m.nom," ",m.prenom,"")}}function em(f,D){1&f&&(t.TgZ(0,"div"),t._uU(1," ce champs est obligatoire"),t.qZA())}function Hs(f,D){if(1&f&&(t.TgZ(0,"mat-error",47),t.YNc(1,em,2,0,"div",17),t.qZA()),2&f){const m=t.oxw(3);t.xp6(1),t.Q6J("ngIf",m.formMontantPrevu.controls.adversaireList.errors.required)}}function hc(f,D){1&f&&(t.TgZ(0,"div"),t._uU(1," ce champs est obligatoire"),t.qZA())}function Ug(f,D){if(1&f&&(t.TgZ(0,"mat-error",47),t.YNc(1,hc,2,0,"div",17),t.qZA()),2&f){const m=t.oxw(3);t.xp6(1),t.Q6J("ngIf",m.formMontantPrevu.controls.companyAdverse.errors.required)}}function Fg(f,D){1&f&&(t.TgZ(0,"div"),t._uU(1," ce champs est obligatoire"),t.qZA())}function Qg(f,D){1&f&&(t.TgZ(0,"div"),t._uU(1," le montant n'est pas conforme."),t.qZA())}function ug(f,D){if(1&f&&(t.TgZ(0,"mat-error",47),t.YNc(1,Fg,2,0,"div",17),t.YNc(2,Qg,2,0,"div",17),t.qZA()),2&f){const m=t.oxw(3);t.xp6(1),t.Q6J("ngIf",m.formMontantPrevu.controls.montantPrevu.errors.required),t.xp6(1),t.Q6J("ngIf",m.formMontantPrevu.controls.montantPrevu.errors.invalidDecimal)}}function Jg(f,D){if(1&f){const m=t.EpF();t.TgZ(0,"form",38),t.NdJ("ngSubmit",function(){t.CHM(m);const j=t.oxw(2);return t.KtG(j.submitMontantPrevu())}),t.TgZ(1,"mat-form-field",39)(2,"mat-label"),t._uU(3," Adversaires "),t.qZA(),t.TgZ(4,"mat-select",40),t.NdJ("selectionChange",function(j){t.CHM(m);const be=t.oxw(2);return t.KtG(be.selectAdversaire(j.value))}),t.YNc(5,js,3,3,"ng-container",25),t.qZA(),t.YNc(6,Hs,2,1,"mat-error",41),t.qZA(),t.TgZ(7,"mat-form-field",39)(8,"mat-label"),t._uU(9,"Assurance adverse "),t.qZA(),t._UZ(10,"input",42),t.YNc(11,Ug,2,1,"mat-error",41),t.qZA(),t.TgZ(12,"mat-form-field",39)(13,"mat-label"),t._uU(14,"Montant pr\xe9vu "),t.qZA(),t._UZ(15,"input",43),t.YNc(16,ug,3,2,"mat-error",41),t.qZA(),t.TgZ(17,"div",44)(18,"button",45),t._uU(19,"Enregistrer"),t.qZA()()()}if(2&f){const m=t.oxw(2);t.Q6J("formGroup",m.formMontantPrevu),t.xp6(5),t.Q6J("ngForOf",m.adversaireTab),t.xp6(1),t.Q6J("ngIf",m.formMontantPrevu.controls.adversaireList.errors),t.xp6(5),t.Q6J("ngIf",m.formMontantPrevu.controls.companyAdverse.errors),t.xp6(5),t.Q6J("ngIf",m.formMontantPrevu.controls.montantPrevu.errors),t.xp6(2),t.Q6J("disabled",m.blocOneValid)}}function Lg(f,D){1&f&&t._uU(0,"OR")}function Yg(f,D){1&f&&(t.TgZ(0,"div"),t._uU(1," ce champs est obligatoire"),t.qZA())}function mg(f,D){1&f&&(t.TgZ(0,"div"),t._uU(1," Le montant Re\xe7u ne peut pas etre sup\xe9rieur au montant pr\xe9vu."),t.qZA())}function Gg(f,D){1&f&&(t.TgZ(0,"div"),t._uU(1," le montant n'est pas conforme."),t.qZA())}function Bg(f,D){if(1&f&&(t.TgZ(0,"mat-error",47),t.YNc(1,Yg,2,0,"div",17),t.YNc(2,mg,2,0,"div",17),t.YNc(3,Gg,2,0,"div",17),t.qZA()),2&f){const m=t.oxw(3);t.xp6(1),t.Q6J("ngIf",m.formOR.controls.montantRecu.errors.required),t.xp6(1),t.Q6J("ngIf",m.formOR.controls.montantRecu.hasError("max")),t.xp6(1),t.Q6J("ngIf",m.formOR.controls.montantRecu.errors.invalidDecimal)}}function zg(f,D){1&f&&(t.TgZ(0,"div"),t._uU(1," ce champs est obligatoire"),t.qZA())}function Jf(f,D){if(1&f&&(t.TgZ(0,"mat-error",47),t.YNc(1,zg,2,0,"div",17),t.qZA()),2&f){const m=t.oxw(3);t.xp6(1),t.Q6J("ngIf",m.formOR.controls.partAssureur.errors.required)}}function Xm(f,D){if(1&f&&(t.ynx(0),t.TgZ(1,"mat-option",46),t._uU(2),t.qZA(),t.BQk()),2&f){const m=D.$implicit;t.xp6(1),t.Q6J("value",m),t.xp6(1),t.Oqu(m.description)}}function Lf(f,D){1&f&&(t.TgZ(0,"div"),t._uU(1," ce champs est obligatoire"),t.qZA())}function Vg(f,D){if(1&f&&(t.TgZ(0,"mat-error",47),t.YNc(1,Lf,2,0,"div",17),t.qZA()),2&f){const m=t.oxw(3);t.xp6(1),t.Q6J("ngIf",m.formOR.controls.modePaiement.errors.required)}}function jg(f,D){1&f&&(t.TgZ(0,"div"),t._uU(1," ce champs est obligatoire"),t.qZA())}function Hg(f,D){if(1&f&&(t.TgZ(0,"mat-error",47),t.YNc(1,jg,2,0,"div",17),t.qZA()),2&f){const m=t.oxw(3);t.xp6(1),t.Q6J("ngIf",m.formOR.controls.referenceDeRecouvrement.errors.required)}}function h_(f,D){if(1&f){const m=t.EpF();t.TgZ(0,"form",38,48),t.NdJ("ngSubmit",function(){t.CHM(m);const j=t.MAs(1),be=t.oxw(2);return t.KtG(be.submitFormOr(j))}),t.TgZ(2,"mat-form-field",39)(3,"mat-label"),t._uU(4,"Montant Re\xe7u"),t.qZA(),t._UZ(5,"input",49),t.YNc(6,Bg,4,3,"mat-error",41),t.qZA(),t.TgZ(7,"mat-form-field",39)(8,"mat-label"),t._uU(9,"Part assureur"),t.qZA(),t._UZ(10,"input",50),t.YNc(11,Jf,2,1,"mat-error",41),t.qZA(),t.TgZ(12,"mat-form-field",39)(13,"mat-label"),t._uU(14,"Mode de recouvrement"),t.qZA(),t.TgZ(15,"mat-select",51),t.NdJ("selectionChange",function(j){t.CHM(m);const be=t.oxw(2);return t.KtG(be.selectModeRecouv(j.value))}),t.YNc(16,Xm,3,2,"ng-container",25),t.qZA(),t.YNc(17,Vg,2,1,"mat-error",41),t.qZA(),t.TgZ(18,"mat-form-field",39)(19,"mat-label"),t._uU(20,"Reference de recouvrement "),t.qZA(),t._UZ(21,"input",52),t.YNc(22,Hg,2,1,"mat-error",41),t.qZA(),t.TgZ(23,"div",44)(24,"button",53),t._uU(25,"Ajouter"),t.qZA()()()}if(2&f){const m=t.oxw(2);t.Q6J("formGroup",m.formOR),t.xp6(6),t.Q6J("ngIf",m.formOR.controls.montantRecu.errors),t.xp6(5),t.Q6J("ngIf",m.formOR.controls.partAssureur.errors),t.xp6(5),t.Q6J("ngForOf",m.modeRecouvrementNew),t.xp6(1),t.Q6J("ngIf",m.formOR.controls.modePaiement.errors),t.xp6(5),t.Q6J("ngIf",m.formOR.controls.referenceDeRecouvrement.errors)}}function dg(f,D){1&f&&(t.TgZ(0,"th",67),t._uU(1," N\xb0"),t.qZA())}function $g(f,D){if(1&f&&(t.TgZ(0,"td",68),t._uU(1),t.qZA()),2&f){const m=D.$implicit;t.xp6(1),t.hij(" ",m.idReglement," ")}}function Kg(f,D){1&f&&(t.TgZ(0,"th",67),t._uU(1," Montant Re\xe7u"),t.qZA())}function Wg(f,D){if(1&f&&(t.TgZ(0,"td",68),t._uU(1),t.qZA()),2&f){const m=D.$implicit;t.xp6(1),t.hij(" ",m.montantRecu," ")}}function Xg(f,D){1&f&&(t.TgZ(0,"th",67),t._uU(1," Part assureur "),t.qZA())}function _g(f,D){if(1&f&&(t.TgZ(0,"td",68),t._uU(1),t.qZA()),2&f){const m=D.$implicit;t.xp6(1),t.hij(" ",m.partAssureur,"")}}function pg(f,D){1&f&&(t.TgZ(0,"th",67),t._uU(1," Part assur\xe9 "),t.qZA())}function e1(f,D){if(1&f&&(t.TgZ(0,"td",68),t._uU(1),t.qZA()),2&f){const m=D.$implicit;t.xp6(1),t.hij(" ",m.partAssure,"")}}function t1(f,D){1&f&&(t.TgZ(0,"th",67),t._uU(1," Mode de recouvrement "),t.qZA())}function fg(f,D){if(1&f&&(t.TgZ(0,"td",68),t._uU(1),t.qZA()),2&f){const m=D.$implicit;t.xp6(1),t.hij(" ",m.modePaiement,"")}}function gg(f,D){1&f&&(t.TgZ(0,"th",67),t._uU(1," Mode recouvrement "),t.qZA())}function hg(f,D){if(1&f&&(t.TgZ(0,"td",68),t._uU(1),t.qZA()),2&f){const m=D.$implicit;t.xp6(1),t.hij(" ",m.modeRecouvrement.description,"")}}function n1(f,D){1&f&&(t.TgZ(0,"th",67),t._uU(1," Reference de recouvrement "),t.qZA())}function i1(f,D){if(1&f&&(t.TgZ(0,"td",68),t._uU(1),t.qZA()),2&f){const m=D.$implicit;t.xp6(1),t.hij(" ",m.referenceRecouvrement,"")}}function Cg(f,D){1&f&&(t.TgZ(0,"th",67),t._uU(1," Action "),t.qZA())}function o1(f,D){if(1&f){const m=t.EpF();t.TgZ(0,"td",68)(1,"button",69)(2,"mat-icon"),t._uU(3,"more_vert"),t.qZA()(),t.TgZ(4,"mat-menu",70,29)(6,"button",71),t.NdJ("click",function(){const be=t.CHM(m).$implicit,It=t.oxw(3);return t.KtG(It.addROR(be.idReglement,be.partAssure))}),t.TgZ(7,"mat-icon"),t._uU(8,"add"),t.qZA(),t.TgZ(9,"span"),t._uU(10,"Ajouter OP"),t.qZA()()()()}if(2&f){const m=t.MAs(5);t.xp6(1),t.Q6J("matMenuTriggerFor",m)}}function r1(f,D){1&f&&t._UZ(0,"tr",72)}function a1(f,D){1&f&&t._UZ(0,"tr",73)}function Yp(f,D){if(1&f&&(t.TgZ(0,"table",54),t.ynx(1,55),t.YNc(2,dg,2,0,"th",56),t.YNc(3,$g,2,1,"td",57),t.BQk(),t.ynx(4,58),t.YNc(5,Kg,2,0,"th",56),t.YNc(6,Wg,2,1,"td",57),t.BQk(),t.ynx(7,59),t.YNc(8,Xg,2,0,"th",56),t.YNc(9,_g,2,1,"td",57),t.BQk(),t.ynx(10,60),t.YNc(11,pg,2,0,"th",56),t.YNc(12,e1,2,1,"td",57),t.BQk(),t.ynx(13,61),t.YNc(14,t1,2,0,"th",56),t.YNc(15,fg,2,1,"td",57),t.BQk(),t.ynx(16,62),t.YNc(17,gg,2,0,"th",56),t.YNc(18,hg,2,1,"td",57),t.BQk(),t.ynx(19,63),t.YNc(20,n1,2,0,"th",56),t.YNc(21,i1,2,1,"td",57),t.BQk(),t.ynx(22,64),t.YNc(23,Cg,2,0,"th",56),t.YNc(24,o1,11,1,"td",57),t.BQk(),t.YNc(25,r1,1,0,"tr",65),t.YNc(26,a1,1,0,"tr",66),t.qZA()),2&f){const m=t.oxw(2);t.Q6J("dataSource",m.dataSourceOR),t.xp6(25),t.Q6J("matHeaderRowDef",m.displayedColumnsOR),t.xp6(1),t.Q6J("matRowDefColumns",m.displayedColumnsOR)}}const qd=function(){return[5,10]};function s1(f,D){1&f&&t._UZ(0,"mat-paginator",74),2&f&&t.Q6J("pageSize",10)("pageSizeOptions",t.DdM(2,qd))}function l1(f,D){if(1&f&&t._uU(0),2&f){const m=t.oxw(2);t.hij("Generation des OPs pour l'OR N\xb0",m.idReglement,"")}}function c1(f,D){if(1&f&&(t.ynx(0),t.TgZ(1,"mat-option",46),t._uU(2),t.qZA(),t.BQk()),2&f){const m=D.$implicit;t.xp6(1),t.Q6J("value",m),t.xp6(1),t.Oqu(m.description)}}function xg(f,D){1&f&&(t.TgZ(0,"div"),t._uU(1," ce champs est obligatoire"),t.qZA())}function vg(f,D){if(1&f&&(t.TgZ(0,"mat-error",47),t.YNc(1,xg,2,0,"div",17),t.qZA()),2&f){const m=t.oxw(3);t.xp6(1),t.Q6J("ngIf",m.formROR.controls.typeBenef.errors.required)}}function jl(f,D){1&f&&(t.TgZ(0,"div"),t._uU(1," ce champs est obligatoire"),t.qZA())}function u1(f,D){if(1&f&&(t.TgZ(0,"mat-error",47),t.YNc(1,jl,2,0,"div",17),t.qZA()),2&f){const m=t.oxw(4);t.xp6(1),t.Q6J("ngIf",m.formROR.controls.nomBenef.errors.required)}}function m1(f,D){if(1&f&&(t.TgZ(0,"mat-form-field",39)(1,"mat-label"),t._uU(2,"Nom b\xe9n\xe9ficiaire "),t.qZA(),t._UZ(3,"input",79),t.YNc(4,u1,2,1,"mat-error",41),t.qZA()),2&f){const m=t.oxw(3);t.xp6(4),t.Q6J("ngIf",m.formROR.controls.nomBenef.errors)}}function d1(f,D){1&f&&(t.TgZ(0,"div"),t._uU(1," ce champs est obligatoire"),t.qZA())}function _1(f,D){if(1&f&&(t.TgZ(0,"mat-error",47),t.YNc(1,d1,2,0,"div",17),t.qZA()),2&f){const m=t.oxw(4);t.xp6(1),t.Q6J("ngIf",m.formROR.controls.prenomBenef.errors.required)}}function Ag(f,D){if(1&f&&(t.TgZ(0,"mat-form-field",39)(1,"mat-label"),t._uU(2,"Pr\xe9nom b\xe9n\xe9ficiaire "),t.qZA(),t._UZ(3,"input",80),t.YNc(4,_1,2,1,"mat-error",41),t.qZA()),2&f){const m=t.oxw(3);t.xp6(4),t.Q6J("ngIf",m.formROR.controls.prenomBenef.errors)}}function Tg(f,D){1&f&&(t.TgZ(0,"div"),t._uU(1," ce champs est obligatoire"),t.qZA())}function C_(f,D){if(1&f&&(t.TgZ(0,"mat-error",47),t.YNc(1,Tg,2,0,"div",17),t.qZA()),2&f){const m=t.oxw(4);t.xp6(1),t.Q6J("ngIf",m.formROR.controls.raisonSociale.errors.required)}}function bg(f,D){if(1&f&&(t.TgZ(0,"mat-form-field",39)(1,"mat-label"),t._uU(2,"Raison sociale "),t.qZA(),t._UZ(3,"input",81),t.YNc(4,C_,2,1,"mat-error",41),t.qZA()),2&f){const m=t.oxw(3);t.xp6(4),t.Q6J("ngIf",m.formROR.controls.raisonSociale.errors)}}function Gp(f,D){if(1&f&&(t.ynx(0),t.TgZ(1,"mat-option",46),t._uU(2),t.qZA(),t.BQk()),2&f){const m=D.$implicit;t.xp6(1),t.Q6J("value",m),t.xp6(1),t.Oqu(m.description)}}function p1(f,D){1&f&&(t.TgZ(0,"div"),t._uU(1," ce champs est obligatoire"),t.qZA())}function sf(f,D){if(1&f&&(t.TgZ(0,"mat-error",47),t.YNc(1,p1,2,0,"div",17),t.qZA()),2&f){const m=t.oxw(4);t.xp6(1),t.Q6J("ngIf",m.formROR.controls.pieceJustificatif.errors.required)}}function f1(f,D){if(1&f&&(t.TgZ(0,"mat-form-field",39)(1,"mat-label"),t._uU(2,"Piece Justificatif"),t.qZA(),t.TgZ(3,"mat-select",82),t.YNc(4,Gp,3,2,"ng-container",25),t.qZA(),t.YNc(5,sf,2,1,"mat-error",41),t.qZA()),2&f){const m=t.oxw(3);t.xp6(4),t.Q6J("ngForOf",m.typePieceJustif),t.xp6(1),t.Q6J("ngIf",m.formROR.controls.pieceJustificatif.errors)}}function Yf(f,D){1&f&&(t.TgZ(0,"div"),t._uU(1," ce champs est obligatoire"),t.qZA())}function g1(f,D){if(1&f&&(t.TgZ(0,"mat-error",47),t.YNc(1,Yf,2,0,"div",17),t.qZA()),2&f){const m=t.oxw(3);t.xp6(1),t.Q6J("ngIf",m.formROR.controls.montant.errors.required)}}function Pg(f,D){if(1&f&&(t.ynx(0),t.TgZ(1,"mat-option",46),t._uU(2),t.qZA(),t.BQk()),2&f){const m=D.$implicit;t.xp6(1),t.Q6J("value",m),t.xp6(1),t.Oqu(m.description)}}function h1(f,D){1&f&&(t.TgZ(0,"div"),t._uU(1," ce champs est obligatoire"),t.qZA())}function oc(f,D){if(1&f&&(t.TgZ(0,"mat-error",47),t.YNc(1,h1,2,0,"div",17),t.qZA()),2&f){const m=t.oxw(3);t.xp6(1),t.Q6J("ngIf",m.formROR.controls.modeDePaiementBenf.errors.required)}}function Zg(f,D){1&f&&(t.TgZ(0,"div"),t._uU(1," ce champs est obligatoire"),t.qZA())}function Gf(f,D){1&f&&(t.TgZ(0,"div"),t._uU(1," Vous devez saisir exactement 20 caract\xe8res "),t.qZA())}function W1(f,D){if(1&f&&(t.TgZ(0,"mat-error",47),t.YNc(1,Zg,2,0,"div",17),t.YNc(2,Gf,2,0,"div",17),t.qZA()),2&f){const m=t.oxw(4);t.xp6(1),t.Q6J("ngIf",m.formROR.controls.rib.errors.required),t.xp6(1),t.Q6J("ngIf",m.formROR.get("rib").hasError("minlength")||m.formROR.get("rib").hasError("maxlength"))}}function Bp(f,D){if(1&f&&(t.TgZ(0,"mat-form-field",39)(1,"mat-label"),t._uU(2,"RIB "),t.qZA(),t._UZ(3,"input",83),t.YNc(4,W1,3,2,"mat-error",41),t.qZA()),2&f){const m=t.oxw(3);t.xp6(4),t.Q6J("ngIf",m.formROR.controls.rib.errors)}}function x_(f,D){if(1&f){const m=t.EpF();t.TgZ(0,"form",38,48),t.NdJ("ngSubmit",function(){t.CHM(m);const j=t.MAs(1),be=t.oxw(2);return t.KtG(be.submitFormROR(j))}),t.TgZ(2,"mat-form-field",39)(3,"mat-label"),t._uU(4,"Type b\xe9n\xe9ficiaire"),t.qZA(),t.TgZ(5,"mat-select",75),t.NdJ("selectionChange",function(j){t.CHM(m);const be=t.oxw(2);return t.KtG(be.selectTypeBenef(j.value))}),t.YNc(6,c1,3,2,"ng-container",25),t.qZA(),t.YNc(7,vg,2,1,"mat-error",41),t.qZA(),t.YNc(8,m1,5,1,"mat-form-field",76),t.YNc(9,Ag,5,1,"mat-form-field",76),t.YNc(10,bg,5,1,"mat-form-field",76),t.YNc(11,f1,6,2,"mat-form-field",76),t.TgZ(12,"mat-form-field",39)(13,"mat-label"),t._uU(14,"Montant"),t.qZA(),t._UZ(15,"input",77),t.YNc(16,g1,2,1,"mat-error",41),t.qZA(),t.TgZ(17,"mat-form-field",39)(18,"mat-label"),t._uU(19," Mode de paiement b\xe9n\xe9ficiaires "),t.qZA(),t.TgZ(20,"mat-select",78),t.NdJ("selectionChange",function(j){t.CHM(m);const be=t.oxw(2);return t.KtG(be.selectModePaiement(j.value))}),t.YNc(21,Pg,3,2,"ng-container",25),t.qZA(),t.YNc(22,oc,2,1,"mat-error",41),t.qZA(),t.YNc(23,Bp,5,1,"mat-form-field",76),t.TgZ(24,"div",44)(25,"button",53),t._uU(26,"Ajouter"),t.qZA()()()}if(2&f){const m=t.oxw(2);t.Q6J("formGroup",m.formROR),t.xp6(6),t.Q6J("ngForOf",m.typeBenefs),t.xp6(1),t.Q6J("ngIf",m.formROR.controls.typeBenef.errors),t.xp6(1),t.Q6J("ngIf","PH"==m.typePersonne||"CP522"!=m.typeBenef),t.xp6(1),t.Q6J("ngIf","PH"==m.typePersonne||"CP522"!=m.typeBenef),t.xp6(1),t.Q6J("ngIf","PM"==m.typePersonne&&"CP522"==m.typeBenef),t.xp6(1),t.Q6J("ngIf","CP523"==m.typeBenef),t.xp6(5),t.Q6J("ngIf",m.formROR.controls.montant.errors),t.xp6(5),t.Q6J("ngForOf",m.modeRecouvrement),t.xp6(1),t.Q6J("ngIf",m.formROR.controls.modeDePaiementBenf.errors),t.xp6(1),t.Q6J("ngIf",m.isVirementSelected())}}function Sd(f,D){1&f&&(t.TgZ(0,"th",67),t._uU(1," Type b\xe9n\xe9ficiaire "),t.qZA())}function Bf(f,D){if(1&f&&(t.TgZ(0,"td",68),t._uU(1),t.qZA()),2&f){const m=D.$implicit;t.xp6(1),t.hij(" ",m.typeBeneficiaire.description," ")}}function v_(f,D){1&f&&(t.TgZ(0,"th",67),t._uU(1," Nom "),t.qZA())}function yd(f,D){if(1&f&&(t.TgZ(0,"td",68),t._uU(1),t.qZA()),2&f){const m=D.$implicit;t.xp6(1),t.hij(" ",m.nom,"")}}function ed(f,D){1&f&&(t.TgZ(0,"th",67),t._uU(1," Pr\xe9nom "),t.qZA())}function qg(f,D){if(1&f&&(t.TgZ(0,"td",68),t._uU(1),t.qZA()),2&f){const m=D.$implicit;t.xp6(1),t.hij(" ",m.prenom,"")}}function C1(f,D){1&f&&(t.TgZ(0,"th",67),t._uU(1," Montant "),t.qZA())}function Sg(f,D){if(1&f&&(t.TgZ(0,"td",68),t._uU(1),t.qZA()),2&f){const m=D.$implicit;t.xp6(1),t.hij(" ",m.montant,"")}}function x1(f,D){1&f&&(t.TgZ(0,"th",67),t._uU(1," Mode de paiement b\xe9n\xe9ficiaires "),t.qZA())}function v1(f,D){if(1&f&&(t.TgZ(0,"td",68),t._uU(1),t.qZA()),2&f){const m=D.$implicit;t.xp6(1),t.hij(" ",m.modePaiement.description,"")}}function A1(f,D){1&f&&(t.TgZ(0,"th",67),t._uU(1," Reference "),t.qZA())}function zf(f,D){if(1&f&&(t.TgZ(0,"td",68),t._uU(1),t.qZA()),2&f){const m=D.$implicit;t.xp6(1),t.hij(" ",m.reference,"")}}function Vf(f,D){1&f&&(t.TgZ(0,"th",67),t._uU(1," Piece Justificatif "),t.qZA())}function T1(f,D){if(1&f&&(t.TgZ(0,"td",68),t._uU(1),t.qZA()),2&f){const m=D.$implicit;t.xp6(1),t.hij(" ",null==m.pieceJustificatif?null:m.pieceJustificatif.description,"")}}function b1(f,D){1&f&&t._UZ(0,"tr",72)}function yg(f,D){1&f&&t._UZ(0,"tr",73)}function P1(f,D){if(1&f&&(t.TgZ(0,"table",54),t.ynx(1,84),t.YNc(2,Sd,2,0,"th",56),t.YNc(3,Bf,2,1,"td",57),t.BQk(),t.ynx(4,85),t.YNc(5,v_,2,0,"th",56),t.YNc(6,yd,2,1,"td",57),t.BQk(),t.ynx(7,86),t.YNc(8,ed,2,0,"th",56),t.YNc(9,qg,2,1,"td",57),t.BQk(),t.ynx(10,87),t.YNc(11,C1,2,0,"th",56),t.YNc(12,Sg,2,1,"td",57),t.BQk(),t.ynx(13,88),t.YNc(14,x1,2,0,"th",56),t.YNc(15,v1,2,1,"td",57),t.BQk(),t.ynx(16,89),t.YNc(17,A1,2,0,"th",56),t.YNc(18,zf,2,1,"td",57),t.BQk(),t.ynx(19,90),t.YNc(20,Vf,2,0,"th",56),t.YNc(21,T1,2,1,"td",57),t.BQk(),t.YNc(22,b1,1,0,"tr",65),t.YNc(23,yg,1,0,"tr",66),t.qZA()),2&f){const m=t.oxw(2);t.Q6J("dataSource",m.dataSourceBenef),t.xp6(22),t.Q6J("matHeaderRowDef",m.displayedColumnsBenef),t.xp6(1),t.Q6J("matRowDefColumns",m.displayedColumnsBenef)}}function Z1(f,D){1&f&&t._UZ(0,"mat-paginator",91),2&f&&t.Q6J("pageSize",10)("pageSizeOptions",t.DdM(2,qd))}function q1(f,D){if(1&f){const m=t.EpF();t.TgZ(0,"mat-step"),t.YNc(1,g_,1,0,"ng-template",6),t.TgZ(2,"mat-vertical-stepper",4,31)(4,"mat-step",32),t.YNc(5,Qf,1,0,"ng-template",6),t.YNc(6,Jg,20,6,"form",33),t.qZA(),t.TgZ(7,"mat-step"),t.YNc(8,Lg,1,0,"ng-template",6),t.YNc(9,h_,26,6,"form",33),t.YNc(10,Yp,27,3,"table",34),t.YNc(11,s1,1,3,"mat-paginator",35),t.qZA(),t.TgZ(12,"mat-step"),t.YNc(13,l1,1,1,"ng-template",6),t.YNc(14,x_,27,11,"form",33),t.YNc(15,P1,24,3,"table",34),t.YNc(16,Z1,1,3,"mat-paginator",36),t.qZA()(),t.TgZ(17,"button",37),t.NdJ("click",function(){t.CHM(m),t.oxw();const j=t.MAs(9);return t.KtG(j.previous())}),t._uU(18,"Retour"),t.qZA()()}if(2&f){const m=t.oxw();t.xp6(4),t.Q6J("stepControl",m.formMontantPrevu),t.xp6(2),t.Q6J("ngIf",m.formMontantPrevu),t.xp6(3),t.Q6J("ngIf",m.formOR),t.xp6(1),t.Q6J("ngIf",0!=m.dataSourceOR.data.length),t.xp6(1),t.Q6J("ngIf",0!=m.dataSourceOR.data.length),t.xp6(3),t.Q6J("ngIf",m.formROR),t.xp6(1),t.Q6J("ngIf",0!=m.dataSourceBenef.data.length),t.xp6(1),t.Q6J("ngIf",0!=m.dataSourceBenef.data.length)}}function S1(f,D){1&f&&t._uU(0,"Restitution")}function jf(f,D){1&f&&t._uU(0,"Montant pr\xe9vu")}function y1(f,D){1&f&&(t.TgZ(0,"div"),t._uU(1," ce champs est obligatoire"),t.qZA())}function N1(f,D){if(1&f&&(t.TgZ(0,"mat-error",47),t.YNc(1,y1,2,0,"div",17),t.qZA()),2&f){const m=t.oxw(3);t.xp6(1),t.Q6J("ngIf",m.formRestitutionPrevu.controls.nomDebiteur.errors.required)}}function I1(f,D){1&f&&(t.TgZ(0,"div"),t._uU(1," ce champs est obligatoire"),t.qZA())}function E1(f,D){if(1&f&&(t.TgZ(0,"mat-error",47),t.YNc(1,I1,2,0,"div",17),t.qZA()),2&f){const m=t.oxw(3);t.xp6(1),t.Q6J("ngIf",m.formRestitutionPrevu.controls.prenomDebiteur.errors.required)}}function R1(f,D){1&f&&(t.TgZ(0,"div"),t._uU(1," ce champs est obligatoire"),t.qZA())}function D1(f,D){1&f&&(t.TgZ(0,"div"),t._uU(1," le montant n'est pas conforme."),t.qZA())}function w1(f,D){if(1&f&&(t.TgZ(0,"mat-error",47),t.YNc(1,R1,2,0,"div",17),t.YNc(2,D1,2,0,"div",17),t.qZA()),2&f){const m=t.oxw(3);t.xp6(1),t.Q6J("ngIf",m.formRestitutionPrevu.controls.montantPrevu.errors.required),t.xp6(1),t.Q6J("ngIf",m.formRestitutionPrevu.controls.montantPrevu.errors.invalidDecimal)}}function O1(f,D){if(1&f){const m=t.EpF();t.TgZ(0,"form",38),t.NdJ("ngSubmit",function(){t.CHM(m);const j=t.oxw(2);return t.KtG(j.submitMontantPrevuRest())}),t.TgZ(1,"mat-form-field",39)(2,"mat-label"),t._uU(3,"Nom d\xe9biteur"),t.qZA(),t._UZ(4,"input",94),t.YNc(5,N1,2,1,"mat-error",41),t.qZA(),t.TgZ(6,"mat-form-field",39)(7,"mat-label"),t._uU(8,"Pr\xe9nom d\xe9biteur"),t.qZA(),t._UZ(9,"input",95),t.YNc(10,E1,2,1,"mat-error",41),t.qZA(),t.TgZ(11,"mat-form-field",39)(12,"mat-label"),t._uU(13,"Montant pr\xe9vu"),t.qZA(),t._UZ(14,"input",96),t.YNc(15,w1,3,2,"mat-error",41),t.qZA(),t.TgZ(16,"div",44)(17,"button",53),t._uU(18,"Suivant"),t.qZA()()()}if(2&f){const m=t.oxw(2);t.Q6J("formGroup",m.formRestitutionPrevu),t.xp6(5),t.Q6J("ngIf",m.formRestitutionPrevu.controls.nomDebiteur.errors),t.xp6(5),t.Q6J("ngIf",m.formRestitutionPrevu.controls.prenomDebiteur.errors),t.xp6(5),t.Q6J("ngIf",m.formRestitutionPrevu.controls.montantPrevu.errors)}}function k1(f,D){1&f&&t._uU(0,"Montant Re\xe7u")}function M1(f,D){1&f&&(t.TgZ(0,"div"),t._uU(1," ce champs est obligatoire"),t.qZA())}function U1(f,D){1&f&&(t.TgZ(0,"div"),t._uU(1," Le montant Re\xe7u ne peut pas etre sup\xe9rieur au montant pr\xe9vu."),t.qZA())}function F1(f,D){1&f&&(t.TgZ(0,"div"),t._uU(1," le montant n'est pas conforme."),t.qZA())}function Q1(f,D){if(1&f&&(t.TgZ(0,"mat-error",47),t.YNc(1,M1,2,0,"div",17),t.YNc(2,U1,2,0,"div",17),t.YNc(3,F1,2,0,"div",17),t.qZA()),2&f){const m=t.oxw(3);t.xp6(1),t.Q6J("ngIf",m.formRestitutionRecu.controls.montantRecu.errors.required),t.xp6(1),t.Q6J("ngIf",m.formRestitutionRecu.controls.montantRecu.hasError("max")),t.xp6(1),t.Q6J("ngIf",m.formRestitutionRecu.controls.montantRecu.errors.invalidDecimal)}}function x(f,D){if(1&f&&(t.ynx(0),t.TgZ(1,"mat-option",46),t._uU(2),t.qZA(),t.BQk()),2&f){const m=D.$implicit;t.xp6(1),t.Q6J("value",m.idParam),t.xp6(1),t.Oqu(m.description)}}function P(f,D){1&f&&(t.TgZ(0,"div"),t._uU(1," ce champs est obligatoire"),t.qZA())}function F(f,D){if(1&f&&(t.TgZ(0,"mat-error",47),t.YNc(1,P,2,0,"div",17),t.qZA()),2&f){const m=t.oxw(3);t.xp6(1),t.Q6J("ngIf",m.formRestitutionRecu.controls.modeDePaiement.errors.required)}}function ce(f,D){1&f&&(t.TgZ(0,"div"),t._uU(1," ce champs est obligatoire"),t.qZA())}function Ie(f,D){if(1&f&&(t.TgZ(0,"mat-error",47),t.YNc(1,ce,2,0,"div",17),t.qZA()),2&f){const m=t.oxw(3);t.xp6(1),t.Q6J("ngIf",m.formRestitutionRecu.controls.referenceDePaiement.errors.required)}}function Je(f,D){if(1&f){const m=t.EpF();t.TgZ(0,"form",38),t.NdJ("ngSubmit",function(){t.CHM(m);const j=t.oxw(2);return t.KtG(j.addOrRestitution())}),t.TgZ(1,"mat-form-field",39)(2,"mat-label"),t._uU(3,"Montant Re\xe7u"),t.qZA(),t._UZ(4,"input",97),t.YNc(5,Q1,4,3,"mat-error",41),t.qZA(),t.TgZ(6,"mat-form-field",39)(7,"mat-label"),t._uU(8," Mode de paiement "),t.qZA(),t.TgZ(9,"mat-select",98),t.YNc(10,x,3,2,"ng-container",25),t.qZA(),t.YNc(11,F,2,1,"mat-error",41),t.qZA(),t.TgZ(12,"mat-form-field",39)(13,"mat-label"),t._uU(14,"Reference de paiement "),t.qZA(),t._UZ(15,"input",99),t.YNc(16,Ie,2,1,"mat-error",41),t.qZA(),t.TgZ(17,"div",44)(18,"button",53),t._uU(19,"Ajouter"),t.qZA()()()}if(2&f){const m=t.oxw(2);t.Q6J("formGroup",m.formRestitutionRecu),t.xp6(5),t.Q6J("ngIf",m.formRestitutionRecu.controls.montantRecu.errors),t.xp6(5),t.Q6J("ngForOf",m.modeRecouvrement),t.xp6(1),t.Q6J("ngIf",m.formRestitutionRecu.controls.modeDePaiement.errors),t.xp6(5),t.Q6J("ngIf",m.formRestitutionRecu.controls.referenceDePaiement.errors)}}function dt(f,D){1&f&&(t.TgZ(0,"th",67),t._uU(1," Montant Re\xe7u"),t.qZA())}function At(f,D){if(1&f&&(t.TgZ(0,"td",68),t._uU(1),t.qZA()),2&f){const m=D.$implicit;t.xp6(1),t.hij(" ",m.montantRecu," ")}}function kt(f,D){1&f&&(t.TgZ(0,"th",67),t._uU(1,"Montant restant "),t.qZA())}function Zn(f,D){if(1&f&&(t.TgZ(0,"td",68),t._uU(1),t.qZA()),2&f){const m=D.$implicit;t.xp6(1),t.hij(" ",m.montantRestant,"")}}function qn(f,D){1&f&&(t.TgZ(0,"th",67),t._uU(1," Mode de paiement "),t.qZA())}function Rn(f,D){if(1&f&&(t.TgZ(0,"td",68),t._uU(1),t.qZA()),2&f){const m=D.$implicit;t.xp6(1),t.hij(" ",m.modeRecouvrement.description,"")}}function oi(f,D){1&f&&(t.TgZ(0,"th",67),t._uU(1," Reference de recouvrement "),t.qZA())}function Si(f,D){if(1&f&&(t.TgZ(0,"td",68),t._uU(1),t.qZA()),2&f){const m=D.$implicit;t.xp6(1),t.hij(" ",m.referenceRecouvrement,"")}}function Wi(f,D){1&f&&t._UZ(0,"tr",72)}function Io(f,D){1&f&&t._UZ(0,"tr",73)}function Xi(f,D){if(1&f&&(t.TgZ(0,"table",54),t.ynx(1,58),t.YNc(2,dt,2,0,"th",56),t.YNc(3,At,2,1,"td",57),t.BQk(),t.ynx(4,100),t.YNc(5,kt,2,0,"th",56),t.YNc(6,Zn,2,1,"td",57),t.BQk(),t.ynx(7,61),t.YNc(8,qn,2,0,"th",56),t.YNc(9,Rn,2,1,"td",57),t.BQk(),t.ynx(10,63),t.YNc(11,oi,2,0,"th",56),t.YNc(12,Si,2,1,"td",57),t.BQk(),t.YNc(13,Wi,1,0,"tr",65),t.YNc(14,Io,1,0,"tr",66),t.qZA()),2&f){const m=t.oxw(2);t.Q6J("dataSource",m.dataSourceOR),t.xp6(13),t.Q6J("matHeaderRowDef",m.displayedColumnsORRest),t.xp6(1),t.Q6J("matRowDefColumns",m.displayedColumnsORRest)}}function Lo(f,D){1&f&&t._UZ(0,"mat-paginator",91),2&f&&t.Q6J("pageSize",10)("pageSizeOptions",t.DdM(2,qd))}function jo(f,D){if(1&f&&(t.TgZ(0,"mat-step"),t.YNc(1,S1,1,0,"ng-template",6),t.TgZ(2,"mat-vertical-stepper",92,93)(4,"mat-step",32),t.YNc(5,jf,1,0,"ng-template",6),t.YNc(6,O1,19,4,"form",33),t.qZA(),t.TgZ(7,"mat-step"),t.YNc(8,k1,1,0,"ng-template",6),t.YNc(9,Je,20,5,"form",33),t.YNc(10,Xi,15,3,"table",34),t.YNc(11,Lo,1,3,"mat-paginator",36),t.qZA()()()),2&f){const m=t.oxw();t.xp6(2),t.Q6J("linear",!1),t.xp6(2),t.Q6J("stepControl",m.formRestitutionPrevu),t.xp6(2),t.Q6J("ngIf",m.formRestitutionPrevu),t.xp6(3),t.Q6J("ngIf",m.formRestitutionRecu),t.xp6(1),t.Q6J("ngIf",0!=m.dataSourceOR.data.length),t.xp6(1),t.Q6J("ngIf",0!=m.dataSourceOR.data.length)}}const Qc=function(){return["../.."]};function cs(f){return f.value&&!/^\d+(\.\d{1,2})?$/.test(f.value)?{invalidDecimal:!0}:null}let Jc=(()=>{class f{constructor(m,I,j,be,It,ri){this.router=m,this.contratService=I,this.genericService=j,this.formBuilder=be,this.route=It,this.sinistresService=ri,this.today=new Date,this.typeSelected=null,this.dataSource=[],this.assureInfo=[],this.assureInfoNew=[],this.typeBenefs=[],this.adversaireTab=[],this.modeRecouvrement=[],this.modeRecouvrementNew=[],this.typePieceJustif=[],this.dataSourceOR=new n.by,this.loaderRecoursTab=!1,this.dataSourceBenef=new n.by,this.dataSourceROR=new n.by,this.benefTab=[],this.typesMontants=[],this.blocOneValid=!1,this.partAssure=0,this.displayedColumns=["garantie","reserve","reserveActuelle","op","reserveTotale","action"],this.displayedColumnsOR=["numOR","montantRecu","partAssureur","partAssure","modeDePaiement","referenceRecouvrement","action"],this.displayedColumnsORRest=["montantRecu","montantRestant","modePaiement","referenceRecouvrement"],this.displayedColumnsBenef=["typeBenef","nom","prenom","montant","modeDePaiementBenf","rib","pieceJustificatif"],this.infoRecours=null,this.loaderBenef=!1,this.codeFraude="",this.benefRecours=new v,this.recoursBody=new rf,this.recoursBodyRest=new rf,this.returnedData=!1,this.indexBenef=0,this.assureExist=!1,this.roleUser=JSON.parse(sessionStorage.getItem("roles")||""),this.sinistreRoles={"45A":["GESTIONNAIRE_SINISTRE","RESPONSABLE_SINISTRE","DIRECTEUR","CHEF_PROJET","ADMIN","ROLE_SUPER_ADMIN","ANALYSTE","GESTION_SINISTRE","GESTIONNAIRE_JUNIOR"],"45F":["GESTIONNAIRE_SINISTRE","RESPONSABLE_SINISTRE","DIRECTEUR","CHEF_PROJET","ADMIN","ROLE_SUPER_ADMIN","ANALYSTE","GESTION_SINISTRE","GESTIONNAIRE_JUNIOR"],"45L":["GESTIONNAIRE_SINISTRE","RESPONSABLE_SINISTRE","DIRECTEUR","CHEF_PROJET","ADMIN","ROLE_SUPER_ADMIN","ANALYSTE","GESTION_SINISTRE","GESTIONNAIRE_JUNIOR"],95:["GESTION_SINISTRE_MRH_MRP","RESPONSABLE_SINISTRE_MRH_MRP","ADMIN","ROLE_SUPER_ADMIN","ANALYSTE"],96:["GESTION_SINISTRE_MRH_MRP","RESPONSABLE_SINISTRE_MRH_MRP","ADMIN","ROLE_SUPER_ADMIN","ANALYSTE"]}}ngOnInit(){this.recoursBody.sinistreBeneficiaires=[],this.statutSinistre=this.route.snapshot.paramMap.get("statutSinistre"),null!==this.codeSinistre&&(this.codeSinistre=this.route.snapshot.paramMap.get("codeSinistre")),this.getSinistreByCode(this.codeSinistre),this.getDictionnaire()}isVirementSelected(){return"Virement"===this.selectedMode}getSinistreByCode(m){this.sinistresService.getSinistreByCode(m).subscribe({next:I=>{this.codeProduit=I.produit.codeProduit,this.adversaireTab=I.sinistrePersonnes.filter(be=>"C46"==be.categoriePersonne.code),this.idContrat=I.contratHistorique.idContrat.idContrat;let j=!1;this.roleUser.find(be=>{this.sinistreRoles[this.codeProduit+""].includes(be)&&(j=!0)}),j||this.router.navigate(["/dashboard"]),this.codeFraude=I.sinistreFraudes.length>0?I.sinistreFraudes[0].statutFraude.code:""},error:I=>{console.log(I)}})}typeRecouvrement(m){this.typeRecouvrementParent=m,this.typeSelected=m,this.returnedData=!1,this.dataSource=[]}getDictionnaire(){this.genericService.getParam(JSON.parse(sessionStorage.getItem("dictionnaire")||"{}").find(m=>"C60"==m.code).idCategorie).subscribe(m=>{this.modeRecouvrement=m,this.modeRecouvrementNew=this.modeRecouvrement.filter(I=>"Ch\xe8que agence"!==I.description)}),this.genericService.getParam(JSON.parse(sessionStorage.getItem("dictionnaire")||"{}").find(m=>"C61"==m.code).idCategorie).subscribe(m=>{this.typesMontants=m}),this.genericService.getParam(JSON.parse(sessionStorage.getItem("dictionnaire")||"{}").find(m=>"C59"==m.code).idCategorie).subscribe(m=>{this.typePieceJustif=m}),this.genericService.getParam(JSON.parse(sessionStorage.getItem("dictionnaire")||"{}").find(m=>"C78"==m.code).idCategorie).subscribe(m=>{this.typeBenefs=m})}submitRecouvrement(){this.loaderRecoursTab=!0,null!=this.typeSelected&&this.sinistresService.getRecoursTab(this.codeSinistre,this.typeSelected).subscribe({next:m=>{this.dataSource=m,this.returnedData=!0,this.loaderRecoursTab=!1},error:m=>{this.returnedData=!1,this.loaderRecoursTab=!1,console.log(m),""!=m?xe().fire(m,"","error"):xe().fire("Erreur systeme, veuillez contacter l'administrateur","","error")}})}selectReserve(m,I,j){this.codeReserve=m,this.codeGarantie=I,this.stepperH.next(),this.getInfoReserve(j),"CP429"==j?this.getContratInfo():"CP430"==j&&this.initFormRestitution()}getInfoReserve(m){this.sinistresService.getInfoRecours(this.typeSelected,this.codeReserve,this.codeSinistre,this.codeProduit).subscribe({next:I=>{this.initFormMontantPrevu(),this.infoRecours=I,this.initFormOR(),null!=I?("CP429"==m?(this.formMontantPrevu.get("companyAdverse").setValue(I.compagnyAdverse?.description),this.codeCompanyAdverse=I.compagnyAdverse?.idParam,this.formMontantPrevu.get("montantPrevu").setValue(I.montantPrevu),this.formMontantPrevu.get("adversaireList").setValue(I.adversaire.idSinistrePersonne),this.stepperCompany.selectedIndex=1):(this.formRestitutionPrevu.get("montantPrevu").setValue(I.montantPrevu),this.formRestitutionPrevu.get("prenomDebiteur").setValue(I.prenomDebiteur),this.formRestitutionPrevu.get("nomDebiteur").setValue(I.nomDebiteur),this.stepperRestitution.selectedIndex=1),this.recoursBody.idRecours=I.idSinistreRecours,this.recoursBodyRest.idRecours=I.idSinistreRecours,this.getAllOR()):"CP429"==m?this.stepperCompany.selectedIndex=0:this.stepperRestitution.selectedIndex=0},error:I=>{}})}initFormMontantPrevu(){this.formMontantPrevu=this.formBuilder.group({adversaireList:["",[Q.kI.required]],companyAdverse:[{value:"",disabled:!0},[Q.kI.required]],montantPrevu:["",[Q.kI.required,cs]]})}selectAdversaire(m){let I=this.adversaireTab.filter(j=>j.idSinistrePersonne==m)[0];if(null!=I.compagnyAdverse&&null!=I.contact&&null!=I.agenceAdvese){let j=I.compagnyAdverse;this.formMontantPrevu.get("companyAdverse").setValue(j?.description),this.codeCompanyAdverse=j.idParam,this.blocOneValid=!1}else this.blocOneValid=!1}submitMontantPrevu(){this.formMontantPrevu.valid&&(this.recoursBody.codeSinistre=this.codeSinistre,this.recoursBody.codeGarantie=this.codeGarantie,this.recoursBody.codeReserve=this.codeReserve,this.recoursBody.montantPrevu=this.formMontantPrevu.get("montantPrevu").value,this.recoursBody.codeTypeRecours=this.typeSelected,this.recoursBody.compagnyAdverse=this.codeCompanyAdverse?{idParam:this.codeCompanyAdverse}:null,this.recoursBody.compagnyAdverse=void 0===this.codeCompanyAdverse?null:{idParam:this.codeCompanyAdverse},this.recoursBody.adversaire=this.formMontantPrevu.get("adversaireList").value,this.recoursBody.auditUser=sessionStorage.getItem("userId"),this.sinistresService.createRecours(this.recoursBody,this.codeProduit).subscribe({next:m=>{this.montantPrevu=m.montantPrevu,this.recoursBody=m,this.submitRecouvrement(),this.stepperCompany.next()},error:m=>{this.handleError(m)}}))}getContratInfo(){this.contratService.getContratById(this.idContrat).subscribe({next:m=>{this.assureInfo=m.personnesList.filter(I=>"CP235"==I.role.code||"CP236"==I.role.code||"CP238"==I.role.code||"CP240"==I.role.code)[0]?.personne,this.typePersonne=null==this.assureInfo?.raisonSocial?"PH":"PM"},error:m=>{}})}initFormOR(){this.formOR=this.formBuilder.group({montantRecu:["",[Q.kI.max(this.montantPrevu),Q.kI.required,cs]],partAssureur:["",[Q.kI.required]],modePaiement:["",[Q.kI.required]],referenceDeRecouvrement:["",[Q.kI.required]]})}selectModeRecouv(m){"CP441"==m.code?(this.formOR.get("referenceDeRecouvrement").setValidators([Q.kI.required]),this.formOR.get("referenceDeRecouvrement").updateValueAndValidity()):(this.formOR.get("referenceDeRecouvrement").setValidators([]),this.formOR.get("referenceDeRecouvrement").updateValueAndValidity())}submitFormOr(m){if(this.formOR.valid){let I=new af;I.idRecours=this.recoursBody.idRecours,I.montantRecu=this.formOR.get("montantRecu").value,I.partAssureur=this.formOR.get("partAssureur").value,I.modeRecouvrement={idParam:this.formOR.get("modePaiement").value.idParam},I.referenceRecouvrement=this.formOR.get("referenceDeRecouvrement").value,I.auditUser=sessionStorage.getItem("userId"),this.sinistresService.addOR(I).subscribe({next:j=>{this.formOR.reset(),this.getAllOR()},error:j=>{xe().fire(j,"","error"),console.log(j)}})}}getAllOR(){this.sinistresService.getAllOrByIdRecours("CP429"==this.typeRecouvrementParent?this.recoursBody.idRecours:this.recoursBodyRest.idRecours).subscribe({next:I=>{this.dataSourceOR.data=I,this.dataSourceOR.paginator=this.paginator},error:I=>{xe().fire(I,"","error"),console.log(I)}})}addROR(m,I){this.stepperCompany.next(),this.idReglement=m,this.partAssure=I,this.initformROR(),this.getAllBenefByOR()}getAllBenefByOR(){this.loaderBenef=!0,this.sinistresService.getAllBenefByOR(this.idReglement).subscribe({next:m=>{this.loaderBenef=!1,this.dataSourceBenef.data=m,this.dataSourceBenef.paginator=this.paginator},error:m=>{this.loaderBenef=!1,xe().fire(m,"","error"),console.log(m)}})}initformROR(){this.formROR=this.formBuilder.group({typeBenef:["",[Q.kI.required]],nomBenef:["",[Q.kI.required]],prenomBenef:["",[Q.kI.required]],raisonSociale:["",[Q.kI.required]],pieceJustificatif:["",[Q.kI.required]],montant:["",[Q.kI.required,cs,Q.kI.max(this.partAssure),Q.kI.min(1)]],modeDePaiementBenf:["",[Q.kI.required]],rib:["",[Q.kI.required,Q.kI.pattern(w.e.number)]]}),"PM"==this.typePersonne?(this.formROR.get("nomBenef").setValidators([]),this.formROR.get("prenomBenef").setValidators([]),this.formROR.get("rib").setValidators([Q.kI.required]),this.formROR.get("raisonSociale").setValidators([Q.kI.required])):(this.formROR.get("nomBenef").setValidators([Q.kI.required]),this.formROR.get("prenomBenef").setValidators([Q.kI.required]),this.formROR.get("rib").setValidators([Q.kI.required]),this.formROR.get("raisonSociale").setValidators([]))}selectTypeBenef(m){if(this.typeBenef=m.code,"CP522"==this.typeBenef){const I=this.infoRecours.sinistreReserve.sinistre.contratHistorique.contratPersonneRoleList.find(j=>"CP235"===j.role.code||"CP236"==j.role.code||"CP238"==j.role.code||"CP240"==j.role.code)?.personne;this.formROR.get("nomBenef").setValue(I.nom),this.formROR.get("nomBenef").disable(),this.formROR.get("prenomBenef").setValue(I.prenom1),this.formROR.get("prenomBenef").disable(),this.formROR.get("raisonSociale").setValue(this.assureInfo?.raisonSocial),this.formROR.get("raisonSociale").disable(),this.formROR.get("rib").setValue(this.assureInfo.payment[this.assureInfo.payment.length-1]?.donneBancaire?.description),this.formROR.get("pieceJustificatif").setValidators([]),this.formROR.get("pieceJustificatif").updateValueAndValidity(),console.log("personne ",I)}else this.formROR.get("nomBenef").setValue(""),this.formROR.get("nomBenef").enable(),this.formROR.get("prenomBenef").setValue(""),this.formROR.get("prenomBenef").enable(),this.formROR.get("rib").setValue(""),"CP523"==this.typeBenef?(this.formROR.get("pieceJustificatif").setValidators([Q.kI.required]),this.formROR.get("pieceJustificatif").updateValueAndValidity()):(this.formROR.get("pieceJustificatif").setValidators([]),this.formROR.get("pieceJustificatif").updateValueAndValidity())}selectModePaiement(m){"CP440"==m.code?(this.formROR.get("rib").setValidators([Q.kI.required,Q.kI.pattern(w.e.number)]),this.formROR.get("rib").updateValueAndValidity()):(this.formROR.get("rib").setValidators([Q.kI.pattern(w.e.number)]),this.formROR.get("rib").updateValueAndValidity()),this.selectedMode=m.description}submitFormROR(m){if(this.isVirementSelected()&&(this.formROR.get("rib").setValidators([Q.kI.required]),console.log("this.formROR",this.formROR),this.formROR.get("rib").setValidators([Q.kI.required,Q.kI.minLength(20),Q.kI.maxLength(20)])),this.formROR.valid){let I=new v;I.idRegelement=this.idReglement,I.nom="PH"==this.typePersonne||"CP522"!=this.typeBenef?this.formROR.get("nomBenef")?.value:this.formROR.get("raisonSociale")?.value,I.prenom=this.formROR.get("prenomBenef")?.value,I.typeBeneficiaire={idParam:this.formROR.get("typeBenef").value.idParam},"CP523"==this.typeBenef&&(I.pieceJustificatif={idParam:this.formROR.get("pieceJustificatif").value.idParam}),I.modePaiement={idParam:this.formROR.get("modeDePaiementBenf").value.idParam},I.montant=Number(this.formROR.get("montant").value),I.reference=this.formROR.get("rib").value,I.auditUser=sessionStorage.getItem("userId"),this.sinistresService.addBenef(I).subscribe({next:j=>{this.getAllBenefByOR(),m.resetForm(),this.formROR.reset(),this.formROR.get("nomBenef").enable(),this.formROR.get("prenomBenef").enable(),this.formROR.get("raisonSociale").enable(),xe().fire({title:"paiement execut\xe9 avec succ\xe9es",icon:"success",allowOutsideClick:!1,confirmButtonText:"Confirmer",width:400}).then(be=>{be.isConfirmed&&("96"==this.codeProduit&&this.router.navigate(["/gestion-sinistre/dommage/96/mrh/gestionnaire-sinistre/dommage/"+this.codeSinistre]),"95"==this.codeProduit&&this.router.navigate(["/gestion-sinistre/dommage/95/mrp/gestionnaire-sinistre/dommage/"+this.codeSinistre]),"45A"==this.codeProduit?this.router.navigate(["/gestion-sinistre/dommage/45A/automobileMono/gestionnaire-sinistre/dommage/"+this.codeSinistre]):"45F"==this.codeProduit?this.router.navigate(["/gestion-sinistre/dommage/45F/automobilFlotte/gestionnaire-sinistre/dommage/"+this.codeSinistre]):"45L"==this.codeProduit&&this.router.navigate(["/gestion-sinistre/dommage/45L/automobileLeasing/gestionnaire-sinistre/dommage/"+this.codeSinistre]))})},error:j=>{xe().fire(j,"","error"),console.log(j)}})}}deleteBenef(m,I){this.benefTab=this.benefTab.filter(j=>j.idBenef!==m),this.dataSourceBenef.data=this.benefTab,"C1"==I&&(this.assureExist=!1)}handleError(m){xe().fire(m,"","error")}initFormRestitution(){this.formRestitutionPrevu=this.formBuilder.group({nomDebiteur:["",[Q.kI.required]],prenomDebiteur:["",[Q.kI.required]],montantPrevu:["",[cs,Q.kI.required]]}),this.formRestitutionRecu=this.formBuilder.group({montantRecu:["",[Q.kI.max(this.montantPrevu),cs,Q.kI.required]],modeDePaiement:["",[Q.kI.required]],referenceDePaiement:["",[Q.kI.required]]})}submitMontantPrevuRest(){this.formRestitutionPrevu.valid&&(this.recoursBodyRest.codeSinistre=this.codeSinistre,this.recoursBodyRest.codeGarantie=this.codeGarantie,this.recoursBodyRest.codeReserve=this.codeReserve,this.recoursBodyRest.montantPrevu=this.formRestitutionPrevu.get("montantPrevu").value,this.recoursBodyRest.codeTypeRecours=this.typeSelected,this.recoursBodyRest.nomDebiteur=this.formRestitutionPrevu.get("nomDebiteur").value,this.recoursBodyRest.prenomDebiteur=this.formRestitutionPrevu.get("prenomDebiteur").value,this.recoursBodyRest.auditUser=sessionStorage.getItem("userId"),this.sinistresService.createRecours(this.recoursBodyRest,this.codeProduit).subscribe({next:m=>{this.montantPrevu=m.montantPrevu,this.recoursBodyRest=m,this.submitRecouvrement(),this.stepperRestitution.next()},error:m=>{this.handleError(m)}}))}addOrRestitution(){if(this.formRestitutionRecu.valid){let m=new af;m.idRecours=this.recoursBodyRest.idRecours,m.montantRecu=this.formRestitutionRecu.get("montantRecu").value,m.modeRecouvrement={idParam:this.formRestitutionRecu.get("modeDePaiement").value},m.referenceRecouvrement=this.formRestitutionRecu.get("referenceDePaiement").value,m.auditUser=sessionStorage.getItem("userId"),this.sinistresService.addOR(m).subscribe({next:I=>{this.formRestitutionRecu.reset(),this.getAllOR()},error:I=>{xe().fire(I,"","error"),console.log(I)}})}}cancelReserve(m){this.sinistresService.annulationReserve(m).subscribe({next:I=>{xe().fire(I,"","success"),this.submitRecouvrement()},error:I=>{xe().fire(I,"","error"),console.log(I)}})}}return f.\u0275fac=function(m){return new(m||f)(t.Y36(ee.F0),t.Y36(ot.H),t.Y36(tt.M),t.Y36(Q.qu),t.Y36(ee.gz),t.Y36(Zt.m))},f.\u0275cmp=t.Xpm({type:f,selectors:[["app-reserve-recours"]],viewQuery:function(m,I){if(1&m&&(t.Gf(H,5),t.Gf(C,5),t.Gf(le,5),t.Gf(Mt.NW,5)),2&m){let j;t.iGM(j=t.CRH())&&(I.stepperH=j.first),t.iGM(j=t.CRH())&&(I.stepperCompany=j.first),t.iGM(j=t.CRH())&&(I.stepperRestitution=j.first),t.iGM(j=t.CRH())&&(I.paginator=j.first)}},decls:29,vars:10,consts:[[1,"container"],[1,"header-container"],[1,"header-title"],["aria-label","",1,"mat-icon","material-symbols-outlined",3,"routerLink"],["linear",""],["stepperH",""],["matStepLabel",""],["multi","",1,"example-headers-align"],[3,"expanded"],[1,"container-recouvrement"],[1,"col-md-5",3,"disabled","change"],["value","CP429"],["value","CP430"],["class","col-md-5",4,"ngIf"],["class","btn btn-action",3,"disabled","click",4,"ngIf"],["mode","indeterminate",4,"ngIf"],[3,"expanded",4,"ngIf"],[4,"ngIf"],[1,"col-md-5"],[3,"ngModel","ngModelChange"],["value","CP431",3,"disabled"],["value","CP432"],[1,"btn","btn-action",3,"disabled","click"],["mode","indeterminate"],[1,"gestion-table"],[4,"ngFor","ngForOf"],[1,"garantie-line"],["mat-icon-button","","type","button","aria-label","menu",3,"matMenuTriggerFor"],["xPosition","after",1,"menu-formule"],["menu","matMenu"],["mat-menu-item","","type","button",3,"disabled","click"],["stepperCompany",""],[3,"stepControl"],["class","container-recouvrement",3,"formGroup","ngSubmit",4,"ngIf"],["mat-table","","class","gestion-table",3,"dataSource",4,"ngIf"],["aria-label","Select\n                                            page of users",3,"pageSize","pageSizeOptions",4,"ngIf"],["aria-label","Select\n                                        page of users",3,"pageSize","pageSizeOptions",4,"ngIf"],[1,"btn","btn-cancel",3,"click"],[1,"container-recouvrement",3,"formGroup","ngSubmit"],["appearance","outline",1,"col-md-5"],["formControlName","adversaireList",3,"selectionChange"],["class","invalid-feedback",4,"ngIf"],["type","text","matInput","","placeholder","","formControlName","companyAdverse"],["type","number","matInput","","placeholder","","formControlName","montantPrevu"],[1,"row-button"],["type","submit",1,"btn","btn-action",3,"disabled"],[3,"value"],[1,"invalid-feedback"],["formDirective","ngForm"],["type","number","matInput","","placeholder","","formControlName","montantRecu"],["type","text","matInput","","placeholder","","formControlName","partAssureur"],["formControlName","modePaiement",3,"selectionChange"],["type","text","matInput","","placeholder","","formControlName","referenceDeRecouvrement"],["type","submit",1,"btn","btn-action"],["mat-table","",1,"gestion-table",3,"dataSource"],["matColumnDef","numOR"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","montantRecu"],["matColumnDef","partAssureur"],["matColumnDef","partAssure"],["matColumnDef","modePaiement"],["matColumnDef","modeDePaiement"],["matColumnDef","referenceRecouvrement"],["matColumnDef","action"],["mat-header-row","","class","example-second-header-row",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],["mat-icon-button","","type","button","aria-label","menu risque list",3,"matMenuTriggerFor"],["xPosition","after"],["mat-menu-item","","type","button",3,"click"],["mat-header-row","",1,"example-second-header-row"],["mat-row",""],["aria-label","Select\n                                            page of users",3,"pageSize","pageSizeOptions"],["formControlName","typeBenef",3,"selectionChange"],["class","col-md-5","appearance","outline",4,"ngIf"],["type","number","matInput","","placeholder","","formControlName","montant"],["formControlName","modeDePaiementBenf",3,"selectionChange"],["type","text","matInput","","placeholder","","formControlName","nomBenef"],["type","text","matInput","","placeholder","","formControlName","prenomBenef"],["type","text","matInput","","placeholder","","formControlName","raisonSociale"],["formControlName","pieceJustificatif"],["type","text","matInput","","placeholder","","formControlName","rib"],["matColumnDef","typeBenef"],["matColumnDef","nom"],["matColumnDef","prenom"],["matColumnDef","montant"],["matColumnDef","modeDePaiementBenf"],["matColumnDef","rib"],["matColumnDef","pieceJustificatif"],["aria-label","Select\n                                        page of users",3,"pageSize","pageSizeOptions"],["linear","",3,"linear"],["stepperRestitution",""],["type","text","matInput","","placeholder","","formControlName","nomDebiteur"],["type","text","matInput","","placeholder","","formControlName","prenomDebiteur"],["type","text","matInput","","placeholder","","formControlName","montantPrevu"],["type","text","matInput","","placeholder","","formControlName","montantRecu"],["formControlName","modeDePaiement"],["type","text","matInput","","placeholder","","formControlName","referenceDePaiement"],["matColumnDef","montantRestant"]],template:function(m,I){1&m&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h2",2)(3,"mat-icon",3),t._uU(4,"arrow_circle_left"),t.qZA(),t.TgZ(5,"span"),t._uU(6,"Tableau des r\xe9serves de recours "),t.qZA()()(),t._UZ(7,"app-entete-gestion"),t.TgZ(8,"mat-stepper",4,5)(10,"mat-step"),t.YNc(11,re,1,0,"ng-template",6),t.TgZ(12,"mat-accordion",7)(13,"mat-expansion-panel",8)(14,"mat-expansion-panel-header")(15,"mat-panel-title"),t._uU(16," Recouvrement "),t.qZA()(),t.TgZ(17,"div",9)(18,"mat-radio-group",10),t.NdJ("change",function(be){return I.typeRecouvrement(be.value)}),t.TgZ(19,"mat-radio-button",11),t._uU(20,"Recours company"),t.qZA(),t.TgZ(21,"mat-radio-button",12),t._uU(22,"Restitution"),t.qZA()(),t.YNc(23,Fe,8,2,"mat-form-field",13),t.qZA(),t.YNc(24,ti,2,1,"button",14),t.YNc(25,qo,1,0,"mat-progress-bar",15),t.qZA(),t.YNc(26,Fc,19,2,"mat-expansion-panel",16),t.qZA()(),t.YNc(27,q1,19,8,"mat-step",17),t.YNc(28,jo,12,6,"mat-step",17),t.qZA()()),2&m&&(t.xp6(3),t.Q6J("routerLink",t.DdM(9,Qc)),t.xp6(10),t.Q6J("expanded",!0),t.xp6(5),t.Q6J("disabled","CP415"===I.statutSinistre||"CP524"===I.statutSinistre||"CP525"===I.statutSinistre||"CP526"===I.statutSinistre),t.xp6(5),t.Q6J("ngIf","CP430"==I.typeRecouvrementParent),t.xp6(1),t.Q6J("ngIf",!I.loaderRecoursTab),t.xp6(1),t.Q6J("ngIf",I.loaderRecoursTab),t.xp6(1),t.Q6J("ngIf",I.returnedData),t.xp6(1),t.Q6J("ngIf","CP429"==I.typeRecouvrementParent),t.xp6(1),t.Q6J("ngIf","CP430"==I.typeRecouvrementParent))},dependencies:[Se.sg,Se.O5,_n.Hw,Ni.pp,Ni.ib,Ni.yz,Ni.yK,xn.VK,xn.OP,xn.p6,Q._Y,Q.Fj,Q.wV,Q.JJ,Q.JL,Q.sg,Q.u,mn.TO,mn.KE,mn.hX,Xn.Nt,n.BZ,n.fO,n.as,n.w1,n.Dz,n.nj,n.ge,n.ev,n.XQ,n.Gk,Mt.NW,xt.gD,ht.ey,Yn.VQ,Yn.U0,Jn.lW,pi.C0,pi.VY,pi.Vq,Q.On,na.pW,ee.rH,rs],styles:[".container[_ngcontent-%COMP%]{background-color:#fff;padding:40px 0;height:100%;overflow-y:auto;overflow-x:hidden}.gestion-table[_ngcontent-%COMP%]{width:100%}.gestion-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .gestion-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:16px}.gestion-table[_ngcontent-%COMP%]   .mat-header-cell[_ngcontent-%COMP%]{color:#00008f;font-weight:600}.gestion-table[_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]:nth-child(even), .gestion-table[_ngcontent-%COMP%]   .mat-header-row[_ngcontent-%COMP%]{background-color:#f7f7f9}.gestion-table[_ngcontent-%COMP%]   .mat-paginator[_ngcontent-%COMP%]{background-color:transparent;margin:20px auto auto;width:80%}.gestion-table[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{height:100%;font-size:26px;color:#00008f;width:-moz-fit-content;width:fit-content}.mat-menu-item[_ngcontent-%COMP%]{font-size:15px}.mat-menu-item[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:18px;height:-moz-fit-content;height:fit-content}.mat-menu-item[_ngcontent-%COMP%]:hover:not([disabled]), .mat-menu-item[_ngcontent-%COMP%]:hover:not([disabled])   .mat-icon[_ngcontent-%COMP%]{color:#00008f}.header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:0px 2rem}.header[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{height:-moz-fit-content;height:fit-content;font-size:29px;margin-right:1rem;width:-moz-fit-content;width:fit-content}.title-table[_ngcontent-%COMP%]{margin-bottom:0rem;font-weight:800!important;font-size:23px!important;color:#00008f!important}.mat-column-garantie[_ngcontent-%COMP%]{border-right-color:#0000001f;border-right-width:1px;border-right-style:solid}.mat-column-reserve[_ngcontent-%COMP%]{padding-left:1rem}.gestion-table[_ngcontent-%COMP%]{padding:10px}.gestion-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .gestion-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:5px}.garantie-line[_ngcontent-%COMP%], .gestion-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#f7f7f9}thead[_ngcontent-%COMP%], tbody[_ngcontent-%COMP%], tfoot[_ngcontent-%COMP%], tr[_ngcontent-%COMP%], td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{border-color:inherit;border-style:solid;border-width:0;border:1px solid #ebebeb}.mat-expansion-panel[_ngcontent-%COMP%]{box-shadow:none}.mat-expansion-panel-header[_ngcontent-%COMP%]{background:rgba(199,199,199,.2)!important;font-weight:600;font-size:16px;border:1px solid rgba(199,199,199,.82)!important}.mat-expansion-panel-header.mat-expanded[_ngcontent-%COMP%]{height:48px}.mat-expansion-panel[_ngcontent-%COMP%]     .mat-expansion-panel-content{border-right:1px solid rgba(199,199,199,.82)!important;border-bottom:1px solid rgba(199,199,199,.82)!important;border-left:1px solid rgba(199,199,199,.82)!important;padding:2rem}  .mat-step-header .mat-step-icon .mat-icon{height:-moz-fit-content;height:fit-content;width:-moz-fit-content;width:fit-content}  .mat-step-header .mat-step-icon-state-edit{background-color:#d14624}  .mat-step-header.cdk-keyboard-focused,   .mat-step-header.cdk-program-focused{background-color:transparent!important}.btn-action[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;float:right}.mat-expansion-panel-header-title[_ngcontent-%COMP%]{color:#00008f}.container[_ngcontent-%COMP%]{background-color:#fff;padding:40px 43px;height:100%;overflow-x:hidden;box-shadow:0 .5rem 1rem #00000026}h2.header-title[_ngcontent-%COMP%]{padding:0 24px;font-size:21px!important;color:#00008f;font-weight:600!important;letter-spacing:1px;display:flex;justify-content:space-between}.mat-radio-button[_ngcontent-%COMP%]{margin-right:2rem}.container-recouvrement[_ngcontent-%COMP%]{display:flex;flex-direction:column}.container-recouvrement[_ngcontent-%COMP%]   .mat-radio-group[_ngcontent-%COMP%]{margin-bottom:2rem}"]}),f})();var yr=B(7340);function Su(f,D){if(1&f&&(t.ynx(0),t.TgZ(1,"mat-option",17),t._uU(2),t.qZA(),t.BQk()),2&f){const m=D.$implicit;t.xp6(1),t.Q6J("value",m.idParam),t.xp6(1),t.Oqu(m.description)}}function Dm(f,D){1&f&&(t.TgZ(0,"div"),t._uU(1," ce champs est obligatoire"),t.qZA())}function Ng(f,D){if(1&f&&(t.TgZ(0,"mat-error",18),t.YNc(1,Dm,2,0,"div",19),t.qZA()),2&f){const m=t.oxw();t.xp6(1),t.Q6J("ngIf",m.formAddDoc.controls.typeInstance.errors.required)}}function k0(f,D){if(1&f&&(t.ynx(0),t.TgZ(1,"mat-option",17),t._uU(2),t.qZA(),t.BQk()),2&f){const m=D.$implicit;t.xp6(1),t.Q6J("value",m),t.xp6(1),t.Oqu(m.description)}}function M0(f,D){1&f&&(t.TgZ(0,"div"),t._uU(1," ce champs est obligatoire"),t.qZA())}function U0(f,D){if(1&f&&(t.TgZ(0,"mat-error",18),t.YNc(1,M0,2,0,"div",19),t.qZA()),2&f){const m=t.oxw();t.xp6(1),t.Q6J("ngIf",m.formAddDoc.controls.typeDocumentList.errors.required)}}function F0(f,D){if(1&f&&(t.ynx(0),t.TgZ(1,"mat-option",17),t._uU(2),t.qZA(),t.BQk()),2&f){const m=D.$implicit;t.xp6(1),t.Q6J("value",m.idParam),t.xp6(1),t.Oqu(m.description)}}function Q0(f,D){1&f&&(t.TgZ(0,"div"),t._uU(1," ce champs est obligatoire"),t.qZA())}function J0(f,D){if(1&f&&(t.TgZ(0,"mat-error",18),t.YNc(1,Q0,2,0,"div",19),t.qZA()),2&f){const m=t.oxw(2);t.xp6(1),t.Q6J("ngIf",m.formEditDoc.controls.typeDocument.errors.required)}}function X1(f,D){if(1&f&&(t.ynx(0),t.TgZ(1,"mat-option",17),t._uU(2),t.qZA(),t.BQk()),2&f){const m=D.$implicit;t.xp6(1),t.Q6J("value",m.idParam),t.xp6(1),t.Oqu(m.description)}}function L0(f,D){1&f&&(t.TgZ(0,"div"),t._uU(1," ce champs est obligatoire"),t.qZA())}function Y0(f,D){if(1&f&&(t.TgZ(0,"mat-error",18),t.YNc(1,L0,2,0,"div",19),t.qZA()),2&f){const m=t.oxw(2);t.xp6(1),t.Q6J("ngIf",m.formEditDoc.controls.statut.errors.required)}}function G0(f,D){1&f&&(t.TgZ(0,"div"),t._uU(1," ce champs est obligatoire"),t.qZA())}function B0(f,D){if(1&f&&(t.TgZ(0,"mat-error",18),t.YNc(1,G0,2,0,"div",19),t.qZA()),2&f){const m=t.oxw(2);t.xp6(1),t.Q6J("ngIf",m.formEditDoc.controls.description.errors.required)}}function z0(f,D){if(1&f&&(t.TgZ(0,"mat-dialog-content",2)(1,"form",20,4)(3,"mat-form-field",21)(4,"mat-label"),t._uU(5,"type document"),t.qZA(),t._UZ(6,"input",22),t.YNc(7,J0,2,1,"mat-error",8),t.qZA(),t.TgZ(8,"mat-form-field",21)(9,"mat-label"),t._uU(10,"Statut document"),t.qZA(),t.TgZ(11,"mat-select",10),t.YNc(12,X1,3,2,"ng-container",7),t.qZA(),t.YNc(13,Y0,2,1,"mat-error",8),t.qZA(),t.TgZ(14,"mat-form-field",21)(15,"mat-label"),t._uU(16,"description"),t.qZA(),t._UZ(17,"textarea",11,12),t.YNc(19,B0,2,1,"mat-error",8),t.qZA(),t.TgZ(20,"div",13)(21,"button",14),t._uU(22,"Retour"),t.qZA(),t.TgZ(23,"button",15),t._uU(24,"Enregistrer"),t.qZA()()()()),2&f){const m=t.oxw();t.xp6(1),t.Q6J("formGroup",m.formEditDoc),t.xp6(6),t.Q6J("ngIf",m.formEditDoc.controls.typeDocument.errors),t.xp6(5),t.Q6J("ngForOf",m.statuDocumentArray),t.xp6(1),t.Q6J("ngIf",m.formEditDoc.controls.statut.errors),t.xp6(6),t.Q6J("ngIf",m.formEditDoc.controls.description.errors)}}let V0=(()=>{class f{constructor(m,I,j,be,It,ri,Mi){this.dialogRef=m,this.sinistresService=I,this.genericService=j,this.data=be,this.formBuilder=It,this.router=ri,this.route=Mi,this.documentArray=[],this.documentInstanceArray=[],this.typeInstancesArray=[],this.statuDocumentArray=[]}ngOnInit(){this.LoaderInstance=!1,this.codeProduit=this.route.snapshot.paramMap.get("codeProduit"),this.getDictionnaire(),this.initDocument(),this.getDocInstance()}getDictionnaire(){this.genericService.getParam(JSON.parse(sessionStorage.getItem("dictionnaire")||"{}").find(m=>"C70"==m.code).idCategorie).subscribe(m=>{this.typeInstancesArray=m}),this.genericService.getParam(JSON.parse(sessionStorage.getItem("dictionnaire")||"{}").find(m=>"C71"==m.code).idCategorie).subscribe(m=>{this.statuDocumentArray=m})}getDocumentList(m){this.sinistresService.getByLien(m).subscribe({next:I=>{this.documentArray=I},error:I=>{console.log(I)}})}initDocument(){return this.formAddDoc=this.formBuilder.group({typeDocumentList:["",[Q.kI.required]],statut:["",[Q.kI.required]],description:["",[Q.kI.required]],typeInstance:["",[Q.kI.required]]})}getDocInstance(){this.sinistresService.getInstanceById(this.data.idInstance).subscribe({next:m=>{this.documentInstanceArray=m.instanceDocument},error:m=>{console.log(m)}})}addDocument(){this.LoaderInstance=!0;let m={};m.document={idParam:this.formAddDoc.get("typeDocumentList").value.idParam},m.statutDocument={idParam:this.formAddDoc.get("statut").value},m.description=this.formAddDoc.get("description").value,m.typeInstance={idParam:this.formAddDoc.get("typeInstance").value},this.dialogRef.close({data:m})}}return f.\u0275fac=function(m){return new(m||f)(t.Y36(Ke.so),t.Y36(Zt.m),t.Y36(tt.M),t.Y36(Ke.WI),t.Y36(Q.qu),t.Y36(ee.F0),t.Y36(ee.gz))},f.\u0275cmp=t.Xpm({type:f,selectors:[["app-gestion-documents"]],decls:35,vars:7,consts:[["mat-dialog-title","",1,"dialog-header"],[1,"heading"],[1,"mat-typography"],[1,"row","form",3,"formGroup","ngSubmit"],["formDirective","ngForm"],["appearance","outline",1,"col-md-5"],["formControlName","typeInstance",3,"selectionChange"],[4,"ngFor","ngForOf"],["class","invalid-feedback",4,"ngIf"],["formControlName","typeDocumentList"],["formControlName","statut"],["formControlName","description","matInput","","cdkTextareaAutosize","","cdkAutosizeMinRows","1","cdkAutosizeMaxRows","10"],["autosize","cdkTextareaAutosize"],[1,"row-button"],["mat-dialog-close","","type","button",1,"btn","btn-cancel"],["type","submit",1,"btn","btn-action","col-button-add"],["class","mat-typography",4,"ngIf"],[3,"value"],[1,"invalid-feedback"],[4,"ngIf"],[1,"row","form",3,"formGroup"],["appearance","outline",1,"col-md-4"],["type","text","matInput","","formControlName","typeDocument"]],template:function(m,I){1&m&&(t.TgZ(0,"div",0)(1,"span",1),t._uU(2,"Ajouter documents"),t.qZA()(),t._UZ(3,"mat-divider"),t.TgZ(4,"mat-dialog-content",2)(5,"form",3,4),t.NdJ("ngSubmit",function(){return I.addDocument()}),t.TgZ(7,"mat-form-field",5)(8,"mat-label"),t._uU(9,"Type instance"),t.qZA(),t.TgZ(10,"mat-select",6),t.NdJ("selectionChange",function(be){return I.getDocumentList(be.value)}),t.YNc(11,Su,3,2,"ng-container",7),t.qZA(),t.YNc(12,Ng,2,1,"mat-error",8),t.qZA(),t.TgZ(13,"mat-form-field",5)(14,"mat-label"),t._uU(15,"type document"),t.qZA(),t.TgZ(16,"mat-select",9),t.YNc(17,k0,3,2,"ng-container",7),t.qZA(),t.YNc(18,U0,2,1,"mat-error",8),t.qZA(),t.TgZ(19,"mat-form-field",5)(20,"mat-label"),t._uU(21,"Statut document"),t.qZA(),t.TgZ(22,"mat-select",10),t.YNc(23,F0,3,2,"ng-container",7),t.qZA()(),t.TgZ(24,"mat-form-field",5)(25,"mat-label"),t._uU(26,"description"),t.qZA(),t._UZ(27,"textarea",11,12),t.qZA(),t.TgZ(29,"div",13)(30,"button",14),t._uU(31,"Retour"),t.qZA(),t.TgZ(32,"button",15),t._uU(33,"Enregistrer"),t.qZA()()()(),t.YNc(34,z0,25,5,"mat-dialog-content",16)),2&m&&(t.xp6(5),t.Q6J("formGroup",I.formAddDoc),t.xp6(6),t.Q6J("ngForOf",I.typeInstancesArray),t.xp6(1),t.Q6J("ngIf",I.formAddDoc.controls.typeInstance.errors),t.xp6(5),t.Q6J("ngForOf",I.documentArray),t.xp6(1),t.Q6J("ngIf",I.formAddDoc.controls.typeDocumentList.errors),t.xp6(5),t.Q6J("ngForOf",I.statuDocumentArray),t.xp6(11),t.Q6J("ngIf","edit"==I.data.typeDialog))},dependencies:[Se.sg,Se.O5,nn.d,Q._Y,Q.Fj,Q.JJ,Q.JL,Q.sg,Q.u,mn.TO,mn.KE,mn.hX,Ri.IC,Xn.Nt,Ke.ZT,Ke.uh,Ke.xY,xt.gD,ht.ey],styles:[".mat-dialog-content[_ngcontent-%COMP%]{padding-top:15px}.btn.btn-cancel[_ngcontent-%COMP%]{float:left}.btn.btn-action[_ngcontent-%COMP%]{float:right}"]}),f})();function j0(f,D){if(1&f&&(t.ynx(0),t.TgZ(1,"mat-option",13),t._uU(2),t.qZA(),t.BQk()),2&f){const m=D.$implicit;t.xp6(1),t.Q6J("value",m.idParam),t.xp6(1),t.Oqu(m.description)}}let H0=(()=>{class f{constructor(m,I,j,be){this.dialogRef=m,this.data=I,this.formBuilder=j,this.genericService=be,this.docInfo={},this.statuDocumentArray=[]}ngOnInit(){this.getDictionnaire(),this.docInfo=this.data.documentInfo,this.info=this.docInfo.description,this.initEditForm(this.docInfo)}getDictionnaire(){this.genericService.getParam(JSON.parse(sessionStorage.getItem("dictionnaire")||"{}").find(m=>"C71"==m.code).idCategorie).subscribe(m=>{this.statuDocumentArray=m})}initEditForm(m){this.formEditDoc=this.formBuilder.group({typeDoc:["",[Q.kI.required,Q.kI.maxLength(15)]],statutDoc:[{value:m.statutDocument.idParam,disabled:!1},[Q.kI.required,Q.kI.maxLength(15)]],description:[{value:m.description,disabled:!1},[Q.kI.required]]})}submitEdit(){let m={};m.statutDocument={idParam:this.formEditDoc.get("statutDoc").value},m.description=this.formEditDoc.get("description").value,this.dialogRef.close({data:m})}}return f.\u0275fac=function(m){return new(m||f)(t.Y36(Ke.so),t.Y36(Ke.WI),t.Y36(Q.qu),t.Y36(tt.M))},f.\u0275cmp=t.Xpm({type:f,selectors:[["app-edit-document-dialog"]],decls:24,vars:4,consts:[["mat-dialog-title","",1,"dialog-header"],[1,"heading"],[1,"mat-typography"],[1,"row","form",3,"formGroup","ngSubmit"],["formDirective","ngForm"],["appearance","outline",1,"col-md-4"],["type","text","matInput","",3,"value","disabled"],["formControlName","statutDoc"],[4,"ngFor","ngForOf"],["formControlName","description","matInput","","cdkTextareaAutosize","","cdkAutosizeMinRows","1","cdkAutosizeMaxRows","10"],["autosize","cdkTextareaAutosize"],[1,"row-button"],["type","submit",1,"btn","btn-action","col-button-add"],[3,"value"]],template:function(m,I){1&m&&(t.TgZ(0,"div",0)(1,"span",1),t._uU(2,"Modifier documents"),t.qZA()(),t._UZ(3,"mat-divider"),t.TgZ(4,"mat-dialog-content",2)(5,"form",3,4),t.NdJ("ngSubmit",function(){return I.submitEdit()}),t.TgZ(7,"mat-form-field",5)(8,"mat-label"),t._uU(9,"type document"),t.qZA(),t._UZ(10,"input",6),t.qZA(),t.TgZ(11,"mat-form-field",5)(12,"mat-label"),t._uU(13,"Statut document"),t.qZA(),t.TgZ(14,"mat-select",7),t.YNc(15,j0,3,2,"ng-container",8),t.qZA()(),t.TgZ(16,"mat-form-field",5)(17,"mat-label"),t._uU(18,"description"),t.qZA(),t._UZ(19,"textarea",9,10),t.qZA(),t.TgZ(21,"div",11)(22,"button",12),t._uU(23,"Enregistrer"),t.qZA()()()()),2&m&&(t.xp6(5),t.Q6J("formGroup",I.formEditDoc),t.xp6(5),t.Q6J("value",I.docInfo.document.description)("disabled",!0),t.xp6(5),t.Q6J("ngForOf",I.statuDocumentArray))},dependencies:[Se.sg,nn.d,Q._Y,Q.Fj,Q.JJ,Q.JL,Q.sg,Q.u,mn.KE,mn.hX,Ri.IC,Xn.Nt,Ke.uh,Ke.xY,xt.gD,ht.ey],styles:[".mat-dialog-content[_ngcontent-%COMP%]{padding-top:15px}.btn.btn-action[_ngcontent-%COMP%]{float:right}"]}),f})();const $0=["innerTables"],K0=["innerSort"];function W0(f,D){1&f&&(t.TgZ(0,"th",19),t._uU(1,"N\xb0"),t.qZA())}function X0(f,D){if(1&f&&(t.TgZ(0,"td",20),t._uU(1),t.qZA()),2&f){const m=D.$implicit;t.xp6(1),t.hij(" ",m.idInstance," ")}}function eh(f,D){1&f&&(t.TgZ(0,"th",19),t._uU(1,"Statut"),t.qZA())}function th(f,D){if(1&f&&(t.TgZ(0,"td",20),t._uU(1),t.qZA()),2&f){const m=D.$implicit;t.xp6(1),t.hij(" ",m.statutInstance.description," ")}}function nh(f,D){1&f&&(t.TgZ(0,"th",19),t._uU(1,"Montant PV"),t.qZA())}function ih(f,D){if(1&f&&(t.TgZ(0,"td",20),t._uU(1),t.qZA()),2&f){const m=D.$implicit;t.xp6(1),t.hij(" ",m.montant," ")}}function oh(f,D){1&f&&(t.TgZ(0,"th",19),t._uU(1,"Garantie"),t.qZA())}function rh(f,D){if(1&f&&(t.TgZ(0,"td",20),t._uU(1),t.qZA()),2&f){const m=D.$implicit;t.xp6(1),t.hij(" ",m.garantie," ")}}function ah(f,D){1&f&&(t.TgZ(0,"th",19),t._uU(1,"R\xe9serve"),t.qZA())}function sh(f,D){if(1&f&&(t.TgZ(0,"td",20),t._uU(1),t.qZA()),2&f){const m=D.$implicit;t.xp6(1),t.hij(" ",m.reserve," ")}}function e0(f,D){1&f&&(t.TgZ(0,"th",19),t._uU(1,"Action"),t.qZA())}function t0(f,D){if(1&f){const m=t.EpF();t.TgZ(0,"td",20)(1,"button",21)(2,"mat-icon"),t._uU(3,"more_vert"),t.qZA()(),t.TgZ(4,"mat-menu",22,23)(6,"button",24),t.NdJ("click",function(){const be=t.CHM(m).$implicit,It=t.oxw(2);return t.KtG(It.goToPaiement(be))}),t.TgZ(7,"mat-icon"),t._uU(8,"credit_card"),t.qZA(),t.TgZ(9,"span"),t._uU(10,"Proc\xe9der au paiement"),t.qZA()(),t.TgZ(11,"button",24),t.NdJ("click",function(){const be=t.CHM(m).$implicit,It=t.oxw(2);return t.KtG(It.openDialog(be.idInstance))}),t.TgZ(12,"mat-icon"),t._uU(13,"add_circle"),t.qZA(),t.TgZ(14,"span"),t._uU(15,"Ajouter documents"),t.qZA()()()()}if(2&f){const m=D.$implicit,I=t.MAs(5),j=t.oxw(2);t.xp6(1),t.Q6J("matMenuTriggerFor",I),t.xp6(5),t.Q6J("disabled",!j.roleExist||j.isCdcDa||"CP415"==j.status||j.statusM[m.idInstance]),t.xp6(5),t.Q6J("disabled",!j.roleExist||j.isCdcDa||"CP415"==j.status)}}function lh(f,D){1&f&&t._UZ(0,"th",19)}function n0(f,D){if(1&f){const m=t.EpF();t.TgZ(0,"td",20)(1,"button",25),t.NdJ("click",function(){const be=t.CHM(m).$implicit,It=t.oxw(2);return t.KtG(It.toggleRow(be))}),t.TgZ(2,"mat-icon"),t._uU(3),t.qZA()()()}if(2&f){const m=D.$implicit,I=t.oxw(2);t.xp6(3),t.Oqu(I.expandedElement===m?"expand_less":"expand_more")}}function ch(f,D){1&f&&(t.TgZ(0,"th",19),t._uU(1,"document"),t.qZA())}function uh(f,D){if(1&f&&(t.TgZ(0,"td",20),t._uU(1),t.qZA()),2&f){const m=D.$implicit;t.xp6(1),t.hij(" ",m.document.description," ")}}function mh(f,D){1&f&&(t.TgZ(0,"th",19),t._uU(1,"Commentaire"),t.qZA())}function dh(f,D){if(1&f&&(t.TgZ(0,"td",20),t._uU(1),t.qZA()),2&f){const m=D.$implicit;t.xp6(1),t.hij(" ",m.description," ")}}function _h(f,D){1&f&&t._UZ(0,"th",19)}function ph(f,D){1&f&&t._UZ(0,"td",20)}function fh(f,D){1&f&&(t.TgZ(0,"th",19),t._uU(1,"Type instance"),t.qZA())}function gh(f,D){if(1&f&&(t.TgZ(0,"td",20),t._uU(1),t.qZA()),2&f){const m=D.$implicit;t.xp6(1),t.hij(" ",null==m.typeInstance?null:m.typeInstance.description," ")}}function hh(f,D){1&f&&(t.TgZ(0,"th",19),t._uU(1,"Statut"),t.qZA())}function Ch(f,D){if(1&f&&(t.TgZ(0,"td",20),t._uU(1),t.qZA()),2&f){const m=D.$implicit;t.xp6(1),t.hij(" ",m.statutDocument.description," ")}}function xh(f,D){1&f&&(t.TgZ(0,"th",19),t._uU(1,"Action"),t.qZA())}function vh(f,D){if(1&f){const m=t.EpF();t.TgZ(0,"td",20)(1,"button",21)(2,"mat-icon"),t._uU(3,"more_vert"),t.qZA()(),t.TgZ(4,"mat-menu",22,23)(6,"button",24),t.NdJ("click",function(){const be=t.CHM(m).$implicit,It=t.oxw(5);return t.KtG(It.openEditDialog(be))}),t.TgZ(7,"mat-icon"),t._uU(8,"edit"),t.qZA(),t.TgZ(9,"span"),t._uU(10,"Modifier instance"),t.qZA()()()()}if(2&f){const m=t.MAs(5),I=t.oxw(5);t.xp6(1),t.Q6J("matMenuTriggerFor",m),t.xp6(5),t.Q6J("disabled",!I.roleExist||I.isCdcDa)}}function Ah(f,D){1&f&&t._UZ(0,"th",19)}function Th(f,D){if(1&f){const m=t.EpF();t.TgZ(0,"td",38)(1,"button",25),t.NdJ("click",function(){const be=t.CHM(m).$implicit,It=t.oxw(5);return t.KtG(It.toggleRow(be))}),t.qZA()()}}function bh(f,D){1&f&&t._UZ(0,"tr",39)}function Ph(f,D){1&f&&t._UZ(0,"tr",40)}function Zh(f,D){if(1&f&&(t.TgZ(0,"div",29)(1,"table",30,31),t.ynx(3,32),t.YNc(4,ch,2,0,"th",7),t.YNc(5,uh,2,1,"td",8),t.BQk(),t.ynx(6,33),t.YNc(7,mh,2,0,"th",7),t.YNc(8,dh,2,1,"td",8),t.BQk(),t.ynx(9,34),t.YNc(10,_h,1,0,"th",7),t.YNc(11,ph,1,0,"td",8),t.BQk(),t.ynx(12,35),t.YNc(13,fh,2,0,"th",7),t.YNc(14,gh,2,1,"td",8),t.BQk(),t.ynx(15,9),t.YNc(16,hh,2,0,"th",7),t.YNc(17,Ch,2,1,"td",8),t.BQk(),t.ynx(18,13),t.YNc(19,xh,2,0,"th",7),t.YNc(20,vh,11,2,"td",8),t.BQk(),t.ynx(21,14),t.YNc(22,Ah,1,0,"th",7),t.YNc(23,Th,2,0,"td",36),t.BQk(),t.YNc(24,bh,1,0,"tr",16),t.YNc(25,Ph,1,0,"tr",37),t.qZA()()),2&f){const m=t.oxw(2).$implicit,I=t.oxw(2);t.xp6(1),t.Q6J("dataSource",m.instanceDocument),t.xp6(23),t.Q6J("matHeaderRowDef",I.innerDisplayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",I.innerDisplayedColumns)}}function qh(f,D){if(1&f&&(t.TgZ(0,"div",27),t.YNc(1,Zh,26,3,"div",28),t.qZA()),2&f){const m=t.oxw().$implicit,I=t.oxw(2);t.Q6J("@detailExpand",m==I.expandedElement?"expanded":"collapsed"),t.xp6(1),t.Q6J("ngIf",I.expandedElement)}}function wx(f,D){if(1&f&&(t.TgZ(0,"td",20),t.YNc(1,qh,2,2,"div",26),t.qZA()),2&f){const m=D.$implicit,I=t.oxw(2);t.uIk("colspan",I.displayedColumns.length),t.xp6(1),t.Q6J("ngIf",null==m.instanceDocument||null==m.instanceDocument.data?null:m.instanceDocument.data.length)}}function Sh(f,D){1&f&&t._UZ(0,"tr",39)}function yh(f,D){if(1&f&&t._UZ(0,"tr",40),2&f){const m=D.$implicit,I=t.oxw(2);t.ekj("example-element-row",null==m.instanceDocument||null==m.instanceDocument.data?null:m.instanceDocument.data.length)("example-expanded-row",I.expandedElement===m)}}function Nh(f,D){1&f&&t._UZ(0,"tr",41)}const Ih=function(){return["expandedDetail"]};function Eh(f,D){if(1&f&&(t.TgZ(0,"table",5),t.ynx(1,6),t.YNc(2,W0,2,0,"th",7),t.YNc(3,X0,2,1,"td",8),t.BQk(),t.ynx(4,9),t.YNc(5,eh,2,0,"th",7),t.YNc(6,th,2,1,"td",8),t.BQk(),t.ynx(7,10),t.YNc(8,nh,2,0,"th",7),t.YNc(9,ih,2,1,"td",8),t.BQk(),t.ynx(10,11),t.YNc(11,oh,2,0,"th",7),t.YNc(12,rh,2,1,"td",8),t.BQk(),t.ynx(13,12),t.YNc(14,ah,2,0,"th",7),t.YNc(15,sh,2,1,"td",8),t.BQk(),t.ynx(16,13),t.YNc(17,e0,2,0,"th",7),t.YNc(18,t0,16,3,"td",8),t.BQk(),t.ynx(19,14),t.YNc(20,lh,1,0,"th",7),t.YNc(21,n0,4,1,"td",8),t.BQk(),t.ynx(22,15),t.YNc(23,wx,2,2,"td",8),t.BQk(),t.YNc(24,Sh,1,0,"tr",16),t.YNc(25,yh,1,4,"tr",17),t.YNc(26,Nh,1,0,"tr",18),t.qZA()),2&f){const m=t.oxw();t.Q6J("dataSource",m.dataSource),t.xp6(24),t.Q6J("matHeaderRowDef",m.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",m.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",t.DdM(4,Ih))}}const Rh=function(){return[5,10]};let Ig=(()=>{class f{constructor(m,I,j,be,It){this.dialog=m,this.router=I,this.cd=j,this.sinistresService=be,this.route=It,this.displayedColumns=["idInstance","statut","MontnatPV","Garantie","Reserve","action","more"],this.innerDisplayedColumns=["desc","statut","commentaire","empty","typeInstance","action","more"],this.loadInstance=!1,this.currentIcon=[],this.statusM={},this.rolesJs=JSON.parse(sessionStorage.getItem("roles")??""),this.isCdcDa=this.rolesJs?.includes("CDC")||this.rolesJs?.includes("DA")||this.rolesJs?.includes("CONSULTATION")||this.rolesJs.includes("COURTIER"),this.roleExist=!1,this.roleUser=JSON.parse(sessionStorage.getItem("roles")||""),this.sinistreRoles={"45A":["GESTIONNAIRE_SINISTRE","RESPONSABLE_SINISTRE","DIRECTEUR","CHEF_PROJET","ADMIN","ROLE_SUPER_ADMIN","ANALYSTE","GESTION_SINISTRE","GESTIONNAIRE_JUNIOR"],"45F":["GESTIONNAIRE_SINISTRE","RESPONSABLE_SINISTRE","DIRECTEUR","CHEF_PROJET","ADMIN","ROLE_SUPER_ADMIN","ANALYSTE","GESTION_SINISTRE","GESTIONNAIRE_JUNIOR"],"45L":["GESTIONNAIRE_SINISTRE","RESPONSABLE_SINISTRE","DIRECTEUR","CHEF_PROJET","ADMIN","ROLE_SUPER_ADMIN","ANALYSTE","GESTION_SINISTRE","GESTIONNAIRE_JUNIOR"],95:["GESTION_SINISTRE_MRH_MRP","RESPONSABLE_SINISTRE_MRH_MRP","ADMIN","ROLE_SUPER_ADMIN","ANALYSTE"],96:["GESTION_SINISTRE_MRH_MRP","RESPONSABLE_SINISTRE_MRH_MRP","ADMIN","ROLE_SUPER_ADMIN","ANALYSTE"]}}ngOnInit(){this.codeSinistre=this.route.snapshot.paramMap.get("codeSinistre"),this.codeProduit=this.route.snapshot.paramMap.get("codeProduit"),this.roleUser.find(m=>{this.sinistreRoles[this.codeProduit+""].includes(m)&&(this.roleExist=!0)}),this.getAllInstanes(),this.getSinistre()}getSinistre(){this.sinistresService.getSinistreByCode(this.codeSinistre).subscribe({next:m=>{this.status=m.statut.code}})}checkDocumentStatus(m){return m.some(I=>"En attente"===I.statutDocument.description||"rejet\xe9"===I.statutDocument.description)}getAllInstanes(){this.sinistresService.getAllInstance(this.codeSinistre).subscribe({next:m=>{this.loadInstance=!0;let I=[];m.forEach(j=>{if(j.instanceDocument&&Array.isArray(j.instanceDocument)&&j.instanceDocument.length){const be=this.checkDocumentStatus(j.instanceDocument);j.instanceDocument.idSinistreInstance=j.idSinistreInstance,I=[...I,{...j,instanceDocument:new n.by(j.instanceDocument)}],this.statusM[j.idInstance]=be}else I=[...I,j],this.statusM[j.idInstance]=!1}),this.dataSource=new n.by(I),this.dataSource.paginator=this.paginator},error:m=>{console.log(m)}})}toggleRow(m){this.dataSource.data.indexOf(m),this.idSinistreInstance=m.idInstance,m.instanceDocument&&m.instanceDocument.data.length&&(this.expandedElement=this.expandedElement===m?null:m),this.cd.detectChanges(),this.innerTables.forEach((I,j)=>I.dataSource.sort=this.innerSort.toArray()[j])}openEditDialog(m){this.dialog.open(H0,{width:"40%",data:{documentInfo:m}}).afterClosed().subscribe(j=>{j&&this.sinistresService.editDocument(m.idSinistreInstanceDoc,j.data).subscribe({next:be=>{this.getAllInstanes(),xe().fire("Document modifi\xe9 avec succ\xe9s.","","success")},error:be=>{xe().fire("error","","error")}})})}goToPaiement(m){this.sinistresService.getSinistreByCode(this.codeSinistre).subscribe({next:I=>{this.idSinistre=I.idSinistre},error:I=>{xe().fire("error","","error")}}),this.sinistresService.getInstanceById(m.idInstance).subscribe({next:I=>{null!=I.decompteOp?(console.log("data.decompteOp"),console.log(I.decompteOp),this.router.navigate(["gestion-sinistre/"+this.route.snapshot.paramMap.get("codeProduit")+"/"+this.route.snapshot.paramMap.get("nameProduit")+"/gestionnaire-sinistre/"+this.codeSinistre+"/OP/"+I.decompteOp.typeOp?.code+"/"+I.decompteOp.idDecompteOp+"/"+this.idSinistre+"/"+m.idInstance+"/paiement"])):this.router.navigate(["gestion-sinistre/"+this.route.snapshot.paramMap.get("codeProduit")+"/"+this.route.snapshot.paramMap.get("nameProduit")+"/gestionnaire-sinistre/"+this.codeSinistre+"PV/OPA/"+I.decomptePv.idSinistreDecompte+"/"+this.idSinistre+"/"+m.idInstance+"/paiement"])},error:I=>{xe().fire("error","","error")}})}openDialog(m){this.dialog.open(V0,{width:"40%",data:{idInstance:m}}).afterClosed().subscribe(j=>{j&&this.sinistresService.addDocument(m,j.data).subscribe({next:be=>{this.getAllInstanes(),xe().fire("Document ajout\xe9 avec succ\xe9es.","","success")},error:be=>{xe().fire(be,"","error")}})})}}return f.\u0275fac=function(m){return new(m||f)(t.Y36(Ke.uw),t.Y36(ee.F0),t.Y36(t.sBO),t.Y36(Zt.m),t.Y36(ee.gz))},f.\u0275cmp=t.Xpm({type:f,selectors:[["app-gestion-instances"]],viewQuery:function(m,I){if(1&m&&(t.Gf(Mt.NW,5),t.Gf($0,5),t.Gf(K0,5)),2&m){let j;t.iGM(j=t.CRH())&&(I.paginator=j.first),t.iGM(j=t.CRH())&&(I.innerTables=j),t.iGM(j=t.CRH())&&(I.innerSort=j)}},decls:6,vars:5,consts:[[1,"container"],[1,"header"],[1,"title-table"],["mat-table","","class","gestion-table","multiTemplateDataRows","",3,"dataSource",4,"ngIf"],["aria-label","Select page of users",3,"pageSize","pageSizeOptions"],["mat-table","","multiTemplateDataRows","",1,"gestion-table",3,"dataSource"],["matColumnDef","idInstance"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","statut"],["matColumnDef","MontnatPV"],["matColumnDef","Garantie"],["matColumnDef","Reserve"],["matColumnDef","action"],["matColumnDef","more"],["matColumnDef","expandedDetail"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",3,"example-element-row","example-expanded-row",4,"matRowDef","matRowDefColumns"],["mat-row","","class","example-detail-row",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],["mat-icon-button","","type","button","aria-label","menu devis list",3,"matMenuTriggerFor"],["xPosition","after",1,"menu-devis"],["menu","matMenu"],["mat-menu-item","","type","button",3,"disabled","click"],["mat-icon-button","","type","button","aria-label","",3,"click"],["class","example-element-detail",4,"ngIf"],[1,"example-element-detail"],["class","inner-table mat-elevation-z8",4,"ngIf"],[1,"inner-table","mat-elevation-z8"],["mat-table","","matSort","",1,"",3,"dataSource"],["innerTables",""],["matColumnDef","desc"],["matColumnDef","commentaire"],["matColumnDef","empty"],["matColumnDef","typeInstance"],["mat-cell","","style","visibility: hidden",4,"matCellDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-cell","",2,"visibility","hidden"],["mat-header-row",""],["mat-row",""],["mat-row","",1,"example-detail-row"]],template:function(m,I){1&m&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h2",2),t._uU(3),t.qZA()(),t.YNc(4,Eh,27,5,"table",3),t._UZ(5,"mat-paginator",4),t.qZA()),2&m&&(t.xp6(3),t.hij(" Listes des instances du sinistre N\xb0 ",I.codeSinistre," "),t.xp6(1),t.Q6J("ngIf",I.loadInstance),t.xp6(1),t.Q6J("pageSize",10)("pageSizeOptions",t.DdM(4,Rh)))},dependencies:[Se.O5,_n.Hw,xn.VK,xn.OP,xn.p6,n.BZ,n.fO,n.as,n.w1,n.Dz,n.nj,n.ge,n.ev,n.XQ,n.Gk,Mt.NW,Jn.lW],styles:[".container[_ngcontent-%COMP%]{background-color:#fff;padding:40px 0;height:100%;overflow-y:auto;overflow-x:hidden}.gestion-table[_ngcontent-%COMP%]{width:100%}.gestion-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .gestion-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:16px}.gestion-table[_ngcontent-%COMP%]   .mat-header-cell[_ngcontent-%COMP%]{color:#00008f;font-weight:600}.gestion-table[_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]:nth-child(even), .gestion-table[_ngcontent-%COMP%]   .mat-header-row[_ngcontent-%COMP%]{background-color:#f7f7f9}.gestion-table[_ngcontent-%COMP%]   .mat-paginator[_ngcontent-%COMP%]{background-color:transparent;margin:20px auto auto;width:80%}.gestion-table[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{height:100%;font-size:26px;color:#00008f;width:-moz-fit-content;width:fit-content}.mat-menu-item[_ngcontent-%COMP%]{font-size:15px}.mat-menu-item[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:18px;height:-moz-fit-content;height:fit-content}.mat-menu-item[_ngcontent-%COMP%]:hover:not([disabled]), .mat-menu-item[_ngcontent-%COMP%]:hover:not([disabled])   .mat-icon[_ngcontent-%COMP%]{color:#00008f}.header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:0px 2rem}.header[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{height:-moz-fit-content;height:fit-content;font-size:29px;margin-right:1rem;width:-moz-fit-content;width:fit-content}.title-table[_ngcontent-%COMP%]{margin-bottom:0rem;font-weight:800!important;font-size:23px!important;color:#00008f!important}.header[_ngcontent-%COMP%]{float:right}tr.example-detail-row[_ngcontent-%COMP%]{height:0}tr.example-element-row[_ngcontent-%COMP%]:not(.example-expanded-row):hover{background:rgba(0,0,143,.04)}tr.example-element-row[_ngcontent-%COMP%]:not(.example-expanded-row):active{background:#efefef}.example-element-row[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-bottom-width:0}.example-element-detail[_ngcontent-%COMP%]{overflow:hidden;display:flex}.mat-column-expandedDetail[_ngcontent-%COMP%]{padding:0!important}.inner-table[_ngcontent-%COMP%]{width:100%}.inner-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%;background-color:transparent}.inner-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]:last-child   .mat-cell[_ngcontent-%COMP%]{border-bottom:none}.inner-table[_ngcontent-%COMP%]   .mat-header-row[_ngcontent-%COMP%], .inner-table[_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]:nth-child(even){background-color:transparent}th.mat-header-cell[_ngcontent-%COMP%]:not(.mat-column-more), td.mat-cell[_ngcontent-%COMP%]:not(.mat-column-more), td.mat-footer-cell[_ngcontent-%COMP%]:not(.mat-column-more){width:20%}"],data:{animation:[(0,yr.X$)("detailExpand",[(0,yr.SB)("collapsed",(0,yr.oB)({height:"0px",minHeight:"0"})),(0,yr.SB)("expanded",(0,yr.oB)({height:"*"})),(0,yr.eR)("expanded <=> collapsed",(0,yr.jt)("225ms cubic-bezier(0.4, 0.0, 0.2, 1)"))])]}}),f})();function Dh(f,D){if(1&f&&(t.ynx(0),t.TgZ(1,"mat-option",27),t._uU(2),t.qZA(),t.BQk()),2&f){const m=D.$implicit;t.xp6(1),t.Q6J("value",m),t.xp6(1),t.Oqu(m.description)}}function wh(f,D){1&f&&(t.TgZ(0,"div"),t._uU(1," ce champs est obligatoire"),t.qZA())}function J1(f,D){if(1&f&&(t.TgZ(0,"mat-error",28),t.YNc(1,wh,2,0,"div",13),t.qZA()),2&f){const m=t.oxw();t.xp6(1),t.Q6J("ngIf",m.formInstance.controls.typeInstance.errors.required)}}function Oh(f,D){if(1&f){const m=t.EpF();t.ynx(0),t.TgZ(1,"mat-option",29),t.NdJ("click",function(){const be=t.CHM(m).$implicit,It=t.oxw();return t.KtG(It.addDocument(be))}),t._uU(2),t.qZA(),t.BQk()}if(2&f){const m=D.$implicit;t.xp6(1),t.Q6J("value",m),t.xp6(1),t.Oqu(m.description)}}function kh(f,D){1&f&&(t.TgZ(0,"div"),t._uU(1," ce champs est obligatoire"),t.qZA())}function Mh(f,D){if(1&f&&(t.TgZ(0,"mat-error",28),t.YNc(1,kh,2,0,"div",13),t.qZA()),2&f){const m=t.oxw();t.xp6(1),t.Q6J("ngIf",m.formInstance.controls.typeDocumentList.errors.required)}}function o0(f,D){if(1&f&&(t.TgZ(0,"div",30)(1,"div",31)(2,"mat-form-field",32)(3,"mat-label"),t._uU(4,"document"),t.qZA(),t._UZ(5,"input",33),t.qZA(),t.TgZ(6,"mat-form-field",32)(7,"mat-label"),t._uU(8,"description"),t.qZA(),t._UZ(9,"textarea",34,35),t.qZA()()()),2&f){const m=D.index;t.xp6(1),t.Q6J("formGroupName",m)}}function r0(f,D){1&f&&(t.TgZ(0,"span"),t._uU(1,"Ajouter"),t.qZA())}function a0(f,D){1&f&&t._UZ(0,"mat-spinner",36)}function Uh(f,D){1&f&&(t.TgZ(0,"th",37),t._uU(1,"Type Instance "),t.qZA())}function Fh(f,D){if(1&f&&(t.TgZ(0,"td",38),t._uU(1),t.qZA()),2&f){const m=D.$implicit;t.xp6(1),t.hij(" ",m.typeInstance.description," ")}}function s0(f,D){1&f&&(t.TgZ(0,"th",37),t._uU(1,"Type Document "),t.qZA())}function Qh(f,D){if(1&f&&(t.TgZ(0,"td",38),t._uU(1),t.qZA()),2&f){const m=D.$implicit;t.xp6(1),t.hij(" ",m.document.description," ")}}function l0(f,D){1&f&&(t.TgZ(0,"th",37),t._uU(1,"Statut Document "),t.qZA())}function Jh(f,D){if(1&f&&(t.TgZ(0,"td",38),t._uU(1),t.qZA()),2&f){const m=D.$implicit;t.xp6(1),t.hij(" ",m.statutDocument.description," ")}}function Lh(f,D){1&f&&(t.TgZ(0,"th",37),t._uU(1,"Description Document "),t.qZA())}function c0(f,D){if(1&f&&(t.TgZ(0,"td",38),t._uU(1),t.qZA()),2&f){const m=D.$implicit;t.xp6(1),t.hij(" ",m.description," ")}}function Yh(f,D){1&f&&t._UZ(0,"tr",39)}function Gh(f,D){1&f&&t._UZ(0,"tr",40)}function Bh(f,D){1&f&&(t.TgZ(0,"span"),t._uU(1,"Enregistrer"),t.qZA())}function zh(f,D){1&f&&t._UZ(0,"mat-spinner",36)}const Vh=function(){return[5,10]};let u0=(()=>{class f{constructor(m,I,j,be,It){this.router=m,this.route=I,this.sinistresService=j,this.genericService=be,this.formBuilder=It,this.typeInstancesArray=[],this.documentArray=[],this.statuDocumentArray=[],this.LoaderInstance=!1,this.instance=new he,this.dataSourceDocuments=new n.by,this.documentsArray=[],this.addInstanceArray=[],this.displayedColumns=["typeInstance","typeDocument","statutDocument","descriptionDocument"],this.roleUser=JSON.parse(sessionStorage.getItem("roles")||""),this.sinistreRoles={"45A":["GESTIONNAIRE_SINISTRE","RESPONSABLE_SINISTRE","DIRECTEUR","CHEF_PROJET","ADMIN","ROLE_SUPER_ADMIN","ANALYSTE","GESTION_SINISTRE","GESTIONNAIRE_JUNIOR"],"45F":["GESTIONNAIRE_SINISTRE","RESPONSABLE_SINISTRE","DIRECTEUR","CHEF_PROJET","ADMIN","ROLE_SUPER_ADMIN","ANALYSTE","GESTION_SINISTRE","GESTIONNAIRE_JUNIOR"],"45L":["GESTIONNAIRE_SINISTRE","RESPONSABLE_SINISTRE","DIRECTEUR","CHEF_PROJET","ADMIN","ROLE_SUPER_ADMIN","ANALYSTE","GESTION_SINISTRE","GESTIONNAIRE_JUNIOR"],95:["GESTION_SINISTRE_MRH_MRP","RESPONSABLE_SINISTRE_MRH_MRP","ADMIN","ROLE_SUPER_ADMIN","ANALYSTE"],96:["GESTION_SINISTRE_MRH_MRP","RESPONSABLE_SINISTRE_MRH_MRP","ADMIN","ROLE_SUPER_ADMIN","ANALYSTE"]}}ngOnInit(){this.addInstanceArray.instanceDocuments=[],this.instance.instanceDocuments=[],this.codeSinistre=this.route.snapshot.paramMap.get("codeSinistre"),this.typeDecompte=this.route.snapshot.paramMap.get("typeDecompte"),this.initFormInstance(),this.getDictionnaire(),this.getCodeProduit()}getCodeProduit(){this.sinistresService.getSinistreByCode(this.codeSinistre).subscribe({next:m=>{this.codeProduit=m.produit.codeProduit;let I=!1;this.roleUser.find(j=>{this.sinistreRoles[this.codeProduit+""].includes(j)&&(I=!0)}),I||this.router.navigate(["/dashboard"])},error:m=>{console.log(m)}})}getDictionnaire(){this.genericService.getParam(JSON.parse(sessionStorage.getItem("dictionnaire")||"{}").find(m=>"C70"==m.code).idCategorie).subscribe(m=>{this.typeInstancesArray=m}),this.genericService.getParam(JSON.parse(sessionStorage.getItem("dictionnaire")||"{}").find(m=>"C71"==m.code).idCategorie).subscribe(m=>{this.statuDocumentArray=m})}initFormInstance(){this.formInstance=this.formBuilder.group({typeInstance:["",[Q.kI.required]],typeDocumentList:["",[Q.kI.required]],documents:new Q.Oe([])})}createDocument(m){return this.formBuilder.group({type:[{value:m.description,disabled:!0}],idType:[{value:m.idParam,disabled:!1}],description:["",[Q.kI.required]]})}addDocument(m){this.documentsArray.some(I=>I.idParam===m.idParam)?(this.documentsArray=this.documentsArray.filter(I=>I.idParam!=m.idParam),this.documents.removeAt(this.documents.value.findIndex(I=>I.idType==m.idParam))):(this.documentsArray.push(m),this.documents=this.formInstance.get("documents"),this.documents.push(this.createDocument(m)))}changeTypeInstance(m){this.sinistresService.getByLien(m.idParam).subscribe({next:I=>{if(this.formInstance.controls.documents.clear(),this.documentArray=I,"96"==this.codeProduit&&"446"==m.idParam){const j=["CP493","CP509","CP493","CP502","CP495","CP497","CP499","CP496","CP492"];this.documentArray=this.documentArray.filter(be=>j.includes(be.code))}if("95"==this.codeProduit&&"446"==m.idParam){const j=["CP493","CP509","CP493","CP502","CP495","CP497","CP499","CP496","CP492"];this.documentArray=this.documentArray.filter(be=>j.includes(be.code))}if(("96"==this.codeProduit||"95"==this.codeProduit)&&"447"==m.idParam){const j=["CP518","CP519","CP516","CP517","CP514","CP520","CP521"];this.documentArray=this.documentArray.filter(be=>j.includes(be.code))}if(("96"==this.codeProduit||"95"==this.codeProduit)&&"448"==m.idParam){const j=["CP510","CP513","CP512"];this.documentArray=this.documentArray.filter(be=>j.includes(be.code))}},error:I=>{console.log(I)}})}addInstance(m){if(this.formInstance.valid){this.LoaderInstance=!0;let j,I=this.formInstance.get("typeDocumentList").value;this.documents.value.filter(be=>{j=new Ze,j.typeInstance=this.formInstance.get("typeInstance").value;let It="";I.map(ri=>{ri.idParam==be.idType&&(It=ri.description)}),j.document={idParam:be.idType,description:It},j.statutDocument={idParam:this.statuDocumentArray.filter(ri=>"CP471"==ri.code)[0].idParam,description:this.statuDocumentArray.filter(ri=>"CP471"==ri.code)[0].description},j.description=be.description,j.dateDebut=new Date,0!=this.addInstanceArray.instanceDocuments.length&&this.addInstanceArray.instanceDocuments.some(Mi=>Mi.typeInstance.idParam===j.typeInstance.idParam)&&this.addInstanceArray.instanceDocuments.some($s=>$s.document.idParam===be.idType)?xe().fire("Document d\xe9j\xe0 existant","","error"):(this.addInstanceArray.instanceDocuments.push(j),this.documentsArray=[])}),this.dataSourceDocuments.data=this.addInstanceArray.instanceDocuments,this.dataSourceDocuments.paginator=this.paginator,this.LoaderInstance=!1,this.initFormInstance()}}goBack(){let m;this.sinistresService.getSinistreByCode(this.codeSinistre).subscribe({next:I=>{m=I.statut.code,this.router.navigate(["gestion-sinistre/"+this.route.snapshot.paramMap.get("codeSinistre")+"/"+m+"/reserve-paiement"])},error:I=>{console.log(I)}})}submitInstance(){0!=this.dataSourceDocuments.data.length?(this.LoaderInstance=!0,this.instance.dateOuverture=new Date,this.instance.auditUser=sessionStorage.getItem("userId"),this.instance.decompteOp="PV"==this.typeDecompte?{typeOp:this.jsonOp.typeOp,decomptePv:this.jsonOp.calculateur,sinistrePersonne:this.jsonOp.sinistrePersonne,typeBenificiaire:this.jsonOp.typeBenificiaire,benificiaire:this.jsonOp.beneficiaire,nom:this.jsonOp.nom,prenom:this.jsonOp.prenom,referenceDocument:this.jsonOp.referenceDocument,montantTTC:this.jsonOp.montantTTC,auditUser:sessionStorage.getItem("userId")}:{typeOp:this.jsonOp.typeOp,decomptePv:null,sinistrePersonne:this.jsonOp.sinistrePersonne,typeBenificiaire:this.jsonOp.typeBenificiaire,benificiaire:this.jsonOp.beneficiaire,nom:this.jsonOp.nom,prenom:this.jsonOp.prenom,referenceDocument:this.jsonOp.referenceDocument,montantTTC:this.jsonOp.montantTTC,auditUser:sessionStorage.getItem("userId")},this.instance.instanceDocuments=this.addInstanceArray.instanceDocuments,this.instance.instanceDocuments.forEach(m=>{m.typeInstance.idParam=m.typeInstance.idParam}),this.sinistresService.addInstance(this.instance,this.codeSinistre,this.route.snapshot.paramMap.get("codeGarantie"),this.route.snapshot.paramMap.get("codeReserve")).subscribe({next:m=>{this.child.getAllInstanes(),xe().fire({title:"Instance cr\xe9er avec succ\xe9es",icon:"success",allowOutsideClick:!1,confirmButtonText:"OK",width:400}).then(I=>{}),this.LoaderInstance=!1},error:m=>{this.LoaderInstance=!1,xe().fire(m.messageStatut,"","error"),console.log(m)}})):xe().fire("Vous ne pouvez pas cr\xe9er d'instance sans document","","error")}}return f.\u0275fac=function(m){return new(m||f)(t.Y36(ee.F0),t.Y36(ee.gz),t.Y36(Zt.m),t.Y36(tt.M),t.Y36(Q.qu))},f.\u0275cmp=t.Xpm({type:f,selectors:[["app-creation-instance"]],viewQuery:function(m,I){if(1&m&&(t.Gf(Ig,5),t.Gf(Mt.NW,5)),2&m){let j;t.iGM(j=t.CRH())&&(I.child=j.first),t.iGM(j=t.CRH())&&(I.paginator=j.first)}},inputs:{jsonOp:"jsonOp"},decls:46,vars:18,consts:[[1,"container"],[1,"header-title"],["aria-label","directions_car",1,"mat-icon","notranslate","material-symbols-outlined","material-icons","mat-icon-no-color",3,"click"],[1,"row",3,"formGroup","ngSubmit"],["formDirective","ngForm"],["appearance","outline",1,"col-md-5"],["formControlName","typeInstance",3,"selectionChange"],[4,"ngFor","ngForOf"],["class","invalid-feedback",4,"ngIf"],["formControlName","typeDocumentList","multiple",""],["formArrayName","documents",4,"ngFor","ngForOf"],[1,"row-button"],["type","submit",1,"btn","btn-secondary",3,"disabled"],[4,"ngIf"],["color","white","diameter","20",4,"ngIf"],[1,"table"],["mat-table","",1,"gestion-table",3,"dataSource"],["matColumnDef","typeInstance"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","typeDocument"],["matColumnDef","statutDocument"],["matColumnDef","descriptionDocument"],["mat-header-row","","class","example-second-header-row",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["aria-label","Select page of users",3,"pageSize","pageSizeOptions"],["type","button",1,"btn","btn-action",3,"disabled","click"],[3,"value"],[1,"invalid-feedback"],[3,"value","click"],["formArrayName","documents"],[1,"row",3,"formGroupName"],["appearance","outline",1,"col-md-4"],["type","text","matInput","","formControlName","type"],["formControlName","description","matInput","","cdkTextareaAutosize","","cdkAutosizeMinRows","1","cdkAutosizeMaxRows","10"],["autosize","cdkTextareaAutosize"],["color","white","diameter","20"],["mat-header-cell",""],["mat-cell",""],["mat-header-row","",1,"example-second-header-row"],["mat-row",""]],template:function(m,I){if(1&m){const j=t.EpF();t.TgZ(0,"div",0)(1,"h2",1)(2,"mat-icon",2),t.NdJ("click",function(){return I.goBack()}),t._uU(3," arrow_circle_left "),t.qZA(),t._uU(4," Cr\xe9ation d'instance "),t.qZA(),t.TgZ(5,"form",3,4),t.NdJ("ngSubmit",function(){t.CHM(j);const It=t.MAs(6);return t.KtG(I.addInstance(It))}),t.TgZ(7,"mat-form-field",5)(8,"mat-label"),t._uU(9,"Type instance"),t.qZA(),t.TgZ(10,"mat-select",6),t.NdJ("selectionChange",function(It){return I.changeTypeInstance(It.value)}),t.YNc(11,Dh,3,2,"ng-container",7),t.qZA(),t.YNc(12,J1,2,1,"mat-error",8),t.qZA(),t.TgZ(13,"mat-form-field",5)(14,"mat-label"),t._uU(15,"type document"),t.qZA(),t.TgZ(16,"mat-select",9),t.YNc(17,Oh,3,2,"ng-container",7),t.qZA(),t.YNc(18,Mh,2,1,"mat-error",8),t.qZA(),t.YNc(19,o0,11,1,"div",10),t.TgZ(20,"div",11)(21,"button",12),t.YNc(22,r0,2,0,"span",13),t.YNc(23,a0,1,0,"mat-spinner",14),t.qZA()()(),t._UZ(24,"mat-divider",15),t.TgZ(25,"table",16),t.ynx(26,17),t.YNc(27,Uh,2,0,"th",18),t.YNc(28,Fh,2,1,"td",19),t.BQk(),t.ynx(29,20),t.YNc(30,s0,2,0,"th",18),t.YNc(31,Qh,2,1,"td",19),t.BQk(),t.ynx(32,21),t.YNc(33,l0,2,0,"th",18),t.YNc(34,Jh,2,1,"td",19),t.BQk(),t.ynx(35,22),t.YNc(36,Lh,2,0,"th",18),t.YNc(37,c0,2,1,"td",19),t.BQk(),t.YNc(38,Yh,1,0,"tr",23),t.YNc(39,Gh,1,0,"tr",24),t.qZA(),t._UZ(40,"mat-paginator",25),t.TgZ(41,"div",11)(42,"button",26),t.NdJ("click",function(){return I.submitInstance()}),t.YNc(43,Bh,2,0,"span",13),t.YNc(44,zh,1,0,"mat-spinner",14),t.qZA()(),t._UZ(45,"app-gestion-instances"),t.qZA()}2&m&&(t.xp6(5),t.Q6J("formGroup",I.formInstance),t.xp6(6),t.Q6J("ngForOf",I.typeInstancesArray),t.xp6(1),t.Q6J("ngIf",I.formInstance.controls.typeInstance.errors),t.xp6(5),t.Q6J("ngForOf",I.documentArray),t.xp6(1),t.Q6J("ngIf",I.formInstance.controls.typeDocumentList.errors),t.xp6(1),t.Q6J("ngForOf",I.formInstance.get("documents").controls),t.xp6(2),t.Q6J("disabled",I.LoaderInstance),t.xp6(1),t.Q6J("ngIf",!I.LoaderInstance),t.xp6(1),t.Q6J("ngIf",I.LoaderInstance),t.xp6(2),t.Q6J("dataSource",I.dataSourceDocuments),t.xp6(13),t.Q6J("matHeaderRowDef",I.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",I.displayedColumns),t.xp6(1),t.Q6J("pageSize",10)("pageSizeOptions",t.DdM(17,Vh)),t.xp6(2),t.Q6J("disabled",I.LoaderInstance),t.xp6(1),t.Q6J("ngIf",!I.LoaderInstance),t.xp6(1),t.Q6J("ngIf",I.LoaderInstance))},dependencies:[Se.sg,Se.O5,nn.d,_n.Hw,Q._Y,Q.Fj,Q.JJ,Q.JL,Q.sg,Q.u,Q.x0,Q.CE,mn.TO,mn.KE,mn.hX,Ri.IC,Xn.Nt,n.BZ,n.fO,n.as,n.w1,n.Dz,n.nj,n.ge,n.ev,n.XQ,n.Gk,Mt.NW,xt.gD,ht.ey,Qn.Ou,Ig],styles:[".container[_ngcontent-%COMP%]{background-color:#fff;padding:40px 0;height:100%;overflow-y:auto;overflow-x:hidden}.gestion-table[_ngcontent-%COMP%]{width:100%}.gestion-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .gestion-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:16px}.gestion-table[_ngcontent-%COMP%]   .mat-header-cell[_ngcontent-%COMP%]{color:#00008f;font-weight:600}.gestion-table[_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]:nth-child(even), .gestion-table[_ngcontent-%COMP%]   .mat-header-row[_ngcontent-%COMP%]{background-color:#f7f7f9}.gestion-table[_ngcontent-%COMP%]   .mat-paginator[_ngcontent-%COMP%]{background-color:transparent;margin:20px auto auto;width:80%}.gestion-table[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{height:100%;font-size:26px;color:#00008f;width:-moz-fit-content;width:fit-content}.mat-menu-item[_ngcontent-%COMP%]{font-size:15px}.mat-menu-item[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:18px;height:-moz-fit-content;height:fit-content}.mat-menu-item[_ngcontent-%COMP%]:hover:not([disabled]), .mat-menu-item[_ngcontent-%COMP%]:hover:not([disabled])   .mat-icon[_ngcontent-%COMP%]{color:#00008f}.header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:0px 2rem}.header[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{height:-moz-fit-content;height:fit-content;font-size:29px;margin-right:1rem;width:-moz-fit-content;width:fit-content}.title-table[_ngcontent-%COMP%]{margin-bottom:0rem;font-weight:800!important;font-size:23px!important;color:#00008f!important}.container[_ngcontent-%COMP%]{background-color:#fff;padding:40px 2rem;height:100%;overflow-y:hidden;overflow-x:hidden}mat-divider.table[_ngcontent-%COMP%]{margin-top:20px}h2.header-title[_ngcontent-%COMP%]{padding:0 24px;font-size:21px!important;color:#00008f;font-weight:600!important;letter-spacing:1px;display:flex;justify-content:space-between}h2.header-title[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{margin-right:1rem;font-size:32px;height:-moz-fit-content;height:fit-content;width:-moz-fit-content;width:fit-content}.btn.btn-action[_ngcontent-%COMP%], .btn.btn-secondary[_ngcontent-%COMP%]{float:right}form.row[_ngcontent-%COMP%]{margin-top:5rem;flex-direction:column}"]}),f})();function jh(f,D){if(1&f&&(t.ynx(0),t.TgZ(1,"mat-option",11),t._uU(2),t.qZA(),t.BQk()),2&f){const m=D.$implicit;t.xp6(1),t.Q6J("value",m),t.xp6(1),t.Oqu(m.description)}}function Hh(f,D){1&f&&(t.TgZ(0,"div"),t._uU(1," ce champs est obligatoire"),t.qZA())}function $h(f,D){if(1&f&&(t.TgZ(0,"mat-error",12),t.YNc(1,Hh,2,0,"div",13),t.qZA()),2&f){const m=t.oxw();t.xp6(1),t.Q6J("ngIf",m.formPayment.controls.modePayement.errors.required)}}function Kh(f,D){1&f&&(t.TgZ(0,"div"),t._uU(1," ce champs est obligatoire"),t.qZA())}function Wh(f,D){if(1&f&&(t.TgZ(0,"mat-error",12),t.YNc(1,Kh,2,0,"div",13),t.qZA()),2&f){const m=t.oxw(2);t.xp6(1),t.Q6J("ngIf",m.formPayment.controls.rib.errors.required)}}function Xh(f,D){if(1&f&&(t.TgZ(0,"mat-form-field",4)(1,"mat-label"),t._uU(2,"RIB"),t.qZA(),t._UZ(3,"input",14),t.YNc(4,Wh,2,1,"mat-error",7),t.qZA()),2&f){const m=t.oxw();t.xp6(4),t.Q6J("ngIf",m.formPayment.controls.rib.errors)}}function eC(f,D){if(1&f&&(t.ynx(0),t.TgZ(1,"mat-option",11),t._uU(2),t.qZA(),t.BQk()),2&f){const m=D.$implicit;t.xp6(1),t.Q6J("value",m.idAgence),t.xp6(1),t.Oqu(m.nomAgence)}}function tC(f,D){1&f&&(t.TgZ(0,"div"),t._uU(1," ce champs est obligatoire"),t.qZA())}function nC(f,D){if(1&f&&(t.TgZ(0,"mat-error",12),t.YNc(1,tC,2,0,"div",13),t.qZA()),2&f){const m=t.oxw();t.xp6(1),t.Q6J("ngIf",m.formPayment.controls.agence.errors.required)}}function iC(f,D){1&f&&(t.TgZ(0,"div",15)(1,"button",16),t._uU(2,"Enregistrer"),t.qZA()())}let m0=(()=>{class f{constructor(m,I,j,be,It,ri,Mi){this.authentificationService=m,this.route=I,this.router=j,this.sinistresService=be,this.agencesService=It,this.formBuilder=ri,this.genericService=Mi,this.modePayement=[],this.agencesArray=[],this.typeOpList=[],this.sinistreInf=[],this.errorCheck=!1,this.roleUser=JSON.parse(sessionStorage.getItem("roles")||""),this.sinistreRoles={"45A":["GESTIONNAIRE_SINISTRE","RESPONSABLE_SINISTRE","DIRECTEUR","CHEF_PROJET","ADMIN","ROLE_SUPER_ADMIN","ANALYSTE","GESTION_SINISTRE","GESTIONNAIRE_JUNIOR"],"45F":["GESTIONNAIRE_SINISTRE","RESPONSABLE_SINISTRE","DIRECTEUR","CHEF_PROJET","ADMIN","ROLE_SUPER_ADMIN","ANALYSTE","GESTION_SINISTRE","GESTIONNAIRE_JUNIOR"],"45L":["GESTIONNAIRE_SINISTRE","RESPONSABLE_SINISTRE","DIRECTEUR","CHEF_PROJET","ADMIN","ROLE_SUPER_ADMIN","ANALYSTE","GESTION_SINISTRE","GESTIONNAIRE_JUNIOR"],95:["GESTION_SINISTRE_MRH_MRP","RESPONSABLE_SINISTRE_MRH_MRP","ADMIN","ROLE_SUPER_ADMIN","ANALYSTE"],96:["GESTION_SINISTRE_MRH_MRP","RESPONSABLE_SINISTRE_MRH_MRP","ADMIN","ROLE_SUPER_ADMIN","ANALYSTE"]},this.paimentBody=new l}ngOnInit(){if(this.getSinistreInfo(),this.getDictionnaire(),this.getActiveAgence(),this.initFormPayment(),this.jsonOp||this.getInstanceById(),null!==this.codeSinistre){this.codeSinistre=this.route.snapshot.paramMap.get("codeSinistre");let m=!1;this.roleUser.find(I=>{this.sinistreRoles[this.codeProduit].includes(I)&&(m=!0)}),m||this.router.navigate(["/dashboard"])}}getInstanceById(){this.sinistresService.getInstanceById(this.route.snapshot.paramMap.get("idInstance")).subscribe({next:m=>{console.log(m),this.instance=m},error:m=>{xe().fire("error","","error")}})}getSinistreInfo(){this.sinistresService.getSinistreByCode(this.route.snapshot.paramMap.get("codeSinistre")).subscribe({next:m=>{this.idSinistre=m.idSinistre,this.sinistreInf=m,this.statusSinistre=m?.statut?.code,this.codeProduit=m?.produit.codeProduit},error:m=>{console.log(m)}})}checkPaiement(){this.sinistresService.checkPaiement(this.route.snapshot.paramMap.get("codeSinistre"),this.jsonOp?this.jsonOp:this.instance.decompteOp).subscribe({next:m=>{},error:m=>{console.log("error ",m?.messageStatut),xe().fire({title:m?.messageStatut?m?.messageStatut:m,icon:"error",allowOutsideClick:!1,confirmButtonText:"Ok",width:400}).then(I=>{I.isConfirmed&&this.router.navigate(["../../../../gestion-op"],{relativeTo:this.route})}),this.errorCheck=!0,this.formPayment.disabled(),console.log(m)}})}getActiveAgence(){this.agencesService.filterAgence({codeAgence:null,reseauDistribution:0,zone:0,statut:"active"}).subscribe({next:I=>{this.agencesArray=I},error:I=>{console.log(I)}})}getDictionnaire(){this.genericService.getParam(JSON.parse(sessionStorage.getItem("dictionnaire")||"{}").find(m=>"C72"==m.code).idCategorie).subscribe(m=>{this.modePayement=m}),this.genericService.getParam(JSON.parse(sessionStorage.getItem("dictionnaire")||"{}").find(m=>"C52"==m.code).idCategorie).subscribe(m=>{this.typeOpList=m})}initFormPayment(){this.formPayment=this.formBuilder.group({modePayement:["",[Q.kI.required]],rib:["",[Q.kI.required,Q.kI.pattern(w.e.number)]],agence:["",[Q.kI.required]]})}getSelectedMode(m){this.modeSelected=m.code,"04"==m.code?this.formPayment.get("rib").setValidators([Q.kI.required,Q.kI.pattern(w.e.number)]):this.formPayment.get("rib").setValidators([]),this.formPayment.get("rib").updateValueAndValidity()}submitPayement(m){console.log(this.jsonOp),this.formPayment.valid&&(this.paimentBody.sinistre={idSinistre:this.idSinistre},this.paimentBody.typeOp=this.jsonOp?this.jsonOp.typeOp:this.instance.decompteOp.typeOp,this.paimentBody.modeRecouvrement={idParam:this.formPayment.get("modePayement").value.idParam,code:this.formPayment.get("modePayement").value.code},"PV"==this.route.snapshot.paramMap.get("typeDecompte")?(this.jsonOp.decomptePv=this.jsonOp.calculateur,this.paimentBody.decompteOp={typeOp:this.jsonOp?this.jsonOp.typeOp:this.instance.decompteOp.typeOp,decomptePv:this.jsonOp?this.jsonOp.calculateur:this.instance.decompteOp.decomptePv,sinistrePersonne:this.jsonOp?this.jsonOp.sinistrePersonne:this.instance.decompteOp.sinistrePersonne,typeBenificiaire:this.jsonOp?this.jsonOp.typeBenificiaire:this.instance.decompteOp.typeBenificiaire,benificiaire:this.jsonOp?this.jsonOp.benificiaire:this.instance.decompteOp.benificiaire,nom:this.jsonOp?this.jsonOp.nom:this.instance.decompteOp.nom,prenom:this.jsonOp?this.jsonOp.prenom:this.instance.decompteOp.prenom,referenceDocument:this.jsonOp?this.jsonOp.referenceDocument:this.instance.decompteOp.referenceDocument,auditUser:sessionStorage.getItem("userId")},this.paimentBody.decompteOp=this.jsonOp?this.jsonOp:this.instance.decompteOp):this.paimentBody.decompteOp={typeOp:this.jsonOp?this.jsonOp.typeOp:this.instance.decompteOp.typeOp,decomptePv:null,sinistrePersonne:this.jsonOp?this.jsonOp.sinistrePersonne:this.instance.decompteOp.sinistrePersonne,typeBenificiaire:this.jsonOp?this.jsonOp.typeBenificiaire:this.instance.decompteOp.typeBenificiaire,benificiaire:this.jsonOp?this.jsonOp.benificiaire:this.instance.decompteOp.benificiaire,expert:this.jsonOp?this.jsonOp.expert:this.instance.decompteOp.expert,nom:this.jsonOp?this.jsonOp.nom:this.instance.decompteOp.nom,prenom:this.jsonOp?this.jsonOp.prenom:this.instance.decompteOp.prenom,referenceDocument:this.jsonOp?this.jsonOp.referenceDocument:this.instance.decompteOp.referenceDocument,montantTTC:this.jsonOp?this.jsonOp.montantTTC:this.instance.decompteOp.montantTTC,montantHTC:this.jsonOp?this.jsonOp.montantHTC:this.instance.decompteOp.montantHTC,tva:this.jsonOp?this.jsonOp.tva:this.instance.decompteOp.tva,totalHt:this.jsonOp?this.jsonOp.totalHt:this.instance.decompteOp.totalHt,auditUser:sessionStorage.getItem("userId")},this.paimentBody.agence={idAgence:this.formPayment.get("agence").value},this.paimentBody.instance={idSinistreInstance:this.jsonOp?null:this.route.snapshot.paramMap.get("idInstance")},this.paimentBody.referencePaiement=this.formPayment.get("rib").value?this.formPayment.get("rib").value:null,this.paimentBody.auditUser=sessionStorage.getItem("userId"),this.sinistresService.paiement(this.route.snapshot.paramMap.get("codeGarantie"),this.route.snapshot.paramMap.get("codeReserve"),this.paimentBody).subscribe({next:I=>{this.sinistresService.getReglement(I.idSinistreOp).subscribe({next:j=>{let be={contrat:I?.sinistreReserve?.sinistre?.contratHistorique?.idContrat?.idContrat,dateEffet:I?.sinistreReserve?.sinistre?.dateDeclaration};"OPA"==I?.typeOp?.code&&this.sinistresService.outputIndemnisation(j),this.sinistresService.historiqueAvenant(be).subscribe({next:It=>{"CP421"==I?.statut?.code&&this.sinistresService.getOpById(I.idSinistreOp).subscribe({next:ri=>{this.sinistresService.outputOp(j,It,ri)},error:ri=>{console.log(ri)}}),xe().fire({title:"paiement execut\xe9 avec succ\xe9es",icon:"success",allowOutsideClick:!1,confirmButtonText:"Confirmer",width:400}).then(ri=>{ri.isConfirmed&&("96"==this.codeProduit&&this.router.navigate(["/gestion-sinistre/dommage/96/mrh/gestionnaire-sinistre/dommage/"+this.codeSinistre+"/"+this.statusSinistre+"/reserve-paiement"],{relativeTo:this.route}),"45A"==this.codeProduit?this.router.navigate(["/gestion-sinistre/45A/automobileMono/gestionnaire-sinistre/"+this.codeSinistre+"/"+this.statusSinistre+"/reserve-paiement"],{relativeTo:this.route}):"45F"==this.codeProduit&&this.router.navigate(["/gestion-sinistre/45F/automobilFlotte/gestionnaire-sinistre/"+this.codeSinistre+"/"+this.statusSinistre+"/reserve-paiement"],{relativeTo:this.route}))})},error:It=>{console.log(It)}})},error:j=>{console.log(j)}})},error:I=>{console.log("error ",I),xe().fire({title:I?.messageStatut?I?.messageStatut:I,icon:"error",allowOutsideClick:!1,confirmButtonText:"Ok",width:400}),this.errorCheck=!0,this.formPayment.disabled(),console.log(I)}}))}goBack(){this.router.navigate(["../../../../../gestion-op"],{relativeTo:this.route})}}return f.\u0275fac=function(m){return new(m||f)(t.Y36(Cl.g),t.Y36(ee.gz),t.Y36(ee.F0),t.Y36(Zt.m),t.Y36(ln.e),t.Y36(Q.qu),t.Y36(tt.M))},f.\u0275cmp=t.Xpm({type:f,selectors:[["app-paiement-sinistre"]],inputs:{jsonOp:"jsonOp"},decls:20,vars:7,consts:[[1,"container"],[1,"header-title"],[1,"row",3,"formGroup","ngSubmit"],["formDirective","ngForm"],["appearance","outline",1,"col-md-5"],["formControlName","modePayement",3,"selectionChange"],[4,"ngFor","ngForOf"],["class","invalid-feedback",4,"ngIf"],["class","col-md-5","appearance","outline",4,"ngIf"],["formControlName","agence"],["class","row-button",4,"ngIf"],[3,"value"],[1,"invalid-feedback"],[4,"ngIf"],["type","text","matInput","","formControlName","rib"],[1,"row-button"],["type","submit",1,"btn","btn-action"]],template:function(m,I){if(1&m){const j=t.EpF();t.TgZ(0,"div",0)(1,"h2",1),t._uU(2," Paiement"),t.qZA(),t._UZ(3,"app-entete-gestion"),t.TgZ(4,"form",2,3),t.NdJ("ngSubmit",function(){t.CHM(j);const It=t.MAs(5);return t.KtG(I.submitPayement(It))}),t.TgZ(6,"mat-form-field",4)(7,"mat-label"),t._uU(8,"Mode de paiement"),t.qZA(),t.TgZ(9,"mat-select",5),t.NdJ("selectionChange",function(It){return I.getSelectedMode(It.value)}),t.YNc(10,jh,3,2,"ng-container",6),t.qZA(),t.YNc(11,$h,2,1,"mat-error",7),t.qZA(),t.YNc(12,Xh,5,1,"mat-form-field",8),t.TgZ(13,"mat-form-field",4)(14,"mat-label"),t._uU(15,"Agence"),t.qZA(),t.TgZ(16,"mat-select",9),t.YNc(17,eC,3,2,"ng-container",6),t.qZA(),t.YNc(18,nC,2,1,"mat-error",7),t.qZA(),t.YNc(19,iC,3,0,"div",10),t.qZA()()}2&m&&(t.xp6(4),t.Q6J("formGroup",I.formPayment),t.xp6(6),t.Q6J("ngForOf",I.modePayement),t.xp6(1),t.Q6J("ngIf",I.formPayment.controls.modePayement.errors),t.xp6(1),t.Q6J("ngIf","04"==I.modeSelected),t.xp6(5),t.Q6J("ngForOf",I.agencesArray),t.xp6(1),t.Q6J("ngIf",I.formPayment.controls.agence.errors),t.xp6(1),t.Q6J("ngIf",!I.errorCheck))},dependencies:[Se.sg,Se.O5,Q._Y,Q.Fj,Q.JJ,Q.JL,Q.sg,Q.u,mn.TO,mn.KE,mn.hX,Xn.Nt,xt.gD,ht.ey,rs],styles:[".container[_ngcontent-%COMP%]{background-color:#fff;padding:40px 2rem;height:100%;overflow-y:hidden;overflow-x:hidden}h2.header-title[_ngcontent-%COMP%]{padding:0 24px;font-size:21px!important;color:#00008f;font-weight:600!important;letter-spacing:1px;display:flex;justify-content:space-between}h2.header-title[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{margin-right:1rem;font-size:32px;height:-moz-fit-content;height:fit-content;width:-moz-fit-content;width:fit-content}.btn.btn-action[_ngcontent-%COMP%]{float:right}form.row[_ngcontent-%COMP%]{margin-top:5rem;flex-direction:column}"]}),f})(),oC=(()=>{class f{transform(m){return null==m?"":Math.floor(100*m)/100}}return f.\u0275fac=function(m){return new(m||f)},f.\u0275pipe=t.Yjl({name:"twoDegit",type:f,pure:!0}),f})();const rC=["stepper"];function aC(f,D){1&f&&t._uU(0,"Calculateur ")}const sC=function(){return["../../.."]};function lC(f,D){1&f&&(t.TgZ(0,"mat-icon",14),t._uU(1,"arrow_circle_left"),t.qZA()),2&f&&t.Q6J("routerLink",t.DdM(1,sC))}function cC(f,D){if(1&f){const m=t.EpF();t.TgZ(0,"mat-icon",15),t.NdJ("click",function(){t.CHM(m);const j=t.oxw(2);return t.KtG(j.missionSelected=!1)}),t._uU(1,"arrow_circle_left"),t.qZA()}}function uC(f,D){1&f&&(t.TgZ(0,"div"),t._uU(1," Calculateur "),t.qZA())}function mC(f,D){1&f&&(t.TgZ(0,"div",16),t._uU(1,"Ce sinistre ne contient aucune mission d'expertise"),t.qZA())}function dC(f,D){if(1&f){const m=t.EpF();t.TgZ(0,"button",17),t.NdJ("click",function(){t.CHM(m);const j=t.oxw(2);return t.KtG(j.goTo("expertise"))}),t.TgZ(1,"mat-icon",18),t._uU(2,"add_circle"),t.qZA(),t._uU(3," Ajouter une mission d'expertise "),t.qZA()}}function Ox(f,D){1&f&&(t.TgZ(0,"th",31),t._uU(1," N\xb0 Mission d'expertise "),t.qZA())}function _C(f,D){if(1&f&&(t.TgZ(0,"td",32),t._uU(1),t.qZA()),2&f){const m=D.$implicit;t.xp6(1),t.hij(" ",m.numMission," ")}}function pC(f,D){1&f&&(t.TgZ(0,"th",31),t._uU(1," Type Expertise "),t.qZA())}function fC(f,D){if(1&f&&(t.TgZ(0,"td",32),t._uU(1),t.qZA()),2&f){const m=D.$implicit;t.xp6(1),t.hij(" ",m.typeExpertise.description," ")}}function gC(f,D){1&f&&(t.TgZ(0,"th",31),t._uU(1," Mode Expertise "),t.qZA())}function d0(f,D){if(1&f&&(t.TgZ(0,"td",32),t._uU(1),t.qZA()),2&f){const m=D.$implicit;t.xp6(1),t.hij(" ",m.modeExpertise.description," ")}}function _0(f,D){1&f&&(t.TgZ(0,"th",31),t._uU(1," Expert "),t.qZA())}function wm(f,D){if(1&f&&(t.TgZ(0,"td",32),t._uU(1),t.qZA()),2&f){const m=D.$implicit;t.xp6(1),t.hij(" ",m.idexpert,"")}}function hC(f,D){1&f&&(t.TgZ(0,"th",31),t._uU(1," Date mission d'expertise "),t.qZA())}function Hf(f,D){if(1&f&&(t.TgZ(0,"td",32),t._uU(1),t.ALo(2,"dateFormatPipe"),t.qZA()),2&f){const m=D.$implicit;t.xp6(1),t.hij(" ",t.lcZ(2,1,m.dateMission)," ")}}function CC(f,D){1&f&&(t.TgZ(0,"th",31),t._uU(1," Statut "),t.qZA())}function xC(f,D){if(1&f&&(t.TgZ(0,"td",32),t._uU(1),t.qZA()),2&f){const m=D.$implicit;t.xp6(1),t.hij(" ",m.statutMission.description," ")}}function vC(f,D){1&f&&(t.TgZ(0,"th",31),t._uU(1," Action "),t.qZA())}function AC(f,D){if(1&f){const m=t.EpF();t.TgZ(0,"td",32)(1,"button",33)(2,"mat-icon"),t._uU(3,"more_vert"),t.qZA()(),t.TgZ(4,"mat-menu",34,35)(6,"button",36),t.NdJ("click",function(){const be=t.CHM(m).$implicit,It=t.oxw(3);return t.KtG(It.selectMission(be.idMissionExpertise,be.dateMission))}),t.TgZ(7,"mat-icon"),t._uU(8,"zoom_in"),t.qZA(),t.TgZ(9,"span"),t._uU(10,"Selectionner mission"),t.qZA()()()()}if(2&f){const m=D.$implicit,I=t.MAs(5);t.xp6(1),t.Q6J("matMenuTriggerFor",I),t.xp6(5),t.Q6J("disabled","S10"!=m.statutMission.code)}}function TC(f,D){1&f&&t._UZ(0,"tr",37)}function bC(f,D){1&f&&t._UZ(0,"tr",38)}function L1(f,D){if(1&f&&(t.TgZ(0,"section")(1,"table",19),t.ynx(2,20),t.YNc(3,Ox,2,0,"th",21),t.YNc(4,_C,2,1,"td",22),t.BQk(),t.ynx(5,23),t.YNc(6,pC,2,0,"th",21),t.YNc(7,fC,2,1,"td",22),t.BQk(),t.ynx(8,24),t.YNc(9,gC,2,0,"th",21),t.YNc(10,d0,2,1,"td",22),t.BQk(),t.ynx(11,25),t.YNc(12,_0,2,0,"th",21),t.YNc(13,wm,2,1,"td",22),t.BQk(),t.ynx(14,26),t.YNc(15,hC,2,0,"th",21),t.YNc(16,Hf,3,3,"td",22),t.BQk(),t.ynx(17,27),t.YNc(18,CC,2,0,"th",21),t.YNc(19,xC,2,1,"td",22),t.BQk(),t.ynx(20,28),t.YNc(21,vC,2,0,"th",21),t.YNc(22,AC,11,2,"td",22),t.BQk(),t.YNc(23,TC,1,0,"tr",29),t.YNc(24,bC,1,0,"tr",30),t.qZA()()),2&f){const m=t.oxw(2);t.xp6(1),t.Q6J("dataSource",m.dataSourceMission),t.xp6(22),t.Q6J("matHeaderRowDef",m.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",m.displayedColumns)}}function Y1(f,D){if(1&f&&(t.ynx(0),t.TgZ(1,"mat-option",87),t._uU(2),t.qZA(),t.BQk()),2&f){const m=D.$implicit;t.xp6(1),t.Q6J("value",m),t.xp6(1),t.Oqu(m.description)}}function G1(f,D){if(1&f&&(t.ynx(0),t.TgZ(1,"mat-option",87),t._uU(2),t.qZA(),t.BQk()),2&f){const m=D.$implicit;t.xp6(1),t.Q6J("value",m.idParam),t.xp6(1),t.Oqu(m.description)}}function PC(f,D){if(1&f&&(t.ynx(0),t.TgZ(1,"mat-option",87),t._uU(2),t.qZA(),t.BQk()),2&f){const m=D.$implicit;t.xp6(1),t.Q6J("value",m.idParam),t.xp6(1),t.Oqu(m.description)}}function ZC(f,D){if(1&f&&(t.ynx(0),t.TgZ(1,"mat-option",87),t._uU(2),t.qZA(),t.BQk()),2&f){const m=D.$implicit;t.xp6(1),t.Q6J("value",m.idParam),t.xp6(1),t.Oqu(m.description)}}function p0(f,D){if(1&f&&(t.ynx(0),t.TgZ(1,"mat-option",87),t._uU(2),t.qZA(),t.BQk()),2&f){const m=D.$implicit;t.xp6(1),t.Q6J("value",m),t.xp6(1),t.Oqu(m.description)}}function qC(f,D){if(1&f&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&f){const m=t.oxw().$implicit;t.xp6(1),t.hij("",m.vetuste," ")}}function SC(f,D){if(1&f&&(t.TgZ(0,"div"),t.YNc(1,qC,2,1,"span",6),t.qZA()),2&f){const m=D.$implicit;t.xp6(1),t.Q6J("ngIf","CP460"===m.typeInfoDecompte.code)}}function yC(f,D){1&f&&(t.TgZ(0,"div"),t._uU(1," le brut doit etre sup\xe9rieur \xe0 la retenue"),t.qZA())}function NC(f,D){if(1&f&&(t.TgZ(0,"mat-error",88),t.YNc(1,yC,2,0,"div",6),t.qZA()),2&f){const m=t.oxw(3);t.xp6(1),t.Q6J("ngIf",m.formCalculator.controls.retenue_CP460.retenueValid)}}function IC(f,D){if(1&f&&(t.ynx(0),t.TgZ(1,"mat-option",87),t._uU(2),t.qZA(),t.BQk()),2&f){const m=D.$implicit;t.xp6(1),t.Q6J("value",m.idParam),t.xp6(1),t.Oqu(m.description)}}function EC(f,D){if(1&f&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&f){const m=t.oxw().$implicit;t.xp6(1),t.hij("",m.vetuste," ")}}function RC(f,D){if(1&f&&(t.TgZ(0,"div"),t.YNc(1,EC,2,1,"span",6),t.qZA()),2&f){const m=D.$implicit;t.xp6(1),t.Q6J("ngIf","CP461"===m.typeInfoDecompte.code)}}function DC(f,D){1&f&&(t.TgZ(0,"div"),t._uU(1," le brut doit etre sup\xe9rieur \xe0 la retenue"),t.qZA())}function wC(f,D){if(1&f&&(t.TgZ(0,"mat-error",88),t.YNc(1,DC,2,0,"div",6),t.qZA()),2&f){const m=t.oxw(3);t.xp6(1),t.Q6J("ngIf",m.formCalculator.controls.retenue_CP461.hasError("max"))}}function OC(f,D){if(1&f&&(t.ynx(0),t.TgZ(1,"mat-option",87),t._uU(2),t.qZA(),t.BQk()),2&f){const m=D.$implicit;t.xp6(1),t.Q6J("value",m.idParam),t.xp6(1),t.Oqu(m.description)}}function kC(f,D){1&f&&(t.TgZ(0,"div"),t._uU(1," Max 100"),t.qZA())}function MC(f,D){if(1&f&&(t.TgZ(0,"mat-error",88),t.YNc(1,kC,2,0,"div",6),t.qZA()),2&f){const m=t.oxw(3);t.xp6(1),t.Q6J("ngIf",m.formCalculator.controls.vetuste_CP462.hasError("max"))}}function td(f,D){if(1&f&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"twoDegit"),t.qZA()),2&f){const m=t.oxw().$implicit;t.xp6(1),t.hij("",t.lcZ(2,1,m.vetuste)," ")}}function Eg(f,D){if(1&f&&(t.TgZ(0,"div"),t.YNc(1,td,3,3,"span",6),t.qZA()),2&f){const m=D.$implicit;t.xp6(1),t.Q6J("ngIf","CP462"===m.typeInfoDecompte.code)}}function UC(f,D){1&f&&(t.TgZ(0,"div"),t._uU(1," le brut doit etre sup\xe9rieur \xe0 la retenue"),t.qZA())}function $f(f,D){if(1&f&&(t.TgZ(0,"mat-error",88),t.YNc(1,UC,2,0,"div",6),t.qZA()),2&f){const m=t.oxw(3);t.xp6(1),t.Q6J("ngIf",m.formCalculator.controls.retenue_CP462.retenueValid)}}function FC(f,D){if(1&f&&(t.ynx(0),t.TgZ(1,"mat-option",87),t._uU(2),t.qZA(),t.BQk()),2&f){const m=D.$implicit;t.xp6(1),t.Q6J("value",m.idParam),t.xp6(1),t.Oqu(m.description)}}function QC(f,D){if(1&f&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&f){const m=t.oxw().$implicit;t.xp6(1),t.hij("",m.vetuste," ")}}function f0(f,D){if(1&f&&(t.TgZ(0,"div"),t.YNc(1,QC,2,1,"span",6),t.qZA()),2&f){const m=D.$implicit;t.xp6(1),t.Q6J("ngIf","CP463"===m.typeInfoDecompte.code)}}function JC(f,D){1&f&&(t.TgZ(0,"div"),t._uU(1," le brut doit etre sup\xe9rieur \xe0 la retenue"),t.qZA())}function Kf(f,D){if(1&f&&(t.TgZ(0,"mat-error",88),t.YNc(1,JC,2,0,"div",6),t.qZA()),2&f){const m=t.oxw(3);t.xp6(1),t.Q6J("ngIf",m.formCalculator.controls.retenue_CP463.retenueValid)}}function B1(f,D){if(1&f&&(t.ynx(0),t.TgZ(1,"mat-option",87),t._uU(2),t.qZA(),t.BQk()),2&f){const m=D.$implicit;t.xp6(1),t.Q6J("value",m.idParam),t.xp6(1),t.Oqu(m.description)}}function Vn(f,D){1&f&&(t.TgZ(0,"div"),t._uU(1," Max 100"),t.qZA())}function LC(f,D){if(1&f&&(t.TgZ(0,"mat-error",88),t.YNc(1,Vn,2,0,"div",6),t.qZA()),2&f){const m=t.oxw(3);t.xp6(1),t.Q6J("ngIf",m.formCalculator.controls.vetuste_CP464.hasError("max"))}}function Wf(f,D){if(1&f&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"twoDegit"),t.qZA()),2&f){const m=t.oxw().$implicit;t.xp6(1),t.hij("",t.lcZ(2,1,m.vetuste)," ")}}function YC(f,D){if(1&f&&(t.TgZ(0,"div"),t.YNc(1,Wf,3,3,"span",6),t.qZA()),2&f){const m=D.$implicit;t.xp6(1),t.Q6J("ngIf","CP464"===m.typeInfoDecompte.code)}}function GC(f,D){1&f&&(t.TgZ(0,"div"),t._uU(1," le brut doit etre sup\xe9rieur \xe0 la retenue"),t.qZA())}function BC(f,D){if(1&f&&(t.TgZ(0,"mat-error",88),t.YNc(1,GC,2,0,"div",6),t.qZA()),2&f){const m=t.oxw(3);t.xp6(1),t.Q6J("ngIf",m.formCalculator.controls.retenue_CP464.retenueValid)}}function zC(f,D){if(1&f&&(t.ynx(0),t.TgZ(1,"mat-option",87),t._uU(2),t.qZA(),t.BQk()),2&f){const m=D.$implicit;t.xp6(1),t.Q6J("value",m.idParam),t.xp6(1),t.Oqu(m.description)}}function VC(f,D){if(1&f){const m=t.EpF();t.TgZ(0,"button",89),t.NdJ("click",function(){t.CHM(m);const j=t.oxw(3);return t.KtG(j.saveCalculateur())}),t._uU(1,"Suivant "),t.qZA()}}function jC(f,D){if(1&f){const m=t.EpF();t.TgZ(0,"section")(1,"table",39)(2,"thead")(3,"tr")(4,"th"),t._uU(5,"Garantie"),t.qZA(),t.TgZ(6,"th"),t._uU(7,"Reserve"),t.qZA(),t.TgZ(8,"th"),t._uU(9,"Usage"),t.qZA()()(),t.TgZ(10,"tbody")(11,"tr")(12,"td",40),t._uU(13),t.qZA(),t.TgZ(14,"td",40),t._uU(15),t.qZA(),t.TgZ(16,"td",40),t._uU(17),t.qZA()()()(),t.TgZ(18,"form",41)(19,"table",42)(20,"tbody")(21,"tr")(22,"td"),t._uU(23,"Type Perte"),t.qZA(),t.TgZ(24,"td")(25,"mat-form-field")(26,"mat-select",43),t.NdJ("selectionChange",function(j){t.CHM(m);const be=t.oxw(2);return t.KtG(be.selectTypePerte(j.value))}),t.YNc(27,Y1,3,2,"ng-container",44),t.qZA()()()(),t.TgZ(28,"tr")(29,"td"),t._uU(30,"Visite du risque"),t.qZA(),t.TgZ(31,"td")(32,"mat-form-field")(33,"mat-select",45),t.YNc(34,G1,3,2,"ng-container",44),t.qZA()()()(),t.TgZ(35,"tr")(36,"td"),t._uU(37,"Calcul en HT / TTC"),t.qZA(),t.TgZ(38,"td")(39,"mat-form-field")(40,"mat-select",46),t.YNc(41,PC,3,2,"ng-container",44),t.qZA()()()(),t.TgZ(42,"tr")(43,"td"),t._uU(44,"Reference PV"),t.qZA(),t.TgZ(45,"td")(46,"mat-form-field"),t._UZ(47,"input",47),t.qZA()()(),t.TgZ(48,"tr")(49,"td"),t._uU(50,"Avis sur le PV"),t.qZA(),t.TgZ(51,"td")(52,"mat-form-field")(53,"mat-select",48),t.YNc(54,ZC,3,2,"ng-container",44),t.qZA()()()(),t.TgZ(55,"tr")(56,"td"),t._uU(57,"Controle usage"),t.qZA(),t.TgZ(58,"td")(59,"mat-form-field")(60,"mat-select",49),t.YNc(61,p0,3,2,"ng-container",44),t.qZA()()()(),t.TgZ(62,"tr")(63,"td"),t._uU(64,"Date PV"),t.qZA(),t.TgZ(65,"td")(66,"mat-form-field"),t._UZ(67,"input",50)(68,"mat-datepicker-toggle",51)(69,"mat-datepicker",null,52),t.qZA()()()()()(),t.TgZ(71,"form",41)(72,"table",53)(73,"thead")(74,"tr"),t._UZ(75,"th"),t.TgZ(76,"th"),t._uU(77,"Brut"),t.qZA(),t.TgZ(78,"th"),t._uU(79,"% Vetust\xe9"),t.qZA(),t.TgZ(80,"th"),t._uU(81,"Vetust\xe9"),t.qZA(),t.TgZ(82,"th"),t._uU(83,"Retenue"),t.qZA(),t.TgZ(84,"th"),t._uU(85,"Motif"),t.qZA(),t.TgZ(86,"th"),t._uU(87,"Net"),t.qZA()()(),t.TgZ(88,"tbody")(89,"tr")(90,"td"),t._uU(91,"Main d'\u0153uvre"),t.qZA(),t.TgZ(92,"td")(93,"mat-form-field")(94,"input",54),t.NdJ("ngModelChange",function(j){t.CHM(m);const be=t.oxw(2);return t.KtG(be.onBrutInput(j,"CP460"))}),t.qZA()()(),t._UZ(95,"td",40),t.TgZ(96,"td",40),t.YNc(97,SC,2,1,"div",44),t.qZA(),t.TgZ(98,"td")(99,"mat-form-field")(100,"input",55),t.NdJ("ngModelChange",function(j){t.CHM(m);const be=t.oxw(2);return t.KtG(be.onRetenueInput(j,"CP460"))}),t.qZA(),t.YNc(101,NC,2,1,"mat-error",56),t.qZA()(),t.TgZ(102,"td")(103,"mat-form-field")(104,"mat-select",57),t.YNc(105,IC,3,2,"ng-container",44),t.qZA()()(),t.TgZ(106,"td",58),t._uU(107),t.ALo(108,"twoDegit"),t.qZA()(),t.TgZ(109,"tr")(110,"td"),t._uU(111,"Peinture"),t.qZA(),t.TgZ(112,"td")(113,"mat-form-field")(114,"input",59),t.NdJ("ngModelChange",function(j){t.CHM(m);const be=t.oxw(2);return t.KtG(be.onBrutInput(j,"CP461"))}),t.qZA()()(),t._UZ(115,"td",40),t.TgZ(116,"td",40),t.YNc(117,RC,2,1,"div",44),t.qZA(),t.TgZ(118,"td")(119,"mat-form-field")(120,"input",60),t.NdJ("ngModelChange",function(j){t.CHM(m);const be=t.oxw(2);return t.KtG(be.onRetenueInput(j,"CP461"))}),t.qZA(),t.YNc(121,wC,2,1,"mat-error",56),t.qZA()(),t.TgZ(122,"td")(123,"mat-form-field")(124,"mat-select",61),t.YNc(125,OC,3,2,"ng-container",44),t.qZA()()(),t.TgZ(126,"td",58),t._uU(127),t.ALo(128,"twoDegit"),t.qZA()(),t.TgZ(129,"tr")(130,"td"),t._uU(131,"Fourniture"),t.qZA(),t.TgZ(132,"td")(133,"mat-form-field")(134,"input",62),t.NdJ("ngModelChange",function(j){t.CHM(m);const be=t.oxw(2);return t.KtG(be.onBrutInput(j,"CP462"))}),t.qZA()()(),t.TgZ(135,"td")(136,"mat-form-field"),t._UZ(137,"input",63),t.YNc(138,MC,2,1,"mat-error",56),t.qZA()(),t.TgZ(139,"td",58),t.YNc(140,Eg,2,1,"div",44),t.qZA(),t.TgZ(141,"td")(142,"mat-form-field")(143,"input",64),t.NdJ("ngModelChange",function(j){t.CHM(m);const be=t.oxw(2);return t.KtG(be.onRetenueInput(j,"CP462"))}),t.qZA(),t.YNc(144,$f,2,1,"mat-error",56),t.qZA()(),t.TgZ(145,"td")(146,"mat-form-field")(147,"mat-select",65),t.YNc(148,FC,3,2,"ng-container",44),t.qZA()()(),t.TgZ(149,"td",58),t._uU(150),t.ALo(151,"twoDegit"),t.qZA()(),t.TgZ(152,"tr")(153,"td"),t._uU(154,"Don glaces"),t.qZA(),t.TgZ(155,"td")(156,"mat-form-field")(157,"input",66),t.NdJ("ngModelChange",function(j){t.CHM(m);const be=t.oxw(2);return t.KtG(be.onBrutInput(j,"CP463"))}),t.qZA()()(),t._UZ(158,"td",40),t.TgZ(159,"td",40),t.YNc(160,f0,2,1,"div",44),t.qZA(),t.TgZ(161,"td")(162,"mat-form-field")(163,"input",67),t.NdJ("ngModelChange",function(j){t.CHM(m);const be=t.oxw(2);return t.KtG(be.onRetenueInput(j,"CP463"))}),t.qZA(),t.YNc(164,Kf,2,1,"mat-error",56),t.qZA()(),t.TgZ(165,"td")(166,"mat-form-field")(167,"mat-select",68),t.YNc(168,B1,3,2,"ng-container",44),t.qZA()()()(),t.TgZ(169,"tr")(170,"td"),t._uU(171,"Don pneux"),t.qZA(),t.TgZ(172,"td")(173,"mat-form-field")(174,"input",69),t.NdJ("ngModelChange",function(j){t.CHM(m);const be=t.oxw(2);return t.KtG(be.onBrutInput(j,"CP464"))}),t.qZA()()(),t.TgZ(175,"td")(176,"mat-form-field"),t._UZ(177,"input",70),t.YNc(178,LC,2,1,"mat-error",56),t.qZA()(),t.TgZ(179,"td",58),t.YNc(180,YC,2,1,"div",44),t.qZA(),t.TgZ(181,"td")(182,"mat-form-field")(183,"input",71),t.NdJ("ngModelChange",function(j){t.CHM(m);const be=t.oxw(2);return t.KtG(be.onRetenueInput(j,"CP464"))}),t.qZA(),t.YNc(184,BC,2,1,"mat-error",56),t.qZA()(),t.TgZ(185,"td")(186,"mat-form-field")(187,"mat-select",72),t.YNc(188,zC,3,2,"ng-container",44),t.qZA()()()(),t.TgZ(189,"tr")(190,"td"),t._uU(191,"Dommage brut"),t.qZA(),t.TgZ(192,"td",58),t._uU(193),t.ALo(194,"twoDegit"),t.qZA()(),t.TgZ(195,"tr")(196,"td"),t._uU(197,"V\xe9tust\xe9"),t.qZA(),t.TgZ(198,"td",58),t._uU(199),t.ALo(200,"twoDegit"),t.qZA()(),t.TgZ(201,"tr")(202,"td"),t._uU(203,"Dommage net vetust\xe9"),t.qZA(),t.TgZ(204,"td",58)(205,"mat-form-field")(206,"input",73),t.NdJ("ngModelChange",function(j){t.CHM(m);const be=t.oxw(2);return t.KtG(be.calcultateur.dommageNetVetuste=j)}),t.qZA()(),t._uU(207),t.ALo(208,"twoDegit"),t.qZA()(),t.TgZ(209,"tr")(210,"td",74),t._uU(211,"RP"),t.qZA(),t.TgZ(212,"td",75),t._uU(213,"Capitale"),t.qZA(),t.TgZ(214,"td",76),t._uU(215,"Capital assur\xe9"),t.qZA(),t.TgZ(216,"td",76),t._uU(217,"Valeur Expert"),t.qZA(),t.TgZ(218,"td",76),t._uU(219,"RP Capitaux"),t.qZA()(),t.TgZ(220,"tr")(221,"td",58),t._uU(222),t.ALo(223,"twoDegit"),t.qZA(),t.TgZ(224,"td")(225,"mat-form-field"),t._UZ(226,"input",77),t.qZA()(),t.TgZ(227,"td",58),t._uU(228),t.ALo(229,"twoDegit"),t.qZA()(),t.TgZ(230,"tr")(231,"td",78),t._uU(232,"Usage"),t.qZA(),t.TgZ(233,"td",76),t._uU(234,"RC Pay\xe9e"),t.qZA(),t.TgZ(235,"td",76),t._uU(236,"RC Due"),t.qZA(),t.TgZ(237,"td",76),t._uU(238,"RP RC"),t.qZA()(),t.TgZ(239,"tr")(240,"td",58),t._uU(241),t.ALo(242,"twoDegit"),t.qZA(),t.TgZ(243,"td",58),t._uU(244),t.ALo(245,"twoDegit"),t.qZA(),t.TgZ(246,"td",58),t._uU(247),t.ALo(248,"twoDegit"),t.qZA()(),t.TgZ(249,"tr")(250,"td"),t._uU(251,"R\xe9gle propotionnel"),t.qZA(),t.TgZ(252,"td",79),t._uU(253),t.ALo(254,"twoDegit"),t.qZA()(),t.TgZ(255,"tr")(256,"td"),t._uU(257,"Dommage net RP"),t.qZA(),t.TgZ(258,"td",79),t._uU(259),t.ALo(260,"twoDegit"),t.qZA()(),t.TgZ(261,"tr")(262,"td"),t._uU(263,"Immobilisation"),t.qZA(),t.TgZ(264,"td")(265,"mat-form-field"),t._UZ(266,"input",80),t.qZA()(),t.TgZ(267,"td",58),t._uU(268),t.ALo(269,"twoDegit"),t.qZA()(),t.TgZ(270,"tr")(271,"td"),t._uU(272,"Franchise"),t.qZA(),t.TgZ(273,"td",79)(274,"mat-form-field")(275,"input",81),t.NdJ("ngModelChange",function(j){t.CHM(m);const be=t.oxw(2);return t.KtG(be.calcultateur.franchise=j)}),t.qZA()(),t._uU(276),t.ALo(277,"twoDegit"),t.qZA()(),t.TgZ(278,"tr")(279,"td"),t._uU(280,"Part technique"),t.qZA(),t.TgZ(281,"td",79),t._uU(282),t.ALo(283,"twoDegit"),t.qZA()(),t.TgZ(284,"tr")(285,"td"),t._uU(286,"Part commerciale"),t.qZA(),t.TgZ(287,"td",82)(288,"mat-form-field"),t._UZ(289,"input",83),t.qZA()()(),t.TgZ(290,"tr")(291,"td"),t._uU(292,"Total \xe0 regler"),t.qZA(),t.TgZ(293,"td",79),t._uU(294),t.ALo(295,"twoDegit"),t.qZA()()()(),t.TgZ(296,"div",84),t.YNc(297,VC,2,0,"button",85),t.TgZ(298,"button",86),t.NdJ("click",function(){t.CHM(m);const j=t.oxw(2);return t.KtG(j.submitCalculateur())}),t._uU(299,"Calculer "),t.qZA()()()()}if(2&f){const m=t.MAs(70),I=t.oxw(2);t.xp6(13),t.Oqu(I.nomGarantie),t.xp6(2),t.Oqu(I.nomReserve),t.xp6(2),t.hij("",I.usage," "),t.xp6(1),t.Q6J("formGroup",I.formInfoGenerale),t.xp6(9),t.Q6J("ngForOf",I.typePerteArray),t.xp6(7),t.Q6J("ngForOf",I.visiteRisqueArray),t.xp6(7),t.Q6J("ngForOf",I.calculHTTTCArray),t.xp6(13),t.Q6J("ngForOf",I.avisPVCArray),t.xp6(7),t.Q6J("ngForOf",I.controleUsageArray),t.xp6(6),t.Q6J("matDatepicker",m)("max",I.today)("min",I.dateExpertise),t.xp6(1),t.Q6J("for",m),t.xp6(3),t.Q6J("formGroup",I.formCalculator),t.xp6(26),t.Q6J("ngForOf",I.calcultateur.sinistreDecompteInfos),t.xp6(4),t.Q6J("ngIf",I.formCalculator.controls.retenue_CP460.errors),t.xp6(4),t.Q6J("ngForOf",I.motifArray),t.xp6(2),t.Oqu(t.lcZ(108,49,I.netObj.CP460)),t.xp6(10),t.Q6J("ngForOf",I.calcultateur.sinistreDecompteInfos),t.xp6(4),t.Q6J("ngIf",I.formCalculator.controls.retenue_CP461.errors),t.xp6(4),t.Q6J("ngForOf",I.motifArray),t.xp6(2),t.Oqu(t.lcZ(128,51,I.netObj.CP461)),t.xp6(11),t.Q6J("ngIf",I.formCalculator.controls.vetuste_CP462.errors),t.xp6(2),t.Q6J("ngForOf",I.calcultateur.sinistreDecompteInfos),t.xp6(4),t.Q6J("ngIf",I.formCalculator.controls.retenue_CP462.errors),t.xp6(4),t.Q6J("ngForOf",I.motifArray),t.xp6(2),t.Oqu(t.lcZ(151,53,I.netObj.CP462)),t.xp6(10),t.Q6J("ngForOf",I.calcultateur.sinistreDecompteInfos),t.xp6(4),t.Q6J("ngIf",I.formCalculator.controls.retenue_CP463.errors),t.xp6(4),t.Q6J("ngForOf",I.motifArray),t.xp6(10),t.Q6J("ngIf",I.formCalculator.controls.vetuste_CP464.errors),t.xp6(2),t.Q6J("ngForOf",I.calcultateur.sinistreDecompteInfos),t.xp6(4),t.Q6J("ngIf",I.formCalculator.controls.retenue_CP464.errors),t.xp6(4),t.Q6J("ngForOf",I.motifArray),t.xp6(5),t.Oqu(t.lcZ(194,55,I.calcultateur.dommageBrut)),t.xp6(6),t.Oqu(t.lcZ(200,57,I.calcultateur.vetuste)),t.xp6(8),t.hij(" ",t.lcZ(208,59,I.calcultateur.dommageNetVetuste),""),t.xp6(15),t.Oqu(t.lcZ(223,61,I.calcultateur.capitalAssure)),t.xp6(6),t.Oqu(t.lcZ(229,63,I.calcultateur.rpcapitaux)),t.xp6(13),t.Oqu(t.lcZ(242,65,I.calcultateur.rcpayee)),t.xp6(3),t.Oqu(t.lcZ(245,67,I.calcultateur.rcdue)),t.xp6(3),t.Oqu(t.lcZ(248,69,I.calcultateur.rcrp)),t.xp6(6),t.Oqu(t.lcZ(254,71,I.calcultateur.reglePropotionnel)),t.xp6(6),t.Oqu(t.lcZ(260,73,I.calcultateur.dommageNetRp)),t.xp6(9),t.Oqu(t.lcZ(269,75,I.calcultateur.immobilisation)),t.xp6(8),t.hij(" ",t.lcZ(277,77,I.calcultateur.franchise)," "),t.xp6(6),t.Oqu(t.lcZ(283,79,I.calcultateur.partTechnique)),t.xp6(12),t.Oqu(t.lcZ(295,81,I.calcultateur.totalRegle)),t.xp6(3),t.Q6J("ngIf",I.calculatorReady)}}function HC(f,D){if(1&f&&(t.TgZ(0,"mat-step",3),t.YNc(1,aC,1,0,"ng-template",4),t.TgZ(2,"div",8)(3,"h2",9),t.YNc(4,lC,2,2,"mat-icon",10),t.YNc(5,cC,2,0,"mat-icon",11),t.YNc(6,uC,2,0,"div",6),t.qZA()(),t._UZ(7,"app-entete-gestion"),t.YNc(8,mC,2,0,"div",12),t.YNc(9,dC,4,0,"button",13),t.YNc(10,L1,25,3,"section",6),t.YNc(11,jC,300,83,"section",6),t.qZA()),2&f){const m=t.oxw();t.Q6J("editable",!0),t.xp6(4),t.Q6J("ngIf",!m.missionSelected),t.xp6(1),t.Q6J("ngIf",m.missionSelected),t.xp6(1),t.Q6J("ngIf",m.missionSelected),t.xp6(2),t.Q6J("ngIf",0==m.dataSourceMission.data.length),t.xp6(1),t.Q6J("ngIf",!m.missionSelected),t.xp6(1),t.Q6J("ngIf",!m.missionSelected&&0!=m.dataSourceMission.data.length),t.xp6(1),t.Q6J("ngIf",m.missionSelected)}}function kx(f,D){1&f&&t._uU(0,"Creation OP ")}function $C(f,D){if(1&f){const m=t.EpF();t.TgZ(0,"app-create-op-assure",90),t.NdJ("newItemEvent",function(j){t.CHM(m);const be=t.oxw();return t.KtG(be.emitOp(j))}),t.qZA()}if(2&f){const m=t.oxw();t.Q6J("calculateur",m.calcultateur)}}function KC(f,D){1&f&&t._uU(0,"Paiement ")}function Xf(f,D){1&f&&t.YNc(0,KC,1,0,"ng-template",4)}function WC(f,D){1&f&&t._uU(0,"Instance ")}function XC(f,D){1&f&&t.YNc(0,WC,1,0,"ng-template",4)}function ex(f,D){if(1&f&&t._UZ(0,"app-paiement-sinistre",91),2&f){const m=t.oxw();t.Q6J("jsonOp",m.jsonOp)}}function tx(f,D){if(1&f&&t._UZ(0,"app-creation-instance",91),2&f){const m=t.oxw();t.Q6J("jsonOp",m.jsonOp)}}function us(f){return f.value&&!/^\d+(\.\d{1,2})?$/.test(f.value)?{invalidDecimal:!0}:null}let g0=(()=>{class f{constructor(m,I,j,be,It,ri){this.missionExpertiseService=m,this.router=I,this.route=j,this.sinistresService=be,this.formBuilder=It,this.genericService=ri,this.dateExpertise=new Date,this.today=new Date,this.typePerteArray=[],this.visiteRisqueArray=[],this.calculHTTTCArray=[],this.avisPVCArray=[],this.infoDecomptArray=[],this.typeOpList=[],this.controleUsageArray=[],this.motifArray=[],this.calcultateur=new O,this.nomGarantie="",this.nomReserve="",this.usage="",this.typeDecompte=this.route.snapshot.paramMap.get("typeDecompte"),this.calculatorReady=!1,this.netObj={},this.jsonOp={},this.LoaderCalculator=!1,this.missionSelected=!1,this.step3=!1,this.step4=!1,this.dataSourceMission=new n.by,this.displayedColumns=["numMission","typeExpertise","modeExpertise","expert","dateMission","statut","action"],this.roleUser=JSON.parse(sessionStorage.getItem("roles")||""),this.sinistreRoles={"45A":["GESTIONNAIRE_SINISTRE","RESPONSABLE_SINISTRE","DIRECTEUR","CHEF_PROJET","ADMIN","ROLE_SUPER_ADMIN","ANALYSTE","GESTION_SINISTRE","GESTIONNAIRE_JUNIOR"],"45F":["GESTIONNAIRE_SINISTRE","RESPONSABLE_SINISTRE","DIRECTEUR","CHEF_PROJET","ADMIN","ROLE_SUPER_ADMIN","ANALYSTE","GESTION_SINISTRE","GESTIONNAIRE_JUNIOR"],"45L":["GESTIONNAIRE_SINISTRE","RESPONSABLE_SINISTRE","DIRECTEUR","CHEF_PROJET","ADMIN","ROLE_SUPER_ADMIN","ANALYSTE","GESTION_SINISTRE","GESTIONNAIRE_JUNIOR"],95:["GESTION_SINISTRE_MRH_MRP","RESPONSABLE_SINISTRE_MRH_MRP","ADMIN","ROLE_SUPER_ADMIN","ANALYSTE"],96:["GESTION_SINISTRE_MRH_MRP","RESPONSABLE_SINISTRE_MRH_MRP","ADMIN","ROLE_SUPER_ADMIN","ANALYSTE"]}}ngOnInit(){this.getAllMissionExpertise(),this.getReserveNames(this.route.snapshot.paramMap.get("codeReserve"),this.route.snapshot.paramMap.get("codeGarantie")),this.getSinistreInfo(),this.initFormCalculator(),this.nomProduit=this.route.snapshot.paramMap.get("codeReserve"),this.codeProduit=this.route.snapshot.paramMap.get("codeProduit");let m=!1;this.roleUser.find(I=>{this.sinistreRoles[this.codeProduit+""].includes(I)&&(m=!0)}),m||this.router.navigate(["/dashboard"])}getAllMissionExpertise(){this.missionExpertiseService.getAllMissionsExpertisesByCode(this.route.snapshot.paramMap.get("codeSinistre")).subscribe({next:m=>{m=m.filter(I=>"S10"==I.statutMission.code),this.dataSourceMission=new n.by(m),this.dataSourceMission.paginator=this.paginator},error:m=>{console.log(m)}})}getReserveNames(m,I){this.sinistresService.getReserveNames(m,I).subscribe({next:j=>{this.nomGarantie=j.nomGarantie,this.nomReserve=j.nomReserve},error:j=>{console.log(j)}})}getSinistreInfo(){this.sinistresService.getSinistreByCode(this.route.snapshot.paramMap.get("codeSinistre")).subscribe({next:m=>{this.usage=m.contratHistorique.risqueList.filter(I=>"P52"==I.paramRisque.codeParam)[0].idParamReponse.description,this.idSinistre=m.idSinistre},error:m=>{console.log(m)}})}selectTypePerte(m){"CP446"!=m.code?(this.formCalculator.disable(),this.formInfoGenerale.disable(),this.formInfoGenerale.get("typePerte").enable()):(this.formCalculator.enable(),this.formInfoGenerale.enable())}initFormCalculator(){this.formCalculator=this.formBuilder.group({brut_CP460:[null,[us,Q.kI.required]],brut_CP461:[null,[us,Q.kI.required]],brut_CP462:[null,[us,Q.kI.required]],brut_CP463:[null,[us]],brut_CP464:[null,[us]],vetuste_CP462:[null,[us,Q.kI.max(100)]],vetuste_CP464:[null,[us,Q.kI.max(100)]],dommageNetVetuste:[{value:null,disabled:!0},[us]],franchise:[{value:null,disabled:!0},[us]],retenue_CP460:[null,[us]],retenue_CP461:[null,[us]],retenue_CP462:[null,[us]],retenue_CP463:[null,[us]],retenue_CP464:[null,[us]],motif_CP460:[null,[]],motif_CP461:[null,[]],motif_CP462:[null,[]],motif_CP463:[null,[]],motif_CP464:[null,[]],nbImmobilisation:[null,[Q.kI.required,us]],capitalValeurExpert:[null,[us]],partCommerciale:[null,[us]]}),this.formInfoGenerale=this.formBuilder.group({typePerte:[null,[Q.kI.required]],visiteRisque:[null,[Q.kI.required]],calculHTTTC:["",[Q.kI.required]],referencePV:["",[Q.kI.required]],avisPV:["",[Q.kI.required]],controleUsage:["",[Q.kI.required]],datePV:["",[Q.kI.required]]}),this.getDictionnaire(),this.formInfoGenerale.valueChanges.subscribe(()=>{this.calculatorReady=!1}),this.formCalculator.valueChanges.subscribe(()=>{this.calculatorReady=!1})}getDictionnaire(){this.genericService.getParam(JSON.parse(sessionStorage.getItem("dictionnaire")||"{}").find(m=>"C62"==m.code).idCategorie).subscribe(m=>{this.typePerteArray=m}),this.genericService.getParam(JSON.parse(sessionStorage.getItem("dictionnaire")||"{}").find(m=>"C63"==m.code).idCategorie).subscribe(m=>{this.visiteRisqueArray=m}),this.genericService.getParam(JSON.parse(sessionStorage.getItem("dictionnaire")||"{}").find(m=>"C64"==m.code).idCategorie).subscribe(m=>{this.calculHTTTCArray=m}),this.genericService.getParam(JSON.parse(sessionStorage.getItem("dictionnaire")||"{}").find(m=>"C65"==m.code).idCategorie).subscribe(m=>{this.avisPVCArray=m.reverse()}),this.genericService.getParam(JSON.parse(sessionStorage.getItem("dictionnaire")||"{}").find(m=>"C19"==m.code).idCategorie).subscribe(m=>{this.controleUsageArray=m}),this.genericService.getParam(JSON.parse(sessionStorage.getItem("dictionnaire")||"{}").find(m=>"C67"==m.code).idCategorie).subscribe(m=>{this.infoDecomptArray=m}),this.genericService.getParam(JSON.parse(sessionStorage.getItem("dictionnaire")||"{}").find(m=>"C66"==m.code).idCategorie).subscribe(m=>{this.motifArray=m}),this.genericService.getParam(JSON.parse(sessionStorage.getItem("dictionnaire")||"{}").find(m=>"C52"==m.code).idCategorie).subscribe(m=>{this.typeOpList=m})}get bruts(){return this.formCalculator.get("bruts")}newBruts(){return this.formBuilder.group({mainOeuvre:["",[]],peinture:["",[]],fourniture:["",[]],donGlaces:["",[]],donPneux:["",[]]})}submitCalculateur(){if(this.formInfoGenerale.valid&&this.formCalculator.valid)if(this.formCalculator.get("brut_CP463").value+this.formCalculator.get("brut_CP464").value<=this.formCalculator.get("brut_CP462").value){let m;this.calcultateur=new O,this.calcultateur.missionExpertise={idMissionExpertise:this.missionExpertiseId},this.calcultateur.typePerte={idParam:this.formInfoGenerale.get("typePerte").value.idParam},this.calcultateur.visiteRisque={idParam:this.formInfoGenerale.get("visiteRisque").value},this.calcultateur.calculHtTtc={idParam:this.formInfoGenerale.get("calculHTTTC").value},this.calcultateur.referencePV=this.formInfoGenerale.get("referencePV").value,this.calcultateur.avisPv={idParam:this.formInfoGenerale.get("avisPV").value},this.calcultateur.controleUsage={idParam:this.formInfoGenerale.get("controleUsage").value.idParam,code:this.formInfoGenerale.get("controleUsage").value.code},this.calcultateur.sinistreDecompteInfos=[],this.infoDecomptArray.map(I=>{m=new J,m.typeInfoDecompte={idParam:I.idParam,code:I.code},m.brut=this.formCalculator.get("brut_"+m.typeInfoDecompte.code)?.value,m.retenue=this.formCalculator.get("retenue_"+m.typeInfoDecompte.code)?.value,m.motif=null==this.formCalculator.get("motif_"+m.typeInfoDecompte.code).value?null:{idParam:this.formCalculator.get("motif_"+m.typeInfoDecompte.code).value},("CP462"==m.typeInfoDecompte.code||"CP464"==m.typeInfoDecompte.code)&&(m.pourcentageVetuste=this.formCalculator.get("vetuste_"+m.typeInfoDecompte.code)?.value),this.calcultateur.sinistreDecompteInfos.push(m)}),this.calcultateur.valeurExpert=this.formCalculator.get("capitalValeurExpert")?.value,this.calcultateur.nbImmobilisation=this.formCalculator.get("nbImmobilisation")?.value,this.calcultateur.partCommeciale=this.formCalculator.get("partCommerciale")?.value,this.calcultateur.dommageNetVetuste=this.formCalculator.get("dommageNetVetuste")?.value,this.calcultateur.franchise=this.formCalculator.get("franchise")?.value,this.sinistresService.calculateur(this.calcultateur,this.route.snapshot.paramMap.get("codeSinistre"),this.route.snapshot.paramMap.get("codeGarantie"),this.route.snapshot.paramMap.get("codeReserve")).subscribe({next:I=>{this.calcultateur=I,this.calcultateur.datePv=o(this.formInfoGenerale.get("datePV")?.value).format("YYYY-MM-DD"),this.formCalculator.get("dommageNetVetuste").enable(),this.formCalculator.get("dommageNetVetuste").setValue(this.calcultateur.dommageNetVetuste),this.formCalculator.get("franchise").enable(),this.formCalculator.get("franchise").setValue(this.calcultateur.franchise),this.calcultateur.sinistreDecompteInfos.map(j=>{Object.assign(this.netObj,{[j.typeInfoDecompte.code]:j.net})}),this.calculatorReady=!0,console.log(this.calcultateur)},error:I=>{this.calculatorReady=!1,console.log(I)}})}else xe().fire("La somme de don gla\xe7e et don pneux doit etre inf\xe9rieur \xe0 fourniture","","error");else this.formInfoGenerale.markAllAsTouched()}emitOp(m){this.jsonOp=m,xe().fire({title:"D\xe9compte enregistr\xe9 avec succ\xe8s",showDenyButton:!0,icon:"success",allowOutsideClick:!1,confirmButtonText:"Passer au paiement",denyButtonText:"Passer en instance",denyButtonColor:"#4942E4"}).then(I=>{I.isConfirmed?(this.step3=!0,this.stepper.next()):I.isDenied&&(this.step4=!0,this.stepper.next())})}saveCalculateur(){this.stepper.next()}onRetenueInput(m,I){m>0?this.formCalculator.get("motif_"+I).setValidators([Q.kI.required]):this.formCalculator.get("motif_"+I).setValidators([]),this.formCalculator.get("motif_"+I).updateValueAndValidity()}onBrutInput(m,I){this.formCalculator.get("retenue_"+I).setValue(null),this.formCalculator.get("retenue_"+I).setValidators([Q.kI.max(m),us]),("CP464"==I||"CP462"==I)&&m>0?(this.formCalculator.get("vetuste_"+I).setValidators([Q.kI.required,us,Q.kI.max(100)]),this.formCalculator.get("vetuste_"+I).updateValueAndValidity()):("CP464"==I||"CP462"==I)&&(0==m||null==m)&&(this.formCalculator.get("vetuste_"+I).setValidators([us,Q.kI.max(100)]),this.formCalculator.get("vetuste_"+I).updateValueAndValidity())}selectMission(m,I){this.dateExpertise=I,this.missionSelected=!0,this.missionExpertiseId=m}goTo(m){switch(m){case"instance":this.router.navigate(["../../../../..//PV/"+this.idDecompte+"/creation-instance"],{relativeTo:this.route});break;case"paiment":this.typeOpList.filter(be=>"OPA"==be.code);break;case"expertise":window.open("/gestion-missionsExpertise/gestion-mission-expertise/"+this.idSinistre+"/"+this.nomProduit+"/creation-mission-expertise","_blank")}}addExpertise(){}}return f.\u0275fac=function(m){return new(m||f)(t.Y36(zl),t.Y36(ee.F0),t.Y36(ee.gz),t.Y36(Zt.m),t.Y36(Q.qu),t.Y36(tt.M))},f.\u0275cmp=t.Xpm({type:f,selectors:[["app-calculateur"]],viewQuery:function(m,I){if(1&m&&(t.Gf(Mt.NW,5),t.Gf(rC,5)),2&m){let j;t.iGM(j=t.CRH())&&(I.paginator=j.first),t.iGM(j=t.CRH())&&(I.stepper=j.first)}},decls:12,vars:8,consts:[[1,"container"],["stepper",""],[3,"editable",4,"ngIf"],[3,"editable"],["matStepLabel",""],[3,"calculateur","newItemEvent",4,"ngIf"],[4,"ngIf"],[3,"jsonOp",4,"ngIf"],[1,"header-container"],[1,"header-title"],["aria-hidden","false","class","material-symbols-outlined","matTooltip","Retour","matTooltipPosition","left",3,"routerLink",4,"ngIf"],["aria-hidden","false","class","material-symbols-outlined","matTooltip","Retour","matTooltipPosition","left",3,"click",4,"ngIf"],["class","alert alert-danger",4,"ngIf"],["class","btn btn-secondary","style","display: flex;align-items: center;margin-bottom: 1rem;",3,"click",4,"ngIf"],["aria-hidden","false","matTooltip","Retour","matTooltipPosition","left",1,"material-symbols-outlined",3,"routerLink"],["aria-hidden","false","matTooltip","Retour","matTooltipPosition","left",1,"material-symbols-outlined",3,"click"],[1,"alert","alert-danger"],[1,"btn","btn-secondary",2,"display","flex","align-items","center","margin-bottom","1rem",3,"click"],["aria-hidden","false",1,"material-symbols-outlined"],["mat-table","",1,"gestion-table",3,"dataSource"],["matColumnDef","numMission"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","typeExpertise"],["matColumnDef","modeExpertise"],["matColumnDef","expert"],["matColumnDef","dateMission"],["matColumnDef","statut"],["matColumnDef","action"],["mat-header-row","","class","example-second-header-row",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],["mat-icon-button","","type","button","aria-label","menu",3,"matMenuTriggerFor"],["xPosition","after",1,"menu-formule"],["menu","matMenu"],["mat-menu-item","","type","button",3,"disabled","click"],["mat-header-row","",1,"example-second-header-row"],["mat-row",""],[1,"garanties"],[1,"disabled-td"],[1,"form-calculator",3,"formGroup"],[1,"generale"],["formControlName","typePerte","placeholder","valeur",3,"selectionChange"],[4,"ngFor","ngForOf"],["formControlName","visiteRisque","placeholder","valeur"],["formControlName","calculHTTTC","placeholder","valeur"],["type","text","matInput","","placeholder","valeur","formControlName","referencePV"],["formControlName","avisPV","placeholder","valeur"],["formControlName","controleUsage","placeholder","valeur"],["matInput","","formControlName","datePV","placeholder","date",3,"matDatepicker","max","min"],["matSuffix","",3,"for"],["datePV",""],[1,"typeInfoDecompte"],["type","number","matInput","","placeholder","montant","formControlName","brut_CP460",3,"ngModelChange"],["type","number","matInput","","placeholder","montant","formControlName","retenue_CP460",3,"ngModelChange"],["class","invalid-feedback",4,"ngIf"],["formControlName","motif_CP460","placeholder","motif"],[1,"result-td"],["type","number","matInput","","placeholder","montant","formControlName","brut_CP461",3,"ngModelChange"],["type","number","matInput","","placeholder","montant","formControlName","retenue_CP461",3,"ngModelChange"],["placeholder","motif","formControlName","motif_CP461"],["type","number","matInput","","placeholder","montant","formControlName","brut_CP462",3,"ngModelChange"],["type","number","matInput","","placeholder","pourcentage","max","100","formControlName","vetuste_CP462"],["type","number","matInput","","placeholder","montant","formControlName","retenue_CP462",3,"ngModelChange"],["placeholder","motif","formControlName","motif_CP462"],["type","number","matInput","","placeholder","montant","formControlName","brut_CP463",3,"ngModelChange"],["type","number","matInput","","placeholder","montant","formControlName","retenue_CP463",3,"ngModelChange"],["placeholder","motif","formControlName","motif_CP463"],["type","number","matInput","","placeholder","montant","formControlName","brut_CP464",3,"ngModelChange"],["type","number","matInput","","placeholder","pourcentage","max","100","formControlName","vetuste_CP464"],["type","number","matInput","","placeholder","montant","formControlName","retenue_CP464",3,"ngModelChange"],["placeholder","motif","formControlName","motif_CP464"],["type","number","matInput","","placeholder","Dommage net vetust\xe9","formControlName","dommageNetVetuste",3,"ngModelChange"],["rowspan","4"],["rowspan","2",1,"header-tr"],[1,"header-tr"],["type","number","matInput","","placeholder","montant","formControlName","capitalValeurExpert"],["rowspan","2"],["colspan","2",1,"result-td"],["type","number","matInput","","placeholder","jours","formControlName","nbImmobilisation"],["type","number","matInput","","placeholder","Franchise","formControlName","franchise",3,"ngModelChange"],["colspan","2"],["type","number","matInput","","placeholder","montant","formControlName","partCommerciale"],[1,"button-row"],["class","btn btn-action","type","submit",3,"click",4,"ngIf"],["type","submit",1,"btn","btn-secondary",3,"click"],[3,"value"],[1,"invalid-feedback"],["type","submit",1,"btn","btn-action",3,"click"],[3,"calculateur","newItemEvent"],[3,"jsonOp"]],template:function(m,I){1&m&&(t.TgZ(0,"div",0)(1,"mat-stepper",null,1),t.YNc(3,HC,12,8,"mat-step",2),t.TgZ(4,"mat-step",3),t.YNc(5,kx,1,0,"ng-template",4),t.YNc(6,$C,1,1,"app-create-op-assure",5),t.qZA(),t.TgZ(7,"mat-step",3),t.YNc(8,Xf,1,0,null,6),t.YNc(9,XC,1,0,null,6),t.YNc(10,ex,1,1,"app-paiement-sinistre",7),t.YNc(11,tx,1,1,"app-creation-instance",7),t.qZA()()()),2&m&&(t.xp6(3),t.Q6J("ngIf","PV"==I.typeDecompte),t.xp6(1),t.Q6J("editable",!0),t.xp6(2),t.Q6J("ngIf",I.calculatorReady||"OP"==I.typeDecompte),t.xp6(1),t.Q6J("editable",!0),t.xp6(1),t.Q6J("ngIf",I.step3),t.xp6(1),t.Q6J("ngIf",I.step4),t.xp6(1),t.Q6J("ngIf",I.step3),t.xp6(1),t.Q6J("ngIf",I.step4))},dependencies:[Se.sg,Se.O5,_n.Hw,xn.VK,xn.OP,xn.p6,Q._Y,Q.Fj,Q.wV,Q.JJ,Q.JL,Q.Fd,Q.sg,Q.u,mn.TO,mn.KE,mn.R9,Xn.Nt,n.BZ,n.fO,n.as,n.w1,n.Dz,n.nj,n.ge,n.ev,n.XQ,n.Gk,Bi.gM,Lt.Mq,Lt.hl,Lt.nW,xt.gD,ht.ey,Jn.lW,pi.C0,pi.VY,pi.Vq,ee.rH,ye,u0,m0,rs,tn.y,oC],styles:[".container[_ngcontent-%COMP%]{background-color:#fff;padding:40px 0;height:100%;overflow-y:auto;overflow-x:hidden}.gestion-table[_ngcontent-%COMP%]{width:100%}.gestion-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .gestion-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:16px}.gestion-table[_ngcontent-%COMP%]   .mat-header-cell[_ngcontent-%COMP%]{color:#00008f;font-weight:600}.gestion-table[_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]:nth-child(even), .gestion-table[_ngcontent-%COMP%]   .mat-header-row[_ngcontent-%COMP%]{background-color:#f7f7f9}.gestion-table[_ngcontent-%COMP%]   .mat-paginator[_ngcontent-%COMP%]{background-color:transparent;margin:20px auto auto;width:80%}.gestion-table[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{height:100%;font-size:26px;color:#00008f;width:-moz-fit-content;width:fit-content}.header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:0px 2rem}.header[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{height:-moz-fit-content;height:fit-content;font-size:29px;margin-right:1rem;width:-moz-fit-content;width:fit-content}.title-table[_ngcontent-%COMP%]{margin-bottom:0rem;font-weight:800!important;font-size:23px!important;color:#00008f!important}.container[_ngcontent-%COMP%]{background-color:#fff;padding:40px 2rem;height:100%;overflow-y:hidden;overflow-x:hidden}h2.header-title[_ngcontent-%COMP%]{padding:0 24px;font-size:21px!important;color:#00008f;font-weight:600!important;letter-spacing:1px;display:flex;justify-content:space-between}h2.header-title[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{margin-right:1rem;font-size:32px;height:-moz-fit-content;height:fit-content;width:-moz-fit-content;width:fit-content}table[_ngcontent-%COMP%]{margin-bottom:3rem}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:not(.generale), table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:10px}table.generale[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:0 10px}table.garanties[_ngcontent-%COMP%]{width:46%}table.generale[_ngcontent-%COMP%]{width:30%}table.typeInfoDecompte[_ngcontent-%COMP%]{width:100%}table.typeInfoDecompte[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:not(:first-child), table.garanties[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], table.generale[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], table.typeInfoDecompte[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], table.garanties[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], table.generale[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border:1px solid rgba(0,0,0,.21);border-collapse:collapse}.disabled-td[_ngcontent-%COMP%]{background-color:#d7d7d7}.result-td[_ngcontent-%COMP%]{background-color:#d7d7d76b;font-weight:600}.btn.btn-secondary[_ngcontent-%COMP%]{float:right}.header-tr[_ngcontent-%COMP%], table.typeInfoDecompte[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:not(:first-child), table.typeInfoDecompte[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child:not(.disabled-td), table.garanties[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], table.generale[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{color:#00008f;background-color:#f7f7f9;font-weight:700}.form-calculator[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{width:100%}.mat-menu-item[_ngcontent-%COMP%]{font-size:15px}.mat-menu-item[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:18px;height:-moz-fit-content;height:fit-content}.mat-menu-item[_ngcontent-%COMP%]:hover:not([disabled]), .mat-menu-item[_ngcontent-%COMP%]:hover:not([disabled])   .mat-icon[_ngcontent-%COMP%]{color:#00008f}.button-row[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-end}.button-row[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:first-child{margin-bottom:2rem}"]}),f})();function h0(f,D){1&f&&(t.TgZ(0,"th",30),t._uU(1," N\xb0 OP/OR"),t.qZA())}function ox(f,D){if(1&f&&(t.TgZ(0,"td",31),t._uU(1),t.qZA()),2&f){const m=D.$implicit;t.xp6(1),t.hij("",m.codeOp," ")}}function C0(f,D){1&f&&(t.TgZ(0,"th",30),t._uU(1," Statut "),t.qZA())}function x0(f,D){if(1&f&&(t.TgZ(0,"td",31),t._uU(1),t.qZA()),2&f){const m=D.$implicit;t.xp6(1),t.hij("",null==m.statut?null:m.statut.description," ")}}function v0(f,D){1&f&&(t.TgZ(0,"th",30),t._uU(1," Type "),t.qZA())}function A0(f,D){if(1&f&&(t.TgZ(0,"td",31),t._uU(1),t.qZA()),2&f){const m=D.$implicit;t.xp6(1),t.hij("",m.typeOp.description," ")}}function rx(f,D){1&f&&(t.TgZ(0,"th",30),t._uU(1," Date de cr\xe9ation "),t.qZA())}function T0(f,D){if(1&f&&(t.TgZ(0,"td",31),t._uU(1),t.qZA()),2&f){const m=D.$implicit;t.xp6(1),t.Oqu(m.auditDate.split("T")[0])}}function ax(f,D){1&f&&(t.TgZ(0,"th",30),t._uU(1," Mode de paiement /Recouvrement "),t.qZA())}function sx(f,D){if(1&f&&(t.TgZ(0,"td",31),t._uU(1),t.qZA()),2&f){const m=D.$implicit;t.xp6(1),t.hij("",m.modeRecouvrement.description," ")}}function eg(f,D){1&f&&(t.TgZ(0,"th",30),t._uU(1,"Montant "),t.qZA())}function b0(f,D){if(1&f&&(t.TgZ(0,"td",31),t._uU(1),t.ALo(2,"number"),t.qZA()),2&f){const m=D.$implicit;t.xp6(1),t.hij("",t.xi3(2,1,m.montant,"1.1-2")," ")}}function P0(f,D){1&f&&(t.TgZ(0,"th",30),t._uU(1," Action "),t.qZA())}function Z0(f,D){1&f&&(t.TgZ(0,"span"),t._uU(1," Consulter OP "),t.qZA())}function lx(f,D){1&f&&(t.TgZ(0,"span"),t._uU(1," Consulter OR "),t.qZA())}function q0(f,D){if(1&f){const m=t.EpF();t.TgZ(0,"button",38),t.NdJ("click",function(){t.CHM(m);const j=t.oxw().$implicit,be=t.oxw();return t.KtG(be.getOpById(j.idSinistreOp))}),t.TgZ(1,"mat-icon"),t._uU(2,"zoom_in"),t.qZA(),t.TgZ(3,"span"),t._uU(4," Imprimer OP "),t.qZA()()}if(2&f){const m=t.oxw(2);t.Q6J("disabled",!(m.roleExist&&!m.isConsult||m.cdcDaImprim))}}function S0(f,D){1&f&&(t.TgZ(0,"span"),t._uU(1," Approuver OP "),t.qZA())}function zp(f,D){if(1&f){const m=t.EpF();t.TgZ(0,"button",38),t.NdJ("click",function(){t.CHM(m);const j=t.oxw().$implicit,be=t.oxw();return t.KtG(be.goTo("approuv",j.idSinistreOp))}),t.TgZ(1,"mat-icon"),t._uU(2,"zoom_in"),t.qZA(),t.YNc(3,S0,2,0,"span",36),t.qZA()}if(2&f){const m=t.oxw().$implicit,I=t.oxw();t.Q6J("disabled",!I.roleExist||I.isCdcDa||"Ferm\xe9"===I.statuN||"Annul\xe9e"===I.statuN),t.xp6(3),t.Q6J("ngIf","OPA"==m.typeOp.code||"OPP"==m.typeOp.code||"OPT"==m.typeOp.code||"ROR"==m.typeOp.code)}}function z1(f,D){1&f&&(t.TgZ(0,"span"),t._uU(1," Annuler OP "),t.qZA())}function cx(f,D){1&f&&(t.TgZ(0,"span"),t._uU(1," Annuler OR "),t.qZA())}function ux(f,D){if(1&f){const m=t.EpF();t.TgZ(0,"td",31)(1,"button",32)(2,"mat-icon"),t._uU(3,"more_vert"),t.qZA()(),t.TgZ(4,"mat-menu",33,34)(6,"button",35),t.NdJ("click",function(){const be=t.CHM(m).$implicit,It=t.oxw();return t.KtG(It.goTo("consulter",be.idSinistreOp))}),t.TgZ(7,"mat-icon"),t._uU(8,"zoom_in"),t.qZA(),t.YNc(9,Z0,2,0,"span",36),t.YNc(10,lx,2,0,"span",36),t.qZA(),t.YNc(11,q0,5,1,"button",37),t.YNc(12,zp,4,2,"button",37),t.TgZ(13,"button",38),t.NdJ("click",function(){const be=t.CHM(m).$implicit,It=t.oxw();return t.KtG(It.goTo("annuler",be.idSinistreOp))}),t.TgZ(14,"mat-icon"),t._uU(15,"zoom_in"),t.qZA(),t.YNc(16,z1,2,0,"span",36),t.YNc(17,cx,2,0,"span",36),t.qZA()()()}if(2&f){const m=D.$implicit,I=t.MAs(5),j=t.oxw();t.xp6(1),t.Q6J("matMenuTriggerFor",I),t.xp6(8),t.Q6J("ngIf","OPA"==m.typeOp.code||"OPP"==m.typeOp.code||"OPT"==m.typeOp.code||"ROR"==m.typeOp.code),t.xp6(1),t.Q6J("ngIf","OR"==m.typeOp.code),t.xp6(1),t.Q6J("ngIf","OR"!=m.typeOp.code),t.xp6(1),t.Q6J("ngIf","OPA"==m.typeOp.code||"OPP"==m.typeOp.code||"OPT"==m.typeOp.code||"ROR"==m.typeOp.code),t.xp6(1),t.Q6J("disabled",!j.roleExist||j.isCdcDa||"Ferm\xe9"===j.statuN||"Annul\xe9e"===j.statuN),t.xp6(3),t.Q6J("ngIf","OPA"==m.typeOp.code||"OPP"==m.typeOp.code||"OPT"==m.typeOp.code||"ROR"==m.typeOp.code),t.xp6(1),t.Q6J("ngIf","OR"==m.typeOp.code)}}function A_(f,D){1&f&&t._UZ(0,"tr",39)}function y0(f,D){1&f&&t._UZ(0,"tr",40)}const mx=function(){return[5,10]};function tg(f,D){1&f&&(t.TgZ(0,"mat-panel-title"),t._uU(1," OP "),t.qZA())}function Pr(f,D){1&f&&(t.TgZ(0,"mat-panel-title"),t._uU(1," OR "),t.qZA())}function Ga(f,D){1&f&&(t.TgZ(0,"mat-panel-title"),t._uU(1," R\xe8glement apr\xe8s recours "),t.qZA())}function gr(f,D){if(1&f&&(t.TgZ(0,"div")(1,"div",8)(2,"div",9)(3,"div",10)(4,"div",11),t._uU(5,"Type b\xe9n\xe9cifiaire : "),t.qZA(),t.TgZ(6,"div",12),t._uU(7),t.qZA()()()(),t.TgZ(8,"div",8)(9,"div",9)(10,"div",10)(11,"div",11),t._uU(12,"Nom b\xe9n\xe9cifiaire : "),t.qZA(),t.TgZ(13,"div",12),t._uU(14),t.qZA()()(),t.TgZ(15,"div",9)(16,"div",10)(17,"div",11),t._uU(18,"Pr\xe9nom b\xe9n\xe9cifiaire : "),t.qZA(),t.TgZ(19,"div",12),t._uU(20),t.qZA()()()()()),2&f){const m=t.oxw(2);t.xp6(7),t.hij(" ",m.decompteOp.decompteOp.benificiaire.description," "),t.xp6(7),t.hij(" ",null!=m.decompteOp.decompteOp.nom?m.decompteOp.decompteOp.nom:m.decompteOp.nom," "),t.xp6(6),t.hij(" ",null!=m.decompteOp.decompteOp.prenom?m.decompteOp.decompteOp.prenom:m.decompteOp.prenom," ")}}function Hl(f,D){if(1&f&&(t.TgZ(0,"div",8)(1,"div",9)(2,"div",10)(3,"div",11),t._uU(4,"Nom b\xe9n\xe9cifiaire : "),t.qZA(),t.TgZ(5,"div",12),t._uU(6),t.qZA()()(),t.TgZ(7,"div",9)(8,"div",10)(9,"div",11),t._uU(10,"Pr\xe9nom b\xe9n\xe9cifiaire : "),t.qZA(),t.TgZ(11,"div",12),t._uU(12),t.qZA()()()()),2&f){const m=t.oxw(2);t.xp6(6),t.hij(" ",m.decompteOp.nom," "),t.xp6(6),t.hij(" ",m.decompteOp.prenom," ")}}function V1(f,D){if(1&f&&(t.TgZ(0,"div",12),t._uU(1),t.qZA()),2&f){const m=t.oxw(2);t.xp6(1),t.AsE(" ",m.decompteOp.userValidation.nom," ",m.decompteOp.userValidation.prenom," ")}}function tm(f,D){if(1&f&&(t.TgZ(0,"div",9)(1,"div",10)(2,"div",11),t._uU(3,"RIB : "),t.qZA(),t.TgZ(4,"div",12),t._uU(5),t.qZA()()()),2&f){const m=t.oxw(2);t.xp6(5),t.hij(" ",m.decompteOp.referencePaiement," ")}}function lf(f,D){if(1&f&&(t.TgZ(0,"div",7)(1,"div",8)(2,"div",9)(3,"div",10)(4,"div",11),t._uU(5,"Type OP : "),t.qZA(),t.TgZ(6,"div",12),t._uU(7),t.qZA()()()(),t.YNc(8,gr,21,3,"div",13),t.YNc(9,Hl,13,2,"ng-template",null,14,t.W1O),t.TgZ(11,"div",8)(12,"div",9)(13,"div",10)(14,"div",11),t._uU(15,"R\xe9f\xe9rence document :"),t.qZA(),t.TgZ(16,"div",12),t._uU(17),t.qZA()()(),t.TgZ(18,"div",9)(19,"div",10)(20,"div",11),t._uU(21,"Montant TTC : "),t.qZA(),t.TgZ(22,"div",12),t._uU(23),t.ALo(24,"number"),t.qZA()()()(),t.TgZ(25,"div",8)(26,"div",9)(27,"div",10)(28,"div",11),t._uU(29,"Date validation OP :"),t.qZA(),t.TgZ(30,"div",12),t._uU(31),t.ALo(32,"date"),t.qZA()()(),t.TgZ(33,"div",9)(34,"div",10)(35,"div",11),t._uU(36,"User cr\xe9ation OP : "),t.qZA(),t.TgZ(37,"div",12),t._uU(38),t.qZA()()()(),t.TgZ(39,"div",8)(40,"div",9)(41,"div",10)(42,"div",11),t._uU(43,"User validation OP :"),t.qZA(),t.YNc(44,V1,2,2,"div",15),t.qZA()(),t.YNc(45,tm,6,1,"div",16),t.qZA(),t.TgZ(46,"div",8)(47,"div",9)(48,"div",10)(49,"div",11),t._uU(50,"Agence :"),t.qZA(),t.TgZ(51,"div",12),t._uU(52),t.qZA()()()()()),2&f){const m=t.MAs(10),I=t.oxw();t.xp6(7),t.hij(" ",I.decompteOp.typeOp.description," "),t.xp6(1),t.Q6J("ngIf",I.beneficiaire)("ngIfElse",m),t.xp6(9),t.hij(" ",null!=I.decompteOp.decompteOp.referenceDocument?I.decompteOp.decompteOp.referenceDocument:I.decompteOp.modeRecouvrement.description," "),t.xp6(6),t.hij(" ",t.xi3(24,11,I.decompteOp.montant,"1.1-2")," DZD "),t.xp6(8),t.hij(" ",t.xi3(32,14,I.decompteOp.dateValidation,"dd/MM/yyyy")," "),t.xp6(7),t.AsE(" ",I.decompteOp.userCreation.nom," ",I.decompteOp.userCreation.prenom," "),t.xp6(6),t.Q6J("ngIf",I.userValidation),t.xp6(1),t.Q6J("ngIf",I.rib),t.xp6(7),t.hij(" ",I.decompteOp.agence.idPersonneMorale.raisonSocial," ")}}function nd(f,D){if(1&f&&(t.TgZ(0,"div")(1,"div",8)(2,"div",9)(3,"div",10)(4,"div",11),t._uU(5,"Type prestataire : "),t.qZA(),t.TgZ(6,"div",12),t._uU(7),t.qZA()()()(),t.TgZ(8,"div",8)(9,"div",9)(10,"div",10)(11,"div",11),t._uU(12,"Pr\xe9stataire : "),t.qZA(),t.TgZ(13,"div",12),t._uU(14),t.qZA()()()()()),2&f){const m=t.oxw(2);t.xp6(7),t.hij(" ",m.decompteOp.decompteOp.expert.description," "),t.xp6(7),t.hij(" ",null==m.decompteOp.decompteOp||null==m.decompteOp.decompteOp.expert||null==m.decompteOp.decompteOp.expert.idPersonneMorale?null:m.decompteOp.decompteOp.expert.idPersonneMorale.raisonSocial," ")}}function nm(f,D){if(1&f&&(t.TgZ(0,"div")(1,"div",8)(2,"div",9)(3,"div",10)(4,"div",11),t._uU(5,"Pr\xe9stataire : "),t.qZA(),t.TgZ(6,"div",12),t._uU(7),t.qZA()()()()()),2&f){const m=t.oxw(2);t.xp6(7),t.AsE(" ",m.decompteOp.decompteOp.nom," ",m.decompteOp.decompteOp.prenom," ")}}function T_(f,D){if(1&f&&(t.TgZ(0,"div",12),t._uU(1),t.qZA()),2&f){const m=t.oxw(2);t.xp6(1),t.AsE(" ",m.decompteOp.userValidation.nom," ",m.decompteOp.userValidation.prenom," ")}}function _x(f,D){if(1&f&&(t.TgZ(0,"div",9)(1,"div",10)(2,"div",11),t._uU(3,"RIB : "),t.qZA(),t.TgZ(4,"div",12),t._uU(5),t.qZA()()()),2&f){const m=t.oxw(2);t.xp6(5),t.hij(" ",m.decompteOp.referencePaiement," ")}}function px(f,D){if(1&f&&(t.TgZ(0,"div",7)(1,"div",8)(2,"div",9)(3,"div",10)(4,"div",11),t._uU(5,"Type OP : "),t.qZA(),t.TgZ(6,"div",12),t._uU(7),t.qZA()()()(),t.YNc(8,nd,15,2,"div",5),t.YNc(9,nm,8,2,"div",5),t.TgZ(10,"div",8)(11,"div",9)(12,"div",10)(13,"div",11),t._uU(14,"R\xe9f\xe9rence document : "),t.qZA(),t.TgZ(15,"div",12),t._uU(16),t.qZA()()()(),t.TgZ(17,"div",8)(18,"div",9)(19,"div",10)(20,"div",11),t._uU(21,"TVA : "),t.qZA(),t.TgZ(22,"div",12),t._uU(23),t.qZA()()(),t.TgZ(24,"div",9)(25,"div",10)(26,"div",11),t._uU(27,"Montant TTC: "),t.qZA(),t.TgZ(28,"div",12),t._uU(29),t.ALo(30,"number"),t.qZA()()()(),t.TgZ(31,"div",8)(32,"div",9)(33,"div",10)(34,"div",11),t._uU(35,"Date validation OP :"),t.qZA(),t.TgZ(36,"div",12),t._uU(37),t.ALo(38,"date"),t.qZA()()(),t.TgZ(39,"div",9)(40,"div",10)(41,"div",11),t._uU(42,"User cr\xe9ation OP : "),t.qZA(),t.TgZ(43,"div",12),t._uU(44),t.qZA()()()(),t.TgZ(45,"div",8)(46,"div",9)(47,"div",10)(48,"div",11),t._uU(49,"User validation OP :"),t.qZA(),t.YNc(50,T_,2,2,"div",15),t.qZA()(),t.YNc(51,_x,6,1,"div",16),t.qZA(),t.TgZ(52,"div",8)(53,"div",9)(54,"div",10)(55,"div",11),t._uU(56,"Agence :"),t.qZA(),t.TgZ(57,"div",12),t._uU(58),t.qZA()()()()()),2&f){const m=t.oxw();t.xp6(7),t.hij(" ",m.decompteOp.typeOp.description," "),t.xp6(1),t.Q6J("ngIf",m.expert),t.xp6(1),t.Q6J("ngIf",!m.expert),t.xp6(7),t.hij(" ",null!=m.decompteOp.decompteOp.referenceDocument?m.decompteOp.decompteOp.referenceDocument:m.decompteOp.modeRecouvrement.description," "),t.xp6(7),t.hij(" ",null!=m.decompteOp.decompteOp.tva?m.decompteOp.decompteOp.tva.description+"%":""," "),t.xp6(6),t.hij(" ",t.xi3(30,12,m.decompteOp.montant,"1.1-2")," DZD "),t.xp6(8),t.hij(" ",t.xi3(38,15,m.decompteOp.dateValidation,"dd/MM/yyyy")," "),t.xp6(7),t.AsE(" ",m.decompteOp.userCreation.nom," ",m.decompteOp.userCreation.prenom," "),t.xp6(6),t.Q6J("ngIf",m.userValidation),t.xp6(1),t.Q6J("ngIf",m.rib),t.xp6(7),t.hij(" ",m.decompteOp.agence.idPersonneMorale.raisonSocial," ")}}function j1(f,D){if(1&f&&(t.TgZ(0,"div",9)(1,"div",10)(2,"div",11),t._uU(3,"Type b\xe9n\xe9ficiaire : "),t.qZA(),t.TgZ(4,"div",12),t._uU(5),t.qZA()()()),2&f){const m=t.oxw(2);t.xp6(5),t.hij(" ",m.decompteOp.decompteOp.benificiaire.description," ")}}function H1(f,D){if(1&f&&(t.TgZ(0,"div",12),t._uU(1),t.qZA()),2&f){const m=t.oxw(3);t.xp6(1),t.AsE(" ",m.decompteOp.decompteOp.sinistrePersonne.nom," ",m.decompteOp.decompteOp.sinistrePersonne.prenom," ")}}function fx(f,D){if(1&f&&(t.TgZ(0,"div",12),t._uU(1),t.qZA()),2&f){const m=t.oxw(3);t.xp6(1),t.hij(" ",m.decompteOp.decompteOp.sinistrePersonne.compagnyAdverse.description," ")}}function Cc(f,D){if(1&f&&(t.TgZ(0,"div")(1,"div",8)(2,"div",9)(3,"div",10)(4,"div",11),t._uU(5,"Compagnie adverse : "),t.qZA(),t.TgZ(6,"div",12),t._uU(7),t.qZA()()(),t.TgZ(8,"div",9)(9,"div",10)(10,"div",11),t._uU(11," B\xe9n\xe9ficiaire: "),t.qZA(),t.YNc(12,H1,2,2,"div",15),t.YNc(13,fx,2,1,"div",15),t.qZA()()()()),2&f){const m=t.oxw(2);t.xp6(7),t.hij(" ",m.decompteOp.decompteOp.sinistrePersonne.compagnyAdverse.description," "),t.xp6(5),t.Q6J("ngIf","CP405"==m.compagnieAdverse),t.xp6(1),t.Q6J("ngIf","CP405"!=m.compagnieAdverse)}}function Mx(f,D){if(1&f&&(t.TgZ(0,"div")(1,"div",8)(2,"div",9)(3,"div",10)(4,"div",11),t._uU(5,"Nom b\xe9n\xe9ficiaire : "),t.qZA(),t.TgZ(6,"div",12),t._uU(7),t.qZA()()(),t.TgZ(8,"div",9)(9,"div",10)(10,"div",11),t._uU(11,"Pr\xe9nom b\xe9n\xe9ficiaire : "),t.qZA(),t.TgZ(12,"div",12),t._uU(13),t.qZA()()()()()),2&f){const m=t.oxw(2);t.xp6(7),t.hij(" ",m.decompteOp.decompteOp.nom," "),t.xp6(6),t.hij(" ",m.decompteOp.decompteOp.prenom," ")}}function N0(f,D){if(1&f&&(t.TgZ(0,"div",12),t._uU(1),t.qZA()),2&f){const m=t.oxw(2);t.xp6(1),t.AsE(" ",m.decompteOp.userValidation.nom," ",m.decompteOp.userValidation.prenom," ")}}function gx(f,D){if(1&f&&(t.TgZ(0,"div",9)(1,"div",10)(2,"div",11),t._uU(3,"RIB : "),t.qZA(),t.TgZ(4,"div",12),t._uU(5),t.qZA()()()),2&f){const m=t.oxw(2);t.xp6(5),t.hij(" ",m.decompteOp.referencePaiement," ")}}function hx(f,D){if(1&f&&(t.TgZ(0,"div",7)(1,"div",8)(2,"div",9)(3,"div",10)(4,"div",11),t._uU(5,"Type OP : "),t.qZA(),t.TgZ(6,"div",12),t._uU(7),t.qZA()()()(),t.TgZ(8,"div",8)(9,"div",9)(10,"div",10)(11,"div",11),t._uU(12,"Type tier : "),t.qZA(),t.TgZ(13,"div",12),t._uU(14),t.qZA()()(),t.YNc(15,j1,6,1,"div",16),t.qZA(),t.YNc(16,Cc,14,3,"div",5),t.YNc(17,Mx,14,2,"div",5),t.TgZ(18,"div",8)(19,"div",9)(20,"div",10)(21,"div",11),t._uU(22,"Montant d'ind\xe9mnisisation : "),t.qZA(),t.TgZ(23,"div",12),t._uU(24),t.ALo(25,"number"),t.qZA()()()(),t.TgZ(26,"div",8)(27,"div",9)(28,"div",10)(29,"div",11),t._uU(30,"Date validation OP :"),t.qZA(),t.TgZ(31,"div",12),t._uU(32),t.ALo(33,"date"),t.qZA()()(),t.TgZ(34,"div",9)(35,"div",10)(36,"div",11),t._uU(37,"User cr\xe9ation OP : "),t.qZA(),t.TgZ(38,"div",12),t._uU(39),t.qZA()()()(),t.TgZ(40,"div",8)(41,"div",9)(42,"div",10)(43,"div",11),t._uU(44,"User validation OP :"),t.qZA(),t.YNc(45,N0,2,2,"div",15),t.qZA()(),t.YNc(46,gx,6,1,"div",16),t.qZA(),t.TgZ(47,"div",8)(48,"div",9)(49,"div",10)(50,"div",11),t._uU(51,"Agence :"),t.qZA(),t.TgZ(52,"div",12),t._uU(53),t.qZA()()()()()),2&f){const m=t.oxw();t.xp6(7),t.hij(" ",m.decompteOp.typeOp.description," "),t.xp6(7),t.hij(" ",m.decompteOp.decompteOp.typeBenificiaire.description," "),t.xp6(1),t.Q6J("ngIf",!!m.beneficiaire),t.xp6(1),t.Q6J("ngIf",!m.beneficiaire),t.xp6(1),t.Q6J("ngIf",!!m.beneficiaire),t.xp6(7),t.hij(" ",t.xi3(25,12,m.decompteOp.decompteOp.montantTTC,"1.1-2")," DZD "),t.xp6(8),t.hij(" ",t.xi3(33,15,m.decompteOp.dateValidation,"dd/MM/yyyy")," "),t.xp6(7),t.AsE(" ",m.decompteOp.userCreation.nom," ",m.decompteOp.userCreation.prenom," "),t.xp6(6),t.Q6J("ngIf",m.userValidation),t.xp6(1),t.Q6J("ngIf",m.rib),t.xp6(7),t.hij(" ",m.decompteOp.agence.idPersonneMorale.raisonSocial," ")}}function Cx(f,D){if(1&f&&(t.TgZ(0,"div",7)(1,"div",8)(2,"div",9)(3,"div",10)(4,"div",11),t._uU(5,"Montant re\xe7u : "),t.qZA(),t.TgZ(6,"div",12),t._uU(7),t.qZA()()(),t.TgZ(8,"div",9)(9,"div",10)(10,"div",11),t._uU(11,"Part assureur : "),t.qZA(),t.TgZ(12,"div",12),t._uU(13),t.qZA()()()(),t.TgZ(14,"div",8)(15,"div",9)(16,"div",10)(17,"div",11),t._uU(18,"Mode de recouvrement : "),t.qZA(),t.TgZ(19,"div",12),t._uU(20),t.qZA()()(),t.TgZ(21,"div",9)(22,"div",10)(23,"div",11),t._uU(24,"R\xe9f\xe9rencement de recouvrement : "),t.qZA(),t.TgZ(25,"div",12),t._uU(26),t.qZA()()()(),t.TgZ(27,"div",8)(28,"div",9)(29,"div",10)(30,"div",11),t._uU(31,"User cr\xe9ation OR : "),t.qZA(),t.TgZ(32,"div",12),t._uU(33),t.qZA()()(),t.TgZ(34,"div",9)(35,"div",10)(36,"div",11),t._uU(37,"Date de cr\xe9ation : "),t.qZA(),t.TgZ(38,"div",12),t._uU(39),t.ALo(40,"date"),t.qZA()()()()()),2&f){const m=t.oxw();t.xp6(7),t.hij(" ",m.decompteOp.montant," DZD "),t.xp6(6),t.hij(" ",m.decompteOp.montant-m.decompteOp.partAssure," DZD "),t.xp6(7),t.hij(" ",m.decompteOp.modeRecouvrement.description," "),t.xp6(6),t.hij(" ",m.decompteOp.referencePaiement," "),t.xp6(7),t.AsE(" ",m.decompteOp.userCreation.nom," ",m.decompteOp.userCreation.prenom," "),t.xp6(6),t.hij(" ",t.xi3(40,7,m.decompteOp.decompteRecours.auditDate,"dd/MM/yyyy")," ")}}function xx(f,D){if(1&f&&(t.TgZ(0,"div",9)(1,"div",10)(2,"div",11),t._uU(3,"R\xe9f\xe9rence de paiement : "),t.qZA(),t.TgZ(4,"div",12),t._uU(5),t.qZA()()()),2&f){const m=t.oxw(2);t.xp6(5),t.hij(" ",m.decompteOp.referencePaiement," ")}}function vx(f,D){if(1&f&&(t.TgZ(0,"div",7)(1,"div",8)(2,"div",9)(3,"div",10)(4,"div",11),t._uU(5,"Nom b\xe9n\xe9ficiaire : "),t.qZA(),t.TgZ(6,"div",12),t._uU(7),t.qZA()()(),t.TgZ(8,"div",9)(9,"div",10)(10,"div",11),t._uU(11,"Pr\xe9nom b\xe9n\xe9ficiaire : "),t.qZA(),t.TgZ(12,"div",12),t._uU(13),t.qZA()()()(),t.TgZ(14,"div",8)(15,"div",9)(16,"div",10)(17,"div",11),t._uU(18,"Montant : "),t.qZA(),t.TgZ(19,"div",12),t._uU(20),t.qZA()()()(),t.TgZ(21,"div",8)(22,"div",9)(23,"div",10)(24,"div",11),t._uU(25,"Mode de paiement b\xe9n\xe9ficiaire: "),t.qZA(),t.TgZ(26,"div",12),t._uU(27),t.qZA()()(),t.YNc(28,xx,6,1,"div",16),t.qZA(),t.TgZ(29,"div",8)(30,"div",9)(31,"div",10)(32,"div",11),t._uU(33,"User cr\xe9ation OR : "),t.qZA(),t.TgZ(34,"div",12),t._uU(35),t.qZA()()(),t.TgZ(36,"div",9)(37,"div",10)(38,"div",11),t._uU(39,"Date de cr\xe9ation : "),t.qZA(),t.TgZ(40,"div",12),t._uU(41),t.ALo(42,"date"),t.qZA()()()()()),2&f){const m=t.oxw();t.xp6(7),t.hij(" ",m.decompteOp.nom," "),t.xp6(6),t.hij(" ",m.decompteOp.prenom," "),t.xp6(7),t.hij(" ",m.decompteOp.montant," DZD "),t.xp6(7),t.hij(" ",m.decompteOp.modeRecouvrement.description," "),t.xp6(1),t.Q6J("ngIf",null!=m.rib),t.xp6(7),t.AsE(" ",m.decompteOp.userCreation.nom," ",m.decompteOp.userCreation.prenom," "),t.xp6(6),t.hij(" ",t.xi3(42,8,m.decompteOp.userCreation.createdate,"dd/MM/yyyy")," ")}}const Rg=[{path:"gestion-missionsExpertise/gestion-mission-expertise/:idSinistre/:produit",component:qu,canActivate:[me.k],data:{roles:["ADMIN","ROLE_SUPER_ADMIN","ANALYSTE","GESTION_SINISTRE","DA","BO","WEB_HELP","GESTIONNAIRE_JUNIOR","GESTIONNAIRE_SINISTRE","CHEF_PROJET","RESPONSABLE_SINISTRE","DIRECTEUR","CONSULTATION","GESTION_SINISTRE_MRH_MRP","RESPONSABLE_SINISTRE_MRH_MRP"]}},{path:"gestion-missionsExpertise/gestion-mission-expertise/:idSinistre/:produit/creation-mission-expertise",component:Qp,canActivate:[me.k],data:{roles:["ADMIN","ROLE_SUPER_ADMIN","ANALYSTE","GESTION_SINISTRE","WEB_HELP","GESTIONNAIRE_JUNIOR","GESTIONNAIRE_SINISTRE","CHEF_PROJET","RESPONSABLE_SINISTRE","DIRECTEUR","GESTION_SINISTRE_MRH_MRP","RESPONSABLE_SINISTRE_MRH_MRP"]}},{path:"gestion-missionsExpertise/gestion-mission-expertise/:idSinistre/consultation-mission-expertise/:idMissionExpertise",component:Uf,canActivate:[me.k],data:{roles:["COURTIER","ADMIN","ROLE_SUPER_ADMIN","ANALYSTE","GESTION_SINISTRE","DA","BO","WEB_HELP","GESTIONNAIRE_JUNIOR","GESTIONNAIRE_SINISTRE","CHEF_PROJET","RESPONSABLE_SINISTRE","DIRECTEUR","CONSULTATION","GESTION_SINISTRE_MRH_MRP","RESPONSABLE_SINISTRE_MRH_MRP"]}},{path:"gestion-sinistre/:codeProduit/:produit",component:Yl,canActivate:[me.k],data:{roles:["COURTIER","ADMIN","ROLE_SUPER_ADMIN","ANALYSTE","GESTION_SINISTRE","DA","CDC","BO","WEB_HELP","GESTIONNAIRE_JUNIOR","GESTIONNAIRE_SINISTRE","CHEF_PROJET","RESPONSABLE_SINISTRE","DIRECTEUR","CONSULTATION","GESTION_SINISTRE_MRH_MRP","RESPONSABLE_SINISTRE_MRH_MRP"]}},{path:"gestion-sinistre/:codeProduit/:nameProduit/creation-sinistre",component:da,canActivate:[me.k],data:{roles:["ADMIN","ROLE_SUPER_ADMIN","ANALYSTE","GESTION_SINISTRE","WEB_HELP","GESTIONNAIRE_JUNIOR","GESTIONNAIRE_SINISTRE","CHEF_PROJET","RESPONSABLE_SINISTRE","DIRECTEUR","GESTION_SINISTRE_MRH_MRP","RESPONSABLE_SINISTRE_MRH_MRP"]}},{path:"gestion-sinistre/:codeProduit/:nameProduit/consultation-sinistre/:codeSinistre",component:mc,canActivate:[me.k],data:{roles:["COURTIER","ADMIN","ROLE_SUPER_ADMIN","ANALYSTE","GESTION_SINISTRE","DA","CDC","BO","WEB_HELP","GESTIONNAIRE_JUNIOR","GESTIONNAIRE_SINISTRE","CHEF_PROJET","RESPONSABLE_SINISTRE","DIRECTEUR","CONSULTATION","GESTION_SINISTRE_MRH_MRP","RESPONSABLE_SINISTRE_MRH_MRP"]}},{path:"gestion-sinistre/:codeProduit/:nameProduit/gestionnaire-sinistre/:codeSinistre",component:kc,canActivate:[me.k],data:{roles:["ADMIN","ROLE_SUPER_ADMIN","ANALYSTE","GESTION_SINISTRE","GESTIONNAIRE_JUNIOR","DA","CDC","GESTIONNAIRE_SINISTRE","CHEF_PROJET","RESPONSABLE_SINISTRE","DIRECTEUR","CONSULTATION","GESTION_SINISTRE_MRH_MRP","RESPONSABLE_SINISTRE_MRH_MRP"]}},{path:"gestion-sinistre/:codeProduit/:nameProduit/gestionnaire-sinistre/:codeSinistre/completez-informations-sinistre",component:Ym,canActivate:[me.k],data:{roles:["ADMIN","ROLE_SUPER_ADMIN","ANALYSTE","GESTION_SINISTRE","GESTIONNAIRE_JUNIOR","GESTIONNAIRE_SINISTRE","CHEF_PROJET","RESPONSABLE_SINISTRE","DIRECTEUR","GESTION_SINISTRE_MRH_MRP","RESPONSABLE_SINISTRE_MRH_MRP"]}},{path:"gestion-sinistre/:codeProduit/:nameProduit/gestionnaire-sinistre/:codeSinistre/tiers",component:Sm,canActivate:[me.k],data:{roles:["ADMIN","ROLE_SUPER_ADMIN","ANALYSTE","GESTION_SINISTRE","GESTIONNAIRE_JUNIOR","GESTIONNAIRE_SINISTRE","CHEF_PROJET","RESPONSABLE_SINISTRE","DIRECTEUR","GESTION_SINISTRE_MRH_MRP","RESPONSABLE_SINISTRE_MRH_MRP"]}},{path:"gestion-sinistre/:codeProduit/:nameProduit/gestionnaire-sinistre/:codeSinistre/blesses",component:Yt,canActivate:[me.k],data:{roles:["COURTIER","ADMIN","ROLE_SUPER_ADMIN","ANALYSTE","GESTION_SINISTRE","GESTIONNAIRE_JUNIOR","GESTIONNAIRE_SINISTRE","CHEF_PROJET","RESPONSABLE_SINISTRE","DIRECTEUR","GESTION_SINISTRE_MRH_MRP","RESPONSABLE_SINISTRE_MRH_MRP"]}},{path:"gestion-missionsExpertise/creation-mission-expertise/:idSinistre",component:Qp,canActivate:[me.k],data:{roles:["COURTIER","ADMIN","ROLE_SUPER_ADMIN","ANALYSTE","GESTION_SINISTRE","GESTIONNAIRE_JUNIOR","GESTIONNAIRE_SINISTRE","CHEF_PROJET","RESPONSABLE_SINISTRE","DIRECTEUR","GESTION_SINISTRE_MRH_MRP","RESPONSABLE_SINISTRE_MRH_MRP"]}},{path:"gestion-sinistre/:codeProduit/:nameProduit/gestionnaire-sinistre/:codeSinistre/gestion-op",component:(()=>{class f{constructor(m,I,j,be){this.formBuilder=m,this.router=I,this.route=j,this.sinistresService=be,this.codeSinistre=this.route.snapshot.paramMap.get("codeSinistre"),this.displayedColumns=["numOp","statut","type","dateCreation","modePaiement","montant","action"],this.rolesJs=JSON.parse(sessionStorage.getItem("roles")??""),this.isCdcDa=this.rolesJs?.includes("CDC")||this.rolesJs?.includes("DA")||this.rolesJs?.includes("CONSULTATION")||this.rolesJs.includes("COURTIER"),this.isConsult=sessionStorage.getItem("roles")?.includes("CONSULTATION"),this.cdcDaImprim=sessionStorage.getItem("roles")?.includes("CDC")||sessionStorage.getItem("roles")?.includes("DA"),this.roleExist=!1,this.roleUser=JSON.parse(sessionStorage.getItem("roles")||""),this.sinistreRoles={"45A":["WEB_HELP","GESTIONNAIRE_SINISTRE","RESPONSABLE_SINISTRE","DIRECTEUR","CHEF_PROJET","ADMIN","ROLE_SUPER_ADMIN","ANALYSTE","GESTION_SINISTRE","GESTIONNAIRE_JUNIOR"],"45F":["WEB_HELP","GESTIONNAIRE_SINISTRE","RESPONSABLE_SINISTRE","DIRECTEUR","CHEF_PROJET","ADMIN","ROLE_SUPER_ADMIN","ANALYSTE","GESTION_SINISTRE","GESTIONNAIRE_JUNIOR"],"45L":["WEB_HELP","GESTIONNAIRE_SINISTRE","RESPONSABLE_SINISTRE","DIRECTEUR","CHEF_PROJET","ADMIN","ROLE_SUPER_ADMIN","ANALYSTE","GESTION_SINISTRE","GESTIONNAIRE_JUNIOR"],95:["WEB_HELP","GESTION_SINISTRE_MRH_MRP","RESPONSABLE_SINISTRE_MRH_MRP","ADMIN","ROLE_SUPER_ADMIN","ANALYSTE"],96:["WEB_HELP","GESTION_SINISTRE_MRH_MRP","RESPONSABLE_SINISTRE_MRH_MRP","ADMIN","ROLE_SUPER_ADMIN","ANALYSTE"]}}ngOnInit(){this.codeProduit=this.route.snapshot.paramMap.get("codeProduit"),this.roleUser.find(m=>{this.sinistreRoles[this.codeProduit+""].includes(m)&&(this.roleExist=!0)}),this.codeProduit=this.route.snapshot.paramMap.get("codeProduit"),this.roleUser.find(m=>{this.sinistreRoles[this.codeProduit+""].includes(m)&&(this.roleExist=!0)}),this.initFormFilter(),this.getListOp(this.codeSinistre)}initFormFilter(){this.formFilterOp=this.formBuilder.group({numPolice:[null],numSinistre:[null],dateSurvenance:[null],numOp:[null],dateOp:[null]})}getOpById(m){this.sinistresService.getReglement(m).subscribe({next:I=>{console.log(I);let j={contrat:I?.sinistreReserve?.sinistre?.contratHistorique?.idContrat?.idContrat,dateEffet:I?.sinistreReserve?.sinistre?.dateDeclaration,idRisque:I?.sinistreReserve?.sinistre?.codeRisque};"OPA"==I?.typeOp?.code&&this.sinistresService.outputIndemnisation(I),this.sinistresService.historiqueAvenant(j).subscribe({next:be=>{("CP421"==I?.statut?.code||"CP481"==I?.statut?.code)&&this.sinistresService.getOpById(m).subscribe({next:It=>{this.sinistresService.outputOp(I,be,It)},error:It=>{console.log(It)}})},error:be=>{console.log(be)}})},error:I=>{console.log(I)}})}getListOp(m){this.sinistresService.getOpBySinistre(m).subscribe({next:I=>{this.statuN=I[0].sinistre.statut.description,this.dataSource=new n.by(I),this.dataSource.paginator=this.paginator},error:I=>{console.log(I)}})}submitFilter(){let m=null;this.formFilterOp.get("dateOp").value&&(m=o(this.formFilterOp.get("dateOp").value).format("YYYY-MM-DD"));let I={code:this.formFilterOp.get("numOp").value,date:m};this.sinistresService.filterOp(I,this.codeSinistre).subscribe({next:j=>{this.dataSource=new n.by(j),this.dataSource.paginator=this.paginator},error:j=>{console.log(j)}})}annulOp(m,I){this.sinistresService.annulationOp(m,I).subscribe({next:j=>{this.handleSuccess(j)},error:j=>{console.log(j),this.handleError(j.text?j.text:j)}})}goBack(){this.router.navigate(["../"],{relativeTo:this.route})}goTo(m,I){switch(m){case"consulter":this.router.navigate(["consult-op/"+I],{relativeTo:this.route});break;case"approuv":let j=sessionStorage.getItem("userId");xe().fire({title:"Voulez vous approuver l'OP",icon:"info",allowOutsideClick:!1,showDenyButton:!0,confirmButtonText:"Approuver",denyButtonText:"rejeter",denyButtonColor:"#4942E4",width:600}).then($s=>{$s.isConfirmed?this.sinistresService.approuvOp(I,j,!0).subscribe({next:id=>{xe().fire(id,"","success")},error:id=>{console.log(id),xe().fire(id,"","info")}}):$s.isDenied&&this.sinistresService.approuvOp(I,j,!1).subscribe({next:id=>{xe().fire(id,"","info")},error:id=>{console.log(id),xe().fire(id,"","error")}})});break;case"regler":let be,It,ri;this.sinistresService.getOpById(I).subscribe({next:$s=>{be=$s.typeOp.code,It=$s.decompteOp.idDecompteOp,ri=$s.sinistre.idSinistre,console.log("data.sinistre"),console.log($s.sinistre),this.router.navigate(["/OP/"+be+"/"+It+"/"+ri+"/paiement"],{relativeTo:this.route})},error:$s=>{console.log($s)}});break;case"annuler":let Mi;Mi=sessionStorage.getItem("userId"),this.sinistresService.getOpById(I).subscribe({next:$s=>{this.annulOp(I,Mi)},error:$s=>{console.log($s)}})}}handleError(m){xe().fire({title:m,icon:"info",confirmButtonText:"Ok"}).then(I=>{I.isConfirmed&&window.location.reload()})}handleSuccess(m){xe().fire({title:m,icon:"info",confirmButtonText:"Ok"}).then(I=>{I.isConfirmed&&window.location.reload()})}}return f.\u0275fac=function(m){return new(m||f)(t.Y36(Q.qu),t.Y36(ee.F0),t.Y36(ee.gz),t.Y36(Zt.m))},f.\u0275cmp=t.Xpm({type:f,selectors:[["app-list-op"]],viewQuery:function(m,I){if(1&m&&t.Gf(Mt.NW,5),2&m){let j;t.iGM(j=t.CRH())&&(I.paginator=j.first)}},decls:57,vars:11,consts:[[1,"container"],[1,"header"],["aria-hidden","false","matTooltip","Retour","matTooltipPosition","left",1,"material-symbols-outlined","head-display",3,"click"],[1,"title-table"],["multi","",1,"example-headers-align"],[3,"expanded"],[1,"row","formFiltre",3,"formGroup","ngSubmit"],["formDirective","ngForm"],[1,"row"],["appearance","outline",1,"col-md-6"],["type","text","matInput","","placeholder","","formControlName","numOp"],["matInput","","formControlName","dateOp",3,"matDatepicker"],["matSuffix","",3,"for"],["pickerdateOp",""],[1,"row-buttons"],["type","submit",1,"btn","btn-action"],["matTooltip","R\xe9nitialisation","matTooltipPosition","right",1,"material-symbols-outlined"],["mat-table","",1,"gestion-table",3,"dataSource"],["matColumnDef","numOp"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","statut"],["matColumnDef","type"],["matColumnDef","dateCreation"],["matColumnDef","modePaiement"],["matColumnDef","montant"],["matColumnDef","action"],["mat-header-row","","class","example-second-header-row",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["aria-label","Select page of users",3,"pageSize","pageSizeOptions"],["mat-header-cell",""],["mat-cell",""],["mat-icon-button","","type","button","aria-label","menu",3,"matMenuTriggerFor"],["xPosition","after",1,"menu-formule"],["menu","matMenu"],["mat-menu-item","","type","button",3,"click"],[4,"ngIf"],["mat-menu-item","","type","button",3,"disabled","click",4,"ngIf"],["mat-menu-item","","type","button",3,"disabled","click"],["mat-header-row","",1,"example-second-header-row"],["mat-row",""]],template:function(m,I){if(1&m&&(t.TgZ(0,"div",0)(1,"div",1)(2,"mat-icon",2),t.NdJ("click",function(){return I.goBack()}),t._uU(3,"arrow_circle_left "),t.qZA(),t.TgZ(4,"h2",3),t._uU(5),t.qZA()(),t._UZ(6,"mat-divider"),t.TgZ(7,"mat-accordion",4)(8,"mat-expansion-panel",5)(9,"mat-expansion-panel-header")(10,"mat-panel-title"),t._uU(11," Recherches OP "),t.qZA()(),t.TgZ(12,"form",6,7),t.NdJ("ngSubmit",function(){return I.submitFilter()}),t.TgZ(14,"div",8)(15,"mat-form-field",9)(16,"mat-label"),t._uU(17,"N\xb0OP"),t.qZA(),t._UZ(18,"input",10),t.qZA(),t.TgZ(19,"mat-form-field",9)(20,"mat-label"),t._uU(21,"Date de cr\xe9ation "),t.qZA(),t._UZ(22,"input",11)(23,"mat-datepicker-toggle",12)(24,"mat-datepicker",null,13),t.qZA()(),t.TgZ(26,"div",14)(27,"button",15),t._uU(28,"Recherche"),t.qZA(),t.TgZ(29,"mat-icon",16),t._uU(30," restart_alt "),t.qZA()()()()(),t.TgZ(31,"table",17),t.ynx(32,18),t.YNc(33,h0,2,0,"th",19),t.YNc(34,ox,2,1,"td",20),t.BQk(),t.ynx(35,21),t.YNc(36,C0,2,0,"th",19),t.YNc(37,x0,2,1,"td",20),t.BQk(),t.ynx(38,22),t.YNc(39,v0,2,0,"th",19),t.YNc(40,A0,2,1,"td",20),t.BQk(),t.ynx(41,23),t.YNc(42,rx,2,0,"th",19),t.YNc(43,T0,2,1,"td",20),t.BQk(),t.ynx(44,24),t.YNc(45,ax,2,0,"th",19),t.YNc(46,sx,2,1,"td",20),t.BQk(),t.ynx(47,25),t.YNc(48,eg,2,0,"th",19),t.YNc(49,b0,3,4,"td",20),t.BQk(),t.ynx(50,26),t.YNc(51,P0,2,0,"th",19),t.YNc(52,ux,18,8,"td",20),t.BQk(),t.YNc(53,A_,1,0,"tr",27),t.YNc(54,y0,1,0,"tr",28),t.qZA(),t._UZ(55,"mat-paginator",29)(56,"app-gestion-instances"),t.qZA()),2&m){const j=t.MAs(25);t.xp6(5),t.hij(" Liste des Op's sinistre N\xb0",I.codeSinistre," "),t.xp6(3),t.Q6J("expanded",!0),t.xp6(4),t.Q6J("formGroup",I.formFilterOp),t.xp6(10),t.Q6J("matDatepicker",j),t.xp6(1),t.Q6J("for",j),t.xp6(8),t.Q6J("dataSource",I.dataSource),t.xp6(22),t.Q6J("matHeaderRowDef",I.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",I.displayedColumns),t.xp6(1),t.Q6J("pageSize",10)("pageSizeOptions",t.DdM(10,mx))}},dependencies:[Se.O5,nn.d,_n.Hw,Ni.pp,Ni.ib,Ni.yz,Ni.yK,xn.VK,xn.OP,xn.p6,Q._Y,Q.Fj,Q.JJ,Q.JL,Q.sg,Q.u,mn.KE,mn.hX,mn.R9,Xn.Nt,n.BZ,n.fO,n.as,n.w1,n.Dz,n.nj,n.ge,n.ev,n.XQ,n.Gk,Bi.gM,Mt.NW,Lt.Mq,Lt.hl,Lt.nW,Jn.lW,Ig,Se.JJ],styles:[".container[_ngcontent-%COMP%]{background-color:#fff;padding:40px 0;height:100%;overflow-y:auto;overflow-x:hidden}.gestion-table[_ngcontent-%COMP%]{width:100%}.gestion-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .gestion-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:16px}.gestion-table[_ngcontent-%COMP%]   .mat-header-cell[_ngcontent-%COMP%]{color:#00008f;font-weight:600}.gestion-table[_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]:nth-child(even), .gestion-table[_ngcontent-%COMP%]   .mat-header-row[_ngcontent-%COMP%]{background-color:#f7f7f9}.gestion-table[_ngcontent-%COMP%]   .mat-paginator[_ngcontent-%COMP%]{background-color:transparent;margin:20px auto auto;width:80%}.gestion-table[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{height:100%;font-size:26px;color:#00008f;width:-moz-fit-content;width:fit-content}.mat-menu-item[_ngcontent-%COMP%]{font-size:15px}.mat-menu-item[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:18px;height:-moz-fit-content;height:fit-content}.mat-menu-item[_ngcontent-%COMP%]:hover:not([disabled]), .mat-menu-item[_ngcontent-%COMP%]:hover:not([disabled])   .mat-icon[_ngcontent-%COMP%]{color:#00008f}.header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:0px 2rem}.header[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{height:-moz-fit-content;height:fit-content;font-size:29px;margin-right:1rem;width:-moz-fit-content;width:fit-content}.title-table[_ngcontent-%COMP%]{margin-bottom:0rem;font-weight:800!important;font-size:23px!important;color:#00008f!important}h2.header-title[_ngcontent-%COMP%]{padding:0 24px;font-size:21px!important;color:#00008f;font-weight:600!important;letter-spacing:1px;display:flex;justify-content:space-between}.header-title[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{cursor:pointer;width:-moz-fit-content;width:fit-content;height:-moz-fit-content;height:fit-content;font-size:33px}.row.formFiltre[_ngcontent-%COMP%]{width:100%;padding:0 2rem;margin-top:2rem}.mat-divider[_ngcontent-%COMP%]{margin-bottom:2rem}.mat-expansion-panel[_ngcontent-%COMP%]{box-shadow:none}.mat-expansion-panel-header[_ngcontent-%COMP%]{background:rgba(199,199,199,.2)!important;font-weight:600;font-size:16px}.mat-expansion-panel-header.mat-expanded[_ngcontent-%COMP%]{height:48px}.mat-expansion-panel-header-title[_ngcontent-%COMP%]{color:#00008f}.row-buttons[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:center;margin:10px}.row-buttons[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{color:#00008f;cursor:pointer;margin-left:2rem;margin:10px}"]}),f})(),canActivate:[me.k],data:{roles:["ADMIN","ROLE_SUPER_ADMIN","ANALYSTE","GESTION_SINISTRE","GESTIONNAIRE_JUNIOR","GESTIONNAIRE_SINISTRE","CHEF_PROJET","RESPONSABLE_SINISTRE","DIRECTEUR","WEB_HELP","DA","CDC","CONSULTATION","GESTION_SINISTRE_MRH_MRP","RESPONSABLE_SINISTRE_MRH_MRP"]}},{path:"gestion-sinistre/:codeProduit/:nameProduit/gestionnaire-sinistre/:codeSinistre/gestion-op/consult-op/:idOp",component:(()=>{class f{constructor(m,I,j,be){this.route=m,this.router=I,this.sinistresService=j,this.authentificationService=be,this.rib=null,this.decompteOp={},this.roleUser=JSON.parse(sessionStorage.getItem("roles")||""),this.sinistreRoles={"45A":["WEB_HELP","GESTIONNAIRE_SINISTRE","RESPONSABLE_SINISTRE","DIRECTEUR","CHEF_PROJET","ADMIN","ROLE_SUPER_ADMIN","ANALYSTE","GESTION_SINISTRE","GESTIONNAIRE_JUNIOR"],"45F":["WEB_HELP","GESTIONNAIRE_SINISTRE","RESPONSABLE_SINISTRE","DIRECTEUR","CHEF_PROJET","ADMIN","ROLE_SUPER_ADMIN","ANALYSTE","GESTION_SINISTRE","GESTIONNAIRE_JUNIOR"],"45L":["WEB_HELP","GESTIONNAIRE_SINISTRE","RESPONSABLE_SINISTRE","DIRECTEUR","CHEF_PROJET","ADMIN","ROLE_SUPER_ADMIN","ANALYSTE","GESTION_SINISTRE","GESTIONNAIRE_JUNIOR"],95:["WEB_HELP","GESTION_SINISTRE_MRH_MRP","RESPONSABLE_SINISTRE_MRH_MRP","ADMIN","ROLE_SUPER_ADMIN","ANALYSTE"],96:["WEB_HELP","GESTION_SINISTRE_MRH_MRP","RESPONSABLE_SINISTRE_MRH_MRP","ADMIN","ROLE_SUPER_ADMIN","ANALYSTE"]}}ngOnInit(){this.codeProduit=this.route.snapshot.paramMap.get("codeProduit"),this.codeProduit=this.route.snapshot.paramMap.get("codeProduit");let m=!1;this.roleUser.find(I=>{this.sinistreRoles[this.codeProduit+""].includes(I)&&(m=!0)}),null!==this.codeSinistre&&(this.codeSinistre=this.route.snapshot.paramMap.get("codeSinistre")),null!==this.idOp&&(this.idOp=this.route.snapshot.paramMap.get("idOp")),this.getOpById(this.idOp)}getOpById(m){this.sinistresService.getOpById(m).subscribe({next:I=>{this.typeOpCode=I.typeOp.code,"OR"==this.typeOpCode?this.decompteOp=I:"ROR"==this.typeOpCode?(this.rib=this.decompteOp.referencePaiement,this.decompteOp=I):(this.decompteOp=I,this.code=null!=this.decompteOp.decompteOp?this.decompteOp.decompteOp.typeOp.code:this.decompteOp.typeOp.code,null!=this.decompteOp.decompteOp.benificiaire&&(this.beneficiaire=this.decompteOp.decompteOp.benificiaire),null!=this.decompteOp.decompteOp?.expert&&(this.expert=this.decompteOp.decompteOp.expert),null!=this.decompteOp.userValidation&&(this.userValidation=this.decompteOp.userValidation),"OPT"==this.code&&(this.compagnieAdverse=this.decompteOp.decompteOp.sinistrePersonne.compagnyAdverse?.code),this.rib=this.decompteOp.referencePaiement)},error:I=>{console.log(I)}})}goBack(){this.router.navigate(["../../"],{relativeTo:this.route})}}return f.\u0275fac=function(m){return new(m||f)(t.Y36(ee.gz),t.Y36(ee.F0),t.Y36(Zt.m),t.Y36(Cl.g))},f.\u0275cmp=t.Xpm({type:f,selectors:[["app-consult-op"]],decls:17,vars:10,consts:[[1,"container"],[1,"header-title"],["aria-hidden","false","matTooltip","Retour","matTooltipPosition","left",1,"material-symbols-outlined",3,"click"],["multi","",1,"example-headers-align"],["hideToggle","",3,"expanded"],[4,"ngIf"],["class","container ","style","padding: 1rem 2rem;",4,"ngIf"],[1,"container",2,"padding","1rem 2rem"],[1,"row","infos"],[1,"col-md-6"],[1,"row"],[1,"col-md-6","key"],[1,"col-md-6","value"],[4,"ngIf","ngIfElse"],["typeBenif",""],["class","col-md-6 value",4,"ngIf"],["class","col-md-6",4,"ngIf"]],template:function(m,I){1&m&&(t.TgZ(0,"div",0)(1,"h2",1)(2,"mat-icon",2),t.NdJ("click",function(){return I.goBack()}),t._uU(3,"arrow_circle_left"),t.qZA(),t._uU(4),t.qZA(),t._UZ(5,"app-entete-gestion"),t.TgZ(6,"mat-accordion",3)(7,"mat-expansion-panel",4)(8,"mat-expansion-panel-header"),t.YNc(9,tg,2,0,"mat-panel-title",5),t.YNc(10,Pr,2,0,"mat-panel-title",5),t.YNc(11,Ga,2,0,"mat-panel-title",5),t.qZA(),t.YNc(12,lf,53,17,"div",6),t.YNc(13,px,59,18,"div",6),t.YNc(14,hx,54,18,"div",6),t.YNc(15,Cx,41,10,"div",6),t.YNc(16,vx,43,11,"div",6),t.qZA()()()),2&m&&(t.xp6(4),t.hij(" Consultation OP N\xb0 ",I.idOp," "),t.xp6(3),t.Q6J("expanded",!0),t.xp6(2),t.Q6J("ngIf","OPA"==I.typeOpCode),t.xp6(1),t.Q6J("ngIf","OR"==I.typeOpCode),t.xp6(1),t.Q6J("ngIf","ROR"==I.typeOpCode),t.xp6(1),t.Q6J("ngIf","OPA"==I.code),t.xp6(1),t.Q6J("ngIf","OPP"==I.code),t.xp6(1),t.Q6J("ngIf","OPT"==I.code),t.xp6(1),t.Q6J("ngIf","OR"==I.typeOpCode),t.xp6(1),t.Q6J("ngIf","ROR"==I.typeOpCode))},dependencies:[Se.O5,_n.Hw,Ni.pp,Ni.ib,Ni.yz,Ni.yK,Bi.gM,rs,Se.JJ,Se.uU],styles:[".container[_ngcontent-%COMP%]{background-color:#fff;padding:40px 0;height:100%;overflow-x:hidden;box-shadow:0 .5rem 1rem #00000026}h2.header-title[_ngcontent-%COMP%]{padding:0 24px;font-size:21px!important;color:#00008f;font-weight:600!important;letter-spacing:1px;display:flex;justify-content:space-between}.header-title[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{cursor:pointer;width:-moz-fit-content;width:fit-content;height:-moz-fit-content;height:fit-content;font-size:33px}.row.formFiltre[_ngcontent-%COMP%]{width:100%;padding:0 2rem;margin-top:2rem}.row.infos[_ngcontent-%COMP%]{font-size:16px;margin-bottom:2rem;font-weight:600}.value[_ngcontent-%COMP%]{color:#00008f;font-weight:600}.mat-expansion-panel-header[_ngcontent-%COMP%]{background:rgba(199,199,199,.2)!important;font-weight:600;font-size:16px}.mat-expansion-panel-header.mat-expanded[_ngcontent-%COMP%]{height:48px}.mat-expansion-panel-header-title[_ngcontent-%COMP%]{color:#00008f}.mat-expansion-panel[_ngcontent-%COMP%]:not([class*=mat-elevation-z]){box-shadow:none}"]}),f})(),canActivate:[me.k],data:{roles:["COURTIER","ADMIN","ROLE_SUPER_ADMIN","ANALYSTE","GESTION_SINISTRE","GESTIONNAIRE_JUNIOR","GESTIONNAIRE_SINISTRE","CHEF_PROJET","RESPONSABLE_SINISTRE","DIRECTEUR","WEB_HELP","CONSULTATION","DA","CDC","GESTION_SINISTRE_MRH_MRP","RESPONSABLE_SINISTRE_MRH_MRP"]}},{path:"gestion-sinistre/:codeProduit/:nameProduit/gestionnaire-sinistre/:codeSinistre/:codeStatut/reserve-paiement/calculateur/:codeGarantie/:codeReserve/:typeDecompte",component:g0,canActivate:[me.k],data:{roles:["ADMIN","ROLE_SUPER_ADMIN","ANALYSTE","GESTION_SINISTRE","GESTIONNAIRE_JUNIOR","GESTIONNAIRE_SINISTRE","CHEF_PROJET","RESPONSABLE_SINISTRE","DIRECTEUR","GESTION_SINISTRE_MRH_MRP","RESPONSABLE_SINISTRE_MRH_MRP"]}},{path:"gestion-sinistre/:codeProduit/:nameProduit/gestionnaire-sinistre/:codeSinistre/:typeDecompte/:idDecompte/creation-instance",component:u0,canActivate:[me.k],data:{roles:["ADMIN","ROLE_SUPER_ADMIN","ANALYSTE","GESTION_SINISTRE","GESTIONNAIRE_JUNIOR","GESTIONNAIRE_SINISTRE","CHEF_PROJET","RESPONSABLE_SINISTRE","DIRECTEUR","GESTION_SINISTRE_MRH_MRP","RESPONSABLE_SINISTRE_MRH_MRP"]}},{path:"gestion-sinistre/:codeProduit/:nameProduit/gestionnaire-sinistre/:codeSinistre/instances",component:Ig,canActivate:[me.k],data:{roles:["COURTIER","ADMIN","ROLE_SUPER_ADMIN","ANALYSTE","GESTION_SINISTRE","GESTIONNAIRE_JUNIOR","GESTIONNAIRE_SINISTRE","CHEF_PROJET","RESPONSABLE_SINISTRE","DIRECTEUR","DA","CDC","CONSULTATION","GESTION_SINISTRE_MRH_MRP","RESPONSABLE_SINISTRE_MRH_MRP"]}},{path:"gestion-sinistre/:codeProduit/:nameProduit/gestionnaire-sinistre/:codeSinistre/:typeDecompte/:codeTypeDecompte/:idDecompte/:idSinistre/:idInstance/paiement",component:m0,canActivate:[me.k],data:{roles:["ADMIN","ROLE_SUPER_ADMIN","ANALYSTE","GESTION_SINISTRE","GESTIONNAIRE_JUNIOR","GESTIONNAIRE_SINISTRE","CHEF_PROJET","RESPONSABLE_SINISTRE","DIRECTEUR","GESTION_SINISTRE_MRH_MRP","RESPONSABLE_SINISTRE_MRH_MRP"]}},{path:"gestion-sinistre/:codeProduit/:nameProduit/gestionnaire-sinistre/:codeSinistre/:statutSinistre/reserve-paiement",component:f_,canActivate:[me.k],data:{roles:["ADMIN","ROLE_SUPER_ADMIN","ANALYSTE","GESTION_SINISTRE","GESTIONNAIRE_JUNIOR","GESTIONNAIRE_SINISTRE","CHEF_PROJET","RESPONSABLE_SINISTRE","DIRECTEUR","GESTION_SINISTRE_MRH_MRP","RESPONSABLE_SINISTRE_MRH_MRP"]}},{path:"gestion-sinistre/:codeProduit/:nameProduit/gestionnaire-sinistre/:codeSinistre/:statutSinistre/reserve-recours",component:Jc,canActivate:[me.k],data:{roles:["ADMIN","ROLE_SUPER_ADMIN","ANALYSTE","GESTION_SINISTRE","GESTIONNAIRE_JUNIOR","GESTIONNAIRE_SINISTRE","CHEF_PROJET","RESPONSABLE_SINISTRE","DIRECTEUR","GESTION_SINISTRE_MRH_MRP","RESPONSABLE_SINISTRE_MRH_MRP"]}},{path:"gestion-sinistre/:codeProduit/:nameProduit/gestionnaire-sinistre/:codeSinistre/:statutSinistre/reserve-paiement/create-op-assure/:codeReserve/:codeGarantie",component:ye,canActivate:[me.k],data:{roles:["ADMIN","ROLE_SUPER_ADMIN","ANALYSTE","GESTION_SINISTRE","GESTIONNAIRE_JUNIOR","GESTIONNAIRE_SINISTRE","CHEF_PROJET","RESPONSABLE_SINISTRE","DIRECTEUR","GESTION_SINISTRE_MRH_MRP","RESPONSABLE_SINISTRE_MRH_MRP"]}}];let E0=(()=>{class f{}return f.\u0275fac=function(m){return new(m||f)},f.\u0275mod=t.oAB({type:f}),f.\u0275inj=t.cJS({imports:[ee.Bz.forChild(Rg),ee.Bz]}),f})(),Ax=(()=>{class f{}return f.\u0275fac=function(m){return new(m||f)},f.\u0275mod=t.oAB({type:f}),f.\u0275inj=t.cJS({imports:[Se.ez,h.m,Ge.q,E0,K.I,xi.FF]}),f})()},8732:(co,wn,B)=>{"use strict";B.r(wn),B.d(wn,{ReseauCommercialModule:()=>cg});var Se=B(6895),K=B(294),Ge=B(4092),h=B(4466),ee=B(6838),me=B(2510),Le=B(9523),Q=B(8739),w=B(7155),o=B(5412),e=B(4006),xe=B(5439),n=B(4650),i=B(6944),Z=B(4850),O=B(9549),J=B(284),he=B(9602),Ze=B(4385),l=B(3238);function t(v,H){if(1&v&&(n.ynx(0),n.TgZ(1,"mat-option",14),n._uU(2),n.qZA(),n.BQk()),2&v){const C=H.$implicit;n.xp6(1),n.Q6J("value",C.idAgence),n.xp6(1),n.hij(" ",C.nomAgence," ")}}function Ft(v,H){1&v&&(n.TgZ(0,"div"),n._uU(1," ce champs est obligatoire"),n.qZA())}function ln(v,H){if(1&v&&(n.TgZ(0,"mat-error",15),n.YNc(1,Ft,2,0,"div",16),n.qZA()),2&v){const C=n.oxw();n.xp6(1),n.Q6J("ngIf",C.formDesactivateAgence.controls.dateFin.errors.required)}}let ut=(()=>{class v{constructor(C,le,re,Fe){this.formBuilder=C,this.agencesService=le,this.dialogRef=re,this.data=Fe,this.description=this.data.desc,this.newAgences=[],this.minDate=new Date}ngOnInit(){this.getAllAgence(),this.formDesactivateAgence=this.formBuilder.group({dateFin:["",[e.kI.required]],newAgence:[null,[]]})}getAllAgence(){this.agencesService.getAllAgence().subscribe({next:C=>{this.newAgences=C,this.newAgences=this.newAgences.filter(le=>le.idAgence!=this.data.idAgence)},error:C=>{console.log(C)}})}submitDesactAgence(){if(this.formDesactivateAgence.valid){let C={newAgence:this.formDesactivateAgence.get("newAgence").value,dateFermeture:xe(this.formDesactivateAgence.get("dateFin").value).format("YYYY-MM-DD")};this.dialogRef.close({data:C})}}}return v.\u0275fac=function(C){return new(C||v)(n.Y36(e.qu),n.Y36(i.e),n.Y36(o.so),n.Y36(o.WI))},v.\u0275cmp=n.Xpm({type:v,selectors:[["app-delete-agence-dialog"]],decls:26,vars:6,consts:[[1,"heading"],[1,"mat-typography"],[1,"row",2,"display","flex","flex-direction","column",3,"formGroup","submit"],["formDirective","ngForm"],["appearance","outline",1,"col-md-12"],["formControlName","newAgence"],[4,"ngFor","ngForOf"],["matInput","","formControlName","dateFin",3,"matDatepicker","min"],["matSuffix","",3,"for"],["pickerDateDebut",""],["class","invalid-feedback",4,"ngIf"],[1,"btn-row"],["mat-dialog-close","","type","button",1,"btn","btn-cancel"],["type","submit",1,"btn","btn-delete"],[3,"value"],[1,"invalid-feedback"],[4,"ngIf"]],template:function(C,le){if(1&C&&(n.TgZ(0,"h2",0),n._uU(1,"D\xe9sactivation agence"),n.qZA(),n._UZ(2,"mat-divider"),n.TgZ(3,"mat-dialog-content",1)(4,"form",2,3),n.NdJ("submit",function(){return le.submitDesactAgence()}),n.TgZ(6,"mat-form-field",4)(7,"mat-label"),n._uU(8,"new Agence"),n.qZA(),n.TgZ(9,"mat-select",5)(10,"mat-option"),n._uU(11,"-- Aucune --"),n.qZA(),n.YNc(12,t,3,2,"ng-container",6),n.qZA()(),n.TgZ(13,"mat-form-field",4)(14,"mat-label"),n._uU(15,"Date Fin"),n.qZA(),n._UZ(16,"input",7)(17,"mat-datepicker-toggle",8)(18,"mat-datepicker",null,9),n.YNc(20,ln,2,1,"mat-error",10),n.qZA(),n.TgZ(21,"div",11)(22,"button",12),n._uU(23,"Retour"),n.qZA(),n.TgZ(24,"button",13),n._uU(25,"D\xe9sactiver"),n.qZA()()()()),2&C){const re=n.MAs(19);n.xp6(4),n.Q6J("formGroup",le.formDesactivateAgence),n.xp6(8),n.Q6J("ngForOf",le.newAgences),n.xp6(4),n.Q6J("matDatepicker",re)("min",le.minDate),n.xp6(1),n.Q6J("for",re),n.xp6(3),n.Q6J("ngIf",le.formDesactivateAgence.controls.dateFin.errors)}},dependencies:[Se.sg,Se.O5,Z.d,e._Y,e.Fj,e.JJ,e.JL,e.sg,e.u,O.TO,O.KE,O.hX,O.R9,J.Nt,o.ZT,o.xY,he.Mq,he.hl,he.nW,Ze.gD,l.ey],styles:[".mat-dialog-content[_ngcontent-%COMP%]{padding:2rem}p[_ngcontent-%COMP%]{font-size:16px}.btn-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:3rem}"]}),v})();var ot=B(5226),tt=B.n(ot),Zt=B(6436);function nn(v,H){if(1&v&&(n.ynx(0),n.TgZ(1,"mat-option",11),n._uU(2),n.qZA(),n.BQk()),2&v){const C=H.$implicit;n.xp6(1),n.Q6J("value",C.idAgence),n.xp6(1),n.hij(" ",C.nomAgence," ")}}function _n(v,H){1&v&&(n.TgZ(0,"div"),n._uU(1," ce champs est obligatoire"),n.qZA())}function xn(v,H){if(1&v&&(n.TgZ(0,"mat-error",12),n.YNc(1,_n,2,0,"div",13),n.qZA()),2&v){const C=n.oxw();n.xp6(1),n.Q6J("ngIf",C.formUploadSap.controls.agences.errors.required)}}let mn=(()=>{class v{constructor(C,le,re,Fe,ti){this.vehiculeService=C,this.agencesService=le,this.router=re,this.formBuilder=Fe,this.dialogRef=ti}ngOnInit(){this.getAllAgence(),this.formUploadSap=this.formBuilder.group({agences:["",[e.kI.required]]})}getAllAgence(){this.agencesService.getAllAgenceDetails().subscribe({next:C=>{this.listAgence=C},error:C=>{console.log(C)}})}submitForm(){const le={agenceid:Object.values(this.formUploadSap.controls.agences.value)};this.agencesService.uploadAgenceToSapBP(le).subscribe({next:re=>{const Fe=new Blob([re],{type:"text/plain"}),ti=window.URL.createObjectURL(Fe),qo=document.createElement("a");qo.href=ti,qo.download=`sap_bp_${(new Date).toISOString().slice(0,10)}.txt`,qo.click(),window.URL.revokeObjectURL(ti),this.dialogRef.close()},error:re=>{tt().fire("Une erreur s'est produite lors de la cr\xe9ation","","error"),console.log(re)}}),this.agencesService.uploadAgenceToSapCC(le).subscribe({next:re=>{const Fe=new Blob([re],{type:"text/plain"}),ti=window.URL.createObjectURL(Fe),qo=document.createElement("a");qo.href=ti,qo.download=`sap_cc_${(new Date).toISOString().slice(0,10)}.txt`,qo.click(),window.URL.revokeObjectURL(ti),this.dialogRef.close()},error:re=>{tt().fire("Une erreur s'est produite lors de la cr\xe9ation","","error"),console.log(re)}}),this.agencesService.uploadAgenceToSapCO(le).subscribe({next:re=>{const Fe=new Blob([re],{type:"text/plain"}),ti=window.URL.createObjectURL(Fe),qo=document.createElement("a");qo.href=ti,qo.download=`sap_co_${(new Date).toISOString().slice(0,10)}.txt`,qo.click(),window.URL.revokeObjectURL(ti),tt().fire("Les agences ont \xe9t\xe9 cr\xe9\xe9es avec succ\xe8s","","success"),this.dialogRef.close()},error:re=>{tt().fire("Une erreur s'est produite lors de la cr\xe9ation","","error"),console.log(re)}})}}return v.\u0275fac=function(C){return new(C||v)(n.Y36(Zt.t),n.Y36(i.e),n.Y36(me.F0),n.Y36(e.qu),n.Y36(o.so))},v.\u0275cmp=n.Xpm({type:v,selectors:[["app-upload-agences"]],decls:17,vars:4,consts:[[1,"heading"],[1,"mat-typography"],[1,"row",3,"formGroup","ngSubmit"],["formDirective","ngForm"],["appearance","outline",1,"col-md-5"],["formControlName","agences","multiple",""],[4,"ngFor","ngForOf"],["class","invalid-feedback",4,"ngIf"],[1,"button-row"],["type","button",1,"btn","btn-cancel",3,"mat-dialog-close"],["type","submit",1,"btn","btn-action"],[3,"value"],[1,"invalid-feedback"],[4,"ngIf"]],template:function(C,le){1&C&&(n.TgZ(0,"h2",0),n._uU(1,"Veuillez selectionner les agences a uploader sur SAP"),n.qZA(),n._UZ(2,"mat-divider"),n.TgZ(3,"mat-dialog-content",1)(4,"form",2,3),n.NdJ("ngSubmit",function(){return le.submitForm()}),n.TgZ(6,"mat-form-field",4)(7,"mat-label"),n._uU(8,"Agences"),n.qZA(),n.TgZ(9,"mat-select",5),n.YNc(10,nn,3,2,"ng-container",6),n.qZA(),n.YNc(11,xn,2,1,"mat-error",7),n.qZA(),n.TgZ(12,"div",8)(13,"button",9),n._uU(14,"Retour"),n.qZA(),n.TgZ(15,"button",10),n._uU(16,"Ajouter"),n.qZA()()()()),2&C&&(n.xp6(4),n.Q6J("formGroup",le.formUploadSap),n.xp6(6),n.Q6J("ngForOf",le.listAgence),n.xp6(1),n.Q6J("ngIf",le.formUploadSap.controls.agences.errors),n.xp6(2),n.Q6J("mat-dialog-close",!1))},dependencies:[Se.sg,Se.O5,Z.d,e._Y,e.JJ,e.JL,e.sg,e.u,O.TO,O.KE,O.hX,o.ZT,o.xY,Ze.gD,l.ey],styles:[".mat-dialog-content[_ngcontent-%COMP%]{padding-top:15px}.btn.btn-cancel[_ngcontent-%COMP%]{float:left}.btn.btn-action[_ngcontent-%COMP%]{float:right}"]}),v})();var Ri=B(3776),Xn=B(7392),Mt=B(8255),Lt=B(4859);function xt(v,H){if(1&v&&(n.ynx(0),n.TgZ(1,"mat-option",31),n._uU(2),n.qZA(),n.BQk()),2&v){const C=H.$implicit;n.xp6(1),n.Q6J("value",C.idReseau),n.xp6(1),n.hij(" ",C.description," ")}}function ht(v,H){if(1&v&&(n.ynx(0),n.TgZ(1,"mat-option",31),n._uU(2),n.qZA(),n.BQk()),2&v){const C=H.$implicit;n.xp6(1),n.Q6J("value",C.idParam),n.xp6(1),n.hij(" ",C.description," ")}}function Yn(v,H){1&v&&(n.TgZ(0,"th",32),n._uU(1," Code "),n.qZA())}function Jn(v,H){if(1&v&&(n.TgZ(0,"td",33),n._uU(1),n.qZA()),2&v){const C=H.$implicit;n.xp6(1),n.hij(" ",C.codeAgence," ")}}function pi(v,H){1&v&&(n.TgZ(0,"th",32),n._uU(1," Nom "),n.qZA())}function Qn(v,H){if(1&v&&(n.TgZ(0,"td",33),n._uU(1),n.qZA()),2&v){const C=H.$implicit;n.xp6(1),n.hij(" ",C.nomAgence," ")}}function Kn(v,H){1&v&&(n.TgZ(0,"th",32),n._uU(1," type de r\xe9seau "),n.qZA())}function xi(v,H){if(1&v&&(n.TgZ(0,"td",33),n._uU(1),n.qZA()),2&v){const C=H.$implicit;n.xp6(1),n.hij(" ",C.reseauDistribution," ")}}function tn(v,H){1&v&&(n.TgZ(0,"th",32),n._uU(1," Zone "),n.qZA())}function Kt(v,H){if(1&v&&(n.TgZ(0,"td",33),n._uU(1),n.qZA()),2&v){const C=H.$implicit;n.xp6(1),n.hij("",C.zone," ")}}function hi(v,H){1&v&&(n.TgZ(0,"th",32),n._uU(1," Statut "),n.qZA())}function $i(v,H){if(1&v&&(n.TgZ(0,"td",33),n._uU(1),n.qZA()),2&v){const C=H.$implicit;n.xp6(1),n.hij("",C.statut," ")}}function Sn(v,H){1&v&&(n.TgZ(0,"th",32),n._uU(1," Action "),n.qZA())}function vt(v,H){if(1&v){const C=n.EpF();n.TgZ(0,"td",33)(1,"button",34)(2,"mat-icon"),n._uU(3,"more_vert"),n.qZA()(),n.TgZ(4,"mat-menu",35,36)(6,"button",37),n.NdJ("click",function(){const Fe=n.CHM(C).$implicit,ti=n.oxw();return n.KtG(ti.editAgence(Fe.idAgence))}),n.TgZ(7,"mat-icon"),n._uU(8,"edit"),n.qZA(),n.TgZ(9,"span"),n._uU(10,"Modifier Agence"),n.qZA()(),n.TgZ(11,"button",37),n.NdJ("click",function(){const Fe=n.CHM(C).$implicit,ti=n.oxw();return n.KtG(ti.desactivateAgence(Fe.idAgence,null==Fe.idPersonneMorale?null:Fe.idPersonneMorale.raisonSocial))}),n.TgZ(12,"mat-icon"),n._uU(13,"delete"),n.qZA(),n.TgZ(14,"span"),n._uU(15,"D\xe9sactiver Agence"),n.qZA()()()()}if(2&v){const C=H.$implicit,le=n.MAs(5);n.xp6(1),n.Q6J("matMenuTriggerFor",le),n.xp6(5),n.Q6J("disabled","d\xe9sactiv\xe9"==C.statut),n.xp6(5),n.Q6J("disabled","d\xe9sactiv\xe9"==C.statut)}}function $e(v,H){1&v&&n._UZ(0,"tr",38)}function bn(v,H){1&v&&n._UZ(0,"tr",39)}const Vt=function(){return[5,10]};let Gn=(()=>{class v{constructor(C,le,re,Fe,ti){this.dialog=C,this.genericService=le,this.agencesService=re,this.router=Fe,this.formBuilderAuth=ti,this.displayedAgenceColumns=["codeAgence","nomAgence","typeReseau","zone","status","action"],this.dataSourceAllAgences=new w.by,this.zones=[],this.reseauDist=[]}ngOnInit(){this.initFilters(),this.getAllAgence(),this.getAllZones(),this.getAllReseau()}initFilters(){this.formFilter=this.formBuilderAuth.group({codeAgence:[null],reseauDistribution:[0],zone:[0],statut:[null]})}getAllAgence(){this.agencesService.getAllAgenceDetails().subscribe({next:C=>{this.dataSourceAllAgences=new w.by(C),this.dataSourceAllAgences.paginator=this.paginator},error:C=>{console.log(C)}})}uploadAgences(){this.dialog.open(mn,{width:"60%"})}getAllZones(){this.genericService.getAllZones().subscribe({next:C=>{this.zones=C},error:C=>{console.log(C)}})}getAllReseau(){this.genericService.getReseauDistribution().subscribe({next:C=>{this.reseauDist=C},error:C=>{console.log(C)}})}editAgence(C){this.router.navigateByUrl("reseau-commercial/gestion-agences/modification-agence/"+C)}navigateToAllCreate(){this.router.navigate(["reseau-commercial/gestion-agences/creation-agence"])}desactivateAgence(C,le){this.dialog.open(ut,{width:"40%",data:{idAgence:C,desc:le}}).afterClosed().subscribe(Fe=>{Fe&&this.agencesService.DesactAgence(C,Fe.data).subscribe({next:ti=>{this.getAllAgence()},error:ti=>{console.log(ti)}})})}submitFilter(){this.agencesService.filterAgence(this.formFilter.value).subscribe({next:C=>{this.dataSourceAllAgences=new w.by(C),this.formFilter=this.formBuilderAuth.group({codeAgence:[null],reseauDistribution:[0],zone:[0],statut:[null]})},error:C=>{console.log(C)}})}}return v.\u0275fac=function(C){return new(C||v)(n.Y36(o.uw),n.Y36(Ri.M),n.Y36(i.e),n.Y36(me.F0),n.Y36(e.qu))},v.\u0275cmp=n.Xpm({type:v,selectors:[["app-gestion-agences"]],viewQuery:function(C,le){if(1&C&&n.Gf(Q.NW,5),2&C){let re;n.iGM(re=n.CRH())&&(le.paginator=re.first)}},decls:68,vars:9,consts:[[1,"container"],[1,"header"],[1,"title-table"],[1,"btn","btn-secondary",2,"display","flex","align-items","center",3,"click"],["aria-hidden","false","aria-label","ajouter pack ",1,"material-symbols-outlined"],[1,"filter"],[1,"row",2,"margin-left","1rem",3,"formGroup","ngSubmit"],["formDirective","ngForm"],["appearance","outline",1,"col-md-2"],["type","text","matInput","","placeholder","","formControlName","codeAgence"],["formControlName","reseauDistribution"],[4,"ngFor","ngForOf"],["formControlName","zone"],["formControlName","statut"],["value","active"],["value","desactive"],[1,"col-md-12","row-button"],["type","button",1,"btn","btn-outline",3,"click"],["type","submit",1,"btn","btn-action"],["mat-table","",1,"table",3,"dataSource"],["matColumnDef","codeAgence"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","nomAgence"],["matColumnDef","typeReseau"],["matColumnDef","zone"],["matColumnDef","status"],["matColumnDef","action"],["mat-header-row","","class","example-second-header-row",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["aria-label","Select page of users",3,"pageSize","pageSizeOptions"],[3,"value"],["mat-header-cell",""],["mat-cell",""],["mat-icon-button","","type","button","aria-label","menu pack list",3,"matMenuTriggerFor"],["xPosition","after",1,"menu-pack"],["menu","matMenu"],["mat-menu-item","","type","button",3,"disabled","click"],["mat-header-row","",1,"example-second-header-row"],["mat-row",""]],template:function(C,le){1&C&&(n.TgZ(0,"div",0)(1,"div",1)(2,"h2",2),n._uU(3,"Listes des agences"),n.qZA(),n.TgZ(4,"button",3),n.NdJ("click",function(){return le.navigateToAllCreate()}),n.TgZ(5,"mat-icon",4),n._uU(6,"add_circle"),n.qZA(),n._uU(7," Ajouter une nouvelle agence "),n.qZA()(),n._UZ(8,"mat-divider"),n.TgZ(9,"div",5)(10,"form",6,7),n.NdJ("ngSubmit",function(){return le.submitFilter()}),n.TgZ(12,"mat-form-field",8)(13,"mat-label"),n._uU(14,"Code agence"),n.qZA(),n._UZ(15,"input",9),n.qZA(),n.TgZ(16,"mat-form-field",8)(17,"mat-label"),n._uU(18,"R\xe9seau de distribution"),n.qZA(),n.TgZ(19,"mat-select",10)(20,"mat-option"),n._uU(21,"-- Aucun --"),n.qZA(),n.YNc(22,xt,3,2,"ng-container",11),n.qZA()(),n.TgZ(23,"mat-form-field",8)(24,"mat-label"),n._uU(25,"Zones"),n.qZA(),n.TgZ(26,"mat-select",12)(27,"mat-option"),n._uU(28,"-- Aucune --"),n.qZA(),n.YNc(29,ht,3,2,"ng-container",11),n.qZA()(),n.TgZ(30,"mat-form-field",8)(31,"mat-label"),n._uU(32,"Statut"),n.qZA(),n.TgZ(33,"mat-select",13)(34,"mat-option"),n._uU(35,"-- Aucune --"),n.qZA(),n.ynx(36),n.TgZ(37,"mat-option",14),n._uU(38,"Active"),n.qZA(),n.TgZ(39,"mat-option",15),n._uU(40,"D\xe9sactiv\xe9"),n.qZA(),n.BQk(),n.qZA()(),n.TgZ(41,"div",16)(42,"button",17),n.NdJ("click",function(){return le.uploadAgences()}),n._uU(43,"Upload agences a SAP"),n.qZA(),n.TgZ(44,"button",18),n._uU(45,"Filtrer"),n.qZA()()()(),n.TgZ(46,"table",19),n.ynx(47,20),n.YNc(48,Yn,2,0,"th",21),n.YNc(49,Jn,2,1,"td",22),n.BQk(),n.ynx(50,23),n.YNc(51,pi,2,0,"th",21),n.YNc(52,Qn,2,1,"td",22),n.BQk(),n.ynx(53,24),n.YNc(54,Kn,2,0,"th",21),n.YNc(55,xi,2,1,"td",22),n.BQk(),n.ynx(56,25),n.YNc(57,tn,2,0,"th",21),n.YNc(58,Kt,2,1,"td",22),n.BQk(),n.ynx(59,26),n.YNc(60,hi,2,0,"th",21),n.YNc(61,$i,2,1,"td",22),n.BQk(),n.ynx(62,27),n.YNc(63,Sn,2,0,"th",21),n.YNc(64,vt,16,3,"td",22),n.BQk(),n.YNc(65,$e,1,0,"tr",28),n.YNc(66,bn,1,0,"tr",29),n.qZA(),n._UZ(67,"mat-paginator",30),n.qZA()),2&C&&(n.xp6(10),n.Q6J("formGroup",le.formFilter),n.xp6(12),n.Q6J("ngForOf",le.reseauDist),n.xp6(7),n.Q6J("ngForOf",le.zones),n.xp6(17),n.Q6J("dataSource",le.dataSourceAllAgences),n.xp6(19),n.Q6J("matHeaderRowDef",le.displayedAgenceColumns),n.xp6(1),n.Q6J("matRowDefColumns",le.displayedAgenceColumns),n.xp6(1),n.Q6J("pageSize",10)("pageSizeOptions",n.DdM(8,Vt)))},dependencies:[Se.sg,Z.d,Xn.Hw,Mt.VK,Mt.OP,Mt.p6,e._Y,e.Fj,e.JJ,e.JL,e.sg,e.u,O.KE,O.hX,J.Nt,w.BZ,w.fO,w.as,w.w1,w.Dz,w.nj,w.ge,w.ev,w.XQ,w.Gk,Q.NW,Ze.gD,l.ey,Lt.lW],styles:[".container[_ngcontent-%COMP%]{background-color:#fff;padding:40px 0;height:100%;overflow-y:auto;overflow-x:hidden}table.table[_ngcontent-%COMP%]{width:100%;margin-top:2rem}.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:16px}.mat-row[_ngcontent-%COMP%]:nth-child(even), .mat-header-row[_ngcontent-%COMP%]{background-color:#f7f7f9}.mat-header-row[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{color:#00008f}.row-button[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:end;padding:0rem 2rem}.mat-header-cell[_ngcontent-%COMP%]{color:#333;font-weight:600;letter-spacing:.5px;font-size:15px;width:165px}.header-tab[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}.mat-paginator[_ngcontent-%COMP%]{background-color:transparent;margin:20px auto auto;width:80%}.example-first-header-row[_ngcontent-%COMP%]{background-color:#00008f}.example-first-header-row[_ngcontent-%COMP%]   th.mat-header-cell[_ngcontent-%COMP%]{border:none;color:#fff;font-size:18px}.mat-column-valeur.mat-cell[_ngcontent-%COMP%]{text-align:center}.mat-icon[_ngcontent-%COMP%]{height:100%;font-size:36px;width:-moz-fit-content;width:fit-content}.mat-cell[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{color:#00008f}.mat-header-cell.mat-icon[_ngcontent-%COMP%]{color:#fff}.mat-cell[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]:hover, .mat-header-cell[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]:hover{color:#d14723;cursor:pointer}  .mat-tooltip{font-size:14px}.mat-menu-item[_ngcontent-%COMP%]{font-size:16px}.mat-menu-item[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:21px;height:-moz-fit-content;height:fit-content}.mat-menu-item[_ngcontent-%COMP%]:hover:not([disabled]){color:#00008f}.mat-menu-item[_ngcontent-%COMP%]:hover:not([disabled])   .mat-icon[_ngcontent-%COMP%]{color:#00008f}.title-table[_ngcontent-%COMP%]{margin-bottom:0rem;font-weight:800!important;font-size:23px!important;color:#00008f!important}.header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:0px 2rem}.header[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{height:-moz-fit-content;height:fit-content;font-size:29px;margin-right:1rem;width:-moz-fit-content;width:fit-content}.mat-divider[_ngcontent-%COMP%]{margin-bottom:2rem;margin-top:2rem}"]}),v})();var ei=B(2644),vi=B(7084),uo=B(266);function bo(v,H){if(1&v&&(n.TgZ(0,"div",34),n._uU(1),n.qZA()),2&v){const C=n.oxw();n.xp6(1),n.Oqu(C.errorMessage)}}function oe(v,H){if(1&v&&(n.TgZ(0,"div",35),n._uU(1),n.qZA()),2&v){const C=n.oxw();n.xp6(1),n.hij("L'agence ",C.codeAgence," a \xe9t\xe9 cr\xe9e avec succ\xe9e. ")}}function pn(v,H){1&v&&(n.TgZ(0,"div"),n._uU(1," ce champs est obligatoire"),n.qZA())}function Zi(v,H){if(1&v&&(n.TgZ(0,"mat-error",36),n.YNc(1,pn,2,0,"div",37),n.qZA()),2&v){const C=n.oxw();n.xp6(1),n.Q6J("ngIf",C.formCreationAgence.controls.nomAgence.errors.required)}}function Ai(v,H){if(1&v&&(n.ynx(0),n.TgZ(1,"mat-option",38),n._uU(2),n.qZA(),n.BQk()),2&v){const C=H.$implicit;n.xp6(1),n.Q6J("value",C.idReseau),n.xp6(1),n.hij(" ",C.description," ")}}function Di(v,H){1&v&&(n.TgZ(0,"div"),n._uU(1," ce champs est obligatoire"),n.qZA())}function Mn(v,H){if(1&v&&(n.TgZ(0,"mat-error",36),n.YNc(1,Di,2,0,"div",37),n.qZA()),2&v){const C=n.oxw();n.xp6(1),n.Q6J("ngIf",C.formCreationAgence.controls.zone.errors.required)}}function Nn(v,H){if(1&v&&(n.ynx(0),n.TgZ(1,"mat-option",38),n._uU(2),n.qZA(),n.BQk()),2&v){const C=H.$implicit;n.xp6(1),n.Q6J("value",C.idParam),n.xp6(1),n.hij(" ",C.description," ")}}function vn(v,H){1&v&&(n.TgZ(0,"div"),n._uU(1," ce champs est obligatoire"),n.qZA())}function Et(v,H){if(1&v&&(n.TgZ(0,"mat-error",36),n.YNc(1,vn,2,0,"div",37),n.qZA()),2&v){const C=n.oxw();n.xp6(1),n.Q6J("ngIf",C.formCreationAgence.controls.zone.errors.required)}}function mo(v,H){if(1&v&&(n.ynx(0),n.TgZ(1,"mat-option",38),n._uU(2),n.qZA(),n.BQk()),2&v){const C=H.$implicit;n.xp6(1),n.Q6J("value",C.idWilaya),n.xp6(1),n.hij(" ",C.description," ")}}function mr(v,H){1&v&&(n.TgZ(0,"div"),n._uU(1," ce champs est obligatoire"),n.qZA())}function zr(v,H){if(1&v&&(n.TgZ(0,"mat-error",36),n.YNc(1,mr,2,0,"div",37),n.qZA()),2&v){const C=n.oxw();n.xp6(1),n.Q6J("ngIf",C.formCreationAgence.controls.wilaya.errors.required)}}function Eo(v,H){if(1&v&&(n.ynx(0),n.TgZ(1,"mat-option",38),n._uU(2),n.qZA(),n.BQk()),2&v){const C=H.$implicit;n.xp6(1),n.Q6J("value",C.idCommune),n.xp6(1),n.hij(" ",C.description," ")}}function ra(v,H){1&v&&(n.TgZ(0,"div"),n._uU(1," ce champs est obligatoire"),n.qZA())}function aa(v,H){if(1&v&&(n.TgZ(0,"mat-error",36),n.YNc(1,ra,2,0,"div",37),n.qZA()),2&v){const C=n.oxw();n.xp6(1),n.Q6J("ngIf",C.formCreationAgence.controls.commune.errors.required)}}function Ba(v,H){1&v&&(n.TgZ(0,"div"),n._uU(1," ce champs est obligatoire"),n.qZA())}function za(v,H){if(1&v&&(n.TgZ(0,"mat-error",36),n.YNc(1,Ba,2,0,"div",37),n.qZA()),2&v){const C=n.oxw();n.xp6(1),n.Q6J("ngIf",C.formCreationAgence.controls.adresse.errors.required)}}function Aa(v,H){if(1&v&&(n.ynx(0),n.TgZ(1,"mat-option",38),n._uU(2),n.qZA(),n.BQk()),2&v){const C=H.$implicit;n.xp6(1),n.Q6J("value",C.idCodePostal),n.xp6(1),n.hij(" ",C.codePostal," ")}}function Ks(v,H){1&v&&(n.TgZ(0,"div"),n._uU(1," ce champs est obligatoire"),n.qZA())}function ds(v,H){if(1&v&&(n.TgZ(0,"mat-error",36),n.YNc(1,Ks,2,0,"div",37),n.qZA()),2&v){const C=n.oxw();n.xp6(1),n.Q6J("ngIf",C.formCreationAgence.controls.codePostal.errors.required)}}function _s(v,H){if(1&v&&(n.ynx(0),n.TgZ(1,"mat-option",38),n._uU(2),n.qZA(),n.BQk()),2&v){const C=H.$implicit;n.xp6(1),n.Q6J("value",C.description),n.xp6(1),n.hij(" ",C.description," ")}}function Ta(v,H){1&v&&(n.TgZ(0,"div"),n._uU(1," ce champs est obligatoire"),n.qZA())}function sa(v,H){if(1&v&&(n.TgZ(0,"mat-error",36),n.YNc(1,Ta,2,0,"div",37),n.qZA()),2&v){const C=n.oxw(2);n.xp6(1),n.Q6J("ngIf",C.formCreationAgence.controls.zone.errors.required)}}function Ws(v,H){1&v&&(n.TgZ(0,"mat-error",36),n._uU(1,"ce champs est obligatoire "),n.qZA())}function Xs(v,H){1&v&&(n.TgZ(0,"mat-error",36),n._uU(1,"cet email est invalid "),n.qZA())}function dr(v,H){if(1&v&&(n.TgZ(0,"mat-form-field",12)(1,"mat-label"),n._uU(2),n.qZA(),n._UZ(3,"input",43),n.TgZ(4,"mat-icon",44),n._uU(5),n.qZA(),n.YNc(6,Ws,2,0,"mat-error",14),n.YNc(7,Xs,2,0,"mat-error",14),n.qZA()),2&v){const C=n.oxw().index,le=n.oxw();let re,Fe;n.xp6(2),n.Oqu(le.contactsArray[C].title),n.xp6(3),n.Oqu(le.contactsArray[C].icon),n.xp6(1),n.Q6J("ngIf",null==(re=le.contact.controls[C].get("contactEmail"))?null:re.hasError("required")),n.xp6(1),n.Q6J("ngIf",null==(Fe=le.contact.controls[C].get("contactEmail"))?null:Fe.hasError("pattern"))}}function Va(v,H){1&v&&(n.TgZ(0,"mat-error",36),n._uU(1,"ce champs est obligatoire "),n.qZA())}function ps(v,H){1&v&&(n.TgZ(0,"mat-error",36),n._uU(1,"cet num\xe9ro est invalide "),n.qZA())}function fs(v,H){if(1&v&&(n.TgZ(0,"mat-form-field",12)(1,"mat-label"),n._uU(2),n.qZA(),n._UZ(3,"input",45),n.TgZ(4,"mat-icon",44),n._uU(5),n.qZA(),n.YNc(6,Va,2,0,"mat-error",14),n.YNc(7,ps,2,0,"mat-error",14),n.qZA()),2&v){const C=n.oxw().index,le=n.oxw();let re,Fe;n.xp6(2),n.Oqu(le.contactsArray[C].title),n.xp6(3),n.Oqu(le.contactsArray[C].icon),n.xp6(1),n.Q6J("ngIf",null==(re=le.contact.controls[C].get("contactMobile"))?null:re.hasError("required")),n.xp6(1),n.Q6J("ngIf",null==(Fe=le.contact.controls[C].get("contactMobile"))?null:Fe.hasError("pattern"))}}function Ra(v,H){if(1&v){const C=n.EpF();n.TgZ(0,"div",46)(1,"mat-icon",47),n.NdJ("click",function(){n.CHM(C);const re=n.oxw().index,Fe=n.oxw();return n.KtG(Fe.deleteContact(re))}),n._uU(2,"delete"),n.qZA()()}}function gs(v,H){if(1&v){const C=n.EpF();n.TgZ(0,"div")(1,"div",39)(2,"mat-form-field",12)(3,"mat-label"),n._uU(4,"Type contact"),n.qZA(),n.TgZ(5,"mat-select",40),n.NdJ("selectionChange",function(re){const ti=n.CHM(C).index,qo=n.oxw();return n.KtG(qo.changeTypeContact(re.value,ti))}),n.YNc(6,_s,3,2,"ng-container",16),n.qZA(),n.YNc(7,sa,2,1,"mat-error",14),n.qZA(),n.YNc(8,dr,8,4,"mat-form-field",41),n.YNc(9,fs,8,4,"mat-form-field",41),n.YNc(10,Ra,3,0,"div",42),n.qZA()()}if(2&v){const C=H.index,le=n.oxw();n.xp6(1),n.Q6J("formGroupName",C),n.xp6(5),n.Q6J("ngForOf",le.typesContact),n.xp6(1),n.Q6J("ngIf",le.formCreationAgence.controls.zone.errors),n.xp6(1),n.Q6J("ngIf","email"==le.contactsArray[C].type),n.xp6(1),n.Q6J("ngIf","email"!=le.contactsArray[C].type),n.xp6(1),n.Q6J("ngIf",0!=C)}}function ja(v,H){if(1&v&&(n.ynx(0),n.TgZ(1,"mat-option",38),n._uU(2),n.qZA(),n.BQk()),2&v){const C=H.$implicit;n.xp6(1),n.Q6J("value",C.idAgence),n.xp6(1),n.hij(" ",C.nomAgence," ")}}function el(v,H){1&v&&(n.TgZ(0,"div"),n._uU(1," ce champs est obligatoire"),n.qZA())}function la(v,H){if(1&v&&(n.TgZ(0,"mat-error",36),n.YNc(1,el,2,0,"div",37),n.qZA()),2&v){const C=n.oxw();n.xp6(1),n.Q6J("ngIf",C.formCreationAgence.controls.agenceAnnexe.errors.required)}}function hs(v,H){1&v&&(n.TgZ(0,"div"),n._uU(1," ce champs est obligatoire"),n.qZA())}function Cs(v,H){if(1&v&&(n.TgZ(0,"mat-error",36),n.YNc(1,hs,2,0,"div",37),n.qZA()),2&v){const C=n.oxw();n.xp6(1),n.Q6J("ngIf",C.formCreationAgence.controls.codeTresorerie.errors.required)}}function rr(v,H){1&v&&(n.TgZ(0,"div"),n._uU(1," ce champs est obligatoire"),n.qZA())}function xs(v,H){if(1&v&&(n.TgZ(0,"mat-error",36),n.YNc(1,rr,2,0,"div",37),n.qZA()),2&v){const C=n.oxw();n.xp6(1),n.Q6J("ngIf",C.formCreationAgence.controls.dateOuverture.errors.required)}}function vs(v,H){1&v&&(n.TgZ(0,"button",48),n._uU(1,"Enregistrer "),n.qZA())}let tl=(()=>{class v{constructor(C,le,re,Fe){this.agencesService=C,this.genericService=le,this.router=re,this.formBuilder=Fe,this.typeContact="email",this.iconTypeContact="",this.contactsArray=[],this.typesContact=[],this.communesByWilaya=[],this.wilayas=[],this.zones=[],this.indexForm=0,this.minDay=new Date,this.agence=[],this.allAgences=[],this.codesPostalByWilaya=[],this.reseauDistribution=[],this.isEmail=!0,this.errorVar=!1,this.errorMessage="",this.successVar=!1,this.successMessage="",this.createAgenceSpinner=!1}ngOnInit(){this.getIdPays("DZA"),this.initCreationAgence(),this.initTypeContrat(),this.getAllAgence(),this.getAllTypeContact(),this.getAllZones(),this.getReseauDist()}initTypeContrat(){this.contact.push(this.formBuilder.group({typeContact:[{value:"email",disabled:!0},[e.kI.required]],contactEmail:["",[e.kI.required,e.kI.pattern(ei.e.email)]],contactMobile:["",[e.kI.pattern(ei.e.mobile)]]})),this.contactsArray.push({index:this.indexForm,icon:"mail",title:"email",type:"email"})}initCreationAgence(){this.formCreationAgence=this.formBuilder.group({nomAgence:["",[e.kI.required,e.kI.pattern("^[A-Za-z0-9 ]+$")]],adresse:["",[e.kI.required,e.kI.pattern("^[A-Za-z\xc0-\u02150-9(),-_.,' ]+$")]],codePostal:["",[e.kI.required]],commune:["",[e.kI.required]],wilaya:["",[e.kI.required]],contact:this.formBuilder.array([]),agenceAnnexe:["",[]],codeTresorerie:["",[e.kI.required,e.kI.pattern("^[0-9]*$")]],reseauDistribution:["",[e.kI.required]],zone:["",[e.kI.required]],dateOuverture:["",[e.kI.required]]})}navigateToAllAgence(){this.router.navigate(["reseau-commercial/gestion-agences"])}get contact(){return this.formCreationAgence.get("contact")}getAllAgence(){this.agencesService.getAllAgence().subscribe({next:C=>{this.allAgences=C},error:C=>{console.log(C)}})}getAllTypeContact(){this.genericService.getAllContacts().subscribe({next:C=>{this.typesContact=C},error:C=>{console.log(C)}})}changeTypeContact(C,le){switch(this.typeContact=C,C){case"fax":this.iconTypeContact="print",this.contact.at(le).get("contactEmail")?.setValidators([]),this.contact.at(le).get("contactMobile")?.setValidators([e.kI.required]);break;case"conjoint":this.iconTypeContact="fax",this.contact.at(le).get("contactEmail")?.setValidators([]),this.contact.at(le).get("contactMobile")?.setValidators([e.kI.required]);break;case"mobile":this.iconTypeContact="call",this.contact.at(le).get("contactEmail")?.setValidators([]),this.contact.at(le).get("contactMobile")?.setValidators([e.kI.required]);break;case"email":this.iconTypeContact="mail",this.contact.at(le).get("contactEmail")?.setValidators([e.kI.required]),this.contact.at(le).get("contactMobile")?.setValidators([])}this.contactsArray.filter(re=>{re.index==le&&(re.type=this.typeContact,re.title=this.typeContact,re.icon=this.iconTypeContact)})}addTypeContact(){this.indexForm=this.indexForm+1,this.typeContact="mobile",this.contact.push(this.formBuilder.group({typeContact:["mobile",[e.kI.required]],contactEmail:["",[e.kI.pattern(ei.e.email)]],contactMobile:["",[e.kI.required,e.kI.pattern(ei.e.mobile)]]})),this.contactsArray.push({index:this.indexForm,title:this.typeContact,icon:this.iconTypeContact,type:"mobile"})}getIdPays(C){this.genericService.getPays().subscribe({next:le=>{this.idPays=le.find(re=>re.codePays==C).idPays,this.getAllWilaya()},error:le=>{console.log(le)}})}getAllWilaya(){this.genericService.getAllWilayas(this.idPays).subscribe({next:C=>{this.wilayas=C},error:C=>{console.log(C)}})}getAllZones(){this.genericService.getAllZones().subscribe({next:C=>{this.zones=C},error:C=>{console.log(C)}})}getInfoByWilaya(C){this.getCommunes(C),this.getCodesPostal(C)}getCommunes(C){this.genericService.getAllCommuneByWilaya(C).subscribe({next:le=>{this.communesByWilaya=le},error:le=>{console.log(le)}})}getCodesPostal(C){this.genericService.getCodesPostal(C).subscribe({next:le=>{this.codesPostalByWilaya=le},error:le=>{console.log(le)}})}getReseauDist(){this.genericService.getReseauDistribution().subscribe({next:C=>{this.reseauDistribution=C},error:C=>{console.log(C)}})}submitAgence(C){let le=[],re=this.typesContact;this.formCreationAgence.valid&&(this.formCreationAgence.get("contact").value.filter(function(Fe,ti){let qo,Vs;qo=0==ti?re.filter(Ya=>"email"==Ya.description)[0].idParam:re.filter(Ya=>Ya.description==Fe.typeContact)[0].idParam,Vs=qo==re.filter(Ya=>"email"==Ya.description)[0].idParam?Fe.contactEmail:Fe.contactMobile,le.push({idTypeContact:qo,description:Vs,dateDebut:xe(new Date).format("YYYY-MM-DD"),dateFin:""})}),this.agence={codeTresorie:this.formCreationAgence.get("codeTresorerie").value,nomAgence:this.formCreationAgence.get("nomAgence").value,zone:this.formCreationAgence.get("zone").value,reseauDistribution:this.formCreationAgence.get("reseauDistribution").value,codeAnnexe:this.formCreationAgence.get("agenceAnnexe").value,dateOuverture:xe(this.formCreationAgence.get("dateOuverture").value).format("YYYY-MM-DD"),adressesList:[{description:this.formCreationAgence.get("adresse").value,pays:this.idPays,wilaya:this.formCreationAgence.get("wilaya").value,commune:this.formCreationAgence.get("commune").value,codePostal:this.formCreationAgence.get("codePostal").value}],contactList:le},this.createAgence(C))}createAgence(C){this.agencesService.createAgence(this.agence).subscribe({next:le=>{C.resetForm(),this.formCreationAgence.reset(),this.errorVar=!1,this.successVar=!0,this.codeAgence=le.codeAgence,this.idPersonne=le.idPersonne,this.ScollToTop()},error:le=>{400==le.code&&(this.errorVar=!0,this.successVar=!1,this.errorMessage=le.message,this.ScollToTop()),console.log(le)}})}navigateToPerson(){window.location.href="gestion-personnes/"+this.idPersonne+"/edit"}ScollToTop(){document.getElementById("containerRef")?.scrollTo({top:100,behavior:"smooth"})}getValidator(){return C=>{if(C.value)if("email"==this.typeContact){if(!C.value.toString().match("[a-z0-9._%+-]+@[a-z0-9.-]+.[a-z]{2,4}$"))return{emailInvalid:!0}}else if(!C.value.toString().match("^[0-9][0-9]{9}$"))return{mobile:!0};return null}}deleteContact(C){this.contact.removeAt(C),this.contactsArray.splice(C,1)}}return v.\u0275fac=function(C){return new(C||v)(n.Y36(i.e),n.Y36(Ri.M),n.Y36(me.F0),n.Y36(e.qu))},v.\u0275cmp=n.Xpm({type:v,selectors:[["app-create-agence"]],decls:102,vars:28,consts:[["id","containerRef",1,"container"],["containerRef",""],[1,"header"],["aria-hidden","false","aria-label","","matTooltip","Retourner vers liste des agences","matTooltipPosition","left",1,"material-symbols-outlined",2,"margin-right","14px",3,"click"],[1,"title-form"],["id","","class","alert alert-danger",4,"ngIf"],["id","","class","alert alert-success",4,"ngIf"],[1,"",3,"formGroup","ngSubmit"],["formDirective","ngForm"],["multi","",1,"example-headers-align"],["disabled","",3,"expanded"],[1,"row","row-fields"],["appearance","outline",1,"col-md-5"],["type","text","matInput","","placeholder","","formControlName","nomAgence"],["class","invalid-feedback",4,"ngIf"],["formControlName","reseauDistribution"],[4,"ngFor","ngForOf"],["formControlName","zone"],["formControlName","wilaya",3,"selectionChange"],["formControlName","commune"],["type","text","matInput","","placeholder","","formControlName","adresse"],["formControlName","codePostal"],["formArrayName","contact",1,"col-md-9"],[1,"col-md-3","add-col"],["type","button",1,"btn","btn-secondary",3,"click"],["aria-hidden","false","aria-label","ajouter un\n                                type de contact ",1,"material-symbols-outlined",2,"margin-right","1rem"],["formControlName","agenceAnnexe"],["type","text","matInput","","placeholder","","formControlName","codeTresorerie"],["appearance","outline",1,"col-md-5",2,"padding-right","1%"],["matInput","","formControlName","dateOuverture",3,"min","matDatepicker"],["matSuffix","",3,"for"],["pickerDateOuverture",""],[1,"col-md-12","row-button"],["class","btn btn-action",4,"ngIf"],["id","",1,"alert","alert-danger"],["id","",1,"alert","alert-success"],[1,"invalid-feedback"],[4,"ngIf"],[3,"value"],[1,"row",3,"formGroupName"],["formControlName","typeContact",3,"selectionChange"],["class","col-md-5","appearance","outline",4,"ngIf"],["class","col-md-2 deleteContact",4,"ngIf"],["type","text","matInput","","placeholder","","formControlName","contactEmail"],["matSuffix",""],["type","text","matInput","","placeholder","","formControlName","contactMobile"],[1,"col-md-2","deleteContact"],["aria-hidden","false","aria-label","Dashboard","matTooltip","supprimer ce contact","matTooltipPosition","right",1,"material-symbols-outlined",3,"click"],[1,"btn","btn-action"]],template:function(C,le){if(1&C){const re=n.EpF();n.TgZ(0,"div",0,1)(2,"div",2)(3,"mat-icon",3),n.NdJ("click",function(){return le.navigateToAllAgence()}),n._uU(4,"arrow_circle_left"),n.qZA(),n.TgZ(5,"h2",4),n._uU(6,"Cr\xe9ation agence"),n.qZA()(),n.YNc(7,bo,2,1,"div",5),n.YNc(8,oe,2,1,"div",6),n.TgZ(9,"form",7,8),n.NdJ("ngSubmit",function(){n.CHM(re);const ti=n.MAs(10);return n.KtG(le.submitAgence(ti))}),n.TgZ(11,"mat-accordion",9)(12,"mat-expansion-panel",10)(13,"mat-expansion-panel-header")(14,"mat-panel-title"),n._uU(15," Information g\xe9n\xe9rales "),n.qZA()(),n.TgZ(16,"div",11)(17,"mat-form-field",12)(18,"mat-label"),n._uU(19,"Nom agence"),n.qZA(),n._UZ(20,"input",13),n.YNc(21,Zi,2,1,"mat-error",14),n.qZA(),n.TgZ(22,"mat-form-field",12)(23,"mat-label"),n._uU(24,"r\xe9seau de distribution"),n.qZA(),n.TgZ(25,"mat-select",15),n.YNc(26,Ai,3,2,"ng-container",16),n.qZA(),n.YNc(27,Mn,2,1,"mat-error",14),n.qZA(),n.TgZ(28,"mat-form-field",12)(29,"mat-label"),n._uU(30,"Zones"),n.qZA(),n.TgZ(31,"mat-select",17),n.YNc(32,Nn,3,2,"ng-container",16),n.qZA(),n.YNc(33,Et,2,1,"mat-error",14),n.qZA()()(),n.TgZ(34,"mat-expansion-panel",10)(35,"mat-expansion-panel-header")(36,"mat-panel-title"),n._uU(37," Localisation "),n.qZA()(),n.TgZ(38,"div",11)(39,"mat-form-field",12)(40,"mat-label"),n._uU(41,"Wilaya"),n.qZA(),n.TgZ(42,"mat-select",18),n.NdJ("selectionChange",function(ti){return le.getInfoByWilaya(ti.value)}),n.YNc(43,mo,3,2,"ng-container",16),n.qZA(),n.YNc(44,zr,2,1,"mat-error",14),n.qZA(),n.TgZ(45,"mat-form-field",12)(46,"mat-label"),n._uU(47,"Commune"),n.qZA(),n.TgZ(48,"mat-select",19),n.YNc(49,Eo,3,2,"ng-container",16),n.qZA(),n.YNc(50,aa,2,1,"mat-error",14),n.qZA(),n.TgZ(51,"mat-form-field",12)(52,"mat-label"),n._uU(53,"Adresse"),n.qZA(),n._UZ(54,"input",20),n.YNc(55,za,2,1,"mat-error",14),n.qZA(),n.TgZ(56,"mat-form-field",12)(57,"mat-label"),n._uU(58,"Code postal"),n.qZA(),n.TgZ(59,"mat-select",21),n.YNc(60,Aa,3,2,"ng-container",16),n.qZA(),n.YNc(61,ds,2,1,"mat-error",14),n.qZA()()(),n.TgZ(62,"mat-expansion-panel",10)(63,"mat-expansion-panel-header")(64,"mat-panel-title"),n._uU(65," Contact "),n.qZA()(),n.TgZ(66,"div",11)(67,"div",22),n.YNc(68,gs,11,6,"div",16),n.qZA(),n.TgZ(69,"div",23)(70,"button",24),n.NdJ("click",function(){return le.addTypeContact()}),n.TgZ(71,"mat-icon",25),n._uU(72,"add_circle"),n.qZA(),n._uU(73," Ajouter type contact"),n.qZA()()()(),n.TgZ(74,"mat-expansion-panel",10)(75,"mat-expansion-panel-header")(76,"mat-panel-title"),n._uU(77," Informations suppl\xe9mentaires "),n.qZA()(),n.TgZ(78,"div",11)(79,"mat-form-field",12)(80,"mat-label"),n._uU(81,"Agence annexe"),n.qZA(),n.TgZ(82,"mat-select",26)(83,"mat-option"),n._uU(84,"-- Aucune --"),n.qZA(),n.YNc(85,ja,3,2,"ng-container",16),n.qZA(),n.YNc(86,la,2,1,"mat-error",14),n.qZA(),n.TgZ(87,"mat-form-field",12)(88,"mat-label"),n._uU(89,"Code tr\xe9sorerie"),n.qZA(),n._UZ(90,"input",27),n.YNc(91,Cs,2,1,"mat-error",14),n.qZA(),n.TgZ(92,"mat-form-field",28)(93,"mat-label"),n._uU(94,"Date d'ouverture"),n.qZA(),n._UZ(95,"input",29)(96,"mat-datepicker-toggle",30)(97,"mat-datepicker",null,31),n.YNc(99,xs,2,1,"mat-error",14),n.qZA()()()(),n.TgZ(100,"div",32),n.YNc(101,vs,2,0,"button",33),n.qZA()()()}if(2&C){const re=n.MAs(98);n.xp6(7),n.Q6J("ngIf",le.errorVar),n.xp6(1),n.Q6J("ngIf",le.successVar),n.xp6(1),n.Q6J("formGroup",le.formCreationAgence),n.xp6(3),n.Q6J("expanded",!0),n.xp6(9),n.Q6J("ngIf",le.formCreationAgence.controls.nomAgence.errors),n.xp6(5),n.Q6J("ngForOf",le.reseauDistribution),n.xp6(1),n.Q6J("ngIf",le.formCreationAgence.controls.zone.errors),n.xp6(5),n.Q6J("ngForOf",le.zones),n.xp6(1),n.Q6J("ngIf",le.formCreationAgence.controls.zone.errors),n.xp6(1),n.Q6J("expanded",!0),n.xp6(9),n.Q6J("ngForOf",le.wilayas),n.xp6(1),n.Q6J("ngIf",le.formCreationAgence.controls.wilaya.errors),n.xp6(5),n.Q6J("ngForOf",le.communesByWilaya),n.xp6(1),n.Q6J("ngIf",le.formCreationAgence.controls.commune.errors),n.xp6(5),n.Q6J("ngIf",le.formCreationAgence.controls.adresse.errors),n.xp6(5),n.Q6J("ngForOf",le.codesPostalByWilaya),n.xp6(1),n.Q6J("ngIf",le.formCreationAgence.controls.codePostal.errors),n.xp6(1),n.Q6J("expanded",!0),n.xp6(6),n.Q6J("ngForOf",le.contact.controls),n.xp6(6),n.Q6J("expanded",!0),n.xp6(11),n.Q6J("ngForOf",le.allAgences),n.xp6(1),n.Q6J("ngIf",le.formCreationAgence.controls.agenceAnnexe.errors),n.xp6(5),n.Q6J("ngIf",le.formCreationAgence.controls.codeTresorerie.errors),n.xp6(4),n.Q6J("min",le.minDay)("matDatepicker",re),n.xp6(1),n.Q6J("for",re),n.xp6(3),n.Q6J("ngIf",le.formCreationAgence.controls.dateOuverture.errors),n.xp6(2),n.Q6J("ngIf",!le.createAgenceSpinner)}},dependencies:[Se.sg,Se.O5,Xn.Hw,vi.pp,vi.ib,vi.yz,vi.yK,e._Y,e.Fj,e.JJ,e.JL,e.sg,e.u,e.x0,e.CE,O.TO,O.KE,O.hX,O.R9,J.Nt,uo.gM,he.Mq,he.hl,he.nW,Ze.gD,l.ey],styles:[".container[_ngcontent-%COMP%]{background-color:#fff;padding:40px 23px;height:100%;overflow-y:auto;box-shadow:0 .5rem 1rem #00000026}.row-fields[_ngcontent-%COMP%]{padding:2rem}.mat-expansion-panel-header[_ngcontent-%COMP%]{background:rgba(51,51,51,.0509803922)}.mat-expansion-panel-header-title[_ngcontent-%COMP%], .mat-expansion-panel-header[aria-disabled=true][_ngcontent-%COMP%]{color:#00008f;font-weight:600;font-size:16px}.row-button[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;padding:0 3rem;margin-top:2rem}.header[_ngcontent-%COMP%]{margin-bottom:3rem;padding:1rem}.title-form[_ngcontent-%COMP%]{font-weight:700!important;color:#00008f;letter-spacing:1px;font-size:27px!important;width:100%;margin-bottom:0rem;margin-left:1rem}.header[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:30px;color:#00008f}.add-col[_ngcontent-%COMP%]{display:flex;align-items:flex-end;padding-bottom:2rem}.add-col[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:flex;align-items:center}.deleteContact[_ngcontent-%COMP%]{display:flex;align-items:center;color:#d14624}.deleteContact[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{cursor:pointer}.personLink[_ngcontent-%COMP%]{font-weight:600;cursor:pointer;text-decoration:underline}"]}),v})();function As(v,H){if(1&v){const C=n.EpF();n.TgZ(0,"button",9),n.NdJ("click",function(){n.CHM(C);const re=n.oxw();return n.KtG(re.enableForm())}),n._uU(1,"Modifier"),n.qZA()}}function Ar(v,H){if(1&v&&(n.TgZ(0,"div",10),n._uU(1),n.qZA()),2&v){const C=n.oxw();n.xp6(1),n.Oqu(C.errorMessage)}}function nl(v,H){if(1&v&&(n.TgZ(0,"div",11),n._uU(1),n.qZA()),2&v){const C=n.oxw();n.xp6(1),n.Oqu(C.successMessage)}}function il(v,H){1&v&&(n.TgZ(0,"div"),n._uU(1," ce champs est obligatoire"),n.qZA())}function Ts(v,H){if(1&v&&(n.TgZ(0,"mat-error",40),n.YNc(1,il,2,0,"div",41),n.qZA()),2&v){const C=n.oxw(2);n.xp6(1),n.Q6J("ngIf",C.formCreationAgence.controls.codeAgence.errors.required)}}function Nr(v,H){1&v&&(n.TgZ(0,"div"),n._uU(1," ce champs est obligatoire"),n.qZA())}function Lr(v,H){if(1&v&&(n.TgZ(0,"mat-error",40),n.YNc(1,Nr,2,0,"div",41),n.qZA()),2&v){const C=n.oxw(2);n.xp6(1),n.Q6J("ngIf",C.formCreationAgence.controls.nomAgence.errors.required)}}function Da(v,H){if(1&v&&(n.ynx(0),n.TgZ(1,"mat-option",42),n._uU(2),n.qZA(),n.BQk()),2&v){const C=H.$implicit;n.xp6(1),n.Q6J("value",C.idReseau),n.xp6(1),n.hij(" ",C.description," ")}}function bs(v,H){1&v&&(n.TgZ(0,"div"),n._uU(1," ce champs est obligatoire"),n.qZA())}function Ir(v,H){if(1&v&&(n.TgZ(0,"mat-error",40),n.YNc(1,bs,2,0,"div",41),n.qZA()),2&v){const C=n.oxw(2);n.xp6(1),n.Q6J("ngIf",C.formCreationAgence.controls.zone.errors.required)}}function ol(v,H){if(1&v&&(n.ynx(0),n.TgZ(1,"mat-option",42),n._uU(2),n.qZA(),n.BQk()),2&v){const C=H.$implicit;n.xp6(1),n.Q6J("value",C.idParam),n.xp6(1),n.hij(" ",C.description," ")}}function Ps(v,H){1&v&&(n.TgZ(0,"div"),n._uU(1," ce champs est obligatoire"),n.qZA())}function Zs(v,H){if(1&v&&(n.TgZ(0,"mat-error",40),n.YNc(1,Ps,2,0,"div",41),n.qZA()),2&v){const C=n.oxw(2);n.xp6(1),n.Q6J("ngIf",C.formCreationAgence.controls.zone.errors.required)}}function qs(v,H){if(1&v&&(n.ynx(0),n.TgZ(1,"mat-option",42),n._uU(2),n.qZA(),n.BQk()),2&v){const C=H.$implicit;n.xp6(1),n.Q6J("value",C.idWilaya),n.xp6(1),n.hij(" ",C.description," ")}}function _r(v,H){1&v&&(n.TgZ(0,"div"),n._uU(1," ce champs est obligatoire"),n.qZA())}function Zr(v,H){if(1&v&&(n.TgZ(0,"mat-error",40),n.YNc(1,_r,2,0,"div",41),n.qZA()),2&v){const C=n.oxw(2);n.xp6(1),n.Q6J("ngIf",C.formCreationAgence.controls.wilaya.errors.required)}}function it(v,H){if(1&v&&(n.ynx(0),n.TgZ(1,"mat-option",42),n._uU(2),n.qZA(),n.BQk()),2&v){const C=H.$implicit;n.xp6(1),n.Q6J("value",C.idCommune),n.xp6(1),n.hij(" ",C.description," ")}}function ha(v,H){1&v&&(n.TgZ(0,"div"),n._uU(1," ce champs est obligatoire"),n.qZA())}function Ci(v,H){if(1&v&&(n.TgZ(0,"mat-error",40),n.YNc(1,ha,2,0,"div",41),n.qZA()),2&v){const C=n.oxw(2);n.xp6(1),n.Q6J("ngIf",C.formCreationAgence.controls.commune.errors.required)}}function qi(v,H){1&v&&(n.TgZ(0,"div"),n._uU(1," ce champs est obligatoire"),n.qZA())}function Ha(v,H){if(1&v&&(n.TgZ(0,"mat-error",40),n.YNc(1,qi,2,0,"div",41),n.qZA()),2&v){const C=n.oxw(2);n.xp6(1),n.Q6J("ngIf",C.formCreationAgence.controls.adresse.errors.required)}}function Ss(v,H){if(1&v&&(n.ynx(0),n.TgZ(1,"mat-option",42),n._uU(2),n.qZA(),n.BQk()),2&v){const C=H.$implicit;n.xp6(1),n.Q6J("value",C.idCodePostal),n.xp6(1),n.hij(" ",C.codePostal," ")}}function ys(v,H){1&v&&(n.TgZ(0,"div"),n._uU(1," ce champs est obligatoire"),n.qZA())}function wa(v,H){if(1&v&&(n.TgZ(0,"mat-error",40),n.YNc(1,ys,2,0,"div",41),n.qZA()),2&v){const C=n.oxw(2);n.xp6(1),n.Q6J("ngIf",C.formCreationAgence.controls.codePostal.errors.required)}}function di(v,H){if(1&v&&(n.ynx(0),n.TgZ(1,"mat-option",42),n._uU(2),n.qZA(),n.BQk()),2&v){const C=H.$implicit;n.xp6(1),n.Q6J("value",C.description),n.xp6(1),n.hij(" ",C.description," ")}}function Yr(v,H){1&v&&(n.TgZ(0,"div"),n._uU(1," ce champs est obligatoire"),n.qZA())}function $a(v,H){if(1&v&&(n.TgZ(0,"mat-error",40),n.YNc(1,Yr,2,0,"div",41),n.qZA()),2&v){const C=n.oxw(3);n.xp6(1),n.Q6J("ngIf",C.formCreationAgence.controls.zone.errors.required)}}function Ns(v,H){1&v&&(n.TgZ(0,"mat-error",40),n._uU(1,"ce champs est obligatoire "),n.qZA())}function ba(v,H){1&v&&(n.TgZ(0,"mat-error",40),n._uU(1,"cet email est invalid "),n.qZA())}function Ka(v,H){if(1&v&&(n.TgZ(0,"mat-form-field",17)(1,"mat-label"),n._uU(2),n.qZA(),n._UZ(3,"input",47),n.TgZ(4,"mat-icon",48),n._uU(5),n.qZA(),n.YNc(6,Ns,2,0,"mat-error",19),n.YNc(7,ba,2,0,"mat-error",19),n.qZA()),2&v){const C=n.oxw().index,le=n.oxw(2);let re,Fe;n.xp6(2),n.Oqu(le.contactsArray[C].title),n.xp6(1),n.Q6J("readonly",!0),n.xp6(2),n.Oqu(le.contactsArray[C].icon),n.xp6(1),n.Q6J("ngIf",null==(re=le.contact.controls[C].get("contactEmail"))?null:re.hasError("required")),n.xp6(1),n.Q6J("ngIf",null==(Fe=le.contact.controls[C].get("contactEmail"))?null:Fe.hasError("pattern"))}}function Ro(v,H){1&v&&(n.TgZ(0,"mat-error",40),n._uU(1,"ce champs est obligatoire "),n.qZA())}function Oa(v,H){1&v&&(n.TgZ(0,"mat-error",40),n._uU(1,"cet num\xe9ro est invalide "),n.qZA())}function qr(v,H){if(1&v&&(n.TgZ(0,"mat-form-field",17)(1,"mat-label"),n._uU(2),n.qZA(),n._UZ(3,"input",49),n.TgZ(4,"mat-icon",48),n._uU(5),n.qZA(),n.YNc(6,Ro,2,0,"mat-error",19),n.YNc(7,Oa,2,0,"mat-error",19),n.qZA()),2&v){const C=n.oxw().index,le=n.oxw(2);let re,Fe;n.xp6(2),n.Oqu(le.contactsArray[C].title),n.xp6(3),n.Oqu(le.contactsArray[C].icon),n.xp6(1),n.Q6J("ngIf",null==(re=le.contact.controls[C].get("contactMobile"))?null:re.hasError("required")),n.xp6(1),n.Q6J("ngIf",null==(Fe=le.contact.controls[C].get("contactMobile"))?null:Fe.hasError("pattern"))}}function Ca(v,H){if(1&v){const C=n.EpF();n.TgZ(0,"div",50)(1,"mat-icon",51),n.NdJ("click",function(){n.CHM(C);const re=n.oxw().index,Fe=n.oxw(2);return n.KtG(Fe.deleteContact(re))}),n._uU(2,"delete"),n.qZA()()}}function Vr(v,H){if(1&v){const C=n.EpF();n.TgZ(0,"div")(1,"div",43)(2,"mat-form-field",17)(3,"mat-label"),n._uU(4,"Type contact"),n.qZA(),n.TgZ(5,"mat-select",44),n.NdJ("selectionChange",function(re){const ti=n.CHM(C).index,qo=n.oxw(2);return n.KtG(qo.changeTypeContact(re.value,ti))}),n.YNc(6,di,3,2,"ng-container",22),n.qZA(),n.YNc(7,$a,2,1,"mat-error",19),n.qZA(),n.YNc(8,Ka,8,5,"mat-form-field",45),n.YNc(9,qr,8,4,"mat-form-field",45),n.YNc(10,Ca,3,0,"div",46),n.qZA()()}if(2&v){const C=H.index,le=n.oxw(2);n.xp6(1),n.Q6J("formGroupName",C),n.xp6(5),n.Q6J("ngForOf",le.typesContact),n.xp6(1),n.Q6J("ngIf",le.formCreationAgence.controls.zone.errors),n.xp6(1),n.Q6J("ngIf","email"==le.contactsArray[C].type),n.xp6(1),n.Q6J("ngIf","email"!=le.contactsArray[C].type),n.xp6(1),n.Q6J("ngIf",0!=C)}}function ca(v,H){if(1&v){const C=n.EpF();n.TgZ(0,"button",52),n.NdJ("click",function(){n.CHM(C);const re=n.oxw(2);return n.KtG(re.addTypeContact())}),n.TgZ(1,"mat-icon",53),n._uU(2,"add_circle"),n.qZA(),n._uU(3," Ajouter type contact"),n.qZA()}}function So(v,H){if(1&v&&(n.ynx(0),n.TgZ(1,"mat-option",42),n._uU(2),n.qZA(),n.BQk()),2&v){const C=H.$implicit;n.xp6(1),n.Q6J("value",C.idAgence),n.xp6(1),n.hij(" ",C.nomAgence," ")}}function jr(v,H){1&v&&(n.TgZ(0,"div"),n._uU(1," ce champs est obligatoire"),n.qZA())}function Hr(v,H){if(1&v&&(n.TgZ(0,"mat-error",40),n.YNc(1,jr,2,0,"div",41),n.qZA()),2&v){const C=n.oxw(2);n.xp6(1),n.Q6J("ngIf",C.formCreationAgence.controls.agenceAnnexe.errors.required)}}function oo(v,H){1&v&&(n.TgZ(0,"div"),n._uU(1," ce champs est obligatoire"),n.qZA())}function nt(v,H){if(1&v&&(n.TgZ(0,"mat-error",40),n.YNc(1,oo,2,0,"div",41),n.qZA()),2&v){const C=n.oxw(2);n.xp6(1),n.Q6J("ngIf",C.formCreationAgence.controls.codeTresorerie.errors.required)}}function jt(v,H){1&v&&(n.TgZ(0,"div"),n._uU(1," ce champs est obligatoire"),n.qZA())}function Be(v,H){if(1&v&&(n.TgZ(0,"mat-error",40),n.YNc(1,jt,2,0,"div",41),n.qZA()),2&v){const C=n.oxw(2);n.xp6(1),n.Q6J("ngIf",C.formCreationAgence.controls.dateOuverture.errors.required)}}function zt(v,H){1&v&&(n.TgZ(0,"div"),n._uU(1," ce champs est obligatoire"),n.qZA())}function yn(v,H){if(1&v&&(n.TgZ(0,"mat-error",40),n.YNc(1,zt,2,0,"div",41),n.qZA()),2&v){const C=n.oxw(3);n.xp6(1),n.Q6J("ngIf",C.formCreationAgence.controls.newAgence.errors.required)}}function Un(v,H){if(1&v&&(n.TgZ(0,"mat-form-field",17)(1,"mat-label"),n._uU(2,"New Agence"),n.qZA(),n._UZ(3,"input",54),n.YNc(4,yn,2,1,"mat-error",19),n.qZA()),2&v){const C=n.oxw(2);n.xp6(4),n.Q6J("ngIf",C.formCreationAgence.controls.newAgence.errors)}}function wi(v,H){1&v&&(n.TgZ(0,"button",55),n._uU(1,"Enregistrer "),n.qZA())}function ro(v,H){if(1&v){const C=n.EpF();n.TgZ(0,"form",12,13),n.NdJ("ngSubmit",function(){n.CHM(C);const re=n.MAs(1),Fe=n.oxw();return n.KtG(Fe.submitAgence(re))}),n.TgZ(2,"mat-accordion",14)(3,"mat-expansion-panel",15)(4,"mat-expansion-panel-header")(5,"mat-panel-title"),n._uU(6," Information g\xe9n\xe9rales "),n.qZA()(),n.TgZ(7,"div",16)(8,"mat-form-field",17)(9,"mat-label"),n._uU(10,"Code agence"),n.qZA(),n._UZ(11,"input",18),n.YNc(12,Ts,2,1,"mat-error",19),n.qZA(),n.TgZ(13,"mat-form-field",17)(14,"mat-label"),n._uU(15,"Nom agence"),n.qZA(),n._UZ(16,"input",20),n.YNc(17,Lr,2,1,"mat-error",19),n.qZA(),n.TgZ(18,"mat-form-field",17)(19,"mat-label"),n._uU(20,"r\xe9seau de distribution"),n.qZA(),n.TgZ(21,"mat-select",21),n.YNc(22,Da,3,2,"ng-container",22),n.qZA(),n.YNc(23,Ir,2,1,"mat-error",19),n.qZA(),n.TgZ(24,"mat-form-field",17)(25,"mat-label"),n._uU(26,"Zones"),n.qZA(),n.TgZ(27,"mat-select",23),n.YNc(28,ol,3,2,"ng-container",22),n.qZA(),n.YNc(29,Zs,2,1,"mat-error",19),n.qZA()()(),n.TgZ(30,"mat-expansion-panel",15)(31,"mat-expansion-panel-header")(32,"mat-panel-title"),n._uU(33," Localisation "),n.qZA()(),n.TgZ(34,"div",16)(35,"mat-form-field",17)(36,"mat-label"),n._uU(37,"Wilaya"),n.qZA(),n.TgZ(38,"mat-select",24),n.NdJ("selectionChange",function(re){n.CHM(C);const Fe=n.oxw();return n.KtG(Fe.getInfoByWilaya(re.value))}),n.YNc(39,qs,3,2,"ng-container",22),n.qZA(),n.YNc(40,Zr,2,1,"mat-error",19),n.qZA(),n.TgZ(41,"mat-form-field",17)(42,"mat-label"),n._uU(43,"Commune"),n.qZA(),n.TgZ(44,"mat-select",25),n.YNc(45,it,3,2,"ng-container",22),n.qZA(),n.YNc(46,Ci,2,1,"mat-error",19),n.qZA(),n.TgZ(47,"mat-form-field",17)(48,"mat-label"),n._uU(49,"Adresse"),n.qZA(),n._UZ(50,"input",26),n.YNc(51,Ha,2,1,"mat-error",19),n.qZA(),n.TgZ(52,"mat-form-field",17)(53,"mat-label"),n._uU(54,"Code postal"),n.qZA(),n.TgZ(55,"mat-select",27),n.YNc(56,Ss,3,2,"ng-container",22),n.qZA(),n.YNc(57,wa,2,1,"mat-error",19),n.qZA()()(),n.TgZ(58,"mat-expansion-panel",15)(59,"mat-expansion-panel-header")(60,"mat-panel-title"),n._uU(61," Contact "),n.qZA()(),n.TgZ(62,"div",16)(63,"div",28),n.YNc(64,Vr,11,6,"div",22),n.qZA(),n.TgZ(65,"div",29),n.YNc(66,ca,4,0,"button",30),n.qZA()()(),n.TgZ(67,"mat-expansion-panel",15)(68,"mat-expansion-panel-header")(69,"mat-panel-title"),n._uU(70," Informations suppl\xe9mentaires "),n.qZA()(),n.TgZ(71,"div",16)(72,"mat-form-field",17)(73,"mat-label"),n._uU(74,"Agence annexe"),n.qZA(),n.TgZ(75,"mat-select",31)(76,"mat-option"),n._uU(77,"-- Aucune --"),n.qZA(),n.YNc(78,So,3,2,"ng-container",22),n.qZA(),n.YNc(79,Hr,2,1,"mat-error",19),n.qZA(),n.TgZ(80,"mat-form-field",17)(81,"mat-label"),n._uU(82,"Code tr\xe9sorerie"),n.qZA(),n._UZ(83,"input",32),n.YNc(84,nt,2,1,"mat-error",19),n.qZA(),n.TgZ(85,"mat-form-field",33)(86,"mat-label"),n._uU(87,"Date d'ouverture"),n.qZA(),n._UZ(88,"input",34)(89,"mat-datepicker-toggle",35)(90,"mat-datepicker",null,36),n.YNc(92,Be,2,1,"mat-error",19),n.qZA(),n.YNc(93,Un,5,1,"mat-form-field",37),n.qZA()()(),n.TgZ(94,"div",38),n.YNc(95,wi,2,0,"button",39),n.qZA()()}if(2&v){const C=n.MAs(91),le=n.oxw();n.Q6J("formGroup",le.formCreationAgence),n.xp6(3),n.Q6J("expanded",!0),n.xp6(9),n.Q6J("ngIf",le.formCreationAgence.controls.codeAgence.errors),n.xp6(5),n.Q6J("ngIf",le.formCreationAgence.controls.nomAgence.errors),n.xp6(5),n.Q6J("ngForOf",le.reseauDistribution),n.xp6(1),n.Q6J("ngIf",le.formCreationAgence.controls.zone.errors),n.xp6(5),n.Q6J("ngForOf",le.zones),n.xp6(1),n.Q6J("ngIf",le.formCreationAgence.controls.zone.errors),n.xp6(1),n.Q6J("expanded",!0),n.xp6(9),n.Q6J("ngForOf",le.wilayas),n.xp6(1),n.Q6J("ngIf",le.formCreationAgence.controls.wilaya.errors),n.xp6(5),n.Q6J("ngForOf",le.communesByWilaya),n.xp6(1),n.Q6J("ngIf",le.formCreationAgence.controls.commune.errors),n.xp6(5),n.Q6J("ngIf",le.formCreationAgence.controls.adresse.errors),n.xp6(5),n.Q6J("ngForOf",le.codesPostalByWilaya),n.xp6(1),n.Q6J("ngIf",le.formCreationAgence.controls.codePostal.errors),n.xp6(1),n.Q6J("expanded",!0),n.xp6(6),n.Q6J("ngForOf",le.contact.controls),n.xp6(2),n.Q6J("ngIf",!le.formDisabled),n.xp6(1),n.Q6J("expanded",!0),n.xp6(11),n.Q6J("ngForOf",le.allAgences),n.xp6(1),n.Q6J("ngIf",le.formCreationAgence.controls.agenceAnnexe.errors),n.xp6(5),n.Q6J("ngIf",le.formCreationAgence.controls.codeTresorerie.errors),n.xp6(4),n.Q6J("min",le.minDay)("min",le.maxDay)("matDatepicker",C),n.xp6(1),n.Q6J("for",C),n.xp6(3),n.Q6J("ngIf",le.formCreationAgence.controls.dateOuverture.errors),n.xp6(1),n.Q6J("ngIf","d\xe9sactiv\xe9"==le.statutAgence),n.xp6(2),n.Q6J("ngIf",!le.formDisabled)}}let ko=(()=>{class v{constructor(C,le,re,Fe,ti){this.agencesService=C,this.genericService=le,this.route=re,this.router=Fe,this.formBuilder=ti,this.typeContact="email",this.iconTypeContact="",this.contactsArray=[],this.typesContact=[],this.communesByWilaya=[],this.wilayas=[],this.zones=[],this.indexForm=0,this.minDay=new Date,this.maxDay=new Date,this.agence=[],this.pays={},this.isEmail=!0,this.oneAgence=[],this.allAgences=[],this.reseauDistribution=[],this.codesPostalByWilaya=[],this.errorVar=!1,this.errorMessage="",this.editAgenceSpinner=!1,this.successVar=!1,this.successMessage="",this.statutAgence="",this.formDisabled=!1,this.loader=!0}ngOnInit(){this.idAgence=this.route.snapshot.paramMap.get("id"),this.getByAgence()}initCreationAgence(){this.getCommunes(this.oneAgence.idPersonneMorale.adressesList[0].wilaya.idWilaya),this.getCodesPostal(this.oneAgence.idPersonneMorale.adressesList[0].wilaya.idWilaya),this.formCreationAgence=this.formBuilder.group({codeAgence:[this.oneAgence.codeAgence,[e.kI.required,e.kI.pattern("^[0-9]*$")]],nomAgence:[this.oneAgence.idPersonneMorale.raisonSocial,[e.kI.required,e.kI.pattern("^[A-Za-z0-9 ]+$")]],adresse:[this.oneAgence.idPersonneMorale.adressesList[0].description,[e.kI.required,e.kI.pattern("^[A-Za-z\xc0-\u02150-9(),-_.,' ]+$")]],codePostal:[this.oneAgence.idPersonneMorale.adressesList[0].codePostal.idCodePostal,[e.kI.required]],commune:[this.oneAgence.idPersonneMorale.adressesList[0].commune.idCommune,[e.kI.required]],wilaya:[this.oneAgence.idPersonneMorale.adressesList[0].wilaya.idWilaya,[e.kI.required]],newAgence:[{value:this.oneAgence.newAgence?.idPersonneMorale.raisonSocial,disabled:!0},"d\xe9sactiv\xe9"==this.statutAgence?[e.kI.required]:[]],contact:this.formBuilder.array([]),agenceAnnexe:[this.oneAgence.codeAnnexe?.idAgence,[]],codeTresorerie:[this.oneAgence.codeTresorie,[e.kI.required,e.kI.pattern("^[0-9]*$")]],reseauDistribution:[this.oneAgence.reseauDistribution.idReseau,[e.kI.required]],zone:[this.oneAgence.zone.idParam,[e.kI.required]],dateOuverture:[this.oneAgence.idPersonneMorale.dateOuverture,[e.kI.required]]})}get contact(){return this.formCreationAgence.get("contact")}initTypeContrat(){let C=this.oneAgence.idPersonneMorale.contactList?.filter(re=>"email"==re.typeContact.description)[0];this.contact.push(this.formBuilder.group({typeContact:[{value:"email",disabled:!0},[e.kI.required]],idContact:[C.idContact,[e.kI.required]],contactEmail:[C.description,[e.kI.required,e.kI.pattern("[a-z0-9._%+-]+@[a-z0-9.-]+.[a-z]{2,4}$")]],contactMobile:["",[e.kI.pattern("^[0-9][0-9]{9}$")]],isdeleted:[!1]})),this.contactsArray.push({index:this.indexForm,icon:"mail",title:"email",type:"email"}),this.oneAgence.idPersonneMorale.contactList.filter(function(re){return re.idContact!=C.idContact}).filter(re=>{this.addExistanceTypeContact(re.idContact,re.typeContact.description,re.description)}),this.disabledForms()}navigateToAllAgence(){this.router.navigate(["reseau-commercial/gestion-agences"])}getAllTypeContact(){this.genericService.getAllContacts().subscribe({next:C=>{this.typesContact=C,this.getReseauDist()},error:C=>{console.log(C)}})}changeTypeContact(C,le){switch(this.typeContact=C,C){case"fax":this.iconTypeContact="print",this.contact.at(le).get("contactEmail")?.setValidators([]),this.contact.at(le).get("contactMobile")?.setValidators([e.kI.required]);break;case"conjoint":this.iconTypeContact="fax",this.contact.at(le).get("contactEmail")?.setValidators([]),this.contact.at(le).get("contactMobile")?.setValidators([e.kI.required]);break;case"mobile":this.iconTypeContact="call",this.contact.at(le).get("contactEmail")?.setValidators([]),this.contact.at(le).get("contactMobile")?.setValidators([e.kI.required]);break;case"email":this.iconTypeContact="mail",this.contact.at(le).get("contactEmail")?.setValidators([e.kI.required]),this.contact.at(le).get("contactMobile")?.setValidators([])}this.contactsArray.filter(re=>{re.index==le&&(re.type=this.typeContact,re.title=this.typeContact,re.icon=this.iconTypeContact)})}addTypeContact(){this.indexForm=this.indexForm+1,this.typeContact="mobile",this.contact.push(this.formBuilder.group({typeContact:["mobile",[e.kI.required]],idContact:[0,[e.kI.required]],contactEmail:["",[e.kI.pattern("[a-z0-9._%+-]+@[a-z0-9.-]+.[a-z]{2,4}$")]],contactMobile:["",[e.kI.required,e.kI.pattern("^[0-9][0-9]{9}$")]],isdeleted:[!1]})),this.contactsArray.push({index:this.indexForm,title:this.typeContact,icon:this.iconTypeContact,type:"mobile"})}addExistanceTypeContact(C,le,re){this.indexForm=this.indexForm+1,this.typeContact=le,"email"==le?(this.contact.push(this.formBuilder.group({typeContact:["email",[e.kI.required]],idContact:[C,[e.kI.required]],contactEmail:[re,[e.kI.required,e.kI.pattern("[a-z0-9._%+-]+@[a-z0-9.-]+.[a-z]{2,4}$")]],contactMobile:["",[e.kI.pattern("^[0-9][0-9]{9}$")]],isdeleted:[!1]})),this.contactsArray.push({index:this.indexForm,title:this.typeContact,icon:this.iconTypeContact,type:"email"})):(this.contact.push(this.formBuilder.group({typeContact:["mobile",[e.kI.required]],idContact:[C,[e.kI.required]],contactEmail:["",e.kI.pattern("[a-z0-9._%+-]+@[a-z0-9.-]+.[a-z]{2,4}$")],contactMobile:[re,[e.kI.required,e.kI.pattern("^[0-9][0-9]{9}$")]],isdeleted:[!1]})),this.contactsArray.push({index:this.indexForm,title:this.typeContact,icon:this.iconTypeContact,type:"mobile"}))}getPays(){this.genericService.getPays().subscribe({next:C=>{this.pays=C,this.idPays=C.find(le=>"DZA"==le.codePays).idPays,this.getAllWilaya()},error:C=>{console.log(C)}})}getAllWilaya(){this.genericService.getAllWilayas(this.idPays).subscribe({next:C=>{this.wilayas=C,this.getAllZones()},error:C=>{console.log(C)}})}getInfoByWilaya(C){this.getCommunes(C),this.getCodesPostal(C)}getCommunes(C){this.genericService.getAllCommuneByWilaya(C).subscribe({next:le=>{this.communesByWilaya=le},error:le=>{console.log(le)}})}getAllZones(){this.genericService.getAllZones().subscribe({next:C=>{this.zones=C,this.getAllTypeContact()},error:C=>{console.log(C)}})}submitAgence(C){let le=[],re=this.typesContact;this.formCreationAgence.valid&&(this.formCreationAgence.get("contact")?.value?.filter(function(Fe,ti){let qo,Vs,Ya;qo=0==ti?re?.filter(Fc=>"email"==Fc.description)[0]:re?.filter(Fc=>Fc.description==Fe.typeContact)[0],Vs=qo==re?.filter(Fc=>"email"==Fc.description)[0]?Fe.contactEmail:Fe.contactMobile,Ya=0!=Fe.idContact&&Fe.isdeleted?new Date:"",le.push({typeContact:qo,description:Vs,dateDebut:xe(new Date).format("YYYY-MM-DD"),dateFin:""!=Ya?xe(Ya).format("YYYY-MM-DD"):"",idContact:Fe.idContact})}),this.agence={codeTresorie:this.formCreationAgence.get("codeTresorerie").value,codeAgence:this.formCreationAgence.get("codeAgence").value,nomAgence:this.formCreationAgence.get("nomAgence").value,zone:this.zones.find(Fe=>Fe.idParam==this.formCreationAgence.get("zone").value),reseauDistribution:this.reseauDistribution.find(Fe=>Fe.idReseau==this.formCreationAgence.get("reseauDistribution").value),codeAnnexe:this.formCreationAgence.get("agenceAnnexe").value,idPersonneMorale:this.oneAgence.idPersonneMorale.idClient,dateOuverture:xe(this.formCreationAgence.get("dateOuverture").value).format("YYYY-MM-DD"),adressesList:[{idAdresse:this.oneAgence.idPersonneMorale.adressesList[0].idAdresse,description:this.formCreationAgence.get("adresse").value,pays:this.pays.find(Fe=>Fe.idWilaya==this.idPays),wilaya:this.wilayas.find(Fe=>Fe.idWilaya==this.formCreationAgence.get("wilaya").value),commune:this.communesByWilaya.find(Fe=>Fe.idCommune==this.formCreationAgence.get("commune").value),codePostal:this.codesPostalByWilaya.find(Fe=>Fe.idCodePostal==this.formCreationAgence.get("codePostal").value)}],contactList:le},this.editAgence())}getValidator(){return C=>{if(C.value)if("email"==this.typeContact){if(!C.value.toString().match("^[_A-Za-z0-9-+]+(.[_A-Za-z0-9-]+)*@[A-Za-z0-9-]+(.[A-Za-z0-9]+)*(.[A-Za-z]{2,})$"))return{emailInvalid:!0}}else if(!C.value.toString().match("^[0-9][0-9]{9}$"))return{mobile:!0};return null}}deleteContact(C){this.contact.at(C).get("isdeleted")?.setValue(!0)}getByAgence(){this.agencesService.getAgenceById(this.idAgence).subscribe({next:C=>{this.loader=!1,this.oneAgence=C,this.statutAgence=this.oneAgence.statut,this.idAgence=this.oneAgence.idAgence,this.minDay=this.oneAgence.idPersonneMorale.auditDate,this.maxDay=this.oneAgence.idPersonneMorale.dateDebut,this.getAllAgence()},error:C=>{console.log(C)}}),this.oneAgence=this.agencesService.getAgenceById(this.idAgence)}getAllAgence(){this.agencesService.getAllAgence().subscribe({next:C=>{this.allAgences=C,this.allAgences=this.allAgences.filter(le=>le.idAgence!=this.idAgence),this.getPays()},error:C=>{console.log(C)}})}editAgence(){this.agencesService.editAgence(this.agence,this.idAgence).subscribe({next:C=>{this.errorVar=!1,this.successVar=!0,this.successMessage="L'agence a \xe9t\xe9 modifi\xe9e avec succ\xe9e",this.editAgenceSpinner=!1,this.ScollToTop()},error:C=>{400==C.code&&(this.errorVar=!0,this.errorMessage=C.message,this.ScollToTop()),console.log(C)}})}ScollToTop(){document.getElementById("containerRef")?.scrollTo({top:100,behavior:"smooth"})}getCodesPostal(C){this.genericService.getCodesPostal(C).subscribe({next:le=>{this.codesPostalByWilaya=le},error:le=>{console.log(le)}})}getReseauDist(){this.genericService.getReseauDistribution().subscribe({next:C=>{this.reseauDistribution=C,this.initCreationAgence(),this.initTypeContrat()},error:C=>{console.log(C)}})}disabledForms(){this.formDisabled=!0,this.formCreationAgence.disable(),this.formCreationAgence.get("contact").controls.forEach(C=>{C.disable()})}enableForm(){this.formDisabled=!1,this.formCreationAgence.enable()}}return v.\u0275fac=function(C){return new(C||v)(n.Y36(i.e),n.Y36(Ri.M),n.Y36(me.gz),n.Y36(me.F0),n.Y36(e.qu))},v.\u0275cmp=n.Xpm({type:v,selectors:[["app-edit-agence"]],decls:11,vars:4,consts:[["id","containerRef",1,"container"],["containerRef",""],[1,"header"],["aria-hidden","false","aria-label","","matTooltip","Retourner vers liste des agences","matTooltipPosition","left",1,"material-symbols-outlined",2,"margin-right","14px",3,"click"],[1,"title-form"],["class","btn btn-action",3,"click",4,"ngIf"],["id","","class","alert alert-danger",4,"ngIf"],["id","","class","alert alert-success",4,"ngIf"],[3,"formGroup","ngSubmit",4,"ngIf"],[1,"btn","btn-action",3,"click"],["id","",1,"alert","alert-danger"],["id","",1,"alert","alert-success"],[3,"formGroup","ngSubmit"],["formDirective","ngForm"],["multi","",1,"example-headers-align"],[3,"expanded"],[1,"row","row-fields"],["appearance","outline",1,"col-md-5"],["type","text","matInput","","placeholder","","formControlName","codeAgence"],["class","invalid-feedback",4,"ngIf"],["type","text","matInput","","placeholder","","formControlName","nomAgence"],["formControlName","reseauDistribution"],[4,"ngFor","ngForOf"],["formControlName","zone"],["formControlName","wilaya",3,"selectionChange"],["formControlName","commune"],["type","text","matInput","","placeholder","","formControlName","adresse"],["formControlName","codePostal"],["formArrayName","contact",1,"col-md-9"],[1,"col-md-3","add-col"],["class","btn btn-secondary","type","button",3,"click",4,"ngIf"],["formControlName","agenceAnnexe"],["type","text","matInput","","placeholder","","formControlName","codeTresorerie"],["appearance","outline",1,"col-md-5",2,"padding-right","1%"],["matInput","","formControlName","dateOuverture",3,"min","matDatepicker"],["matSuffix","",3,"for"],["pickerDateOuverture",""],["class","col-md-5 ","appearance","outline",4,"ngIf"],[1,"col-md-12","row-button"],["class","btn btn-action",4,"ngIf"],[1,"invalid-feedback"],[4,"ngIf"],[3,"value"],[1,"row",3,"formGroupName"],["formControlName","typeContact",3,"selectionChange"],["class","col-md-5","appearance","outline",4,"ngIf"],["class","col-md-2 deleteContact",4,"ngIf"],["type","text","matInput","","placeholder","","formControlName","contactEmail",3,"readonly"],["matSuffix",""],["type","text","matInput","","placeholder","","formControlName","contactMobile"],[1,"col-md-2","deleteContact"],["aria-hidden","false","aria-label","Dashboard","matTooltip","supprimer ce contact","matTooltipPosition","right",1,"material-symbols-outlined",3,"click"],["type","button",1,"btn","btn-secondary",3,"click"],["aria-hidden","false","aria-label","ajouter un\n                                type de contact ",1,"material-symbols-outlined",2,"margin-right","1rem"],["type","text","matInput","","placeholder","","formControlName","newAgence"],[1,"btn","btn-action"]],template:function(C,le){1&C&&(n.TgZ(0,"div",0,1)(2,"div",2)(3,"mat-icon",3),n.NdJ("click",function(){return le.navigateToAllAgence()}),n._uU(4,"arrow_circle_left"),n.qZA(),n.TgZ(5,"h2",4),n._uU(6,"Modification agence"),n.qZA(),n.YNc(7,As,2,0,"button",5),n.qZA(),n.YNc(8,Ar,2,1,"div",6),n.YNc(9,nl,2,1,"div",7),n.YNc(10,ro,96,30,"form",8),n.qZA()),2&C&&(n.xp6(7),n.Q6J("ngIf",le.formDisabled),n.xp6(1),n.Q6J("ngIf",le.errorVar),n.xp6(1),n.Q6J("ngIf",le.successVar),n.xp6(1),n.Q6J("ngIf",le.formCreationAgence))},dependencies:[Se.sg,Se.O5,Xn.Hw,vi.pp,vi.ib,vi.yz,vi.yK,e._Y,e.Fj,e.JJ,e.JL,e.sg,e.u,e.x0,e.CE,O.TO,O.KE,O.hX,O.R9,J.Nt,uo.gM,he.Mq,he.hl,he.nW,Ze.gD,l.ey],styles:[".container[_ngcontent-%COMP%]{background-color:#fff;padding:40px 23px;height:100%;overflow-y:auto;box-shadow:0 .5rem 1rem #00000026}.row-fields[_ngcontent-%COMP%]{padding:2rem}.mat-expansion-panel-header[_ngcontent-%COMP%]{background:rgba(51,51,51,.0509803922)}.mat-expansion-panel-header-title[_ngcontent-%COMP%]{color:#00008f;font-weight:600;font-size:16px}.row-button[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;padding:0 3rem;margin-top:2rem}.header[_ngcontent-%COMP%]{margin-bottom:3rem;padding:1rem}.title-form[_ngcontent-%COMP%]{font-weight:700!important;color:#00008f;letter-spacing:1px;font-size:27px!important;width:100%;margin-bottom:0rem;margin-left:1rem}.header[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:30px;color:#00008f}.add-col[_ngcontent-%COMP%]{display:flex;align-items:flex-end;padding-bottom:2rem}.add-col[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:flex;align-items:center}.deleteContact[_ngcontent-%COMP%]{display:flex;align-items:center;color:#d14624}.deleteContact[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{cursor:pointer}"]}),v})();var hr=B(6308);const Rl=[{libelle:"N\xb0 Client",formName:"idPersonne",type:"string",ifselect:[],position:"",required:!1},{libelle:"Raison Social",formName:"raisonSocial",type:"string",ifselect:[],position:"",required:!1},{libelle:"Date Ouverture",formName:"dateOuverture",type:"date",ifselect:[],position:"",required:!1},{libelle:"NIF",formName:"nif",type:"string",ifselect:[],position:"",required:!1}],ka=[{libelle:"N\xb0 Client",formName:"idPersonne",type:"string",ifselect:[],position:"",required:!1},{libelle:"Nom Personne",formName:"nom",type:"string",ifselect:[],position:"",required:!1},{libelle:"Date Naissance",formName:"dateNaissance",type:"date",ifselect:[],position:"",required:!1},{libelle:"NIN",formName:"nin",type:"string",ifselect:[],position:"",required:!1}];var rl=B(4641),Is=B(8153);function Dl(v,H){if(1&v&&(n.ynx(0),n.TgZ(1,"mat-option",57),n._uU(2),n.qZA(),n.BQk()),2&v){const C=H.$implicit;n.xp6(1),n.Q6J("value",C),n.xp6(1),n.Oqu(C)}}function $l(v,H){if(1&v&&(n.TgZ(0,"mat-select",55),n.YNc(1,Dl,3,2,"ng-container",56),n.qZA()),2&v){const C=n.oxw().$implicit;n.Q6J("formControlName",C.formName),n.xp6(1),n.Q6J("ngForOf",C.ifselect)}}function Er(v,H){if(1&v&&n._UZ(0,"input",58),2&v){const C=n.oxw().$implicit;n.Q6J("formControlName",C.formName)}}function al(v,H){if(1&v&&n._UZ(0,"input",59),2&v){const C=n.oxw().$implicit;n.Q6J("formControlName",C.formName)}}function Oi(v,H){if(1&v&&n._UZ(0,"input",60),2&v){const C=n.oxw().$implicit,le=n.MAs(9);n.Q6J("matDatepicker",le)("formControlName",C.formName)}}function zi(v,H){if(1&v&&n._UZ(0,"mat-datepicker-toggle",61),2&v){n.oxw();const C=n.MAs(9);n.Q6J("for",C)}}function wl(v,H){if(1&v&&(n.TgZ(0,"mat-form-field",48)(1,"mat-label"),n._uU(2),n.qZA(),n.YNc(3,$l,2,2,"mat-select",49),n.YNc(4,Er,1,1,"input",50),n.YNc(5,al,1,1,"input",51),n.YNc(6,Oi,1,2,"input",52),n.YNc(7,zi,1,1,"mat-datepicker-toggle",53),n._UZ(8,"mat-datepicker",null,54),n.qZA()),2&v){const C=H.$implicit;n.Tol(C.position),n.xp6(2),n.Oqu(C.libelle),n.xp6(1),n.Q6J("ngIf","select"==C.type),n.xp6(1),n.Q6J("ngIf","string"==C.type),n.xp6(1),n.Q6J("ngIf","number"==C.type),n.xp6(1),n.Q6J("ngIf","date"==C.type),n.xp6(1),n.Q6J("ngIf","date"==C.type)}}function sl(v,H){if(1&v){const C=n.EpF();n.TgZ(0,"form",39,40),n.NdJ("ngSubmit",function(){n.CHM(C);const re=n.oxw();return n.KtG(re.filterPersonne())}),n.TgZ(2,"mat-form-field",41)(3,"mat-label"),n._uU(4,"Type personne"),n.qZA(),n.TgZ(5,"mat-select",42),n.NdJ("selectionChange",function(re){n.CHM(C);const Fe=n.oxw();return n.KtG(Fe.changeClient(re))}),n.TgZ(6,"mat-option",43),n._uU(7,"Moral"),n.qZA(),n.TgZ(8,"mat-option",44),n._uU(9,"Physique"),n.qZA()()(),n.YNc(10,wl,10,8,"mat-form-field",45),n.TgZ(11,"div",46)(12,"button",47),n._uU(13,"Rechercher"),n.qZA()()()}if(2&v){const C=n.oxw();n.Q6J("formGroup",C.formFilter),n.xp6(5),n.Q6J("value",C.typePersonne),n.xp6(5),n.Q6J("ngForOf",C.consultations)}}function Fi(v,H){1&v&&(n.TgZ(0,"th",62),n._uU(1," N\xb0 Client "),n.qZA())}function ll(v,H){if(1&v){const C=n.EpF();n.TgZ(0,"td",63),n.NdJ("click",function(){const Fe=n.CHM(C).$implicit,ti=n.oxw();return n.KtG(ti.openDialogEdit(Fe.idClient))}),n._uU(1),n.qZA()}if(2&v){const C=H.$implicit;n.xp6(1),n.hij(" ",C.idClient," ")}}function Wa(v,H){1&v&&(n.TgZ(0,"th",62),n._uU(1," Assur\xe9 "),n.qZA())}function Tr(v,H){if(1&v){const C=n.EpF();n.TgZ(0,"td",63),n.NdJ("click",function(){const Fe=n.CHM(C).$implicit,ti=n.oxw();return n.KtG(ti.openDialogEdit(Fe.idClient))}),n._uU(1),n.qZA()}if(2&v){const C=H.$implicit;n.xp6(1),n.hij(" ",null!=C.nom?C.nom+" "+C.prenom1:C.raisonSocial," ")}}function _o(v,H){1&v&&(n.TgZ(0,"th",62),n._uU(1," Type personne "),n.qZA())}function Xa(v,H){if(1&v){const C=n.EpF();n.TgZ(0,"td",63),n.NdJ("click",function(){const Fe=n.CHM(C).$implicit,ti=n.oxw();return n.KtG(ti.openDialogEdit(Fe.idClient))}),n._uU(1),n.qZA()}if(2&v){const C=H.$implicit;n.xp6(1),n.hij(" ",null!=C.nom?"Physique":"Morale"," ")}}function Do(v,H){1&v&&(n.TgZ(0,"th",62),n._uU(1," Date naissance/ouverture "),n.qZA())}function $r(v,H){if(1&v&&(n.ynx(0),n._uU(1),n.ALo(2,"date"),n.BQk()),2&v){const C=n.oxw().$implicit;n.xp6(1),n.hij(" ",n.xi3(2,1,C.dateNaissance,"dd/MM/yyyy")," ")}}function Vo(v,H){if(1&v&&(n.ynx(0),n._uU(1),n.ALo(2,"date"),n.BQk()),2&v){const C=n.oxw().$implicit;n.xp6(1),n.hij(" ",n.xi3(2,1,C.dateOuverture,"dd/MM/yyyy")," ")}}function cl(v,H){if(1&v){const C=n.EpF();n.TgZ(0,"td",63),n.NdJ("click",function(){const Fe=n.CHM(C).$implicit,ti=n.oxw();return n.KtG(ti.openDialogEdit(Fe.idClient))}),n.YNc(1,$r,3,4,"ng-container",64),n.YNc(2,Vo,3,4,"ng-container",64),n.qZA()}if(2&v){const C=H.$implicit;n.xp6(1),n.Q6J("ngIf",null!=C.dateNaissance),n.xp6(1),n.Q6J("ngIf",null!=C.dateOuverture)}}function ul(v,H){1&v&&(n.TgZ(0,"th",62),n._uU(1," NIN/NIF "),n.qZA())}function si(v,H){if(1&v){const C=n.EpF();n.TgZ(0,"td",63),n.NdJ("click",function(){const Fe=n.CHM(C).$implicit,ti=n.oxw();return n.KtG(ti.openDialogEdit(Fe.idClient))}),n._uU(1),n.qZA()}if(2&v){const C=H.$implicit;n.xp6(1),n.hij(" ",null!=C.nin?C.nin:C.nif," ")}}function Gr(v,H){1&v&&(n.TgZ(0,"th",62),n._uU(1," Action "),n.qZA())}function ml(v,H){if(1&v){const C=n.EpF();n.TgZ(0,"td",65)(1,"mat-icon",66),n._uU(2,"more_vert"),n.qZA(),n.TgZ(3,"mat-menu",null,67)(5,"button",15),n.NdJ("click",function(){const Fe=n.CHM(C).$implicit,ti=n.oxw();return n.KtG(ti.openDialogEdit(Fe.idClient))}),n.TgZ(6,"span")(7,"mat-icon",68),n._uU(8,"visibility"),n.qZA(),n._uU(9," Consulter"),n.qZA()(),n.TgZ(10,"button",16)(11,"span"),n._uU(12,"Archiver"),n.qZA()()()()}if(2&v){const C=n.MAs(4);n.xp6(1),n.Q6J("matMenuTriggerFor",C)}}function Es(v,H){1&v&&n._UZ(0,"tr",69)}function ao(v,H){1&v&&n._UZ(0,"tr",70)}function Rs(v,H){if(1&v){const C=n.EpF();n.TgZ(0,"mat-paginator",71),n.NdJ("page",function(re){n.CHM(C);const Fe=n.oxw();return n.KtG(Fe.onPageChange(re))}),n.qZA()}if(2&v){const C=n.oxw();n.Q6J("length",C.personneTable.totalElements)("pageSize",10)}}let Ol=(()=>{class v{constructor(C,le,re,Fe){this.router=C,this.personneService=le,this.dialog=re,this.formBuilderAuth=Fe,this.displayedColumns=["idClient","assure","typePersonne","date","numero","action"],this.lengthColumns=this.displayedColumns.length,this.consultations=Rl,this.typePersonne="",this.title="Personnes"}changeClient(C){this.typePersonne=C.value,this.consultations="moral"==C.value?Rl:ka}applyFilter(C){this.dataSource.filter=C.target.value.trim().toLowerCase(),this.dataSource.paginator&&this.dataSource.paginator.firstPage()}buildTableBody(C,le){var re=[];return le.includes("text1")?re.push(["","",""]):(le.includes("prime")&&(le=le.map(Fe=>{Fe.text=Fe,Fe.style="headerTable"})),re.push(le)),C.forEach(function(Fe){const ti=[];le.forEach(function(qo){ti.push(Fe[qo])}),re.push(ti)}),re}table(C,le){let re=100/le.length,Fe=[];return le.map(ti=>{Fe.push(re+"%")}),[{layout:le.includes("text1")?"noBorders":"",style:"table",table:{headerRows:1,widths:Fe,margin:[5,5,5,5],body:this.buildTableBody(C,le)}}]}telecharger(C){let le=0,re=[],Fe=[],ti=[],qo=["Garanties"],Vs=[],Ya=[],Fc=[],g_="";for(;le<C?.risqueList?.length;)re.push({text1:[{text:C?.risqueList[le].paramRisque.libelle+": ",bold:!0,fontSize:"10"},{text:C?.risqueList[le].valeur.split("T")[0],fontSize:"10"}],text2:[{text:C?.risqueList[le+1].paramRisque.libelle+": ",bold:!0,fontSize:"10"},{text:C?.risqueList[le+1].valeur.split("T")[0],fontSize:"10"}],text3:[{text:C?.risqueList[le+2].paramRisque.libelle+": ",bold:!0,fontSize:"10"},{text:C?.risqueList[le+2].valeur.split("T")[0],fontSize:"10"}]}),le+=3;for(le=0;le<C?.paramDevisList?.length;)C?.paramDevisList[le].categorieList?.map(js=>{qo.push(js?.description)}),0!=C?.paramDevisList[le].sousGarantieList?.length&&qo.push("sousGaranties"),le++;for(qo=qo.filter((js,em)=>qo.indexOf(js)===em),qo.map(js=>{Ya.push("*")}),le=0;le<C?.paramDevisList?.length;){let js={Garanties:[{text:C?.paramDevisList[le].description,fontSize:"10"}],sousGaranties:[{text:"",fontSize:"10"}],plafond:[{text:"",fontSize:"10"}],forumule:[{text:"",fontSize:"10"}],franchise:[{text:"",fontSize:"10"}]};C?.paramDevisList[le].categorieList?.map(em=>{switch(em.description){case"plafond":js.plafond[0].text=em.valeur;break;case"forumule":js.forumule[0].text=em.valeur;break;case"franchise":js.franchise[0].text=em.valeur}}),Fe.push(js),le++}for(le=0;le<C?.primeList?.length;)"Prime totale"!=C?.primeList[le].typePrime?.description?(Vs.push(C?.primeList[le].typePrime?.description),ti.push(C?.primeList[le].prime)):g_="Prime total : "+C?.primeList[le].prime,le++;for(le=0;le<C?.taxeList?.length;)Vs.push(C?.taxeList[le].taxe?.description),ti.push(C?.taxeList[le].prime),le++;Vs.map(js=>{Fc.push("*")});const Qf={pageMargins:[35,30,35,120],footer:(js,em)=>{if(js===em)return[{layout:"noBorders",margin:[0,0,0,50],table:{widths:["*","*"],alignment:"right",body:[[{text:"Signature Assureur",alignment:"center",bold:!0},{text:"Signature Client",alignment:"center",bold:!0}],[{text:"Alger le: 02/01/2023",alignment:"center"},{text:"Alger le: 02/01/2023",alignment:"center"}]]}}]},border:[!1,!1,!1,!1],content:[{text:"Automobile Mono",style:"sectionHeader"},{text:"Devis",style:"sectionHeader",color:"black"},{text:"\n"},{columns:[{style:"table",marginRight:5,table:{widths:["*"],alignment:"left",body:[[{text:"Agence",style:"headerTable"}]]}},{style:"table",marginLeft:5,table:{widths:["*"],alignment:"right",body:[[{text:"Souscripteur",style:"headerTable"}]]}}]},{margin:[5,5,5,5],columns:[{width:"25%",text:[{text:"Code : ",bold:!0,fontSize:"10"},{text:C?.agence?.codeAgence,fontSize:"10"}]},{width:"25%",marginRight:5,text:[{text:"Nom Agence : ",bold:!0,fontSize:"10"},{text:C?.agence?.raisonSocial,fontSize:"10"}]},{width:"25%",marginLeft:5,text:[{text:"Nom et Pr\xe9nom : ",bold:!0,fontSize:"10"},{text:C?.nom+" "+C?.prenom,fontSize:"10"}]},{width:"25%",text:" "}]},{margin:[5,5,5,5],columns:[{width:"25%",text:[{text:"T\xe9l\xe9phone : ",bold:!0,fontSize:"10"},{text:C?.agence?.telephone,fontSize:"10"}]},{width:"25%",marginRight:5,text:[{text:"Email : ",bold:!0,fontSize:"10"},{text:C?.agence?.email,fontSize:"10"}]},{width:"25%",marginLeft:5,text:[{text:"T\xe9l\xe9phone : ",bold:!0,fontSize:"10"},{text:C?.telephone,fontSize:"10"}]},{width:"25%",text:[{text:"Email : ",bold:!0,fontSize:"10"},{text:C?.email,fontSize:"10"}]}]},{margin:[5,5,5,5],columns:[{width:"50%",marginRight:5,text:[{text:"Adresse : ",bold:!0,fontSize:"10"},{text:C?.agence?.adresse,fontSize:"10"}]},{width:"50%",marginLeft:5,text:" "}]},{style:"table",table:{widths:["*"],alignment:"right",body:[[{text:"Contrat",style:"headerTable"}]]}},{margin:[5,5,5,5],columns:[{width:"33%",text:[{text:"N\xb0 devis : ",bold:!0,fontSize:"10"},{text:C?.idDevis,fontSize:"10"}]},{width:"33%",text:[{text:"Date d'\xe9ffet : ",bold:!0,fontSize:"10"},{text:C?.auditDate.split("T")[0],fontSize:"10"}]},{width:"33%",text:[{text:"Date d'\xe9cheance : ",bold:!0,fontSize:"10"},{text:C?.dateExpiration,fontSize:"10"}]}]},{style:"table",table:{widths:["*"],alignment:"right",body:[[{text:"Assur\xe9(e)",style:"headerTable"}]]}},this.table(re,["text1","text2","text3"]),{style:"table",table:{widths:["*"],alignment:"right",body:[[{text:"Garanties",style:"headerTable"}]]}},this.table(Fe,qo),{style:"table",table:{widths:Fc,body:[Vs.map(js=>({text:js,fontSize:10,style:"headerTable"}))]}},{table:{widths:Fc,body:[ti.map(js=>({text:js,fontSize:10}))]}},{table:{widths:["*"],body:[{text:g_,fontSize:10,alignment:"right"}]}}],styles:{sectionHeader:{bold:!0,color:"#d14723",fontSize:12,alignment:"right"},BG:{fontSize:10},table:{margin:[0,15,0,0]},headerTable:{alignment:"center",bold:!0,fontSize:12,color:"white",fillColor:"#00008F"}}};rl.createPdf(Qf).open()}ngOnInit(){this.getAllPersonne(0,10),this.formFilter=this.formBuilderAuth.group({idPersonne:[null],nom:[null],raisonSocial:[null],dateOuverture:[null],dateNaissance:[null],nif:[null],nin:[null]}),this.typePersonne="moral"}onPageChange(C){console.log(C),this.getAllPersonne(C.pageIndex,C.pageSize)}getAllPersonne(C,le){this.personneService.getAllPersonneIndex(C,le).subscribe(re=>{this.personneTable=re,this.dataSource=new w.by(re.content),this.paginator&&(this.paginator.length=re.totalElements),this.paginate()})}openDialogAddPersonne(){this.router.navigateByUrl("gestion-personnes/create")}openDialogEdit(C){this.router.navigateByUrl("gestion-personnes/"+C+"/edit")}paginate(){this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort}filterPersonne(){null==this.formFilter.value.idPersonne&&(this.formFilter.value.idPersonne=0),this.personneService.filterPersonne(this.formFilter.value).subscribe({next:C=>{this.dataSource=new w.by(C),this.paginate(),this.formFilter=this.formBuilderAuth.group({idPersonne:[null],nom:[null],raisonSocial:[null],dateOuverture:[null],dateNaissance:[null],nif:[null],nin:[null]})},error:C=>{console.log(C)}})}}return v.\u0275fac=function(C){return new(C||v)(n.Y36(me.F0),n.Y36(Is.F),n.Y36(o.uw),n.Y36(e.qu))},v.\u0275cmp=n.Xpm({type:v,selectors:[["app-gestion-personnes"]],viewQuery:function(C,le){if(1&C&&(n.Gf(Q.NW,7),n.Gf(hr.YE,5)),2&C){let re;n.iGM(re=n.CRH())&&(le.paginator=re.first),n.iGM(re=n.CRH())&&(le.sort=re.first)}},decls:83,vars:7,consts:[[1,"container-fluid",2,"height","100%"],[1,"row",2,"justify-content","center","align-items","center","align-content","center"],[1,"card","col-md-10",2,"align-items","center","align-content","center","box-shadow","0 .5rem 1rem rgba(0,0,0,.15)","padding-top","2%","background","#FFFFFF"],[1,"row"],[1,"card-body"],[1,"heading",2,"padding-left","6%"],[1,"row",2,"margin-bottom","5%","display","flex","justify-content","space-evenly"],[1,"card","col-md-3",2,"background","white","box-shadow","0 .5rem 1rem rgba(0,0,0,.15)"],[1,"card-body",2,"padding","5%"],[2,"color","#2F76E5","font-size","32px"],[2,"font-size","13px"],[1,"row",2,"display","flex","justify-content","center"],[1,"heading",2,"padding-left","6%","padding-right","6%"],[2,"float","right",3,"matMenuTriggerFor"],["menu_creation","matMenu"],["mat-menu-item","",3,"click"],["mat-menu-item",""],[1,"row",2,"margin-bottom","3%","display","flex","justify-content","center"],[1,"col-md-11",2,"padding-left","2%","padding-right","2%"],[1,"row",2,"display","flex"],["class","login-form",3,"formGroup","ngSubmit",4,"ngIf"],["appearance","outline"],["matSuffix",""],["matInput","","placeholder","",3,"keyup"],["input",""],[1,"mat-elevation-z8","p-0"],["mat-table","","matSort","",1,"gestion-table",3,"dataSource"],["matColumnDef","idClient"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","","appBorderRow","",3,"click",4,"matCellDef"],["matColumnDef","assure"],["matColumnDef","typePersonne"],["matColumnDef","date"],["matColumnDef","numero"],["matColumnDef","action"],["mat-cell","",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"length","pageSize","page",4,"ngIf"],[1,"login-form",3,"formGroup","ngSubmit"],["formDirective","ngForm"],["appearance","outline",2,"padding-right","15px","width","20%"],[3,"value","selectionChange"],["value","moral"],["value","physique"],["style","padding-left: 15px;padding-right: 15px; width: 20%;","appearance","outline",3,"class",4,"ngFor","ngForOf"],[1,"col-md-12"],["mat-raised-button","","type","submit",2,"height","100%","float","right","background","#00008F","color","white"],["appearance","outline",2,"padding-left","15px","padding-right","15px","width","20%"],[3,"formControlName",4,"ngIf"],["type","text","matInput","","placeholder","",3,"formControlName",4,"ngIf"],["type","number","matInput","","placeholder","",3,"formControlName",4,"ngIf"],["matInput","",3,"matDatepicker","formControlName",4,"ngIf"],["matSuffix","",3,"for",4,"ngIf"],["picker",""],[3,"formControlName"],[4,"ngFor","ngForOf"],[3,"value"],["type","text","matInput","","placeholder","",3,"formControlName"],["type","number","matInput","","placeholder","",3,"formControlName"],["matInput","",3,"matDatepicker","formControlName"],["matSuffix","",3,"for"],["mat-header-cell",""],["mat-cell","","appBorderRow","",3,"click"],[4,"ngIf"],["mat-cell",""],[2,"padding-top","10%",3,"matMenuTriggerFor"],["menu_update","matMenu"],["aria-hidden","false","aria-label","Modifier personne","matTooltip","Modifier personne","matTooltipPosition","right",1,"material-symbols-outlined"],["mat-header-row",""],["mat-row",""],[3,"length","pageSize","page"]],template:function(C,le){if(1&C&&(n.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h2",5),n._uU(6,"Application Statistics"),n.qZA(),n.TgZ(7,"div",6)(8,"div",7)(9,"div",8)(10,"h1",9),n._uU(11,"6"),n.qZA(),n.TgZ(12,"p",10),n._uU(13,"Personnes physique"),n.qZA()()(),n.TgZ(14,"div",7)(15,"div",8)(16,"h1",9),n._uU(17,"12"),n.qZA(),n.TgZ(18,"p",10),n._uU(19,"Personnes morale"),n.qZA()()(),n.TgZ(20,"div",7)(21,"div",8)(22,"h1",9),n._uU(23,"18"),n.qZA(),n.TgZ(24,"p",10),n._uU(25,"Personnes totale"),n.qZA()()()(),n.TgZ(26,"div",11)(27,"h2",12),n._uU(28),n.TgZ(29,"mat-icon",13),n._uU(30,"more_vert"),n.qZA(),n.TgZ(31,"mat-menu",null,14)(33,"button",15),n.NdJ("click",function(){return le.openDialogAddPersonne()}),n.TgZ(34,"span"),n._uU(35,"Ajouter une personne"),n.qZA()(),n.TgZ(36,"button",16)(37,"span"),n._uU(38,"Ajouter une relation"),n.qZA()(),n.TgZ(39,"button",16)(40,"span"),n._uU(41,"Ajouter un type document"),n.qZA()(),n.TgZ(42,"button",16)(43,"span"),n._uU(44,"Ajouter une profession"),n.qZA()(),n.TgZ(45,"button",16)(46,"span"),n._uU(47,"Ajouter une adresse"),n.qZA()()()()(),n.TgZ(48,"div",17)(49,"div",18)(50,"div",19),n.YNc(51,sl,14,3,"form",20),n.qZA()()(),n.TgZ(52,"div",3)(53,"mat-form-field",21)(54,"mat-label"),n._uU(55,"Recherche rapide"),n.qZA(),n.TgZ(56,"mat-icon",22),n._uU(57," search"),n.qZA(),n.TgZ(58,"input",23,24),n.NdJ("keyup",function(Fe){return le.applyFilter(Fe)}),n.qZA()(),n.TgZ(60,"div",25)(61,"table",26),n.ynx(62,27),n.YNc(63,Fi,2,0,"th",28),n.YNc(64,ll,2,1,"td",29),n.BQk(),n.ynx(65,30),n.YNc(66,Wa,2,0,"th",28),n.YNc(67,Tr,2,1,"td",29),n.BQk(),n.ynx(68,31),n.YNc(69,_o,2,0,"th",28),n.YNc(70,Xa,2,1,"td",29),n.BQk(),n.ynx(71,32),n.YNc(72,Do,2,0,"th",28),n.YNc(73,cl,3,2,"td",29),n.BQk(),n.ynx(74,33),n.YNc(75,ul,2,0,"th",28),n.YNc(76,si,2,1,"td",29),n.BQk(),n.ynx(77,34),n.YNc(78,Gr,2,0,"th",28),n.YNc(79,ml,13,1,"td",35),n.BQk(),n.YNc(80,Es,1,0,"tr",36),n.YNc(81,ao,1,0,"tr",37),n.qZA(),n.YNc(82,Rs,1,2,"mat-paginator",38),n.qZA()()()()()()()),2&C){const re=n.MAs(32);n.xp6(28),n.hij(" ",le.title," "),n.xp6(1),n.Q6J("matMenuTriggerFor",re),n.xp6(22),n.Q6J("ngIf",le.formFilter),n.xp6(10),n.Q6J("dataSource",le.dataSource),n.xp6(19),n.Q6J("matHeaderRowDef",le.displayedColumns),n.xp6(1),n.Q6J("matRowDefColumns",le.displayedColumns),n.xp6(1),n.Q6J("ngIf",0!=le.dataSource.data.length)}},dependencies:[Se.sg,Se.O5,Xn.Hw,Mt.VK,Mt.OP,Mt.p6,e._Y,e.Fj,e.wV,e.JJ,e.JL,e.sg,e.u,O.KE,O.hX,O.R9,J.Nt,w.BZ,w.fO,w.as,w.w1,w.Dz,w.nj,w.ge,w.ev,w.XQ,w.Gk,uo.gM,Q.NW,he.Mq,he.hl,he.nW,Ze.gD,l.ey,Lt.lW,Se.uU],styles:[".container[_ngcontent-%COMP%]{background-color:#fff;padding:40px 0;height:100%;overflow-y:auto;overflow-x:hidden}.gestion-table[_ngcontent-%COMP%]{width:100%}.gestion-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .gestion-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:16px}.gestion-table[_ngcontent-%COMP%]   .mat-header-cell[_ngcontent-%COMP%]{color:#00008f;font-weight:600}.gestion-table[_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]:nth-child(even), .gestion-table[_ngcontent-%COMP%]   .mat-header-row[_ngcontent-%COMP%]{background-color:#f7f7f9}.gestion-table[_ngcontent-%COMP%]   .mat-paginator[_ngcontent-%COMP%]{background-color:transparent;margin:20px auto auto;width:80%}.gestion-table[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{height:100%;font-size:26px;color:#00008f;width:-moz-fit-content;width:fit-content}.mat-menu-item[_ngcontent-%COMP%]{font-size:15px}.mat-menu-item[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:18px;height:-moz-fit-content;height:fit-content}.mat-menu-item[_ngcontent-%COMP%]:hover:not([disabled]), .mat-menu-item[_ngcontent-%COMP%]:hover:not([disabled])   .mat-icon[_ngcontent-%COMP%]{color:#00008f}.header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:0px 2rem}.header[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{height:-moz-fit-content;height:fit-content;font-size:29px;margin-right:1rem;width:-moz-fit-content;width:fit-content}.title-table[_ngcontent-%COMP%]{margin-bottom:0rem;font-weight:800!important;font-size:23px!important;color:#00008f!important}h2.heading[_ngcontent-%COMP%]{color:#00008f;font-weight:700!important;letter-spacing:.5px}.mat-icon[_ngcontent-%COMP%]{height:100%;font-size:36px;width:-moz-fit-content;width:fit-content}.mat-icon[_ngcontent-%COMP%], .mat-form-field-suffix[_ngcontent-%COMP%]{font-size:24px}.mat-icon[_ngcontent-%COMP%]:hover, .mat-icon[_ngcontent-%COMP%]:hover{color:#d14723;cursor:pointer}.mat-row[_ngcontent-%COMP%]:hover{background:rgb(247,247,249)}.container-fluid[_ngcontent-%COMP%]{height:100%;overflow-y:auto}"]}),v})();var Vi=B(5861),Ma=B(8675),ar=B(4004),Ds=B(1948),Br=B(6257),Rr=B(7957);function ws(v,H){1&v&&(n.TgZ(0,"div",23),n._uU(1," Veuillez saisir adresses et contact"),n.qZA())}function Po(v,H){1&v&&n._uU(0,"Donn\xe9es personnelles")}function yo(v,H){if(1&v&&(n.ynx(0),n.TgZ(1,"mat-option",9),n._uU(2),n.qZA(),n.BQk()),2&v){const C=H.$implicit;n.xp6(1),n.Q6J("value",C.idParam),n.xp6(1),n.Oqu(C.description)}}function ua(v,H){1&v&&(n.TgZ(0,"div"),n._uU(1," ce champs est obligatoire"),n.qZA())}function Os(v,H){if(1&v&&(n.TgZ(0,"mat-error",51),n.YNc(1,ua,2,0,"div",52),n.qZA()),2&v){const C=n.oxw(3);n.xp6(1),n.Q6J("ngIf",C.formCreationPersonnePhysique.controls.sexe.errors.required)}}function ks(v,H){if(1&v&&(n.ynx(0),n.TgZ(1,"mat-option",9),n._uU(2),n.qZA(),n.BQk()),2&v){const C=H.$implicit;n.xp6(1),n.Q6J("value",C.idParam),n.xp6(1),n.Oqu(C.description)}}function ho(v,H){1&v&&(n.TgZ(0,"div"),n._uU(1," ce champs est obligatoire"),n.qZA())}function Kr(v,H){if(1&v&&(n.TgZ(0,"mat-error",51),n.YNc(1,ho,2,0,"div",52),n.qZA()),2&v){const C=n.oxw(3);n.xp6(1),n.Q6J("ngIf",C.formCreationPersonnePhysique.controls.nom.errors.required)}}function es(v,H){1&v&&(n.TgZ(0,"mat-form-field",30)(1,"mat-label"),n._uU(2,"Nom jeune fille"),n.qZA(),n._UZ(3,"input",53),n.qZA())}function kl(v,H){1&v&&(n.TgZ(0,"div"),n._uU(1," ce champs est obligatoire"),n.qZA())}function Ml(v,H){if(1&v&&(n.TgZ(0,"mat-error",51),n.YNc(1,kl,2,0,"div",52),n.qZA()),2&v){const C=n.oxw(3);n.xp6(1),n.Q6J("ngIf",C.formCreationPersonnePhysique.controls.prenom1.errors.required)}}function Yo(v,H){if(1&v&&(n.ynx(0),n.TgZ(1,"mat-option",9),n._uU(2),n.qZA(),n.BQk()),2&v){const C=H.$implicit;n.xp6(1),n.Q6J("value",C.idParam),n.xp6(1),n.Oqu(C.description)}}function Ua(v,H){1&v&&(n.TgZ(0,"div"),n._uU(1," Format NIN invalide "),n.qZA())}function Ul(v,H){if(1&v&&(n.TgZ(0,"mat-error",51),n.YNc(1,Ua,2,0,"div",52),n.qZA()),2&v){const C=n.oxw(3);n.xp6(1),n.Q6J("ngIf",C.formCreationPersonnePhysique.controls.nin.errors.pattern)}}function dl(v,H){1&v&&(n.TgZ(0,"div"),n._uU(1," ce champs est obligatoire"),n.qZA())}function tr(v,H){1&v&&(n.TgZ(0,"div"),n._uU(1," Format Date invalide "),n.qZA())}function Ms(v,H){if(1&v&&(n.TgZ(0,"mat-error",51),n.YNc(1,dl,2,0,"div",52),n.YNc(2,tr,2,0,"div",52),n.qZA()),2&v){const C=n.oxw(3);n.xp6(1),n.Q6J("ngIf",C.formCreationPersonnePhysique.controls.dateNaissance.errors.required),n.xp6(1),n.Q6J("ngIf",C.formCreationPersonnePhysique.controls.dateNaissance.errors.matDatepickerParse)}}function Dn(v,H){if(1&v&&(n.ynx(0),n.TgZ(1,"mat-option",9),n._uU(2),n.qZA(),n.BQk()),2&v){const C=H.$implicit;n.xp6(1),n.Q6J("value",C),n.xp6(1),n.Oqu(C.description)}}function ts(v,H){1&v&&(n.TgZ(0,"div"),n._uU(1," ce champs est obligatoire"),n.qZA())}function Kl(v,H){if(1&v&&(n.TgZ(0,"mat-error",51),n.YNc(1,ts,2,0,"div",52),n.qZA()),2&v){const C=n.oxw(3);n.xp6(1),n.Q6J("ngIf",C.formCreationPersonnePhysique.controls.nationalite.errors.required)}}function ns(v,H){if(1&v&&(n.ynx(0),n.TgZ(1,"mat-option",9),n._uU(2),n.qZA(),n.BQk()),2&v){const C=H.$implicit;n.xp6(1),n.Q6J("value",C),n.xp6(1),n.Oqu(C.description)}}function Pa(v,H){if(1&v&&(n.ynx(0),n.TgZ(1,"mat-option",9),n._uU(2),n.qZA(),n.BQk()),2&v){const C=H.$implicit;n.xp6(1),n.Q6J("value",C),n.xp6(1),n.Oqu(C.description)}}function Ho(v,H){if(1&v&&(n.ynx(0),n.TgZ(1,"mat-option",9),n._uU(2),n.qZA(),n.BQk()),2&v){const C=H.$implicit;n.xp6(1),n.Q6J("value",C),n.xp6(1),n.Oqu(C.description)}}function ma(v,H){if(1&v&&(n.ynx(0),n.TgZ(1,"mat-option",9),n._uU(2),n.qZA(),n.BQk()),2&v){const C=H.$implicit;n.xp6(1),n.Q6J("value",C),n.xp6(1),n.Oqu(C.codePostal)}}function wo(v,H){if(1&v){const C=n.EpF();n.TgZ(0,"button",66),n.NdJ("click",function(){n.CHM(C),n.oxw();const re=n.MAs(1),Fe=n.oxw(3);return n.KtG(Fe.ajouterAdresse(re))}),n.TgZ(1,"mat-icon",67),n._uU(2,"add_circle"),n.qZA(),n._uU(3," Ajouter l'adresse "),n.qZA()}}function Us(v,H){if(1&v){const C=n.EpF();n.TgZ(0,"button",68),n.NdJ("click",function(){n.CHM(C),n.oxw();const re=n.MAs(1),Fe=n.oxw(3);return n.KtG(Fe.ajouterAdresse(re))}),n.TgZ(1,"mat-icon",67),n._uU(2,"add_circle"),n.qZA(),n._uU(3," Ajouter l'adresse "),n.qZA()}}function is(v,H){if(1&v&&(n.TgZ(0,"th",84)(1,"div",85)(2,"span"),n._uU(3,"Liste des adresses "),n.qZA()()()),2&v){const C=n.oxw(5);n.uIk("colspan",C.lengthColumnsAdresse)}}function _l(v,H){1&v&&(n.TgZ(0,"th",84),n._uU(1," Description "),n.qZA())}function Fs(v,H){if(1&v&&(n.TgZ(0,"td",86),n._uU(1),n.qZA()),2&v){const C=H.$implicit;n.xp6(1),n.hij(" ",C.description," ")}}function Fl(v,H){1&v&&(n.TgZ(0,"th",84),n._uU(1," Pays "),n.qZA())}function Qs(v,H){if(1&v&&(n.TgZ(0,"td",86),n._uU(1),n.qZA()),2&v){const C=H.$implicit;n.xp6(1),n.hij(" ",C.pays.description," ")}}function Ql(v,H){1&v&&(n.TgZ(0,"th",84),n._uU(1," Wilaya "),n.qZA())}function pl(v,H){if(1&v&&(n.TgZ(0,"td",86),n._uU(1),n.qZA()),2&v){const C=H.$implicit;n.xp6(1),n.hij(" ",C.wilaya.description," ")}}function Jl(v,H){1&v&&(n.TgZ(0,"th",84),n._uU(1," Commune "),n.qZA())}function Ce(v,H){if(1&v&&(n.TgZ(0,"td",86),n._uU(1),n.qZA()),2&v){const C=H.$implicit;n.xp6(1),n.hij(" ",C.commune.description," ")}}function mt(v,H){1&v&&(n.TgZ(0,"th",84),n._uU(1," Code postal "),n.qZA())}function Pe(v,H){if(1&v&&(n.TgZ(0,"td",86),n._uU(1),n.qZA()),2&v){const C=H.$implicit;n.xp6(1),n.hij(" ",C.codePostal.codePostal," ")}}function _t(v,H){1&v&&(n.TgZ(0,"th",84),n._uU(1," Action "),n.qZA())}function yt(v,H){if(1&v){const C=n.EpF();n.TgZ(0,"td",86)(1,"mat-icon",87),n.NdJ("click",function(){const Fe=n.CHM(C).index,ti=n.oxw(5);return n.KtG(ti.delete("adresse",Fe))}),n._uU(2," delete"),n.qZA()()}}function rn(v,H){1&v&&n._UZ(0,"tr",88)}function eo(v,H){1&v&&n._UZ(0,"tr",89)}function sr(v,H){1&v&&n._UZ(0,"tr",90)}const Dr=function(){return["header-adresse"]},wr=function(){return[5,10,20]};function Or(v,H){if(1&v&&(n.TgZ(0,"div",69)(1,"table",70),n.ynx(2,71),n.YNc(3,is,4,1,"th",72),n.BQk(),n.ynx(4,73),n.YNc(5,_l,2,0,"th",72),n.YNc(6,Fs,2,1,"td",74),n.BQk(),n.ynx(7,75),n.YNc(8,Fl,2,0,"th",72),n.YNc(9,Qs,2,1,"td",74),n.BQk(),n.ynx(10,76),n.YNc(11,Ql,2,0,"th",72),n.YNc(12,pl,2,1,"td",74),n.BQk(),n.ynx(13,77),n.YNc(14,Jl,2,0,"th",72),n.YNc(15,Ce,2,1,"td",74),n.BQk(),n.ynx(16,78),n.YNc(17,mt,2,0,"th",72),n.YNc(18,Pe,2,1,"td",74),n.BQk(),n.ynx(19,79),n.YNc(20,_t,2,0,"th",72),n.YNc(21,yt,3,0,"td",74),n.BQk(),n.YNc(22,rn,1,0,"tr",80),n.YNc(23,eo,1,0,"tr",81),n.YNc(24,sr,1,0,"tr",82),n.qZA(),n._UZ(25,"mat-paginator",83),n.qZA()),2&v){const C=n.oxw(4);n.xp6(1),n.Q6J("dataSource",C.adresses),n.xp6(21),n.Q6J("matHeaderRowDef",n.DdM(6,Dr)),n.xp6(1),n.Q6J("matHeaderRowDef",C.displayedColumnsAdresse),n.xp6(1),n.Q6J("matRowDefColumns",C.displayedColumnsAdresse),n.xp6(1),n.Q6J("pageSize",5)("pageSizeOptions",n.DdM(7,wr))}}function pr(v,H){if(1&v){const C=n.EpF();n.TgZ(0,"form",24,54)(2,"div",55)(3,"mat-form-field",46)(4,"mat-label"),n._uU(5,"Adresse"),n.qZA(),n._UZ(6,"input",56),n.qZA(),n.TgZ(7,"mat-form-field",26)(8,"mat-label"),n._uU(9," Pays "),n.qZA(),n.TgZ(10,"mat-select",57),n.YNc(11,ns,3,2,"ng-container",28),n.qZA()(),n.TgZ(12,"mat-form-field",30)(13,"mat-label"),n._uU(14," Wilaya "),n.qZA(),n.TgZ(15,"mat-select",58),n.NdJ("selectionChange",function(re){n.CHM(C);const Fe=n.oxw(3);return n.KtG(Fe.getCommuneByWilaya(re.value))}),n.YNc(16,Pa,3,2,"ng-container",28),n.qZA()(),n.TgZ(17,"div",59)(18,"div",55)(19,"mat-form-field",26)(20,"mat-label"),n._uU(21," Commune "),n.qZA(),n.TgZ(22,"mat-select",60),n.NdJ("selectionChange",function(re){n.CHM(C);const Fe=n.oxw(3);return n.KtG(Fe.getCodeByCommune(re.value))}),n.YNc(23,Ho,3,2,"ng-container",28),n.qZA(),n.TgZ(24,"mat-hint"),n._uU(25,"Veuillez saisir la wilaya avant !"),n.qZA()(),n.TgZ(26,"mat-form-field",30)(27,"mat-label"),n._uU(28," Code postal "),n.qZA(),n.TgZ(29,"mat-select",61),n.YNc(30,ma,3,2,"ng-container",28),n.qZA(),n.TgZ(31,"mat-hint"),n._uU(32,"Veuillez saisir la commune avant !"),n.qZA()()()(),n.TgZ(33,"div",62),n.YNc(34,wo,4,0,"button",63),n.YNc(35,Us,4,0,"button",64),n.qZA()(),n.YNc(36,Or,26,8,"div",65),n.qZA()}if(2&v){const C=n.oxw(3);n.Q6J("formGroup",C.formCreationAdresse),n.xp6(11),n.Q6J("ngForOf",C.pays),n.xp6(5),n.Q6J("ngForOf",C.wilayas),n.xp6(7),n.Q6J("ngForOf",C.communes),n.xp6(7),n.Q6J("ngForOf",C.codesPostal),n.xp6(4),n.Q6J("ngIf",""!=C.formCreationAdresse.value.description&&""!=C.formCreationAdresse.value.pays&&""!=C.formCreationAdresse.value.wilaya&&""!=C.formCreationAdresse.value.commune&&""!=C.formCreationAdresse.value.codePostal),n.xp6(1),n.Q6J("ngIf",""==C.formCreationAdresse.value.description||""==C.formCreationAdresse.value.pays||""==C.formCreationAdresse.value.wilaya||""==C.formCreationAdresse.value.commune||""==C.formCreationAdresse.value.codePostal),n.xp6(1),n.Q6J("ngIf",0!=C.adresses.data.length)}}function Za(v,H){if(1&v&&(n.ynx(0),n.TgZ(1,"mat-option",9),n._uU(2),n.qZA(),n.BQk()),2&v){const C=H.$implicit;n.xp6(1),n.Q6J("value",C),n.xp6(1),n.Oqu(C.description)}}function os(v,H){1&v&&(n.TgZ(0,"div"),n._uU(1," Le format du numero est invalide "),n.qZA())}function fl(v,H){1&v&&(n.TgZ(0,"div"),n._uU(1," Le format du numero est invalide "),n.qZA())}function Js(v,H){1&v&&(n.TgZ(0,"div"),n._uU(1,"Format email invalide "),n.qZA())}function qa(v,H){if(1&v&&(n.TgZ(0,"mat-error",51),n.YNc(1,os,2,0,"div",52),n.YNc(2,fl,2,0,"div",52),n.YNc(3,Js,2,0,"div",52),n.qZA()),2&v){const C=n.oxw(4);n.xp6(1),n.Q6J("ngIf",C.formCreationContact.controls.description.errors.pattern&&("fix"==C.formCreationContact.value.typeContact.description||"fax"==C.formCreationContact.value.typeContact.description)),n.xp6(1),n.Q6J("ngIf",C.formCreationContact.controls.description.errors.pattern&&"fix"!=C.formCreationContact.value.typeContact.description&&"fax"!=C.formCreationContact.value.typeContact.description&&"email"!=C.formCreationContact.value.typeContact.description),n.xp6(1),n.Q6J("ngIf",C.formCreationContact.controls.description.errors.pattern&&"email"==C.formCreationContact.value.typeContact.description)}}function Ac(v,H){if(1&v){const C=n.EpF();n.TgZ(0,"button",66),n.NdJ("click",function(){n.CHM(C),n.oxw();const re=n.MAs(1),Fe=n.oxw(3);return n.KtG(Fe.ajouterContact(re))}),n.TgZ(1,"mat-icon",95),n._uU(2,"add_circle"),n.qZA(),n._uU(3," Ajouter le contact "),n.qZA()}}function Wo(v,H){if(1&v){const C=n.EpF();n.TgZ(0,"button",68),n.NdJ("click",function(){n.CHM(C),n.oxw();const re=n.MAs(1),Fe=n.oxw(3);return n.KtG(Fe.ajouterContact(re))}),n.TgZ(1,"mat-icon",95),n._uU(2,"add_circle"),n.qZA(),n._uU(3," Ajouter le contact "),n.qZA()}}function qt(v,H){if(1&v&&(n.TgZ(0,"th",84)(1,"div",85)(2,"span"),n._uU(3,"Liste des contacts "),n.qZA()()()),2&v){const C=n.oxw(5);n.uIk("colspan",C.lengthColumnsContact)}}function an(v,H){1&v&&(n.TgZ(0,"th",84),n._uU(1," Type contact "),n.qZA())}function Gt(v,H){if(1&v&&(n.TgZ(0,"td",86),n._uU(1),n.qZA()),2&v){const C=H.$implicit;n.xp6(1),n.hij(" ",C.typeContact.description," ")}}function Wn(v,H){1&v&&(n.TgZ(0,"th",84),n._uU(1," Contact "),n.qZA())}function Qi(v,H){if(1&v&&(n.TgZ(0,"td",86),n._uU(1),n.qZA()),2&v){const C=H.$implicit;n.xp6(1),n.hij(" ",C.description," ")}}function xo(v,H){1&v&&(n.TgZ(0,"th",84),n._uU(1," Date debut "),n.qZA())}function lr(v,H){if(1&v&&(n.TgZ(0,"td",86),n._uU(1),n.ALo(2,"date"),n.qZA()),2&v){const C=H.$implicit;n.xp6(1),n.hij(" ",n.xi3(2,1,C.dateDebut,"dd/MM/yyyy")," ")}}function ue(v,H){1&v&&(n.TgZ(0,"th",84),n._uU(1," Action "),n.qZA())}function je(v,H){if(1&v){const C=n.EpF();n.TgZ(0,"td",86)(1,"mat-icon",100),n.NdJ("click",function(){const Fe=n.CHM(C).index,ti=n.oxw(5);return n.KtG(ti.delete("contact",Fe))}),n._uU(2," delete"),n.qZA()()}}function z(v,H){1&v&&n._UZ(0,"tr",88)}function ge(v,H){1&v&&n._UZ(0,"tr",89)}function we(v,H){1&v&&n._UZ(0,"tr",90)}const wt=function(){return["header-contact"]};function st(v,H){if(1&v&&(n.TgZ(0,"div",69)(1,"table",96),n.ynx(2,97),n.YNc(3,qt,4,1,"th",72),n.BQk(),n.ynx(4,98),n.YNc(5,an,2,0,"th",72),n.YNc(6,Gt,2,1,"td",74),n.BQk(),n.ynx(7,73),n.YNc(8,Wn,2,0,"th",72),n.YNc(9,Qi,2,1,"td",74),n.BQk(),n.ynx(10,99),n.YNc(11,xo,2,0,"th",72),n.YNc(12,lr,3,4,"td",74),n.BQk(),n.ynx(13,79),n.YNc(14,ue,2,0,"th",72),n.YNc(15,je,3,0,"td",74),n.BQk(),n.YNc(16,z,1,0,"tr",80),n.YNc(17,ge,1,0,"tr",81),n.YNc(18,we,1,0,"tr",82),n.qZA(),n._UZ(19,"mat-paginator",83),n.qZA()),2&v){const C=n.oxw(4);n.xp6(1),n.Q6J("dataSource",C.contacts),n.xp6(15),n.Q6J("matHeaderRowDef",n.DdM(6,wt)),n.xp6(1),n.Q6J("matHeaderRowDef",C.displayedColumnsContact),n.xp6(1),n.Q6J("matRowDefColumns",C.displayedColumnsContact),n.xp6(1),n.Q6J("pageSize",5)("pageSizeOptions",n.DdM(7,wr))}}function Tn(v,H){if(1&v){const C=n.EpF();n.TgZ(0,"form",24,91)(2,"div",55)(3,"div",59)(4,"mat-form-field",26)(5,"mat-label"),n._uU(6," Type contact "),n.qZA(),n.TgZ(7,"mat-select",92),n.NdJ("selectionChange",function(re){n.CHM(C);const Fe=n.oxw(3);return n.KtG(Fe.enableContact(null==re.value?null:re.value.description))}),n.YNc(8,Za,3,2,"ng-container",28),n.qZA()(),n.TgZ(9,"mat-form-field",93)(10,"mat-label"),n._uU(11,"Contact"),n.qZA(),n._UZ(12,"input",94),n.YNc(13,qa,4,3,"mat-error",29),n.qZA()(),n.TgZ(14,"div",62),n.YNc(15,Ac,4,0,"button",63),n.YNc(16,Wo,4,0,"button",64),n.qZA()(),n.YNc(17,st,20,8,"div",65),n.qZA()}if(2&v){const C=n.oxw(3);n.Q6J("formGroup",C.formCreationContact),n.xp6(8),n.Q6J("ngForOf",C.types_contact),n.xp6(4),n.Q6J("placeholder",C.somePlaceholder),n.xp6(1),n.Q6J("ngIf",C.formCreationContact.controls.description.errors),n.xp6(2),n.Q6J("ngIf",""!=C.formCreationContact.value.typeContact&&""!=C.formCreationContact.value.description),n.xp6(1),n.Q6J("ngIf",""==C.formCreationContact.value.typeContact||""==C.formCreationContact.value.description),n.xp6(1),n.Q6J("ngIf",0!=C.contacts.data.length)}}function Qo(v,H){if(1&v){const C=n.EpF();n.TgZ(0,"button",101),n.NdJ("mouseup",function(){n.CHM(C);const re=n.oxw(3);return n.KtG(re.changePage(!0))}),n._uU(1,"Suivant"),n.qZA()}}function li(v,H){if(1&v){const C=n.EpF();n.TgZ(0,"button",102),n.NdJ("mouseup",function(){n.CHM(C);const re=n.oxw(3);return n.KtG(re.changePage(!1))}),n._uU(1,"Suivant"),n.qZA()}}function To(v,H){if(1&v){const C=n.EpF();n.TgZ(0,"form",24,25)(2,"mat-accordion",13)(3,"mat-expansion-panel",14)(4,"mat-expansion-panel-header")(5,"mat-panel-title"),n._uU(6," Informations g\xe9n\xe9rales "),n.qZA()(),n.TgZ(7,"div",15)(8,"mat-form-field",26)(9,"mat-label"),n._uU(10," Genre "),n.qZA(),n.TgZ(11,"mat-select",27),n.YNc(12,yo,3,2,"ng-container",28),n.qZA(),n.YNc(13,Os,2,1,"mat-error",29),n.qZA(),n.TgZ(14,"mat-form-field",30)(15,"mat-label"),n._uU(16," Civilit\xe9 "),n.qZA(),n.TgZ(17,"mat-select",31),n.NdJ("valueChange",function(re){n.CHM(C);const Fe=n.oxw(2);return n.KtG(Fe.selected=re)}),n.YNc(18,ks,3,2,"ng-container",28),n.qZA()(),n.TgZ(19,"mat-form-field",32)(20,"mat-label"),n._uU(21,"Nom"),n.qZA(),n._UZ(22,"input",33),n.YNc(23,Kr,2,1,"mat-error",29),n.qZA(),n.YNc(24,es,4,0,"mat-form-field",34),n.TgZ(25,"mat-form-field",35)(26,"mat-label"),n._uU(27,"Pr\xe9nom 1"),n.qZA(),n._UZ(28,"input",36),n.YNc(29,Ml,2,1,"mat-error",29),n.qZA(),n.TgZ(30,"mat-form-field",37)(31,"mat-label"),n._uU(32,"Pr\xe9nom 2"),n.qZA(),n._UZ(33,"input",38),n.qZA(),n.TgZ(34,"mat-form-field",39)(35,"mat-label"),n._uU(36,"Pr\xe9nom 3"),n.qZA(),n._UZ(37,"input",40),n.qZA()()(),n.TgZ(38,"mat-expansion-panel",14)(39,"mat-expansion-panel-header")(40,"mat-panel-title"),n._uU(41," Informations compl\xe9mentaires "),n.qZA()(),n.TgZ(42,"div",15)(43,"mat-form-field",35)(44,"mat-label"),n._uU(45," Situation familiale "),n.qZA(),n.TgZ(46,"mat-select",41),n.YNc(47,Yo,3,2,"ng-container",28),n.qZA()(),n.TgZ(48,"mat-form-field",37)(49,"mat-label"),n._uU(50,"NIN"),n.qZA(),n._UZ(51,"input",42),n.YNc(52,Ul,2,1,"mat-error",29),n.qZA(),n.TgZ(53,"mat-form-field",39)(54,"mat-label"),n._uU(55,"Date Naissance"),n.qZA(),n._UZ(56,"input",43)(57,"mat-datepicker-toggle",44)(58,"mat-datepicker",null,45),n.YNc(60,Ms,3,2,"mat-error",29),n.qZA(),n.TgZ(61,"mat-form-field",46)(62,"mat-label"),n._uU(63," Nationalite "),n.qZA(),n.TgZ(64,"mat-select",47),n.YNc(65,Dn,3,2,"ng-container",28),n.qZA(),n.YNc(66,Kl,2,1,"mat-error",29),n.qZA()()(),n.TgZ(67,"mat-expansion-panel",14)(68,"mat-expansion-panel-header")(69,"mat-panel-title"),n._uU(70," Adresses "),n.qZA()(),n.TgZ(71,"div",15),n.YNc(72,pr,37,8,"form",16),n.qZA()(),n.TgZ(73,"mat-expansion-panel",14)(74,"mat-expansion-panel-header")(75,"mat-panel-title"),n._uU(76," Contacts "),n.qZA()(),n.TgZ(77,"div",15),n.YNc(78,Tn,18,7,"form",16),n.qZA()()(),n.TgZ(79,"div",17)(80,"button",48),n.NdJ("mouseup",function(){n.CHM(C);const re=n.oxw(2);return n.KtG(re.back())}),n._uU(81,"Retour"),n.qZA(),n.YNc(82,Qo,2,0,"button",49),n.YNc(83,li,2,0,"button",50),n.qZA()()}if(2&v){const C=n.MAs(1),le=n.MAs(59),re=n.oxw(2);n.Q6J("formGroup",re.formCreationPersonnePhysique),n.xp6(3),n.Q6J("expanded",!0),n.xp6(9),n.Q6J("ngForOf",re.sexes),n.xp6(1),n.Q6J("ngIf",re.formCreationPersonnePhysique.controls.sexe.errors),n.xp6(4),n.Q6J("value",re.selected),n.xp6(1),n.Q6J("ngForOf",re.titres),n.xp6(1),n.Akn(17==re.formCreationPersonnePhysique.value.sexe?"padding-right: 1%;":""),n.Tol(17==re.formCreationPersonnePhysique.value.sexe?"col-md-6":"col-md-12"),n.xp6(4),n.Q6J("ngIf",re.formCreationPersonnePhysique.controls.nom.errors),n.xp6(1),n.Q6J("ngIf",17==re.formCreationPersonnePhysique.value.sexe),n.xp6(5),n.Q6J("ngIf",re.formCreationPersonnePhysique.controls.prenom1.errors),n.xp6(9),n.Q6J("expanded",!0),n.xp6(9),n.Q6J("ngForOf",re.situationsFamiliale),n.xp6(5),n.Q6J("ngIf",re.formCreationPersonnePhysique.controls.nin.errors),n.xp6(4),n.Q6J("max",re.minDate)("matDatepicker",le),n.xp6(1),n.Q6J("for",le),n.xp6(3),n.Q6J("ngIf",re.formCreationPersonnePhysique.controls.dateNaissance.errors),n.xp6(5),n.Q6J("ngForOf",re.nationalites),n.xp6(1),n.Q6J("ngIf",re.formCreationPersonnePhysique.controls.nationalite.errors),n.xp6(1),n.Q6J("expanded",!0),n.xp6(5),n.Q6J("ngIf",re.formCreationAdresse),n.xp6(1),n.Q6J("expanded",!0),n.xp6(5),n.Q6J("ngIf",re.formCreationContact),n.xp6(4),n.Q6J("ngIf",C.invalid||0==re.adresses.data.length||0==re.contacts.data.length),n.xp6(1),n.Q6J("ngIf",!C.invalid&&0!=re.adresses.data.length&&0!=re.contacts.data.length)}}function Mo(v,H){if(1&v&&(n.TgZ(0,"div",12),n.YNc(1,To,84,28,"form",16),n.qZA()),2&v){const C=n.oxw();n.xp6(1),n.Q6J("ngIf",C.formCreationPersonnePhysique)}}function Zo(v,H){1&v&&(n.TgZ(0,"div"),n._uU(1," ce champs est obligatoire"),n.qZA())}function Wl(v,H){if(1&v&&(n.TgZ(0,"mat-error",51),n.YNc(1,Zo,2,0,"div",52),n.qZA()),2&v){const C=n.oxw(3);n.xp6(1),n.Q6J("ngIf",C.formCreationPersonneMorale.controls.raisonSocial.errors.required)}}function eu(v,H){1&v&&(n.TgZ(0,"div"),n._uU(1," Format NIF invalide "),n.qZA())}function Tc(v,H){if(1&v&&(n.TgZ(0,"mat-error",51),n.YNc(1,eu,2,0,"div",52),n.qZA()),2&v){const C=n.oxw(3);n.xp6(1),n.Q6J("ngIf",C.formCreationPersonneMorale.controls.nif.errors.pattern)}}function Uo(v,H){1&v&&(n.TgZ(0,"div"),n._uU(1," ce champs est obligatoire"),n.qZA())}function Ls(v,H){1&v&&(n.TgZ(0,"div"),n._uU(1," Format Date invalide "),n.qZA())}function sc(v,H){if(1&v&&(n.TgZ(0,"mat-error",51),n.YNc(1,Uo,2,0,"div",52),n.YNc(2,Ls,2,0,"div",52),n.qZA()),2&v){const C=n.oxw(3);n.xp6(1),n.Q6J("ngIf",C.formCreationPersonneMorale.controls.dateOuverture.errors.required),n.xp6(1),n.Q6J("ngIf",C.formCreationPersonneMorale.controls.dateOuverture.errors.matDatepickerParse)}}function Yc(v,H){if(1&v&&(n.ynx(0),n.TgZ(1,"mat-option",9),n._uU(2),n.qZA(),n.BQk()),2&v){const C=H.$implicit;n.xp6(1),n.Q6J("value",C.idParam),n.xp6(1),n.Oqu(C.description)}}function Go(v,H){if(1&v&&(n.ynx(0),n.TgZ(1,"mat-option",9),n._uU(2),n.qZA(),n.BQk()),2&v){const C=H.$implicit;n.xp6(1),n.Q6J("value",C),n.xp6(1),n.Oqu(C)}}function yi(v,H){if(1&v&&(n.ynx(0),n.TgZ(1,"mat-option",9),n._uU(2),n.qZA(),n.BQk()),2&v){const C=H.$implicit;n.xp6(1),n.Q6J("value",C),n.xp6(1),n.Oqu(C.description)}}function Wr(v,H){if(1&v&&(n.ynx(0),n.TgZ(1,"mat-option",9),n._uU(2),n.qZA(),n.BQk()),2&v){const C=H.$implicit;n.xp6(1),n.Q6J("value",C),n.xp6(1),n.Oqu(C.description)}}function Li(v,H){if(1&v&&(n.ynx(0),n.TgZ(1,"mat-option",9),n._uU(2),n.qZA(),n.BQk()),2&v){const C=H.$implicit;n.xp6(1),n.Q6J("value",C),n.xp6(1),n.Oqu(C.description)}}function so(v,H){if(1&v&&(n.ynx(0),n.TgZ(1,"mat-option",9),n._uU(2),n.qZA(),n.BQk()),2&v){const C=H.$implicit;n.xp6(1),n.Q6J("value",C),n.xp6(1),n.Oqu(C.codePostal)}}function Ll(v,H){if(1&v){const C=n.EpF();n.TgZ(0,"button",66),n.NdJ("click",function(){n.CHM(C),n.oxw();const re=n.MAs(1),Fe=n.oxw(3);return n.KtG(Fe.ajouterAdresse(re))}),n.TgZ(1,"mat-icon",67),n._uU(2,"add_circle"),n.qZA(),n._uU(3," Ajouter l'adresse "),n.qZA()}}function kr(v,H){if(1&v){const C=n.EpF();n.TgZ(0,"button",68),n.NdJ("click",function(){n.CHM(C),n.oxw();const re=n.MAs(1),Fe=n.oxw(3);return n.KtG(Fe.ajouterAdresse(re))}),n.TgZ(1,"mat-icon",67),n._uU(2,"add_circle"),n.qZA(),n._uU(3," Ajouter l'adresse "),n.qZA()}}function Sa(v,H){if(1&v&&(n.TgZ(0,"th",84)(1,"div",85)(2,"span"),n._uU(3,"Liste des adresses "),n.qZA()()()),2&v){const C=n.oxw(5);n.uIk("colspan",C.lengthColumnsAdresse)}}function Bo(v,H){1&v&&(n.TgZ(0,"th",84),n._uU(1," Description "),n.qZA())}function Oo(v,H){if(1&v&&(n.TgZ(0,"td",86),n._uU(1),n.qZA()),2&v){const C=H.$implicit;n.xp6(1),n.hij(" ",C.description," ")}}function da(v,H){1&v&&(n.TgZ(0,"th",84),n._uU(1," Pays "),n.qZA())}function Ni(v,H){if(1&v&&(n.TgZ(0,"td",86),n._uU(1),n.qZA()),2&v){const C=H.$implicit;n.xp6(1),n.hij(" ",C.pays.description," ")}}function Bi(v,H){1&v&&(n.TgZ(0,"th",84),n._uU(1," Wilaya "),n.qZA())}function Cr(v,H){if(1&v&&(n.TgZ(0,"td",86),n._uU(1),n.qZA()),2&v){const C=H.$implicit;n.xp6(1),n.hij(" ",C.wilaya.description," ")}}function tu(v,H){1&v&&(n.TgZ(0,"th",84),n._uU(1," Commune "),n.qZA())}function Gc(v,H){if(1&v&&(n.TgZ(0,"td",86),n._uU(1),n.qZA()),2&v){const C=H.$implicit;n.xp6(1),n.hij(" ",C.commune.description," ")}}function bc(v,H){1&v&&(n.TgZ(0,"th",84),n._uU(1," Code postal "),n.qZA())}function yu(v,H){if(1&v&&(n.TgZ(0,"td",86),n._uU(1),n.qZA()),2&v){const C=H.$implicit;n.xp6(1),n.hij(" ",C.codePostal.codePostal," ")}}function xr(v,H){1&v&&(n.TgZ(0,"th",84),n._uU(1," Action "),n.qZA())}function Mr(v,H){if(1&v){const C=n.EpF();n.TgZ(0,"td",86)(1,"mat-icon",87),n.NdJ("click",function(){const Fe=n.CHM(C).index,ti=n.oxw(5);return n.KtG(ti.delete("adresse",Fe))}),n._uU(2," delete"),n.qZA()()}}function _a(v,H){1&v&&n._UZ(0,"tr",88)}function gl(v,H){1&v&&n._UZ(0,"tr",89)}function se(v,H){1&v&&n._UZ(0,"tr",90)}function He(v,H){if(1&v&&(n.TgZ(0,"div",69)(1,"table",70),n.ynx(2,71),n.YNc(3,Sa,4,1,"th",72),n.BQk(),n.ynx(4,73),n.YNc(5,Bo,2,0,"th",72),n.YNc(6,Oo,2,1,"td",74),n.BQk(),n.ynx(7,75),n.YNc(8,da,2,0,"th",72),n.YNc(9,Ni,2,1,"td",74),n.BQk(),n.ynx(10,76),n.YNc(11,Bi,2,0,"th",72),n.YNc(12,Cr,2,1,"td",74),n.BQk(),n.ynx(13,77),n.YNc(14,tu,2,0,"th",72),n.YNc(15,Gc,2,1,"td",74),n.BQk(),n.ynx(16,78),n.YNc(17,bc,2,0,"th",72),n.YNc(18,yu,2,1,"td",74),n.BQk(),n.ynx(19,79),n.YNc(20,xr,2,0,"th",72),n.YNc(21,Mr,3,0,"td",74),n.BQk(),n.YNc(22,_a,1,0,"tr",80),n.YNc(23,gl,1,0,"tr",81),n.YNc(24,se,1,0,"tr",82),n.qZA(),n._UZ(25,"mat-paginator",83),n.qZA()),2&v){const C=n.oxw(4);n.xp6(1),n.Q6J("dataSource",C.adresses),n.xp6(21),n.Q6J("matHeaderRowDef",n.DdM(6,Dr)),n.xp6(1),n.Q6J("matHeaderRowDef",C.displayedColumnsAdresse),n.xp6(1),n.Q6J("matRowDefColumns",C.displayedColumnsAdresse),n.xp6(1),n.Q6J("pageSize",5)("pageSizeOptions",n.DdM(7,wr))}}function Y(v,H){if(1&v){const C=n.EpF();n.TgZ(0,"form",24,54)(2,"div",55)(3,"mat-form-field",46)(4,"mat-label"),n._uU(5,"Adresse"),n.qZA(),n._UZ(6,"input",56),n.qZA(),n.TgZ(7,"mat-form-field",26)(8,"mat-label"),n._uU(9," Pays "),n.qZA(),n.TgZ(10,"mat-select",57),n.YNc(11,yi,3,2,"ng-container",28),n.qZA()(),n.TgZ(12,"mat-form-field",30)(13,"mat-label"),n._uU(14," Wilaya "),n.qZA(),n.TgZ(15,"mat-select",58),n.NdJ("selectionChange",function(re){n.CHM(C);const Fe=n.oxw(3);return n.KtG(Fe.getCommuneByWilaya(re.value))}),n.YNc(16,Wr,3,2,"ng-container",28),n.qZA()(),n.TgZ(17,"div",59)(18,"mat-form-field",26)(19,"mat-label"),n._uU(20," Commune "),n.qZA(),n.TgZ(21,"mat-select",60),n.NdJ("selectionChange",function(re){n.CHM(C);const Fe=n.oxw(3);return n.KtG(Fe.getCodeByCommune(re.value))}),n.YNc(22,Li,3,2,"ng-container",28),n.qZA(),n.TgZ(23,"mat-hint"),n._uU(24,"Veuillez saisir la wilaya avant !"),n.qZA()(),n.TgZ(25,"mat-form-field",30)(26,"mat-label"),n._uU(27," Code postal "),n.qZA(),n.TgZ(28,"mat-select",61),n.YNc(29,so,3,2,"ng-container",28),n.qZA(),n.TgZ(30,"mat-hint"),n._uU(31,"Veuillez saisir la commune avant !"),n.qZA()()(),n.TgZ(32,"div",62),n.YNc(33,Ll,4,0,"button",63),n.YNc(34,kr,4,0,"button",64),n.qZA()(),n.YNc(35,He,26,8,"div",65),n.qZA()}if(2&v){const C=n.oxw(3);n.Q6J("formGroup",C.formCreationAdresse),n.xp6(11),n.Q6J("ngForOf",C.pays),n.xp6(5),n.Q6J("ngForOf",C.wilayas),n.xp6(6),n.Q6J("ngForOf",C.communes),n.xp6(7),n.Q6J("ngForOf",C.codesPostal),n.xp6(4),n.Q6J("ngIf",""!=C.formCreationAdresse.value.description&&""!=C.formCreationAdresse.value.pays&&""!=C.formCreationAdresse.value.wilaya&&""!=C.formCreationAdresse.value.commune&&""!=C.formCreationAdresse.value.codePostal),n.xp6(1),n.Q6J("ngIf",""==C.formCreationAdresse.value.description||""==C.formCreationAdresse.value.pays||""==C.formCreationAdresse.value.wilaya||""==C.formCreationAdresse.value.commune||""==C.formCreationAdresse.value.codePostal),n.xp6(1),n.Q6J("ngIf",0!=C.adresses.data.length)}}function Ee(v,H){if(1&v&&(n.ynx(0),n.TgZ(1,"mat-option",9),n._uU(2),n.qZA(),n.BQk()),2&v){const C=H.$implicit;n.xp6(1),n.Q6J("value",C),n.xp6(1),n.Oqu(C.description)}}function Ye(v,H){1&v&&(n.TgZ(0,"div"),n._uU(1," Le format du N\xb0T\xe9l\xe9phone est invalide "),n.qZA())}function Ct(v,H){1&v&&(n.TgZ(0,"div"),n._uU(1,"Format email invalide "),n.qZA())}function sn(v,H){if(1&v&&(n.TgZ(0,"mat-error",51),n.YNc(1,Ye,2,0,"div",52),n.YNc(2,Ct,2,0,"div",52),n.qZA()),2&v){const C=n.oxw(4);n.xp6(1),n.Q6J("ngIf",C.formCreationContact.controls.description.errors.pattern&&"email"!=C.formCreationContact.value.typeContact.description),n.xp6(1),n.Q6J("ngIf",C.formCreationContact.controls.description.errors.pattern&&"email"==C.formCreationContact.value.typeContact.description)}}function Pn(v,H){if(1&v){const C=n.EpF();n.TgZ(0,"button",66),n.NdJ("click",function(){n.CHM(C),n.oxw();const re=n.MAs(1),Fe=n.oxw(3);return n.KtG(Fe.ajouterContact(re))}),n.TgZ(1,"mat-icon",95),n._uU(2,"add_circle"),n.qZA(),n._uU(3," Ajouter le contact "),n.qZA()}}function fn(v,H){if(1&v){const C=n.EpF();n.TgZ(0,"button",68),n.NdJ("click",function(){n.CHM(C),n.oxw();const re=n.MAs(1),Fe=n.oxw(3);return n.KtG(Fe.ajouterContact(re))}),n.TgZ(1,"mat-icon",95),n._uU(2,"add_circle"),n.qZA(),n._uU(3," Ajouter le contact "),n.qZA()}}function ui(v,H){if(1&v&&(n.TgZ(0,"th",84)(1,"div",85)(2,"span"),n._uU(3,"Liste des contacts "),n.qZA()()()),2&v){const C=n.oxw(5);n.uIk("colspan",C.lengthColumnsContact)}}function bi(v,H){1&v&&(n.TgZ(0,"th",84),n._uU(1," Type contact "),n.qZA())}function to(v,H){if(1&v&&(n.TgZ(0,"td",86),n._uU(1),n.qZA()),2&v){const C=H.$implicit;n.xp6(1),n.hij(" ",C.typeContact.description," ")}}function fo(v,H){1&v&&(n.TgZ(0,"th",84),n._uU(1," Contact "),n.qZA())}function Xo(v,H){if(1&v&&(n.TgZ(0,"td",86),n._uU(1),n.qZA()),2&v){const C=H.$implicit;n.xp6(1),n.hij(" ",C.description," ")}}function Ur(v,H){1&v&&(n.TgZ(0,"th",84),n._uU(1," Date debut "),n.qZA())}function fi(v,H){if(1&v&&(n.TgZ(0,"td",86),n._uU(1),n.ALo(2,"date"),n.qZA()),2&v){const C=H.$implicit;n.xp6(1),n.hij(" ",n.xi3(2,1,C.dateDebut,"dd/MM/yyyy")," ")}}function Ki(v,H){1&v&&(n.TgZ(0,"th",84),n._uU(1," Action "),n.qZA())}function br(v,H){if(1&v){const C=n.EpF();n.TgZ(0,"td",86)(1,"mat-icon",100),n.NdJ("click",function(){const Fe=n.CHM(C).index,ti=n.oxw(5);return n.KtG(ti.delete("contact",Fe))}),n._uU(2," delete"),n.qZA()()}}function De(v,H){1&v&&n._UZ(0,"tr",88)}function lc(v,H){1&v&&n._UZ(0,"tr",89)}function Bc(v,H){1&v&&n._UZ(0,"tr",90)}function ya(v,H){if(1&v&&(n.TgZ(0,"div",69)(1,"table",96),n.ynx(2,97),n.YNc(3,ui,4,1,"th",72),n.BQk(),n.ynx(4,98),n.YNc(5,bi,2,0,"th",72),n.YNc(6,to,2,1,"td",74),n.BQk(),n.ynx(7,73),n.YNc(8,fo,2,0,"th",72),n.YNc(9,Xo,2,1,"td",74),n.BQk(),n.ynx(10,99),n.YNc(11,Ur,2,0,"th",72),n.YNc(12,fi,3,4,"td",74),n.BQk(),n.ynx(13,79),n.YNc(14,Ki,2,0,"th",72),n.YNc(15,br,3,0,"td",74),n.BQk(),n.YNc(16,De,1,0,"tr",80),n.YNc(17,lc,1,0,"tr",81),n.YNc(18,Bc,1,0,"tr",82),n.qZA(),n._UZ(19,"mat-paginator",83),n.qZA()),2&v){const C=n.oxw(4);n.xp6(1),n.Q6J("dataSource",C.contacts),n.xp6(15),n.Q6J("matHeaderRowDef",n.DdM(6,wt)),n.xp6(1),n.Q6J("matHeaderRowDef",C.displayedColumnsContact),n.xp6(1),n.Q6J("matRowDefColumns",C.displayedColumnsContact),n.xp6(1),n.Q6J("pageSize",5)("pageSizeOptions",n.DdM(7,wr))}}function Co(v,H){if(1&v){const C=n.EpF();n.TgZ(0,"form",24,91)(2,"div",55)(3,"div",59)(4,"mat-form-field",26)(5,"mat-label"),n._uU(6," Type contact "),n.qZA(),n.TgZ(7,"mat-select",92),n.NdJ("selectionChange",function(re){n.CHM(C);const Fe=n.oxw(3);return n.KtG(Fe.enableContact(null==re.value?null:re.value.description))}),n.YNc(8,Ee,3,2,"ng-container",28),n.qZA()(),n.TgZ(9,"mat-form-field",93)(10,"mat-label"),n._uU(11,"Contact"),n.qZA(),n._UZ(12,"input",94),n.YNc(13,sn,3,2,"mat-error",29),n.qZA()(),n.TgZ(14,"div",62),n.YNc(15,Pn,4,0,"button",63),n.YNc(16,fn,4,0,"button",64),n.qZA()(),n.YNc(17,ya,20,8,"div",65),n.qZA()}if(2&v){const C=n.oxw(3);n.Q6J("formGroup",C.formCreationContact),n.xp6(8),n.Q6J("ngForOf",C.types_contact),n.xp6(4),n.Q6J("placeholder",C.somePlaceholder),n.xp6(1),n.Q6J("ngIf",C.formCreationContact.controls.description.errors),n.xp6(2),n.Q6J("ngIf",""!=C.formCreationContact.value.typeContact&&""!=C.formCreationContact.value.description),n.xp6(1),n.Q6J("ngIf",""==C.formCreationContact.value.typeContact||""==C.formCreationContact.value.description),n.xp6(1),n.Q6J("ngIf",0!=C.contacts.data.length)}}function om(v,H){if(1&v){const C=n.EpF();n.TgZ(0,"button",101),n.NdJ("mouseup",function(){n.CHM(C);const re=n.oxw(3);return n.KtG(re.changePage(!0))}),n._uU(1,"Suivant"),n.qZA()}}function nu(v,H){if(1&v){const C=n.EpF();n.TgZ(0,"button",102),n.NdJ("mouseup",function(){n.CHM(C);const re=n.oxw(3);return n.KtG(re.changePage(!1))}),n._uU(1,"Suivant"),n.qZA()}}function xa(v,H){if(1&v){const C=n.EpF();n.TgZ(0,"form",24,25)(2,"mat-accordion",13)(3,"mat-expansion-panel",14)(4,"mat-expansion-panel-header")(5,"mat-panel-title"),n._uU(6," Informations g\xe9n\xe9rales "),n.qZA()(),n.TgZ(7,"div",15)(8,"mat-form-field",35)(9,"mat-label"),n._uU(10,"Raison sociale"),n.qZA(),n._UZ(11,"input",103),n.YNc(12,Wl,2,1,"mat-error",29),n.qZA(),n.TgZ(13,"mat-form-field",104)(14,"mat-label"),n._uU(15,"NIF"),n.qZA(),n._UZ(16,"input",105),n.YNc(17,Tc,2,1,"mat-error",29),n.qZA(),n.TgZ(18,"mat-form-field",39)(19,"mat-label"),n._uU(20,"Date ouverture"),n.qZA(),n._UZ(21,"input",106)(22,"mat-datepicker-toggle",44)(23,"mat-datepicker",null,107),n.YNc(25,sc,3,2,"mat-error",29),n.qZA(),n.TgZ(26,"mat-form-field",26)(27,"mat-label"),n._uU(28," Segment "),n.qZA(),n.TgZ(29,"mat-select",108),n.YNc(30,Yc,3,2,"ng-container",28),n.qZA()(),n.TgZ(31,"mat-form-field",30)(32,"mat-label"),n._uU(33," Statut juridique "),n.qZA(),n.TgZ(34,"mat-select",109),n.NdJ("selectionChange",function(re){n.CHM(C);const Fe=n.oxw(2);return n.KtG(Fe.changeStatut(re.value))}),n.YNc(35,Go,3,2,"ng-container",28),n.qZA()()()(),n.TgZ(36,"mat-expansion-panel",14)(37,"mat-expansion-panel-header")(38,"mat-panel-title"),n._uU(39," Informations compl\xe9mentaires "),n.qZA()(),n.TgZ(40,"div",15)(41,"mat-form-field",35)(42,"mat-label"),n._uU(43,"Chiffre d'affaire"),n.qZA(),n._UZ(44,"input",110),n.qZA(),n.TgZ(45,"mat-form-field",37)(46,"mat-label"),n._uU(47,"Capital social"),n.qZA(),n._UZ(48,"input",111),n.qZA(),n.TgZ(49,"mat-form-field",37)(50,"mat-label"),n._uU(51,"Nombre de salari\xe9s"),n.qZA(),n._UZ(52,"input",112),n.qZA()()(),n.TgZ(53,"mat-expansion-panel",14)(54,"mat-expansion-panel-header")(55,"mat-panel-title"),n._uU(56," Adresses "),n.qZA()(),n.TgZ(57,"div",15),n.YNc(58,Y,36,8,"form",16),n.qZA()(),n.TgZ(59,"mat-expansion-panel",14)(60,"mat-expansion-panel-header")(61,"mat-panel-title"),n._uU(62," Contacts "),n.qZA()(),n.TgZ(63,"div",15),n.YNc(64,Co,18,7,"form",16),n.qZA()()(),n.TgZ(65,"div",17)(66,"button",48),n.NdJ("mouseup",function(){n.CHM(C);const re=n.oxw(2);return n.KtG(re.back())}),n._uU(67,"Retour"),n.qZA(),n.YNc(68,om,2,0,"button",49),n.YNc(69,nu,2,0,"button",50),n.qZA()()}if(2&v){const C=n.MAs(1),le=n.MAs(24),re=n.oxw(2);n.Q6J("formGroup",re.formCreationPersonneMorale),n.xp6(3),n.Q6J("expanded",!0),n.xp6(9),n.Q6J("ngIf",re.formCreationPersonneMorale.controls.raisonSocial.errors),n.xp6(5),n.Q6J("ngIf",re.formCreationPersonneMorale.controls.nif.errors),n.xp6(4),n.Q6J("max",re.minDate)("matDatepicker",le),n.xp6(1),n.Q6J("for",le),n.xp6(3),n.Q6J("ngIf",re.formCreationPersonneMorale.controls.dateOuverture.errors),n.xp6(5),n.Q6J("ngForOf",re.typesEntreprise),n.xp6(5),n.Q6J("ngForOf",re.statuts),n.xp6(1),n.Q6J("expanded",!0),n.xp6(17),n.Q6J("expanded",!0),n.xp6(5),n.Q6J("ngIf",re.formCreationAdresse),n.xp6(1),n.Q6J("expanded",!0),n.xp6(5),n.Q6J("ngIf",re.formCreationContact),n.xp6(4),n.Q6J("ngIf",C.invalid||0==re.adresses.data.length||0==re.contacts.data.length),n.xp6(1),n.Q6J("ngIf",!C.invalid&&0!=re.adresses.data.length&&0!=re.contacts.data.length)}}function Ys(v,H){if(1&v&&(n.TgZ(0,"div",12),n.YNc(1,xa,70,17,"form",16),n.qZA()),2&v){const C=n.oxw();n.xp6(1),n.Q6J("ngIf",C.formCreationPersonneMorale)}}function Nu(v,H){1&v&&n._uU(0,"Donn\xe9es professionnelles")}function Pc(v,H){if(1&v&&(n.ynx(0),n.TgZ(1,"mat-option",9),n._uU(2),n.qZA(),n.BQk()),2&v){const C=H.$implicit;n.xp6(1),n.Q6J("value",C),n.xp6(1),n.Oqu(C.description)}}function Iu(v,H){if(1&v&&(n.ynx(0),n.TgZ(1,"mat-option",9),n._uU(2),n.qZA(),n.BQk()),2&v){const C=H.$implicit;n.xp6(1),n.Q6J("value",C),n.xp6(1),n.Oqu(C.description)}}function cc(v,H){if(1&v&&(n.TgZ(0,"mat-form-field",30)(1,"mat-label"),n._uU(2," Profession "),n.qZA(),n.TgZ(3,"mat-select",116),n.YNc(4,Iu,3,2,"ng-container",28),n.qZA()()),2&v){const C=n.oxw(2);n.xp6(4),n.Q6J("ngForOf",C.professions)}}function rm(v,H){if(1&v){const C=n.EpF();n.TgZ(0,"button",66),n.NdJ("click",function(){n.CHM(C),n.oxw(2);const re=n.MAs(1),Fe=n.oxw();return n.KtG(Fe.ajouterSecteur(re))}),n.TgZ(1,"mat-icon",117),n._uU(2,"add_circle"),n.qZA(),n._uU(3," Ajouter le secteur d'activit\xe9 "),n.qZA()}}function hl(v,H){if(1&v){const C=n.EpF();n.TgZ(0,"button",68),n.NdJ("click",function(){n.CHM(C),n.oxw(2);const re=n.MAs(1),Fe=n.oxw();return n.KtG(Fe.ajouterSecteur(re))}),n.TgZ(1,"mat-icon",117),n._uU(2,"add_circle"),n.qZA(),n._uU(3," Ajouter le secteur d'activit\xe9 "),n.qZA()}}function km(v,H){if(1&v&&(n.TgZ(0,"div",62),n.YNc(1,rm,4,0,"button",63),n.YNc(2,hl,4,0,"button",64),n.qZA()),2&v){const C=n.oxw(2);n.xp6(1),n.Q6J("ngIf",""!=C.formCreationProfession.value.secteurActivite&&""!=C.formCreationProfession.value.profession),n.xp6(1),n.Q6J("ngIf",""==C.formCreationProfession.value.secteurActivite||""==C.formCreationProfession.value.profession)}}function Yl(v,H){if(1&v&&(n.TgZ(0,"th",84)(1,"div",85)(2,"span"),n._uU(3,"Liste des professions "),n.qZA()()()),2&v){const C=n.oxw(3);n.uIk("colspan",C.lengthColumnsProfession)}}function Cl(v,H){1&v&&(n.TgZ(0,"th",84),n._uU(1," Secteur d'activit\xe9 "),n.qZA())}function Sr(v,H){if(1&v&&(n.TgZ(0,"td",86),n._uU(1),n.qZA()),2&v){const C=H.$implicit;n.xp6(1),n.hij(" ",C.secteurActivite.description," ")}}function Eu(v,H){1&v&&(n.TgZ(0,"th",84),n._uU(1," Profession "),n.qZA())}function xl(v,H){if(1&v&&(n.TgZ(0,"td",86),n._uU(1),n.qZA()),2&v){const C=H.$implicit;n.xp6(1),n.hij(" ",C.profession.description," ")}}function iu(v,H){1&v&&(n.TgZ(0,"th",84),n._uU(1," Action "),n.qZA())}function ou(v,H){if(1&v){const C=n.EpF();n.TgZ(0,"td",86)(1,"mat-icon",122),n.NdJ("click",function(){const Fe=n.CHM(C).index,ti=n.oxw(3);return n.KtG(ti.delete("profession",Fe))}),n._uU(2," delete"),n.qZA()()}}function Ru(v,H){1&v&&n._UZ(0,"tr",88)}function am(v,H){1&v&&n._UZ(0,"tr",89)}function ru(v,H){1&v&&n._UZ(0,"tr",90)}const Xl=function(){return["header-profession"]};function ec(v,H){if(1&v&&(n.TgZ(0,"div",69)(1,"table",118),n.ynx(2,119),n.YNc(3,Yl,4,1,"th",72),n.BQk(),n.ynx(4,120),n.YNc(5,Cl,2,0,"th",72),n.YNc(6,Sr,2,1,"td",74),n.BQk(),n.ynx(7,121),n.YNc(8,Eu,2,0,"th",72),n.YNc(9,xl,2,1,"td",74),n.BQk(),n.ynx(10,79),n.YNc(11,iu,2,0,"th",72),n.YNc(12,ou,3,0,"td",74),n.BQk(),n.YNc(13,Ru,1,0,"tr",80),n.YNc(14,am,1,0,"tr",81),n.YNc(15,ru,1,0,"tr",82),n.qZA(),n._UZ(16,"mat-paginator",83),n.qZA()),2&v){const C=n.oxw(2);n.xp6(1),n.Q6J("dataSource",C.professionsPersonne),n.xp6(12),n.Q6J("matHeaderRowDef",n.DdM(6,Xl)),n.xp6(1),n.Q6J("matHeaderRowDef",C.displayedColumnsProfession),n.xp6(1),n.Q6J("matRowDefColumns",C.displayedColumnsProfession),n.xp6(1),n.Q6J("pageSize",5)("pageSizeOptions",n.DdM(7,wr))}}function vl(v,H){if(1&v&&(n.TgZ(0,"form",24,113)(2,"div",55)(3,"div",59)(4,"mat-form-field",26)(5,"mat-label"),n._uU(6," secteur d'activit\xe9 "),n.qZA(),n.TgZ(7,"mat-select",114),n.YNc(8,Pc,3,2,"ng-container",28),n.qZA()(),n.YNc(9,cc,5,1,"mat-form-field",34),n.qZA(),n.YNc(10,km,3,2,"div",115),n.qZA(),n.YNc(11,ec,17,8,"div",65),n.qZA()),2&v){const C=n.oxw();n.Q6J("formGroup",C.formCreationProfession),n.xp6(8),n.Q6J("ngForOf",C.secteursActivite),n.xp6(1),n.Q6J("ngIf",C.personne),n.xp6(1),n.Q6J("ngIf",C.personne),n.xp6(1),n.Q6J("ngIf",0!=C.professionsPersonne.data.length)}}function Fa(v,H){if(1&v&&(n.ynx(0),n.TgZ(1,"mat-option",9),n._uU(2),n.qZA(),n.BQk()),2&v){const C=H.$implicit;n.xp6(1),n.Q6J("value",C),n.xp6(1),n.Oqu(C.description)}}function au(v,H){if(1&v&&(n.ynx(0),n.TgZ(1,"mat-option",9),n._uU(2),n.qZA(),n.BQk()),2&v){const C=H.$implicit;n.xp6(1),n.Q6J("value",C),n.xp6(1),n.Oqu(C)}}function zc(v,H){if(1&v&&(n.TgZ(0,"mat-form-field",104)(1,"mat-label"),n._uU(2," Categories "),n.qZA(),n.TgZ(3,"mat-select",134),n.YNc(4,au,3,2,"ng-container",28),n.qZA()()),2&v){const C=n.oxw(2);n.xp6(4),n.Q6J("ngForOf",C.categories)}}function su(v,H){1&v&&n._UZ(0,"input",135)}function sm(v,H){1&v&&(n.TgZ(0,"div"),n._uU(1," Le N\xb0Passport est incorrect "),n.qZA())}function Du(v,H){if(1&v&&(n.TgZ(0,"mat-error",51),n.YNc(1,sm,2,0,"div",52),n.qZA()),2&v){const C=n.oxw(2);n.xp6(1),n.Q6J("ngIf",C.formCreationDocument.controls.description.errors.pattern)}}function ji(v,H){1&v&&n._UZ(0,"input",136)}function uc(v,H){1&v&&(n.TgZ(0,"div"),n._uU(1," Le N\xb0Permis est incorrect "),n.qZA())}function Zc(v,H){if(1&v&&(n.TgZ(0,"mat-error",51),n.YNc(1,uc,2,0,"div",52),n.qZA()),2&v){const C=n.oxw(2);n.xp6(1),n.Q6J("ngIf",C.formCreationDocument.controls.description.errors.pattern)}}function mc(v,H){1&v&&n._UZ(0,"input",56)}function No(v,H){if(1&v&&(n.ynx(0),n.TgZ(1,"mat-option",9),n._uU(2),n.qZA(),n.BQk()),2&v){const C=H.$implicit;n.xp6(1),n.Q6J("value",C),n.xp6(1),n.Oqu(C.description)}}function qc(v,H){if(1&v&&(n.ynx(0),n.TgZ(1,"mat-option",9),n._uU(2),n.qZA(),n.BQk()),2&v){const C=H.$implicit;n.xp6(1),n.Q6J("value",C),n.xp6(1),n.Oqu(C.description)}}function Vc(v,H){if(1&v){const C=n.EpF();n.TgZ(0,"button",66),n.NdJ("click",function(){n.CHM(C),n.oxw();const re=n.MAs(1),Fe=n.oxw();return n.KtG(Fe.ajouterDocument(re))}),n.TgZ(1,"mat-icon",137),n._uU(2,"add_circle"),n.qZA(),n._uU(3," Ajouter le document "),n.qZA()}}function lm(v,H){if(1&v){const C=n.EpF();n.TgZ(0,"button",68),n.NdJ("click",function(){n.CHM(C),n.oxw();const re=n.MAs(1),Fe=n.oxw();return n.KtG(Fe.ajouterDocument(re))}),n.TgZ(1,"mat-icon",137),n._uU(2,"add_circle"),n.qZA(),n._uU(3," Ajouter le document "),n.qZA()}}function lu(v,H){if(1&v&&(n.TgZ(0,"th",84)(1,"div",85)(2,"span"),n._uU(3,"Liste des documents "),n.qZA()()()),2&v){const C=n.oxw(3);n.uIk("colspan",C.lengthColumnsDocument)}}function cm(v,H){1&v&&(n.TgZ(0,"th",84),n._uU(1," Type document "),n.qZA())}function Al(v,H){if(1&v&&(n.TgZ(0,"td",86),n._uU(1),n.qZA()),2&v){const C=H.$implicit;n.xp6(1),n.hij(" ",C.typeDocument.description," ")}}function cu(v,H){1&v&&(n.TgZ(0,"th",84),n._uU(1," Description "),n.qZA())}function Fr(v,H){if(1&v&&(n.TgZ(0,"td",86),n._uU(1),n.qZA()),2&v){const C=H.$implicit;n.xp6(1),n.hij(" ",C.description," ")}}function Qa(v,H){1&v&&(n.TgZ(0,"th",84),n._uU(1," Date delivrance "),n.qZA())}function rs(v,H){if(1&v&&(n.TgZ(0,"td",86),n._uU(1),n.ALo(2,"date"),n.qZA()),2&v){const C=H.$implicit;n.xp6(1),n.hij(" ",n.xi3(2,1,C.dateDelivrance,"dd/MM/yyyy")," ")}}function jc(v,H){1&v&&(n.TgZ(0,"th",84),n._uU(1," Date expiration "),n.qZA())}function tc(v,H){if(1&v&&(n.TgZ(0,"td",86),n._uU(1),n.ALo(2,"date"),n.qZA()),2&v){const C=H.$implicit;n.xp6(1),n.hij(" ",n.xi3(2,1,C.dateExpiration,"dd/MM/yyyy")," ")}}function as(v,H){1&v&&(n.TgZ(0,"th",84),n._uU(1," Wilaya "),n.qZA())}function Tl(v,H){if(1&v&&(n.TgZ(0,"td",86),n._uU(1),n.qZA()),2&v){const C=H.$implicit;n.xp6(1),n.hij(" ",C.wilaya.description," ")}}function uu(v,H){1&v&&(n.TgZ(0,"th",84),n._uU(1," Commune "),n.qZA())}function um(v,H){if(1&v&&(n.TgZ(0,"td",86),n._uU(1),n.qZA()),2&v){const C=H.$implicit;n.xp6(1),n.hij(" ",C.commune.description," ")}}function Sc(v,H){1&v&&(n.TgZ(0,"th",84),n._uU(1," Action "),n.qZA())}function mm(v,H){if(1&v){const C=n.EpF();n.TgZ(0,"td",86)(1,"mat-icon",143),n.NdJ("click",function(){const Fe=n.CHM(C).index,ti=n.oxw(3);return n.KtG(ti.delete("document",Fe))}),n._uU(2," delete"),n.qZA()()}}function wu(v,H){1&v&&n._UZ(0,"tr",88)}function Qr(v,H){1&v&&n._UZ(0,"tr",89)}function yc(v,H){1&v&&n._UZ(0,"tr",90)}const Hc=function(){return["header-document"]};function Gs(v,H){if(1&v&&(n.TgZ(0,"div",69)(1,"table",138),n.ynx(2,139),n.YNc(3,lu,4,1,"th",72),n.BQk(),n.ynx(4,140),n.YNc(5,cm,2,0,"th",72),n.YNc(6,Al,2,1,"td",74),n.BQk(),n.ynx(7,73),n.YNc(8,cu,2,0,"th",72),n.YNc(9,Fr,2,1,"td",74),n.BQk(),n.ynx(10,141),n.YNc(11,Qa,2,0,"th",72),n.YNc(12,rs,3,4,"td",74),n.BQk(),n.ynx(13,142),n.YNc(14,jc,2,0,"th",72),n.YNc(15,tc,3,4,"td",74),n.BQk(),n.ynx(16,76),n.YNc(17,as,2,0,"th",72),n.YNc(18,Tl,2,1,"td",74),n.BQk(),n.ynx(19,77),n.YNc(20,uu,2,0,"th",72),n.YNc(21,um,2,1,"td",74),n.BQk(),n.ynx(22,79),n.YNc(23,Sc,2,0,"th",72),n.YNc(24,mm,3,0,"td",74),n.BQk(),n.YNc(25,wu,1,0,"tr",80),n.YNc(26,Qr,1,0,"tr",81),n.YNc(27,yc,1,0,"tr",82),n.qZA(),n._UZ(28,"mat-paginator",83),n.qZA()),2&v){const C=n.oxw(2);n.xp6(1),n.Q6J("dataSource",C.documentPersonne),n.xp6(24),n.Q6J("matHeaderRowDef",n.DdM(6,Hc)),n.xp6(1),n.Q6J("matHeaderRowDef",C.displayedColumnsDocument),n.xp6(1),n.Q6J("matRowDefColumns",C.displayedColumnsDocument),n.xp6(1),n.Q6J("pageSize",5)("pageSizeOptions",n.DdM(7,wr))}}function mu(v,H){if(1&v){const C=n.EpF();n.TgZ(0,"form",24,25)(2,"div",55)(3,"mat-form-field",123)(4,"mat-label"),n._uU(5," Type document "),n.qZA(),n.TgZ(6,"mat-select",124),n.NdJ("selectionChange",function(){n.CHM(C);const re=n.oxw();return n.KtG(re.enableDocument())}),n.YNc(7,Fa,3,2,"ng-container",28),n.qZA()(),n.YNc(8,zc,5,1,"mat-form-field",125),n.TgZ(9,"mat-form-field",126)(10,"mat-label"),n._uU(11," Description document "),n.qZA(),n.YNc(12,su,1,0,"input",127),n.YNc(13,Du,2,1,"mat-error",29),n.YNc(14,ji,1,0,"input",128),n.YNc(15,Zc,2,1,"mat-error",29),n.YNc(16,mc,1,0,"input",129),n.qZA(),n.TgZ(17,"mat-form-field",26)(18,"mat-label"),n._uU(19,"Date d\xe9livrance"),n.qZA(),n.TgZ(20,"input",130),n.NdJ("dateChange",function(re){n.CHM(C);const Fe=n.oxw();return n.KtG(Fe.debutDateChange(re.value))}),n.qZA(),n._UZ(21,"mat-datepicker-toggle",44)(22,"mat-datepicker",null,131),n.qZA(),n.TgZ(24,"mat-form-field",30)(25,"mat-label"),n._uU(26,"Date expiration"),n.qZA(),n._UZ(27,"input",132)(28,"mat-datepicker-toggle",44)(29,"mat-datepicker",null,133),n.qZA(),n.TgZ(31,"div",59)(32,"mat-form-field",26)(33,"mat-label"),n._uU(34," Wilaya "),n.qZA(),n.TgZ(35,"mat-select",58),n.NdJ("selectionChange",function(re){n.CHM(C);const Fe=n.oxw();return n.KtG(Fe.getCommuneByWilaya(re.value))}),n.YNc(36,No,3,2,"ng-container",28),n.qZA()(),n.TgZ(37,"mat-form-field",30)(38,"mat-label"),n._uU(39," Commune "),n.qZA(),n.TgZ(40,"mat-select",60),n.NdJ("selectionChange",function(re){n.CHM(C);const Fe=n.oxw();return n.KtG(Fe.getCodeByCommune(re.value))}),n.YNc(41,qc,3,2,"ng-container",28),n.qZA(),n.TgZ(42,"mat-hint"),n._uU(43,"Veuillez saisir la wilaya avant !"),n.qZA()()(),n.TgZ(44,"div",62),n.YNc(45,Vc,4,0,"button",63),n.YNc(46,lm,4,0,"button",64),n.qZA()(),n.YNc(47,Gs,29,8,"div",65),n.qZA()}if(2&v){const C=n.MAs(23),le=n.MAs(30),re=n.oxw();n.Q6J("formGroup",re.formCreationDocument),n.xp6(3),n.Tol(5==(null==re.formCreationDocument.value.typeDocument?null:re.formCreationDocument.value.typeDocument.idParam)?"col-md-4":"col-md-6"),n.xp6(4),n.Q6J("ngForOf",re.types_document),n.xp6(1),n.Q6J("ngIf",5==(null==re.formCreationDocument.value.typeDocument?null:re.formCreationDocument.value.typeDocument.idParam)),n.xp6(1),n.Tol(5==(null==re.formCreationDocument.value.typeDocument?null:re.formCreationDocument.value.typeDocument.idParam)?"col-md-4":"col-md-6"),n.xp6(3),n.Q6J("ngIf",6==(null==re.formCreationDocument.value.typeDocument?null:re.formCreationDocument.value.typeDocument.idParam)),n.xp6(1),n.Q6J("ngIf",re.formCreationDocument.controls.description.errors&&6==(null==re.formCreationDocument.value.typeDocument?null:re.formCreationDocument.value.typeDocument.idParam)),n.xp6(1),n.Q6J("ngIf",5==(null==re.formCreationDocument.value.typeDocument?null:re.formCreationDocument.value.typeDocument.idParam)),n.xp6(1),n.Q6J("ngIf",re.formCreationDocument.controls.description.errors&&5==(null==re.formCreationDocument.value.typeDocument?null:re.formCreationDocument.value.typeDocument.idParam)),n.xp6(1),n.Q6J("ngIf",5!=(null==re.formCreationDocument.value.typeDocument?null:re.formCreationDocument.value.typeDocument.idParam)&&6!=(null==re.formCreationDocument.value.typeDocument?null:re.formCreationDocument.value.typeDocument.idParam)),n.xp6(4),n.Q6J("matDatepicker",C),n.xp6(1),n.Q6J("for",C),n.xp6(6),n.Q6J("matDatepicker",le),n.xp6(1),n.Q6J("for",le),n.xp6(8),n.Q6J("ngForOf",re.wilayas),n.xp6(5),n.Q6J("ngForOf",re.communes),n.xp6(4),n.Q6J("ngIf",""!=re.formCreationDocument.value.typeDocument&&""!=re.formCreationDocument.value.description),n.xp6(1),n.Q6J("ngIf",""==re.formCreationDocument.value.typeDocument||""==re.formCreationDocument.value.description),n.xp6(1),n.Q6J("ngIf",0!=re.documentPersonne.data.length)}}function $c(v,H){1&v&&n._uU(0,"Donn\xe9es bancaires et relations")}function bl(v,H){1&v&&(n.TgZ(0,"div"),n._uU(1," Format RIB invalide "),n.qZA())}function Ou(v,H){if(1&v&&(n.TgZ(0,"mat-error",51),n.YNc(1,bl,2,0,"div",52),n.qZA()),2&v){const C=n.oxw(2);n.xp6(1),n.Q6J("ngIf",C.formCreationRib.controls.description.errors.pattern)}}function Xr(v,H){1&v&&(n.TgZ(0,"div"),n._uU(1," Format swift invalide "),n.qZA())}function Kc(v,H){if(1&v&&(n.TgZ(0,"mat-error",51),n.YNc(1,Xr,2,0,"div",52),n.qZA()),2&v){const C=n.oxw(2);n.xp6(1),n.Q6J("ngIf",C.formCreationRib.controls.swift.errors.pattern)}}function ku(v,H){if(1&v){const C=n.EpF();n.TgZ(0,"button",66),n.NdJ("click",function(){n.CHM(C),n.oxw();const re=n.MAs(1),Fe=n.oxw();return n.KtG(Fe.ajouterRib(re))}),n.TgZ(1,"mat-icon",147),n._uU(2,"add_circle"),n.qZA(),n._uU(3," Ajouter le compte RIB "),n.qZA()}}function du(v,H){if(1&v){const C=n.EpF();n.TgZ(0,"button",68),n.NdJ("click",function(){n.CHM(C),n.oxw();const re=n.MAs(1),Fe=n.oxw();return n.KtG(Fe.ajouterRib(re))}),n.TgZ(1,"mat-icon",147),n._uU(2,"add_circle"),n.qZA(),n._uU(3," Ajouter le compte RIB "),n.qZA()}}function dm(v,H){if(1&v&&(n.TgZ(0,"th",84)(1,"div",85)(2,"span"),n._uU(3,"Liste des RIB "),n.qZA()()()),2&v){const C=n.oxw(3);n.uIk("colspan",C.lengthColumnsRIB)}}function _u(v,H){1&v&&(n.TgZ(0,"th",84),n._uU(1," N\xb0 RIB "),n.qZA())}function _m(v,H){if(1&v&&(n.TgZ(0,"td",86),n._uU(1),n.qZA()),2&v){const C=H.$implicit;n.xp6(1),n.hij(" ",C.description," ")}}function Nc(v,H){1&v&&(n.TgZ(0,"th",84),n._uU(1," N\xb0 Swift "),n.qZA())}function Mu(v,H){if(1&v&&(n.TgZ(0,"td",86),n._uU(1),n.qZA()),2&v){const C=H.$implicit;n.xp6(1),n.hij(" ",C.swift," ")}}function Uu(v,H){1&v&&(n.TgZ(0,"th",84),n._uU(1," Action "),n.qZA())}function Fu(v,H){if(1&v){const C=n.EpF();n.TgZ(0,"td",86)(1,"mat-icon",151),n.NdJ("click",function(){const Fe=n.CHM(C).index,ti=n.oxw(3);return n.KtG(ti.delete("rib",Fe))}),n._uU(2," delete"),n.qZA()()}}function Ic(v,H){1&v&&n._UZ(0,"tr",88)}function Ec(v,H){1&v&&n._UZ(0,"tr",89)}function Qu(v,H){1&v&&n._UZ(0,"tr",90)}const Rc=function(){return["header-rib"]};function pu(v,H){if(1&v&&(n.TgZ(0,"div",69)(1,"table",148),n.ynx(2,149),n.YNc(3,dm,4,1,"th",72),n.BQk(),n.ynx(4,73),n.YNc(5,_u,2,0,"th",72),n.YNc(6,_m,2,1,"td",74),n.BQk(),n.ynx(7,150),n.YNc(8,Nc,2,0,"th",72),n.YNc(9,Mu,2,1,"td",74),n.BQk(),n.ynx(10,79),n.YNc(11,Uu,2,0,"th",72),n.YNc(12,Fu,3,0,"td",74),n.BQk(),n.YNc(13,Ic,1,0,"tr",80),n.YNc(14,Ec,1,0,"tr",81),n.YNc(15,Qu,1,0,"tr",82),n.qZA(),n._UZ(16,"mat-paginator",83),n.qZA()),2&v){const C=n.oxw(2);n.xp6(1),n.Q6J("dataSource",C.ribPersonne),n.xp6(12),n.Q6J("matHeaderRowDef",n.DdM(6,Rc)),n.xp6(1),n.Q6J("matHeaderRowDef",C.displayedColumnsRIB),n.xp6(1),n.Q6J("matRowDefColumns",C.displayedColumnsRIB),n.xp6(1),n.Q6J("pageSize",5)("pageSizeOptions",n.DdM(7,wr))}}function pm(v,H){if(1&v&&(n.TgZ(0,"form",24,144)(2,"div",55)(3,"div",59)(4,"mat-form-field",26)(5,"mat-label"),n._uU(6,"N\xb0 RIB"),n.qZA(),n._UZ(7,"input",145),n.YNc(8,Ou,2,1,"mat-error",29),n.qZA(),n.TgZ(9,"mat-form-field",30)(10,"mat-label"),n._uU(11,"N\xb0 Swift"),n.qZA(),n._UZ(12,"input",146),n.YNc(13,Kc,2,1,"mat-error",29),n.qZA()(),n.TgZ(14,"div",62),n.YNc(15,ku,4,0,"button",63),n.YNc(16,du,4,0,"button",64),n.qZA()(),n.YNc(17,pu,17,8,"div",65),n.qZA()),2&v){const C=n.oxw();n.Q6J("formGroup",C.formCreationRib),n.xp6(8),n.Q6J("ngIf",C.formCreationRib.controls.description.errors),n.xp6(5),n.Q6J("ngIf",C.formCreationRib.controls.swift.errors),n.xp6(2),n.Q6J("ngIf",""!=C.formCreationRib.value.description&&C.formCreationRib.controls.description.valid),n.xp6(1),n.Q6J("ngIf",""==C.formCreationRib.value.description||!C.formCreationRib.controls.description.valid),n.xp6(1),n.Q6J("ngIf",0!=C.ribPersonne.data.length)}}function Ju(v,H){if(1&v&&n._UZ(0,"input",158),2&v){n.oxw();const C=n.MAs(9),le=n.oxw(2);n.Q6J("formControl",le.myControl)("matAutocomplete",C)}}function Wc(v,H){if(1&v&&(n.TgZ(0,"mat-option",9),n._uU(1),n.qZA()),2&v){const C=H.$implicit;n.Q6J("value",C.idClient),n.xp6(1),n.hij(" "," null"!=C.nom?C.nom+" "+C.prenom1:C.raisonSocial," ")}}function fu(v,H){if(1&v&&(n.ynx(0),n.TgZ(1,"mat-option",9),n._uU(2),n.qZA(),n.BQk()),2&v){const C=H.$implicit;n.xp6(1),n.Q6J("value",C),n.xp6(1),n.Oqu(C.description)}}function Bs(v,H){if(1&v){const C=n.EpF();n.TgZ(0,"button",66),n.NdJ("click",function(){n.CHM(C),n.oxw();const re=n.MAs(1),Fe=n.oxw(2);return n.KtG(Fe.ajouterRelation(re))}),n.TgZ(1,"mat-icon",159),n._uU(2,"add_circle"),n.qZA(),n._uU(3," Ajouter le lien de parent\xe9 "),n.qZA()}}function fm(v,H){if(1&v){const C=n.EpF();n.TgZ(0,"button",68),n.NdJ("click",function(){n.CHM(C),n.oxw();const re=n.MAs(1),Fe=n.oxw(2);return n.KtG(Fe.ajouterRelation(re))}),n.TgZ(1,"mat-icon",159),n._uU(2,"add_circle"),n.qZA(),n._uU(3," Ajouter le lien de parent\xe9 "),n.qZA()}}function gu(v,H){if(1&v&&(n.TgZ(0,"th",84)(1,"div",85)(2,"span"),n._uU(3,"Liste des liens de parent\xe9 "),n.qZA()()()),2&v){const C=n.oxw(4);n.uIk("colspan",C.lengthColumnsRelation)}}function fr(v,H){1&v&&(n.TgZ(0,"th",84),n._uU(1," N\xb0 Client "),n.qZA())}function ea(v,H){if(1&v&&(n.TgZ(0,"td",86),n._uU(1),n.qZA()),2&v){const C=H.$implicit;n.xp6(1),n.hij(" ",C.idClient," ")}}function $o(v,H){1&v&&(n.TgZ(0,"th",84),n._uU(1," Type relation "),n.qZA())}function pa(v,H){if(1&v&&(n.TgZ(0,"td",86),n._uU(1),n.qZA()),2&v){const C=H.$implicit;n.xp6(1),n.hij(" ",C.typeRelation.description," ")}}function Lu(v,H){1&v&&(n.TgZ(0,"th",84),n._uU(1," Action "),n.qZA())}function hu(v,H){if(1&v){const C=n.EpF();n.TgZ(0,"td",86)(1,"mat-icon",162),n.NdJ("click",function(){const Fe=n.CHM(C).index,ti=n.oxw(4);return n.KtG(ti.delete("relation",Fe))}),n._uU(2," delete"),n.qZA()()}}function Cu(v,H){1&v&&n._UZ(0,"tr",88)}function Dc(v,H){1&v&&n._UZ(0,"tr",89)}function Yu(v,H){1&v&&n._UZ(0,"tr",90)}function gm(v,H){if(1&v&&(n.TgZ(0,"div",69)(1,"table",148),n.ynx(2,149),n.YNc(3,gu,4,1,"th",72),n.BQk(),n.ynx(4,160),n.YNc(5,fr,2,0,"th",72),n.YNc(6,ea,2,1,"td",74),n.BQk(),n.ynx(7,161),n.YNc(8,$o,2,0,"th",72),n.YNc(9,pa,2,1,"td",74),n.BQk(),n.ynx(10,79),n.YNc(11,Lu,2,0,"th",72),n.YNc(12,hu,3,0,"td",74),n.BQk(),n.YNc(13,Cu,1,0,"tr",80),n.YNc(14,Dc,1,0,"tr",81),n.YNc(15,Yu,1,0,"tr",82),n.qZA(),n._UZ(16,"mat-paginator",83),n.qZA()),2&v){const C=n.oxw(3);n.xp6(1),n.Q6J("dataSource",C.relationPersonne),n.xp6(12),n.Q6J("matHeaderRowDef",n.DdM(6,Rc)),n.xp6(1),n.Q6J("matHeaderRowDef",C.displayedColumnsRelation),n.xp6(1),n.Q6J("matRowDefColumns",C.displayedColumnsRelation),n.xp6(1),n.Q6J("pageSize",5)("pageSizeOptions",n.DdM(7,wr))}}function Pl(v,H){if(1&v&&(n.TgZ(0,"form",24,152)(2,"div",55)(3,"div",59)(4,"mat-form-field",153)(5,"mat-label"),n._uU(6,"Assignee"),n.qZA(),n.YNc(7,Ju,1,2,"input",154),n.TgZ(8,"mat-autocomplete",null,155),n.YNc(10,Wc,2,2,"mat-option",156),n.ALo(11,"async"),n.qZA()(),n.TgZ(12,"mat-form-field",30)(13,"mat-label"),n._uU(14," Type relation "),n.qZA(),n.TgZ(15,"mat-select",157),n.YNc(16,fu,3,2,"ng-container",28),n.qZA()()(),n.TgZ(17,"div",62),n.YNc(18,Bs,4,0,"button",63),n.YNc(19,fm,4,0,"button",64),n.qZA()(),n.YNc(20,gm,17,8,"div",65),n.qZA()),2&v){const C=n.oxw(2);n.Q6J("formGroup",C.formCreationRelation),n.xp6(7),n.Q6J("ngIf",C.myControl),n.xp6(3),n.Q6J("ngForOf",n.lcZ(11,7,C.filteredOptions)),n.xp6(6),n.Q6J("ngForOf",C.types_relation),n.xp6(2),n.Q6J("ngIf",""!=C.formCreationRelation.value.typeRelation&&""!=C.myControl.value),n.xp6(1),n.Q6J("ngIf",""==C.formCreationRelation.value.typeRelation||""==C.myControl.value),n.xp6(1),n.Q6J("ngIf",0!=C.relationPersonne.data.length)}}function dc(v,H){if(1&v&&(n.TgZ(0,"mat-expansion-panel",14)(1,"mat-expansion-panel-header")(2,"mat-panel-title"),n._uU(3," Liens de parent\xe9 "),n.qZA()(),n.TgZ(4,"div",15),n.YNc(5,Pl,21,9,"form",16),n.qZA()()),2&v){const C=n.oxw();n.Q6J("expanded",!0),n.xp6(5),n.Q6J("ngIf",C.formCreationRelation)}}function Zl(v,H){1&v&&n._uU(0,"R\xe9sum\xe9")}function Gu(v,H){if(1&v&&(n.ynx(0),n._uU(1),n.BQk()),2&v){const C=H.$implicit;n.xp6(1),n.hij(" ",C.description,"\xa0 ")}}function xu(v,H){if(1&v&&(n.TgZ(0,"div",6)(1,"div",163)(2,"div",164),n._uU(3,"Nom :"),n.qZA(),n.TgZ(4,"div",165),n._uU(5),n.qZA(),n.TgZ(6,"div",164),n._uU(7,"Pr\xe9nom :"),n.qZA(),n.TgZ(8,"div",165),n._uU(9),n.qZA()(),n.TgZ(10,"div",166)(11,"div",164),n._uU(12,"Date de naissance :"),n.qZA(),n.TgZ(13,"div",165),n._uU(14),n.ALo(15,"date"),n.qZA(),n.TgZ(16,"div",164),n._uU(17,"Genre :"),n.qZA(),n.TgZ(18,"div",165),n._uU(19),n.qZA()(),n.TgZ(20,"div",163)(21,"div",164),n._uU(22,"Civilit\xe9 :"),n.qZA(),n.TgZ(23,"div",165),n._uU(24),n.qZA(),n.TgZ(25,"div",164),n._uU(26,"RIB :"),n.qZA(),n.TgZ(27,"div",165),n._uU(28),n.qZA()(),n.TgZ(29,"div",166)(30,"div",164),n._uU(31,"Adresse :"),n.qZA(),n.TgZ(32,"div",165),n._uU(33),n.qZA(),n.TgZ(34,"div",164),n._uU(35,"Nationalit\xe9 :"),n.qZA(),n.TgZ(36,"div",165),n.YNc(37,Gu,2,1,"ng-container",28),n.qZA()(),n.TgZ(38,"div",163)(39,"div",164),n._uU(40,"Contact :"),n.qZA(),n.TgZ(41,"div",165),n._uU(42),n.qZA(),n.TgZ(43,"div",164),n._uU(44,"Profession :"),n.qZA(),n.TgZ(45,"div",165),n._uU(46),n.qZA()(),n.TgZ(47,"div",166)(48,"div",164),n._uU(49,"Secteur d'activit\xe9 :"),n.qZA(),n.TgZ(50,"div",165),n._uU(51),n.qZA()()()),2&v){const C=n.oxw();n.xp6(5),n.Oqu(null==C.formCreationPersonnePhysique?null:C.formCreationPersonnePhysique.value.nom),n.xp6(4),n.Oqu(null==C.formCreationPersonnePhysique?null:C.formCreationPersonnePhysique.value.prenom1),n.xp6(5),n.Oqu(n.xi3(15,11,null==C.formCreationPersonnePhysique?null:C.formCreationPersonnePhysique.value.dateNaissance,"dd/MM/yyyy")),n.xp6(5),n.Oqu(16==(null==C.formCreationPersonnePhysique?null:C.formCreationPersonnePhysique.value.sexe)?"Homme":"Femme"),n.xp6(5),n.Oqu(28==(null==C.formCreationPersonnePhysique?null:C.formCreationPersonnePhysique.value.titre)?"Monsieur":"Madame"),n.xp6(4),n.hij(" ",0!=C.ribPersonne.data.length?C.ribPersonne.data[0].description:""," "),n.xp6(5),n.Oqu(0!=C.adresses.data.length?C.adresses.data[0].description:""),n.xp6(4),n.Q6J("ngForOf",null==C.formCreationPersonnePhysique?null:C.formCreationPersonnePhysique.value.nationalite),n.xp6(5),n.Oqu(0!=C.contacts.data.length?C.contacts.data[0].description:""),n.xp6(4),n.Oqu(0!=C.professionsPersonne.data.length?C.professionsPersonne.data[0].profession.description:""),n.xp6(5),n.Oqu(0!=C.professionsPersonne.data.length?C.professionsPersonne.data[0].secteurActivite.description:"")}}function lo(v,H){if(1&v&&(n.TgZ(0,"div",6)(1,"div",163)(2,"div",164),n._uU(3,"Raison sociale :"),n.qZA(),n.TgZ(4,"div",165),n._uU(5),n.qZA(),n.TgZ(6,"div",164),n._uU(7,"NIF :"),n.qZA(),n.TgZ(8,"div",165),n._uU(9),n.qZA()(),n.TgZ(10,"div",166)(11,"div",164),n._uU(12,"Date d'ouverture :"),n.qZA(),n.TgZ(13,"div",165),n._uU(14),n.ALo(15,"date"),n.qZA(),n.TgZ(16,"div",164),n._uU(17,"Capitale sociale :"),n.qZA(),n.TgZ(18,"div",165),n._uU(19),n.qZA()(),n.TgZ(20,"div",163)(21,"div",164),n._uU(22,"Chiffre d'affaire :"),n.qZA(),n.TgZ(23,"div",165),n._uU(24),n.qZA(),n.TgZ(25,"div",164),n._uU(26,"Statut juridique :"),n.qZA(),n.TgZ(27,"div",165),n._uU(28),n.qZA()(),n.TgZ(29,"div",166)(30,"div",164),n._uU(31,"Adresse :"),n.qZA(),n.TgZ(32,"div",165),n._uU(33),n.qZA(),n.TgZ(34,"div",164),n._uU(35,"RIB :"),n.qZA(),n.TgZ(36,"div",165),n._uU(37),n.qZA()(),n.TgZ(38,"div",163)(39,"div",164),n._uU(40,"Contact :"),n.qZA(),n.TgZ(41,"div",165),n._uU(42),n.qZA(),n.TgZ(43,"div",164),n._uU(44,"Secteur d'activit\xe9 :"),n.qZA(),n.TgZ(45,"div",165),n._uU(46),n.qZA()()()),2&v){const C=n.oxw();n.xp6(5),n.Oqu(null==C.formCreationPersonneMorale?null:C.formCreationPersonneMorale.value.raisonSocial),n.xp6(4),n.Oqu(null==C.formCreationPersonneMorale?null:C.formCreationPersonneMorale.value.nif),n.xp6(5),n.Oqu(n.xi3(15,10,null==C.formCreationPersonneMorale?null:C.formCreationPersonneMorale.value.dateOuverture,"dd/MM/yyyy")),n.xp6(5),n.Oqu(null==C.formCreationPersonneMorale?null:C.formCreationPersonneMorale.value.capitaleSocial),n.xp6(5),n.Oqu(null==C.formCreationPersonneMorale?null:C.formCreationPersonneMorale.value.chiffreAffaire),n.xp6(4),n.Oqu(null==C.formCreationPersonneMorale?null:C.formCreationPersonneMorale.value.statue),n.xp6(5),n.Oqu(0!=C.adresses.data.length?C.adresses.data[0].description:""),n.xp6(4),n.hij(" ",0!=C.ribPersonne.data.length?C.ribPersonne.data[0].description:""," "),n.xp6(5),n.Oqu(0!=C.contacts.data.length?C.contacts.data[0].description:""),n.xp6(4),n.Oqu(null==C.formCreationProfession?null:C.formCreationProfession.value.secteurActivite.description)}}let hm=(()=>{class v{constructor(C,le,re,Fe){this.router=C,this.formBuilderAuth=le,this.personneService=re,this.genericService=Fe,this.personneCreationError=!1,this.personneCreationSuccess=!1,this.personne=!1,this.statuts=["EURL","SNC","SARL","SPA","SPASU","SPAS","Groupement","Association","Fondation","Artisan","Profession lib\xe9rale","Personne physique commercante"],this.categories=["A","B","C"],this.minDate=new Date,this.myControl=new e.NI(""),this.message=!1,this.adresses=new w.by,this.displayedColumnsAdresse=["description","pays","wilaya","commune","codePostal","action"],this.lengthColumnsAdresse=this.displayedColumnsAdresse.length,this.modalites=new w.by,this.displayedColumnsModalite=["typeModalite","tauxModalite","action"],this.lengthColumnsModalite=this.displayedColumnsModalite.length,this.contacts=new w.by,this.displayedColumnsContact=["typeContact","description","dateDebut","action"],this.lengthColumnsContact=this.displayedColumnsContact.length,this.professionsPersonne=new w.by,this.displayedColumnsProfession=["secteurActivite","profession","action"],this.lengthColumnsProfession=this.displayedColumnsProfession.length,this.documentPersonne=new w.by,this.displayedColumnsDocument=["typeDocument","description","dateDelivrance","dateExpiration","wilaya","commune","action"],this.lengthColumnsDocument=this.displayedColumnsDocument.length,this.ribPersonne=new w.by,this.displayedColumnsRIB=["description","swift","action"],this.lengthColumnsRIB=this.displayedColumnsRIB.length,this.relationPersonne=new w.by,this.displayedColumnsRelation=["DNI","typeRelation","action"],this.lengthColumnsRelation=this.displayedColumnsRelation.length,this.isLoogedOut=!1,this.msg=!1}changePage(C){this.message=C,this.ScollToTop()}ScollToTop(){document.getElementById("containerRef")?.scrollTo({top:100,behavior:"smooth"})}changeStatut(C){switch(console.log(C),C){case"EURL":case"SNC":case"SARL":case"SPA":case"SPASU":case"SPAS":this.formCreationPersonneMorale.get("nif").setValidators([e.kI.required]);break;default:this.formCreationPersonneMorale.get("nif").setValidators([])}this.formCreationPersonneMorale.get("nif").updateValueAndValidity()}ngOnInit(){var C=this;return(0,Vi.Z)(function*(){C.getAllParameters(),C.formCreationPersonnePhysique=yield C.formBuilderAuth.group({nom:["",[e.kI.required]],titre:[""],nomJeuneFille:[""],prenom1:["",[e.kI.required]],prenom2:[""],prenom3:[""],sexe:["",[e.kI.required]],situationFamiliale:[""],nationalite:[[],[e.kI.required]],nationalitesList:[[]],pays:[""],wilaya:[""],commune:[""],nin:[""],vip:[!1],dateNaissance:["",[e.kI.required]],dateDebut:[new Date],dateFin:[""],auditUser:["latif"],professionSecteur:[[]],modaliteList:[[]],donneBancaireList:[[]],documentList:[[]],contactList:[[]],adressesList:[[]],relationList:[[]]}),C.formCreationPersonneMorale=yield C.formBuilderAuth.group({raisonSocial:["",[e.kI.required]],typeEntreprise:[""],capitaleSocial:[""],statue:[""],chiffreAffaire:[""],secteurActivite:[""],nombreSalarie:[""],nif:[null,[e.kI.required,e.kI.pattern(ei.e.NIF)]],vip:[!1],dateOuverture:[""],dateDebut:[new Date],dateFin:[""],auditUser:[null],professionSecteur:[[]],donneBancaireList:[[]],documentList:[[]],contactList:[[]],adressesList:[[]],relationList:[[]]}),C.formCreationAdresse=yield C.formBuilderAuth.group({description:["",[e.kI.required]],pays:["",[e.kI.required]],wilaya:["",[e.kI.required]],commune:["",[e.kI.required]],codePostal:["",[e.kI.required]]}),C.formCreationContact=yield C.formBuilderAuth.group({typeContact:["",[e.kI.required]],description:[{value:"",disabled:!0},[e.kI.required]],dateDebut:[new Date]}),C.formCreationProfession=yield C.formBuilderAuth.group({secteurActivite:[""],profession:[""],dateDebutProfession:[new Date],dateFinProfession:[""]}),C.formCreationDocument=yield C.formBuilderAuth.group({typeDocument:[""],description:[{value:"",disabled:!0}],dateDelivrance:[{value:"",disabled:!0}],dateExpiration:[{value:"",disabled:!0}],wilaya:[{value:"",disabled:!0}],commune:[{value:"",disabled:!0}],sousCategorie:[""]}),C.formCreationRib=yield C.formBuilderAuth.group({description:[""],swift:[""],dateDebut:[new Date],dateFin:[""]}),C.formCreationRelation=yield C.formBuilderAuth.group({idClient:[""],typeRelation:[""],dateDebut:[new Date],dateFin:[""]}),C.filteredOptions=yield C.myControl.valueChanges.pipe((0,Ma.O)(""),(0,ar.U)(le=>{const re="string"==typeof le?le:le?.nom?le?.nom+le?.prenom1:le?.raisonSocial;return re?C._filter(re):C.personnes?.slice()}))})()}enableContact(C){this.formCreationContact.get("description").enable(),"email"==C?(this.formCreationContact.get("description").setValue(""),this.formCreationContact.get("description").setValidators([e.kI.pattern(ei.e.email)]),this.somePlaceholder="exemple@exemple.com"):"fix"==C||"fax"==C?(this.formCreationContact.get("description").setValue("+213"),this.formCreationContact.get("description").setValidators([e.kI.pattern(ei.e.indicatifFix)]),this.somePlaceholder="+213"):(this.formCreationContact.get("description").setValue("+213"),this.formCreationContact.get("description").setValidators([e.kI.pattern(ei.e.indicatifMobile)]),this.somePlaceholder="+213")}enableDocument(){this.formCreationDocument.get("description").enable(),this.formCreationDocument.get("dateDelivrance").enable(),this.formCreationDocument.get("dateExpiration").enable(),this.formCreationDocument.get("wilaya").enable(),this.formCreationDocument.get("commune").enable()}delete(C,le){tt().fire({title:"Etes vous sur de vouloir supprimer ?",text:"",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Oui",cancelButtonText:"Non"}).then(re=>{if(re.isConfirmed)switch(C){case"adresse":let Fe=this.adresses.data;Fe.splice(le,1),this.adresses=new w.by(Fe);break;case"contact":let ti=this.contacts.data;this.contacts.data.splice(le,1),this.contacts=new w.by(ti);break;case"profession":let qo=this.professionsPersonne.data;this.professionsPersonne.data.splice(le,1),this.professionsPersonne=new w.by(qo);break;case"document":let Vs=this.documentPersonne.data;this.documentPersonne.data.splice(le,1),this.documentPersonne=new w.by(Vs);break;case"rib":let Ya=this.ribPersonne.data;this.ribPersonne.data.splice(le,1),this.ribPersonne=new w.by(Ya);break;case"relation":let Fc=this.relationPersonne.data;this.relationPersonne.data.splice(le,1),this.relationPersonne=new w.by(Fc)}})}_filter(C){const le=C.toLowerCase();return this.personnes.filter(re=>re.nom?(re.nom+re.prenom1).toLowerCase().includes(le):re.raisonSocial.toLowerCase().includes(le))}getCommuneByWilaya(C){this.genericService.getAllCommuneByWilaya(null==C.idWilaya?C:C.idWilaya).subscribe({next:re=>{this.communes=re},error:re=>{console.log(re)}})}getCodeByCommune(C){this.genericService.getAllCodeByCommune(null==C.idCommune?C:C.idCommune).subscribe({next:re=>{this.codesPostal=re},error:re=>{console.log(re)}})}getAllParameters(){this.genericService.getParam(JSON.parse(sessionStorage.getItem("dictionnaire")||"{}").find(C=>"C4"==C.code).idCategorie).subscribe({next:C=>{this.typesEntreprise=C},error:C=>{console.log(C)}}),this.genericService.getPays().subscribe({next:C=>{this.pays=C,this.nationalites=C,this.idPays=C.find(le=>"DZA"==le.codePays).idPays,this.genericService.getAllWilayas(this.idPays).subscribe({next:le=>{this.wilayas=le},error:le=>{console.log(le)}})},error:C=>{console.log(C)}}),this.genericService.getParam(JSON.parse(sessionStorage.getItem("dictionnaire")||"{}").find(C=>"C3"==C.code).idCategorie).subscribe({next:C=>{this.types_contact=C},error:C=>{console.log(C)}}),this.genericService.getParam(JSON.parse(sessionStorage.getItem("dictionnaire")||"{}").find(C=>"C6"==C.code).idCategorie).subscribe({next:C=>{this.sexes=C},error:C=>{console.log(C)}}),this.genericService.getParam(JSON.parse(sessionStorage.getItem("dictionnaire")||"{}").find(C=>"C10"==C.code).idCategorie).subscribe({next:C=>{this.titres=C},error:C=>{console.log(C)}}),this.genericService.getParam(JSON.parse(sessionStorage.getItem("dictionnaire")||"{}").find(C=>"C1"==C.code).idCategorie).subscribe({next:C=>{this.situationsFamiliale=C},error:C=>{console.log(C)}}),this.genericService.getSecteur().subscribe({next:C=>{this.secteursActivite=C},error:C=>{console.log(C)}}),this.genericService.getProfession().subscribe({next:C=>{this.professions=C},error:C=>{console.log(C)}}),this.genericService.getParam(JSON.parse(sessionStorage.getItem("dictionnaire")||"{}").find(C=>"C2"==C.code).idCategorie).subscribe({next:C=>{this.types_document=C},error:C=>{console.log(C)}}),this.genericService.getParam(JSON.parse(sessionStorage.getItem("dictionnaire")||"{}").find(C=>"C8"==C.code).idCategorie).subscribe({next:C=>{this.types_relation=C},error:C=>{console.log(C)}}),this.personneService.getAllPersonne().subscribe({next:C=>{this.personnes=C},error:C=>{console.log(C)}})}ajouterSecteur(C){if(""!=this.formCreationProfession.value.secteurActivite&&""!=this.formCreationProfession.value.profession){let le=!0;0==this.professionsPersonne.data.length?this.professionsPersonne.data=[]:this.professionsPersonne.data.map(re=>{re.secteurActivite.description==this.formCreationProfession.value.secteurActivite.description&&re.profession.description==this.formCreationProfession.value.profession.description&&(le=!1)}),le?(this.professionsPersonne.data.push(this.formCreationProfession.value),this.paginate(this.professionsPersonne),this.formCreationProfession=this.formBuilderAuth.group({secteurActivite:[""],profession:[""],dateDebutProfession:[new Date],dateFinProfession:[""]})):tt().fire("la profession existe d\xe9j\xe0","","error")}}ajouterDocument(C){if(""!=this.formCreationDocument.value.typeDocument&&""!=this.formCreationDocument.value.description){let le=!0;0==this.documentPersonne.data.length?this.documentPersonne.data=[]:this.documentPersonne.data.map(re=>{re.description==this.formCreationDocument.value.description&&(le=!1)}),le?(this.documentPersonne.data.push(this.formCreationDocument.value),this.paginate(this.documentPersonne),this.formCreationDocument=this.formBuilderAuth.group({typeDocument:[""],description:[{value:"",disabled:!0}],dateDelivrance:[{value:"",disabled:!0}],dateExpiration:[{value:"",disabled:!0}],wilaya:[{value:"",disabled:!0}],commune:[{value:"",disabled:!0}],sousCategorie:[""]})):tt().fire("le document existe d\xe9j\xe0","","error")}}ajouterAdresse(C){if(""!=this.formCreationAdresse.value.description&&""!=this.formCreationAdresse.value.pays&&""!=this.formCreationAdresse.value.wilaya&&""!=this.formCreationAdresse.value.commune&&""!=this.formCreationAdresse.value.codePostal){let le=!0;0==this.adresses.data.length?this.adresses.data=[]:this.adresses.data.map(re=>{re.description==this.formCreationAdresse.value.description&&re.pays.description==this.formCreationAdresse.value.pays.description&&re.wilaya.description==this.formCreationAdresse.value.wilaya.description&&re.commune.description===this.formCreationAdresse.value.commune.description&&re.codePostal.description==this.formCreationAdresse.value.codePostal.description&&(le=!1)}),le?(this.adresses.data.push(this.formCreationAdresse.value),this.paginate(this.adresses),this.formCreationAdresse=this.formBuilderAuth.group({description:["",[e.kI.required]],pays:["",[e.kI.required]],wilaya:["",[e.kI.required]],commune:["",[e.kI.required]],codePostal:["",[e.kI.required]]})):tt().fire("l'adresse existe d\xe9j\xe0","","error")}}ajouterContact(C){if(""!=this.formCreationContact.value.typeContact&&""!=this.formCreationContact.value.description&&this.formCreationContact.controls.description.valid){let le=!0;0==this.contacts.data.length?this.contacts.data=[]:this.contacts.data.map(re=>{re.description==this.formCreationContact.value.description&&(le=!1)}),le?(this.contacts.data.push(this.formCreationContact.value),this.paginate(this.contacts),this.formCreationContact=this.formBuilderAuth.group({typeContact:["",[e.kI.required]],description:[{value:"",disabled:!0},[e.kI.required]],dateDebut:[new Date]})):tt().fire("le contact existe d\xe9j\xe0","","error")}}ajouterRib(C){if(""!=this.formCreationRib.value.description&&this.formCreationRib.controls.description.valid){let le=!0;0==this.ribPersonne.data.length?this.ribPersonne.data=[]:this.ribPersonne.data.map(re=>{re.description==this.formCreationRib.value.description&&(le=!1)}),le?(this.ribPersonne.data.push(this.formCreationRib.value),this.paginate(this.ribPersonne),this.formCreationRib=this.formBuilderAuth.group({description:[""],swift:[""],dateDebut:[new Date],dateFin:[""]})):tt().fire("le RIB existe d\xe9j\xe0","","error")}}ajouterRelation(C){if(""!=this.formCreationRelation.value.typeRelation&&""!=this.myControl.value){let le=!0;this.formCreationRelation.value.idClient=this.myControl.value,0==this.relationPersonne.data.length?this.relationPersonne.data=[]:this.relationPersonne.data.map(re=>{re.idClient==this.formCreationRelation.value.idClient&&(le=!1)}),le?(this.relationPersonne.data.push(this.formCreationRelation.value),this.paginate(this.relationPersonne),this.formCreationRelation=this.formBuilderAuth.group({idClient:[""],typeRelation:[""],dateDebut:[new Date],dateFin:[""]}),this.myControl=new e.NI(""),this.filteredOptions=this.myControl.valueChanges.pipe((0,Ma.O)(""),(0,ar.U)(re=>{const Fe="string"==typeof re?re:re?.nom?re?.nom+re?.prenom1:re?.raisonSocial;return Fe?this._filter(Fe):this.personnes?.slice()}))):tt().fire("la relation existe d\xe9j\xe0","","error")}}sauvegarderPersonne(){this.personne?(this.personnePhysique=this.formCreationPersonnePhysique.value,this.professionsPersonne.data.forEach(C=>{this.personnePhysique.professionSecteur?.push({id:0,secteurActivite:C.secteurActivite.idSecteur,profession:C.profession.idProfession,dateDebutProfession:xe(C.dateDebutProfession).format("YYYY-MM-DD"),dateFinProfession:xe(C.dateFinProfession).format("YYYY-MM-DD")})}),this.documentPersonne.data.forEach(C=>{this.personnePhysique.documentList?.push({idDocument:0,typeDocument:C.typeDocument.idParam,description:C.description,sousCategorie:C.sousCategorie,dateDelivrance:xe(C.dateDelivrance).format("YYYY-MM-DD"),dateExperation:xe(C.dateExperation).format("YYYY-MM-DD"),communeDelivrance:C.commune.idCommune,wilayaDelivrance:C.wilaya.idWilaya})}),this.adresses.data.forEach(C=>{this.personnePhysique.adressesList?.push({idAdresse:0,description:C.description,pays:C.pays.idPays,wilaya:C.wilaya.idWilaya,commune:C.commune.idCommune,codePostal:C.codePostal.idCodePostal})}),this.contacts.data.forEach(C=>{this.personnePhysique.contactList?.push({idContact:0,idTypeContact:C.typeContact.idParam,typeContact:C.typeContact,description:C.description,dateDebut:xe(C.dateDebut).format("YYYY-MM-DD")})}),this.ribPersonne.data.forEach(C=>{this.personnePhysique.donneBancaireList?.push({description:C.description,swift:C.swift,dateDebut:xe(C.dateDebut).format("YYYY-MM-DD"),dateFin:""==C.dateFin?"":xe(C.dateFin).format("YYYY-MM-DD")})}),this.relationPersonne.data.forEach(C=>{this.personnePhysique.relationList?.push({adherent:C.idClient,dateDebut:xe(C.dateDebut).format("YYYY-MM-DD"),dateFin:xe(C.dateFin).format("YYYY-MM-DD"),relation:C.typeRelation})}),this.personnePhysique.nationalite.forEach(C=>{this.personnePhysique.nationalitesList?.push({nationalite:C,dateDebut:"",dateFin:""})}),this.personneService.addPersonne(this.personnePhysique,"physique").subscribe(C=>{null!=C.idClient?(this.personneCreationSuccess=!0,this.personneCreationError=!1,this.formCreationPersonnePhysique.reset(),tt().fire(`La personne N\xb0${C.idClient} a \xe9t\xe9 cr\xe9\xe9e avec succ\xe9s`,"","success"),this.back()):(this.personneCreationError=!0,this.personneCreationSuccess=!1,this.messageError=C.message?C.message:C.ErreurMessage,tt().fire(this.messageError,"","error"))},C=>{this.personneCreationError=!0,this.personneCreationSuccess=!1,this.messageError=C.message?C.message:C.ErreurMessage,tt().fire(this.messageError,"","error")})):(this.personneMorale=this.formCreationPersonneMorale.value,this.personneMorale.secteurActivite=this.formCreationProfession.value.secteurActivite.idSecteur,this.documentPersonne.data.forEach(C=>{this.personneMorale.documentList?.push({idDocument:0,typeDocument:C.typeDocument.idParam,description:C.description,sousCategorie:C.sousCategorie,dateDelivrance:xe(C.dateDelivrance).format("YYYY-MM-DD"),dateExperation:xe(C.dateExperation).format("YYYY-MM-DD"),communeDelivrance:C.commune.idCommune,wilayaDelivrance:C.wilaya.idWilaya})}),this.adresses.data.forEach(C=>{this.personneMorale.adressesList?.push({idAdresse:0,description:C.description,pays:C.pays.idPays,wilaya:C.wilaya.idWilaya,commune:C.commune.idCommune,codePostal:C.codePostal.idCodePostal})}),this.contacts.data.forEach(C=>{this.personneMorale.contactList?.push({idContact:0,idTypeContact:C.typeContact.idParam,typeContact:C.typeContact,description:C.description,dateDebut:xe(C.dateDebut).format("YYYY-MM-DD")})}),this.ribPersonne.data.forEach(C=>{this.personneMorale.donneBancaireList?.push({description:C.description,swift:C.swift,dateDebut:xe(C.dateDebut).format("YYYY-MM-DD"),dateFin:""==C.dateFin?"":xe(C.dateFin).format("YYYY-MM-DD")})}),this.relationPersonne.data.forEach(C=>{this.personneMorale.relationList?.push({adherent:C.idClient,dateDebut:xe(C.dateDebut).format("YYYY-MM-DD"),dateFin:xe(C.dateFin).format("YYYY-MM-DD"),relation:C.typeRelation})}),this.personneService.addPersonne(this.personneMorale,"morale").subscribe(C=>{null!=C.idClient?(this.personneCreationSuccess=!0,this.personneCreationError=!1,this.formCreationPersonneMorale.reset(),tt().fire(`La personne N\xb0${C.idClient} a \xe9t\xe9 cr\xe9\xe9e avec succ\xe9s`,"","success"),this.back()):(this.personneCreationError=!0,this.personneCreationSuccess=!1,this.messageError=C.ErreurMessage?C.ErreurMessage:C.message,tt().fire(this.messageError,"","error"))},C=>{console.log(C),this.personneCreationError=!0,this.personneCreationSuccess=!1,this.messageError=C.ErreurMessage?C.ErreurMessage:C.message,tt().fire(this.messageError,"","error")}))}paginate(C){C.paginator=this.paginator,C.sort=this.sort}back(){this.router.navigateByUrl("gestion-personnes")}debutDateChange(C){this.minDate=C}}return v.\u0275fac=function(C){return new(C||v)(n.Y36(me.F0),n.Y36(e.qu),n.Y36(Is.F),n.Y36(Ri.M))},v.\u0275cmp=n.Xpm({type:v,selectors:[["app-creation-personne"]],viewQuery:function(C,le){if(1&C&&(n.Gf(Q.NW,5),n.Gf(hr.YE,5)),2&C){let re;n.iGM(re=n.CRH())&&(le.paginator=re.first),n.iGM(re=n.CRH())&&(le.sort=re.first)}},decls:69,vars:14,consts:[["id","containerRef",1,"container"],[1,"heading",2,"padding-left","3%"],[1,"mat-typography"],["stepper",""],["class","alert alert-danger",4,"ngIf"],["matStepLabel",""],[1,"container"],["aria-label","Select an option",3,"change"],["checked","",3,"value"],[3,"value"],["style","padding: 1%;",4,"ngIf"],[1,""],[2,"padding","1%"],["multi","",1,"example-headers-align"],["disabled","",3,"expanded"],[1,"row","row-fields"],["class","login-form",3,"formGroup",4,"ngIf"],[1,"row-button"],["matStepperPrevious","",1,"btn","btn-cancel"],["matStepperNext","",1,"btn","btn-action"],["disabled","",3,"expanded",4,"ngIf"],["class","container",4,"ngIf"],[1,"btn","btn-action",3,"click"],[1,"alert","alert-danger"],[1,"login-form",3,"formGroup"],["formDirective","ngForm"],["appearance","outline",1,"col-md-6",2,"padding-right","1%"],["formControlName","sexe"],[4,"ngFor","ngForOf"],["class","invalid-feedback",4,"ngIf"],["appearance","outline",1,"col-md-6",2,"padding-left","1%"],["formControlName","titre",3,"value","valueChange"],["appearance","outline"],["type","text","matInput","","placeholder","","pattern","[A-Za-z]+","formControlName","nom"],["class","col-md-6","style","padding-left: 1%;","appearance","outline",4,"ngIf"],["appearance","outline",1,"col-md-4",2,"padding-right","1%"],["type","text","matInput","","placeholder","","pattern","[A-Za-z]+","formControlName","prenom1"],["appearance","outline",1,"col-md-4",2,"padding-left","1%","padding-right","1%"],["type","text","matInput","","placeholder","","pattern","[A-Za-z]+","formControlName","prenom2"],["appearance","outline",1,"col-md-4",2,"padding-left","1%"],["type","text","matInput","","placeholder","","pattern","[A-Za-z]+","formControlName","prenom3"],["formControlName","situationFamiliale"],["type","number","matInput","","placeholder","","pattern","[0-9]{18}","formControlName","nin"],["matInput","","formControlName","dateNaissance",3,"max","matDatepicker"],["matSuffix","",3,"for"],["pickerDateNaissance",""],["appearance","outline",1,"col-md-12"],["formControlName","nationalite","multiple",""],[1,"btn","btn-cancel",3,"mouseup"],["class","btn btn-action",3,"mouseup",4,"ngIf"],["matStepperNext","","class","btn btn-action",3,"mouseup",4,"ngIf"],[1,"invalid-feedback"],[4,"ngIf"],["type","text","matInput","","placeholder","","pattern","[A-Za-z]+","formControlName","nomJeuneFille"],["formDirectiveAdresse","ngForm"],[1,"row"],["type","text","matInput","","placeholder","","formControlName","description"],["formControlName","pays"],["formControlName","wilaya",3,"selectionChange"],[1,"col-md-9"],["formControlName","commune",3,"selectionChange"],["formControlName","codePostal"],[1,"col-md-3","add-col"],["class","btn btn-secondary",3,"click",4,"ngIf"],["class","btn btn-disable","disabled","",3,"click",4,"ngIf"],["class","col-md-12",4,"ngIf"],[1,"btn","btn-secondary",3,"click"],["aria-hidden","false","aria-label","Ajouter une adresse",1,"material-symbols-outlined",2,"margin-right","1rem"],["disabled","",1,"btn","btn-disable",3,"click"],[1,"col-md-12"],["mat-table","",1,"mat-elevation-z8","adresse-table",3,"dataSource"],["matColumnDef","header-adresse"],["mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","description"],["mat-cell","",4,"matCellDef"],["matColumnDef","pays"],["matColumnDef","wilaya"],["matColumnDef","commune"],["matColumnDef","codePostal"],["matColumnDef","action"],["mat-header-row","","class","example-first-header-row",4,"matHeaderRowDef"],["mat-header-row","","class","example-second-header-row",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["aria-label","Select page  of users",3,"pageSize","pageSizeOptions"],["mat-header-cell",""],[1,"header-tab"],["mat-cell",""],["aria-hidden","false","aria-label","delete address","matTooltip","Supprimer adresse","matTooltipPosition","right",1,"material-symbols-outlined",2,"margin-left","4px",3,"click"],["mat-header-row","",1,"example-first-header-row"],["mat-header-row","",1,"example-second-header-row"],["mat-row",""],["formDirectiveContact","ngForm"],["formControlName","typeContact",3,"selectionChange"],["appearance","outline",1,"col-md-6",2,"padding-left","1%","padding-right","1%"],["type","text","matInput","","formControlName","description",3,"placeholder"],["aria-hidden","false","aria-label","Ajouter un contact",1,"material-symbols-outlined",2,"margin-right","1rem"],["mat-table","",1,"mat-elevation-z8","contact-table",3,"dataSource"],["matColumnDef","header-contact"],["matColumnDef","typeContact"],["matColumnDef","dateDebut"],["aria-hidden","false","aria-label","delete contact","matTooltip","Supprimer contact","matTooltipPosition","right",1,"material-symbols-outlined",2,"margin-left","4px",3,"click"],[1,"btn","btn-action",3,"mouseup"],["matStepperNext","",1,"btn","btn-action",3,"mouseup"],["type","text","matInput","","placeholder","","formControlName","raisonSocial"],["appearance","outline",1,"col-md-4",2,"padding-right","1%","padding-left","1%"],["type","text","matInput","","placeholder","","pattern","[0-9]{15}","formControlName","nif"],["matInput","","formControlName","dateOuverture",3,"max","matDatepicker"],["pickerDateOuverture",""],["formControlName","typeEntreprise"],["formControlName","statue",3,"selectionChange"],["type","number","matInput","","placeholder","","formControlName","chiffreAffaire"],["type","number","matInput","","placeholder","","formControlName","capitaleSocial"],["type","number","matInput","","placeholder","","formControlName","nombreSalarie"],["formDirectiveProfession","ngForm"],["formControlName","secteurActivite"],["class","col-md-3 add-col",4,"ngIf"],["formControlName","profession"],["aria-hidden","false","aria-label","Ajouter un secteur d'activit\xe9",1,"material-symbols-outlined",2,"margin-right","1rem"],["mat-table","",1,"mat-elevation-z8","profession-table",3,"dataSource"],["matColumnDef","header-profession"],["matColumnDef","secteurActivite"],["matColumnDef","profession"],["aria-hidden","false","aria-label","delete profession","matTooltip","Supprimer profession","matTooltipPosition","right",1,"material-symbols-outlined",2,"margin-left","4px",3,"click"],["appearance","outline",2,"padding-right","1%"],["formControlName","typeDocument",3,"selectionChange"],["class","col-md-4","style","padding-right: 1%; padding-left: 1%;","appearance","outline",4,"ngIf"],["appearance","outline",2,"padding-left","1%"],["type","text","matInput","","placeholder","","pattern","[0-9]{2}[a-zA-Z]{2}[0-9]{5}","formControlName","description",4,"ngIf"],["type","text","matInput","","placeholder","","pattern","[0-9a-zA-Z]{1,15}","formControlName","description",4,"ngIf"],["type","text","matInput","","placeholder","","formControlName","description",4,"ngIf"],["matInput","","formControlName","dateDelivrance",3,"matDatepicker","dateChange"],["pickerDateDelivrance",""],["matInput","","formControlName","dateExpiration",3,"matDatepicker"],["pickerDateExpiration",""],["formControlName","sousCategorie"],["type","text","matInput","","placeholder","","pattern","[0-9]{2}[a-zA-Z]{2}[0-9]{5}","formControlName","description"],["type","text","matInput","","placeholder","","pattern","[0-9a-zA-Z]{1,15}","formControlName","description"],["aria-hidden","false","aria-label","Ajouter un document",1,"material-symbols-outlined",2,"margin-right","1rem"],["mat-table","",1,"mat-elevation-z8","document-table",3,"dataSource"],["matColumnDef","header-document"],["matColumnDef","typeDocument"],["matColumnDef","dateDelivrance"],["matColumnDef","dateExpiration"],["aria-hidden","false","aria-label","delete document","matTooltip","Supprimer document","matTooltipPosition","right",1,"material-symbols-outlined",2,"margin-left","4px",3,"click"],["formDirectiveRib","ngForm"],["type","text","matInput","","placeholder","","pattern","[0-9]{20}","formControlName","description"],["type","text","matInput","","placeholder","","pattern","[0-9]{8,11}","formControlName","swift"],["aria-hidden","false","aria-label","Ajouter un compte RIB",1,"material-symbols-outlined",2,"margin-right","1rem"],["mat-table","",1,"mat-elevation-z8","rib-table",3,"dataSource"],["matColumnDef","header-rib"],["matColumnDef","swift"],["aria-hidden","false","aria-label","delete rib","matTooltip","Supprimer RIB","matTooltipPosition","right",1,"material-symbols-outlined",2,"margin-left","4px",3,"click"],["formDirectiveRelation","ngForm"],["appearance","outline",1,"example-full-width",2,"padding-right","1%"],["type","text","matInput","",3,"formControl","matAutocomplete",4,"ngIf"],["auto","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],["formControlName","typeRelation"],["type","text","matInput","",3,"formControl","matAutocomplete"],["aria-hidden","false","aria-label","Ajouter un lien de parent\xe9",1,"material-symbols-outlined",2,"margin-right","1rem"],["matColumnDef","DNI"],["matColumnDef","typeRelation"],["aria-hidden","false","aria-label","delete relation","matTooltip","Supprimer lien de parent\xe9","matTooltipPosition","right",1,"material-symbols-outlined",2,"margin-left","4px",3,"click"],[1,"row","resume"],[1,"col-md-3","title-resume"],[1,"col-md-3"],[1,"row","resume","even"]],template:function(C,le){1&C&&(n.TgZ(0,"div",0)(1,"h2",1),n._uU(2,"Cr\xe9ation de personne"),n.qZA(),n._UZ(3,"mat-divider"),n.TgZ(4,"mat-dialog-content",2)(5,"mat-stepper",null,3)(7,"mat-step"),n.YNc(8,ws,2,0,"div",4),n.YNc(9,Po,1,0,"ng-template",5),n.TgZ(10,"div",6)(11,"mat-radio-group",7),n.NdJ("change",function(){return le.personne=!le.personne}),n.TgZ(12,"mat-radio-button",8),n._uU(13,"Personne moral"),n.qZA(),n.TgZ(14,"mat-radio-button",9),n._uU(15,"Personne physique"),n.qZA()(),n.YNc(16,Mo,2,1,"div",10),n.YNc(17,Ys,2,1,"div",10),n.qZA()(),n.TgZ(18,"mat-step")(19,"div",11),n.YNc(20,Nu,1,0,"ng-template",5),n.TgZ(21,"div",6)(22,"div",12)(23,"mat-accordion",13)(24,"mat-expansion-panel",14)(25,"mat-expansion-panel-header")(26,"mat-panel-title"),n._uU(27," Professions "),n.qZA()(),n.TgZ(28,"div",15),n.YNc(29,vl,12,5,"form",16),n.qZA()(),n.TgZ(30,"mat-expansion-panel",14)(31,"mat-expansion-panel-header")(32,"mat-panel-title"),n._uU(33," Documents "),n.qZA()(),n.TgZ(34,"div",15),n.YNc(35,mu,48,21,"form",16),n.qZA()()(),n.TgZ(36,"div",17)(37,"button",18),n._uU(38,"Retour"),n.qZA(),n.TgZ(39,"button",19),n._uU(40,"Suivant"),n.qZA()()()()()(),n.TgZ(41,"mat-step")(42,"div",11),n.YNc(43,$c,1,0,"ng-template",5),n.TgZ(44,"div",6)(45,"div",12)(46,"mat-accordion",13)(47,"mat-expansion-panel",14)(48,"mat-expansion-panel-header")(49,"mat-panel-title"),n._uU(50," RIB client "),n.qZA()(),n.TgZ(51,"div",15),n.YNc(52,pm,18,6,"form",16),n.qZA()(),n.YNc(53,dc,6,2,"mat-expansion-panel",20),n.qZA(),n.TgZ(54,"div",17)(55,"button",18),n._uU(56,"Retour"),n.qZA(),n.TgZ(57,"button",19),n._uU(58,"Suivant"),n.qZA()()()()()(),n.TgZ(59,"mat-step")(60,"div",11),n.YNc(61,Zl,1,0,"ng-template",5),n.YNc(62,xu,52,14,"div",21),n.YNc(63,lo,47,13,"div",21),n.TgZ(64,"div",17)(65,"button",18),n._uU(66,"Retour"),n.qZA(),n.TgZ(67,"button",22),n.NdJ("click",function(){return le.sauvegarderPersonne()}),n._uU(68,"Valider"),n.qZA()()()()()()()),2&C&&(n.xp6(8),n.Q6J("ngIf",le.message),n.xp6(4),n.Q6J("value",!1),n.xp6(2),n.Q6J("value",!0),n.xp6(2),n.Q6J("ngIf",le.personne),n.xp6(1),n.Q6J("ngIf",!le.personne),n.xp6(7),n.Q6J("expanded",!0),n.xp6(5),n.Q6J("ngIf",le.formCreationProfession),n.xp6(1),n.Q6J("expanded",!0),n.xp6(5),n.Q6J("ngIf",le.formCreationDocument),n.xp6(12),n.Q6J("expanded",!0),n.xp6(5),n.Q6J("ngIf",le.formCreationRib),n.xp6(1),n.Q6J("ngIf",le.personne),n.xp6(9),n.Q6J("ngIf",le.personne),n.xp6(1),n.Q6J("ngIf",!le.personne))},dependencies:[Se.sg,Se.O5,Z.d,Xn.Hw,vi.pp,vi.ib,vi.yz,vi.yK,e._Y,e.Fj,e.wV,e.JJ,e.JL,e.c5,e.oH,e.sg,e.u,O.TO,O.KE,O.bx,O.hX,O.R9,J.Nt,w.BZ,w.fO,w.as,w.w1,w.Dz,w.nj,w.ge,w.ev,w.XQ,w.Gk,uo.gM,Q.NW,o.xY,he.Mq,he.hl,he.nW,Ze.gD,l.ey,Ds.VQ,Ds.U0,Br.C0,Br.VY,Br.Vq,Br.Ic,Br.fd,Rr.XC,Rr.ZL,Se.Ov,Se.uU],styles:[".container[_ngcontent-%COMP%]{background-color:#fff;padding:40px 0;height:100%;overflow-y:auto;overflow-x:hidden}.gestion-table[_ngcontent-%COMP%]{width:100%}.gestion-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .gestion-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:16px}.gestion-table[_ngcontent-%COMP%]   .mat-header-cell[_ngcontent-%COMP%]{color:#00008f;font-weight:600}.gestion-table[_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]:nth-child(even), .gestion-table[_ngcontent-%COMP%]   .mat-header-row[_ngcontent-%COMP%]{background-color:#f7f7f9}.gestion-table[_ngcontent-%COMP%]   .mat-paginator[_ngcontent-%COMP%]{background-color:transparent;margin:20px auto auto;width:80%}.gestion-table[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{height:100%;font-size:26px;color:#00008f;width:-moz-fit-content;width:fit-content}.mat-menu-item[_ngcontent-%COMP%]{font-size:15px}.mat-menu-item[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:18px;height:-moz-fit-content;height:fit-content}.mat-menu-item[_ngcontent-%COMP%]:hover:not([disabled]), .mat-menu-item[_ngcontent-%COMP%]:hover:not([disabled])   .mat-icon[_ngcontent-%COMP%]{color:#00008f}.header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:0px 2rem}.header[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{height:-moz-fit-content;height:fit-content;font-size:29px;margin-right:1rem;width:-moz-fit-content;width:fit-content}.title-table[_ngcontent-%COMP%]{margin-bottom:0rem;font-weight:800!important;font-size:23px!important;color:#00008f!important}.buttons.row[_ngcontent-%COMP%]{justify-content:space-between;padding:0 21px}h2.heading[_ngcontent-%COMP%]{color:#00008f;font-weight:700!important;letter-spacing:.5px}.mat-dialog-content[_ngcontent-%COMP%]{padding-top:15px}.mat-radio-button[_ngcontent-%COMP%]{margin:0 12px}.mat-form-field[_ngcontent-%COMP%]{padding-top:15px}.mat-error[_ngcontent-%COMP%]{font-size:11px}.container[_ngcontent-%COMP%]{background-color:#fff;padding:40px 0;height:100%;overflow:auto;box-shadow:0 .5rem 1rem #00000026}  .mat-horizontal-stepper-header{pointer-events:none!important}.addSecteurIcon[_ngcontent-%COMP%]{font-size:40px;margin-left:59px;padding-top:15px;color:#00008f}.no-hover-effect[_ngcontent-%COMP%]     .mat-button-focus-overlay{background-color:transparent}table.profession-table[_ngcontent-%COMP%], table.document-table[_ngcontent-%COMP%], table.adresse-table[_ngcontent-%COMP%], table.contact-table[_ngcontent-%COMP%], table.modalite-table[_ngcontent-%COMP%], table.rib-table[_ngcontent-%COMP%]{width:100%;margin:auto}.mat-header-cell[_ngcontent-%COMP%]{color:#333;font-weight:600;letter-spacing:.5px;font-size:15px;width:165px}.header-tab[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}.mat-paginator[_ngcontent-%COMP%]{background-color:transparent;margin:20px auto auto;width:100%}.example-first-header-row[_ngcontent-%COMP%]{background-color:#00008f}.example-first-header-row[_ngcontent-%COMP%]   th.mat-header-cell[_ngcontent-%COMP%]{border:none;color:#fff;font-size:18px}.mat-column-valeurGarantie.mat-cell[_ngcontent-%COMP%], .mat-column-valeurEnvloppe.mat-cell[_ngcontent-%COMP%]{text-align:center}.mat-cell[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{color:#00008f}.mat-header-cell.mat-icon[_ngcontent-%COMP%]{color:#fff}.mat-cell[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]:hover, .mat-header-cell[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]:hover{color:#d14723;cursor:pointer}  .mat-tooltip{font-size:14px}.resume[_ngcontent-%COMP%]{font-size:18px;padding:2rem 1rem;border-top:1px solid rgba(51,51,51,.2)}.resume.even[_ngcontent-%COMP%]{background:rgb(247,247,249)}.resume[_ngcontent-%COMP%]   .title-resume[_ngcontent-%COMP%]{font-weight:700;color:#00008e}.add-col[_ngcontent-%COMP%]{display:flex;align-items:flex-end;padding-bottom:2rem}.add-col[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:flex;align-items:center}.mat-expansion-panel-header[_ngcontent-%COMP%]{background:rgba(51,51,51,.0509803922)}.mat-expansion-panel-header-title[_ngcontent-%COMP%], .mat-expansion-panel-header[aria-disabled=true][_ngcontent-%COMP%]{color:#00008f;font-weight:600;font-size:16px}.row-fields[_ngcontent-%COMP%]{padding:2rem}.row-button[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:0 3rem;margin-top:2rem}"]}),v})();var Cm=B(1572);function Gl(v,H){if(1&v){const C=n.EpF();n.TgZ(0,"button",23),n.NdJ("click",function(){n.CHM(C);const re=n.oxw(2);return n.KtG(re.changePage(!0))}),n._uU(1,"Modifier personne"),n.qZA()}}function vu(v,H){if(1&v){const C=n.EpF();n.TgZ(0,"button",24),n.NdJ("click",function(){n.CHM(C);const re=n.oxw(2);return n.KtG(re.sauvegarderPersonne())}),n._uU(1,"Enregistrer"),n.qZA()}}function xm(v,H){if(1&v){const C=n.EpF();n.TgZ(0,"button",23),n.NdJ("click",function(){n.CHM(C);const re=n.oxw(2);return n.KtG(re.changePage(!1))}),n._uU(1,"Annuler"),n.qZA()}}function vm(v,H){1&v&&n._uU(0,"Donn\xe9es personnelles")}function Na(v,H){if(1&v&&(n.ynx(0),n.TgZ(1,"mat-option",51),n._uU(2),n.qZA(),n.BQk()),2&v){const C=H.$implicit;n.xp6(1),n.Q6J("value",C.idParam),n.xp6(1),n.Oqu(C.description)}}function Bu(v,H){1&v&&(n.TgZ(0,"div"),n._uU(1," ce champs est obligatoire"),n.qZA())}function Ia(v,H){if(1&v&&(n.TgZ(0,"mat-error",52),n.YNc(1,Bu,2,0,"div",22),n.qZA()),2&v){const C=n.oxw(4);n.xp6(1),n.Q6J("ngIf",C.formCreationPersonnePhysique.controls.sexe.errors.required)}}function ql(v,H){if(1&v&&(n.ynx(0),n.TgZ(1,"mat-option",51),n._uU(2),n.qZA(),n.BQk()),2&v){const C=H.$implicit;n.xp6(1),n.Q6J("value",C.idParam),n.xp6(1),n.Oqu(C.description)}}function _c(v,H){1&v&&(n.TgZ(0,"div"),n._uU(1," ce champs est obligatoire"),n.qZA())}function zu(v,H){if(1&v&&(n.TgZ(0,"mat-error",52),n.YNc(1,_c,2,0,"div",22),n.qZA()),2&v){const C=n.oxw(4);n.xp6(1),n.Q6J("ngIf",C.formCreationPersonnePhysique.controls.nom.errors.required)}}function Ea(v,H){1&v&&(n.TgZ(0,"mat-form-field",31)(1,"mat-label"),n._uU(2,"Nom jeune fille"),n.qZA(),n._UZ(3,"input",53),n.qZA())}function Sl(v,H){1&v&&(n.TgZ(0,"div"),n._uU(1," ce champs est obligatoire"),n.qZA())}function Au(v,H){if(1&v&&(n.TgZ(0,"mat-error",52),n.YNc(1,Sl,2,0,"div",22),n.qZA()),2&v){const C=n.oxw(4);n.xp6(1),n.Q6J("ngIf",C.formCreationPersonnePhysique.controls.prenom1.errors.required)}}function wc(v,H){if(1&v&&(n.ynx(0),n.TgZ(1,"mat-option",51),n._uU(2),n.qZA(),n.BQk()),2&v){const C=H.$implicit;n.xp6(1),n.Q6J("value",C.idParam),n.xp6(1),n.Oqu(C.description)}}function U(v,H){1&v&&(n.TgZ(0,"div"),n._uU(1," Format NIN invalide "),n.qZA())}function Te(v,H){if(1&v&&(n.TgZ(0,"mat-error",52),n.YNc(1,U,2,0,"div",22),n.qZA()),2&v){const C=n.oxw(4);n.xp6(1),n.Q6J("ngIf",C.formCreationPersonnePhysique.controls.nin.errors.pattern)}}function N(v,H){1&v&&(n.TgZ(0,"div"),n._uU(1," ce champs est obligatoire"),n.qZA())}function q(v,H){1&v&&(n.TgZ(0,"div"),n._uU(1," Format Date invalide "),n.qZA())}function G(v,H){if(1&v&&(n.TgZ(0,"mat-error",52),n.YNc(1,N,2,0,"div",22),n.YNc(2,q,2,0,"div",22),n.qZA()),2&v){const C=n.oxw(4);n.xp6(1),n.Q6J("ngIf",C.formCreationPersonnePhysique.controls.dateNaissance.errors.required),n.xp6(1),n.Q6J("ngIf",C.formCreationPersonnePhysique.controls.dateNaissance.errors.matDatepickerParse)}}function b(v,H){if(1&v&&(n.ynx(0),n.TgZ(1,"mat-option",51),n._uU(2),n.qZA(),n.BQk()),2&v){const C=H.$implicit;n.xp6(1),n.Q6J("value",C.idPays),n.xp6(1),n.Oqu(C.description)}}function te(v,H){1&v&&(n.TgZ(0,"div"),n._uU(1," ce champs est obligatoire"),n.qZA())}function _e(v,H){if(1&v&&(n.TgZ(0,"mat-error",52),n.YNc(1,te,2,0,"div",22),n.qZA()),2&v){const C=n.oxw(4);n.xp6(1),n.Q6J("ngIf",C.formCreationPersonnePhysique.controls.nationalite.errors.required)}}function ye(v,H){if(1&v&&(n.ynx(0),n.TgZ(1,"mat-option",51),n._uU(2),n.qZA(),n.BQk()),2&v){const C=H.$implicit;n.xp6(1),n.Q6J("value",C),n.xp6(1),n.Oqu(C.description)}}function Ke(v,H){if(1&v&&(n.ynx(0),n.TgZ(1,"mat-option",51),n._uU(2),n.qZA(),n.BQk()),2&v){const C=H.$implicit;n.xp6(1),n.Q6J("value",C),n.xp6(1),n.Oqu(C.description)}}function Pt(v,H){if(1&v&&(n.ynx(0),n.TgZ(1,"mat-option",51),n._uU(2),n.qZA(),n.BQk()),2&v){const C=H.$implicit;n.xp6(1),n.Q6J("value",C),n.xp6(1),n.Oqu(C.description)}}function ft(v,H){if(1&v&&(n.ynx(0),n.TgZ(1,"mat-option",51),n._uU(2),n.qZA(),n.BQk()),2&v){const C=H.$implicit;n.xp6(1),n.Q6J("value",C),n.xp6(1),n.Oqu(C.codePostal)}}function St(v,H){if(1&v){const C=n.EpF();n.TgZ(0,"button",67),n.NdJ("click",function(){n.CHM(C),n.oxw(2);const re=n.MAs(1),Fe=n.oxw(4);return n.KtG(Fe.ajouterAdresse(re))}),n.TgZ(1,"mat-icon",68),n._uU(2,"add_circle"),n.qZA(),n._uU(3," Ajouter l'adresse "),n.qZA()}}function Nt(v,H){if(1&v){const C=n.EpF();n.TgZ(0,"button",69),n.NdJ("click",function(){n.CHM(C),n.oxw(2);const re=n.MAs(1),Fe=n.oxw(4);return n.KtG(Fe.ajouterAdresse(re))}),n.TgZ(1,"mat-icon",68),n._uU(2,"add_circle"),n.qZA(),n._uU(3," Ajouter l'adresse "),n.qZA()}}function Bn(v,H){if(1&v){const C=n.EpF();n.TgZ(0,"div",57)(1,"mat-form-field",47)(2,"mat-label"),n._uU(3,"Adresse"),n.qZA(),n._UZ(4,"input",58),n.qZA(),n.TgZ(5,"mat-form-field",27)(6,"mat-label"),n._uU(7," Pays "),n.qZA(),n.TgZ(8,"mat-select",59),n.YNc(9,ye,3,2,"ng-container",29),n.qZA()(),n.TgZ(10,"mat-form-field",31)(11,"mat-label"),n._uU(12," Wilaya "),n.qZA(),n.TgZ(13,"mat-select",60),n.NdJ("selectionChange",function(re){n.CHM(C);const Fe=n.oxw(5);return n.KtG(Fe.getCommuneByWilaya(re.value))}),n.YNc(14,Ke,3,2,"ng-container",29),n.qZA()(),n.TgZ(15,"div",61)(16,"mat-form-field",27)(17,"mat-label"),n._uU(18," Commune "),n.qZA(),n.TgZ(19,"mat-select",62),n.NdJ("selectionChange",function(re){n.CHM(C);const Fe=n.oxw(5);return n.KtG(Fe.getCodeByCommune(re.value))}),n.YNc(20,Pt,3,2,"ng-container",29),n.qZA(),n.TgZ(21,"mat-hint"),n._uU(22,"Veuillez saisir la wilaya avant !"),n.qZA()(),n.TgZ(23,"mat-form-field",31)(24,"mat-label"),n._uU(25," Code postal "),n.qZA(),n.TgZ(26,"mat-select",63),n.YNc(27,ft,3,2,"ng-container",29),n.qZA(),n.TgZ(28,"mat-hint"),n._uU(29,"Veuillez saisir la commune avant !"),n.qZA()()(),n.TgZ(30,"div",64),n.YNc(31,St,4,0,"button",65),n.YNc(32,Nt,4,0,"button",66),n.qZA()()}if(2&v){const C=n.oxw(5);n.xp6(9),n.Q6J("ngForOf",C.pays),n.xp6(5),n.Q6J("ngForOf",C.wilayas),n.xp6(6),n.Q6J("ngForOf",C.communes),n.xp6(7),n.Q6J("ngForOf",C.codesPostal),n.xp6(4),n.Q6J("ngIf",""!=C.formCreationAdresse.value.description&&""!=C.formCreationAdresse.value.pays&&""!=C.formCreationAdresse.value.wilaya&&""!=C.formCreationAdresse.value.commune&&""!=C.formCreationAdresse.value.codePostal),n.xp6(1),n.Q6J("ngIf",""==C.formCreationAdresse.value.description||""==C.formCreationAdresse.value.pays||""==C.formCreationAdresse.value.wilaya||""==C.formCreationAdresse.value.commune||""==C.formCreationAdresse.value.codePostal)}}function hn(v,H){if(1&v&&(n.TgZ(0,"th",84)(1,"div",85)(2,"span"),n._uU(3,"Liste des adresses "),n.qZA()()()),2&v){const C=n.oxw(6);n.uIk("colspan",C.lengthColumnsAdresse)}}function no(v,H){1&v&&(n.TgZ(0,"th",84),n._uU(1," Description "),n.qZA())}const kn=function(){return{standalone:!0}};function Gi(v,H){if(1&v){const C=n.EpF();n.TgZ(0,"mat-form-field",33)(1,"input",88),n.NdJ("ngModelChange",function(re){n.CHM(C);const Fe=n.oxw().$implicit;return n.KtG(Fe.description=re)}),n.qZA()()}if(2&v){const C=n.oxw().$implicit;n.xp6(1),n.Q6J("ngModel",C.description)("ngModelOptions",n.DdM(3,kn))("value",C.description)}}function vo(v,H){if(1&v&&(n.ynx(0),n._uU(1),n.BQk()),2&v){const C=n.oxw().$implicit;n.xp6(1),n.hij(" ",C.description," ")}}function Jo(v,H){if(1&v&&(n.TgZ(0,"td",86),n.YNc(1,Gi,2,4,"mat-form-field",87),n.YNc(2,vo,2,1,"ng-container",22),n.qZA()),2&v){const C=n.oxw(6);n.xp6(1),n.Q6J("ngIf",(C.formCreationPersonnePhysique||C.formCreationPersonneMorale)&&!(null!=C.formCreationPersonnePhysique&&C.formCreationPersonnePhysique.disabled)&&!(null!=C.formCreationPersonneMorale&&C.formCreationPersonneMorale.disabled)),n.xp6(1),n.Q6J("ngIf",(null==C.formCreationPersonnePhysique?null:C.formCreationPersonnePhysique.disabled)||(null==C.formCreationPersonneMorale?null:C.formCreationPersonneMorale.disabled))}}function Ii(v,H){1&v&&(n.TgZ(0,"th",84),n._uU(1," Pays "),n.qZA())}function ci(v,H){if(1&v&&(n.ynx(0),n.TgZ(1,"mat-option",51),n._uU(2),n.qZA(),n.BQk()),2&v){const C=H.$implicit;n.xp6(1),n.Q6J("value",C.idPays),n.xp6(1),n.Oqu(C.description)}}function io(v,H){if(1&v){const C=n.EpF();n.TgZ(0,"mat-form-field",33)(1,"mat-select",89),n.NdJ("ngModelChange",function(re){n.CHM(C);const Fe=n.oxw().$implicit;return n.KtG(Fe.pays=re)}),n.YNc(2,ci,3,2,"ng-container",29),n.qZA()()}if(2&v){const C=n.oxw().$implicit,le=n.oxw(6);n.xp6(1),n.Q6J("ngModel",null==C.pays?null:C.pays.idPays)("ngModelOptions",n.DdM(4,kn))("value",null==C.pays?null:C.pays.idPays),n.xp6(1),n.Q6J("ngForOf",le.pays)}}function yl(v,H){if(1&v&&(n.ynx(0),n._uU(1),n.BQk()),2&v){const C=n.oxw().$implicit;n.xp6(1),n.hij(" ",null==C.pays?null:C.pays.description," ")}}function go(v,H){if(1&v&&(n.TgZ(0,"td",86),n.YNc(1,io,3,5,"mat-form-field",87),n.YNc(2,yl,2,1,"ng-container",22),n.qZA()),2&v){const C=n.oxw(6);n.xp6(1),n.Q6J("ngIf",(C.formCreationPersonnePhysique||C.formCreationPersonneMorale)&&!(null!=C.formCreationPersonnePhysique&&C.formCreationPersonnePhysique.disabled)&&!(null!=C.formCreationPersonneMorale&&C.formCreationPersonneMorale.disabled)),n.xp6(1),n.Q6J("ngIf",(null==C.formCreationPersonnePhysique?null:C.formCreationPersonnePhysique.disabled)||(null==C.formCreationPersonneMorale?null:C.formCreationPersonneMorale.disabled))}}function nc(v,H){1&v&&(n.TgZ(0,"th",84),n._uU(1," Wilaya "),n.qZA())}function Rd(v,H){if(1&v&&(n.ynx(0),n.TgZ(1,"mat-option",51),n._uU(2),n.qZA(),n.BQk()),2&v){const C=H.$implicit;n.xp6(1),n.Q6J("value",C.idWilaya),n.xp6(1),n.Oqu(C.description)}}function q_(v,H){if(1&v){const C=n.EpF();n.TgZ(0,"mat-form-field",33)(1,"mat-select",89),n.NdJ("ngModelChange",function(re){n.CHM(C);const Fe=n.oxw().$implicit,ti=n.oxw(6);return n.KtG(ti.onChangeWilaya(re,Fe))}),n.YNc(2,Rd,3,2,"ng-container",29),n.qZA()()}if(2&v){const C=n.oxw().$implicit,le=n.oxw(6);n.xp6(1),n.Q6J("ngModel",null==C.wilaya?null:C.wilaya.idWilaya)("ngModelOptions",n.DdM(4,kn))("value",null==C.wilaya?null:C.wilaya.idWilaya),n.xp6(1),n.Q6J("ngForOf",le.wilayas)}}function Dd(v,H){if(1&v&&(n.ynx(0),n._uU(1),n.BQk()),2&v){const C=n.oxw().$implicit;n.xp6(1),n.hij(" ",null==C.wilaya?null:C.wilaya.description," ")}}function Vu(v,H){if(1&v&&(n.TgZ(0,"td",86),n.YNc(1,q_,3,5,"mat-form-field",87),n.YNc(2,Dd,2,1,"ng-container",22),n.qZA()),2&v){const C=n.oxw(6);n.xp6(1),n.Q6J("ngIf",(C.formCreationPersonnePhysique||C.formCreationPersonneMorale)&&!(null!=C.formCreationPersonnePhysique&&C.formCreationPersonnePhysique.disabled)&&!(null!=C.formCreationPersonneMorale&&C.formCreationPersonneMorale.disabled)),n.xp6(1),n.Q6J("ngIf",(null==C.formCreationPersonnePhysique?null:C.formCreationPersonnePhysique.disabled)||(null==C.formCreationPersonneMorale?null:C.formCreationPersonneMorale.disabled))}}function Am(v,H){1&v&&(n.TgZ(0,"th",84),n._uU(1," Commune "),n.qZA())}function S_(v,H){if(1&v&&(n.ynx(0),n.TgZ(1,"mat-option",51),n._uU(2),n.qZA(),n.BQk()),2&v){const C=H.$implicit;n.xp6(1),n.Q6J("value",C.idCommune),n.xp6(1),n.Oqu(C.description)}}function wd(v,H){if(1&v){const C=n.EpF();n.TgZ(0,"mat-form-field",33)(1,"mat-select",89),n.NdJ("ngModelChange",function(re){n.CHM(C);const Fe=n.oxw().$implicit;return n.KtG(Fe.commune.idCommune=re)}),n.YNc(2,S_,3,2,"ng-container",29),n.qZA()()}if(2&v){const C=n.oxw().$implicit,le=n.oxw(6);n.xp6(1),n.Q6J("ngModel",null==C.commune?null:C.commune.idCommune)("ngModelOptions",n.DdM(4,kn))("value",null==C.commune?null:C.commune.idCommune),n.xp6(1),n.Q6J("ngForOf",le.communes)}}function Od(v,H){if(1&v&&(n.ynx(0),n._uU(1),n.BQk()),2&v){const C=n.oxw().$implicit;n.xp6(1),n.hij(" ",null==C.commune?null:C.commune.description," ")}}function Mm(v,H){if(1&v&&(n.TgZ(0,"td",86),n.YNc(1,wd,3,5,"mat-form-field",87),n.YNc(2,Od,2,1,"ng-container",22),n.qZA()),2&v){const C=n.oxw(6);n.xp6(1),n.Q6J("ngIf",(C.formCreationPersonnePhysique||C.formCreationPersonneMorale)&&!(null!=C.formCreationPersonnePhysique&&C.formCreationPersonnePhysique.disabled)&&!(null!=C.formCreationPersonneMorale&&C.formCreationPersonneMorale.disabled)),n.xp6(1),n.Q6J("ngIf",(null==C.formCreationPersonnePhysique?null:C.formCreationPersonnePhysique.disabled)||(null==C.formCreationPersonneMorale?null:C.formCreationPersonneMorale.disabled))}}function kd(v,H){1&v&&(n.TgZ(0,"th",84),n._uU(1," Code postal "),n.qZA())}function ju(v,H){if(1&v&&(n.ynx(0),n.TgZ(1,"mat-option",51),n._uU(2),n.qZA(),n.BQk()),2&v){const C=H.$implicit;n.xp6(1),n.Q6J("value",C.idCodePostal),n.xp6(1),n.Oqu(C.codePostal)}}function Um(v,H){if(1&v){const C=n.EpF();n.TgZ(0,"mat-form-field",33)(1,"mat-select",89),n.NdJ("ngModelChange",function(re){n.CHM(C);const Fe=n.oxw().$implicit;return n.KtG(Fe.codePostal=re)}),n.YNc(2,ju,3,2,"ng-container",29),n.qZA()()}if(2&v){const C=n.oxw().$implicit,le=n.oxw(6);n.xp6(1),n.Q6J("ngModel",null==C.codePostal?null:C.codePostal.idCodePostal)("ngModelOptions",n.DdM(4,kn))("value",null==C.codePostal?null:C.codePostal.idCodePostal),n.xp6(1),n.Q6J("ngForOf",le.codesPostal)}}function Fm(v,H){if(1&v&&(n.ynx(0),n._uU(1),n.BQk()),2&v){const C=n.oxw().$implicit;n.xp6(1),n.hij(" ",null!=C.codePostal?C.codePostal.codePostal:""," ")}}function y_(v,H){if(1&v&&(n.TgZ(0,"td",86),n.YNc(1,Um,3,5,"mat-form-field",87),n.YNc(2,Fm,2,1,"ng-container",22),n.qZA()),2&v){const C=n.oxw(6);n.xp6(1),n.Q6J("ngIf",(C.formCreationPersonnePhysique||C.formCreationPersonneMorale)&&!(null!=C.formCreationPersonnePhysique&&C.formCreationPersonnePhysique.disabled)&&!(null!=C.formCreationPersonneMorale&&C.formCreationPersonneMorale.disabled)),n.xp6(1),n.Q6J("ngIf",(null==C.formCreationPersonnePhysique?null:C.formCreationPersonnePhysique.disabled)||(null==C.formCreationPersonneMorale?null:C.formCreationPersonneMorale.disabled))}}function rd(v,H){1&v&&n._UZ(0,"tr",90)}function Hu(v,H){1&v&&n._UZ(0,"tr",91)}function ad(v,H){1&v&&n._UZ(0,"tr",92)}const Qm=function(){return["header-adresse"]},Oc=function(){return[5,10,20]};function Md(v,H){if(1&v&&(n.TgZ(0,"div",70)(1,"table",71),n.ynx(2,72),n.YNc(3,hn,4,1,"th",73),n.BQk(),n.ynx(4,74),n.YNc(5,no,2,0,"th",73),n.YNc(6,Jo,3,2,"td",75),n.BQk(),n.ynx(7,76),n.YNc(8,Ii,2,0,"th",73),n.YNc(9,go,3,2,"td",75),n.BQk(),n.ynx(10,77),n.YNc(11,nc,2,0,"th",73),n.YNc(12,Vu,3,2,"td",75),n.BQk(),n.ynx(13,78),n.YNc(14,Am,2,0,"th",73),n.YNc(15,Mm,3,2,"td",75),n.BQk(),n.ynx(16,79),n.YNc(17,kd,2,0,"th",73),n.YNc(18,y_,3,2,"td",75),n.BQk(),n.YNc(19,rd,1,0,"tr",80),n.YNc(20,Hu,1,0,"tr",81),n.YNc(21,ad,1,0,"tr",82),n.qZA(),n._UZ(22,"mat-paginator",83),n.qZA()),2&v){const C=n.oxw(5);n.xp6(1),n.Q6J("dataSource",C.adresses),n.xp6(18),n.Q6J("matHeaderRowDef",n.DdM(6,Qm)),n.xp6(1),n.Q6J("matHeaderRowDef",C.displayedColumnsAdresse),n.xp6(1),n.Q6J("matRowDefColumns",C.displayedColumnsAdresse),n.xp6(1),n.Q6J("pageSize",5)("pageSizeOptions",n.DdM(7,Oc))}}function kc(v,H){if(1&v&&(n.TgZ(0,"form",25,54),n.YNc(2,Bn,33,6,"div",55),n.YNc(3,Md,23,8,"div",56),n.qZA()),2&v){const C=n.oxw(4);n.Q6J("formGroup",C.formCreationAdresse),n.xp6(2),n.Q6J("ngIf",!(null!=C.formCreationPersonnePhysique&&C.formCreationPersonnePhysique.disabled||null!=C.formCreationPersonneMorale&&C.formCreationPersonneMorale.disabled)),n.xp6(1),n.Q6J("ngIf",0!=(null==C.adresses.data?null:C.adresses.data.length))}}function sd(v,H){if(1&v&&(n.ynx(0),n.TgZ(1,"mat-option",51),n._uU(2),n.qZA(),n.BQk()),2&v){const C=H.$implicit;n.xp6(1),n.Q6J("value",C),n.xp6(1),n.Oqu(C.description)}}function Ud(v,H){1&v&&n._UZ(0,"input",99)}function N_(v,H){1&v&&(n.TgZ(0,"div"),n._uU(1," Format email invalide "),n.qZA())}function Fd(v,H){if(1&v&&(n.TgZ(0,"mat-error",52),n.YNc(1,N_,2,0,"div",22),n.qZA()),2&v){const C=n.oxw(6);n.xp6(1),n.Q6J("ngIf",C.formCreationContact.controls.description.errors.pattern)}}function Qd(v,H){1&v&&n._UZ(0,"input",100)}function I_(v,H){1&v&&(n.TgZ(0,"div"),n._uU(1," Le format du numero est invalide "),n.qZA())}function pc(v,H){if(1&v&&(n.TgZ(0,"mat-error",52),n.YNc(1,I_,2,0,"div",22),n.qZA()),2&v){const C=n.oxw(6);n.xp6(1),n.Q6J("ngIf",C.formCreationContact.controls.description.errors.pattern)}}function ld(v,H){1&v&&n._UZ(0,"input",101)}function Jm(v,H){1&v&&(n.TgZ(0,"div"),n._uU(1," Le format du numero est invalide "),n.qZA())}function Lm(v,H){if(1&v&&(n.TgZ(0,"mat-error",52),n.YNc(1,Jm,2,0,"div",22),n.qZA()),2&v){const C=n.oxw(6);n.xp6(1),n.Q6J("ngIf",C.formCreationContact.controls.description.errors.pattern)}}function Ym(v,H){if(1&v){const C=n.EpF();n.TgZ(0,"button",67),n.NdJ("click",function(){n.CHM(C),n.oxw(2);const re=n.MAs(1),Fe=n.oxw(4);return n.KtG(Fe.ajouterContact(re))}),n.TgZ(1,"mat-icon",102),n._uU(2,"add_circle"),n.qZA(),n._uU(3," Ajouter le contact "),n.qZA()}}function Nl(v,H){if(1&v){const C=n.EpF();n.TgZ(0,"button",69),n.NdJ("click",function(){n.CHM(C),n.oxw(2);const re=n.MAs(1),Fe=n.oxw(4);return n.KtG(Fe.ajouterContact(re))}),n.TgZ(1,"mat-icon",102),n._uU(2,"add_circle"),n.qZA(),n._uU(3," Ajouter le contact "),n.qZA()}}function Yi(v,H){if(1&v){const C=n.EpF();n.TgZ(0,"div",57)(1,"div",61)(2,"mat-form-field",27)(3,"mat-label"),n._uU(4," Type contact "),n.qZA(),n.TgZ(5,"mat-select",94),n.NdJ("selectionChange",function(){n.CHM(C);const re=n.oxw(5);return n.KtG(re.formCreationContact.get("description").enable())}),n.YNc(6,sd,3,2,"ng-container",29),n.qZA()(),n.TgZ(7,"mat-form-field",95)(8,"mat-label"),n._uU(9,"Contact"),n.qZA(),n.YNc(10,Ud,1,0,"input",96),n.YNc(11,Fd,2,1,"mat-error",30),n.YNc(12,Qd,1,0,"input",97),n.YNc(13,pc,2,1,"mat-error",30),n.YNc(14,ld,1,0,"input",98),n.YNc(15,Lm,2,1,"mat-error",30),n.qZA()(),n.TgZ(16,"div",64),n.YNc(17,Ym,4,0,"button",65),n.YNc(18,Nl,4,0,"button",66),n.qZA()()}if(2&v){const C=n.oxw(5);n.xp6(6),n.Q6J("ngForOf",C.types_contact),n.xp6(4),n.Q6J("ngIf","email"==C.formCreationContact.value.typeContact.description),n.xp6(1),n.Q6J("ngIf",C.formCreationContact.controls.description.errors&&"email"==C.formCreationContact.value.typeContact.description),n.xp6(1),n.Q6J("ngIf","fix"==C.formCreationContact.value.typeContact.description||"fax"==C.formCreationContact.value.typeContact.description),n.xp6(1),n.Q6J("ngIf",C.formCreationContact.controls.description.errors&&("fix"==C.formCreationContact.value.typeContact.description||"fax"==C.formCreationContact.value.typeContact.description)),n.xp6(1),n.Q6J("ngIf","fix"!=C.formCreationContact.value.typeContact.description&&"fax"!=C.formCreationContact.value.typeContact.description&&"email"!=C.formCreationContact.value.typeContact.description),n.xp6(1),n.Q6J("ngIf",C.formCreationContact.controls.description.errors&&"fix"!=C.formCreationContact.value.typeContact.description&&"fax"!=C.formCreationContact.value.typeContact.description&&"email"!=C.formCreationContact.value.typeContact.description),n.xp6(2),n.Q6J("ngIf",""!=C.formCreationContact.value.typeContact&&""!=C.formCreationContact.value.description),n.xp6(1),n.Q6J("ngIf",""==C.formCreationContact.value.typeContact||""==C.formCreationContact.value.description)}}function Tm(v,H){if(1&v&&(n.TgZ(0,"th",84)(1,"div",85)(2,"span"),n._uU(3,"Liste des contacts "),n.qZA()()()),2&v){const C=n.oxw(6);n.uIk("colspan",C.lengthColumnsContact)}}function cd(v,H){1&v&&(n.TgZ(0,"th",84),n._uU(1," Type contact "),n.qZA())}function Tu(v,H){if(1&v&&(n.ynx(0),n.TgZ(1,"mat-option",51),n._uU(2),n.qZA(),n.BQk()),2&v){const C=H.$implicit;n.xp6(1),n.Q6J("value",C.idParam),n.xp6(1),n.Oqu(C.description)}}function E_(v,H){if(1&v){const C=n.EpF();n.TgZ(0,"mat-form-field",33)(1,"mat-select",89),n.NdJ("ngModelChange",function(re){n.CHM(C);const Fe=n.oxw().$implicit;return n.KtG(Fe.typeContact=re)}),n.YNc(2,Tu,3,2,"ng-container",29),n.qZA()()}if(2&v){const C=n.oxw().$implicit,le=n.oxw(6);n.xp6(1),n.Q6J("ngModel",null==C.typeContact?null:C.typeContact.idParam)("ngModelOptions",n.DdM(4,kn))("value",null==C.typeContact?null:C.typeContact.idParam),n.xp6(1),n.Q6J("ngForOf",le.types_contact)}}function ud(v,H){if(1&v&&(n.ynx(0),n._uU(1),n.BQk()),2&v){const C=n.oxw().$implicit;n.xp6(1),n.hij(" ",null==C.typeContact?null:C.typeContact.description," ")}}function Jd(v,H){if(1&v&&(n.TgZ(0,"td",86),n.YNc(1,E_,3,5,"mat-form-field",87),n.YNc(2,ud,2,1,"ng-container",22),n.qZA()),2&v){const C=n.oxw(6);n.xp6(1),n.Q6J("ngIf",(C.formCreationPersonnePhysique||C.formCreationPersonneMorale)&&!(null!=C.formCreationPersonnePhysique&&C.formCreationPersonnePhysique.disabled)&&!(null!=C.formCreationPersonneMorale&&C.formCreationPersonneMorale.disabled)),n.xp6(1),n.Q6J("ngIf",(null==C.formCreationPersonnePhysique?null:C.formCreationPersonnePhysique.disabled)||(null==C.formCreationPersonneMorale?null:C.formCreationPersonneMorale.disabled))}}function Ja(v,H){1&v&&(n.TgZ(0,"th",84),n._uU(1," Contact "),n.qZA())}function R_(v,H){if(1&v){const C=n.EpF();n.TgZ(0,"mat-form-field",33)(1,"input",88),n.NdJ("ngModelChange",function(re){n.CHM(C);const Fe=n.oxw().$implicit;return n.KtG(Fe.description=re)}),n.qZA()()}if(2&v){const C=n.oxw().$implicit;n.xp6(1),n.Q6J("ngModel",C.description)("ngModelOptions",n.DdM(3,kn))("value",C.description)}}function D_(v,H){if(1&v&&(n.ynx(0),n._uU(1),n.BQk()),2&v){const C=n.oxw().$implicit;n.xp6(1),n.hij(" ",C.description," ")}}function Ld(v,H){if(1&v&&(n.TgZ(0,"td",86),n.YNc(1,R_,2,4,"mat-form-field",87),n.YNc(2,D_,2,1,"ng-container",22),n.qZA()),2&v){const C=n.oxw(6);n.xp6(1),n.Q6J("ngIf",(C.formCreationPersonnePhysique||C.formCreationPersonneMorale)&&!(null!=C.formCreationPersonnePhysique&&C.formCreationPersonnePhysique.disabled)&&!(null!=C.formCreationPersonneMorale&&C.formCreationPersonneMorale.disabled)),n.xp6(1),n.Q6J("ngIf",(null==C.formCreationPersonnePhysique?null:C.formCreationPersonnePhysique.disabled)||(null==C.formCreationPersonneMorale?null:C.formCreationPersonneMorale.disabled))}}function w_(v,H){1&v&&n._UZ(0,"tr",90)}function Yd(v,H){1&v&&n._UZ(0,"tr",91)}function O_(v,H){1&v&&n._UZ(0,"tr",92)}const Gd=function(){return["header-contact"]};function k_(v,H){if(1&v&&(n.TgZ(0,"div",70)(1,"table",103),n.ynx(2,104),n.YNc(3,Tm,4,1,"th",73),n.BQk(),n.ynx(4,105),n.YNc(5,cd,2,0,"th",73),n.YNc(6,Jd,3,2,"td",75),n.BQk(),n.ynx(7,74),n.YNc(8,Ja,2,0,"th",73),n.YNc(9,Ld,3,2,"td",75),n.BQk(),n.YNc(10,w_,1,0,"tr",80),n.YNc(11,Yd,1,0,"tr",81),n.YNc(12,O_,1,0,"tr",82),n.qZA(),n._UZ(13,"mat-paginator",83),n.qZA()),2&v){const C=n.oxw(5);n.xp6(1),n.Q6J("dataSource",C.contacts),n.xp6(9),n.Q6J("matHeaderRowDef",n.DdM(6,Gd)),n.xp6(1),n.Q6J("matHeaderRowDef",C.displayedColumnsContact),n.xp6(1),n.Q6J("matRowDefColumns",C.displayedColumnsContact),n.xp6(1),n.Q6J("pageSize",5)("pageSizeOptions",n.DdM(7,Oc))}}function zs(v,H){if(1&v&&(n.TgZ(0,"form",25,93),n.YNc(2,Yi,19,9,"div",55),n.YNc(3,k_,14,8,"div",56),n.qZA()),2&v){const C=n.oxw(4);n.Q6J("formGroup",C.formCreationContact),n.xp6(2),n.Q6J("ngIf",!(null!=C.formCreationPersonnePhysique&&C.formCreationPersonnePhysique.disabled||null!=C.formCreationPersonneMorale&&C.formCreationPersonneMorale.disabled)),n.xp6(1),n.Q6J("ngIf",0!=(null==C.contacts.data?null:C.contacts.data.length))}}function ss(v,H){1&v&&(n.TgZ(0,"button",106),n._uU(1,"Suivant"),n.qZA())}function Gm(v,H){1&v&&(n.TgZ(0,"button",19),n._uU(1,"Suivant"),n.qZA())}function va(v,H){if(1&v){const C=n.EpF();n.TgZ(0,"form",25,26)(2,"mat-accordion",13)(3,"mat-expansion-panel",14)(4,"mat-expansion-panel-header")(5,"mat-panel-title"),n._uU(6," Informations g\xe9n\xe9rales "),n.qZA()(),n.TgZ(7,"div",15)(8,"mat-form-field",27)(9,"mat-label"),n._uU(10," Genre "),n.qZA(),n.TgZ(11,"mat-select",28),n.YNc(12,Na,3,2,"ng-container",29),n.qZA(),n.YNc(13,Ia,2,1,"mat-error",30),n.qZA(),n.TgZ(14,"mat-form-field",31)(15,"mat-label"),n._uU(16," Civilit\xe9 "),n.qZA(),n.TgZ(17,"mat-select",32),n.YNc(18,ql,3,2,"ng-container",29),n.qZA()(),n.TgZ(19,"mat-form-field",33)(20,"mat-label"),n._uU(21,"Nom"),n.qZA(),n._UZ(22,"input",34),n.YNc(23,zu,2,1,"mat-error",30),n.qZA(),n.YNc(24,Ea,4,0,"mat-form-field",35),n.TgZ(25,"mat-form-field",36)(26,"mat-label"),n._uU(27,"Pr\xe9nom 1"),n.qZA(),n._UZ(28,"input",37),n.YNc(29,Au,2,1,"mat-error",30),n.qZA(),n.TgZ(30,"mat-form-field",38)(31,"mat-label"),n._uU(32,"Pr\xe9nom 2"),n.qZA(),n._UZ(33,"input",39),n.qZA(),n.TgZ(34,"mat-form-field",40)(35,"mat-label"),n._uU(36,"Pr\xe9nom 3"),n.qZA(),n._UZ(37,"input",41),n.qZA()()(),n.TgZ(38,"mat-expansion-panel",14)(39,"mat-expansion-panel-header")(40,"mat-panel-title"),n._uU(41," Informations compl\xe9mentaires "),n.qZA()(),n.TgZ(42,"div",15)(43,"mat-form-field",36)(44,"mat-label"),n._uU(45," Situation familiale "),n.qZA(),n.TgZ(46,"mat-select",42),n.YNc(47,wc,3,2,"ng-container",29),n.qZA()(),n.TgZ(48,"mat-form-field",38)(49,"mat-label"),n._uU(50,"NIN"),n.qZA(),n._UZ(51,"input",43),n.YNc(52,Te,2,1,"mat-error",30),n.qZA(),n.TgZ(53,"mat-form-field",40)(54,"mat-label"),n._uU(55,"Date Naissance"),n.qZA(),n._UZ(56,"input",44)(57,"mat-datepicker-toggle",45)(58,"mat-datepicker",null,46),n.YNc(60,G,3,2,"mat-error",30),n.qZA(),n.TgZ(61,"mat-form-field",47)(62,"mat-label"),n._uU(63," Nationalite "),n.qZA(),n.TgZ(64,"mat-select",48),n.YNc(65,b,3,2,"ng-container",29),n.qZA(),n.YNc(66,_e,2,1,"mat-error",30),n.qZA()()(),n.TgZ(67,"mat-expansion-panel",14)(68,"mat-expansion-panel-header")(69,"mat-panel-title"),n._uU(70," Adresses "),n.qZA()(),n.TgZ(71,"div",15),n.YNc(72,kc,4,3,"form",16),n.qZA()(),n.TgZ(73,"mat-expansion-panel",14)(74,"mat-expansion-panel-header")(75,"mat-panel-title"),n._uU(76," Contacts "),n.qZA()(),n.TgZ(77,"div",15),n.YNc(78,zs,4,3,"form",16),n.qZA()()(),n.TgZ(79,"div",17)(80,"button",49),n.NdJ("mouseup",function(){n.CHM(C);const re=n.oxw(3);return n.KtG(re.back())}),n._uU(81,"Retour"),n.qZA(),n.YNc(82,ss,2,0,"button",50),n.YNc(83,Gm,2,0,"button",21),n.qZA()()}if(2&v){const C=n.MAs(1),le=n.MAs(59),re=n.oxw(3);n.Q6J("formGroup",re.formCreationPersonnePhysique),n.xp6(3),n.Q6J("expanded",!0),n.xp6(9),n.Q6J("ngForOf",re.sexes),n.xp6(1),n.Q6J("ngIf",re.formCreationPersonnePhysique.controls.sexe.errors),n.xp6(5),n.Q6J("ngForOf",re.titres),n.xp6(1),n.Akn(17==re.formCreationPersonnePhysique.value.sexe?"padding-right: 1%;":""),n.Tol(17==re.formCreationPersonnePhysique.value.sexe?"col-md-6":"col-md-12"),n.xp6(3),n.Q6J("readonly",!1),n.xp6(1),n.Q6J("ngIf",re.formCreationPersonnePhysique.controls.nom.errors),n.xp6(1),n.Q6J("ngIf",17==re.formCreationPersonnePhysique.value.sexe),n.xp6(4),n.Q6J("readonly",!1),n.xp6(1),n.Q6J("ngIf",re.formCreationPersonnePhysique.controls.prenom1.errors),n.xp6(9),n.Q6J("expanded",!0),n.xp6(9),n.Q6J("ngForOf",re.situationsFamiliale),n.xp6(5),n.Q6J("ngIf",re.formCreationPersonnePhysique.controls.nin.errors),n.xp6(4),n.Q6J("max",re.minDate)("matDatepicker",le),n.xp6(1),n.Q6J("for",le),n.xp6(3),n.Q6J("ngIf",re.formCreationPersonnePhysique.controls.dateNaissance.errors),n.xp6(5),n.Q6J("ngForOf",re.nationalites),n.xp6(1),n.Q6J("ngIf",re.formCreationPersonnePhysique.controls.nationalite.errors),n.xp6(1),n.Q6J("expanded",!0),n.xp6(5),n.Q6J("ngIf",re.formCreationAdresse),n.xp6(1),n.Q6J("expanded",!0),n.xp6(5),n.Q6J("ngIf",re.formCreationContact),n.xp6(4),n.Q6J("ngIf",C.invalid),n.xp6(1),n.Q6J("ngIf",!C.invalid)}}function md(v,H){if(1&v&&(n.TgZ(0,"div",12),n.YNc(1,va,84,29,"form",16),n.qZA()),2&v){const C=n.oxw(2);n.xp6(1),n.Q6J("ngIf",C.formCreationPersonnePhysique)}}function M_(v,H){1&v&&(n.TgZ(0,"div"),n._uU(1," ce champs est obligatoire"),n.qZA())}function U_(v,H){if(1&v&&(n.TgZ(0,"mat-error",52),n.YNc(1,M_,2,0,"div",22),n.qZA()),2&v){const C=n.oxw(4);n.xp6(1),n.Q6J("ngIf",C.formCreationPersonneMorale.controls.raisonSocial.errors.required)}}function $u(v,H){1&v&&(n.TgZ(0,"div"),n._uU(1," Format NIF invalide "),n.qZA())}function dd(v,H){if(1&v&&(n.TgZ(0,"mat-error",52),n.YNc(1,$u,2,0,"div",22),n.qZA()),2&v){const C=n.oxw(4);n.xp6(1),n.Q6J("ngIf",C.formCreationPersonneMorale.controls.nif.errors.pattern)}}function Bd(v,H){1&v&&(n.TgZ(0,"div"),n._uU(1," ce champs est obligatoire"),n.qZA())}function F_(v,H){1&v&&(n.TgZ(0,"div"),n._uU(1," Format Date invalide "),n.qZA())}function fc(v,H){if(1&v&&(n.TgZ(0,"mat-error",52),n.YNc(1,Bd,2,0,"div",22),n.YNc(2,F_,2,0,"div",22),n.qZA()),2&v){const C=n.oxw(4);n.xp6(1),n.Q6J("ngIf",C.formCreationPersonneMorale.controls.dateOuverture.errors.required),n.xp6(1),n.Q6J("ngIf",C.formCreationPersonneMorale.controls.dateOuverture.errors.matDatepickerParse)}}function Q_(v,H){if(1&v&&(n.ynx(0),n.TgZ(1,"mat-option",51),n._uU(2),n.qZA(),n.BQk()),2&v){const C=H.$implicit;n.xp6(1),n.Q6J("value",C.idParam),n.xp6(1),n.Oqu(C.description)}}function J_(v,H){if(1&v&&(n.ynx(0),n.TgZ(1,"mat-option",51),n._uU(2),n.qZA(),n.BQk()),2&v){const C=H.$implicit;n.xp6(1),n.Q6J("value",C),n.xp6(1),n.Oqu(C)}}function zd(v,H){if(1&v&&(n.ynx(0),n.TgZ(1,"mat-option",51),n._uU(2),n.qZA(),n.BQk()),2&v){const C=H.$implicit;n.xp6(1),n.Q6J("value",C),n.xp6(1),n.Oqu(C.description)}}function Vd(v,H){if(1&v&&(n.ynx(0),n.TgZ(1,"mat-option",51),n._uU(2),n.qZA(),n.BQk()),2&v){const C=H.$implicit;n.xp6(1),n.Q6J("value",C),n.xp6(1),n.Oqu(C.description)}}function L_(v,H){if(1&v&&(n.ynx(0),n.TgZ(1,"mat-option",51),n._uU(2),n.qZA(),n.BQk()),2&v){const C=H.$implicit;n.xp6(1),n.Q6J("value",C),n.xp6(1),n.Oqu(C.description)}}function _d(v,H){if(1&v&&(n.ynx(0),n.TgZ(1,"mat-option",51),n._uU(2),n.qZA(),n.BQk()),2&v){const C=H.$implicit;n.xp6(1),n.Q6J("value",C),n.xp6(1),n.Oqu(C.codePostal)}}function jd(v,H){if(1&v){const C=n.EpF();n.TgZ(0,"button",67),n.NdJ("click",function(){n.CHM(C),n.oxw(2);const re=n.MAs(1),Fe=n.oxw(4);return n.KtG(Fe.ajouterAdresse(re))}),n.TgZ(1,"mat-icon",68),n._uU(2,"add_circle"),n.qZA(),n._uU(3," Ajouter l'adresse "),n.qZA()}}function bm(v,H){if(1&v){const C=n.EpF();n.TgZ(0,"button",69),n.NdJ("click",function(){n.CHM(C),n.oxw(2);const re=n.MAs(1),Fe=n.oxw(4);return n.KtG(Fe.ajouterAdresse(re))}),n.TgZ(1,"mat-icon",68),n._uU(2,"add_circle"),n.qZA(),n._uU(3," Ajouter l'adresse "),n.qZA()}}function pd(v,H){if(1&v){const C=n.EpF();n.TgZ(0,"div",57)(1,"mat-form-field",47)(2,"mat-label"),n._uU(3,"Adresse"),n.qZA(),n._UZ(4,"input",58),n.qZA(),n.TgZ(5,"mat-form-field",27)(6,"mat-label"),n._uU(7," Pays "),n.qZA(),n.TgZ(8,"mat-select",59),n.YNc(9,zd,3,2,"ng-container",29),n.qZA()(),n.TgZ(10,"mat-form-field",31)(11,"mat-label"),n._uU(12," Wilaya "),n.qZA(),n.TgZ(13,"mat-select",60),n.NdJ("selectionChange",function(re){n.CHM(C);const Fe=n.oxw(5);return n.KtG(Fe.getCommuneByWilaya(re.value))}),n.YNc(14,Vd,3,2,"ng-container",29),n.qZA()(),n.TgZ(15,"div",61)(16,"mat-form-field",27)(17,"mat-label"),n._uU(18," Commune "),n.qZA(),n.TgZ(19,"mat-select",62),n.NdJ("selectionChange",function(re){n.CHM(C);const Fe=n.oxw(5);return n.KtG(Fe.getCodeByCommune(re.value))}),n.YNc(20,L_,3,2,"ng-container",29),n.qZA(),n.TgZ(21,"mat-hint"),n._uU(22,"Veuillez saisir la wilaya avant !"),n.qZA()(),n.TgZ(23,"mat-form-field",31)(24,"mat-label"),n._uU(25," Code postal "),n.qZA(),n.TgZ(26,"mat-select",63),n.YNc(27,_d,3,2,"ng-container",29),n.qZA(),n.TgZ(28,"mat-hint"),n._uU(29,"Veuillez saisir la commune avant !"),n.qZA()()(),n.TgZ(30,"div",64),n.YNc(31,jd,4,0,"button",65),n.YNc(32,bm,4,0,"button",66),n.qZA()()}if(2&v){const C=n.oxw(5);n.xp6(9),n.Q6J("ngForOf",C.pays),n.xp6(5),n.Q6J("ngForOf",C.wilayas),n.xp6(6),n.Q6J("ngForOf",C.communes),n.xp6(7),n.Q6J("ngForOf",C.codesPostal),n.xp6(4),n.Q6J("ngIf",""!=C.formCreationAdresse.value.description&&""!=C.formCreationAdresse.value.pays&&""!=C.formCreationAdresse.value.wilaya&&""!=C.formCreationAdresse.value.commune&&""!=C.formCreationAdresse.value.codePostal),n.xp6(1),n.Q6J("ngIf",""==C.formCreationAdresse.value.description||""==C.formCreationAdresse.value.pays||""==C.formCreationAdresse.value.wilaya||""==C.formCreationAdresse.value.commune||""==C.formCreationAdresse.value.codePostal)}}function Hd(v,H){if(1&v&&(n.TgZ(0,"th",84)(1,"div",85)(2,"span"),n._uU(3,"Liste des adresses "),n.qZA()()()),2&v){const C=n.oxw(6);n.uIk("colspan",C.lengthColumnsAdresse)}}function Bm(v,H){1&v&&(n.TgZ(0,"th",84),n._uU(1," Description "),n.qZA())}function Pm(v,H){if(1&v){const C=n.EpF();n.TgZ(0,"mat-form-field",33)(1,"input",88),n.NdJ("ngModelChange",function(re){n.CHM(C);const Fe=n.oxw().$implicit;return n.KtG(Fe.description=re)}),n.qZA()()}if(2&v){const C=n.oxw().$implicit;n.xp6(1),n.Q6J("ngModel",C.description)("ngModelOptions",n.DdM(3,kn))("value",C.description)}}function fd(v,H){if(1&v&&(n.ynx(0),n._uU(1),n.BQk()),2&v){const C=n.oxw().$implicit;n.xp6(1),n.hij(" ",C.description," ")}}function ls(v,H){if(1&v&&(n.TgZ(0,"td",86),n.YNc(1,Pm,2,4,"mat-form-field",87),n.YNc(2,fd,2,1,"ng-container",22),n.qZA()),2&v){const C=n.oxw(6);n.xp6(1),n.Q6J("ngIf",(C.formCreationPersonnePhysique||C.formCreationPersonneMorale)&&!(null!=C.formCreationPersonnePhysique&&C.formCreationPersonnePhysique.disabled)&&!(null!=C.formCreationPersonneMorale&&C.formCreationPersonneMorale.disabled)),n.xp6(1),n.Q6J("ngIf",(null==C.formCreationPersonnePhysique?null:C.formCreationPersonnePhysique.disabled)||(null==C.formCreationPersonneMorale?null:C.formCreationPersonneMorale.disabled))}}function Il(v,H){1&v&&(n.TgZ(0,"th",84),n._uU(1," Pays "),n.qZA())}function er(v,H){if(1&v&&(n.ynx(0),n.TgZ(1,"mat-option",51),n._uU(2),n.qZA(),n.BQk()),2&v){const C=H.$implicit;n.xp6(1),n.Q6J("value",C.idPays),n.xp6(1),n.Oqu(C.description)}}function Xc(v,H){if(1&v){const C=n.EpF();n.TgZ(0,"mat-form-field",33)(1,"mat-select",89),n.NdJ("ngModelChange",function(re){n.CHM(C);const Fe=n.oxw().$implicit;return n.KtG(Fe.pays=re)}),n.YNc(2,er,3,2,"ng-container",29),n.qZA()()}if(2&v){const C=n.oxw().$implicit,le=n.oxw(6);n.xp6(1),n.Q6J("ngModel",null==C.pays?null:C.pays.idPays)("ngModelOptions",n.DdM(4,kn))("value",null==C.pays?null:C.pays.idPays),n.xp6(1),n.Q6J("ngForOf",le.pays)}}function gd(v,H){if(1&v&&(n.ynx(0),n._uU(1),n.BQk()),2&v){const C=n.oxw().$implicit;n.xp6(1),n.hij(" ",null==C.pays?null:C.pays.description," ")}}function hd(v,H){if(1&v&&(n.TgZ(0,"td",86),n.YNc(1,Xc,3,5,"mat-form-field",87),n.YNc(2,gd,2,1,"ng-container",22),n.qZA()),2&v){const C=n.oxw(6);n.xp6(1),n.Q6J("ngIf",(C.formCreationPersonnePhysique||C.formCreationPersonneMorale)&&!(null!=C.formCreationPersonnePhysique&&C.formCreationPersonnePhysique.disabled)&&!(null!=C.formCreationPersonneMorale&&C.formCreationPersonneMorale.disabled)),n.xp6(1),n.Q6J("ngIf",(null==C.formCreationPersonnePhysique?null:C.formCreationPersonnePhysique.disabled)||(null==C.formCreationPersonneMorale?null:C.formCreationPersonneMorale.disabled))}}function Y_(v,H){1&v&&(n.TgZ(0,"th",84),n._uU(1," Wilaya "),n.qZA())}function G_(v,H){if(1&v&&(n.ynx(0),n.TgZ(1,"mat-option",51),n._uU(2),n.qZA(),n.BQk()),2&v){const C=H.$implicit;n.xp6(1),n.Q6J("value",C.idWilaya),n.xp6(1),n.Oqu(C.description)}}function B_(v,H){if(1&v){const C=n.EpF();n.TgZ(0,"mat-form-field",33)(1,"mat-select",89),n.NdJ("ngModelChange",function(re){n.CHM(C);const Fe=n.oxw().$implicit;return n.KtG(Fe.wilaya=re)}),n.YNc(2,G_,3,2,"ng-container",29),n.qZA()()}if(2&v){const C=n.oxw().$implicit,le=n.oxw(6);n.xp6(1),n.Q6J("ngModel",null==C.wilaya?null:C.wilaya.idWilaya)("ngModelOptions",n.DdM(4,kn))("value",null==C.wilaya?null:C.wilaya.idWilaya),n.xp6(1),n.Q6J("ngForOf",le.wilayas)}}function z_(v,H){if(1&v&&(n.ynx(0),n._uU(1),n.BQk()),2&v){const C=n.oxw().$implicit;n.xp6(1),n.hij(" ",null==C.wilaya?null:C.wilaya.description," ")}}function Cd(v,H){if(1&v&&(n.TgZ(0,"td",86),n.YNc(1,B_,3,5,"mat-form-field",87),n.YNc(2,z_,2,1,"ng-container",22),n.qZA()),2&v){const C=n.oxw(6);n.xp6(1),n.Q6J("ngIf",(C.formCreationPersonnePhysique||C.formCreationPersonneMorale)&&!(null!=C.formCreationPersonnePhysique&&C.formCreationPersonnePhysique.disabled)&&!(null!=C.formCreationPersonneMorale&&C.formCreationPersonneMorale.disabled)),n.xp6(1),n.Q6J("ngIf",(null==C.formCreationPersonnePhysique?null:C.formCreationPersonnePhysique.disabled)||(null==C.formCreationPersonneMorale?null:C.formCreationPersonneMorale.disabled))}}function V_(v,H){1&v&&(n.TgZ(0,"th",84),n._uU(1," Commune "),n.qZA())}function j_(v,H){if(1&v&&(n.ynx(0),n.TgZ(1,"mat-option",51),n._uU(2),n.qZA(),n.BQk()),2&v){const C=H.$implicit;n.xp6(1),n.Q6J("value",C.idCommune),n.xp6(1),n.Oqu(C.description)}}function H_(v,H){if(1&v){const C=n.EpF();n.TgZ(0,"mat-form-field",33)(1,"mat-select",89),n.NdJ("ngModelChange",function(re){n.CHM(C);const Fe=n.oxw().$implicit;return n.KtG(Fe.commune=re)}),n.YNc(2,j_,3,2,"ng-container",29),n.qZA()()}if(2&v){const C=n.oxw().$implicit,le=n.oxw(6);n.xp6(1),n.Q6J("ngModel",null==C.commune?null:C.commune.idCommune)("ngModelOptions",n.DdM(4,kn))("value",null==C.commune?null:C.commune.idCommune),n.xp6(1),n.Q6J("ngForOf",le.communes)}}function $_(v,H){if(1&v&&(n.ynx(0),n._uU(1),n.BQk()),2&v){const C=n.oxw().$implicit;n.xp6(1),n.hij(" ",null==C.commune?null:C.commune.description," ")}}function $d(v,H){if(1&v&&(n.TgZ(0,"td",86),n.YNc(1,H_,3,5,"mat-form-field",87),n.YNc(2,$_,2,1,"ng-container",22),n.qZA()),2&v){const C=n.oxw(6);n.xp6(1),n.Q6J("ngIf",(C.formCreationPersonnePhysique||C.formCreationPersonneMorale)&&!(null!=C.formCreationPersonnePhysique&&C.formCreationPersonnePhysique.disabled)&&!(null!=C.formCreationPersonneMorale&&C.formCreationPersonneMorale.disabled)),n.xp6(1),n.Q6J("ngIf",(null==C.formCreationPersonnePhysique?null:C.formCreationPersonnePhysique.disabled)||(null==C.formCreationPersonneMorale?null:C.formCreationPersonneMorale.disabled))}}function xd(v,H){1&v&&(n.TgZ(0,"th",84),n._uU(1," Code postal "),n.qZA())}function Kd(v,H){if(1&v&&(n.ynx(0),n.TgZ(1,"mat-option",51),n._uU(2),n.qZA(),n.BQk()),2&v){const C=H.$implicit;n.xp6(1),n.Q6J("value",C.idCodePostal),n.xp6(1),n.Oqu(C.codePostal)}}function K_(v,H){if(1&v){const C=n.EpF();n.TgZ(0,"mat-form-field",33)(1,"mat-select",89),n.NdJ("ngModelChange",function(re){n.CHM(C);const Fe=n.oxw().$implicit;return n.KtG(Fe.codePostal=re)}),n.YNc(2,Kd,3,2,"ng-container",29),n.qZA()()}if(2&v){const C=n.oxw().$implicit,le=n.oxw(6);n.xp6(1),n.Q6J("ngModel",null==C.codePostal?null:C.codePostal.idCodePostal)("ngModelOptions",n.DdM(4,kn))("value",null==C.codePostal?null:C.codePostal.idCodePostal),n.xp6(1),n.Q6J("ngForOf",le.codesPostal)}}function W_(v,H){if(1&v&&(n.ynx(0),n._uU(1),n.BQk()),2&v){const C=n.oxw().$implicit;n.xp6(1),n.hij(" ",null==C.codePostal?null:C.codePostal.codePostal," ")}}function X_(v,H){if(1&v&&(n.TgZ(0,"td",86),n.YNc(1,K_,3,5,"mat-form-field",87),n.YNc(2,W_,2,1,"ng-container",22),n.qZA()),2&v){const C=n.oxw(6);n.xp6(1),n.Q6J("ngIf",(C.formCreationPersonnePhysique||C.formCreationPersonneMorale)&&!(null!=C.formCreationPersonnePhysique&&C.formCreationPersonnePhysique.disabled)&&!(null!=C.formCreationPersonneMorale&&C.formCreationPersonneMorale.disabled)),n.xp6(1),n.Q6J("ngIf",(null==C.formCreationPersonnePhysique?null:C.formCreationPersonnePhysique.disabled)||(null==C.formCreationPersonneMorale?null:C.formCreationPersonneMorale.disabled))}}function Wd(v,H){1&v&&n._UZ(0,"tr",90)}function Xd(v,H){1&v&&n._UZ(0,"tr",91)}function Mc(v,H){1&v&&n._UZ(0,"tr",92)}function ep(v,H){if(1&v&&(n.TgZ(0,"div",70)(1,"table",71),n.ynx(2,72),n.YNc(3,Hd,4,1,"th",73),n.BQk(),n.ynx(4,74),n.YNc(5,Bm,2,0,"th",73),n.YNc(6,ls,3,2,"td",75),n.BQk(),n.ynx(7,76),n.YNc(8,Il,2,0,"th",73),n.YNc(9,hd,3,2,"td",75),n.BQk(),n.ynx(10,77),n.YNc(11,Y_,2,0,"th",73),n.YNc(12,Cd,3,2,"td",75),n.BQk(),n.ynx(13,78),n.YNc(14,V_,2,0,"th",73),n.YNc(15,$d,3,2,"td",75),n.BQk(),n.ynx(16,79),n.YNc(17,xd,2,0,"th",73),n.YNc(18,X_,3,2,"td",75),n.BQk(),n.YNc(19,Wd,1,0,"tr",80),n.YNc(20,Xd,1,0,"tr",81),n.YNc(21,Mc,1,0,"tr",82),n.qZA(),n._UZ(22,"mat-paginator",83),n.qZA()),2&v){const C=n.oxw(5);n.xp6(1),n.Q6J("dataSource",C.adresses),n.xp6(18),n.Q6J("matHeaderRowDef",n.DdM(6,Qm)),n.xp6(1),n.Q6J("matHeaderRowDef",C.displayedColumnsAdresse),n.xp6(1),n.Q6J("matRowDefColumns",C.displayedColumnsAdresse),n.xp6(1),n.Q6J("pageSize",5)("pageSizeOptions",n.DdM(7,Oc))}}function tp(v,H){if(1&v&&(n.TgZ(0,"form",25,54),n.YNc(2,pd,33,6,"div",55),n.YNc(3,ep,23,8,"div",56),n.qZA()),2&v){const C=n.oxw(4);n.Q6J("formGroup",C.formCreationAdresse),n.xp6(2),n.Q6J("ngIf",!(null!=C.formCreationPersonnePhysique&&C.formCreationPersonnePhysique.disabled||null!=C.formCreationPersonneMorale&&C.formCreationPersonneMorale.disabled)),n.xp6(1),n.Q6J("ngIf",0!=(null==C.adresses.data?null:C.adresses.data.length))}}function np(v,H){if(1&v&&(n.ynx(0),n.TgZ(1,"mat-option",51),n._uU(2),n.qZA(),n.BQk()),2&v){const C=H.$implicit;n.xp6(1),n.Q6J("value",C),n.xp6(1),n.Oqu(C.description)}}function ip(v,H){1&v&&n._UZ(0,"input",99)}function Bl(v,H){1&v&&(n.TgZ(0,"div"),n._uU(1," Format email invalide "),n.qZA())}function op(v,H){if(1&v&&(n.TgZ(0,"mat-error",52),n.YNc(1,Bl,2,0,"div",22),n.qZA()),2&v){const C=n.oxw(6);n.xp6(1),n.Q6J("ngIf",C.formCreationContact.controls.description.errors.pattern)}}function e_(v,H){1&v&&n._UZ(0,"input",118)}function t_(v,H){1&v&&(n.TgZ(0,"div"),n._uU(1," Le format du N\xb0T\xe9l\xe9phone est invalide "),n.qZA())}function n_(v,H){if(1&v&&(n.TgZ(0,"mat-error",52),n.YNc(1,t_,2,0,"div",22),n.qZA()),2&v){const C=n.oxw(6);n.xp6(1),n.Q6J("ngIf",C.formCreationContact.controls.description.errors.pattern)}}function rp(v,H){if(1&v){const C=n.EpF();n.TgZ(0,"button",67),n.NdJ("click",function(){n.CHM(C),n.oxw(2);const re=n.MAs(1),Fe=n.oxw(4);return n.KtG(Fe.ajouterContact(re))}),n.TgZ(1,"mat-icon",102),n._uU(2,"add_circle"),n.qZA(),n._uU(3," Ajouter le contact "),n.qZA()}}function ap(v,H){if(1&v){const C=n.EpF();n.TgZ(0,"button",69),n.NdJ("click",function(){n.CHM(C),n.oxw(2);const re=n.MAs(1),Fe=n.oxw(4);return n.KtG(Fe.ajouterContact(re))}),n.TgZ(1,"mat-icon",102),n._uU(2,"add_circle"),n.qZA(),n._uU(3," Ajouter le contact "),n.qZA()}}function sp(v,H){if(1&v){const C=n.EpF();n.TgZ(0,"div",57)(1,"div",61)(2,"mat-form-field",27)(3,"mat-label"),n._uU(4," Type contact "),n.qZA(),n.TgZ(5,"mat-select",94),n.NdJ("selectionChange",function(){n.CHM(C);const re=n.oxw(5);return n.KtG(re.formCreationContact.get("description").enable())}),n.YNc(6,np,3,2,"ng-container",29),n.qZA()(),n.TgZ(7,"mat-form-field",95)(8,"mat-label"),n._uU(9,"Contact"),n.qZA(),n.YNc(10,ip,1,0,"input",96),n.YNc(11,op,2,1,"mat-error",30),n.YNc(12,e_,1,0,"input",117),n.YNc(13,n_,2,1,"mat-error",30),n.qZA()(),n.TgZ(14,"div",64),n.YNc(15,rp,4,0,"button",65),n.YNc(16,ap,4,0,"button",66),n.qZA()()}if(2&v){const C=n.oxw(5);n.xp6(6),n.Q6J("ngForOf",C.types_contact),n.xp6(4),n.Q6J("ngIf","email"==C.formCreationContact.value.typeContact.description),n.xp6(1),n.Q6J("ngIf",C.formCreationContact.controls.description.errors&&"email"==C.formCreationContact.value.typeContact.description),n.xp6(1),n.Q6J("ngIf","email"!=C.formCreationContact.value.typeContact.description),n.xp6(1),n.Q6J("ngIf",C.formCreationContact.controls.description.errors&&"email"!=C.formCreationContact.value.typeContact.description),n.xp6(2),n.Q6J("ngIf",""!=C.formCreationContact.value.typeContact&&""!=C.formCreationContact.value.description),n.xp6(1),n.Q6J("ngIf",""==C.formCreationContact.value.typeContact||""==C.formCreationContact.value.description)}}function lp(v,H){if(1&v&&(n.TgZ(0,"th",84)(1,"div",85)(2,"span"),n._uU(3,"Liste des contacts "),n.qZA()()()),2&v){const C=n.oxw(6);n.uIk("colspan",C.lengthColumnsContact)}}function vd(v,H){1&v&&(n.TgZ(0,"th",84),n._uU(1," Type contact "),n.qZA())}function Ad(v,H){if(1&v&&(n.ynx(0),n.TgZ(1,"mat-option",51),n._uU(2),n.qZA(),n.BQk()),2&v){const C=H.$implicit;n.xp6(1),n.Q6J("value",C.idParam),n.xp6(1),n.Oqu(C.description)}}function i_(v,H){if(1&v){const C=n.EpF();n.TgZ(0,"mat-form-field",33)(1,"mat-select",89),n.NdJ("ngModelChange",function(re){n.CHM(C);const Fe=n.oxw().$implicit;return n.KtG(Fe.typeContact=re)}),n.YNc(2,Ad,3,2,"ng-container",29),n.qZA()()}if(2&v){const C=n.oxw().$implicit,le=n.oxw(6);n.xp6(1),n.Q6J("ngModel",null==C.typeContact?null:C.typeContact.idParam)("ngModelOptions",n.DdM(4,kn))("value",null==C.typeContact?null:C.typeContact.idParam),n.xp6(1),n.Q6J("ngForOf",le.types_contact)}}function cp(v,H){if(1&v&&(n.ynx(0),n._uU(1),n.BQk()),2&v){const C=n.oxw().$implicit;n.xp6(1),n.hij(" ",null==C.typeContact?null:C.typeContact.description," ")}}function up(v,H){if(1&v&&(n.TgZ(0,"td",86),n.YNc(1,i_,3,5,"mat-form-field",87),n.YNc(2,cp,2,1,"ng-container",22),n.qZA()),2&v){const C=n.oxw(6);n.xp6(1),n.Q6J("ngIf",(C.formCreationPersonnePhysique||C.formCreationPersonneMorale)&&!(null!=C.formCreationPersonnePhysique&&C.formCreationPersonnePhysique.disabled)&&!(null!=C.formCreationPersonneMorale&&C.formCreationPersonneMorale.disabled)),n.xp6(1),n.Q6J("ngIf",(null==C.formCreationPersonnePhysique?null:C.formCreationPersonnePhysique.disabled)||(null==C.formCreationPersonneMorale?null:C.formCreationPersonneMorale.disabled))}}function mp(v,H){1&v&&(n.TgZ(0,"th",84),n._uU(1," Contact "),n.qZA())}function dp(v,H){if(1&v){const C=n.EpF();n.TgZ(0,"mat-form-field",33)(1,"input",88),n.NdJ("ngModelChange",function(re){n.CHM(C);const Fe=n.oxw().$implicit;return n.KtG(Fe.description=re)}),n.qZA()()}if(2&v){const C=n.oxw().$implicit;n.xp6(1),n.Q6J("ngModel",C.description)("ngModelOptions",n.DdM(3,kn))("value",C.description)}}function _p(v,H){if(1&v&&(n.ynx(0),n._uU(1),n.BQk()),2&v){const C=n.oxw().$implicit;n.xp6(1),n.hij(" ",C.description," ")}}function o_(v,H){if(1&v&&(n.TgZ(0,"td",86),n.YNc(1,dp,2,4,"mat-form-field",87),n.YNc(2,_p,2,1,"ng-container",22),n.qZA()),2&v){const C=n.oxw(6);n.xp6(1),n.Q6J("ngIf",(C.formCreationPersonnePhysique||C.formCreationPersonneMorale)&&!(null!=C.formCreationPersonnePhysique&&C.formCreationPersonnePhysique.disabled)&&!(null!=C.formCreationPersonneMorale&&C.formCreationPersonneMorale.disabled)),n.xp6(1),n.Q6J("ngIf",(null==C.formCreationPersonnePhysique?null:C.formCreationPersonnePhysique.disabled)||(null==C.formCreationPersonneMorale?null:C.formCreationPersonneMorale.disabled))}}function pp(v,H){1&v&&n._UZ(0,"tr",90)}function Zm(v,H){1&v&&n._UZ(0,"tr",91)}function fp(v,H){1&v&&n._UZ(0,"tr",92)}function gp(v,H){if(1&v&&(n.TgZ(0,"div",70)(1,"table",103),n.ynx(2,104),n.YNc(3,lp,4,1,"th",73),n.BQk(),n.ynx(4,105),n.YNc(5,vd,2,0,"th",73),n.YNc(6,up,3,2,"td",75),n.BQk(),n.ynx(7,74),n.YNc(8,mp,2,0,"th",73),n.YNc(9,o_,3,2,"td",75),n.BQk(),n.YNc(10,pp,1,0,"tr",80),n.YNc(11,Zm,1,0,"tr",81),n.YNc(12,fp,1,0,"tr",82),n.qZA(),n._UZ(13,"mat-paginator",83),n.qZA()),2&v){const C=n.oxw(5);n.xp6(1),n.Q6J("dataSource",C.contacts),n.xp6(9),n.Q6J("matHeaderRowDef",n.DdM(6,Gd)),n.xp6(1),n.Q6J("matHeaderRowDef",C.displayedColumnsContact),n.xp6(1),n.Q6J("matRowDefColumns",C.displayedColumnsContact),n.xp6(1),n.Q6J("pageSize",5)("pageSizeOptions",n.DdM(7,Oc))}}function zm(v,H){if(1&v&&(n.TgZ(0,"form",25,93),n.YNc(2,sp,17,7,"div",55),n.YNc(3,gp,14,8,"div",56),n.qZA()),2&v){const C=n.oxw(4);n.Q6J("formGroup",C.formCreationContact),n.xp6(2),n.Q6J("ngIf",!(null!=C.formCreationPersonnePhysique&&C.formCreationPersonnePhysique.disabled||null!=C.formCreationPersonneMorale&&C.formCreationPersonneMorale.disabled)),n.xp6(1),n.Q6J("ngIf",0!=(null==C.contacts.data?null:C.contacts.data.length))}}function r_(v,H){1&v&&(n.TgZ(0,"button",106),n._uU(1,"Suivant"),n.qZA())}function hp(v,H){1&v&&(n.TgZ(0,"button",19),n._uU(1,"Suivant"),n.qZA())}function Cp(v,H){if(1&v){const C=n.EpF();n.TgZ(0,"form",25,26)(2,"mat-accordion",13)(3,"mat-expansion-panel",14)(4,"mat-expansion-panel-header")(5,"mat-panel-title"),n._uU(6," Informations g\xe9n\xe9rales "),n.qZA()(),n.TgZ(7,"div",15)(8,"mat-form-field",36)(9,"mat-label"),n._uU(10,"Raison social"),n.qZA(),n._UZ(11,"input",107),n.YNc(12,U_,2,1,"mat-error",30),n.qZA(),n.TgZ(13,"mat-form-field",108)(14,"mat-label"),n._uU(15,"NIF"),n.qZA(),n._UZ(16,"input",109),n.YNc(17,dd,2,1,"mat-error",30),n.qZA(),n.TgZ(18,"mat-form-field",40)(19,"mat-label"),n._uU(20,"Date ouverture"),n.qZA(),n._UZ(21,"input",110)(22,"mat-datepicker-toggle",45)(23,"mat-datepicker",null,111),n.YNc(25,fc,3,2,"mat-error",30),n.qZA(),n.TgZ(26,"mat-form-field",27)(27,"mat-label"),n._uU(28," Segment "),n.qZA(),n.TgZ(29,"mat-select",112),n.YNc(30,Q_,3,2,"ng-container",29),n.qZA()(),n.TgZ(31,"mat-form-field",31)(32,"mat-label"),n._uU(33," Statut juridique "),n.qZA(),n.TgZ(34,"mat-select",113),n.YNc(35,J_,3,2,"ng-container",29),n.qZA()()()(),n.TgZ(36,"mat-expansion-panel",14)(37,"mat-expansion-panel-header")(38,"mat-panel-title"),n._uU(39," Informations compl\xe9mentaires "),n.qZA()(),n.TgZ(40,"div",15)(41,"mat-form-field",36)(42,"mat-label"),n._uU(43,"Chiffre d'affaire"),n.qZA(),n._UZ(44,"input",114),n.qZA(),n.TgZ(45,"mat-form-field",38)(46,"mat-label"),n._uU(47,"Capital social"),n.qZA(),n._UZ(48,"input",115),n.qZA(),n.TgZ(49,"mat-form-field",38)(50,"mat-label"),n._uU(51,"Nombre de salari\xe9s"),n.qZA(),n._UZ(52,"input",116),n.qZA()()(),n.TgZ(53,"mat-expansion-panel",14)(54,"mat-expansion-panel-header")(55,"mat-panel-title"),n._uU(56," Adresses "),n.qZA()(),n.TgZ(57,"div",15),n.YNc(58,tp,4,3,"form",16),n.qZA()(),n.TgZ(59,"mat-expansion-panel",14)(60,"mat-expansion-panel-header")(61,"mat-panel-title"),n._uU(62," Contacts "),n.qZA()(),n.TgZ(63,"div",15),n.YNc(64,zm,4,3,"form",16),n.qZA()()(),n.TgZ(65,"div",17)(66,"button",49),n.NdJ("mouseup",function(){n.CHM(C);const re=n.oxw(3);return n.KtG(re.back())}),n._uU(67,"Retour"),n.qZA(),n.YNc(68,r_,2,0,"button",50),n.YNc(69,hp,2,0,"button",21),n.qZA()()}if(2&v){const C=n.MAs(1),le=n.MAs(24),re=n.oxw(3);n.Q6J("formGroup",re.formCreationPersonneMorale),n.xp6(3),n.Q6J("expanded",!0),n.xp6(8),n.Q6J("readonly",!1),n.xp6(1),n.Q6J("ngIf",re.formCreationPersonneMorale.controls.raisonSocial.errors),n.xp6(5),n.Q6J("ngIf",re.formCreationPersonneMorale.controls.nif.errors),n.xp6(4),n.Q6J("max",re.minDate)("matDatepicker",le),n.xp6(1),n.Q6J("for",le),n.xp6(3),n.Q6J("ngIf",re.formCreationPersonneMorale.controls.dateOuverture.errors),n.xp6(5),n.Q6J("ngForOf",re.typesEntreprise),n.xp6(5),n.Q6J("ngForOf",re.statuts),n.xp6(1),n.Q6J("expanded",!0),n.xp6(17),n.Q6J("expanded",!0),n.xp6(5),n.Q6J("ngIf",re.formCreationAdresse),n.xp6(1),n.Q6J("expanded",!0),n.xp6(5),n.Q6J("ngIf",re.formCreationContact),n.xp6(4),n.Q6J("ngIf",C.invalid),n.xp6(1),n.Q6J("ngIf",!C.invalid)}}function La(v,H){if(1&v&&(n.TgZ(0,"div",12),n.YNc(1,Cp,70,18,"form",16),n.qZA()),2&v){const C=n.oxw(2);n.xp6(1),n.Q6J("ngIf",C.formCreationPersonneMorale)}}function qm(v,H){1&v&&n._uU(0,"Donn\xe9es professionnelles")}function Sm(v,H){if(1&v&&(n.TgZ(0,"mat-option",51),n._uU(1),n.qZA()),2&v){const C=n.oxw().$implicit;n.Q6J("value",C),n.xp6(1),n.Oqu(C.description)}}function Vm(v,H){if(1&v&&(n.TgZ(0,"mat-option",51),n._uU(1),n.qZA()),2&v){const C=n.oxw().$implicit;n.Q6J("value",C.idSecteur),n.xp6(1),n.Oqu(C.description)}}function ym(v,H){if(1&v&&(n.ynx(0),n.YNc(1,Sm,2,2,"mat-option",122),n.YNc(2,Vm,2,2,"mat-option",122),n.BQk()),2&v){const C=n.oxw(4);n.xp6(1),n.Q6J("ngIf",C.personne),n.xp6(1),n.Q6J("ngIf",!C.personne)}}function Ku(v,H){if(1&v&&(n.ynx(0),n.TgZ(1,"mat-option",51),n._uU(2),n.qZA(),n.BQk()),2&v){const C=H.$implicit;n.xp6(1),n.Q6J("value",C),n.xp6(1),n.Oqu(C.description)}}function bu(v,H){if(1&v&&(n.TgZ(0,"mat-form-field",31)(1,"mat-label"),n._uU(2," Profession "),n.qZA(),n.TgZ(3,"mat-select",123),n.YNc(4,Ku,3,2,"ng-container",29),n.qZA()()),2&v){const C=n.oxw(4);n.xp6(4),n.Q6J("ngForOf",C.professions)}}function xp(v,H){if(1&v){const C=n.EpF();n.TgZ(0,"button",67),n.NdJ("click",function(){n.CHM(C),n.oxw(3);const re=n.MAs(1),Fe=n.oxw(2);return n.KtG(Fe.ajouterSecteur(re))}),n.TgZ(1,"mat-icon",124),n._uU(2,"add_circle"),n.qZA(),n._uU(3," Ajouter le secteur d'activit\xe9 "),n.qZA()}}function a_(v,H){if(1&v){const C=n.EpF();n.TgZ(0,"button",69),n.NdJ("click",function(){n.CHM(C),n.oxw(3);const re=n.MAs(1),Fe=n.oxw(2);return n.KtG(Fe.ajouterSecteur(re))}),n.TgZ(1,"mat-icon",124),n._uU(2,"add_circle"),n.qZA(),n._uU(3," Ajouter le secteur d'activit\xe9 "),n.qZA()}}function Nm(v,H){if(1&v&&(n.TgZ(0,"div",64),n.YNc(1,xp,4,0,"button",65),n.YNc(2,a_,4,0,"button",66),n.qZA()),2&v){const C=n.oxw(4);n.xp6(1),n.Q6J("ngIf",""!=C.formCreationProfession.value.secteurActivite&&""!=C.formCreationProfession.value.profession),n.xp6(1),n.Q6J("ngIf",""==C.formCreationProfession.value.secteurActivite||""==C.formCreationProfession.value.profession)}}function Wu(v,H){if(1&v&&(n.TgZ(0,"div",57)(1,"div",61)(2,"mat-form-field",33)(3,"mat-label"),n._uU(4," secteur d'activit\xe9 "),n.qZA(),n.TgZ(5,"mat-select",120),n.YNc(6,ym,3,2,"ng-container",29),n.qZA()(),n.YNc(7,bu,5,1,"mat-form-field",35),n.qZA(),n.YNc(8,Nm,3,2,"div",121),n.qZA()),2&v){const C=n.oxw(3);n.xp6(2),n.Akn(C.personne?"padding-right: 1%;":""),n.Tol(C.personne?"col-md-6":"col-md-12"),n.xp6(4),n.Q6J("ngForOf",C.secteursActivite),n.xp6(1),n.Q6J("ngIf",C.personne),n.xp6(1),n.Q6J("ngIf",C.personne)}}function vp(v,H){if(1&v&&(n.TgZ(0,"th",84)(1,"div",85)(2,"span"),n._uU(3,"Liste des professions "),n.qZA()()()),2&v){const C=n.oxw(4);n.uIk("colspan",C.lengthColumnsProfession)}}function Ap(v,H){1&v&&(n.TgZ(0,"th",84),n._uU(1," Secteur d'activit\xe9 "),n.qZA())}function Tp(v,H){if(1&v&&(n.ynx(0),n.TgZ(1,"mat-option",51),n._uU(2),n.qZA(),n.BQk()),2&v){const C=H.$implicit;n.xp6(1),n.Q6J("value",C.idSecteur),n.xp6(1),n.Oqu(C.description)}}function s_(v,H){if(1&v){const C=n.EpF();n.TgZ(0,"mat-form-field",33)(1,"mat-select",89),n.NdJ("ngModelChange",function(re){n.CHM(C);const Fe=n.oxw().$implicit;return n.KtG(Fe.secteurActivite=re)}),n.YNc(2,Tp,3,2,"ng-container",29),n.qZA()()}if(2&v){const C=n.oxw().$implicit,le=n.oxw(4);n.xp6(1),n.Q6J("ngModel",null==C.secteurActivite?null:C.secteurActivite.idSecteur)("ngModelOptions",n.DdM(4,kn))("value",null==C.secteurActivite?null:C.secteurActivite.idSecteur),n.xp6(1),n.Q6J("ngForOf",le.secteursActivite)}}function bp(v,H){if(1&v&&(n.ynx(0),n._uU(1),n.BQk()),2&v){const C=n.oxw().$implicit;n.xp6(1),n.hij(" ",null!=C.secteurActivite?C.secteurActivite.description:""," ")}}function jm(v,H){if(1&v&&(n.TgZ(0,"td",86),n.YNc(1,s_,3,5,"mat-form-field",87),n.YNc(2,bp,2,1,"ng-container",22),n.qZA()),2&v){const C=n.oxw(4);n.xp6(1),n.Q6J("ngIf",C.formCreationPersonnePhysique&&!(null!=C.formCreationPersonnePhysique&&C.formCreationPersonnePhysique.disabled)),n.xp6(1),n.Q6J("ngIf",null==C.formCreationPersonnePhysique?null:C.formCreationPersonnePhysique.disabled)}}function Hm(v,H){1&v&&(n.TgZ(0,"th",84),n._uU(1," Profession "),n.qZA())}function $m(v,H){if(1&v&&(n.ynx(0),n.TgZ(1,"mat-option",51),n._uU(2),n.qZA(),n.BQk()),2&v){const C=H.$implicit;n.xp6(1),n.Q6J("value",C.idProfession),n.xp6(1),n.Oqu(C.description)}}function Pp(v,H){if(1&v){const C=n.EpF();n.TgZ(0,"mat-form-field",33)(1,"mat-select",89),n.NdJ("ngModelChange",function(re){n.CHM(C);const Fe=n.oxw().$implicit;return n.KtG(Fe.profession=re)}),n.YNc(2,$m,3,2,"ng-container",29),n.qZA()()}if(2&v){const C=n.oxw().$implicit,le=n.oxw(4);n.xp6(1),n.Q6J("ngModel",null==C.profession?null:C.profession.idProfession)("ngModelOptions",n.DdM(4,kn))("value",null==C.profession?null:C.profession.idProfession),n.xp6(1),n.Q6J("ngForOf",le.professions)}}function Zp(v,H){if(1&v&&(n.ynx(0),n._uU(1),n.BQk()),2&v){const C=n.oxw().$implicit;n.xp6(1),n.hij(" ",null==C.profession?null:C.profession.description," ")}}function qp(v,H){if(1&v&&(n.TgZ(0,"td",86),n.YNc(1,Pp,3,5,"mat-form-field",87),n.YNc(2,Zp,2,1,"ng-container",22),n.qZA()),2&v){const C=n.oxw(4);n.xp6(1),n.Q6J("ngIf",C.formCreationPersonnePhysique&&!(null!=C.formCreationPersonnePhysique&&C.formCreationPersonnePhysique.disabled)),n.xp6(1),n.Q6J("ngIf",null==C.formCreationPersonnePhysique?null:C.formCreationPersonnePhysique.disabled)}}function l_(v,H){1&v&&(n.TgZ(0,"th",84),n._uU(1," date debut "),n.qZA())}function Sp(v,H){if(1&v){const C=n.EpF();n.TgZ(0,"mat-form-field",33)(1,"input",130),n.NdJ("ngModelChange",function(re){n.CHM(C);const Fe=n.oxw().$implicit;return n.KtG(Fe.dateDebutProfession=re)})("dateChange",function(re){n.CHM(C);const Fe=n.oxw(5);return n.KtG(Fe.debutDateChange(re.value))}),n.qZA(),n._UZ(2,"mat-datepicker-toggle",45)(3,"mat-datepicker",null,131),n.qZA()}if(2&v){const C=n.MAs(4),le=n.oxw().$implicit;n.xp6(1),n.Q6J("ngModel",le.dateDebutProfession)("ngModelOptions",n.DdM(5,kn))("value",le.dateDebutProfession)("matDatepicker",C),n.xp6(1),n.Q6J("for",C)}}function yp(v,H){if(1&v&&(n.ynx(0),n._uU(1),n.ALo(2,"date"),n.BQk()),2&v){const C=n.oxw().$implicit;n.xp6(1),n.hij(" ",n.xi3(2,1,C.dateDebutProfession,"dd/MM/yyyy")," ")}}function Np(v,H){if(1&v&&(n.TgZ(0,"td",86),n.YNc(1,Sp,5,6,"mat-form-field",87),n.YNc(2,yp,3,4,"ng-container",22),n.qZA()),2&v){const C=n.oxw(4);n.xp6(1),n.Q6J("ngIf",C.formCreationPersonnePhysique&&!(null!=C.formCreationPersonnePhysique&&C.formCreationPersonnePhysique.disabled)),n.xp6(1),n.Q6J("ngIf",null==C.formCreationPersonnePhysique?null:C.formCreationPersonnePhysique.disabled)}}function Ip(v,H){1&v&&n._UZ(0,"tr",90)}function Ep(v,H){1&v&&n._UZ(0,"tr",91)}function Td(v,H){1&v&&n._UZ(0,"tr",92)}const Rp=function(){return["header-profession"]};function c_(v,H){if(1&v&&(n.TgZ(0,"div",70)(1,"table",125),n.ynx(2,126),n.YNc(3,vp,4,1,"th",73),n.BQk(),n.ynx(4,127),n.YNc(5,Ap,2,0,"th",73),n.YNc(6,jm,3,2,"td",75),n.BQk(),n.ynx(7,128),n.YNc(8,Hm,2,0,"th",73),n.YNc(9,qp,3,2,"td",75),n.BQk(),n.ynx(10,129),n.YNc(11,l_,2,0,"th",73),n.YNc(12,Np,3,2,"td",75),n.BQk(),n.YNc(13,Ip,1,0,"tr",80),n.YNc(14,Ep,1,0,"tr",81),n.YNc(15,Td,1,0,"tr",82),n.qZA(),n._UZ(16,"mat-paginator",83),n.qZA()),2&v){const C=n.oxw(3);n.xp6(1),n.Q6J("dataSource",C.professionsPersonne),n.xp6(12),n.Q6J("matHeaderRowDef",n.DdM(6,Rp)),n.xp6(1),n.Q6J("matHeaderRowDef",C.displayedColumnsProfession),n.xp6(1),n.Q6J("matRowDefColumns",C.displayedColumnsProfession),n.xp6(1),n.Q6J("pageSize",5)("pageSizeOptions",n.DdM(7,Oc))}}function Dp(v,H){if(1&v&&(n.TgZ(0,"form",25,119),n.YNc(2,Wu,9,7,"div",55),n.YNc(3,c_,17,8,"div",56),n.qZA()),2&v){const C=n.oxw(2);n.Q6J("formGroup",C.formCreationProfession),n.xp6(2),n.Q6J("ngIf",!(null!=C.formCreationPersonnePhysique&&C.formCreationPersonnePhysique.disabled)),n.xp6(1),n.Q6J("ngIf",0!=(null==C.professionsPersonne.data?null:C.professionsPersonne.data.length))}}function u_(v,H){if(1&v&&(n.ynx(0),n.TgZ(1,"mat-option",51),n._uU(2),n.qZA(),n.BQk()),2&v){const C=H.$implicit;n.xp6(1),n.Q6J("value",C),n.xp6(1),n.Oqu(C.description)}}function Xu(v,H){if(1&v&&(n.ynx(0),n.TgZ(1,"mat-option",51),n._uU(2),n.qZA(),n.BQk()),2&v){const C=H.$implicit;n.xp6(1),n.Q6J("value",C),n.xp6(1),n.Oqu(C)}}function m_(v,H){if(1&v&&(n.TgZ(0,"mat-form-field",108)(1,"mat-label"),n._uU(2," Categories "),n.qZA(),n.TgZ(3,"mat-select",145),n.YNc(4,Xu,3,2,"ng-container",29),n.qZA()()),2&v){const C=n.oxw(4);n.xp6(4),n.Q6J("ngForOf",C.categories)}}function wp(v,H){1&v&&n._UZ(0,"input",146)}function Op(v,H){1&v&&(n.TgZ(0,"div"),n._uU(1," Le N\xb0Passport est incorrect "),n.qZA())}function kp(v,H){if(1&v&&(n.TgZ(0,"mat-error",52),n.YNc(1,Op,2,0,"div",22),n.qZA()),2&v){const C=n.oxw(4);n.xp6(1),n.Q6J("ngIf",C.formCreationDocument.controls.description.errors.pattern)}}function Mp(v,H){1&v&&n._UZ(0,"input",147)}function Km(v,H){1&v&&(n.TgZ(0,"div"),n._uU(1," Le N\xb0Permis est incorrect "),n.qZA())}function Up(v,H){if(1&v&&(n.TgZ(0,"mat-error",52),n.YNc(1,Km,2,0,"div",22),n.qZA()),2&v){const C=n.oxw(4);n.xp6(1),n.Q6J("ngIf",C.formCreationDocument.controls.description.errors.pattern)}}function y(v,H){1&v&&n._UZ(0,"input",58)}function ne(v,H){if(1&v&&(n.ynx(0),n.TgZ(1,"mat-option",51),n._uU(2),n.qZA(),n.BQk()),2&v){const C=H.$implicit;n.xp6(1),n.Q6J("value",C),n.xp6(1),n.Oqu(C.description)}}function u(v,H){if(1&v&&(n.ynx(0),n.TgZ(1,"mat-option",51),n._uU(2),n.qZA(),n.BQk()),2&v){const C=H.$implicit;n.xp6(1),n.Q6J("value",C),n.xp6(1),n.Oqu(C.description)}}function M(v,H){if(1&v){const C=n.EpF();n.TgZ(0,"button",67),n.NdJ("click",function(){n.CHM(C),n.oxw(2);const re=n.MAs(1),Fe=n.oxw(2);return n.KtG(Fe.ajouterDocument(re))}),n.TgZ(1,"mat-icon",148),n._uU(2,"add_circle"),n.qZA(),n._uU(3," Ajouter le document "),n.qZA()}}function W(v,H){if(1&v){const C=n.EpF();n.TgZ(0,"button",69),n.NdJ("click",function(){n.CHM(C),n.oxw(2);const re=n.MAs(1),Fe=n.oxw(2);return n.KtG(Fe.ajouterDocument(re))}),n.TgZ(1,"mat-icon",148),n._uU(2,"add_circle"),n.qZA(),n._uU(3," Ajouter le document "),n.qZA()}}function ie(v,H){if(1&v){const C=n.EpF();n.TgZ(0,"div",57)(1,"mat-form-field",132)(2,"mat-label"),n._uU(3," Type document "),n.qZA(),n.TgZ(4,"mat-select",133),n.NdJ("selectionChange",function(){n.CHM(C);const re=n.oxw(3);return n.KtG(re.enableDocument())}),n.YNc(5,u_,3,2,"ng-container",29),n.qZA()(),n.YNc(6,m_,5,1,"mat-form-field",134),n.TgZ(7,"mat-form-field",135)(8,"mat-label"),n._uU(9," Description document "),n.qZA(),n.YNc(10,wp,1,0,"input",136),n.YNc(11,kp,2,1,"mat-error",30),n.YNc(12,Mp,1,0,"input",137),n.YNc(13,Up,2,1,"mat-error",30),n.YNc(14,y,1,0,"input",138),n.qZA(),n.TgZ(15,"mat-form-field",27)(16,"mat-label"),n._uU(17,"Date d\xe9livrance"),n.qZA(),n.TgZ(18,"input",139),n.NdJ("dateChange",function(re){n.CHM(C);const Fe=n.oxw(3);return n.KtG(Fe.debutDateChange(re.value))}),n.qZA(),n._UZ(19,"mat-datepicker-toggle",45)(20,"mat-datepicker",null,140),n.qZA(),n.TgZ(22,"mat-form-field",31)(23,"mat-label"),n._uU(24,"Date expiration"),n.qZA(),n._UZ(25,"input",141)(26,"mat-datepicker-toggle",45)(27,"mat-datepicker",null,142),n.qZA(),n.TgZ(29,"div",61)(30,"mat-form-field",27)(31,"mat-label"),n._uU(32," Wilaya "),n.qZA(),n.TgZ(33,"mat-select",143),n.YNc(34,ne,3,2,"ng-container",29),n.qZA()(),n.TgZ(35,"mat-form-field",31)(36,"mat-label"),n._uU(37," Commune "),n.qZA(),n.TgZ(38,"mat-select",144),n.YNc(39,u,3,2,"ng-container",29),n.qZA()()(),n.TgZ(40,"div",64),n.YNc(41,M,4,0,"button",65),n.YNc(42,W,4,0,"button",66),n.qZA()()}if(2&v){const C=n.MAs(21),le=n.MAs(28),re=n.oxw(3);n.xp6(1),n.Tol(5==(null==re.formCreationDocument.value.typeDocument?null:re.formCreationDocument.value.typeDocument.idParam)?"col-md-4":"col-md-6"),n.xp6(4),n.Q6J("ngForOf",re.types_document),n.xp6(1),n.Q6J("ngIf",5==(null==re.formCreationDocument.value.typeDocument?null:re.formCreationDocument.value.typeDocument.idParam)),n.xp6(1),n.Tol(5==(null==re.formCreationDocument.value.typeDocument?null:re.formCreationDocument.value.typeDocument.idParam)?"col-md-4":"col-md-6"),n.xp6(3),n.Q6J("ngIf",6==(null==re.formCreationDocument.value.typeDocument?null:re.formCreationDocument.value.typeDocument.idParam)),n.xp6(1),n.Q6J("ngIf",re.formCreationDocument.controls.description.errors&&6==(null==re.formCreationDocument.value.typeDocument?null:re.formCreationDocument.value.typeDocument.idParam)),n.xp6(1),n.Q6J("ngIf",5==(null==re.formCreationDocument.value.typeDocument?null:re.formCreationDocument.value.typeDocument.idParam)),n.xp6(1),n.Q6J("ngIf",re.formCreationDocument.controls.description.errors&&5==(null==re.formCreationDocument.value.typeDocument?null:re.formCreationDocument.value.typeDocument.idParam)),n.xp6(1),n.Q6J("ngIf",5!=(null==re.formCreationDocument.value.typeDocument?null:re.formCreationDocument.value.typeDocument.idParam)&&6!=(null==re.formCreationDocument.value.typeDocument?null:re.formCreationDocument.value.typeDocument.idParam)),n.xp6(4),n.Q6J("matDatepicker",C),n.xp6(1),n.Q6J("for",C),n.xp6(6),n.Q6J("matDatepicker",le),n.xp6(1),n.Q6J("for",le),n.xp6(8),n.Q6J("ngForOf",re.wilayas),n.xp6(5),n.Q6J("ngForOf",re.communes),n.xp6(2),n.Q6J("ngIf",""!=re.formCreationDocument.value.typeDocument&&""!=re.formCreationDocument.value.description),n.xp6(1),n.Q6J("ngIf",""==re.formCreationDocument.value.typeDocument||""==re.formCreationDocument.value.description)}}function ve(v,H){if(1&v&&(n.TgZ(0,"th",84)(1,"div",85)(2,"span"),n._uU(3,"Liste des documents "),n.qZA()()()),2&v){const C=n.oxw(4);n.uIk("colspan",C.lengthColumnsDocument)}}function Re(v,H){1&v&&(n.TgZ(0,"th",84),n._uU(1," Type document "),n.qZA())}function Oe(v,H){if(1&v&&(n.ynx(0),n.TgZ(1,"mat-option",51),n._uU(2),n.qZA(),n.BQk()),2&v){const C=H.$implicit;n.xp6(1),n.Q6J("value",C.idParam),n.xp6(1),n.Oqu(C.description)}}function ke(v,H){if(1&v){const C=n.EpF();n.TgZ(0,"mat-form-field",33)(1,"mat-select",89),n.NdJ("ngModelChange",function(re){n.CHM(C);const Fe=n.oxw().$implicit;return n.KtG(Fe.typeDocument=re)}),n.YNc(2,Oe,3,2,"ng-container",29),n.qZA()()}if(2&v){const C=n.oxw().$implicit,le=n.oxw(4);n.xp6(1),n.Q6J("ngModel",null==C.typeDocument?null:C.typeDocument.idParam)("ngModelOptions",n.DdM(4,kn))("value",null==C.typeDocument?null:C.typeDocument.idParam),n.xp6(1),n.Q6J("ngForOf",le.types_document)}}function Qe(v,H){if(1&v&&(n.ynx(0),n._uU(1),n.BQk()),2&v){const C=n.oxw().$implicit;n.xp6(1),n.hij(" ",null==C.typeDocument?null:C.typeDocument.description," ")}}function Bt(v,H){if(1&v&&(n.TgZ(0,"td",86),n.YNc(1,ke,3,5,"mat-form-field",87),n.YNc(2,Qe,2,1,"ng-container",22),n.qZA()),2&v){const C=n.oxw(4);n.xp6(1),n.Q6J("ngIf",(C.formCreationPersonnePhysique||C.formCreationPersonneMorale)&&!(null!=C.formCreationPersonnePhysique&&C.formCreationPersonnePhysique.disabled)&&!(null!=C.formCreationPersonneMorale&&C.formCreationPersonneMorale.disabled)),n.xp6(1),n.Q6J("ngIf",(null==C.formCreationPersonnePhysique?null:C.formCreationPersonnePhysique.disabled)||(null==C.formCreationPersonneMorale?null:C.formCreationPersonneMorale.disabled))}}function Yt(v,H){1&v&&(n.TgZ(0,"th",84),n._uU(1," Description "),n.qZA())}function dn(v,H){if(1&v){const C=n.EpF();n.TgZ(0,"mat-form-field",33)(1,"input",88),n.NdJ("ngModelChange",function(re){n.CHM(C);const Fe=n.oxw().$implicit;return n.KtG(Fe.description=re)}),n.qZA()()}if(2&v){const C=n.oxw().$implicit;n.xp6(1),n.Q6J("ngModel",C.description)("ngModelOptions",n.DdM(3,kn))("value",C.description)}}function Ut(v,H){if(1&v&&(n.ynx(0),n._uU(1),n.BQk()),2&v){const C=n.oxw().$implicit;n.xp6(1),n.hij(" ",C.description," ")}}function gn(v,H){if(1&v&&(n.TgZ(0,"td",86),n.YNc(1,dn,2,4,"mat-form-field",87),n.YNc(2,Ut,2,1,"ng-container",22),n.qZA()),2&v){const C=n.oxw(4);n.xp6(1),n.Q6J("ngIf",(C.formCreationPersonnePhysique||C.formCreationPersonneMorale)&&!(null!=C.formCreationPersonnePhysique&&C.formCreationPersonnePhysique.disabled)&&!(null!=C.formCreationPersonneMorale&&C.formCreationPersonneMorale.disabled)),n.xp6(1),n.Q6J("ngIf",(null==C.formCreationPersonnePhysique?null:C.formCreationPersonnePhysique.disabled)||(null==C.formCreationPersonneMorale?null:C.formCreationPersonneMorale.disabled))}}function Fn(v,H){1&v&&(n.TgZ(0,"th",84),n._uU(1," Date delivrance "),n.qZA())}function Pi(v,H){if(1&v){const C=n.EpF();n.TgZ(0,"mat-form-field",33)(1,"input",130),n.NdJ("ngModelChange",function(re){n.CHM(C);const Fe=n.oxw().$implicit;return n.KtG(Fe.dateDelivrance=re)})("dateChange",function(re){n.CHM(C);const Fe=n.oxw(5);return n.KtG(Fe.debutDateChange(re.value))}),n.qZA(),n._UZ(2,"mat-datepicker-toggle",45)(3,"mat-datepicker",null,140),n.qZA()}if(2&v){const C=n.MAs(4),le=n.oxw().$implicit;n.xp6(1),n.Q6J("ngModel",le.dateDelivrance)("ngModelOptions",n.DdM(5,kn))("value",le.dateDelivrance)("matDatepicker",C),n.xp6(1),n.Q6J("for",C)}}function ki(v,H){if(1&v&&(n.ynx(0),n._uU(1),n.ALo(2,"date"),n.BQk()),2&v){const C=n.oxw().$implicit;n.xp6(1),n.hij(" ",n.xi3(2,1,C.dateDelivrance,"dd/MM/yyyy")," ")}}function ta(v,H){if(1&v&&(n.TgZ(0,"td",86),n.YNc(1,Pi,5,6,"mat-form-field",87),n.YNc(2,ki,3,4,"ng-container",22),n.qZA()),2&v){const C=n.oxw(4);n.xp6(1),n.Q6J("ngIf",(C.formCreationPersonnePhysique||C.formCreationPersonneMorale)&&!(null!=C.formCreationPersonnePhysique&&C.formCreationPersonnePhysique.disabled)&&!(null!=C.formCreationPersonneMorale&&C.formCreationPersonneMorale.disabled)),n.xp6(1),n.Q6J("ngIf",(null==C.formCreationPersonnePhysique?null:C.formCreationPersonnePhysique.disabled)||(null==C.formCreationPersonneMorale?null:C.formCreationPersonneMorale.disabled))}}function zl(v,H){1&v&&(n.TgZ(0,"th",84),n._uU(1," Date expiration "),n.qZA())}function na(v,H){if(1&v){const C=n.EpF();n.TgZ(0,"mat-form-field",33)(1,"input",156),n.NdJ("ngModelChange",function(re){n.CHM(C);const Fe=n.oxw().$implicit;return n.KtG(Fe.dateExpiration=re)}),n.qZA(),n._UZ(2,"mat-datepicker-toggle",45)(3,"mat-datepicker",null,142),n.qZA()}if(2&v){const C=n.MAs(4),le=n.oxw().$implicit;n.xp6(1),n.Q6J("ngModel",le.dateExpiration)("ngModelOptions",n.DdM(5,kn))("value",le.dateExpiration)("matDatepicker",C),n.xp6(1),n.Q6J("for",C)}}function Vl(v,H){if(1&v&&(n.ynx(0),n._uU(1),n.ALo(2,"date"),n.BQk()),2&v){const C=n.oxw().$implicit;n.xp6(1),n.hij(" ",n.xi3(2,1,C.dateExpiration,"dd/MM/yyyy")," ")}}function d_(v,H){if(1&v&&(n.TgZ(0,"td",86),n.YNc(1,na,5,6,"mat-form-field",87),n.YNc(2,Vl,3,4,"ng-container",22),n.qZA()),2&v){const C=n.oxw(4);n.xp6(1),n.Q6J("ngIf",(C.formCreationPersonnePhysique||C.formCreationPersonneMorale)&&!(null!=C.formCreationPersonnePhysique&&C.formCreationPersonnePhysique.disabled)&&!(null!=C.formCreationPersonneMorale&&C.formCreationPersonneMorale.disabled)),n.xp6(1),n.Q6J("ngIf",(null==C.formCreationPersonnePhysique?null:C.formCreationPersonnePhysique.disabled)||(null==C.formCreationPersonneMorale?null:C.formCreationPersonneMorale.disabled))}}function mf(v,H){1&v&&(n.TgZ(0,"th",84),n._uU(1," Wilaya "),n.qZA())}function df(v,H){if(1&v&&(n.ynx(0),n.TgZ(1,"mat-option",51),n._uU(2),n.qZA(),n.BQk()),2&v){const C=H.$implicit;n.xp6(1),n.Q6J("value",C.idWilaya),n.xp6(1),n.Oqu(C.description)}}function bd(v,H){if(1&v){const C=n.EpF();n.TgZ(0,"mat-form-field",33)(1,"mat-select",89),n.NdJ("ngModelChange",function(re){n.CHM(C);const Fe=n.oxw().$implicit;return n.KtG(Fe.wilayaDelivrance=re)}),n.YNc(2,df,3,2,"ng-container",29),n.qZA()()}if(2&v){const C=n.oxw().$implicit,le=n.oxw(4);n.xp6(1),n.Q6J("ngModel",null==C.wilayaDelivrance?null:C.wilayaDelivrance.idWilaya)("ngModelOptions",n.DdM(4,kn))("value",null==C.wilayaDelivrance?null:C.wilayaDelivrance.idWilaya),n.xp6(1),n.Q6J("ngForOf",le.wilayas)}}function Vp(v,H){if(1&v&&(n.ynx(0),n._uU(1),n.BQk()),2&v){const C=n.oxw().$implicit;n.xp6(1),n.hij(" ",null!=C.wilayaDelivrance?C.wilayaDelivrance.description:""," ")}}function _f(v,H){if(1&v&&(n.TgZ(0,"td",86),n.YNc(1,bd,3,5,"mat-form-field",87),n.YNc(2,Vp,2,1,"ng-container",22),n.qZA()),2&v){const C=n.oxw(4);n.xp6(1),n.Q6J("ngIf",(C.formCreationPersonnePhysique||C.formCreationPersonneMorale)&&!(null!=C.formCreationPersonnePhysique&&C.formCreationPersonnePhysique.disabled)&&!(null!=C.formCreationPersonneMorale&&C.formCreationPersonneMorale.disabled)),n.xp6(1),n.Q6J("ngIf",(null==C.formCreationPersonnePhysique?null:C.formCreationPersonnePhysique.disabled)||(null==C.formCreationPersonneMorale?null:C.formCreationPersonneMorale.disabled))}}function pf(v,H){1&v&&(n.TgZ(0,"th",84),n._uU(1," Commune "),n.qZA())}function ff(v,H){if(1&v&&(n.ynx(0),n.TgZ(1,"mat-option",51),n._uU(2),n.qZA(),n.BQk()),2&v){const C=H.$implicit;n.xp6(1),n.Q6J("value",C.idCommune),n.xp6(1),n.Oqu(C.description)}}function gf(v,H){if(1&v){const C=n.EpF();n.TgZ(0,"mat-form-field",33)(1,"mat-select",89),n.NdJ("ngModelChange",function(re){n.CHM(C);const Fe=n.oxw().$implicit;return n.KtG(Fe.communeDelivrance=re)}),n.YNc(2,ff,3,2,"ng-container",29),n.qZA()()}if(2&v){const C=n.oxw().$implicit,le=n.oxw(4);n.xp6(1),n.Q6J("ngModel",null==C.communeDelivrance?null:C.communeDelivrance.idCommune)("ngModelOptions",n.DdM(4,kn))("value",null==C.communeDelivrance?null:C.communeDelivrance.idCommune),n.xp6(1),n.Q6J("ngForOf",le.communes)}}function hf(v,H){if(1&v&&(n.ynx(0),n._uU(1),n.BQk()),2&v){const C=n.oxw().$implicit;n.xp6(1),n.hij(" ",null!=C.communeDelivrance?C.communeDelivrance.description:""," ")}}function Cf(v,H){if(1&v&&(n.TgZ(0,"td",86),n.YNc(1,gf,3,5,"mat-form-field",87),n.YNc(2,hf,2,1,"ng-container",22),n.qZA()),2&v){const C=n.oxw(4);n.xp6(1),n.Q6J("ngIf",(C.formCreationPersonnePhysique||C.formCreationPersonneMorale)&&!(null!=C.formCreationPersonnePhysique&&C.formCreationPersonnePhysique.disabled)&&!(null!=C.formCreationPersonneMorale&&C.formCreationPersonneMorale.disabled)),n.xp6(1),n.Q6J("ngIf",(null==C.formCreationPersonnePhysique?null:C.formCreationPersonnePhysique.disabled)||(null==C.formCreationPersonneMorale?null:C.formCreationPersonneMorale.disabled))}}function xf(v,H){1&v&&n._UZ(0,"tr",90)}function jp(v,H){1&v&&n._UZ(0,"tr",91)}function vf(v,H){1&v&&n._UZ(0,"tr",92)}const Af=function(){return["header-document"]};function Hp(v,H){if(1&v&&(n.TgZ(0,"div",70)(1,"table",149),n.ynx(2,150),n.YNc(3,ve,4,1,"th",73),n.BQk(),n.ynx(4,151),n.YNc(5,Re,2,0,"th",73),n.YNc(6,Bt,3,2,"td",75),n.BQk(),n.ynx(7,74),n.YNc(8,Yt,2,0,"th",73),n.YNc(9,gn,3,2,"td",75),n.BQk(),n.ynx(10,152),n.YNc(11,Fn,2,0,"th",73),n.YNc(12,ta,3,2,"td",75),n.BQk(),n.ynx(13,153),n.YNc(14,zl,2,0,"th",73),n.YNc(15,d_,3,2,"td",75),n.BQk(),n.ynx(16,154),n.YNc(17,mf,2,0,"th",73),n.YNc(18,_f,3,2,"td",75),n.BQk(),n.ynx(19,155),n.YNc(20,pf,2,0,"th",73),n.YNc(21,Cf,3,2,"td",75),n.BQk(),n.YNc(22,xf,1,0,"tr",80),n.YNc(23,jp,1,0,"tr",81),n.YNc(24,vf,1,0,"tr",82),n.qZA(),n._UZ(25,"mat-paginator",83),n.qZA()),2&v){const C=n.oxw(3);n.xp6(1),n.Akn(null!=C.formCreationPersonnePhysique&&C.formCreationPersonnePhysique.disabled||null!=C.formCreationPersonneMorale&&C.formCreationPersonneMorale.disabled?"":"overflow-x: auto; display: block;"),n.Q6J("dataSource",C.documentPersonne),n.xp6(21),n.Q6J("matHeaderRowDef",n.DdM(8,Af)),n.xp6(1),n.Q6J("matHeaderRowDef",C.displayedColumnsDocument),n.xp6(1),n.Q6J("matRowDefColumns",C.displayedColumnsDocument),n.xp6(1),n.Q6J("pageSize",5)("pageSizeOptions",n.DdM(9,Oc))}}function Tf(v,H){if(1&v&&(n.TgZ(0,"form",25,26),n.YNc(2,ie,43,19,"div",55),n.YNc(3,Hp,26,10,"div",56),n.qZA()),2&v){const C=n.oxw(2);n.Q6J("formGroup",C.formCreationDocument),n.xp6(2),n.Q6J("ngIf",!(null!=C.formCreationPersonnePhysique&&C.formCreationPersonnePhysique.disabled||null!=C.formCreationPersonneMorale&&C.formCreationPersonneMorale.disabled)),n.xp6(1),n.Q6J("ngIf",0!=(null==C.documentPersonne.data?null:C.documentPersonne.data.length))}}function Uc(v,H){1&v&&n._uU(0,"Donn\xe9es bancaires et relations")}function bf(v,H){1&v&&(n.TgZ(0,"div"),n._uU(1," Format RIB invalide "),n.qZA())}function sg(v,H){if(1&v&&(n.TgZ(0,"mat-error",52),n.YNc(1,bf,2,0,"div",22),n.qZA()),2&v){const C=n.oxw(4);n.xp6(1),n.Q6J("ngIf",C.formCreationRib.controls.description.errors.pattern)}}function Im(v,H){1&v&&(n.TgZ(0,"div"),n._uU(1," Format swift invalide "),n.qZA())}function po(v,H){if(1&v&&(n.TgZ(0,"mat-error",52),n.YNc(1,Im,2,0,"div",22),n.qZA()),2&v){const C=n.oxw(4);n.xp6(1),n.Q6J("ngIf",C.formCreationRib.controls.swift.errors.pattern)}}function Em(v,H){if(1&v){const C=n.EpF();n.TgZ(0,"button",67),n.NdJ("click",function(){n.CHM(C),n.oxw(2);const re=n.MAs(1),Fe=n.oxw(2);return n.KtG(Fe.ajouterRib(re))}),n.TgZ(1,"mat-icon",160),n._uU(2,"add_circle"),n.qZA(),n._uU(3," Ajouter le compte RIB "),n.qZA()}}function El(v,H){if(1&v){const C=n.EpF();n.TgZ(0,"button",69),n.NdJ("click",function(){n.CHM(C),n.oxw(2);const re=n.MAs(1),Fe=n.oxw(2);return n.KtG(Fe.ajouterRib(re))}),n.TgZ(1,"mat-icon",160),n._uU(2,"add_circle"),n.qZA(),n._uU(3," Ajouter le compte RIB "),n.qZA()}}function ia(v,H){if(1&v&&(n.TgZ(0,"div",57)(1,"div",61)(2,"mat-form-field",27)(3,"mat-label"),n._uU(4,"N\xb0 RIB"),n.qZA(),n._UZ(5,"input",158),n.YNc(6,sg,2,1,"mat-error",30),n.qZA(),n.TgZ(7,"mat-form-field",31)(8,"mat-label"),n._uU(9,"N\xb0 Swift"),n.qZA(),n._UZ(10,"input",159),n.YNc(11,po,2,1,"mat-error",30),n.qZA()(),n.TgZ(12,"div",64),n.YNc(13,Em,4,0,"button",65),n.YNc(14,El,4,0,"button",66),n.qZA()()),2&v){const C=n.oxw(3);n.xp6(6),n.Q6J("ngIf",C.formCreationRib.controls.description.errors),n.xp6(5),n.Q6J("ngIf",C.formCreationRib.controls.swift.errors),n.xp6(2),n.Q6J("ngIf",""!=C.formCreationRib.value.description&&C.formCreationRib.controls.description.valid),n.xp6(1),n.Q6J("ngIf",""==C.formCreationRib.value.description||!C.formCreationRib.controls.description.valid)}}function Pf(v,H){if(1&v&&(n.TgZ(0,"th",84)(1,"div",85)(2,"span"),n._uU(3,"Liste des RIB "),n.qZA()()()),2&v){const C=n.oxw(4);n.uIk("colspan",C.lengthColumnsRIB)}}function Pu(v,H){1&v&&(n.TgZ(0,"th",84),n._uU(1," N\xb0 RIB "),n.qZA())}function Zf(v,H){if(1&v){const C=n.EpF();n.TgZ(0,"mat-form-field",33)(1,"input",88),n.NdJ("ngModelChange",function(re){n.CHM(C);const Fe=n.oxw().$implicit;return n.KtG(Fe.donneBancaire?Fe.donneBancaire.description=re:Fe.description=re)}),n.qZA()()}if(2&v){const C=n.oxw().$implicit;n.xp6(1),n.Q6J("ngModel",C.donneBancaire?null==C.donneBancaire?null:C.donneBancaire.description:C.description)("ngModelOptions",n.DdM(3,kn))("value",C.donneBancaire?null==C.donneBancaire?null:C.donneBancaire.description:C.description)}}function qf(v,H){if(1&v&&(n.ynx(0),n._uU(1),n.BQk()),2&v){const C=n.oxw().$implicit;n.xp6(1),n.hij(" ",C.donneBancaire?null==C.donneBancaire?null:C.donneBancaire.description:C.description," ")}}function Sf(v,H){if(1&v&&(n.TgZ(0,"td",86),n.YNc(1,Zf,2,4,"mat-form-field",87),n.YNc(2,qf,2,1,"ng-container",22),n.qZA()),2&v){const C=n.oxw(4);n.xp6(1),n.Q6J("ngIf",(C.formCreationPersonnePhysique||C.formCreationPersonneMorale)&&!(null!=C.formCreationPersonnePhysique&&C.formCreationPersonnePhysique.disabled)&&!(null!=C.formCreationPersonneMorale&&C.formCreationPersonneMorale.disabled)),n.xp6(1),n.Q6J("ngIf",(null==C.formCreationPersonnePhysique?null:C.formCreationPersonnePhysique.disabled)||(null==C.formCreationPersonneMorale?null:C.formCreationPersonneMorale.disabled))}}function yf(v,H){1&v&&(n.TgZ(0,"th",84),n._uU(1," N\xb0 Swift "),n.qZA())}function Nf(v,H){if(1&v){const C=n.EpF();n.TgZ(0,"mat-form-field",33)(1,"input",88),n.NdJ("ngModelChange",function(re){n.CHM(C);const Fe=n.oxw().$implicit;return n.KtG(Fe.donneBancaire?Fe.donneBancaire.swift=re:Fe.swift=re)}),n.qZA()()}if(2&v){const C=n.oxw().$implicit;n.xp6(1),n.Q6J("ngModel",C.donneBancaire?null==C.donneBancaire?null:C.donneBancaire.swift:C.swift)("ngModelOptions",n.DdM(3,kn))("value",C.donneBancaire?null==C.donneBancaire?null:C.donneBancaire.swift:C.swift)}}function Fp(v,H){if(1&v&&(n.ynx(0),n._uU(1),n.BQk()),2&v){const C=n.oxw().$implicit;n.xp6(1),n.hij(" ",C.donneBancaire?null==C.donneBancaire?null:C.donneBancaire.swift:C.swift," ")}}function If(v,H){if(1&v&&(n.TgZ(0,"td",86),n.YNc(1,Nf,2,4,"mat-form-field",87),n.YNc(2,Fp,2,1,"ng-container",22),n.qZA()),2&v){const C=n.oxw(4);n.xp6(1),n.Q6J("ngIf",(C.formCreationPersonnePhysique||C.formCreationPersonneMorale)&&!(null!=C.formCreationPersonnePhysique&&C.formCreationPersonnePhysique.disabled)&&!(null!=C.formCreationPersonneMorale&&C.formCreationPersonneMorale.disabled)),n.xp6(1),n.Q6J("ngIf",(null==C.formCreationPersonnePhysique?null:C.formCreationPersonnePhysique.disabled)||(null==C.formCreationPersonneMorale?null:C.formCreationPersonneMorale.disabled))}}function Zu(v,H){1&v&&n._UZ(0,"tr",90)}function Qp(v,H){1&v&&n._UZ(0,"tr",91)}function __(v,H){1&v&&n._UZ(0,"tr",92)}const Jr=function(){return["header-rib"]};function oa(v,H){if(1&v&&(n.TgZ(0,"div",70)(1,"table",161),n.ynx(2,162),n.YNc(3,Pf,4,1,"th",73),n.BQk(),n.ynx(4,74),n.YNc(5,Pu,2,0,"th",73),n.YNc(6,Sf,3,2,"td",75),n.BQk(),n.ynx(7,163),n.YNc(8,yf,2,0,"th",73),n.YNc(9,If,3,2,"td",75),n.BQk(),n.YNc(10,Zu,1,0,"tr",80),n.YNc(11,Qp,1,0,"tr",81),n.YNc(12,__,1,0,"tr",82),n.qZA(),n._UZ(13,"mat-paginator",83),n.qZA()),2&v){const C=n.oxw(3);n.xp6(1),n.Q6J("dataSource",C.ribPersonne),n.xp6(9),n.Q6J("matHeaderRowDef",n.DdM(6,Jr)),n.xp6(1),n.Q6J("matHeaderRowDef",C.displayedColumnsRIB),n.xp6(1),n.Q6J("matRowDefColumns",C.displayedColumnsRIB),n.xp6(1),n.Q6J("pageSize",5)("pageSizeOptions",n.DdM(7,Oc))}}function $p(v,H){if(1&v&&(n.TgZ(0,"form",25,157),n.YNc(2,ia,15,4,"div",55),n.YNc(3,oa,14,8,"div",56),n.qZA()),2&v){const C=n.oxw(2);n.Q6J("formGroup",C.formCreationRib),n.xp6(2),n.Q6J("ngIf",!(null!=C.formCreationPersonnePhysique&&C.formCreationPersonnePhysique.disabled||null!=C.formCreationPersonneMorale&&C.formCreationPersonneMorale.disabled)),n.xp6(1),n.Q6J("ngIf",0!=(null==C.ribPersonne.data?null:C.ribPersonne.data.length))}}function Jp(v,H){if(1&v&&(n.TgZ(0,"mat-option",51),n._uU(1),n.qZA()),2&v){const C=H.$implicit;n.Q6J("value",C.idClient),n.xp6(1),n.hij(" "," null"!=C.nom?C.nom+" "+C.prenom1:C.raisonSocial," ")}}function Ef(v,H){if(1&v&&(n.ynx(0),n.TgZ(1,"mat-option",51),n._uU(2),n.qZA(),n.BQk()),2&v){const C=H.$implicit;n.xp6(1),n.Q6J("value",C),n.xp6(1),n.Oqu(C.description)}}function Rf(v,H){if(1&v){const C=n.EpF();n.TgZ(0,"button",67),n.NdJ("click",function(){n.CHM(C),n.oxw(2);const re=n.MAs(1),Fe=n.oxw(3);return n.KtG(Fe.ajouterRelation(re))}),n.TgZ(1,"mat-icon",174),n._uU(2,"add_circle"),n.qZA(),n._uU(3," Ajouter le lien de parent\xe9 "),n.qZA()}}function Df(v,H){if(1&v){const C=n.EpF();n.TgZ(0,"button",69),n.NdJ("click",function(){n.CHM(C),n.oxw(2);const re=n.MAs(1),Fe=n.oxw(3);return n.KtG(Fe.ajouterRelation(re))}),n.TgZ(1,"mat-icon",174),n._uU(2,"add_circle"),n.qZA(),n._uU(3," Ajouter le lien de parent\xe9 "),n.qZA()}}function wf(v,H){if(1&v){const C=n.EpF();n.TgZ(0,"div",57)(1,"mat-form-field",165)(2,"mat-label"),n._uU(3,"Assignee"),n.qZA(),n._UZ(4,"input",166),n.TgZ(5,"mat-autocomplete",null,167),n.YNc(7,Jp,2,2,"mat-option",168),n.ALo(8,"async"),n.qZA()(),n.TgZ(9,"mat-form-field",31)(10,"mat-label"),n._uU(11," Type relation "),n.qZA(),n.TgZ(12,"mat-select",169),n.YNc(13,Ef,3,2,"ng-container",29),n.qZA()(),n.TgZ(14,"div",61)(15,"mat-form-field",27)(16,"mat-label"),n._uU(17,"Date debut"),n.qZA(),n.TgZ(18,"input",170),n.NdJ("dateChange",function(re){n.CHM(C);const Fe=n.oxw(4);return n.KtG(Fe.debutDateChange(re.value))}),n.qZA(),n._UZ(19,"mat-datepicker-toggle",45)(20,"mat-datepicker",null,171),n.qZA(),n.TgZ(22,"mat-form-field",31)(23,"mat-label"),n._uU(24,"Date fin"),n.qZA(),n._UZ(25,"input",172)(26,"mat-datepicker-toggle",45)(27,"mat-datepicker",null,173),n.qZA()(),n.TgZ(29,"div",64),n.YNc(30,Rf,4,0,"button",65),n.YNc(31,Df,4,0,"button",66),n.qZA()()}if(2&v){const C=n.MAs(6),le=n.MAs(21),re=n.MAs(28),Fe=n.oxw(4);n.xp6(4),n.Q6J("formControl",Fe.myControl)("matAutocomplete",C),n.xp6(3),n.Q6J("ngForOf",n.lcZ(8,10,Fe.filteredOptions)),n.xp6(6),n.Q6J("ngForOf",Fe.types_relation),n.xp6(5),n.Q6J("matDatepicker",le),n.xp6(1),n.Q6J("for",le),n.xp6(6),n.Q6J("matDatepicker",re),n.xp6(1),n.Q6J("for",re),n.xp6(4),n.Q6J("ngIf",""!=Fe.formCreationRelation.value.typeRelation&&""!=Fe.myControl.value),n.xp6(1),n.Q6J("ngIf",""==Fe.formCreationRelation.value.typeRelation||""==Fe.myControl.value)}}function Wm(v,H){if(1&v&&(n.TgZ(0,"th",84)(1,"div",85)(2,"span"),n._uU(3,"Liste des liens de parent\xe9 "),n.qZA()()()),2&v){const C=n.oxw(5);n.uIk("colspan",C.lengthColumnsRelation)}}function p_(v,H){1&v&&(n.TgZ(0,"th",84),n._uU(1," N\xb0 Client "),n.qZA())}function Rm(v,H){if(1&v&&(n.TgZ(0,"mat-option",51),n._uU(1),n.qZA()),2&v){const C=H.$implicit;n.Q6J("value",C.idClient),n.xp6(1),n.hij(" "," null"!=C.nom?C.nom+" "+C.prenom1:C.raisonSocial," ")}}function Pd(v,H){if(1&v){const C=n.EpF();n.TgZ(0,"mat-form-field",33)(1,"input",177),n.NdJ("ngModelChange",function(re){n.CHM(C);const Fe=n.oxw().$implicit;return n.KtG(Fe.benificiaire.idClient=re)}),n.qZA(),n.TgZ(2,"mat-autocomplete",null,167),n.YNc(4,Rm,2,2,"mat-option",168),n.ALo(5,"async"),n.qZA()()}if(2&v){const C=n.MAs(3),le=n.oxw().$implicit,re=n.oxw(5);n.xp6(1),n.Q6J("formControl",re.myControlEdit)("ngModel",null==le.benificiaire?null:le.benificiaire.idClient)("value",null==le.benificiaire?null:le.benificiaire.idClient)("matAutocomplete",C),n.xp6(3),n.Q6J("ngForOf",n.lcZ(5,5,re.filteredOptions))}}function Of(v,H){if(1&v&&(n.ynx(0),n._uU(1),n.BQk()),2&v){const C=n.oxw().$implicit;n.xp6(1),n.hij(" ",null==C.benificiaire?null:C.benificiaire.idClient," ")}}function Kp(v,H){if(1&v&&(n.TgZ(0,"td",86),n.YNc(1,Pd,6,7,"mat-form-field",87),n.YNc(2,Of,2,1,"ng-container",22),n.qZA()),2&v){const C=n.oxw(5);n.xp6(1),n.Q6J("ngIf",(C.formCreationPersonnePhysique||C.formCreationPersonneMorale)&&!(null!=C.formCreationPersonnePhysique&&C.formCreationPersonnePhysique.disabled)&&!(null!=C.formCreationPersonneMorale&&C.formCreationPersonneMorale.disabled)),n.xp6(1),n.Q6J("ngIf",(null==C.formCreationPersonnePhysique?null:C.formCreationPersonnePhysique.disabled)||(null==C.formCreationPersonneMorale?null:C.formCreationPersonneMorale.disabled))}}function Zd(v,H){1&v&&(n.TgZ(0,"th",84),n._uU(1," Type relation "),n.qZA())}function Ko(v,H){if(1&v&&(n.ynx(0),n.TgZ(1,"mat-option",51),n._uU(2),n.qZA(),n.BQk()),2&v){const C=H.$implicit;n.xp6(1),n.Q6J("value",C.idParam),n.xp6(1),n.Oqu(C.description)}}function ic(v,H){if(1&v){const C=n.EpF();n.TgZ(0,"mat-form-field",33)(1,"mat-select",89),n.NdJ("ngModelChange",function(re){n.CHM(C);const Fe=n.oxw().$implicit;return n.KtG(Fe.relation=re)}),n.YNc(2,Ko,3,2,"ng-container",29),n.qZA()()}if(2&v){const C=n.oxw().$implicit,le=n.oxw(5);n.xp6(1),n.Q6J("ngModel",null==C.relation?null:C.relation.idParam)("ngModelOptions",n.DdM(4,kn))("value",null==C.relation?null:C.relation.idParam),n.xp6(1),n.Q6J("ngForOf",le.types_relation)}}function Wp(v,H){if(1&v&&(n.ynx(0),n._uU(1),n.BQk()),2&v){const C=n.oxw().$implicit;n.xp6(1),n.hij(" ",null==C.relation?null:C.relation.description," ")}}function Xp(v,H){if(1&v&&(n.TgZ(0,"td",86),n.YNc(1,ic,3,5,"mat-form-field",87),n.YNc(2,Wp,2,1,"ng-container",22),n.qZA()),2&v){const C=n.oxw(5);n.xp6(1),n.Q6J("ngIf",(C.formCreationPersonnePhysique||C.formCreationPersonneMorale)&&!(null!=C.formCreationPersonnePhysique&&C.formCreationPersonnePhysique.disabled)&&!(null!=C.formCreationPersonneMorale&&C.formCreationPersonneMorale.disabled)),n.xp6(1),n.Q6J("ngIf",(null==C.formCreationPersonnePhysique?null:C.formCreationPersonnePhysique.disabled)||(null==C.formCreationPersonneMorale?null:C.formCreationPersonneMorale.disabled))}}function kf(v,H){1&v&&n._UZ(0,"tr",90)}function ef(v,H){1&v&&n._UZ(0,"tr",91)}function Mf(v,H){1&v&&n._UZ(0,"tr",92)}function tf(v,H){if(1&v&&(n.TgZ(0,"div",70)(1,"table",161),n.ynx(2,162),n.YNc(3,Wm,4,1,"th",73),n.BQk(),n.ynx(4,175),n.YNc(5,p_,2,0,"th",73),n.YNc(6,Kp,3,2,"td",75),n.BQk(),n.ynx(7,176),n.YNc(8,Zd,2,0,"th",73),n.YNc(9,Xp,3,2,"td",75),n.BQk(),n.YNc(10,kf,1,0,"tr",80),n.YNc(11,ef,1,0,"tr",81),n.YNc(12,Mf,1,0,"tr",82),n.qZA(),n._UZ(13,"mat-paginator",83),n.qZA()),2&v){const C=n.oxw(4);n.xp6(1),n.Q6J("dataSource",C.relationPersonne),n.xp6(9),n.Q6J("matHeaderRowDef",n.DdM(6,Jr)),n.xp6(1),n.Q6J("matHeaderRowDef",C.displayedColumnsRelation),n.xp6(1),n.Q6J("matRowDefColumns",C.displayedColumnsRelation),n.xp6(1),n.Q6J("pageSize",5)("pageSizeOptions",n.DdM(7,Oc))}}function qu(v,H){if(1&v&&(n.TgZ(0,"form",25,164),n.YNc(2,wf,32,12,"div",55),n.YNc(3,tf,14,8,"div",56),n.qZA()),2&v){const C=n.oxw(3);n.Q6J("formGroup",C.formCreationRelation),n.xp6(2),n.Q6J("ngIf",!(null!=C.formCreationPersonnePhysique&&C.formCreationPersonnePhysique.disabled||null!=C.formCreationPersonneMorale&&C.formCreationPersonneMorale.disabled)),n.xp6(1),n.Q6J("ngIf",0!=(null==C.relationPersonne.data?null:C.relationPersonne.data.length))}}function Ao(v,H){if(1&v&&(n.TgZ(0,"mat-expansion-panel",14)(1,"mat-expansion-panel-header")(2,"mat-panel-title"),n._uU(3," Liens de parent\xe9 "),n.qZA()(),n.TgZ(4,"div",15),n.YNc(5,qu,4,3,"form",16),n.qZA()()),2&v){const C=n.oxw(2);n.Q6J("expanded",!0),n.xp6(5),n.Q6J("ngIf",C.formCreationRelation)}}function nf(v,H){1&v&&(n.TgZ(0,"button",19),n._uU(1,"Suivant"),n.qZA())}function gc(v,H){1&v&&n._uU(0,"R\xe9sum\xe9")}function of(v,H){if(1&v&&(n.ynx(0),n._uU(1),n.BQk()),2&v){const C=H.$implicit;n.xp6(1),n.hij(" ",C.description,"\xa0 ")}}function Uf(v,H){if(1&v&&(n.TgZ(0,"div",3)(1,"div",179)(2,"div",180),n._uU(3,"Nom :"),n.qZA(),n.TgZ(4,"div",181),n._uU(5),n.qZA(),n.TgZ(6,"div",180),n._uU(7,"Pr\xe9nom :"),n.qZA(),n.TgZ(8,"div",181),n._uU(9),n.qZA()(),n.TgZ(10,"div",182)(11,"div",180),n._uU(12,"Date de naissance :"),n.qZA(),n.TgZ(13,"div",181),n._uU(14),n.ALo(15,"date"),n.qZA(),n.TgZ(16,"div",180),n._uU(17,"Genre :"),n.qZA(),n.TgZ(18,"div",181),n._uU(19),n.qZA()(),n.TgZ(20,"div",179)(21,"div",180),n._uU(22,"Civilit\xe9 :"),n.qZA(),n.TgZ(23,"div",181),n._uU(24),n.qZA(),n.TgZ(25,"div",180),n._uU(26,"Nationalit\xe9 :"),n.qZA(),n.TgZ(27,"div",181),n.YNc(28,of,2,1,"ng-container",29),n.qZA()(),n.TgZ(29,"div",182)(30,"div",180),n._uU(31,"Adresse :"),n.qZA(),n.TgZ(32,"div",181),n._uU(33),n.qZA()()()),2&v){const C=n.oxw(3);n.xp6(5),n.Oqu(null==C.formCreationPersonnePhysique?null:C.formCreationPersonnePhysique.value.nom),n.xp6(4),n.Oqu(null==C.formCreationPersonnePhysique?null:C.formCreationPersonnePhysique.value.prenom1),n.xp6(5),n.Oqu(n.xi3(15,7,null==C.formCreationPersonnePhysique?null:C.formCreationPersonnePhysique.value.dateNaissance,"dd/MM/yyyy")),n.xp6(5),n.Oqu(16==(null==C.formCreationPersonnePhysique?null:C.formCreationPersonnePhysique.value.sexe)?"Homme":"Femme"),n.xp6(5),n.Oqu(28==(null==C.formCreationPersonnePhysique?null:C.formCreationPersonnePhysique.value.titre)?"Monsieur":"Madame"),n.xp6(4),n.Q6J("ngForOf",null==C.formCreationPersonnePhysique?null:C.formCreationPersonnePhysique.value.nationalite),n.xp6(5),n.Oqu(0!=C.adresses.data.length?C.adresses.data[0].description:"")}}function nr(v,H){if(1&v&&(n.TgZ(0,"div",3)(1,"div",179)(2,"div",180),n._uU(3,"Raison sociale :"),n.qZA(),n.TgZ(4,"div",181),n._uU(5),n.qZA(),n.TgZ(6,"div",180),n._uU(7,"NIF :"),n.qZA(),n.TgZ(8,"div",181),n._uU(9),n.qZA()(),n.TgZ(10,"div",182)(11,"div",180),n._uU(12,"Date d'ouverture :"),n.qZA(),n.TgZ(13,"div",181),n._uU(14),n.ALo(15,"date"),n.qZA(),n.TgZ(16,"div",180),n._uU(17,"Capitale sociale :"),n.qZA(),n.TgZ(18,"div",181),n._uU(19),n.qZA()(),n.TgZ(20,"div",179)(21,"div",180),n._uU(22,"Chiffre d'affaire :"),n.qZA(),n.TgZ(23,"div",181),n._uU(24),n.qZA(),n.TgZ(25,"div",180),n._uU(26,"Statut juridique :"),n.qZA(),n.TgZ(27,"div",181),n._uU(28),n.qZA()(),n.TgZ(29,"div",182)(30,"div",180),n._uU(31,"Adresse :"),n.qZA(),n.TgZ(32,"div",181),n._uU(33),n.qZA()()()),2&v){const C=n.oxw(3);n.xp6(5),n.Oqu(null==C.formCreationPersonneMorale?null:C.formCreationPersonneMorale.value.raisonSocial),n.xp6(4),n.Oqu(null==C.formCreationPersonneMorale?null:C.formCreationPersonneMorale.value.nif),n.xp6(5),n.Oqu(n.xi3(15,7,null==C.formCreationPersonneMorale?null:C.formCreationPersonneMorale.value.dateOuverture,"dd/MM/yyyy")),n.xp6(5),n.Oqu(null==C.formCreationPersonneMorale?null:C.formCreationPersonneMorale.value.capitaleSocial),n.xp6(5),n.Oqu(null==C.formCreationPersonneMorale?null:C.formCreationPersonneMorale.value.chiffreAffaire),n.xp6(4),n.Oqu(null==C.formCreationPersonneMorale?null:C.formCreationPersonneMorale.value.statue),n.xp6(5),n.Oqu(0!=C.adresses.data.length?C.adresses.data[0].description:"")}}function Ff(v,H){if(1&v){const C=n.EpF();n.TgZ(0,"mat-step")(1,"div",11),n.YNc(2,gc,1,0,"ng-template",9),n.YNc(3,Uf,34,10,"div",0),n.YNc(4,nr,34,10,"div",0),n.TgZ(5,"div",17)(6,"button",18),n._uU(7,"Retour"),n.qZA(),n.TgZ(8,"button",178),n.NdJ("click",function(){n.CHM(C);const re=n.oxw(2);return n.KtG(re.sauvegarderPersonne())}),n._uU(9,"Valider"),n.qZA()()()()}if(2&v){const C=n.oxw(2);n.xp6(3),n.Q6J("ngIf",C.personne),n.xp6(1),n.Q6J("ngIf",!C.personne)}}function Lp(v,H){if(1&v&&(n.TgZ(0,"div",3)(1,"h2",4),n._uU(2),n._UZ(3,"br"),n._uU(4),n.ALo(5,"date"),n.YNc(6,Gl,2,0,"button",5),n.YNc(7,vu,2,0,"button",6),n.YNc(8,xm,2,0,"button",5),n.qZA(),n._UZ(9,"mat-divider"),n.TgZ(10,"mat-dialog-content",7)(11,"mat-stepper",null,8)(13,"mat-step"),n.YNc(14,vm,1,0,"ng-template",9),n.TgZ(15,"div",3),n.YNc(16,md,2,1,"div",10),n.YNc(17,La,2,1,"div",10),n.qZA()(),n.TgZ(18,"mat-step")(19,"div",11),n.YNc(20,qm,1,0,"ng-template",9),n.TgZ(21,"div",3)(22,"div",12)(23,"mat-accordion",13)(24,"mat-expansion-panel",14)(25,"mat-expansion-panel-header")(26,"mat-panel-title"),n._uU(27," Professions "),n.qZA()(),n.TgZ(28,"div",15),n.YNc(29,Dp,4,3,"form",16),n.qZA()(),n.TgZ(30,"mat-expansion-panel",14)(31,"mat-expansion-panel-header")(32,"mat-panel-title"),n._uU(33," Documents "),n.qZA()(),n.TgZ(34,"div",15),n.YNc(35,Tf,4,3,"form",16),n.qZA()()(),n.TgZ(36,"div",17)(37,"button",18),n._uU(38,"Retour"),n.qZA(),n.TgZ(39,"button",19),n._uU(40,"Suivant"),n.qZA()()()()()(),n.TgZ(41,"mat-step")(42,"div",11),n.YNc(43,Uc,1,0,"ng-template",9),n.TgZ(44,"div",3)(45,"div",12)(46,"mat-accordion",13)(47,"mat-expansion-panel",14)(48,"mat-expansion-panel-header")(49,"mat-panel-title"),n._uU(50," RIB client "),n.qZA()(),n.TgZ(51,"div",15),n.YNc(52,$p,4,3,"form",16),n.qZA()(),n.YNc(53,Ao,6,2,"mat-expansion-panel",20),n.qZA(),n.TgZ(54,"div",17)(55,"button",18),n._uU(56,"Retour"),n.qZA(),n.YNc(57,nf,2,0,"button",21),n.qZA()()()()(),n.YNc(58,Ff,10,2,"mat-step",22),n.qZA()()()),2&v){const C=n.oxw();n.xp6(2),n.hij(" ",null!=C.formCreationPersonnePhysique&&C.formCreationPersonnePhysique.disabled||null!=C.formCreationPersonneMorale&&C.formCreationPersonneMorale.disabled?"Consultation personne N\xb0 "+(null==C.personneById?null:C.personneById.idClient):"Modification personne N\xb0"+(null==C.personneById?null:C.personneById.idClient)," "),n.xp6(2),n.hij("","date cr\xe9ation: "+n.xi3(5,16,null==C.personneById?null:C.personneById.auditDate,"dd/MM/yyyy")," "),n.xp6(2),n.Q6J("ngIf",((null==C.formCreationPersonnePhysique?null:C.formCreationPersonnePhysique.disabled)||(null==C.formCreationPersonneMorale?null:C.formCreationPersonneMorale.disabled))&&C.hasEditPriv),n.xp6(1),n.Q6J("ngIf",(C.formCreationPersonnePhysique||C.formCreationPersonneMorale)&&!(null!=C.formCreationPersonnePhysique&&C.formCreationPersonnePhysique.disabled)&&!(null!=C.formCreationPersonneMorale&&C.formCreationPersonneMorale.disabled)),n.xp6(1),n.Q6J("ngIf",(C.formCreationPersonnePhysique||C.formCreationPersonneMorale)&&!(null!=C.formCreationPersonnePhysique&&C.formCreationPersonnePhysique.disabled)&&!(null!=C.formCreationPersonneMorale&&C.formCreationPersonneMorale.disabled)),n.xp6(8),n.Q6J("ngIf",C.personne),n.xp6(1),n.Q6J("ngIf",!C.personne),n.xp6(7),n.Q6J("expanded",!0),n.xp6(5),n.Q6J("ngIf",C.formCreationProfession),n.xp6(1),n.Q6J("expanded",!0),n.xp6(5),n.Q6J("ngIf",C.formCreationDocument),n.xp6(12),n.Q6J("expanded",!0),n.xp6(5),n.Q6J("ngIf",C.formCreationRib),n.xp6(1),n.Q6J("ngIf",C.personne),n.xp6(4),n.Q6J("ngIf",(C.formCreationPersonnePhysique||C.formCreationPersonneMorale)&&!(null!=C.formCreationPersonnePhysique&&C.formCreationPersonnePhysique.disabled)&&!(null!=C.formCreationPersonneMorale&&C.formCreationPersonneMorale.disabled)),n.xp6(1),n.Q6J("ngIf",(C.formCreationPersonnePhysique||C.formCreationPersonneMorale)&&!(null!=C.formCreationPersonnePhysique&&C.formCreationPersonnePhysique.disabled)&&!(null!=C.formCreationPersonneMorale&&C.formCreationPersonneMorale.disabled))}}function f_(v,H){1&v&&n._UZ(0,"mat-spinner",183)}const af=[{path:"reseau-commercial/gestion-agences",component:Gn,canActivate:[Le.k],data:{roles:["ROLE_SUPER_ADMIN","ANALYSTE"]}},{path:"reseau-commercial/gestion-agences/creation-agence",component:tl,canActivate:[Le.k],data:{roles:["ROLE_SUPER_ADMIN","ANALYSTE"]}},{path:"reseau-commercial/gestion-agences/modification-agence/:id",component:ko,canActivate:[Le.k],data:{roles:["ROLE_SUPER_ADMIN","ANALYSTE"]}},{path:"gestion-personnes",component:Ol,canActivate:[Le.k],data:{roles:["ROLE_SUPER_ADMIN","ANALYSTE","BACKOFFICE","BO"]}},{path:"gestion-personnes/create",component:hm,canActivate:[Le.k],data:{roles:["ROLE_SUPER_ADMIN","ANALYSTE","BACKOFFICE","BO"]}},{path:"gestion-personnes/:idPersonne/edit",component:(()=>{class v{constructor(C,le,re,Fe,ti){this.router=C,this.formBuilderAuth=le,this.personneService=re,this.route=Fe,this.genericService=ti,this.personneCreationError=!1,this.personneCreationSuccess=!1,this.personne=!1,this.statuts=["EURL","SNC","SARL","SPA","SPASU","SPAS","Groupement","Association","Fondation","Artisan","Profession lib\xe9rale","Personne physique commercante"],this.types_rib=["CCP","RIB"],this.categories=["A","B","C"],this.minDate=new Date,this.adresses=new w.by,this.displayedColumnsAdresse=["description","pays","wilaya","commune","codePostal"],this.lengthColumnsAdresse=this.displayedColumnsAdresse.length,this.modalites=new w.by,this.displayedColumnsModalite=["typeModalite","taux"],this.lengthColumnsModalite=this.displayedColumnsModalite.length,this.contacts=new w.by,this.displayedColumnsContact=["typeContact","description"],this.lengthColumnsContact=this.displayedColumnsContact.length,this.professionsPersonne=new w.by,this.displayedColumnsProfession=["secteurActivite","profession"],this.lengthColumnsProfession=this.displayedColumnsProfession.length,this.documentPersonne=new w.by,this.displayedColumnsDocument=["typeDocument","description","dateDelivrance","dateExpiration","wilayaDelivrance","communeDelivrance"],this.lengthColumnsDocument=this.displayedColumnsDocument.length,this.ribPersonne=new w.by,this.displayedColumnsRIB=["description","swift"],this.lengthColumnsRIB=this.displayedColumnsRIB.length,this.relationPersonne=new w.by,this.displayedColumnsRelation=["DNI","relation"],this.lengthColumnsRelation=this.displayedColumnsRelation.length,this.nationalite_selected=[],this.hasEditPriv=!1}changePage(C){C?(this.personne?this.formCreationPersonnePhysique.enable():this.formCreationPersonneMorale.enable(),this.formCreationProfession.enable()):(this.personne?this.formCreationPersonnePhysique.disable():this.formCreationPersonneMorale.disable(),this.formCreationProfession.disable())}getCommuneByWilaya(C){this.genericService.getAllCommuneByWilaya(null==C.idWilaya?C:C.idWilaya).subscribe({next:re=>{this.communes=re},error:re=>{console.log(re)}})}getCodeByCommune(C){this.genericService.getAllCodeByCommune(null==C?.idCommune?C:C?.idCommune).subscribe({next:re=>{this.codesPostal=re},error:re=>{console.log(re)}})}enableDocument(){this.formCreationDocument.get("description").enable(),this.formCreationDocument.get("dateDelivrance").enable(),this.formCreationDocument.get("dateExpiration").enable(),this.formCreationDocument.get("wilaya").enable(),this.formCreationDocument.get("commune").enable()}initPersonneEdit(){this.personne?(this.personneById?.nationalitesList?.forEach(C=>{this.nationalite_selected.push(C?.nationalite?.idPays)}),this.formCreationPersonnePhysique=this.formBuilderAuth.group({nom:[{value:this.personneById?.nom,disabled:!0},[e.kI.required,e.kI.pattern(ei.e.nom)]],titre:[this.personneById?.titre?this.personneById?.titre?.idParam:""],nomJeuneFille:[this.personneById?.nomJeuneFille,[e.kI.pattern(ei.e.nom)]],prenom1:[{value:this.personneById?.prenom1,disabled:!0},[e.kI.required,e.kI.pattern(ei.e.nom)]],prenom2:[this.personneById?.prenom2,[e.kI.pattern(ei.e.nom)]],prenom3:[this.personneById?.prenom3,[e.kI.pattern(ei.e.nom)]],sexe:[this.personneById?.sexe?this.personneById?.sexe?.idParam:"",[e.kI.required]],situationFamiliale:[this.personneById?.situationFamiliale?this.personneById?.situationFamiliale?.idParam:""],nationalite:[this.nationalite_selected,[e.kI.required]],nationalitesList:[[]],pays:[this.personneById?.pays?.idPays],wilaya:[this.personneById?.wilaya?.idWilaya],commune:[this.personneById?.commune?.idCommune],nin:[this.personneById?.nin],vip:[this.personneById?.vip],dateNaissance:[this.personneById?.dateNaissance,[e.kI.required]],dateDebut:[this.personneById?.dateDebut],dateFin:[this.personneById?.dateFin],auditUser:[this.personneById?.auditUser],professionSecteurList:[[]],modaliteList:[[]],payment:[[]],documentList:[[]],contactList:[[]],adressesList:[[]],relationList:[[]]}),this.formCreationProfession=this.formBuilderAuth.group({id:[0],secteurActivite:["",[e.kI.required]],profession:["",[e.kI.required]],dateDebutProfession:[new Date],dateFinProfession:[""]}),this.formCreationPersonnePhysique.disable()):(this.formCreationPersonneMorale=this.formBuilderAuth.group({raisonSocial:[{value:this.personneById?.raisonSocial,disabled:!0},[e.kI.required]],typeEntreprise:[this.personneById?.typeEntreprise?this.personneById?.typeEntreprise?.idParam:""],capitaleSocial:[this.personneById?.capitaleSocial],statue:[this.personneById?.statue],chiffreAffaire:[this.personneById?.chiffreAffaire],nombreSalarie:[this.personneById?.nombreSalarie],nif:[this.personneById?.nif?this.personneById?.nif:null,[e.kI.pattern(ei.e.NIF)]],vip:[this.personneById?.vip],dateOuverture:[this.personneById?.dateOuverture],dateDebut:[this.personneById?.dateDebut],dateFin:[this.personneById?.dateFin],auditUser:[this.personneById?.auditUser],professionSecteur:[[]],payment:[[]],documentList:[[]],contactList:[[]],adressesList:[[]],relationList:[[]]}),this.formCreationProfession=this.formBuilderAuth.group({id:[this.personneById?.secteurActivite?this.personneById?.secteurActivite?.idSecteur:0],secteurActivite:[this.personneById?.secteurActivite?this.personneById?.secteurActivite?.idSecteur:""],profession:[""],dateDebutProfession:[this.personneById?.secteurActivite?this.personneById?.secteurActivite?.dateDebut:new Date],dateFinProfession:[this.personneById?.secteurActivite?this.personneById?.secteurActivite?.dateFin:""]}),this.formCreationPersonneMorale.disable(),this.formCreationProfession.disable()),this.formCreationAdresse=this.formBuilderAuth.group({idAdresse:[0],description:["",[e.kI.required]],pays:["",[e.kI.required]],wilaya:["",[e.kI.required]],commune:["",[e.kI.required]],codePostal:["",[e.kI.required]]}),this.formCreationContact=this.formBuilderAuth.group({idContact:[0],typeContact:["",[e.kI.required]],description:[{value:"",disabled:!0},[e.kI.required]],dateDebut:[new Date]}),this.formCreationDocument=this.formBuilderAuth.group({idDocument:[0],typeDocument:[""],description:[{value:"",disabled:!0}],dateDelivrance:[{value:"",disabled:!0}],dateExpiration:[{value:"",disabled:!0}],wilayaDelivrance:[{value:"",disabled:!0}],communeDelivrance:[{value:"",disabled:!0}],sousCategorie:[""]}),this.formCreationRib=this.formBuilderAuth.group({idPayment:[0],description:[""],swift:[""],dateDebut:[new Date],dateFin:[""]}),this.formCreationRelation=this.formBuilderAuth.group({idRelation:[0],idClient:[""],relation:[""],dateDebut:[new Date],dateFin:[""]}),this.myControl=new e.NI(""),this.filteredOptions=this.myControl.valueChanges.pipe((0,Ma.O)(""),(0,ar.U)(C=>{const le="string"==typeof C?C:C?.nom?C?.nom+C?.prenom1:C?.raisonSocial;return le?this._filter(le):this.personnes?.slice()})),this.myControlEdit=new e.NI(""),this.filteredOptions=this.myControlEdit.valueChanges.pipe((0,Ma.O)(""),(0,ar.U)(C=>{const le="string"==typeof C?C:C?.nom?C?.nom+C?.prenom1:C?.raisonSocial;return le?this._filter(le):this.personnes?.slice()}))}ngOnInit(){this.idPersonne=this.route.snapshot.paramMap.get("idPersonne"),this.hasEditPriv=Boolean(sessionStorage.getItem("roles")?.includes("BO")),console.log("haspriv",this.hasEditPriv),this.personneService.getPersonneById(this.idPersonne).subscribe({next:C=>{this.personne=null!=C.nom,this.personneById=C,this.adresses.data=C?.adressesList,C?.professionSecteurList&&(this.professionsPersonne.data=C?.professionSecteurList),this.contacts.data=C?.contactList,this.documentPersonne.data=C?.documentList,this.ribPersonne.data=C?.payment,this.relationPersonne.data=C?.relationList,this.adresses.data.forEach(le=>{this.getCommuneByWilaya(le.wilaya?.idWilaya),this.getCodeByCommune(le.commune?.idCommune)}),this.getAllParameters(),this.initPersonneEdit()},error:C=>{console.log(C)}})}_filter(C){const le=C;return this.personnes.filter(re=>re.nom?(re.nom+re.prenom1).includes(le):re.raisonSocial.includes(le))}delete(C,le){switch(C){case"adresse":let re=this.adresses.data;re.splice(le,1),this.adresses=new w.by(re);break;case"contact":let Fe=this.contacts.data;this.contacts.data.splice(le,1),this.contacts=new w.by(Fe);break;case"profession":let ti=this.professionsPersonne.data;this.professionsPersonne.data.splice(le,1),this.professionsPersonne=new w.by(ti);break;case"document":let qo=this.documentPersonne.data;this.documentPersonne.data.splice(le,1),this.documentPersonne=new w.by(qo);break;case"rib":let Vs=this.ribPersonne.data;this.ribPersonne.data.splice(le,1),this.ribPersonne=new w.by(Vs);break;case"relation":let Ya=this.relationPersonne.data;this.relationPersonne.data.splice(le,1),this.relationPersonne=new w.by(Ya)}}getAllParameters(){this.genericService.getParam(JSON.parse(sessionStorage.getItem("dictionnaire")||"{}").find(C=>"C4"==C.code).idCategorie).subscribe({next:C=>{this.typesEntreprise=C},error:C=>{console.log(C)}}),this.genericService.getPays().subscribe({next:C=>{this.pays=C,this.nationalites=C,this.idPays=C.find(le=>"DZA"==le.codePays).idPays,this.genericService.getAllWilayas(this.idPays).subscribe({next:le=>{this.wilayas=le},error:le=>{console.log(le)}})},error:C=>{console.log(C)}}),this.genericService.getParam(JSON.parse(sessionStorage.getItem("dictionnaire")||"{}").find(C=>"C3"==C.code).idCategorie).subscribe({next:C=>{this.types_contact=C},error:C=>{console.log(C)}}),this.genericService.getParam(JSON.parse(sessionStorage.getItem("dictionnaire")||"{}").find(C=>"C6"==C.code).idCategorie).subscribe({next:C=>{this.sexes=C},error:C=>{console.log(C)}}),this.genericService.getParam(JSON.parse(sessionStorage.getItem("dictionnaire")||"{}").find(C=>"C10"==C.code).idCategorie).subscribe({next:C=>{this.titres=C},error:C=>{console.log(C)}}),this.genericService.getParam(JSON.parse(sessionStorage.getItem("dictionnaire")||"{}").find(C=>"C1"==C.code).idCategorie).subscribe({next:C=>{this.situationsFamiliale=C},error:C=>{console.log(C)}}),this.genericService.getSecteur().subscribe({next:C=>{this.secteursActivite=C},error:C=>{console.log(C)}}),this.genericService.getProfession().subscribe({next:C=>{this.professions=C},error:C=>{console.log(C)}}),this.genericService.getParam(JSON.parse(sessionStorage.getItem("dictionnaire")||"{}").find(C=>"C2"==C.code).idCategorie).subscribe({next:C=>{this.types_document=C},error:C=>{console.log(C)}}),this.genericService.getParam(JSON.parse(sessionStorage.getItem("dictionnaire")||"{}").find(C=>"C8"==C.code).idCategorie).subscribe({next:C=>{this.types_relation=C},error:C=>{console.log(C)}}),this.personneService.getAllPersonne().subscribe({next:C=>{this.personnes=C,this.paginate(this.adresses),this.paginate(this.professionsPersonne),this.paginate(this.contacts),this.paginate(this.documentPersonne),this.paginate(this.ribPersonne),this.paginate(this.relationPersonne)},error:C=>{console.log(C)}})}onChangeWilaya(C,le){le.wilaya.idWilaya=C,this.getCommuneByWilaya(C)}ajouterSecteur(C){if(""!=this.formCreationProfession.value?.secteurActivite&&""!=this.formCreationProfession.value?.profession){let le=!0;0==this.professionsPersonne.data.length?this.professionsPersonne.data=[]:this.professionsPersonne.data?.map(re=>{re.secteurActivite?.description==this.formCreationProfession.value.secteurActivite?.description&&re.profession?.description==this.formCreationProfession.value.profession?.description&&(le=!1)}),le?(this.professionsPersonne.data.push(this.formCreationProfession.value),this.paginate(this.professionsPersonne),this.formCreationProfession=this.formBuilderAuth.group({id:[0],secteurActivite:[""],profession:[""],dateDebutProfession:[new Date],dateFinProfession:[""]})):tt().fire("la profession existe d\xe9j\xe0","","error")}}ajouterDocument(C){if(""!=this.formCreationDocument.value.typeDocument&&""!=this.formCreationDocument.value.description){let le=!0;0==this.documentPersonne.data.length?this.documentPersonne.data=[]:this.documentPersonne.data.map(re=>{re.description==this.formCreationDocument.value.description&&(le=!1)}),le?(this.documentPersonne.data.push(this.formCreationDocument.value),this.paginate(this.documentPersonne),this.formCreationDocument=this.formBuilderAuth.group({idDocument:[0],typeDocument:[""],description:[{value:"",disabled:!0}],dateDelivrance:[{value:"",disabled:!0}],dateExpiration:[{value:"",disabled:!0}],wilaya:[{value:"",disabled:!0}],commune:[{value:"",disabled:!0}],sousCategorie:[""]})):tt().fire("le document existe d\xe9j\xe0","","error")}}ajouterAdresse(C){if(""!=this.formCreationAdresse.value.description&&""!=this.formCreationAdresse.value.pays&&""!=this.formCreationAdresse.value.wilaya&&""!=this.formCreationAdresse.value.commune&&""!=this.formCreationAdresse.value.codePostal){let le=!0;0==this.adresses.data.length?this.adresses.data=[]:this.adresses.data.map(re=>{re.description==this.formCreationAdresse.value.description&&re.pays?.description==this.formCreationAdresse.value.pays?.description&&re.wilaya?.description==this.formCreationAdresse.value.wilaya?.description&&re.commune?.description===this.formCreationAdresse.value.commune?.description&&re.codePostal?.description==this.formCreationAdresse.value.codePostal?.description&&(le=!1)}),le?(this.adresses.data.push(this.formCreationAdresse.value),this.paginate(this.adresses),this.formCreationAdresse=this.formBuilderAuth.group({idAdresse:[0],description:["",[e.kI.required]],pays:["",[e.kI.required]],wilaya:["",[e.kI.required]],commune:["",[e.kI.required]],codePostal:["",[e.kI.required]]})):tt().fire("l'adresse existe d\xe9j\xe0","","error")}}ajouterContact(C){if(""!=this.formCreationContact.value.typeContact&&""!=this.formCreationContact.value.description&&this.formCreationContact.controls.description.valid){let le=!0;0==this.contacts.data.length?this.contacts.data=[]:this.contacts.data.map(re=>{re.description==this.formCreationContact.value.description&&(le=!1)}),le?(this.contacts.data.push(this.formCreationContact.value),this.paginate(this.contacts),this.formCreationContact=this.formBuilderAuth.group({idContact:[0],typeContact:["",[e.kI.required]],description:[{value:"",disabled:!0},[e.kI.required]],dateDebut:[new Date]})):tt().fire("le contact existe d\xe9j\xe0","","error")}}ajouterRib(C){if(""!=this.formCreationRib.value.description&&this.formCreationRib.controls.description.valid){let le=!0;0==this.ribPersonne.data.length?this.ribPersonne.data=[]:this.ribPersonne.data.map(re=>{re.description==this.formCreationRib.value.description&&(le=!1)}),le?(this.ribPersonne.data.push(this.formCreationRib.value),this.paginate(this.ribPersonne),this.formCreationRib=this.formBuilderAuth.group({idPayment:[0],description:[""],swift:[""],dateDebut:[new Date],dateFin:[""]})):tt().fire("le RIB existe d\xe9j\xe0","","error")}}ajouterRelation(C){if(""!=this.formCreationRelation.value.typeRelation&&""!=this.myControl.value){let le=!0;this.formCreationRelation.value.idClient=this.myControl.value,0==this.relationPersonne.data.length?this.relationPersonne.data=[]:this.relationPersonne.data.map(re=>{re.idClient==this.formCreationRelation.value.idClient&&(le=!1)}),le?(this.relationPersonne.data.push(this.formCreationRelation.value),this.paginate(this.relationPersonne),this.formCreationRelation=this.formBuilderAuth.group({idRelation:[0],idClient:[""],typeRelation:[""],dateDebut:[new Date],dateFin:[""]}),this.myControl=new e.NI(""),this.filteredOptions=this.myControl.valueChanges.pipe((0,Ma.O)(""),(0,ar.U)(re=>{const Fe="string"==typeof re?re:re?.nom?re?.nom+re?.prenom1:re?.raisonSocial;return Fe?this._filter(Fe):this.personnes?.slice()}))):tt().fire("la relation existe d\xe9j\xe0","","error")}}sauvegarderPersonne(){if(this.personne)this.personnePhysique=this.formCreationPersonnePhysique.value,this.professionsPersonne.data?.forEach(C=>{this.personnePhysique.professionSecteurList?.push({id:C.id,secteurActivite:null!=C.secteurActivite?.idSecteur?C.secteurActivite:this.secteursActivite.find(le=>le.idSecteur==C.secteurActivite),profession:null!=C.profession?.idProfession?C.profession:this.professions.find(le=>le.idProfession==C.profession),dateDebutProfession:C.dateDebutProfession,dateFinProfession:C.dateFinProfession})}),this.documentPersonne.data?.forEach(C=>{this.personnePhysique.documentList?.push({idDocument:C.idDocument,typeDocument:null!=C.typeDocument?.idParam?C.typeDocument:this.types_document.find(le=>le.idParam==C.typeDocument),description:C.description,sousCategorie:C.sousCategorie,dateDelivrance:C.dateDelivrance,dateExperation:C.dateExperation,communeDelivrance:null!=C.communeDelivrance?.idCommune?C.communeDelivrance:this.communes.find(le=>le.idCommune==C.communeDelivrance),wilayaDelivrance:null!=C.wilayaDelivrance?.idWilaya?C.wilayaDelivrance:this.wilayas.find(le=>le.idWilaya==C.wilayaDelivrance)})}),this.adresses.data?.forEach(C=>{this.personnePhysique.adressesList?.push({idAdresse:C.idAdresse,description:C.description,pays:null!=C.pays?.idPays?C.pays:this.pays.find(le=>le.idPays==C.pays),wilaya:null!=C.wilaya?.idWilaya?C.wilaya:this.wilayas.find(le=>le.idWilaya==C.wilaya),commune:null!=C.commune?.idCommune?C.commune:this.communes.find(le=>le.idCommune==C.commune),codePostal:null!=C.codePostal?.idCodePostal?C.codePostal:this.codesPostal.find(le=>le.idCodePostal==C.codePostal)})}),this.contacts.data?.forEach(C=>{this.personnePhysique.contactList?.push({idContact:C.idContact,idTypeContact:C.typeContact?.idParam,typeContact:null!=C.typeContact?.idParam?C.typeContact:this.types_contact.find(le=>le.idParam==C.typeContact),description:C.description,dateDebut:C.dateDebut})}),this.ribPersonne.data?.forEach(C=>{this.personnePhysique.payment?.push({idPayment:C.idPayment,donneBancaire:{idDonneBancaire:C.description?"":C.donneBancaire?.idDonneBancaire,description:C.description?C.description:C.donneBancaire?.description,swift:C.swift?C.swift:C.donneBancaire?.swift},dateDebut:C.dateDebut,dateFin:C.dateFin})}),this.relationPersonne.data?.forEach(C=>{this.personnePhysique.relationList?.push({idRelation:C.idRelation,adherent:C.adherent,dateDebut:C.dateDebut,dateFin:C.dateFin,relation:null!=C.relation?.idParam?C.relation:this.types_relation.find(le=>le.idParam==le.relation)})}),this.personnePhysique.nationalite?.forEach(C=>{this.personnePhysique.nationalitesList?.push({nationalite:this.nationalites.find(le=>le?.idPays==C),dateDebut:"",dateFin:""})}),this.formCreationPersonnePhysique.valid&&this.personneService.updatePersonne(this.personnePhysique,this.idPersonne,"physique").subscribe(C=>{this.personneCreationSuccess=!0,this.personneCreationError=!1,tt().fire(`La personne N\xb0${C.idClient} a \xe9t\xe9 modifi\xe9 avec succ\xe9s`,"","success"),this.formCreationPersonnePhysique.reset(),this.back()},C=>{this.personneCreationError=!0,this.personneCreationSuccess=!1,this.messageError=C.ErreurMessage?C.ErreurMessage:C.message,tt().fire(this.messageError,"","error")});else{this.personneMorale=this.formCreationPersonneMorale.value;let C=this.secteursActivite.find(re=>re.idSecteur==this.formCreationProfession.value.secteurActivite);this.personneMorale.secteurActivite=C;let le=this.typesEntreprise.find(re=>re.idParam==this.formCreationPersonneMorale.value.typeEntreprise);this.personneMorale.typeEntreprise=le,this.documentPersonne.data?.forEach(re=>{this.personneMorale.documentList?.push({idDocument:re.idDocument,typeDocument:null!=re.typeDocument?.idParam?re.typeDocument:this.types_document.find(Fe=>Fe.idParam==re.typeDocument),description:re.description,sousCategorie:re.sousCategorie,dateDelivrance:re.dateDelivrance,dateExperation:re.dateExperation,communeDelivrance:null!=re.communeDelivrance?.idCommune?re.communeDelivrance:this.communes.find(Fe=>Fe.idCommune==re.communeDelivrance),wilayaDelivrance:null!=re.wilayaDelivrance?.idWilaya?re.wilayaDelivrance:this.wilayas.find(Fe=>Fe.idWilaya==re.wilayaDelivrance)})}),this.adresses.data?.forEach(re=>{this.personneMorale.adressesList?.push({idAdresse:re.idAdresse,description:re.description,pays:null!=re.pays?.idPays?re.pays:this.pays.find(Fe=>Fe.idPays==re.pays),wilaya:null!=re.wilaya?.idWilaya?re.wilaya:this.wilayas.find(Fe=>Fe.idWilaya==re.wilaya),commune:null!=re.commune?.idCommune?re.commune:this.communes.find(Fe=>Fe.idCommune==re.commune),codePostal:null!=re.codePostal?.idCodePostal?re.codePostal:this.codesPostal.find(Fe=>Fe.idCodePostal==re.codePostal)})}),this.contacts.data?.forEach(re=>{this.personneMorale.contactList?.push({idContact:re.idContact,idTypeContact:re.typeContact?.idParam,typeContact:null!=re.typeContact?.idParam?re.typeContact:this.types_contact.find(Fe=>Fe.idParam==re.typeContact),description:re.description,dateDebut:re.dateDebut})}),this.ribPersonne.data?.forEach(re=>{this.personneMorale.payment?.push({idPayment:re.idPayment,donneBancaire:{idDonneBancaire:re.description?"":re.donneBancaire?.idDonneBancaire,description:re.description?re.description:re.donneBancaire?.description,swift:re.swift?re.swift:re.donneBancaire?.swift},dateDebut:re.dateDebut,dateFin:re.dateFin})}),this.relationPersonne.data?.forEach(re=>{this.personneMorale.relationList?.push({idRelation:re.idRelation,adherent:re.adherent,dateDebut:re.dateDebut,dateFin:re.dateFin,relation:null!=re.relation?.idParam?re.relation:this.types_relation.find(Fe=>Fe.idParam==Fe.relation)})}),this.formCreationPersonneMorale.valid&&this.personneService.updatePersonne(this.personneMorale,this.idPersonne,"morale").subscribe(re=>{this.personneCreationSuccess=!0,this.personneCreationError=!1,tt().fire(`La personne N\xb0${re.idClient} a \xe9t\xe9 modifi\xe9 avec succ\xe9s`,"","success"),this.formCreationPersonneMorale.reset(),this.back()},re=>{this.personneCreationError=!0,this.personneCreationSuccess=!1,this.messageError=re.ErreurMessage?re.ErreurMessage:re.message,tt().fire(this.messageError,"","error")})}}paginate(C){C.paginator=this.paginator,C.sort=this.sort}back(){this.router.navigateByUrl("gestion-personnes")}debutDateChange(C){this.minDate=C}}return v.\u0275fac=function(C){return new(C||v)(n.Y36(me.F0),n.Y36(e.qu),n.Y36(Is.F),n.Y36(me.gz),n.Y36(Ri.M))},v.\u0275cmp=n.Xpm({type:v,selectors:[["app-edit-personne"]],viewQuery:function(C,le){if(1&C&&(n.Gf(Q.NW,5),n.Gf(hr.YE,5)),2&C){let re;n.iGM(re=n.CRH())&&(le.paginator=re.first),n.iGM(re=n.CRH())&&(le.sort=re.first)}},decls:3,vars:2,consts:[["class","container",4,"ngIf"],[1,"center-spinner"],["diameter","100",4,"ngIf"],[1,"container"],[1,"heading",2,"padding-left","3%","display","flex","align-items","center","justify-content","space-between"],["mat-raised-button","","color","warn","style","float: right; margin-right: 6%; font-size: 15px; font-weight: 600;",3,"click",4,"ngIf"],["class","btn btn-action","style","float: right; margin-right: 6%; font-size: 15px; font-weight: 600; padding: 0%;",3,"click",4,"ngIf"],[1,"mat-typography"],["stepper",""],["matStepLabel",""],["style","padding: 1%;",4,"ngIf"],[1,""],[2,"padding","1%"],["multi","",1,"example-headers-align"],["disabled","",3,"expanded"],[1,"row","row-fields"],["class","login-form",3,"formGroup",4,"ngIf"],[1,"row-button"],["matStepperPrevious","",1,"btn","btn-cancel"],["matStepperNext","",1,"btn","btn-action"],["disabled","",3,"expanded",4,"ngIf"],["matStepperNext","","class","btn btn-action",4,"ngIf"],[4,"ngIf"],["mat-raised-button","","color","warn",2,"float","right","margin-right","6%","font-size","15px","font-weight","600",3,"click"],[1,"btn","btn-action",2,"float","right","margin-right","6%","font-size","15px","font-weight","600","padding","0%",3,"click"],[1,"login-form",3,"formGroup"],["formDirective","ngForm"],["appearance","outline",1,"col-md-6",2,"padding-right","1%"],["formControlName","sexe"],[4,"ngFor","ngForOf"],["class","invalid-feedback",4,"ngIf"],["appearance","outline",1,"col-md-6",2,"padding-left","1%"],["formControlName","titre"],["appearance","outline"],["type","text","matInput","","placeholder","","formControlName","nom",3,"readonly"],["class","col-md-6","style","padding-left: 1%;","appearance","outline",4,"ngIf"],["appearance","outline",1,"col-md-4",2,"padding-right","1%"],["type","text","matInput","","placeholder","","formControlName","prenom1",3,"readonly"],["appearance","outline",1,"col-md-4",2,"padding-left","1%","padding-right","1%"],["type","text","matInput","","placeholder","","formControlName","prenom2"],["appearance","outline",1,"col-md-4",2,"padding-left","1%"],["type","text","matInput","","placeholder","","formControlName","prenom3"],["formControlName","situationFamiliale"],["type","number","matInput","","placeholder","","pattern","[0-9]{18}","formControlName","nin"],["matInput","","formControlName","dateNaissance",3,"max","matDatepicker"],["matSuffix","",3,"for"],["pickerDateNaissance",""],["appearance","outline",1,"col-md-12"],["formControlName","nationalite","multiple",""],[1,"btn","btn-cancel",3,"mouseup"],["class","btn btn-action",4,"ngIf"],[3,"value"],[1,"invalid-feedback"],["type","text","matInput","","placeholder","","formControlName","nomJeuneFille"],["formDirectiveAdresse","ngForm"],["class","row",4,"ngIf"],["class","col-md-12",4,"ngIf"],[1,"row"],["type","text","matInput","","placeholder","","formControlName","description"],["formControlName","pays"],["formControlName","wilaya",3,"selectionChange"],[1,"col-md-9"],["formControlName","commune",3,"selectionChange"],["formControlName","codePostal"],[1,"col-md-3","add-col"],["class","btn btn-secondary",3,"click",4,"ngIf"],["class","btn btn-disable","disabled","",3,"click",4,"ngIf"],[1,"btn","btn-secondary",3,"click"],["aria-hidden","false","aria-label","Ajouter une adresse",1,"material-symbols-outlined",2,"margin-right","1rem"],["disabled","",1,"btn","btn-disable",3,"click"],[1,"col-md-12"],["mat-table","",1,"mat-elevation-z8","adresse-table",3,"dataSource"],["matColumnDef","header-adresse"],["mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","description"],["mat-cell","",4,"matCellDef"],["matColumnDef","pays"],["matColumnDef","wilaya"],["matColumnDef","commune"],["matColumnDef","codePostal"],["mat-header-row","","class","example-first-header-row",4,"matHeaderRowDef"],["mat-header-row","","class","example-second-header-row",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["aria-label","Select page  of users",3,"pageSize","pageSizeOptions"],["mat-header-cell",""],[1,"header-tab"],["mat-cell",""],["appearance","outline",4,"ngIf"],["matInput","",3,"ngModel","ngModelOptions","value","ngModelChange"],[3,"ngModel","ngModelOptions","value","ngModelChange"],["mat-header-row","",1,"example-first-header-row"],["mat-header-row","",1,"example-second-header-row"],["mat-row",""],["formDirectiveContact","ngForm"],["formControlName","typeContact",3,"selectionChange"],["appearance","outline",1,"col-md-6",2,"padding-left","1%","padding-right","1%"],["type","email","pattern","[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}$","matInput","","placeholder","example@example.com","formControlName","description",4,"ngIf"],["type","text","pattern","[+0-9]{12}","matInput","","placeholder","+213","formControlName","description",4,"ngIf"],["type","text","pattern","[+0-9]{13}","matInput","","placeholder","+213","formControlName","description",4,"ngIf"],["type","email","pattern","[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}$","matInput","","placeholder","example@example.com","formControlName","description"],["type","text","pattern","[+0-9]{12}","matInput","","placeholder","+213","formControlName","description"],["type","text","pattern","[+0-9]{13}","matInput","","placeholder","+213","formControlName","description"],["aria-hidden","false","aria-label","Ajouter un contact",1,"material-symbols-outlined",2,"margin-right","1rem"],["mat-table","",1,"mat-elevation-z8","contact-table",3,"dataSource"],["matColumnDef","header-contact"],["matColumnDef","typeContact"],[1,"btn","btn-action"],["type","text","matInput","","placeholder","","formControlName","raisonSocial",3,"readonly"],["appearance","outline",1,"col-md-4",2,"padding-right","1%","padding-left","1%"],["type","text","matInput","","placeholder","","pattern","[0-9]{15,20}","formControlName","nif"],["matInput","","formControlName","dateOuverture",3,"max","matDatepicker"],["pickerDateOuverture",""],["formControlName","typeEntreprise"],["formControlName","statue"],["type","number","matInput","","placeholder","","formControlName","chiffreAffaire"],["type","number","matInput","","placeholder","","formControlName","capitaleSocial"],["type","number","matInput","","placeholder","","formControlName","nombreSalarie"],["type","text","pattern","[+0-9]{12,13}","matInput","","placeholder","+213","formControlName","description",4,"ngIf"],["type","text","pattern","[+0-9]{12,13}","matInput","","placeholder","+213","formControlName","description"],["formDirectiveProfession","ngForm"],["formControlName","secteurActivite"],["class","col-md-3 add-col",4,"ngIf"],[3,"value",4,"ngIf"],["formControlName","profession"],["aria-hidden","false","aria-label","Ajouter un secteur d'activit\xe9",1,"material-symbols-outlined",2,"margin-right","1rem"],["mat-table","",1,"mat-elevation-z8","profession-table",3,"dataSource"],["matColumnDef","header-profession"],["matColumnDef","secteurActivite"],["matColumnDef","profession"],["matColumnDef","dateDebutProfession"],["matInput","",3,"ngModel","ngModelOptions","value","matDatepicker","ngModelChange","dateChange"],["pickerDateDebutProfession",""],["appearance","outline",2,"padding-right","1%"],["formControlName","typeDocument",3,"selectionChange"],["class","col-md-4","style","padding-right: 1%; padding-left: 1%;","appearance","outline",4,"ngIf"],["appearance","outline",2,"padding-left","1%"],["type","text","matInput","","placeholder","","pattern","[0-9]{2}[a-zA-Z]{2}[0-9]{5}","formControlName","description",4,"ngIf"],["type","text","matInput","","placeholder","","pattern","[0-9a-zA-Z]{1,15}","formControlName","description",4,"ngIf"],["type","text","matInput","","placeholder","","formControlName","description",4,"ngIf"],["matInput","","formControlName","dateDelivrance",3,"matDatepicker","dateChange"],["pickerDateDelivrance",""],["matInput","","formControlName","dateExpiration",3,"matDatepicker"],["pickerDateExpiration",""],["formControlName","wilayaDelivrance"],["formControlName","communeDelivrance"],["formControlName","sousCategorie"],["type","text","matInput","","placeholder","","pattern","[0-9]{2}[a-zA-Z]{2}[0-9]{5}","formControlName","description"],["type","text","matInput","","placeholder","","pattern","[0-9a-zA-Z]{1,15}","formControlName","description"],["aria-hidden","false","aria-label","Ajouter un document",1,"material-symbols-outlined",2,"margin-right","1rem"],["mat-table","",1,"mat-elevation-z8","document-table",3,"dataSource"],["matColumnDef","header-document"],["matColumnDef","typeDocument"],["matColumnDef","dateDelivrance"],["matColumnDef","dateExpiration"],["matColumnDef","wilayaDelivrance"],["matColumnDef","communeDelivrance"],["matInput","",3,"ngModel","ngModelOptions","value","matDatepicker","ngModelChange"],["formDirectiveRib","ngForm"],["type","number","matInput","","placeholder","","pattern","[0-9]{20}","formControlName","description"],["type","number","matInput","","placeholder","","pattern","[0-9]{8,11}","formControlName","swift"],["aria-hidden","false","aria-label","Ajouter un compte RIB",1,"material-symbols-outlined",2,"margin-right","1rem"],["mat-table","",1,"mat-elevation-z8","rib-table",3,"dataSource"],["matColumnDef","header-rib"],["matColumnDef","swift"],["formDirectiveRelation","ngForm"],["appearance","outline",1,"example-full-width",2,"padding-right","1%"],["type","text","matInput","",3,"formControl","matAutocomplete"],["auto","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],["formControlName","relation"],["matInput","","formControlName","dateDebut",3,"matDatepicker","dateChange"],["pickerDateDebutRelation",""],["matInput","","formControlName","dateFin",3,"matDatepicker"],["pickerDateFinRelation",""],["aria-hidden","false","aria-label","Ajouter un lien de parent\xe9",1,"material-symbols-outlined",2,"margin-right","1rem"],["matColumnDef","DNI"],["matColumnDef","relation"],["type","text","matInput","",3,"formControl","ngModel","value","matAutocomplete","ngModelChange"],[1,"btn","btn-action",3,"click"],[1,"row","resume"],[1,"col-md-3","title-resume"],[1,"col-md-3"],[1,"row","resume","even"],["diameter","100"]],template:function(C,le){1&C&&(n.YNc(0,Lp,59,19,"div",0),n.TgZ(1,"div",1),n.YNc(2,f_,1,0,"mat-spinner",2),n.qZA()),2&C&&(n.Q6J("ngIf",le.formCreationPersonnePhysique||le.formCreationPersonneMorale),n.xp6(2),n.Q6J("ngIf",!le.formCreationPersonnePhysique&&!le.formCreationPersonneMorale))},dependencies:[Se.sg,Se.O5,Z.d,Xn.Hw,vi.pp,vi.ib,vi.yz,vi.yK,e._Y,e.Fj,e.wV,e.JJ,e.JL,e.c5,e.oH,e.sg,e.u,O.TO,O.KE,O.bx,O.hX,O.R9,J.Nt,w.BZ,w.fO,w.as,w.w1,w.Dz,w.nj,w.ge,w.ev,w.XQ,w.Gk,Q.NW,o.xY,he.Mq,he.hl,he.nW,Ze.gD,l.ey,Lt.lW,Br.C0,Br.VY,Br.Vq,Br.Ic,Br.fd,Rr.XC,Rr.ZL,Cm.Ou,e.On,Se.Ov,Se.uU],styles:[".buttons.row[_ngcontent-%COMP%]{justify-content:space-between;padding:0 21px}h2.heading[_ngcontent-%COMP%]{color:#00008f;font-weight:700!important;letter-spacing:.5px}.mat-dialog-content[_ngcontent-%COMP%]{padding-top:15px}.mat-radio-button[_ngcontent-%COMP%]{margin:0 12px}.mat-form-field[_ngcontent-%COMP%]{padding-top:15px}.mat-error[_ngcontent-%COMP%]{font-size:11px}.container[_ngcontent-%COMP%]{background-color:#fff;padding:40px 0;height:100%;overflow:auto;box-shadow:0 .5rem 1rem #00000026}.center-spinner[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%) translateY(-50%)}.mat-input-element[_ngcontent-%COMP%]:disabled{color:#000c}.addSecteurIcon[_ngcontent-%COMP%]{font-size:40px;margin-left:59px;padding-top:15px;color:#00008f}.no-hover-effect[_ngcontent-%COMP%]     .mat-button-focus-overlay{background-color:transparent}table.profession-table[_ngcontent-%COMP%], table.document-table[_ngcontent-%COMP%], table.adresse-table[_ngcontent-%COMP%], table.contact-table[_ngcontent-%COMP%], table.modalite-table[_ngcontent-%COMP%], table.rib-table[_ngcontent-%COMP%]{width:100%;margin:auto}.mat-header-cell[_ngcontent-%COMP%]{color:#333;font-weight:600;letter-spacing:.5px;font-size:15px;width:165px}.header-tab[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}.mat-paginator[_ngcontent-%COMP%]{background-color:transparent;margin:20px auto auto;width:100%}.example-first-header-row[_ngcontent-%COMP%]{background-color:#00008f}.example-first-header-row[_ngcontent-%COMP%]   th.mat-header-cell[_ngcontent-%COMP%]{border:none;color:#fff;font-size:18px}.mat-column-valeurGarantie.mat-cell[_ngcontent-%COMP%], .mat-column-valeurEnvloppe.mat-cell[_ngcontent-%COMP%]{text-align:center}.mat-cell[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{color:#00008f}.mat-header-cell.mat-icon[_ngcontent-%COMP%]{color:#fff}.mat-cell[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]:hover, .mat-header-cell[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]:hover{color:#d14723;cursor:pointer}  .mat-tooltip{font-size:14px}.resume[_ngcontent-%COMP%]{font-size:18px;padding:2rem 1rem;border-top:1px solid rgba(51,51,51,.2)}.resume.even[_ngcontent-%COMP%]{background:rgb(247,247,249)}.resume[_ngcontent-%COMP%]   .title-resume[_ngcontent-%COMP%]{font-weight:700;color:#00008e}.add-col[_ngcontent-%COMP%]{display:flex;align-items:flex-end;padding-bottom:2rem}.add-col[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:flex;align-items:center}.mat-expansion-panel-header[_ngcontent-%COMP%]{background:rgba(51,51,51,.0509803922)}.mat-expansion-panel-header-title[_ngcontent-%COMP%], .mat-expansion-panel-header[aria-disabled=true][_ngcontent-%COMP%]{color:#00008f;font-weight:600;font-size:16px}.row-fields[_ngcontent-%COMP%]{padding:2rem}.row-button[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:0 3rem;margin-top:2rem}"]}),v})(),canActivate:[Le.k],data:{roles:["ROLE_SUPER_ADMIN","ANALYSTE","BACKOFFICE","BO"]}}];let lg=(()=>{class v{}return v.\u0275fac=function(C){return new(C||v)},v.\u0275mod=n.oAB({type:v}),v.\u0275inj=n.cJS({imports:[me.Bz.forChild(af),me.Bz]}),v})(),cg=(()=>{class v{}return v.\u0275fac=function(C){return new(C||v)},v.\u0275mod=n.oAB({type:v}),v.\u0275inj=n.cJS({imports:[Se.ez,lg,h.m,Ge.q,K.I,ee.FF]}),v})()},8223:(co,wn,B)=>{"use strict";B.r(wn),B.d(wn,{AppDateAdapter:()=>_a,GestionContratVieModule:()=>gl});var Se=B(6895),K=B(2510),Ge=B(9523),h=B(5861),ee=B(4006),me=B(7155),Le=B(5226),Q=B.n(Le),w=B(2644),o=B(5439),e=B(6666),xe=B(7843),n=B(6274),i=B(4650),Z=B(2473),O=B(5617),J=B(3388),he=B(7179),Ze=B(852),l=B(5412),t=B(6127),Ft=B(3776),ln=B(8056),ut=B(7947),ot=B(6944),tt=B(6436),Zt=B(8153),nn=B(1351),_n=B(7392),xn=B(7084),mn=B(9549),Ri=B(284),Xn=B(9602),Mt=B(4385),Lt=B(3238),xt=B(6257),ht=B(1572),Yn=B(2768);const Jn=["stepper"];function pi(se,He){1&se&&i._uU(0," Informations contrat, souscripteur, assur\xe9 ")}function Qn(se,He){if(1&se&&(i.ynx(0),i.TgZ(1,"mat-option",36),i._uU(2),i.qZA(),i.BQk()),2&se){const Y=He.$implicit;i.xp6(1),i.Q6J("value",Y.idAgence),i.xp6(1),i.hij(" ",Y.nomAgence," ")}}function Kn(se,He){if(1&se&&(i.ynx(0),i.TgZ(1,"mat-option",36),i._uU(2),i.qZA(),i.BQk()),2&se){const Y=He.$implicit;i.xp6(1),i.Q6J("value",Y.idCodeProduit),i.xp6(1),i.hij(" ",Y.description," ")}}function xi(se,He){if(1&se&&(i.TgZ(0,"form",25)(1,"mat-expansion-panel",26)(2,"mat-expansion-panel-header")(3,"mat-panel-title"),i._uU(4," Informations contrat "),i.qZA()(),i.TgZ(5,"div",27)(6,"mat-form-field",28)(7,"mat-label"),i._uU(8,"Agence"),i.qZA(),i.TgZ(9,"mat-select",29),i.YNc(10,Qn,3,2,"ng-container",18),i.qZA()(),i.TgZ(11,"mat-form-field",28)(12,"mat-label"),i._uU(13,"Produit"),i.qZA(),i.TgZ(14,"mat-select",30),i.YNc(15,Kn,3,2,"ng-container",18),i.qZA()(),i.TgZ(16,"mat-form-field",28)(17,"mat-label"),i._uU(18,"Date d'Effet"),i.qZA(),i._UZ(19,"input",31)(20,"mat-datepicker-toggle",32)(21,"mat-datepicker",null,33),i.qZA(),i.TgZ(23,"mat-form-field",28)(24,"mat-label"),i._uU(25,"Date d'Ech\xe9ance"),i.qZA(),i._UZ(26,"input",34)(27,"mat-datepicker-toggle",32)(28,"mat-datepicker",null,35),i.qZA()()()()),2&se){const Y=i.MAs(22),Ee=i.MAs(29),Ye=i.oxw(3);i.Q6J("formGroup",Ye.formCreationContrat),i.xp6(1),i.Q6J("expanded",!0),i.xp6(9),i.Q6J("ngForOf",Ye.agences),i.xp6(5),i.Q6J("ngForOf",Ye.produits),i.xp6(4),i.Q6J("matDatepicker",Y),i.xp6(1),i.Q6J("for",Y),i.xp6(6),i.Q6J("matDatepicker",Ee),i.xp6(1),i.Q6J("for",Ee)}}function tn(se,He){1&se&&(i.TgZ(0,"div"),i._uU(1," ce champs est obligatoire"),i.qZA())}function Kt(se,He){if(1&se&&(i.TgZ(0,"mat-error",53),i.YNc(1,tn,2,0,"div",21),i.qZA()),2&se){const Y=i.oxw(5);i.xp6(1),i.Q6J("ngIf",Y.formCreationSouscripteur.controls.raisonSocial.errors.required)}}function hi(se,He){if(1&se){const Y=i.EpF();i.TgZ(0,"button",54),i.NdJ("mouseup",function(){i.CHM(Y);const Ye=i.oxw(5);return i.KtG(Ye.recherchePersonne("Souscripteur"))}),i._uU(1," Rechercher "),i.qZA()}}function $i(se,He){if(1&se){const Y=i.EpF();i.TgZ(0,"button",55),i.NdJ("mouseup",function(){i.CHM(Y);const Ye=i.oxw(5);return i.KtG(Ye.recherchePersonne("Souscripteur"))}),i._uU(1," Rechercher "),i.qZA()}}function Sn(se,He){1&se&&(i.TgZ(0,"div"),i._uU(1," ce champs est obligatoire"),i.qZA())}function vt(se,He){if(1&se&&(i.TgZ(0,"mat-error",53),i.YNc(1,Sn,2,0,"div",21),i.qZA()),2&se){const Y=i.oxw(5);i.xp6(1),i.Q6J("ngIf",Y.formCreationSouscripteur.controls.rib.errors.required)}}function $e(se,He){1&se&&(i.TgZ(0,"mat-error",53),i._uU(1," ce champs n'est pas conforme "),i.qZA())}function bn(se,He){1&se&&(i.TgZ(0,"div"),i._uU(1," ce champs est obligatoire"),i.qZA())}function Vt(se,He){if(1&se&&(i.TgZ(0,"mat-error",53),i.YNc(1,bn,2,0,"div",21),i.qZA()),2&se){const Y=i.oxw(5);i.xp6(1),i.Q6J("ngIf",Y.formCreationSouscripteur.controls.nif.errors.required)}}function Gn(se,He){1&se&&(i.TgZ(0,"mat-error",53),i._uU(1," ce champs n'est pas conforme "),i.qZA())}function ei(se,He){1&se&&(i.TgZ(0,"div"),i._uU(1," ce champs est obligatoire"),i.qZA())}function vi(se,He){if(1&se&&(i.TgZ(0,"mat-error",53),i.YNc(1,ei,2,0,"div",21),i.qZA()),2&se){const Y=i.oxw(5);i.xp6(1),i.Q6J("ngIf",Y.formCreationSouscripteur.controls.telephone.errors.required)}}function uo(se,He){1&se&&(i.TgZ(0,"mat-error",53),i._uU(1," ce champs n'est pas conforme "),i.qZA())}function bo(se,He){1&se&&(i.TgZ(0,"div"),i._uU(1," ce champs est obligatoire"),i.qZA())}function oe(se,He){if(1&se&&(i.TgZ(0,"mat-error",53),i.YNc(1,bo,2,0,"div",21),i.qZA()),2&se){const Y=i.oxw(5);i.xp6(1),i.Q6J("ngIf",Y.formCreationSouscripteur.controls.email.errors.required)}}function pn(se,He){1&se&&(i.TgZ(0,"mat-error",53),i._uU(1," ce champs n'est pas conforme "),i.qZA())}function Zi(se,He){1&se&&(i.TgZ(0,"div"),i._uU(1," ce champs est obligatoire"),i.qZA())}function Ai(se,He){if(1&se&&(i.TgZ(0,"mat-error",53),i.YNc(1,Zi,2,0,"div",21),i.qZA()),2&se){const Y=i.oxw(5);i.xp6(1),i.Q6J("ngIf",Y.formCreationSouscripteur.controls.adresse.errors.required)}}function Di(se,He){if(1&se&&(i.ynx(0),i.TgZ(1,"mat-option",36),i._uU(2),i.qZA(),i.BQk()),2&se){const Y=He.$implicit;i.xp6(1),i.Q6J("value",Y.idWilaya),i.xp6(1),i.hij(" ",Y.description," ")}}function Mn(se,He){1&se&&(i.TgZ(0,"div"),i._uU(1," ce champs est obligatoire"),i.qZA())}function Nn(se,He){if(1&se&&(i.TgZ(0,"mat-error",53),i.YNc(1,Mn,2,0,"div",21),i.qZA()),2&se){const Y=i.oxw(5);i.xp6(1),i.Q6J("ngIf",Y.formCreationSouscripteur.controls.wilaya.errors.required)}}function vn(se,He){if(1&se&&(i.ynx(0),i.TgZ(1,"mat-option",36),i._uU(2),i.qZA(),i.BQk()),2&se){const Y=He.$implicit;i.xp6(1),i.Q6J("value",Y.idCommune),i.xp6(1),i.hij(" ",Y.description," ")}}function Et(se,He){1&se&&(i.TgZ(0,"div"),i._uU(1," ce champs est obligatoire"),i.qZA())}function mo(se,He){if(1&se&&(i.TgZ(0,"mat-error",53),i.YNc(1,Et,2,0,"div",21),i.qZA()),2&se){const Y=i.oxw(5);i.xp6(1),i.Q6J("ngIf",Y.formCreationSouscripteur.controls.commune.errors.required)}}function mr(se,He){if(1&se){const Y=i.EpF();i.TgZ(0,"div",27)(1,"div",38)(2,"mat-form-field",28)(3,"mat-label"),i._uU(4,"Raison social"),i.qZA(),i._UZ(5,"input",39),i.YNc(6,Kt,2,1,"mat-error",40),i.qZA(),i.YNc(7,hi,2,0,"button",41),i.YNc(8,$i,2,0,"button",42),i.qZA(),i.TgZ(9,"mat-form-field",28)(10,"mat-label"),i._uU(11,"N\xb0 RIB"),i.qZA(),i._UZ(12,"input",43),i.YNc(13,vt,2,1,"mat-error",40),i.YNc(14,$e,2,0,"mat-error",40),i.qZA(),i.TgZ(15,"mat-form-field",44)(16,"mat-label"),i._uU(17,"NIF"),i.qZA(),i._UZ(18,"input",45),i.YNc(19,Vt,2,1,"mat-error",40),i.YNc(20,Gn,2,0,"mat-error",40),i.qZA(),i.TgZ(21,"mat-form-field",28)(22,"mat-label"),i._uU(23,"Mobile"),i.qZA(),i.TgZ(24,"span",46),i._uU(25,"+213 \xa0"),i.qZA(),i._UZ(26,"input",47),i.YNc(27,vi,2,1,"mat-error",40),i.YNc(28,uo,2,0,"mat-error",40),i.qZA(),i.TgZ(29,"mat-form-field",28)(30,"mat-label"),i._uU(31,"Email"),i.qZA(),i._UZ(32,"input",48),i.YNc(33,oe,2,1,"mat-error",40),i.YNc(34,pn,2,0,"mat-error",40),i.qZA(),i.TgZ(35,"mat-form-field",49)(36,"mat-label"),i._uU(37,"Adresse"),i.qZA(),i._UZ(38,"input",50),i.YNc(39,Ai,2,1,"mat-error",40),i.qZA(),i.TgZ(40,"mat-form-field",49)(41,"mat-label"),i._uU(42,"Wilaya"),i.qZA(),i.TgZ(43,"mat-select",51),i.NdJ("selectionChange",function(Ye){i.CHM(Y);const Ct=i.oxw(4);return i.KtG(Ct.getCommune(Ye.value,"Souscripteur"))}),i.YNc(44,Di,3,2,"ng-container",18),i.qZA(),i.YNc(45,Nn,2,1,"mat-error",40),i.qZA(),i.TgZ(46,"mat-form-field",49)(47,"mat-label"),i._uU(48,"Commune"),i.qZA(),i.TgZ(49,"mat-select",52),i.YNc(50,vn,3,2,"ng-container",18),i.qZA(),i.YNc(51,mo,2,1,"mat-error",40),i.qZA()()}if(2&se){const Y=i.oxw(4);i.xp6(5),i.Q6J("readonly",!0),i.xp6(1),i.Q6J("ngIf",Y.formCreationSouscripteur.controls.raisonSocial.errors),i.xp6(1),i.Q6J("ngIf",""!=Y.formCreationSouscripteur.value.raisonSocial),i.xp6(1),i.Q6J("ngIf",""==Y.formCreationSouscripteur.value.raisonSocial),i.xp6(5),i.Q6J("ngIf",Y.formCreationSouscripteur.controls.rib.errors),i.xp6(1),i.Q6J("ngIf",(null==Y.formCreationSouscripteur.controls.rib.errors?null:Y.formCreationSouscripteur.controls.rib.errors.pattern)||(null==Y.formCreationSouscripteur.controls.rib.errors?null:Y.formCreationSouscripteur.controls.rib.errors.maxlength)||(null==Y.formCreationSouscripteur.controls.rib.errors?null:Y.formCreationSouscripteur.controls.rib.errors.minlength)),i.xp6(5),i.Q6J("ngIf",Y.formCreationSouscripteur.controls.nif.errors),i.xp6(1),i.Q6J("ngIf",(null==Y.formCreationSouscripteur.controls.nif.errors?null:Y.formCreationSouscripteur.controls.nif.errors.maxlength)||(null==Y.formCreationSouscripteur.controls.nif.errors?null:Y.formCreationSouscripteur.controls.nif.errors.minlength)),i.xp6(7),i.Q6J("ngIf",Y.formCreationSouscripteur.controls.telephone.errors),i.xp6(1),i.Q6J("ngIf",(null==Y.formCreationSouscripteur.controls.telephone.errors?null:Y.formCreationSouscripteur.controls.telephone.errors.pattern)||(null==Y.formCreationSouscripteur.controls.telephone.errors?null:Y.formCreationSouscripteur.controls.telephone.errors.maxlength)||(null==Y.formCreationSouscripteur.controls.telephone.errors?null:Y.formCreationSouscripteur.controls.telephone.errors.minlength)),i.xp6(5),i.Q6J("ngIf",Y.formCreationSouscripteur.controls.email.errors),i.xp6(1),i.Q6J("ngIf",(null==Y.formCreationSouscripteur.controls.email.errors?null:Y.formCreationSouscripteur.controls.email.errors.pattern)||(null==Y.formCreationSouscripteur.controls.email.errors?null:Y.formCreationSouscripteur.controls.email.errors.maxlength)||(null==Y.formCreationSouscripteur.controls.email.errors?null:Y.formCreationSouscripteur.controls.email.errors.minlength)),i.xp6(5),i.Q6J("ngIf",Y.formCreationSouscripteur.controls.adresse.errors),i.xp6(5),i.Q6J("ngForOf",Y.wilayas),i.xp6(1),i.Q6J("ngIf",Y.formCreationSouscripteur.controls.wilaya.errors),i.xp6(5),i.Q6J("ngForOf",Y.communes),i.xp6(1),i.Q6J("ngIf",Y.formCreationSouscripteur.controls.commune.errors)}}function zr(se,He){1&se&&(i.TgZ(0,"div"),i._uU(1," ce champs est obligatoire"),i.qZA())}function Eo(se,He){if(1&se&&(i.TgZ(0,"mat-error",53),i.YNc(1,zr,2,0,"div",21),i.qZA()),2&se){const Y=i.oxw(5);i.xp6(1),i.Q6J("ngIf",Y.formCreationSouscripteur.controls.nom.errors.required)}}function ra(se,He){1&se&&(i.TgZ(0,"div"),i._uU(1," ce champs est obligatoire"),i.qZA())}function aa(se,He){if(1&se&&(i.TgZ(0,"mat-error",53),i.YNc(1,ra,2,0,"div",21),i.qZA()),2&se){const Y=i.oxw(5);i.xp6(1),i.Q6J("ngIf",Y.formCreationSouscripteur.controls.prenom.errors.required)}}function Ba(se,He){1&se&&(i.TgZ(0,"div"),i._uU(1," L'age du souscripteur doit etre sup\xe9rieur \xe0 18 ans"),i.qZA())}function za(se,He){1&se&&(i.TgZ(0,"div"),i._uU(1," L'age du souscripteur doit etre inf\xe9rieur \xe0 107 ans"),i.qZA())}function Aa(se,He){1&se&&(i.TgZ(0,"div"),i._uU(1," ce champs est obligatoire"),i.qZA())}function Ks(se,He){if(1&se&&(i.TgZ(0,"mat-error",53),i.YNc(1,Ba,2,0,"div",21),i.YNc(2,za,2,0,"div",21),i.YNc(3,Aa,2,0,"div",21),i.qZA()),2&se){const Y=i.oxw(5);i.xp6(1),i.Q6J("ngIf",Y.formCreationSouscripteur.controls.dateNaissance.errors.ageInf18),i.xp6(1),i.Q6J("ngIf",Y.formCreationSouscripteur.controls.dateNaissance.errors.ageSup107),i.xp6(1),i.Q6J("ngIf",Y.formCreationSouscripteur.controls.dateNaissance.errors.required)}}function ds(se,He){if(1&se){const Y=i.EpF();i.TgZ(0,"button",54),i.NdJ("mouseup",function(){i.CHM(Y);const Ye=i.oxw(5);return i.KtG(Ye.recherchePersonne("Souscripteur"))}),i._uU(1," Rechercher "),i.qZA()}}function _s(se,He){if(1&se){const Y=i.EpF();i.TgZ(0,"button",55),i.NdJ("mouseup",function(){i.CHM(Y);const Ye=i.oxw(5);return i.KtG(Ye.recherchePersonne("Souscripteur"))}),i._uU(1," Rechercher "),i.qZA()}}function Ta(se,He){1&se&&(i.TgZ(0,"div"),i._uU(1," ce champs est obligatoire"),i.qZA())}function sa(se,He){if(1&se&&(i.TgZ(0,"mat-error",53),i.YNc(1,Ta,2,0,"div",21),i.qZA()),2&se){const Y=i.oxw(5);i.xp6(1),i.Q6J("ngIf",Y.formCreationSouscripteur.controls.nin.errors.required)}}function Ws(se,He){1&se&&(i.TgZ(0,"mat-error",53),i._uU(1," ce champs n'est pas conforme "),i.qZA())}function Xs(se,He){1&se&&(i.TgZ(0,"div"),i._uU(1," ce champs est obligatoire"),i.qZA())}function dr(se,He){if(1&se&&(i.TgZ(0,"mat-error",53),i.YNc(1,Xs,2,0,"div",21),i.qZA()),2&se){const Y=i.oxw(5);i.xp6(1),i.Q6J("ngIf",Y.formCreationSouscripteur.controls.telephone.errors.required)}}function Va(se,He){1&se&&(i.TgZ(0,"mat-error",53),i._uU(1," ce champs n'est pas conforme "),i.qZA())}function ps(se,He){1&se&&(i.TgZ(0,"div"),i._uU(1," ce champs est obligatoire"),i.qZA())}function fs(se,He){if(1&se&&(i.TgZ(0,"mat-error",53),i.YNc(1,ps,2,0,"div",21),i.qZA()),2&se){const Y=i.oxw(5);i.xp6(1),i.Q6J("ngIf",Y.formCreationSouscripteur.controls.email.errors.required)}}function Ra(se,He){1&se&&(i.TgZ(0,"mat-error",53),i._uU(1," ce champs n'est pas conforme "),i.qZA())}function gs(se,He){1&se&&(i.TgZ(0,"div"),i._uU(1," ce champs est obligatoire"),i.qZA())}function ja(se,He){if(1&se&&(i.TgZ(0,"mat-error",53),i.YNc(1,gs,2,0,"div",21),i.qZA()),2&se){const Y=i.oxw(5);i.xp6(1),i.Q6J("ngIf",Y.formCreationSouscripteur.controls.adresse.errors.required)}}function el(se,He){if(1&se&&(i.ynx(0),i.TgZ(1,"mat-option",36),i._uU(2),i.qZA(),i.BQk()),2&se){const Y=He.$implicit;i.xp6(1),i.Q6J("value",Y.idWilaya),i.xp6(1),i.hij(" ",Y.description," ")}}function la(se,He){1&se&&(i.TgZ(0,"div"),i._uU(1," ce champs est obligatoire"),i.qZA())}function hs(se,He){if(1&se&&(i.TgZ(0,"mat-error",53),i.YNc(1,la,2,0,"div",21),i.qZA()),2&se){const Y=i.oxw(5);i.xp6(1),i.Q6J("ngIf",Y.formCreationSouscripteur.controls.wilaya.errors.required)}}function Cs(se,He){if(1&se&&(i.ynx(0),i.TgZ(1,"mat-option",36),i._uU(2),i.qZA(),i.BQk()),2&se){const Y=He.$implicit;i.xp6(1),i.Q6J("value",Y.idCommune),i.xp6(1),i.hij(" ",Y.description," ")}}function rr(se,He){1&se&&(i.TgZ(0,"div"),i._uU(1," ce champs est obligatoire"),i.qZA())}function xs(se,He){if(1&se&&(i.TgZ(0,"mat-error",53),i.YNc(1,rr,2,0,"div",21),i.qZA()),2&se){const Y=i.oxw(5);i.xp6(1),i.Q6J("ngIf",Y.formCreationSouscripteur.controls.commune.errors.required)}}function vs(se,He){if(1&se&&(i.ynx(0),i.TgZ(1,"mat-option",36),i._uU(2),i.qZA(),i.BQk()),2&se){const Y=He.$implicit;i.xp6(1),i.Q6J("value",Y.idParam),i.xp6(1),i.Oqu(Y.description)}}function tl(se,He){1&se&&(i.TgZ(0,"div"),i._uU(1," ce champs est obligatoire"),i.qZA())}function As(se,He){if(1&se&&(i.TgZ(0,"mat-error",53),i.YNc(1,tl,2,0,"div",21),i.qZA()),2&se){const Y=i.oxw(5);i.xp6(1),i.Q6J("ngIf",Y.formCreationSouscripteur.controls.genre.errors.required)}}function Ar(se,He){if(1&se&&(i.ynx(0),i.TgZ(1,"mat-option",36),i._uU(2),i.qZA(),i.BQk()),2&se){const Y=He.$implicit;i.xp6(1),i.Q6J("value",Y.idParam),i.xp6(1),i.Oqu(Y.description)}}function nl(se,He){if(1&se&&(i.ynx(0),i.TgZ(1,"mat-option",36),i._uU(2),i.qZA(),i.BQk()),2&se){const Y=He.$implicit;i.xp6(1),i.Q6J("value",Y.idProfession),i.xp6(1),i.Oqu(Y.description)}}function il(se,He){if(1&se){const Y=i.EpF();i.TgZ(0,"div",27)(1,"div",38)(2,"mat-form-field",56)(3,"mat-label"),i._uU(4,"Nom"),i.qZA(),i._UZ(5,"input",57),i.YNc(6,Eo,2,1,"mat-error",40),i.qZA(),i.TgZ(7,"mat-form-field",56)(8,"mat-label"),i._uU(9,"Pr\xe9nom"),i.qZA(),i._UZ(10,"input",58),i.YNc(11,aa,2,1,"mat-error",40),i.qZA(),i.TgZ(12,"mat-form-field",56)(13,"mat-label"),i._uU(14,"Date de naissance"),i.qZA(),i._UZ(15,"input",59)(16,"mat-datepicker-toggle",32)(17,"mat-datepicker",null,60),i.YNc(19,Ks,4,3,"mat-error",40),i.qZA(),i.YNc(20,ds,2,0,"button",41),i.YNc(21,_s,2,0,"button",61),i.qZA(),i.TgZ(22,"mat-form-field",62)(23,"mat-label"),i._uU(24,"NIN"),i.qZA(),i._UZ(25,"input",63),i.YNc(26,sa,2,1,"mat-error",40),i.YNc(27,Ws,2,0,"mat-error",40),i.qZA(),i.TgZ(28,"mat-form-field",49)(29,"mat-label"),i._uU(30,"Mobile"),i.qZA(),i.TgZ(31,"span",46),i._uU(32,"+213 \xa0"),i.qZA(),i._UZ(33,"input",47),i.YNc(34,dr,2,1,"mat-error",40),i.YNc(35,Va,2,0,"mat-error",40),i.qZA(),i.TgZ(36,"mat-form-field",49)(37,"mat-label"),i._uU(38,"Email"),i.qZA(),i._UZ(39,"input",48),i.YNc(40,fs,2,1,"mat-error",40),i.YNc(41,Ra,2,0,"mat-error",40),i.qZA(),i.TgZ(42,"mat-form-field",49)(43,"mat-label"),i._uU(44,"Adresse"),i.qZA(),i._UZ(45,"input",50),i.YNc(46,ja,2,1,"mat-error",40),i.qZA(),i.TgZ(47,"mat-form-field",49)(48,"mat-label"),i._uU(49,"Wilaya"),i.qZA(),i.TgZ(50,"mat-select",51),i.NdJ("selectionChange",function(Ye){i.CHM(Y);const Ct=i.oxw(4);return i.KtG(Ct.getCommune(Ye.value,"souscripteur"))}),i.YNc(51,el,3,2,"ng-container",18),i.qZA(),i.YNc(52,hs,2,1,"mat-error",40),i.qZA(),i.TgZ(53,"mat-form-field",49)(54,"mat-label"),i._uU(55,"Commune"),i.qZA(),i.TgZ(56,"mat-select",52),i.YNc(57,Cs,3,2,"ng-container",18),i.qZA(),i.YNc(58,xs,2,1,"mat-error",40),i.qZA(),i.TgZ(59,"mat-form-field",49)(60,"mat-label"),i._uU(61," Genre "),i.qZA(),i.TgZ(62,"mat-select",64),i.YNc(63,vs,3,2,"ng-container",18),i.qZA(),i.YNc(64,As,2,1,"mat-error",40),i.qZA(),i.TgZ(65,"mat-form-field",49)(66,"mat-label"),i._uU(67," Situation Familiale "),i.qZA(),i.TgZ(68,"mat-select",65),i.YNc(69,Ar,3,2,"ng-container",18),i.qZA()(),i.TgZ(70,"mat-form-field",49)(71,"mat-label"),i._uU(72," Profession "),i.qZA(),i.TgZ(73,"mat-select",66),i.YNc(74,nl,3,2,"ng-container",18),i.qZA()()()}if(2&se){const Y=i.MAs(18),Ee=i.oxw(4);i.xp6(5),i.Q6J("readonly",!0),i.xp6(1),i.Q6J("ngIf",Ee.formCreationSouscripteur.controls.nom.errors),i.xp6(4),i.Q6J("readonly",!0),i.xp6(1),i.Q6J("ngIf",Ee.formCreationSouscripteur.controls.prenom.errors),i.xp6(4),i.Q6J("max",Ee.now)("matDatepicker",Y),i.xp6(1),i.Q6J("for",Y),i.xp6(3),i.Q6J("ngIf",Ee.formCreationSouscripteur.controls.dateNaissance.errors),i.xp6(1),i.Q6J("ngIf",""!=Ee.formCreationSouscripteur.value.nom&&""!=Ee.formCreationSouscripteur.value.prenom&&null!=Ee.formCreationSouscripteur.value.dateNaissance),i.xp6(1),i.Q6J("ngIf",""==Ee.formCreationSouscripteur.value.nom||""==Ee.formCreationSouscripteur.value.prenom||null==Ee.formCreationSouscripteur.value.dateNaissance),i.xp6(5),i.Q6J("ngIf",Ee.formCreationSouscripteur.controls.nin.errors),i.xp6(1),i.Q6J("ngIf",(null==Ee.formCreationSouscripteur.controls.nin.errors?null:Ee.formCreationSouscripteur.controls.nin.errors.pattern)||(null==Ee.formCreationSouscripteur.controls.nin.errors?null:Ee.formCreationSouscripteur.controls.nin.errors.maxlength)||(null==Ee.formCreationSouscripteur.controls.nin.errors?null:Ee.formCreationSouscripteur.controls.nin.errors.minlength)),i.xp6(7),i.Q6J("ngIf",Ee.formCreationSouscripteur.controls.telephone.errors),i.xp6(1),i.Q6J("ngIf",(null==Ee.formCreationSouscripteur.controls.telephone.errors?null:Ee.formCreationSouscripteur.controls.telephone.errors.pattern)||(null==Ee.formCreationSouscripteur.controls.telephone.errors?null:Ee.formCreationSouscripteur.controls.telephone.errors.maxlength)||(null==Ee.formCreationSouscripteur.controls.telephone.errors?null:Ee.formCreationSouscripteur.controls.telephone.errors.minlength)),i.xp6(5),i.Q6J("ngIf",Ee.formCreationSouscripteur.controls.email.errors),i.xp6(1),i.Q6J("ngIf",(null==Ee.formCreationSouscripteur.controls.email.errors?null:Ee.formCreationSouscripteur.controls.email.errors.pattern)||(null==Ee.formCreationSouscripteur.controls.email.errors?null:Ee.formCreationSouscripteur.controls.email.errors.maxlength)||(null==Ee.formCreationSouscripteur.controls.email.errors?null:Ee.formCreationSouscripteur.controls.email.errors.minlength)),i.xp6(5),i.Q6J("ngIf",Ee.formCreationSouscripteur.controls.adresse.errors),i.xp6(5),i.Q6J("ngForOf",Ee.wilayas),i.xp6(1),i.Q6J("ngIf",Ee.formCreationSouscripteur.controls.wilaya.errors),i.xp6(5),i.Q6J("ngForOf",Ee.communes),i.xp6(1),i.Q6J("ngIf",Ee.formCreationSouscripteur.controls.commune.errors),i.xp6(5),i.Q6J("ngForOf",Ee.genres),i.xp6(1),i.Q6J("ngIf",Ee.formCreationSouscripteur.controls.genre.errors),i.xp6(5),i.Q6J("ngForOf",Ee.situations),i.xp6(5),i.Q6J("ngForOf",Ee.professions)}}function Ts(se,He){if(1&se&&(i.TgZ(0,"form",25)(1,"mat-expansion-panel",26)(2,"mat-expansion-panel-header")(3,"mat-panel-title"),i._uU(4),i.qZA()(),i.YNc(5,mr,52,17,"div",37),i.YNc(6,il,75,25,"div",37),i.qZA()()),2&se){const Y=i.oxw(3);i.Q6J("formGroup",Y.formCreationSouscripteur),i.xp6(1),i.Q6J("expanded",!0),i.xp6(3),i.hij(" ","Informations souscripteur"," "),i.xp6(1),i.Q6J("ngIf","personne morale"==(null==Y.devis||null==Y.devis.typeClient?null:Y.devis.typeClient.description)),i.xp6(1),i.Q6J("ngIf","personne physique"==(null==Y.devis||null==Y.devis.typeClient?null:Y.devis.typeClient.description))}}function Nr(se,He){if(1&se){const Y=i.EpF();i.TgZ(0,"mat-step",22),i.YNc(1,pi,1,0,"ng-template",9),i.TgZ(2,"mat-accordion",16),i.YNc(3,xi,30,8,"form",23),i.YNc(4,Ts,7,5,"form",23),i.qZA(),i.TgZ(5,"div",12)(6,"button",24),i.NdJ("mouseup",function(){i.CHM(Y);const Ye=i.oxw(2);return i.KtG(Ye.redirectConsultation())}),i._uU(7,"Annuler"),i.qZA(),i.TgZ(8,"button",19),i.NdJ("click",function(){i.CHM(Y);const Ye=i.oxw(2);return i.KtG(Ye.nextStep())}),i._uU(9,"Suivant"),i.qZA()()()}if(2&se){const Y=i.oxw(2);i.Q6J("stepControl",Y.formCreationContrat)("editable",!0),i.xp6(3),i.Q6J("ngIf",Y.formCreationContrat),i.xp6(1),i.Q6J("ngIf",Y.formCreationSouscripteur)}}function Lr(se,He){1&se&&i._uU(0,"Informations du risque")}function Da(se,He){1&se&&(i.TgZ(0,"div"),i._uU(1," ce champs est obligatoire"),i.qZA())}function bs(se,He){if(1&se&&(i.TgZ(0,"mat-error",53),i.YNc(1,Da,2,0,"div",21),i.qZA()),2&se){const Y=i.oxw(5);i.xp6(1),i.Q6J("ngIf",Y.formSearchAssure.controls.nom.errors.required)}}function Ir(se,He){1&se&&(i.TgZ(0,"div"),i._uU(1," ce champs est obligatoire"),i.qZA())}function ol(se,He){if(1&se&&(i.TgZ(0,"mat-error",53),i.YNc(1,Ir,2,0,"div",21),i.qZA()),2&se){const Y=i.oxw(5);i.xp6(1),i.Q6J("ngIf",Y.formSearchAssure.controls.prenom.errors.required)}}function Ps(se,He){1&se&&(i.TgZ(0,"div"),i._uU(1," L'age du souscripteur doit etre sup\xe9rieur \xe0 18 ans"),i.qZA())}function Zs(se,He){1&se&&(i.TgZ(0,"div"),i._uU(1," L'age du souscripteur doit etre inf\xe9rieur \xe0 107 ans"),i.qZA())}function qs(se,He){1&se&&(i.TgZ(0,"div"),i._uU(1," ce champs est obligatoire"),i.qZA())}function _r(se,He){if(1&se&&(i.TgZ(0,"mat-error",53),i.YNc(1,Ps,2,0,"div",21),i.YNc(2,Zs,2,0,"div",21),i.YNc(3,qs,2,0,"div",21),i.qZA()),2&se){const Y=i.oxw(5);i.xp6(1),i.Q6J("ngIf",Y.formSearchAssure.controls.dateNaissance.errors.ageInf18),i.xp6(1),i.Q6J("ngIf",Y.formSearchAssure.controls.dateNaissance.errors.ageSup107),i.xp6(1),i.Q6J("ngIf",Y.formSearchAssure.controls.dateNaissance.errors.required)}}function Zr(se,He){if(1&se){const Y=i.EpF();i.TgZ(0,"button",54),i.NdJ("mouseup",function(){i.CHM(Y);const Ye=i.oxw(5);return i.KtG(Ye.recherchePersonne("Assure"))}),i._uU(1," Rechercher "),i.qZA()}}function it(se,He){if(1&se){const Y=i.EpF();i.TgZ(0,"button",55),i.NdJ("mouseup",function(){i.CHM(Y);const Ye=i.oxw(5);return i.KtG(Ye.recherchePersonne("Assure"))}),i._uU(1," Rechercher "),i.qZA()}}function ha(se,He){if(1&se&&(i.TgZ(0,"form",25)(1,"div",38)(2,"mat-form-field",56)(3,"mat-label"),i._uU(4,"Nom"),i.qZA(),i._UZ(5,"input",70),i.YNc(6,bs,2,1,"mat-error",40),i.qZA(),i.TgZ(7,"mat-form-field",56)(8,"mat-label"),i._uU(9,"Pr\xe9nom"),i.qZA(),i._UZ(10,"input",71),i.YNc(11,ol,2,1,"mat-error",40),i.qZA(),i.TgZ(12,"mat-form-field",56)(13,"mat-label"),i._uU(14,"Date de naissance"),i.qZA(),i._UZ(15,"input",72)(16,"mat-datepicker-toggle",32)(17,"mat-datepicker",null,60),i.YNc(19,_r,4,3,"mat-error",40),i.qZA(),i.YNc(20,Zr,2,0,"button",41),i.YNc(21,it,2,0,"button",61),i.qZA()()),2&se){const Y=i.MAs(18),Ee=i.oxw(4);i.Q6J("formGroup",Ee.formSearchAssure),i.xp6(5),i.Q6J("readonly",!0)("disabled",!0),i.xp6(1),i.Q6J("ngIf",Ee.formSearchAssure.controls.nom.errors),i.xp6(4),i.Q6J("readonly",!0)("disabled",!0),i.xp6(1),i.Q6J("ngIf",Ee.formSearchAssure.controls.prenom.errors),i.xp6(4),i.Q6J("max",Ee.now)("disabled",!0)("matDatepicker",Y),i.xp6(1),i.Q6J("for",Y),i.xp6(3),i.Q6J("ngIf",Ee.formSearchAssure.controls.dateNaissance.errors),i.xp6(1),i.Q6J("ngIf",""!=Ee.formSearchAssure.value.nom&&""!=Ee.formSearchAssure.value.prenom&&null!=Ee.formSearchAssure.value.dateNaissance),i.xp6(1),i.Q6J("ngIf",""==Ee.formSearchAssure.value.nom&&""==Ee.formSearchAssure.value.prenom&&null!=Ee.formSearchAssure.value.dateNaissance)}}function Ci(se,He){if(1&se&&(i.ynx(0),i.TgZ(1,"mat-option",36),i._uU(2),i.qZA(),i.BQk()),2&se){const Y=He.$implicit;i.xp6(1),i.Q6J("value",Y.idParam),i.xp6(1),i.hij(" ",Y.description," ")}}function qi(se,He){1&se&&(i.TgZ(0,"mat-error",53),i._uU(1," ce champs est obligatoire "),i.qZA())}function Ha(se,He){if(1&se&&(i.TgZ(0,"mat-error",53),i._uU(1),i.qZA()),2&se){const Y=i.oxw(2).$implicit,Ee=i.oxw(5);i.xp6(1),i.hij(" ",null==Ee.formEditRisque.get(Y.formName).errors?null:Ee.formEditRisque.get(Y.formName).errors.msg," ")}}function Ss(se,He){if(1&se){const Y=i.EpF();i.TgZ(0,"mat-form-field",79)(1,"mat-label"),i._uU(2),i.qZA(),i.TgZ(3,"mat-select",80),i.NdJ("selectionChange",function(Ye){i.CHM(Y);const Ct=i.oxw().$implicit,sn=i.oxw(5);return i.KtG(sn.getRelation(null==Ct.typeChamp?null:Ct.typeChamp.code,Ct.isParent,Ct.idParamRisque,Ye.value,Ct.formName))}),i.YNc(4,Ci,3,2,"ng-container",18),i.qZA(),i.YNc(5,qi,2,0,"mat-error",40),i.YNc(6,Ha,2,1,"mat-error",40),i.qZA()}if(2&se){const Y=i.oxw().$implicit,Ee=i.oxw(5);i.xp6(2),i.hij("",Y.libelle," "),i.xp6(1),i.s9C("formControlName",Y.formName),i.xp6(1),i.Q6J("ngForOf",Y.reponses),i.xp6(1),i.Q6J("ngIf",null==Ee.formEditRisque.get(Y.formName).errors?null:Ee.formEditRisque.get(Y.formName).errors.required),i.xp6(1),i.Q6J("ngIf",null==Ee.formEditRisque.get(Y.formName).errors?null:Ee.formEditRisque.get(Y.formName).errors.bloquant)}}function ys(se,He){if(1&se&&(i.ynx(0),i.TgZ(1,"mat-option",36),i._uU(2),i.qZA(),i.BQk()),2&se){const Y=He.$implicit,Ee=i.oxw(2).$implicit;i.xp6(1),i.Q6J("value",Y.id),i.xp6(1),i.hij(" ","P215"!=Ee.codeParam?Y.description:Y.nationalite," ")}}function wa(se,He){1&se&&(i.TgZ(0,"mat-error",53),i._uU(1," ce champs est obligatoire "),i.qZA())}function di(se,He){if(1&se&&(i.TgZ(0,"mat-error",53),i._uU(1),i.qZA()),2&se){const Y=i.oxw(2).$implicit,Ee=i.oxw(5);i.xp6(1),i.hij(" ",null==Ee.formEditRisque.get(Y.formName).errors?null:Ee.formEditRisque.get(Y.formName).errors.msg," ")}}function Yr(se,He){if(1&se){const Y=i.EpF();i.TgZ(0,"mat-form-field",79)(1,"mat-label"),i._uU(2),i.qZA(),i.TgZ(3,"mat-select",80),i.NdJ("selectionChange",function(Ye){i.CHM(Y);const Ct=i.oxw().$implicit,sn=i.oxw(5);return i.KtG(sn.getRelation(null==Ct.typeChamp?null:Ct.typeChamp.code,Ct.isParent,Ct.idParamRisque,Ye.value,Ct.formName))}),i.YNc(4,ys,3,2,"ng-container",18),i.qZA(),i.YNc(5,wa,2,0,"mat-error",40),i.YNc(6,di,2,1,"mat-error",40),i.qZA()}if(2&se){const Y=i.oxw().$implicit,Ee=i.oxw(5);i.xp6(2),i.hij("",Y.libelle," "),i.xp6(1),i.s9C("formControlName",Y.formName),i.xp6(1),i.Q6J("ngForOf",Y.reponses),i.xp6(1),i.Q6J("ngIf",null==Ee.formEditRisque.get(Y.formName).errors?null:Ee.formEditRisque.get(Y.formName).errors.required),i.xp6(1),i.Q6J("ngIf",null==Ee.formEditRisque.get(Y.formName).errors?null:Ee.formEditRisque.get(Y.formName).errors.bloquant)}}function $a(se,He){1&se&&(i.TgZ(0,"mat-error",53),i._uU(1," ce champs est obligatoire "),i.qZA())}function Ns(se,He){1&se&&(i.TgZ(0,"mat-error",53),i._uU(1," ce champs est non conforme "),i.qZA())}function ba(se,He){1&se&&(i.TgZ(0,"mat-error",53),i._uU(1," ce champs est non conforme "),i.qZA())}function Ka(se,He){1&se&&(i.TgZ(0,"mat-error",53),i._uU(1," ce champs n'est pas conforme "),i.qZA())}function Ro(se,He){if(1&se&&(i.TgZ(0,"mat-error",53),i._uU(1),i.qZA()),2&se){const Y=i.oxw(2).$implicit,Ee=i.oxw(5);i.xp6(1),i.hij(" ",null==Ee.formEditRisque.get(Y.formName).errors?null:Ee.formEditRisque.get(Y.formName).errors.msg," ")}}function Oa(se,He){if(1&se&&(i.TgZ(0,"mat-form-field",79)(1,"mat-label"),i._uU(2),i.qZA(),i._UZ(3,"input",81),i.YNc(4,$a,2,0,"mat-error",40),i.YNc(5,Ns,2,0,"mat-error",40),i.YNc(6,ba,2,0,"mat-error",40),i.YNc(7,Ka,2,0,"mat-error",40),i.YNc(8,Ro,2,1,"mat-error",40),i.qZA()),2&se){const Y=i.oxw().$implicit,Ee=i.oxw(5);i.xp6(2),i.Oqu(Y.libelle),i.xp6(1),i.s9C("formControlName",Y.formName),i.xp6(1),i.Q6J("ngIf",null==Ee.formEditRisque.get(Y.formName).errors?null:Ee.formEditRisque.get(Y.formName).errors.required),i.xp6(1),i.Q6J("ngIf",null==Ee.formEditRisque.get(Y.formName).errors?null:Ee.formEditRisque.get(Y.formName).errors.max),i.xp6(1),i.Q6J("ngIf",null==Ee.formEditRisque.get(Y.formName).errors?null:Ee.formEditRisque.get(Y.formName).errors.min),i.xp6(1),i.Q6J("ngIf",(null==Ee.formEditRisque.get(Y.formName).errors?null:Ee.formEditRisque.get(Y.formName).errors.pattern)||(null==Ee.formEditRisque.get(Y.formName).errors?null:Ee.formEditRisque.get(Y.formName).errors.maxlength)||(null==Ee.formEditRisque.get(Y.formName).errors?null:Ee.formEditRisque.get(Y.formName).errors.minlength)),i.xp6(1),i.Q6J("ngIf",null==Ee.formEditRisque.get(Y.formName).errors?null:Ee.formEditRisque.get(Y.formName).errors.bloquant)}}function qr(se,He){1&se&&(i.TgZ(0,"mat-error",53),i._uU(1," ce champs est obligatoire "),i.qZA())}function Ca(se,He){1&se&&(i.TgZ(0,"mat-error",53),i._uU(1," ce champs est non conforme "),i.qZA())}function Vr(se,He){1&se&&(i.TgZ(0,"mat-error",53),i._uU(1," ce champs est non conforme "),i.qZA())}function ca(se,He){1&se&&(i.TgZ(0,"mat-error",53),i._uU(1," ce champs n'est pas conforme "),i.qZA())}function So(se,He){if(1&se&&(i.TgZ(0,"mat-error",53),i._uU(1),i.qZA()),2&se){const Y=i.oxw(2).$implicit,Ee=i.oxw(5);i.xp6(1),i.hij(" ",null==Ee.formEditRisque.get(Y.formName).errors?null:Ee.formEditRisque.get(Y.formName).errors.msg," ")}}function jr(se,He){if(1&se&&(i.TgZ(0,"mat-form-field",79)(1,"mat-label"),i._uU(2),i.qZA(),i._UZ(3,"input",82),i.YNc(4,qr,2,0,"mat-error",40),i.YNc(5,Ca,2,0,"mat-error",40),i.YNc(6,Vr,2,0,"mat-error",40),i.YNc(7,ca,2,0,"mat-error",40),i.YNc(8,So,2,1,"mat-error",40),i.qZA()),2&se){const Y=i.oxw().$implicit,Ee=i.oxw(5);i.xp6(2),i.Oqu(Y.libelle),i.xp6(1),i.s9C("formControlName",Y.formName),i.xp6(1),i.Q6J("ngIf",null==Ee.formEditRisque.get(Y.formName).errors?null:Ee.formEditRisque.get(Y.formName).errors.required),i.xp6(1),i.Q6J("ngIf",null==Ee.formEditRisque.get(Y.formName).errors?null:Ee.formEditRisque.get(Y.formName).errors.max),i.xp6(1),i.Q6J("ngIf",null==Ee.formEditRisque.get(Y.formName).errors?null:Ee.formEditRisque.get(Y.formName).errors.min),i.xp6(1),i.Q6J("ngIf",(null==Ee.formEditRisque.get(Y.formName).errors?null:Ee.formEditRisque.get(Y.formName).errors.pattern)||(null==Ee.formEditRisque.get(Y.formName).errors?null:Ee.formEditRisque.get(Y.formName).errors.maxlength)||(null==Ee.formEditRisque.get(Y.formName).errors?null:Ee.formEditRisque.get(Y.formName).errors.minlength)),i.xp6(1),i.Q6J("ngIf",null==Ee.formEditRisque.get(Y.formName).errors?null:Ee.formEditRisque.get(Y.formName).errors.bloquant)}}function Hr(se,He){1&se&&(i.TgZ(0,"mat-error",53),i._uU(1," ce champs est obligatoire "),i.qZA())}function oo(se,He){if(1&se&&(i.TgZ(0,"mat-error",53),i._uU(1),i.qZA()),2&se){const Y=i.oxw(2).$implicit,Ee=i.oxw(5);i.xp6(1),i.hij(" ",null==Ee.formEditRisque.get(Y.formName).errors?null:Ee.formEditRisque.get(Y.formName).errors.msg," ")}}function nt(se,He){if(1&se&&(i.TgZ(0,"mat-form-field",79)(1,"mat-label"),i._uU(2),i.qZA(),i._UZ(3,"input",83)(4,"mat-datepicker-toggle",32)(5,"mat-datepicker",null,84),i.YNc(7,Hr,2,0,"mat-error",40),i.YNc(8,oo,2,1,"mat-error",40),i.qZA()),2&se){const Y=i.MAs(6),Ee=i.oxw().$implicit,Ye=i.oxw(5);i.xp6(2),i.Oqu(Ee.libelle),i.xp6(1),i.s9C("formControlName",Ee.formName),i.Q6J("matDatepicker",Y),i.xp6(1),i.Q6J("for",Y),i.xp6(3),i.Q6J("ngIf",null==Ye.formEditRisque.get(Ee.formName).errors?null:Ye.formEditRisque.get(Ee.formName).errors.required),i.xp6(1),i.Q6J("ngIf",null==Ye.formEditRisque.get(Ee.formName).errors?null:Ye.formEditRisque.get(Ee.formName).errors.bloquant)}}function jt(se,He){1&se&&(i.TgZ(0,"mat-error",53),i._uU(1," ce champs est obligatoire "),i.qZA())}function Be(se,He){if(1&se&&(i.TgZ(0,"mat-error",53),i._uU(1),i.qZA()),2&se){const Y=i.oxw(2).$implicit,Ee=i.oxw(5);i.xp6(1),i.hij(" ",null==Ee.formEditRisque.get(Y.formName).errors?null:Ee.formEditRisque.get(Y.formName).errors.msg," ")}}function zt(se,He){if(1&se&&(i.TgZ(0,"mat-form-field",79)(1,"mat-label"),i._uU(2),i.qZA(),i.TgZ(3,"mat-select",85)(4,"mat-option",36),i._uU(5,"Oui "),i.qZA(),i.TgZ(6,"mat-option",36),i._uU(7,"Non "),i.qZA()(),i.YNc(8,jt,2,0,"mat-error",40),i.YNc(9,Be,2,1,"mat-error",40),i.qZA()),2&se){const Y=i.oxw().$implicit,Ee=i.oxw(5);i.xp6(2),i.hij("",Y.libelle," "),i.xp6(1),i.s9C("formControlName",Y.formName),i.xp6(1),i.Q6J("value",!0),i.xp6(2),i.Q6J("value",!1),i.xp6(2),i.Q6J("ngIf",null==Ee.formEditRisque.get(Y.formName).errors?null:Ee.formEditRisque.get(Y.formName).errors.required),i.xp6(1),i.Q6J("ngIf",null==Ee.formEditRisque.get(Y.formName).errors?null:Ee.formEditRisque.get(Y.formName).errors.bloquant)}}function yn(se,He){if(1&se&&(i.ynx(0),i.YNc(1,Ss,7,5,"mat-form-field",77),i.YNc(2,Yr,7,5,"mat-form-field",77),i.YNc(3,Oa,9,7,"mat-form-field",77),i.YNc(4,jr,9,7,"mat-form-field",77),i.YNc(5,nt,9,6,"mat-form-field",78),i.YNc(6,zt,10,6,"mat-form-field",77),i.BQk()),2&se){const Y=He.$implicit;i.xp6(1),i.Q6J("ngIf","L01"==(null==Y.typeChamp?null:Y.typeChamp.code)),i.xp6(1),i.Q6J("ngIf","L08"==(null==Y.typeChamp?null:Y.typeChamp.code)),i.xp6(1),i.Q6J("ngIf",("L02"==(null==Y.typeChamp?null:Y.typeChamp.code)||"L07"==(null==Y.typeChamp?null:Y.typeChamp.code))&&"P25"!=Y.codeParam&&"P26"!=Y.codeParam),i.xp6(1),i.Q6J("ngIf","L03"==(null==Y.typeChamp?null:Y.typeChamp.code)),i.xp6(1),i.Q6J("ngIf","date"==(null==Y.typeChamp?null:Y.typeChamp.description)),i.xp6(1),i.Q6J("ngIf","L04"==(null==Y.typeChamp?null:Y.typeChamp.code))}}function Un(se,He){if(1&se){const Y=i.EpF();i.TgZ(0,"form",73,74),i.NdJ("ngSubmit",function(){i.CHM(Y);const Ye=i.oxw(4);return i.KtG(Ye.submitEditRisque())}),i.TgZ(2,"div",38),i.YNc(3,yn,7,6,"ng-container",18),i.TgZ(4,"div",12)(5,"div",75)(6,"button",76),i._uU(7,"Enregistrer"),i.qZA()()()()()}if(2&se){const Y=i.oxw(4);i.Q6J("formGroup",Y.formEditRisque),i.xp6(3),i.Q6J("ngForOf",Y.paraRisqueProduitAssure)}}function wi(se,He){if(1&se&&(i.TgZ(0,"mat-expansion-panel",26)(1,"mat-expansion-panel-header")(2,"mat-panel-title"),i._uU(3,"Groupe"),i.qZA(),i.TgZ(4,"mat-panel-description"),i._uU(5),i.qZA()(),i.TgZ(6,"div",27)(7,"span",68),i._uU(8,"Recherche Risque : "),i.qZA(),i.YNc(9,ha,22,14,"form",23),i.qZA(),i.TgZ(10,"div",27)(11,"span",68),i._uU(12,"Infos Risque :"),i.qZA(),i.YNc(13,Un,8,2,"form",69),i.qZA()()),2&se){const Y=He.$implicit,Ee=i.oxw(3);i.Q6J("expanded",!0),i.xp6(5),i.hij(" ",Y.description," "),i.xp6(4),i.Q6J("ngIf",Ee.formSearchAssure),i.xp6(4),i.Q6J("ngIf",Ee.formEditRisque)}}function ro(se,He){1&se&&(i.TgZ(0,"button",14),i._uU(1,"Suivant"),i.qZA())}function ko(se,He){if(1&se&&(i.TgZ(0,"mat-step",8),i.YNc(1,Lr,1,0,"ng-template",9),i.TgZ(2,"mat-accordion",10),i.YNc(3,wi,14,4,"mat-expansion-panel",11),i.qZA(),i.TgZ(4,"div",12)(5,"button",13),i._uU(6,"Retour"),i.qZA(),i.YNc(7,ro,2,0,"button",67),i.qZA()()),2&se){const Y=i.oxw(2);i.Q6J("editable",!0),i.xp6(3),i.Q6J("ngForOf",Y.groupes),i.xp6(4),i.Q6J("ngIf",Y.varEditRisque)}}function hr(se,He){1&se&&i._uU(0,"Pack et Garanties")}function Rl(se,He){if(1&se&&(i.TgZ(0,"tr")(1,"td"),i._uU(2),i.qZA(),i.TgZ(3,"td"),i._uU(4),i.qZA()()),2&se){const Y=He.$implicit;i.xp6(2),i.hij(" ",Y.description," "),i.xp6(2),i.hij(" ",Y.prime," ")}}function ka(se,He){if(1&se&&(i.TgZ(0,"mat-expansion-panel",26)(1,"mat-expansion-panel-header")(2,"mat-panel-title"),i._uU(3),i.qZA(),i.TgZ(4,"mat-panel-description"),i._uU(5),i.qZA()(),i.TgZ(6,"table",86)(7,"thead")(8,"tr")(9,"th"),i._uU(10,"Garantie "),i.qZA(),i.TgZ(11,"th"),i._uU(12," Prime "),i.qZA()()(),i.TgZ(13,"tbody"),i.YNc(14,Rl,5,2,"tr",18),i.qZA()()()),2&se){const Y=He.$implicit,Ee=He.index;i.Q6J("expanded",!0),i.xp6(3),i.hij(" Groupe ",Ee+1," "),i.xp6(2),i.hij(" ",Y.description," "),i.xp6(9),i.Q6J("ngForOf",Y.garantieList)}}function rl(se,He){1&se&&i._uU(0,"R\xe9duction")}function Is(se,He){if(1&se&&(i.TgZ(0,"form",87)(1,"mat-form-field",79)(2,"mat-label"),i._uU(3," Convention"),i.qZA(),i._UZ(4,"input",88),i.qZA(),i.TgZ(5,"mat-form-field",79)(6,"mat-label"),i._uU(7," R\xe9duction"),i.qZA(),i._UZ(8,"input",89),i.qZA(),i.TgZ(9,"div",90)(10,"button",14)(11,"span"),i._uU(12,"Suivant"),i.qZA()(),i.TgZ(13,"button",91),i._uU(14,"Retour"),i.qZA()()()),2&se){const Y=i.oxw(2);i.Q6J("formGroup",Y.formReduction)}}function Dl(se,He){1&se&&i._uU(0,"R\xe9sum\xe9")}function $l(se,He){if(1&se&&(i.ynx(0),i.TgZ(1,"td",92),i._uU(2),i.qZA(),i.TgZ(3,"td",92),i._uU(4),i.ALo(5,"money"),i.ALo(6,"number"),i.TgZ(7,"sup"),i._uU(8,"DZD"),i.qZA()(),i.BQk()),2&se){const Y=i.oxw().$implicit;i.xp6(2),i.Oqu(Y.typePrime.description),i.xp6(2),i.hij("",i.lcZ(5,2,i.xi3(6,4,Y.prime,"1.0-0"))," ")}}function Er(se,He){if(1&se&&(i.TgZ(0,"tr"),i.YNc(1,$l,9,7,"ng-container",21),i.qZA()),2&se){const Y=He.$implicit;i.xp6(1),i.Q6J("ngIf",101==Y.typePrime.idParam)}}function al(se,He){if(1&se&&(i.TgZ(0,"tr")(1,"td"),i._uU(2),i.qZA(),i.TgZ(3,"td"),i._uU(4),i.ALo(5,"money"),i.ALo(6,"number"),i.TgZ(7,"sup"),i._uU(8,"DZD"),i.qZA()()()),2&se){const Y=He.$implicit;i.xp6(2),i.Oqu(null==Y.taxe?null:Y.taxe.description),i.xp6(2),i.hij("",i.lcZ(5,2,i.xi3(6,4,Y.prime,"1.0-0"))," ")}}function Oi(se,He){1&se&&i._UZ(0,"mat-spinner",93)}function zi(se,He){1&se&&(i.TgZ(0,"span"),i._uU(1," Valider "),i.qZA())}function wl(se,He){if(1&se){const Y=i.EpF();i.TgZ(0,"div",1)(1,"h2",2)(2,"mat-icon",3),i._uU(3),i.qZA(),i._uU(4),i.qZA(),i.TgZ(5,"mat-stepper",4,5),i.YNc(7,Nr,10,4,"mat-step",6),i.YNc(8,ko,8,3,"mat-step",7),i.TgZ(9,"mat-step",8),i.YNc(10,hr,1,0,"ng-template",9),i.TgZ(11,"mat-accordion",10),i.YNc(12,ka,15,4,"mat-expansion-panel",11),i.qZA(),i.TgZ(13,"div",12)(14,"button",13),i._uU(15,"Retour"),i.qZA(),i.TgZ(16,"button",14),i._uU(17,"Suivant"),i.qZA()()(),i.TgZ(18,"mat-step",8),i.YNc(19,rl,1,0,"ng-template",9),i.YNc(20,Is,15,1,"form",15),i.qZA(),i.TgZ(21,"mat-step",8),i.YNc(22,Dl,1,0,"ng-template",9),i.TgZ(23,"mat-accordion",16)(24,"table",17),i.YNc(25,Er,2,1,"tr",18),i.YNc(26,al,9,7,"tr",18),i.TgZ(27,"td"),i._uU(28,"Prime Totale"),i.qZA(),i.TgZ(29,"td"),i._uU(30),i.ALo(31,"money"),i.ALo(32,"number"),i.TgZ(33,"sup"),i._uU(34,"DZD"),i.qZA()()()(),i.TgZ(35,"div",12)(36,"button",13),i._uU(37,"Retour"),i.qZA(),i.TgZ(38,"button",19),i.NdJ("click",function(){i.CHM(Y);const Ye=i.oxw();return i.KtG(Ye.submitContrat())}),i.YNc(39,Oi,1,0,"mat-spinner",20),i.YNc(40,zi,2,0,"span",21),i.qZA()()()()()}if(2&se){const Y=i.oxw();i.xp6(3),i.Oqu(Y.produitInfo.icon),i.xp6(1),i.hij(" Contrat ",Y.produitInfo.description," "),i.xp6(1),i.Q6J("linear",!0),i.xp6(2),i.Q6J("ngIf",Y.devisReady),i.xp6(1),i.Q6J("ngIf",Y.devisReady),i.xp6(1),i.Q6J("editable",!0),i.xp6(3),i.Q6J("ngForOf",Y.groupes),i.xp6(6),i.Q6J("editable",!0),i.xp6(2),i.Q6J("ngIf",Y.formReduction),i.xp6(1),i.Q6J("editable",!0),i.xp6(4),i.Q6J("ngForOf",null==Y.devis?null:Y.devis.primeList),i.xp6(1),i.Q6J("ngForOf",null==Y.devis?null:Y.devis.taxeList),i.xp6(4),i.Oqu(i.lcZ(31,15,i.xi3(32,17,Y.PrimeTotale,"1.0-0"))),i.xp6(9),i.Q6J("ngIf",Y.valider),i.xp6(1),i.Q6J("ngIf",!Y.valider)}}const sl=new Date;function Fi(se){var He=new Date(se.value);return sl.getFullYear()-He.getFullYear()<18?{ageInf18:!0}:sl.getFullYear()-He.getFullYear()>106?{ageSup107:!0}:null}let ll=(()=>{class se{constructor(Y,Ee,Ye,Ct,sn,Pn,fn,ui,bi,to,fo,Xo,Ur,fi,Ki,br,De){this.cryptoService=Y,this.conventionService=Ee,this.reductionService=Ye,this.router=Ct,this.contratService=sn,this.packService=Pn,this.dialog=fn,this.paramRisqueService=ui,this.genericService=bi,this.dureeService=to,this.produitService=fo,this.agencesService=Xo,this.vehiculeService=Ur,this.personneService=fi,this.devisService=Ki,this.route=br,this.formBuilder=De,this.contrat={},this.isSouscripteur=!1,this.isAssure=!1,this.isConducteur=!1,this.isConducteurAssure=!1,this.valider=!1,this.vehiculeExist=!1,this.month=new Date,this.PrimeTotale=0,this.PrimeNette=0,this.agences=[],this.produits=[],this.durees=[],this.wilayas=[],this.communes_sous=[],this.communes=[],this.communes_assure=[],this.communes_cond=[],this.genres=[],this.situations=[],this.professions=[],this.typesVehicule=[],this.usages=[],this.energies=[],this.packs=[],this.informationsPack=[],this.marques=[],this.modeles=[],this.conventions=[],this.reductions=[],this.categories=["A","B","C","D","E","F"],this.dataSourcePack=new me.by,this.displayedColumnsPack=["description","plafond","franchise","formule","prime","sousGaranties"],this.DisplayedColumnsSousGarantie=["description","plafond","franchise","formule","prime","sousGaranties"],this.paraRisqueProduit=[],this.paraRisqueAssure=[],this.paraRisqueProduitCategory=[],this.marqueReduction=[],this.renderGlobal=!1,this.franchiseExist=!1,this.plafondExist=!1,this.formuleExist=!1,this.sousFranchiseExist=!1,this.sousFormuleExist=!1,this.sousPlafondExist=!1,this.rechercheAssure=!1,this.rechercheSouscripteur=!1,this.rechercheConducteur=!1,this.multiRisque=!1,this.paramRisqueDevis=[],this.devisReady=!1,this.groupPack=[],this.contratGroupe=[],this.idAssure=[],this.tkn=JSON.parse(sessionStorage.getItem("access_token")||"")?.access_token,this.sousGarantieTab=[],this.sousGarantieExist=!1,this.filterReduction=e.P,this.infoEditRisque=[],this.paraRisqueProduitAssure=[],this.groupeList=[],this.varEditRisque=!1,this.COURTIER=!1,this.isBEA=!1,this.indexRecheche=0}ngOnInit(){this.COURTIER=sessionStorage.getItem("roles")?.includes("COURTIER")||!1,this.isBEA=sessionStorage.getItem("roles")?.includes("CDC_BEA")||!1,this.codeProduit=this.route.snapshot.paramMap.get("codeProduit"),sessionStorage.getItem("roles")?.includes("CDC")||sessionStorage.getItem("roles")?.includes("DA")||"45F"!=this.codeProduit?(this.now=new Date,this.month.setMonth(this.now.getMonth()+1)):this.now=null,this.getProductId(),this.idDevis=this.route.snapshot.paramMap.get("idDevis"),this.getDevisInfo(),this.getAllConventions(),this.getAgence(),this.getProduit(),this.getDuree(),this.getGenre(),this.getSituation(),this.getProfession(),this.getRoles(),this.getTypeVehicule(),this.getUsage(),this.getEnergie(),this.getAllPack(),this.getMarque(),this.getIdPays("DZA")}getAllConventions(){this.conventionService.getAllConventions().subscribe({next:Y=>{this.conventions=Y},error:Y=>{console.log(Y)}})}getReductionByConvention(Y){"aucuneConvention"!=Y?this.reductionService.getReductionByConvention(Y).subscribe({next:Ee=>{0!=Ee.length&&(this.reductions=Ee.filter(Ye=>Ye.produit==JSON.parse(sessionStorage.getItem("products")||"{}").find(Ct=>Ct.codeProduit==this.route.snapshot.paramMap.get("codeProduit")).description))},error:Ee=>{console.log(Ee)}}):this.getAllReductions()}getAllReductions(){this.filterReduction.typeReduction=262,this.filterReduction.produit=JSON.parse(sessionStorage.getItem("products")||"{}").find(Y=>Y.codeProduit==this.route.snapshot.paramMap.get("codeProduit")),this.reductionService.reductionFiltre(this.filterReduction).subscribe({next:Y=>{this.reductions=Y},error:Y=>{console.log(Y)}})}getDevisInfo(){var Y=this;this.devisService.getDevisById(this.idDevis).subscribe(Ee=>{var Ye;this.groupeRisque=[],Ee.produit.codeProduit!=this.route.snapshot.paramMap.get("codeProduit")&&this.router.navigate(["consultation/vie/"+this.route.snapshot.paramMap.get("codeProduit")+"/"+this.route.snapshot.paramMap.get("nomProduit")]),this.devis=Ee,this.groupes=[{description:this.devis.groupes[0].description,garantieList:this.devis.groupes[0].garantieList,pack:this.devis.groupes[0].pack,primeList:this.devis.groupes[0].primeList,taxeList:this.devis.groupes[0].taxeList,risques:this.devis.groupes[0].risques}],this.devis.groupes.map(Ye=>{Ye.risques.map(Ct=>{Ct.idGroupe=Ye.idGroupe,Ct.description=Ye.description,this.groupeRisque.push(Ct)})}),this.devis.groupes.map(Ye=>{Ye.risques.map(Ct=>{Ct.checkEdit=!1})}),this.devisService.getParamDevisByIdRisque(this.idDevis,this.devis?.groupes[0]?.idGroupe,this.devis?.groupes[0]?.risques[0]?.idRisque).subscribe({next:(Ye=(0,h.Z)(function*(Ct){Y.infoVoyage=Ct.filter(sn=>"Voyage"===sn.categorieParamRisque),Y.devisReady=!0,Y.paramRisqueDevis=Ct,yield Y.initForm()}),function(sn){return Ye.apply(this,arguments)}),error:Ye=>{console.log(Ye)}}),null!=this.devis.reduction&&this.getReduction(this.devis.reduction.idReduction)})}checkAccess(){this.devisService.getAccessByDevis(this.idDevis).subscribe({next:Y=>{this.devisAccess=Y,Y?.accessContrat?this.devisService.updateAccessDevis({idDevisAccess:Y?.idDevisAccess,devis:Y?.devis,accessContrat:0,accessAvenant:1}).subscribe({next:Ye=>{},error:Ye=>{console.log(Ye)}}):Q().fire({title:"Ce devis est bloqu\xe9 par un autre utilisateur, veuillez r\xe9essayer plus tard",icon:"warning",allowOutsideClick:!1,confirmButtonText:"Ok",width:400}).then(Ee=>{Ee.isConfirmed&&this.router.navigate(["consultation/"+this.route.snapshot.paramMap.get("codeProduit")+"/"+this.route.snapshot.paramMap.get("produit")])})},error:Y=>{console.log(Y)}})}getProductId(){this.idProduit=JSON.parse(sessionStorage.getItem("products")||"{}").find(Y=>Y.codeProduit==this.codeProduit).idProduit,this.getInfoProduit()}getInfoProduit(){this.genericService.getPorduitById(this.idProduit).subscribe({next:Y=>{this.renderGlobal=!0,this.produitInfo=Y,this.multiRisque="Oui"==Y.param_Produit_Reponses.filter(Ee=>"multirisque"==Ee.idParamProduit.libelle)[0].reponse.description},error:Y=>{console.log(Y)}})}getReduction(Y){this.reductionService.getReductionById(Y).subscribe({next:Ee=>{this.marqueReduction=Ee.paramList.filter(Ye=>"P25"==Ye.idParam.codeParam)[0].idParam.reponseList},error:Ee=>{console.log(Ee)}})}getAgence(){this.agencesService.getAllAgence().subscribe({next:Y=>{this.agences=Y},error:Y=>{console.log(Y)}})}getProduit(){this.produitService.getAllProduits().subscribe({next:Y=>{this.produits=Y},error:Y=>{console.log(Y)}})}getDuree(){this.dureeService.getAllDuree().subscribe({next:Y=>{this.durees=Y},error:Y=>{console.log(Y)}})}getIdPays(Y){this.genericService.getPays().subscribe({next:Ee=>{this.idPays=Ee.find(Ye=>Ye.codePays==Y).idPays,this.getWilaya()},error:Ee=>{console.log(Ee)}})}getWilaya(){this.genericService.getAllWilayas(this.idPays).subscribe({next:Y=>{this.wilayas=Y},error:Y=>{console.log(Y)}})}getCommune(Y,Ee){this.genericService.getAllCommuneByWilaya(Y).subscribe({next:Ye=>{this.communes=Ye},error:Ye=>{console.log(Ye)}})}getGenre(){this.genericService.getParam(JSON.parse(sessionStorage.getItem("dictionnaire")||"{}").find(Y=>"C6"==Y.code).idCategorie).subscribe({next:Y=>{this.genres=Y},error:Y=>{console.log(Y)}})}getSituation(){this.genericService.getParam(JSON.parse(sessionStorage.getItem("dictionnaire")||"{}").find(Y=>"C1"==Y.code).idCategorie).subscribe({next:Y=>{this.situations=Y},error:Y=>{console.log(Y)}})}getProfession(){this.genericService.getProfession().subscribe({next:Y=>{this.professions=Y},error:Y=>{console.log(Y)}})}getTypeVehicule(){this.genericService.getParam(JSON.parse(sessionStorage.getItem("dictionnaire")||"{}").find(Y=>"C18"==Y.code).idCategorie).subscribe({next:Y=>{this.typesVehicule=Y},error:Y=>{console.log(Y)}})}getRoles(){this.genericService.getParam(JSON.parse(sessionStorage.getItem("dictionnaire")||"{}").find(Y=>"C33"==Y.code).idCategorie).subscribe({next:Y=>{this.roles=Y},error:Y=>{console.log(Y)}})}getUsage(){this.genericService.getParam(JSON.parse(sessionStorage.getItem("dictionnaire")||"{}").find(Y=>"C19"==Y.code).idCategorie).subscribe({next:Y=>{this.usages=Y},error:Y=>{console.log(Y)}})}getEnergie(){this.genericService.getParam(JSON.parse(sessionStorage.getItem("dictionnaire")||"{}").find(Y=>"C31"==Y.code).idCategorie).subscribe({next:Y=>{this.energies=Y},error:Y=>{console.log(Y)}})}getAllPack(){this.packService.getAllPack().subscribe({next:Y=>{Y.map(Ee=>{this.packs.push(Ee)})},error:Y=>{console.log(Y)}})}getMarque(){this.vehiculeService.getAllMarque().subscribe({next:Y=>{this.marques=Y},error:Y=>{console.log(Y)}})}getModeleByMarque(Y){0!==this.marqueReduction.length?this.marqueReduction.some(Ee=>Ee.idParam===Number(Y))?this.vehiculeService.getModelByMarque(Y).subscribe({next:Ee=>{this.modeles=Ee},error:Ee=>{console.log(Ee)}}):Q().fire("La marque que vous avez choisie ne correspond pas \xe0 celle de la r\xe9duction dont vous b\xe9n\xe9ficiez,\n        Veuillez choisir la m\xeame marque ou refaire votre devis","","warning"):this.vehiculeService.getModelByMarque(Y).subscribe({next:Ee=>{this.modeles=Ee},error:Ee=>{console.log(Ee)}})}initForm(){this.COURTIER||this.isBEA?((this.COURTIER||this.isBEA)&&console.log("jai descativer"),this.formCreationContrat=this.formBuilder.group({agence:[{value:this.devis?.agence?.idAgence,disabled:!0}],produit:[{value:this.devis?.produit?.idCodeProduit,disabled:!0},[ee.kI.required]],duree:[{value:this.devis?.duree?.id_duree,disabled:!0},[ee.kI.required]],dateEffet:[{value:"20G"==this.codeProduit?this.paramRisqueDevis?.find(Y=>"P258"==Y.codeRisque)?.reponse?.valeur:this.infoVoyage?.find(Y=>"P211"==Y.codeRisque)?.reponse?.valeur,disabled:!0},[ee.kI.required]],dateExpiration:[{value:"20G"==this.codeProduit?this.paramRisqueDevis?.find(Y=>"P259"==Y.codeRisque)?.reponse?.valeur:this.infoVoyage?.find(Y=>"P212"==Y.codeRisque)?.reponse?.valeur,disabled:!0},[ee.kI.required]]})):(console.log("activer agece ",0==this.COURTIER||0==this.isBEA),this.formCreationContrat=this.formBuilder.group({agence:[{value:this.devis?.agence?.idAgence,disabled:!1},[ee.kI.required]],produit:[{value:this.devis?.produit?.idCodeProduit,disabled:!0},[ee.kI.required]],duree:[{value:this.devis?.duree?.id_duree,disabled:!0},[ee.kI.required]],dateEffet:[{value:"20G"==this.codeProduit?this.paramRisqueDevis?.find(Y=>"P258"==Y.codeRisque)?.reponse?.valeur:this.infoVoyage?.find(Y=>"P211"==Y.codeRisque)?.reponse?.valeur,disabled:!0},[ee.kI.required]],dateExpiration:[{value:"20G"==this.codeProduit?this.paramRisqueDevis?.find(Y=>"P259"==Y.codeRisque)?.reponse?.valeur:this.infoVoyage?.find(Y=>"P212"==Y.codeRisque)?.reponse?.valeur,disabled:!0},[ee.kI.required]]})),this.formCreationSouscripteurDommage=this.formBuilder.group({codeClient:[null],raisonSocial:"personne morale"==this.devis?.typeClient?.description?[this.devis?.raisonSocial,[ee.kI.required,ee.kI.maxLength(40)]]:[null,[]],nom:["personne physique"==this.devis?.typeClient?.description?this.devis?.nom:null,"personne physique"==this.devis?.typeClient?.description?[ee.kI.required,ee.kI.maxLength(40),ee.kI.pattern(w.e.nom)]:[]],prenom:["personne physique"==this.devis?.typeClient?.description?this.devis?.prenom:null,"personne physique"==this.devis?.typeClient?.description?[ee.kI.required,ee.kI.maxLength(40),ee.kI.pattern(w.e.nom)]:[]],dateOuverture:[null],dateNaissance:["personne physique"==this.devis?.typeClient?.description?this.devis?.dateAssure:null,"personne physique"==this.devis?.typeClient?.description?[ee.kI.required,Fi]:[]],nin:[{value:null,disabled:!0},[ee.kI.pattern(w.e.NIN)]],nif:[{value:null,disabled:!0},[ee.kI.pattern(w.e.NIF)]],telephone:[{value:null,disabled:!0},[ee.kI.required,ee.kI.pattern(w.e.mobile)]],email:[{value:null,disabled:!0},[ee.kI.pattern(w.e.email)]],adresse:[{value:null,disabled:!0},[ee.kI.required,ee.kI.maxLength(60)]],wilaya:[{value:null,disabled:!0},[ee.kI.required]],commune:[{value:null,disabled:!0},[ee.kI.required]],genre:[{value:null,disabled:!0},[ee.kI.required]],situation:[{value:null,disabled:!0}],profession:[{value:null,disabled:!0}]}),this.formCreationSouscripteur=this.formBuilder.group({codeClient:[null],raisonSocial:"personne morale"==this.devis?.typeClient?.description?[this.devis?.raisonSocial,[ee.kI.required,ee.kI.maxLength(40)]]:[null,[]],nom:["personne physique"==this.devis?.typeClient?.description?this.devis?.nom:null,"personne physique"==this.devis?.typeClient?.description?[ee.kI.required,ee.kI.maxLength(40),ee.kI.pattern(w.e.nom)]:[]],prenom:["personne physique"==this.devis?.typeClient?.description?this.devis?.prenom:null,"personne physique"==this.devis?.typeClient?.description?[ee.kI.required,ee.kI.maxLength(40),ee.kI.pattern(w.e.nom)]:[]],dateOuverture:[null],dateNaissance:["personne physique"==this.devis?.typeClient?.description?this.devis?.dateAssure:null,"personne physique"==this.devis?.typeClient?.description?[ee.kI.required,Fi]:[]],nin:[{value:null,disabled:!0},[ee.kI.pattern(w.e.NIN)]],nif:[{value:null,disabled:!0},"personne physique"==this.devis?.typeClient?.description?[ee.kI.pattern(w.e.NIF)]:[ee.kI.required,ee.kI.pattern(w.e.NIF)]],telephone:[{value:this.devis?.telephone,disabled:!0},[ee.kI.required,ee.kI.minLength(this.devis?.telephone.length),ee.kI.maxLength(this.devis?.telephone.length)]],email:[{value:this.devis?.email,disabled:!0},[ee.kI.pattern(w.e.email)]],adresse:[{value:null,disabled:!0},[ee.kI.required,ee.kI.maxLength(60)]],wilaya:[{value:null,disabled:!0},[ee.kI.required]],commune:[{value:null,disabled:!0},[ee.kI.required]],genre:[{value:null,disabled:!0},"personne physique"==this.devis?.typeClient?.description?[ee.kI.required]:[]],situation:[{value:null,disabled:!0}],profession:[{value:null,disabled:!0}],rib:[{value:null,disabled:!0},[ee.kI.pattern(w.e.RIB)]]}),this.formCreationRisque=this.formBuilder.group({idRisque:[""]}),this.formReduction=this.formBuilder.group({reduction:[{value:this.devis?.reduction?.nomReduction,disabled:!0}],convention:[{value:this.devis?.convention?.idConvention,disabled:!0}]}),this.devis?.convention&&this.getReductionByConvention(this.devis?.convention?.nomConvention),this.getAllParamRisque(this.devis?.produit?.idCodeProduit)}nextStep(){this.formSearchAssure=this.formBuilder.group({nom:[{value:this.groupeRisque[0].risque.find(Y=>"P164"==Y.code).valeur,disabled:!0},[ee.kI.required,ee.kI.maxLength(40),ee.kI.pattern(w.e.nom)]],prenom:[{value:this.groupeRisque[0].risque.find(Y=>"P165"==Y.code).valeur,disabled:!0},[ee.kI.required,ee.kI.maxLength(40),ee.kI.pattern(w.e.nom)]],dateNaissance:[{value:this.groupeRisque[0].risque.find(Y=>"P166"==Y.code).valeur,disabled:!0},[ee.kI.required]]}),this.multiRisque&&this.getCommune(this.formCreationSouscripteur.value.wilaya,"Souscripteur"),console.log(this.rechercheSouscripteur,this.multiRisque,this.formCreationContrat,this.formCreationSouscripteur.valid),(this.formCreationContrat.valid||1==this.COURTIER||this.isBEA)&&this.formCreationSouscripteur.valid?this.rechercheSouscripteur?(this.personneFirstForm=this.formCreationSouscripteur.value,this.myStepper.next()):Q().fire("Vous devez cliquer sur le button Rechercher pour le souscripteur","","error"):(this.formCreationContrat.markAllAsTouched(),this.formCreationSouscripteur.markAllAsTouched())}InitFormEditRisque(){this.formEditRisque=this.formBuilder.group({}),this.paraRisqueAssure.map(Y=>{this.formEditRisque.addControl(Y.formName,0!=Y.sizeChamp&&null!=Y.sizeChamp?new ee.NI({value:Y.defaultValue,disabled:!0},[ee.kI.required,ee.kI.minLength(Y.sizeChamp),ee.kI.maxLength(Y.sizeChamp)]):Y.obligatoire?new ee.NI({value:Y.defaultValue,disabled:!0},[ee.kI.required]):new ee.NI({value:Y.defaultValue,disabled:!0})),null!=Y.parent&&0==this.infoEditRisque.length&&this.formEditRisque.get(Y.formName).disable(),this.paraRisqueProduitAssure.push(Y)})}initFormSearchAssure(){this.formEditRisque.disable(),this.formSearchAssure.get("nom").setValue(this.groupeRisque[this.indexRecheche].risque.find(Y=>"P164"==Y.code).valeur),this.formSearchAssure.get("prenom").setValue(this.groupeRisque[this.indexRecheche].risque.find(Y=>"P165"==Y.code).valeur),this.formSearchAssure.get("dateNaissance").setValue(this.groupeRisque[this.indexRecheche].risque.find(Y=>"P166"==Y.code).valeur),this.formSearchAssure.disable()}getRelation(Y,Ee,Ye,Ct,sn){if(1==Ee)if("L01"==Y)this.paramRisqueService.getParamRelation(Ye,Ct).subscribe({next:Pn=>{this.paraRisqueProduit.filter(fn=>{fn.idParamRisque==Pn[0].idParamRisque&&(fn.reponses=Pn[0].categorie.paramDictionnaires,this.formEditRisque.controls[fn.formName].enable())})},error:Pn=>{console.log(Pn)}});else{let Pn=this.paraRisqueProduit.find(fn=>fn.parent?.idParamRisque==Ye)?.idParamRisque;Pn&&this.paramRisqueService.getTableParamChild(Pn,Ct).subscribe({next:fn=>{this.paraRisqueProduit.filter(ui=>{ui.idParamRisque==Pn&&(ui.reponses=fn,this.formEditRisque.controls[ui.formName].enable())})},error:fn=>{console.log(fn)}})}}removeSpaces(Y){return Y.toLowerCase().replace(/\s+(.)/g,(Ee,Ye)=>Ye.toUpperCase()).replace(/\s+/g,"").replace(/^./,Ee=>Ee.toUpperCase())}recherchePersonne(Y){let Ee;switch(console.log("type rech",Y),Y){case"Souscripteur":this.rechercheSouscripteur=!0,"personne physique"==this.devis?.typeClient?.description&&this.formCreationSouscripteur.get("dateNaissance").setValue(o(this.formCreationSouscripteur.get("dateNaissance").value).format("YYYY-MM-DDT00:00:00.000")),Ee=this.formCreationSouscripteur.value;break;case"Assure":this.rechercheAssure=!0,"personne physique"==this.devis?.typeClient?.description&&this.formSearchAssure.get("dateNaissance").setValue(o(this.formSearchAssure.get("dateNaissance").value).format("YYYY-MM-DDT00:00:00.000")),Ee=this.formSearchAssure.value,Ee.raisonSocial=null}this.personneService.filterPersonne(Ee).subscribe(Ye=>{if(0==Ye.length)switch(Q().fire("Cette personne n'existe pas","","info"),Y){case"Souscripteur":this.formCreationSouscripteur.enable();break;case"Assure":this.formEditRisque.enable(),this.formEditRisque.get("DateDeNaissance").disable(),this.devisService.getParamDevisByIdRisque(this.idDevis,this.groupeRisque[this.indexRecheche].idGroupe,this.groupeRisque[this.indexRecheche].idRisque).subscribe({next:Ct=>{Ct.forEach(sn=>{this.paraRisqueAssure.forEach(Pn=>{if(Pn.codeParam==sn.codeRisque)switch(sn.typeChamp.code){case"L01":this.formEditRisque.get(sn.descriptionChamp)?.setValue(sn.reponse.idParamReponse.idParam??sn.reponse.valeur),this.formEditRisque.get(sn.descriptionChamp)?.disable();break;case"L08":this.formEditRisque.get(sn.descriptionChamp)?.setValue(parseInt(sn.reponse.valeur)),this.formEditRisque.get(sn.descriptionChamp)?.disable();break;default:this.formEditRisque.get(sn.descriptionChamp)?.setValue(sn.reponse?.valeur),this.formEditRisque.get(sn.descriptionChamp)?.disable()}})})}}),this.personneFirstForm.nom.toLowerCase()==Ee.nom.toLowerCase()&&this.personneFirstForm.prenom.toLowerCase()==Ee.prenom.toLowerCase()&&this.personneFirstForm.DateDeNaissance==Ee.DateDeNaissance&&(this.formEditRisque.get("Adresse")?.setValue(this.personneFirstForm.adresse),this.formEditRisque.get("Num\xe9roDeT\xe9l\xe9phone")?.setValue(this.personneFirstForm.telephone),this.formEditRisque.get("Email")?.setValue(this.personneFirstForm.email),this.formEditRisque.get("Wilaya")?.setValue(parseInt(this.personneFirstForm.wilaya)),this.getRelation("L08",!0,parseInt("177"),this.personneFirstForm.wilaya,"Wilaya"),this.getCommune(this.personneFirstForm.wilaya,"assure"),this.formEditRisque.get("Commune")?.setValue(parseInt(this.personneFirstForm.commune)),this.getCommune(this.personneFirstForm.wilaya,"assure"),this.formEditRisque.get("NIN")?.setValue(parseInt(this.personneFirstForm.nin)),this.formEditRisque.get("Genre")?.setValue(parseInt(this.personneFirstForm.genre)),this.formEditRisque.get("SituationFamiliale")?.setValue(parseInt(this.personneFirstForm.situation))),this.formEditRisque.get("DateDeNaissance").setValue(o(this.formSearchAssure.get("dateNaissance").value).format("YYYY-MM-DDT00:00:00.000")),this.formEditRisque.get("DateDeNaissance").disable(),this.formEditRisque.get("Nom").setValue(this.formSearchAssure.get("nom").value),this.formEditRisque.get("Nom").disable(),this.formEditRisque.get("Pr\xe9nom").setValue(this.formSearchAssure.get("prenom").value),this.formEditRisque.get("Pr\xe9nom").disable(),this.formEditRisque.updateValueAndValidity()}else this.dialog.open(xe.I,{width:"60%",disableClose:!0,data:{personneList:Ye}}).afterClosed().subscribe(sn=>{switch(Y){case"Souscripteur":this.personne=sn,this.initFormPersonne(Y);break;case"Assure":this.personne=sn,this.initFormPersonne(Y),this.idAssure.push({idRisque:this.groupeRisque[this.indexRecheche].idRisque,idAssure:this.personne.idClient}),this.devisService.getParamDevisByIdRisque(this.idDevis,this.devis?.groupes[0]?.idGroupe,this.groupeRisque[this.indexRecheche].idRisque).subscribe({next:Pn=>{this.personneFirstForm.nom.toLowerCase()==Ee.nom.toLowerCase()&&this.personneFirstForm.prenom.toLowerCase()==Ee.prenom.toLowerCase()&&this.personneFirstForm.DateDeNaissance==Ee.DateDeNaissance&&(this.formEditRisque.get("Adresse")?.setValue(this.personneFirstForm.adresse),this.formEditRisque.get("Num\xe9roDeT\xe9l\xe9phone")?.setValue(this.personneFirstForm.telephone),this.formEditRisque.get("Email")?.setValue(this.personneFirstForm.email),this.formEditRisque.get("Wilaya")?.setValue(parseInt(this.personneFirstForm.wilaya)),this.getRelation("L08",!0,parseInt("177"),this.personneFirstForm.wilaya,"Wilaya"),this.getCommune(this.personneFirstForm.wilaya,"assure"),this.formEditRisque.get("Commune")?.setValue(parseInt(this.personneFirstForm.commune)),this.getCommune(this.personneFirstForm.wilaya,"assure"),this.formEditRisque.get("NIN")?.setValue(parseInt(this.personneFirstForm.nin)),this.formEditRisque.get("Genre")?.setValue(parseInt(this.personneFirstForm.genre)),this.formEditRisque.get("SituationFamiliale")?.setValue(parseInt(this.personneFirstForm.situation))),Pn.forEach(fn=>{this.paraRisqueAssure.forEach(ui=>{if(ui.codeParam==fn.codeRisque)switch(fn.typeChamp.code){case"L01":this.formEditRisque.get(fn.descriptionChamp)?.setValue(fn.reponse.idParamReponse.idParam),this.formEditRisque.get(fn.descriptionChamp)?.disable();break;case"L08":this.formEditRisque.get(fn.descriptionChamp)?.setValue(parseInt(fn.reponse.valeur)),this.formEditRisque.get(fn.descriptionChamp)?.disable();break;default:this.formEditRisque.get(fn.descriptionChamp)?.setValue(fn.reponse?.valeur),this.formEditRisque.get(fn.descriptionChamp)?.disable()}})})}}),this.formEditRisque.enable(),this.formEditRisque.get("DateDeNaissance").disable()}})})}submitEditRisque(){if(this.formEditRisque.valid){let Ye,Ct,sn,Pn,Y=[],Ee={};this.paraRisqueProduit.map(fn=>{Ye=fn.codeParam,Ct=fn.idParamRisque,("20G"==this.codeProduit?["P257","P258","P259"]:["P179","P182","P211","P212"]).includes(Ye)?"20G"==this.codeProduit?this.paramRisqueDevis.map(bi=>{bi.codeRisque==Ye&&("L01"===bi.typeChamp.code?(sn=bi.reponse?.idParamReponse.idParam,Pn=bi.reponse?.idParamReponse.description):(sn=null,Pn=bi.reponse?.valeur))}):this.infoVoyage.map(bi=>{bi.codeRisque==Ye&&("L01"===bi.typeChamp.code?(sn=bi.reponse?.idParamReponse.idParam,Pn=bi.reponse?.idParamReponse.description):(sn=null,Pn=bi.reponse?.valeur))}):"Liste of values"==fn.typeChamp?.description?(sn=this.formEditRisque.get(fn.formName)?.value,Pn=""):(sn=null,Pn=this.formEditRisque.get(fn.formName)?.value),Ee={idParam:Ct,codeRisque:Ye,codeParam:Ye,reponse:{idReponse:sn,description:Pn}},Y.push(Ee)}),this.devis.groupes.map(fn=>{fn.risques.map(ui=>{ui.idRisque==this.groupeRisque[this.indexRecheche].idRisque&&(ui.checkEdit=!0)})}),this.devis.groupes.map(fn=>{this.varEditRisque=!fn.risques.some(ui=>0==ui.checkEdit)}),this.groupeList.find(fn=>fn.idRisque===this.groupeRisque[this.indexRecheche].idRisque)||(0!=this.idAssure.length?this.idAssure.forEach(fn=>{this.groupeList.push(fn.idRisque==this.groupeRisque[this.indexRecheche].idRisque?{idRisque:this.groupeRisque[this.indexRecheche].idRisque,idAssure:fn.idAssure,paramList:Y}:{idRisque:this.groupeRisque[this.indexRecheche].idRisque,paramList:Y}),this.idAssure=[]}):this.groupeList.push({idRisque:this.groupeRisque[this.indexRecheche].idRisque,paramList:Y})),this.varEditRisque||(Q().fire("Veuillez compl\xe9ter les informations de tous les risques.","","info"),this.formEditRisque.reset(),this.indexRecheche++,this.initFormSearchAssure())}}initFormPersonne(Y){switch(this.formCreation=this.formBuilder.group({codeClient:[""==this.personne?.idClient?null:this.personne?.idClient],raisonSocial:[""==this.personne?.raisonSocial?null:this.personne?.raisonSocial,[ee.kI.maxLength(40)]],nom:[""==this.personne?.nom?null:this.personne?.nom,[ee.kI.maxLength(40),ee.kI.pattern(w.e.nom)]],prenom:[""==this.personne?.prenom1?null:this.personne?.prenom1,[ee.kI.maxLength(40),ee.kI.pattern(w.e.nom)]],dateNaissance:[""==this.personne?.dateNaissance?null:this.personne?.dateNaissance],nin:[""==this.personne?.nin?null:this.personne?.nin],idTelephone:[null],telephone:[null,[ee.kI.required,ee.kI.pattern(w.e.mobile)]],idEmail:[null],email:[null,[ee.kI.pattern(w.e.email)]],idAdresse:[this.personne?.adressesList[0]?this.personne?.adressesList[0].idAdresse:0],adresse:[this.personne?.adressesList[0]?this.personne?.adressesList[0].description:"",[ee.kI.required,ee.kI.maxLength(60)]],wilaya:[this.personne?.adressesList[0]?this.personne?.adressesList[0].wilaya?.idWilaya:"",[ee.kI.required]],commune:[this.personne?.adressesList[0]?this.personne?.adressesList[0].commune?.idCommune:"",[ee.kI.required]],genre:[this.personne?.sexe?.idParam],situation:[this.personne?.situationFamiliale?.idParam],rib:["",[ee.kI.pattern(w.e.RIB)]]}),this.personne?.contactList?.forEach(Ee=>{switch(Ee.typeContact?.description){case"mobile":this.formCreation.get("idTelephone").value=Ee.idContact,this.formCreation.get("telephone").value=Ee.description;break;case"email":this.formCreation.get("idEmail").value=Ee.idContact,this.formCreation.get("email").value=Ee.description}}),Y){case"Souscripteur":this.getCommune(this.formCreation.value.wilaya,"Souscripteur"),this.formCreationSouscripteur=this.formCreation,"PH"==this.devis.typeClient?.code?(this.formCreationSouscripteur.get("dateNaissance").setValue(o(this.formCreationSouscripteur.get("dateNaissance").value).format("YYYY-MM-DDT00:00:00.000")),this.formCreationSouscripteur.get("dateNaissance")?.setValidators("PH"==this.devis.typeClient?.code?[ee.kI.required]:[]),this.formCreationSouscripteur.get("genre")?.setValidators([ee.kI.required]),this.formCreationSouscripteur.addControl("idProfession",new ee.NI(this.personne?.professionSecteurList[0]?this.personne?.professionSecteurList[0].id:"")),this.formCreationSouscripteur.addControl("profession",new ee.NI(this.personne?.professionSecteurList[0]?this.personne?.professionSecteurList[0].profession?.idProfession:"")),this.formCreationSouscripteur.get("dateNaissance").updateValueAndValidity(),this.formCreationSouscripteur.get("genre").updateValueAndValidity()):this.formCreationSouscripteur.addControl("nif",new ee.NI(this.personne?.nif,ee.kI.pattern(w.e.NIF)));break;case"assure":case"Conducteur":this.getCommune(this.formCreation.value.wilaya,"Conducteur"),this.formCreation.get("dateNaissance").setValue(o(this.formCreation.get("dateNaissance").value).format("YYYY-MM-DDT00:00:00.000")),this.formCreationConducteur=this.formCreation,this.formCreationConducteur.addControl("idProfession",new ee.NI(this.personne?.professionSecteurList[0]?this.personne?.professionSecteurList[0].id:"")),this.formCreationConducteur.addControl("profession",new ee.NI(this.personne?.professionSecteurList[0]?this.personne?.professionSecteurList[0].profession?.idProfession:"")),this.formCreationConducteur.addControl("numeroPermis",new ee.NI("",[ee.kI.required])),this.formCreationConducteur.addControl("categoriePermis",new ee.NI("",[ee.kI.required])),this.paraRisqueProduit.map(Ee=>{if("Conducteur"==Ee.category){let Ye=this.paramRisqueDevis?.find(Ct=>Ct.libelle==Ee.libelle&&Ct.categorieParamRisque==Ee.category);this.formCreationConducteur.addControl(Ee.formName,new ee.NI(null!=Ye?{value:null!=Ye.reponse.valeur?Ye.reponse.valeur:Ye.reponse.idParamReponse?.idParam,disabled:!0}:Ee.defaultValue,[ee.kI.required]))}}),this.formCreationConducteur.get("DateDeNaissance")?.setValidators([ee.kI.required,Fi]),this.formCreationConducteur.get("DateDeNaissance").updateValueAndValidity()}}getAllParamRisque(Y){let Ee=!1,Ye=[];this.paramRisqueService.getParamByProduit(Y).subscribe({next:Ct=>{this.paramRisqueService.getWorkFlowByProduit(Y,46).subscribe({next:sn=>{Ct.map(Pn=>{let fn={},ui=null,bi=null;if(sn.filter(to=>{Pn.paramRisque?.idParamRisque==to.paramRisque?.idParamRisque&&to.enabled&&(Ee=!0,ui=to.enabled,bi=to.obligatoire)}),"valeur minimum"==Pn?.iddictionnaire?.description&&(fn.valeurMin=Pn.valeur),"valeur maximum"==Pn?.iddictionnaire?.description&&(fn.valeurMax=Pn.valeur),fn.codeParam=Pn.paramRisque.codeParam,fn.idParamRisque=Pn.paramRisque.idParamRisque,fn.libelle=Pn.paramRisque.libelle,fn.formName=Pn.paramRisque.libelle.split(" ").map(to=>to.charAt(0).toUpperCase()+to.substring(1)).join(""),fn.orderChamp=Pn.paramRisque.orderChamp,fn.position=Pn.paramRisque.position,fn.typeChamp=Pn.paramRisque.typeChamp,fn.sizeChamp=Pn.paramRisque.sizeChamp,fn.category=Pn.paramRisque.categorieParamRisque?.description,fn.parent=Pn.paramRisque.paramRisqueParent,fn.isParent=Pn.paramRisque.isParent,fn.reponses=Pn.paramRisque.categorie?.paramDictionnaires,fn.typeValeur=Pn.iddictionnaire,fn.defaultValue=Pn.valeur,fn.obligatoire=bi,fn.enable=ui,fn.readonly=null!=this.paramRisqueDevis?.find(to=>to.libelle==fn.libelle&&to.categorieParamRisque==fn.category),null==this.paraRisqueProduit.find(to=>Pn.paramRisque?.idParamRisque===to.idParamRisque)&&Ee){let to=this.paramRisqueDevis?.find(fo=>fo.libelle==fn.libelle&&fo.categorieParamRisque==fn.category);"L08"==Pn?.paramRisque?.typeChamp.code&&null==Pn?.paramRisque?.paramRisqueParent&&this.paramRisqueService.getTableParamParent(fn?.idParamRisque).subscribe({next:fo=>{fn.reponses=fo,null!=to&&this.getChild(fn.idParamRisque,to?.reponse?.valeur)},error:fo=>{console.log(fo)}}),this.paraRisqueProduit.push(fn)}else Ee&&("valeur minimum"==Pn?.iddictionnaire?.description?(this.formCreationRisque.get(fn.formName)?.addValidators([ee.kI.min(fn.valeurMin)]),this.formCreationRisque.get(fn.formName)?.updateValueAndValidity()):"valeur maximum"==Pn?.iddictionnaire?.description&&(this.formCreationRisque.get(fn.formName)?.addValidators([ee.kI.max(fn.valeurMax)]),this.formCreationRisque.get(fn.formName)?.updateValueAndValidity()));Ee=!1,Ye=[]}),this.paraRisqueProduit.filter(Pn=>{"Assur\xe9"==Pn.category&&this.paraRisqueAssure.push(Pn)}),this.InitFormEditRisque(),this.paraRisqueProduitCategory=this.paraRisqueProduit.reduce((Pn,fn)=>((Pn[fn.category]=Pn[fn.category]||[]).push(fn),Pn),{}),this.paraRisqueProduitCategory=Object.values(this.paraRisqueProduitCategory),this.paraRisqueProduitCategory.map(Pn=>{Pn.sort((fn,ui)=>fn.orderChamp<ui.orderChamp?-1:1)})},error:sn=>{console.log(sn)}})},error:Ct=>{console.log(Ct)}}),this.devis?.groupes[0]?.garantieList?.map(Ct=>{let sn="-",Pn="-",fn="-";Ct.sousGarantieList?.filter(ui=>{this.sousGarantieExist=!0;let bi="-",to="-",fo="-";ui?.categorieList?.map(Xo=>{"C15"==Xo.code?(fo=Xo.valeur,this.sousFranchiseExist=!0):"C16"==Xo.code?(to=Xo.valeur,this.sousFormuleExist=!0):"C7"==Xo.code&&(bi=Xo.valeur,this.sousPlafondExist=!0)}),this.sousGarantieTab.push({idGarantie:ui.idGarantie,description:ui.description,prime:Number(Ct.prime).toFixed(2),plafond:bi,formule:to,franchise:fo})}),Ct?.categorieList?.map(ui=>{"C15"==ui.code?(fn=ui.valeur,this.franchiseExist=!0):"C16"==ui.code?(Pn=ui.valeur,this.formuleExist=!0):"C7"==ui.code&&(sn=ui.valeur,this.plafondExist=!0)}),this.informationsPack.push({idGarantie:Ct.idGarantie,description:Ct.description,prime:Number(Ct.prime).toFixed(2),plafond:sn,formule:Pn,franchise:fn,sousGarantieList:new me.by(this.sousGarantieTab)}),this.sousGarantieTab=[]}),!this.franchiseExist&&!this.sousFranchiseExist&&-1!==this.displayedColumnsPack.indexOf("franchise")&&this.displayedColumnsPack.splice(this.displayedColumnsPack.indexOf("franchise"),1),!this.plafondExist&&!this.sousPlafondExist&&-1!==this.displayedColumnsPack.indexOf("plafond")&&this.displayedColumnsPack.splice(this.displayedColumnsPack.indexOf("plafond"),1),!this.formuleExist&&!this.sousFormuleExist&&-1!==this.displayedColumnsPack.indexOf("formule")&&this.displayedColumnsPack.splice(this.displayedColumnsPack.indexOf("formule"),1),this.PrimeNette=this.devis?.primeList?.find(Ct=>"CP101"==Ct.typePrime?.code)?.prime,this.PrimeTotale=this.devis?.primeList?.find(Ct=>"CP186"==Ct.typePrime?.code)?.prime,this.dataSourcePack=new me.by(this.informationsPack)}getChild(Y,Ee){let Ye=this.paraRisqueProduit.filter(Ct=>Ct.parent?.idParamRisque==Y)[0].idParamRisque;this.paramRisqueService.getTableParamChild(Ye,Ee).subscribe({next:Ct=>{this.paraRisqueProduit.filter(sn=>{sn.idParamRisque==Ye&&(sn.reponses=Ct)})},error:Ct=>{console.log(Ct)}})}changeRoleClient(Y,Ee){if(Y)switch(Ee){case"Souscripteur":this.rechercheSouscripteur=!0,this.isAssure=!0,this.formCreationSouscripteur=this.formCreationSouscripteur,this.getCommune(this.formCreationSouscripteur.value.wilaya,"Souscripteur");break;case"Conducteur":this.rechercheConducteur=!0,this.isConducteur=!0,this.isConducteurAssure=!1,this.formCreationConducteur=this.formBuilder.group({codeClient:[""==this.formCreationSouscripteurDommage?.value?.codeClient?null:this.formCreationSouscripteurDommage?.value?.codeClient],nom:[""==this.formCreationSouscripteurDommage?.value?.nom?null:this.formCreationSouscripteurDommage?.value?.nom,[ee.kI.required,ee.kI.maxLength(40),ee.kI.pattern(w.e.nom)]],prenom:[""==this.formCreationSouscripteurDommage?.value?.prenom?null:this.formCreationSouscripteurDommage?.value?.prenom,[ee.kI.required,ee.kI.maxLength(40),ee.kI.pattern(w.e.nom)]],dateNaissance:[""==this.formCreationSouscripteurDommage?.value?.dateNaissance?null:this.formCreationSouscripteurDommage?.value?.dateNaissance],telephone:[this.formCreationSouscripteurDommage?.value?.telephone,[ee.kI.required,ee.kI.minLength(this.formCreationSouscripteurDommage?.value?.telephone.length),ee.kI.maxLength(this.formCreationSouscripteurDommage?.value?.telephone.length)]],email:[this.formCreationSouscripteurDommage?.value?.email,[ee.kI.pattern(w.e.email)]],adresse:[this.formCreationSouscripteurDommage?.value?.adresse,[ee.kI.required,ee.kI.maxLength(60)]],wilaya:[this.formCreationSouscripteurDommage?.value?.wilaya,[ee.kI.required]],commune:[this.formCreationSouscripteurDommage?.value?.commune,[ee.kI.required]],situation:[this.formCreationSouscripteurDommage?.value?.situation],profession:[this.formCreationSouscripteurDommage?.value?.profession,[ee.kI.required]],numeroPermis:["",[ee.kI.required]],categoriePermis:["",[ee.kI.required]]}),this.getCommune(this.formCreationConducteur.value.wilaya,"Conducteur"),this.paraRisqueProduit.map(Ye=>{if("Conducteur"==Ye.category){let Ct=this.paramRisqueDevis?.find(sn=>sn.libelle==Ye.libelle&&sn.categorieParamRisque==Ye.category);this.formCreationConducteur.addControl(Ye.formName,new ee.NI(null!=Ct?{value:null!=Ct.reponse.valeur?Ct.reponse.valeur:Ct.reponse.idParamReponse?.idParam,disabled:Ye.readonly}:Ye.defaultValue,[ee.kI.required]))}});break;case"ConducteurAssure":this.rechercheConducteur=!0,this.isConducteurAssure=!0,this.isConducteur=!1,this.formCreationConducteur=this.formBuilder.group({codeClient:[""==this.formCreationSouscripteur?.value?.codeClient?null:this.formCreationSouscripteur?.value?.codeClient],nom:[""==this.formCreationSouscripteur?.value?.nom?null:this.formCreationSouscripteur?.value?.nom,[ee.kI.required,ee.kI.maxLength(40),ee.kI.pattern(w.e.nom)]],prenom:[""==this.formCreationSouscripteur?.value?.prenom?null:this.formCreationSouscripteur?.value?.prenom,[ee.kI.required,ee.kI.maxLength(40),ee.kI.pattern(w.e.nom)]],dateNaissance:[""==this.formCreationSouscripteur?.value?.dateNaissance?null:this.formCreationSouscripteur?.value?.dateNaissance],telephone:[this.formCreationSouscripteur?.value?.telephone,[ee.kI.required,ee.kI.minLength(this.formCreationSouscripteur?.value?.telephone.length),ee.kI.maxLength(this.formCreationSouscripteur?.value?.telephone.length)]],email:[this.formCreationSouscripteur?.value?.email,[ee.kI.pattern(w.e.email)]],adresse:[this.formCreationSouscripteur?.value?.adresse,[ee.kI.required,ee.kI.maxLength(60)]],wilaya:[this.formCreationSouscripteur?.value?.wilaya,[ee.kI.required]],commune:[this.formCreationSouscripteur?.value?.commune,[ee.kI.required]],situation:[this.formCreationSouscripteur?.value?.situation],profession:[this.formCreationSouscripteur?.value?.profession,[ee.kI.required]],numeroPermis:["",[ee.kI.required]],categoriePermis:["",[ee.kI.required]]}),this.getCommune(this.formCreationConducteur.value.wilaya,"Conducteur"),this.paraRisqueProduit.map(Ye=>{if("Conducteur"==Ye.category){let Ct=this.paramRisqueDevis?.find(sn=>sn.libelle==Ye.libelle&&sn.categorieParamRisque==Ye.category);this.formCreationConducteur.addControl(Ye.formName,new ee.NI(null!=Ct?{value:null!=Ct.reponse.valeur?Ct.reponse.valeur:Ct.reponse.idParamReponse?.idParam,disabled:Ye.readonly}:Ye.defaultValue,[ee.kI.required]))}})}else switch(Ee){case"Souscripteur":this.rechercheSouscripteur=!1,this.isAssure=!1,this.formCreationSouscripteur=this.formBuilder.group({codeClient:[null],raisonSocial:[""==this.devis?.raisonSocial?null:this.devis?.raisonSocial,[ee.kI.maxLength(40)]],nom:[null,[ee.kI.required,ee.kI.maxLength(40),ee.kI.pattern(w.e.nom)]],prenom:[null,[ee.kI.required,ee.kI.maxLength(40),ee.kI.pattern(w.e.nom)]],dateOuverture:[null],dateNaissance:["personne physique"==this.devis?.typeClient?.description?this.devis?.dateAssure:null,[ee.kI.required]],nin:[{value:null,disabled:!0},[ee.kI.pattern(w.e.NIN)]],nif:[null,[ee.kI.pattern(w.e.NIF)]],telephone:[{value:"",disabled:!0},[ee.kI.required,ee.kI.pattern(w.e.mobile)]],email:[{value:"",disabled:!0},[ee.kI.pattern(w.e.email)]],adresse:[{value:"",disabled:!0},[ee.kI.required,ee.kI.maxLength(60)]],wilaya:[{value:"",disabled:!0},[ee.kI.required]],commune:[{value:"",disabled:!0},[ee.kI.required]],genre:[{value:"",disabled:!0},[ee.kI.required]],situation:[{value:"",disabled:!0}],profession:[{value:"",disabled:!0}],rib:["",[ee.kI.pattern(w.e.RIB)]]});break;case"Conducteur":this.rechercheConducteur=!1,this.isConducteur=!1,this.formCreationConducteur=this.formBuilder.group({codeClient:[null],nom:[null,[ee.kI.required,ee.kI.maxLength(40),ee.kI.pattern(w.e.nom)]],prenom:[null,[ee.kI.required,ee.kI.maxLength(40),ee.kI.pattern(w.e.nom)]],dateNaissance:[null],telephone:[{value:null,disabled:!0},[ee.kI.required,ee.kI.pattern(w.e.mobile)]],email:[{value:"",disabled:!0},[ee.kI.pattern(w.e.email)]],adresse:[{value:"",disabled:!0},[ee.kI.required,ee.kI.maxLength(60)]],wilaya:[{value:"",disabled:!0},[ee.kI.required]],commune:[{value:"",disabled:!0},[ee.kI.required]],situation:[{value:"",disabled:!0}],profession:[{value:"",disabled:!0},[ee.kI.required]],numeroPermis:[{value:"",disabled:!0},[ee.kI.required]],categoriePermis:[{value:"",disabled:!0},[ee.kI.required]]}),this.paraRisqueProduit.map(Ye=>{if("Conducteur"==Ye.category){let Ct=this.paramRisqueDevis?.find(sn=>sn.libelle==Ye.libelle&&sn.categorieParamRisque==Ye.category);this.formCreationConducteur.addControl(Ye.formName,new ee.NI(null!=Ct?{value:null!=Ct.reponse.valeur?Ct.reponse.valeur:Ct.reponse.idParamReponse?.idParam,disabled:!0}:Ye.defaultValue,[ee.kI.required]))}});break;case"ConducteurAssure":this.rechercheConducteur=!1,this.isConducteurAssure=!1,this.formCreationConducteur=this.formBuilder.group({codeClient:[null],nom:[null,[ee.kI.required,ee.kI.maxLength(40),ee.kI.pattern(w.e.nom)]],prenom:[null,[ee.kI.required,ee.kI.maxLength(40),ee.kI.pattern(w.e.nom)]],dateNaissance:[null],telephone:[{value:null,disabled:!0},[ee.kI.required,ee.kI.pattern(w.e.mobile)]],email:[{value:"",disabled:!0},[ee.kI.pattern(w.e.email)]],adresse:[{value:"",disabled:!0},[ee.kI.required,ee.kI.maxLength(60)]],wilaya:[{value:"",disabled:!0},[ee.kI.required]],commune:[{value:"",disabled:!0},[ee.kI.required]],situation:[{value:"",disabled:!0}],profession:[{value:"",disabled:!0},[ee.kI.required]],numeroPermis:[{value:"",disabled:!0},[ee.kI.required]],categoriePermis:[{value:"",disabled:!0},[ee.kI.required]]}),this.paraRisqueProduit.map(Ye=>{if("Conducteur"==Ye.category){let Ct=this.paramRisqueDevis?.find(sn=>sn.libelle==Ye.libelle&&sn.categorieParamRisque==Ye.category);this.formCreationConducteur.addControl(Ye.formName,new ee.NI(null!=Ct?{value:null!=Ct.reponse.valeur?Ct.reponse.valeur:Ct.reponse.idParamReponse?.idParam,disabled:!0}:Ye.defaultValue,[ee.kI.required]))}})}}submitContrat(){var Y=this;return(0,h.Z)(function*(){Y.formCreationContrat.enable(),Y.formCreationSouscripteurDommage.enable(),Y.formCreationSouscripteur.enable(),Y.formCreationRisque.enable(),Y.valider=!0,Y.contrat.devis=+Y.devis?.idDevis,Y.contrat.agence=Y.formCreationContrat?.get("agence")?.value,Y.formCreationContrat.get("dateEffet").setValue(o(Y.formCreationContrat.get("dateEffet").value).format("YYYY-MM-DDT00:00:00.000")),Y.contrat.dateEffet=Y.formCreationContrat.value?.dateEffet,Y.contrat.dateExpiration=Y.formCreationContrat.value?.dateExpiration;const Pn=new Date(Y.contrat.dateEffet);Y.contrat.dateEffet=new Date(Pn.getTime()+72e5),Y.contrat.dateEffet=Y.contrat.dateEffet.toISOString();const fn=new Date(Y.contrat.dateExpiration);Y.contrat.dateExpiration=new Date(fn.getTime()+72e5),Y.contrat.dateExpiration=Y.contrat.dateExpiration.toISOString(),Y.contrat.personnes=[];let ui=null==Y.formCreationSouscripteur?.value?.raisonSocial?"PH":"PM",bi={role:(Y.roles.find(fi=>"CP236"===fi.code)||{}).idParam,typeClient:ui,risqueList:"45L"==Y.devis.produit.codeProduit&&0==Y.devis.groupes.length?Y.devis.groupes:[Y.devis.groupes[0].risques[0].idRisque],idClient:Y.formCreationSouscripteur?.value?.codeClient,nom:Y.formCreationSouscripteur?.value?.nom,prenom:Y.formCreationSouscripteur?.value?.prenom,raisonSocial:Y.formCreationSouscripteur?.value?.raisonSocial,dateNaissance:Y.formCreationSouscripteur?.value?.dateNaissance,nif:Y.formCreationSouscripteur?.value?.nif,nin:Y.formCreationSouscripteur?.value?.nin,telephone:{idContact:Y.formCreationSouscripteur?.value?.idTelephone,description:Y.formCreationSouscripteur?.value?.telephone},email:{idContact:Y.formCreationSouscripteur?.value?.idEmail,description:Y.formCreationSouscripteur?.value?.email},adresse:{idAdresse:Y.formCreationSouscripteur?.value?.idAdresse,description:Y.formCreationSouscripteur?.value?.adresse,wilaya:Y.formCreationSouscripteur?.value?.wilaya,commune:Y.formCreationSouscripteur?.value?.commune},genre:Y.formCreationSouscripteur?.value?.genre,situation:Y.formCreationSouscripteur?.value?.situation,profession:{id:Y.formCreationSouscripteur?.value?.idProfession,idProfession:Y.formCreationSouscripteur?.value?.profession},rib:{idRib:0,description:Y.formCreationSouscripteur?.value?.rib},permis:{idDocument:0,description:Y.formCreationSouscripteur?.value?.numeroPermis,categorie:Y.formCreationSouscripteur?.value?.categoriePermis,dateDelivrance:"",wilayaDelivrance:0}};Y.contrat.personnes.push(bi),Y.groupeList.forEach(fi=>{Y.contrat.personnes[0].nom!=fi.paramList.find(Ki=>"P164"==Ki.codeRisque).reponse.description&&Y.contrat.personnes[0].prenom!=fi.paramList.find(Ki=>"P165"==Ki.codeRisque).reponse.description&&Y.contrat.personnes[0].dateNaissance!=fi.paramList.find(Ki=>"P166"==Ki.codeRisque).reponse.description&&Y.formCreationSouscripteur?.value?.codeClient!=fi.idAssure&&Y.personneService.getPersonneById(fi.idAssure).subscribe({next:Ki=>{let br={role:(Y.roles.find(De=>"CP241"===De.code)||{}).idParam,typeClient:"PH",risqueList:"45L"==Y.devis.produit.codeProduit&&0==Y.devis.groupes.length?Y.devis.groupes:[Y.devis.groupes[0].risques[0].idRisque],idClient:fi.idAssure?fi.idAssure:null,nom:fi.paramList.find(De=>"P164"==De.codeRisque).reponse.description,prenom:fi.paramList.find(De=>"P165"==De.codeRisque).reponse.description,raisonSocial:null,dateNaissance:fi.paramList.find(De=>"P166"==De.codeRisque).reponse.description,nif:null,nin:fi.paramList.find(De=>"P167"==De.codeRisque).reponse.description?.toString(),telephone:{idContact:Ki?.contactList?.find(De=>"CNT1"===De?.typeContact?.code)?.idContact,description:fi.paramList.find(De=>"P169"==De.codeRisque).reponse.description?.toString()},email:{idContact:Ki?.contactList?.find(De=>"CNT2"===De?.typeContact?.code)?.idContact,description:fi.paramList.find(De=>"P168"==De.codeRisque).reponse.description},adresse:{idAdresse:Ki.adressesList?.[0]?.idAdresse,description:fi.paramList.find(De=>"P170"==De.codeRisque).reponse.description,wilaya:fi.paramList.find(De=>"P177"==De.codeRisque).reponse.description,commune:fi.paramList.find(De=>"P171"==De.codeRisque).reponse.description},genre:fi.paramList.find(De=>"P172"==De.codeRisque).reponse.idReponse,situation:Y.formCreationSouscripteur?.value?.situation,profession:{id:null,idProfession:null},rib:{idRib:0,description:null},permis:{idDocument:0,description:null,categorie:null,dateDelivrance:"",wilayaDelivrance:0}};Y.contrat.personnes.push(br)},error:Ki=>{console.log(Ki)}})}),Y.contratGroupe=[],Y.groupeRisque.forEach(fi=>{const Ki=Y.contratGroupe.find(br=>br.groupe.idGroupe===fi.idGroupe);Ki?Ki.groupeList.push(Y.groupeList.find(br=>br.idRisque==fi.idRisque)):Y.contratGroupe.push({groupe:{description:fi?.description,idGroupe:fi?.idGroupe},groupeList:[Y.groupeList.find(br=>br.idRisque==fi.idRisque)]})}),Y.contrat.groupes=Y.contratGroupe,Y.groupes?.forEach(fi=>{fi?.groupeList?.forEach(Ki=>{Ki.paramList=(fi=>{const Ki=new Set;return fi.filter(br=>{const De=br.idParam;return!Ki.has(De)&&(Ki.add(De),!0)})})(Ki.paramList)})}),Y.contrat.auditUser=sessionStorage.getItem("userId");const fo=yield Y.cryptoService.generateHmac(Y.tkn,Y.contrat),Ur={stringJson:JSON.stringify(Y.contrat),signature:fo};Y.contratService.createContrat(Ur).subscribe({next:fi=>{Y.valider=!1,Q().fire(`La police N\xb0 ${fi.idContrat} a \xe9t\xe9 cr\xe9er avec succ\xe9s.`,"","success"),Y.redirectConsultation()},error:fi=>{Y.valider=!1;let br,Ki="";switch(br=null==fi.code?fi.status:fi.code,br){case 400:case 404:Ki=fi.message;break;case 402:Ki="Erreur lors de la validation du contrat, veuillez contacter l'administrateur.";break;default:Ki="Erreur syst\xe8me, veuillez contacter l'administrateur."}Q().fire(Ki,"","error"),console.log(fi)}})})()}changeAccess(){this.devisService.updateAccessDevis({idDevisAccess:this.devisAccess?.idDevisAccess,devis:this.devis,accessContrat:1,accessAvenant:1}).subscribe({next:Ee=>{},error:Ee=>{console.log(Ee)}})}redirectConsultation(){this.changeAccess(),this.router.navigate(["consultation-police/vie/"+this.route.snapshot.paramMap.get("codeProduit")+"/"+this.route.snapshot.paramMap.get("nomProduit")])}checkDateNaissance(Y){"45A"==this.codeProduit?this.isConducteur?(this.formCreationConducteur.get("DateDeNaissance").setValue(o(this.formCreationConducteur.get("DateDeNaissance").value).format("YYYY-MM-DDT00:00:00.000")),this.formCreationSouscripteurDommage.get("dateNaissance").setValue(o(this.formCreationSouscripteurDommage.get("dateNaissance").value).format("YYYY-MM-DDT00:00:00.000")),o(this.formCreationConducteur.get("DateDeNaissance").value).format("YYYY-MM-DDT00:00:00.000")==this.formCreationSouscripteurDommage.get("dateNaissance").value?this.formCreationConducteur.valid&&this.formCreationRisque.valid&&this.rechercheConducteur?Y.next():(this.formCreationConducteur.markAllAsTouched(),this.formCreationRisque.markAllAsTouched()):Q().fire("Ces informations sont pas identique \xe0 celle ins\xe9r\xe9 dans le devis.",'<center>Vous pouvez soit :\n</center> \n              \u2022 D\xe9cochez "Cette personne est-elle le souscripteur". </br>\n              \u2022 Changez la date de naissance du souscripteur. </br>\n              \u2022 Refaire un devis. </br>\n            ',"warning")):this.formCreationConducteur.valid&&this.formCreationRisque.valid&&this.rechercheConducteur?Y.next():(this.formCreationConducteur.markAllAsTouched(),this.formCreationRisque.markAllAsTouched()):this.formCreationRisque.valid?Y.next():this.formCreationRisque.markAllAsTouched()}openDialog(Y,Ee){this.devisService.getParamDevisByIdRisque(this.idDevis,Ee,Y).subscribe({next:Ye=>{let Ct=Ye.reduce((Pn,fn)=>(Pn[fn.libelle]=fn.reponse.idParamReponse?.description||fn.reponse.valeur,Pn),{});this.dialog.open(n._,{width:"60%",data:{risque:Ct}}).afterClosed().subscribe(Pn=>{})},error:Ye=>{}})}openGroup(Y){this.devisService.getPackByGroupe(Y,this.idDevis).subscribe({next:Ee=>{this.groupPack.push({garanties:Ee.garanties,idGroupe:Y,pack:Ee.pack})},error:Ee=>{}})}}return se.\u0275fac=function(Y){return new(Y||se)(i.Y36(Z.$),i.Y36(O.Y),i.Y36(J.w),i.Y36(K.F0),i.Y36(he.H),i.Y36(Ze.F),i.Y36(l.uw),i.Y36(t.D),i.Y36(Ft.M),i.Y36(ln.Y),i.Y36(ut.d),i.Y36(ot.e),i.Y36(tt.t),i.Y36(Zt.F),i.Y36(nn.J),i.Y36(K.gz),i.Y36(ee.qu))},se.\u0275cmp=i.Xpm({type:se,selectors:[["app-create-contrat-vie"]],viewQuery:function(Y,Ee){if(1&Y&&i.Gf(Jn,5),2&Y){let Ye;i.iGM(Ye=i.CRH())&&(Ee.myStepper=Ye.first)}},decls:1,vars:1,consts:[["class","container",4,"ngIf"],[1,"container"],[1,"header-title"],["aria-label","directions_car",1,"mat-icon","notranslate","material-symbols-outlined","material-icons","mat-icon-no-color"],[3,"linear"],["stepper",""],[3,"stepControl","editable",4,"ngIf"],[3,"editable",4,"ngIf"],[3,"editable"],["matStepLabel",""],[1,"main-multirisque"],[3,"expanded",4,"ngFor","ngForOf"],[1,"row-button"],["matStepperPrevious","",1,"btn","btn-cancel"],["matStepperNext","",1,"btn","btn-action"],["class","row",3,"formGroup",4,"ngIf"],["multi","",1,"example-headers-align"],[1,"resume"],[4,"ngFor","ngForOf"],[1,"btn","btn-action",3,"click"],["color","white","diameter","30",4,"ngIf"],[4,"ngIf"],[3,"stepControl","editable"],[3,"formGroup",4,"ngIf"],[1,"btn","btn-cancel",3,"mouseup"],[3,"formGroup"],[3,"expanded"],[1,"row",2,"padding","1rem 2rem"],["appearance","outline",1,"col-md-6"],["formControlName","agence"],["formControlName","produit"],["matInput","","formControlName","dateEffet",3,"matDatepicker"],["matSuffix","",3,"for"],["dateEffet",""],["matInput","","formControlName","dateExpiration",3,"matDatepicker"],["dateExpiration",""],[3,"value"],["class","row","style","padding: 1rem 2rem;",4,"ngIf"],[1,"row",2,"display","flex","align-items","center","justify-content","space-between"],["type","text","matInput","","placeholder","","formControlName","raisonSocial",3,"readonly"],["class","invalid-feedback",4,"ngIf"],["class","btn btn-secondary","style","display: flex; width: auto;",3,"mouseup",4,"ngIf"],["class","btn btn-disable","disabled","","style","display: flex; width: auto;",3,"mouseup",4,"ngIf"],["type","text","matInput","","placeholder","","formControlName","rib"],["pattern","[0-9]{15}","appearance","outline",1,"col-md-6"],["type","text","matInput","","placeholder","","formControlName","nif"],["matPrefix",""],["type","text","matInput","","placeholder","","formControlName","telephone"],["type","text","matInput","","placeholder","","formControlName","email"],["appearance","outline",1,"col-md-4"],["type","text","matInput","","placeholder","","formControlName","adresse"],["formControlName","wilaya",3,"selectionChange"],["formControlName","commune"],[1,"invalid-feedback"],[1,"btn","btn-secondary",2,"display","flex","width","auto",3,"mouseup"],["disabled","",1,"btn","btn-disable",2,"display","flex","width","auto",3,"mouseup"],["appearance","outline",1,"col-md-3"],["type","text","matInput","","placeholder","","formControlName","nom",3,"readonly"],["type","text","matInput","","placeholder","","formControlName","prenom",3,"readonly"],["matInput","","formControlName","dateNaissance",3,"max","matDatepicker"],["pickerdateNaissance",""],["disabled","","class","btn btn-disable","style","display: flex; width: auto;",3,"mouseup",4,"ngIf"],["pattern","[0-9]{18}","appearance","outline",1,"col-md-4"],["type","text","matInput","","placeholder","","formControlName","nin"],["formControlName","genre"],["formControlName","situation"],["formControlName","profession"],["class","btn btn-action","matStepperNext","",4,"ngIf"],[1,"col-md-6","value"],[3,"formGroup","ngSubmit",4,"ngIf"],["type","text","matInput","","placeholder","","formControlName","nom",3,"readonly","disabled"],["type","text","matInput","","placeholder","","formControlName","prenom",3,"readonly","disabled"],["matInput","","formControlName","dateNaissance",3,"max","disabled","matDatepicker"],[3,"formGroup","ngSubmit"],["formDirective","ngForm"],[1,"col-md-6"],["type","submit",1,"btn","btn-action"],["appearance","outline","class","col-md-5",4,"ngIf"],["class","col-md-5","appearance","outline",4,"ngIf"],["appearance","outline",1,"col-md-5"],[3,"formControlName","selectionChange"],["matInput","","type","text",3,"formControlName"],["matInput","","type","number",3,"formControlName"],["matInput","",3,"matDatepicker","formControlName"],["picker",""],[3,"formControlName"],[1,"gestion-risques"],[1,"row",3,"formGroup"],["matInput","","formControlName","convention"],["matInput","","formControlName","reduction"],[1,""],["matStepperPrevious","","type","button",1,"btn","btn-cancel"],[1,"primeTotale"],["color","white","diameter","30"]],template:function(Y,Ee){1&Y&&i.YNc(0,wl,41,20,"div",0),2&Y&&i.Q6J("ngIf",Ee.renderGlobal)},dependencies:[Se.sg,Se.O5,_n.Hw,xn.pp,xn.ib,xn.yz,xn.yK,xn.u4,ee._Y,ee.Fj,ee.wV,ee.JJ,ee.JL,ee.sg,ee.u,mn.TO,mn.KE,mn.hX,mn.qo,mn.R9,Ri.Nt,Xn.Mq,Xn.hl,Xn.nW,Mt.gD,Lt.ey,xt.C0,xt.VY,xt.Vq,xt.Ic,xt.fd,ht.Ou,Se.JJ,Yn.X],styles:[".container[_ngcontent-%COMP%]{background-color:#fff;padding:40px 0;height:100%;overflow-y:auto;overflow-x:hidden}h2.header-title[_ngcontent-%COMP%]{padding:0 24px;font-size:21px!important;color:#00008f;font-weight:600!important;letter-spacing:1px;display:flex;justify-content:flex-end}h2.header-title[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{margin-right:1rem}.mat-expansion-panel-header[_ngcontent-%COMP%]{background:rgba(199,199,199,.2)!important;font-weight:600;font-size:16px}.mat-expansion-panel-header.mat-expanded[_ngcontent-%COMP%]{height:48px}  .mat-step-header .mat-step-icon-state-edit{background-color:#d14624}  .mat-form-field-appearance-outline .mat-form-field-prefix{top:auto!important}  .mat-horizontal-stepper-header{pointer-events:none!important}.mat-expansion-panel-header-title[_ngcontent-%COMP%]{color:#00008f}  .mat-step-text-label{font-size:16px}  .mat-step-label-selected .mat-step-text-label{font-size:16px;font-weight:700;color:#00008f}.btn-disable[_ngcontent-%COMP%]{background:rgba(0,0,0,.12);font-size:15px;font-weight:600;padding:9px 15px;border:none;border:2px solid rgba(0,0,0,.12);border-radius:5px}.btn.btn-action[_ngcontent-%COMP%]{margin-top:2rem;float:right}.btn.btn-cancel[_ngcontent-%COMP%]{margin-top:2rem;float:left}.btn.btn-download[_ngcontent-%COMP%]{box-shadow:0 1px 2px #00000026;transition:box-shadow .3s ease-in-out}.btn.btn-download[_ngcontent-%COMP%]:hover{box-shadow:0 5px 15px #0000004d}.value[_ngcontent-%COMP%]{color:#00008f;font-weight:600;font-size:15px;margin:2rem}table[_ngcontent-%COMP%]{width:100%}.mat-row[_ngcontent-%COMP%]:nth-child(even), .mat-header-row[_ngcontent-%COMP%]{background-color:#f7f7f9}.mat-header-row[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{color:#00008f}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:16px}.mat-header-cell[_ngcontent-%COMP%]{color:#333;font-weight:600;letter-spacing:.5px;font-size:15px;width:165px}.mat-menu-item[_ngcontent-%COMP%]{font-size:16px}.mat-menu-item[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:25px;height:-moz-fit-content;height:fit-content}.mat-menu-item[_ngcontent-%COMP%]:hover:not([disabled]){color:#00008f}.mat-menu-item[_ngcontent-%COMP%]:hover:not([disabled])   .mat-icon[_ngcontent-%COMP%]{color:#00008f}.mat-icon[_ngcontent-%COMP%]{height:100%;font-size:36px;width:-moz-fit-content;width:fit-content}.mat-cell[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{color:#00008f}.mat-header-cell.mat-icon[_ngcontent-%COMP%]{color:#fff}.mat-cell[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]:hover, .mat-header-cell[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]:hover{color:#d14723;cursor:pointer}  .mat-checkbox-checked.mat-accent.mat-checkbox-disabled .mat-checkbox-background, .mat-checkbox-indeterminate.mat-accent[_ngcontent-%COMP%]   .mat-checkbox-background[_ngcontent-%COMP%]{background-color:#ccc}  .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-image:none}.mat-input-element[_ngcontent-%COMP%]:disabled{color:inherit}.mat-cell[_ngcontent-%COMP%]{padding-top:10px}.pack-table[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{font-size:16px}.resume-table[_ngcontent-%COMP%]{margin-top:2rem}.resume-table[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%]{font-size:16px;border-right:1px solid rgba(0,0,0,.12);padding-left:30px}.resume-table[_ngcontent-%COMP%]   .mat-header-cell[_ngcontent-%COMP%]{background-color:#00008f;color:#fff;border-right:1px solid white;padding-left:30px}.mat-cell[_ngcontent-%COMP%]:not(.mat-column-garantie){font-weight:600}.row.card[_ngcontent-%COMP%]{justify-content:end;width:100%}.prime-card[_ngcontent-%COMP%]{background:rgb(247,247,249);width:-moz-fit-content;width:fit-content;margin-top:3rem;border:1px solid rgba(0,0,0,.12);padding:18px 14px}table.resume[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;border-spacing:0 19px;margin-top:4rem}table.resume[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:17px;padding:12px 19px;border:1px solid rgba(0,0,0,.12)}table.resume[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background:rgb(247,247,249)}.resume-buttons[_ngcontent-%COMP%]{margin-top:4rem;display:flex;justify-content:space-between}.resume-buttons[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{margin-right:9px;font-size:24px}.risque-panel.mat-expansion-panel[_ngcontent-%COMP%]{box-shadow:none}.risque-panel[_ngcontent-%COMP%]     .mat-expansion-panel-content{padding:1rem}.panel-risque[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{margin-right:1rem}.categoryTitle[_ngcontent-%COMP%]{text-transform:capitalize}  .mat-progress-bar-fill:after{background-color:#d14624}mat-form-field.ng-invalid.ng-touched[_ngcontent-%COMP%]{animation:example;animation-duration:.3s;margin-bottom:2rem}.row-button[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:0 3rem;margin-top:2rem}.mat-column-expandedDetail[_ngcontent-%COMP%]{padding-left:0!important;padding-right:0!important}.example-element-detail[_ngcontent-%COMP%]{overflow:hidden;display:flex}tr.example-detail-row[_ngcontent-%COMP%]{height:0}.mat-column-expandedDetail[_ngcontent-%COMP%]{padding:0}.innertable[_ngcontent-%COMP%]{background-color:#f7f7f9}.expandButton[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:26px!important}.gestion-risques[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{color:#00008f;background-color:#f7f7f9}.gestion-risques[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .gestion-risques[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:12px 19px}.gestion-risques[_ngcontent-%COMP%], .gestion-risques[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .gestion-risques[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border:1px solid #d3d3d3;border-collapse:collapse;font-size:15px}.gestion-risques[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#f7f7f9}.gestion-risques[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{color:#00008f}.main-multirisque[_ngcontent-%COMP%]     .mat-expansion-panel-body{padding:2rem!important}"]}),se})();var Wa=B(8739),Tr=B(7340),_o=B(3205),Xa=B(8661),Do=B(8255),$r=B(266),Vo=B(4859),cl=B(4803);const ul=["innerTables"],si=["innerSort"];function Gr(se,He){1&se&&(i.TgZ(0,"span"),i._uU(1,", "),i.qZA())}function ml(se,He){if(1&se&&(i.ynx(0),i._uU(1),i.YNc(2,Gr,2,0,"span",16),i.BQk()),2&se){const Y=He.$implicit,Ee=He.index,Ye=i.oxw();i.xp6(1),i.hij(" ",Y," "),i.xp6(1),i.Q6J("ngIf",Ee<(null==Ye.informationsContrat||null==Ye.informationsContrat.quittance?null:Ye.informationsContrat.quittance.length)-1)}}function Es(se,He){if(1&se&&(i.TgZ(0,"div",10),i._uU(1),i.qZA()),2&se){const Y=i.oxw().$implicit;i.xp6(1),i.Oqu(null==Y.reponse||null==Y.reponse.idParamReponse?null:Y.reponse.idParamReponse.description)}}function ao(se,He){if(1&se&&(i.TgZ(0,"div",10),i._uU(1),i.ALo(2,"dateFormatPipe"),i.qZA()),2&se){const Y=i.oxw().$implicit;i.xp6(1),i.Oqu(i.lcZ(2,1,null==Y.reponse?null:Y.reponse.valeur))}}function Rs(se,He){if(1&se&&(i.TgZ(0,"div",10),i._uU(1),i.qZA()),2&se){const Y=i.oxw().$implicit;i.xp6(1),i.Oqu(null==Y.reponse?null:Y.reponse.valeur)}}function Ol(se,He){if(1&se&&(i.TgZ(0,"div",10),i._uU(1),i.qZA()),2&se){const Y=i.oxw().$implicit;i.xp6(1),i.Oqu(null==Y.reponse||null==Y.reponse.idParamReponse?null:Y.reponse.idParamReponse.description)}}function Vi(se,He){if(1&se&&(i.TgZ(0,"div",10),i._uU(1),i.qZA()),2&se){const Y=i.oxw().$implicit;i.xp6(1),i.Oqu(null==Y.reponse?null:Y.reponse.description)}}function Ma(se,He){if(1&se&&(i.TgZ(0,"div",10),i._uU(1),i.qZA()),2&se){const Y=i.oxw().$implicit;i.xp6(1),i.Oqu(null==Y.reponse?null:Y.reponse.valeur)}}function ar(se,He){if(1&se&&(i.TgZ(0,"div",6)(1,"div",7)(2,"div",8)(3,"div",9),i._uU(4),i.qZA(),i.YNc(5,Es,2,1,"div",22),i.YNc(6,ao,3,3,"div",22),i.YNc(7,Rs,2,1,"div",22),i.YNc(8,Ol,2,1,"div",22),i.YNc(9,Vi,2,1,"div",22),i.YNc(10,Ma,2,1,"div",22),i.qZA()()()),2&se){const Y=He.$implicit;i.xp6(4),i.Oqu(Y.libelle),i.xp6(1),i.Q6J("ngIf","P25"==Y.codeRisque||"P26"==Y.codeRisque),i.xp6(1),i.Q6J("ngIf","date"==Y.typeChamp),i.xp6(1),i.Q6J("ngIf","Number"==Y.typeChamp),i.xp6(1),i.Q6J("ngIf","Liste of values"==Y.typeChamp),i.xp6(1),i.Q6J("ngIf","From Table"==Y.typeChamp),i.xp6(1),i.Q6J("ngIf","From Table"!=Y.typeChamp&&"Liste of values"!=Y.typeChamp&&"Number"!=Y.typeChamp&&"date"!=Y.typeChamp&&"P25"!=Y.codeRisque&&"P26"!=Y.codeRisque)}}function Ds(se,He){if(1&se&&(i.ynx(0),i.TgZ(1,"mat-expansion-panel-header")(2,"mat-panel-title",20),i._uU(3),i.qZA()(),i.TgZ(4,"div",6)(5,"div",7)(6,"div",8)(7,"div",9),i._uU(8,"Nom: "),i.qZA(),i.TgZ(9,"div",10),i._uU(10),i.qZA()()(),i.TgZ(11,"div",7)(12,"div",8)(13,"div",9),i._uU(14,"Pr\xe9nom:"),i.qZA(),i.TgZ(15,"div",10),i._uU(16),i.qZA()()()(),i.TgZ(17,"div",6)(18,"div",7)(19,"div",8)(20,"div",9),i._uU(21,"Email: "),i.qZA(),i.TgZ(22,"div",10),i._uU(23),i.qZA()()(),i.TgZ(24,"div",7)(25,"div",8)(26,"div",9),i._uU(27,"T\xe9l\xe9phone:"),i.qZA(),i.TgZ(28,"div",10),i._uU(29),i.qZA()()()(),i.YNc(30,ar,11,7,"div",21),i.BQk()),2&se){const Y=i.oxw(),Ee=Y.$implicit,Ye=Y.index,Ct=i.oxw(2);i.xp6(3),i.hij(" ",null==Ee[Ye]?null:Ee[Ye].categorieParamRisque," "),i.xp6(7),i.Oqu(Ct.informationsConducteur.nom),i.xp6(6),i.hij("",Ct.informationsConducteur.prenom," "),i.xp6(7),i.Oqu(Ct.informationsConducteur.email),i.xp6(6),i.hij("",Ct.informationsConducteur.tel," "),i.xp6(1),i.Q6J("ngForOf",Ee)}}function Br(se,He){if(1&se&&(i.TgZ(0,"div",10),i._uU(1),i.qZA()),2&se){const Y=i.oxw().$implicit;i.xp6(1),i.Oqu(null==Y.reponse||null==Y.reponse.idParamReponse?null:Y.reponse.idParamReponse.description)}}function Rr(se,He){if(1&se&&(i.TgZ(0,"div",10),i._uU(1),i.ALo(2,"dateFormatPipe"),i.qZA()),2&se){const Y=i.oxw().$implicit;i.xp6(1),i.Oqu(i.lcZ(2,1,null==Y.reponse?null:Y.reponse.valeur))}}function ws(se,He){if(1&se&&(i.TgZ(0,"div",10),i._uU(1),i.qZA()),2&se){const Y=i.oxw().$implicit;i.xp6(1),i.Oqu(null==Y.reponse?null:Y.reponse.valeur)}}function Po(se,He){if(1&se&&(i.TgZ(0,"div",10),i._uU(1),i.qZA()),2&se){const Y=i.oxw().$implicit;i.xp6(1),i.Oqu(null==Y.reponse||null==Y.reponse.idParamReponse?null:Y.reponse.idParamReponse.description)}}function yo(se,He){if(1&se&&(i.TgZ(0,"div",10),i._uU(1),i.qZA()),2&se){const Y=i.oxw().$implicit;i.xp6(1),i.Oqu(null==Y.reponse?null:Y.reponse.description)}}function ua(se,He){if(1&se&&(i.TgZ(0,"div",10),i._uU(1),i.qZA()),2&se){const Y=i.oxw().$implicit;i.xp6(1),i.Oqu(null==Y.reponse?null:Y.reponse.valeur)}}function Os(se,He){if(1&se&&(i.TgZ(0,"div",6)(1,"div",7)(2,"div",8)(3,"div",9),i._uU(4),i.qZA(),i.YNc(5,Br,2,1,"div",22),i.YNc(6,Rr,3,3,"div",22),i.YNc(7,ws,2,1,"div",22),i.YNc(8,Po,2,1,"div",22),i.YNc(9,yo,2,1,"div",22),i.YNc(10,ua,2,1,"div",22),i.qZA()()()),2&se){const Y=He.$implicit;i.xp6(4),i.Oqu(Y.libelle),i.xp6(1),i.Q6J("ngIf","P25"==Y.codeRisque||"P26"==Y.codeRisque),i.xp6(1),i.Q6J("ngIf","date"==Y.typeChamp),i.xp6(1),i.Q6J("ngIf","Number"==Y.typeChamp),i.xp6(1),i.Q6J("ngIf","Liste of values"==Y.typeChamp),i.xp6(1),i.Q6J("ngIf","From Table"==Y.typeChamp),i.xp6(1),i.Q6J("ngIf","From Table"!=Y.typeChamp&&"Liste of values"!=Y.typeChamp&&"Number"!=Y.typeChamp&&"date"!=Y.typeChamp&&"P25"!=Y.codeRisque&&"P26"!=Y.codeRisque)}}function ks(se,He){if(1&se&&(i.ynx(0),i.TgZ(1,"mat-expansion-panel-header")(2,"mat-panel-title",20),i._uU(3),i.qZA()(),i.YNc(4,Os,11,7,"div",21),i.BQk()),2&se){const Y=i.oxw(),Ee=Y.$implicit,Ye=Y.index;i.xp6(3),i.hij(" ",null==Ee[Ye]?null:Ee[Ye].categorieParamRisque," "),i.xp6(1),i.Q6J("ngForOf",Ee)}}function ho(se,He){if(1&se&&(i.TgZ(0,"mat-expansion-panel",19),i.YNc(1,Ds,31,6,"ng-container",16),i.YNc(2,ks,5,2,"ng-container",16),i.qZA()),2&se){const Y=He.$implicit,Ee=He.index;i.Q6J("expanded",!0),i.xp6(1),i.Q6J("ngIf","Conducteur"==(null==Y[Ee]?null:Y[Ee].categorieParamRisque)),i.xp6(1),i.Q6J("ngIf","Conducteur"!=(null==Y[Ee]?null:Y[Ee].categorieParamRisque))}}function Kr(se,He){if(1&se&&(i.TgZ(0,"mat-accordion",17),i.YNc(1,ho,3,3,"mat-expansion-panel",18),i.qZA()),2&se){const Y=i.oxw();i.xp6(1),i.Q6J("ngForOf",Y.informationsRisque)}}function es(se,He){1&se&&(i.TgZ(0,"th",33),i._uU(1,"Description"),i.qZA())}function kl(se,He){if(1&se&&(i.TgZ(0,"td",34),i._uU(1),i.qZA()),2&se){const Y=He.$implicit;i.xp6(1),i.hij(" ",Y.description," ")}}function Ml(se,He){1&se&&i._UZ(0,"th",33)}function Yo(se,He){if(1&se){const Y=i.EpF();i.TgZ(0,"td",34)(1,"button",35),i.NdJ("click",function(){const Ct=i.CHM(Y).$implicit,sn=i.oxw(2);return i.KtG(sn.toggleRow(Ct))}),i.TgZ(2,"mat-icon"),i._uU(3),i.qZA()()()}if(2&se){const Y=He.$implicit,Ee=i.oxw(2);i.xp6(3),i.Oqu(Ee.expandedElement===Y?"expand_less":"expand_more")}}function Ua(se,He){if(1&se&&(i.TgZ(0,"th",33),i._uU(1),i.qZA()),2&se){const Y=i.oxw().$implicit;i.xp6(1),i.hij(" ",Y,"")}}function Ul(se,He){if(1&se&&(i.TgZ(0,"td",34),i._uU(1),i.ALo(2,"dateFormatPipe"),i.qZA()),2&se){const Y=He.$implicit,Ee=i.oxw(),Ye=Ee.$implicit,Ct=Ee.index;i.xp6(1),i.hij(" ","DateDeNaissance"!=Ye?Y.risque[Ct][Ye]:i.lcZ(2,1,Y.risque[Ct][Ye])," ")}}function dl(se,He){1&se&&(i.ynx(0,45),i.YNc(1,Ua,2,1,"th",25),i.YNc(2,Ul,3,3,"td",26),i.BQk()),2&se&&i.Q6J("matColumnDef",He.$implicit)}function tr(se,He){1&se&&(i.TgZ(0,"th",33),i._uU(1," Action "),i.qZA())}function Ms(se,He){if(1&se){const Y=i.EpF();i.TgZ(0,"td",34)(1,"button",46)(2,"mat-icon"),i._uU(3,"more_vert"),i.qZA()(),i.TgZ(4,"mat-menu",47,48)(6,"button",49),i.NdJ("click",function(){const Ct=i.CHM(Y).$implicit,sn=i.oxw(5);return i.KtG(sn.consultRisque(Ct.idRisque,sn.idGroupe))}),i.TgZ(7,"mat-icon"),i._uU(8,"zoom_in"),i.qZA(),i.TgZ(9,"span"),i._uU(10,"Consulter risque"),i.qZA()()()()}if(2&se){const Y=i.MAs(5);i.xp6(1),i.Q6J("matMenuTriggerFor",Y)}}function Dn(se,He){1&se&&i._UZ(0,"tr",50)}function ts(se,He){1&se&&i._UZ(0,"tr",51)}function Kl(se,He){if(1&se&&(i.TgZ(0,"div",39)(1,"table",40,41),i.YNc(3,dl,3,1,"ng-container",42),i.ynx(4,43),i.YNc(5,tr,2,0,"th",25),i.YNc(6,Ms,11,1,"td",26),i.BQk(),i.YNc(7,Dn,1,0,"tr",29),i.YNc(8,ts,1,0,"tr",44),i.qZA()()),2&se){const Y=i.oxw(2).$implicit,Ee=i.oxw(2);i.xp6(1),i.Q6J("dataSource",Y.risques),i.xp6(2),i.Q6J("ngForOf",Ee.displayedColumnsCol),i.xp6(4),i.Q6J("matHeaderRowDef",Ee.displayedColumnsRsInner),i.xp6(1),i.Q6J("matRowDefColumns",Ee.displayedColumnsRsInner)}}function ns(se,He){if(1&se&&(i.TgZ(0,"div",37),i.YNc(1,Kl,9,4,"div",38),i.qZA()),2&se){const Y=i.oxw().$implicit,Ee=i.oxw(2);i.Q6J("@detailExpand",Y==Ee.expandedElement?"expanded":"collapsed"),i.xp6(1),i.Q6J("ngIf",Ee.expandedElement)}}function Pa(se,He){if(1&se&&(i.TgZ(0,"td",34),i.YNc(1,ns,2,2,"div",36),i.qZA()),2&se){const Y=He.$implicit,Ee=i.oxw(2);i.uIk("colspan",Ee.displayedColumnsRs.length),i.xp6(1),i.Q6J("ngIf",null==Y.risques||null==Y.risques.data?null:Y.risques.data.length)}}function Ho(se,He){1&se&&i._UZ(0,"tr",50)}function ma(se,He){if(1&se&&i._UZ(0,"tr",51),2&se){const Y=He.$implicit,Ee=i.oxw(2);i.ekj("example-element-row",null==Y.risques||null==Y.risques.data?null:Y.risques.data.length)("example-expanded-row",Ee.expandedElement===Y)}}function wo(se,He){1&se&&i._UZ(0,"tr",52)}const Us=function(){return["expandedDetail"]},is=function(){return[5,10]};function _l(se,He){if(1&se&&(i.TgZ(0,"mat-accordion",17)(1,"table",23),i.ynx(2,24),i.YNc(3,es,2,0,"th",25),i.YNc(4,kl,2,1,"td",26),i.BQk(),i.ynx(5,27),i.YNc(6,Ml,1,0,"th",25),i.YNc(7,Yo,4,1,"td",26),i.BQk(),i.ynx(8,28),i.YNc(9,Pa,2,2,"td",26),i.BQk(),i.YNc(10,Ho,1,0,"tr",29),i.YNc(11,ma,1,4,"tr",30),i.YNc(12,wo,1,0,"tr",31),i.qZA(),i._UZ(13,"mat-paginator",32),i.qZA()),2&se){const Y=i.oxw();i.xp6(1),i.Q6J("dataSource",Y.dataSourceGroupes),i.xp6(9),i.Q6J("matHeaderRowDef",Y.displayedColumnsRs),i.xp6(1),i.Q6J("matRowDefColumns",Y.displayedColumnsRs),i.xp6(1),i.Q6J("matRowDefColumns",i.DdM(6,Us)),i.xp6(1),i.Q6J("pageSize",10)("pageSizeOptions",i.DdM(7,is))}}function Fs(se,He){1&se&&(i.TgZ(0,"th",33),i._uU(1," Garantie"),i.qZA())}function Fl(se,He){if(1&se&&(i.TgZ(0,"td",34),i._uU(1),i.qZA()),2&se){const Y=He.$implicit;i.xp6(1),i.hij(" ",Y.description," ")}}function Qs(se,He){1&se&&(i.TgZ(0,"th",33),i._uU(1," Plafond "),i.qZA())}function Ql(se,He){if(1&se&&(i.TgZ(0,"td",34),i._uU(1),i.qZA()),2&se){const Y=He.$implicit;i.xp6(1),i.hij(" ","0"!=Y.plafond?Y.plafond:"/"," ")}}function pl(se,He){1&se&&(i.TgZ(0,"th",33),i._uU(1," Franchise "),i.qZA())}function Jl(se,He){if(1&se&&(i.TgZ(0,"td",34),i._uU(1),i.qZA()),2&se){const Y=He.$implicit;i.xp6(1),i.hij(" ",Y.franchise," ")}}function Ce(se,He){1&se&&(i.TgZ(0,"th",33),i._uU(1," Formule "),i.qZA())}function mt(se,He){if(1&se&&(i.TgZ(0,"td",34),i._uU(1),i.qZA()),2&se){const Y=He.$implicit;i.xp6(1),i.hij(" ",Y.formule," ")}}function Pe(se,He){1&se&&(i.TgZ(0,"th",33),i._uU(1," Prime "),i.qZA())}function _t(se,He){if(1&se&&(i.TgZ(0,"td",34),i._uU(1),i.ALo(2,"money"),i.ALo(3,"number"),i.TgZ(4,"sup"),i._uU(5,"DA"),i.qZA()()),2&se){const Y=He.$implicit;i.xp6(1),i.hij(" ",i.lcZ(2,1,i.xi3(3,3,Y.prime,"1.0-0")),"")}}function yt(se,He){1&se&&i._UZ(0,"th",33)}function rn(se,He){if(1&se){const Y=i.EpF();i.TgZ(0,"button",35),i.NdJ("click",function(){i.CHM(Y);const Ye=i.oxw().$implicit,Ct=i.oxw(2);return i.KtG(Ct.expandedElementPack=Ct.expandedElementPack===Ye?null:Ye)}),i.TgZ(1,"mat-icon"),i._uU(2),i.qZA()()}if(2&se){const Y=i.oxw().$implicit,Ee=i.oxw(2);i.xp6(2),i.Oqu(Ee.expandedElementPack===Y?"indeterminate_check_box":"add_box")}}function eo(se,He){if(1&se&&(i.TgZ(0,"td",60),i.YNc(1,rn,3,1,"button",61),i.qZA()),2&se){const Y=He.$implicit,Ee=i.oxw(2);i.ekj("example-expanded-row",Ee.expandedElementPack===Y),i.xp6(1),i.Q6J("ngIf",0!=Y.sousGarantieList.data.length)}}function sr(se,He){1&se&&(i.TgZ(0,"th",33),i._uU(1," Sous garantie"),i.qZA())}function Dr(se,He){if(1&se&&(i.TgZ(0,"td",34),i._uU(1),i.qZA()),2&se){const Y=He.$implicit;i.xp6(1),i.hij(" ",Y.description," ")}}function wr(se,He){1&se&&(i.TgZ(0,"th",33),i._uU(1," Plafond "),i.qZA())}function Or(se,He){if(1&se&&(i.TgZ(0,"td",34),i._uU(1),i.qZA()),2&se){const Y=He.$implicit;i.xp6(1),i.hij(" ","0"!=Y.plafond?Y.plafond:"-"," ")}}function pr(se,He){1&se&&(i.TgZ(0,"th",33),i._uU(1," Franchise "),i.qZA())}function Za(se,He){if(1&se&&(i.TgZ(0,"td",34),i._uU(1),i.qZA()),2&se){const Y=He.$implicit;i.xp6(1),i.hij(" ",Y.franchise," ")}}function os(se,He){1&se&&(i.TgZ(0,"th",33),i._uU(1," Formule "),i.qZA())}function fl(se,He){if(1&se&&(i.TgZ(0,"td",34),i._uU(1),i.qZA()),2&se){const Y=He.$implicit;i.xp6(1),i.hij(" ",Y.formule," ")}}function Js(se,He){1&se&&(i.TgZ(0,"th",33),i._uU(1," Prime "),i.qZA())}function qa(se,He){if(1&se&&(i.TgZ(0,"td",34),i._uU(1),i.ALo(2,"money"),i.ALo(3,"number"),i.TgZ(4,"sup"),i._uU(5,"DA"),i.qZA()()),2&se){const Y=He.$implicit;i.xp6(1),i.hij(" ",i.lcZ(2,1,i.xi3(3,3,Y.prime,"1.0-0")),"")}}function Ac(se,He){1&se&&i._UZ(0,"th",33)}function Wo(se,He){1&se&&i._UZ(0,"td",34)}function qt(se,He){1&se&&i._UZ(0,"th",33)}function an(se,He){1&se&&i._UZ(0,"td",34)}function Gt(se,He){1&se&&i._UZ(0,"tr",50)}function Wn(se,He){1&se&&i._UZ(0,"tr",51)}function Qi(se,He){if(1&se&&(i.TgZ(0,"td",34)(1,"div",37)(2,"table",62),i.ynx(3,24),i.YNc(4,sr,2,0,"th",25),i.YNc(5,Dr,2,1,"td",26),i.BQk(),i.ynx(6,54),i.YNc(7,wr,2,0,"th",25),i.YNc(8,Or,2,1,"td",26),i.BQk(),i.ynx(9,55),i.YNc(10,pr,2,0,"th",25),i.YNc(11,Za,2,1,"td",26),i.BQk(),i.ynx(12,56),i.YNc(13,os,2,0,"th",25),i.YNc(14,fl,2,1,"td",26),i.BQk(),i.ynx(15,57),i.YNc(16,Js,2,0,"th",25),i.YNc(17,qa,6,6,"td",26),i.BQk(),i.ynx(18,63),i.YNc(19,Ac,1,0,"th",25),i.YNc(20,Wo,1,0,"td",26),i.BQk(),i.ynx(21,64),i.YNc(22,qt,1,0,"th",25),i.YNc(23,an,1,0,"td",26),i.BQk(),i.YNc(24,Gt,1,0,"tr",29),i.YNc(25,Wn,1,0,"tr",44),i.qZA()()()),2&se){const Y=He.$implicit,Ee=i.oxw(2);i.uIk("colspan",Ee.displayedColumnsPack.length),i.xp6(1),i.Q6J("@detailExpand",Y==Ee.expandedElementPack?"expanded":"collapsed"),i.xp6(1),i.Q6J("dataSource",Y.sousGarantieList),i.xp6(22),i.Q6J("matHeaderRowDef",Ee.displayedColumnsPackSousGarantie),i.xp6(1),i.Q6J("matRowDefColumns",Ee.displayedColumnsPackSousGarantie)}}function xo(se,He){1&se&&i._UZ(0,"tr",50)}function lr(se,He){1&se&&i._UZ(0,"tr",51)}function ue(se,He){1&se&&i._UZ(0,"tr",52)}function je(se,He){if(1&se&&(i.TgZ(0,"mat-expansion-panel",4)(1,"mat-expansion-panel-header")(2,"mat-panel-title"),i._uU(3),i.qZA()(),i.TgZ(4,"table",53),i.ynx(5,24),i.YNc(6,Fs,2,0,"th",25),i.YNc(7,Fl,2,1,"td",26),i.BQk(),i.ynx(8,54),i.YNc(9,Qs,2,0,"th",25),i.YNc(10,Ql,2,1,"td",26),i.BQk(),i.ynx(11,55),i.YNc(12,pl,2,0,"th",25),i.YNc(13,Jl,2,1,"td",26),i.BQk(),i.ynx(14,56),i.YNc(15,Ce,2,0,"th",25),i.YNc(16,mt,2,1,"td",26),i.BQk(),i.ynx(17,57),i.YNc(18,Pe,2,0,"th",25),i.YNc(19,_t,6,6,"td",26),i.BQk(),i.ynx(20,58),i.YNc(21,yt,1,0,"th",25),i.YNc(22,eo,2,3,"td",59),i.BQk(),i.ynx(23,28),i.YNc(24,Qi,26,5,"td",26),i.BQk(),i.YNc(25,xo,1,0,"tr",29),i.YNc(26,lr,1,0,"tr",44),i.YNc(27,ue,1,0,"tr",31),i.qZA()()),2&se){const Y=i.oxw();i.Q6J("expanded",!0),i.xp6(3),i.hij(' Pack "',Y.informationsContrat.pack,'" '),i.xp6(1),i.Q6J("dataSource",Y.dataSourcePack),i.xp6(21),i.Q6J("matHeaderRowDef",Y.displayedColumnsPack),i.xp6(1),i.Q6J("matRowDefColumns",Y.displayedColumnsPack),i.xp6(1),i.Q6J("matRowDefColumns",i.DdM(6,Us))}}function z(se,He){if(1&se&&(i.ynx(0),i.TgZ(1,"td"),i._uU(2),i.qZA(),i.TgZ(3,"td"),i._uU(4),i.ALo(5,"money"),i.ALo(6,"number"),i.TgZ(7,"sup"),i._uU(8,"DA"),i.qZA()(),i.BQk()),2&se){const Y=i.oxw().$implicit;i.xp6(2),i.Oqu(Y.typePrime.description),i.xp6(2),i.hij("",i.lcZ(5,2,i.xi3(6,4,Y.prime,"1.0-0"))," ")}}function ge(se,He){if(1&se&&(i.TgZ(0,"tr"),i.YNc(1,z,9,7,"ng-container",16),i.qZA()),2&se){const Y=He.$implicit;i.xp6(1),i.Q6J("ngIf",101==Y.typePrime.idParam)}}function we(se,He){if(1&se&&(i.TgZ(0,"tr")(1,"td"),i._uU(2),i.qZA(),i.TgZ(3,"td"),i._uU(4),i.ALo(5,"money"),i.ALo(6,"number"),i.TgZ(7,"sup"),i._uU(8,"DA"),i.qZA()()()),2&se){const Y=He.$implicit;i.xp6(2),i.Oqu(Y.taxe.description),i.xp6(2),i.hij("",i.lcZ(5,2,i.xi3(6,4,Y.prime,"1.0-0"))," ")}}function wt(se,He){if(1&se&&(i.ynx(0),i.TgZ(1,"td",65),i._uU(2),i.qZA(),i.TgZ(3,"td",65),i._uU(4),i.ALo(5,"money"),i.ALo(6,"number"),i.TgZ(7,"sup"),i._uU(8,"DA"),i.qZA()(),i.BQk()),2&se){const Y=i.oxw().$implicit;i.xp6(2),i.Oqu(Y.typePrime.description),i.xp6(2),i.hij("",i.lcZ(5,2,i.xi3(6,4,Y.prime,"1.0-0"))," ")}}function st(se,He){if(1&se&&(i.TgZ(0,"tr"),i.YNc(1,wt,9,7,"ng-container",16),i.qZA()),2&se){const Y=He.$implicit;i.xp6(1),i.Q6J("ngIf",186==Y.typePrime.idParam)}}const Tn=function(se){return[se]};let Qo=(()=>{class se{constructor(Y,Ee,Ye,Ct,sn,Pn,fn,ui){this.router=Y,this.authentificationService=Ee,this.dialog=Ye,this.cd=Ct,this.genericService=sn,this.route=Pn,this.devisService=fn,this.contratService=ui,this.dataSourcePack=new me.by,this.displayedColumnsPack=["description","plafond","franchise","formule","prime","sousGarantie"],this.displayedColumnsPackSousGarantie=["description","plafond","franchise","formule","prime","empty1","empty2"],this.displayedColumnsPrime=["description","prime"],this.informationsAssure=[],this.informationsSouscripteur=[],this.informationsConducteur=[],this.informationsContrat=[],this.informationsPack=[],this.informationsPrime=[],this.categoriesRisque=[],this.displayedColumnsRs=["description","more"],this.displayedColumnsRsInner=[],this.displayedColumnsCol=[],this.dataSourceGroupes=new me.by,this.res=[],this.valeurVenale=0,this.multiRisque=!1,this.sousGarantieTab=[]}ngOnInit(){var Y=this;this.idContrat=this.route.snapshot.paramMap.get("idContrat"),this.produit=this.route.snapshot.paramMap.get("nomProduit"),this.getInfoProduit(),this.contratService.getContratById(this.idContrat).subscribe({next:Ee=>{if(this.contrat=Ee,this.getUserById(Ee.auditUser),Ee?.personnesList.forEach(Ye=>{switch(Ye?.role?.code){case"CP233":this.informationsConducteur={nom:Ye.personne.nom,prenom:Ye.personne.prenom1,dateNaissance:Ye.personne.dateNaissance,categoriePermis:Ye.personne.documentList?.find(Ct=>5==Ct.typeDocument?.idParam)?.sousCategorie,dateDelivrance:Ye.personne.documentList?.find(Ct=>5==Ct.typeDocument?.idParam)?.dateDelivrance,email:Ye.personne.contactList?.find(Ct=>8==Ct.typeContact?.idParam)?.description,tel:Ye.personne.contactList?.find(Ct=>7==Ct.typeContact?.idParam)?.description};break;case"CP234":this.informationsSouscripteur={raisonSocial:Ye.personne.raisonSocial,nom:Ye.personne.nom,prenom:Ye.personne.prenom1,email:Ye.personne.contactList?.find(Ct=>8==Ct.typeContact?.idParam)?.description,tel:Ye.personne.contactList?.find(Ct=>7==Ct.typeContact?.idParam)?.description};break;case"CP235":this.informationsAssure={typeClient:Ee?.typeClient?.description,raisonSocial:Ye.personne.raisonSocial,nom:Ye.personne.nom,prenom:Ye.personne.prenom1,email:Ye.personne.contactList?.find(Ct=>8==Ct.typeContact?.idParam)?.description,tel:Ye.personne.contactList?.find(Ct=>7==Ct.typeContact?.idParam)?.description};break;case"CP236":console.log("here"),this.informationsAssure={typeClient:Ee?.typeClient.description,raisonSocial:Ye?.personne.raisonSocial,nom:Ye?.personne.nom,prenom:Ye?.personne.prenom1,email:Ye?.personne.contactList?.find(Ct=>8==Ct.typeContact?.idParam)?.description,tel:Ye?.personne.contactList?.find(Ct=>7==Ct.typeContact?.idParam)?.description},this.informationsSouscripteur={raisonSocial:Ye.personne?.raisonSocial,nom:Ye.personne?.nom,prenom:Ye.personne.prenom1,email:Ye.personne?.contactList?.find(Ct=>8==Ct.typeContact?.idParam)?.description,tel:Ye.personne.contactList?.find(Ct=>7==Ct.typeContact?.idParam)?.description};break;case"CP237":this.informationsSouscripteur={raisonSocial:Ye.personne.raisonSocial,nom:Ye.personne.nom,prenom:Ye.personne.prenom1,email:Ye.personne.contactList?.find(Ct=>8==Ct.typeContact?.idParam)?.description,tel:Ye.personne.contactList?.find(Ct=>7==Ct.typeContact?.idParam)?.description},this.informationsConducteur={nom:Ye.personne.nom,prenom:Ye.personne.prenom1,dateNaissance:Ye.personne.dateNaissance,categoriePermis:Ye.personne.documentList?.find(Ct=>5==Ct.typeDocument?.idParam)?.sousCategorie,dateDelivrance:Ye.personne.documentList?.find(Ct=>5==Ct.typeDocument?.idParam)?.dateDelivrance,email:Ye.personne.contactList?.find(Ct=>8==Ct.typeContact?.idParam)?.description,tel:Ye.personne.contactList?.find(Ct=>7==Ct.typeContact?.idParam)?.description};break;case"CP238":this.informationsAssure={typeClient:Ee.typeClient.description,raisonSocial:Ye.personne.raisonSocial,nom:Ye.personne.nom,prenom:Ye.personne.prenom1,email:Ye.personne.contactList?.find(Ct=>8==Ct.typeContact?.idParam)?.description,tel:Ye.personne.contactList?.find(Ct=>7==Ct.typeContact?.idParam)?.description},this.informationsSouscripteur={raisonSocial:Ye.personne.raisonSocial,nom:Ye.personne.nom,prenom:Ye.personne.prenom1,email:Ye.personne.contactList?.find(Ct=>8==Ct.typeContact?.idParam)?.description,tel:Ye.personne.contactList?.find(Ct=>7==Ct.typeContact?.idParam)?.description},this.informationsConducteur={nom:Ye.personne.nom,prenom:Ye.personne.prenom1,dateNaissance:Ye.personne.dateNaissance,categoriePermis:Ye.personne.documentList?.find(Ct=>5==Ct.typeDocument?.idParam)?.sousCategorie,dateDelivrance:Ye.personne.documentList?.find(Ct=>5==Ct.typeDocument?.idParam)?.dateDelivrance,email:Ye.personne.contactList?.find(Ct=>8==Ct.typeContact?.idParam)?.description,tel:Ye.personne.contactList?.find(Ct=>7==Ct.typeContact?.idParam)?.description}}}),"DV"==Ee?.canal?.code&&(this.informationsSouscripteur={raisonSocial:"",nom:Ee.userResponse?.nom,prenom:Ee.userResponse?.prenom,email:Ee.userResponse?.email,tel:Ee.userResponse?.telephone}),this.idDevis=Ee.idDevis,this.informationsContrat={duree:Ee.duree.description,agence:Ee.agence?.raisonSocial,dateEffet:Ee.dateEffet,dateExpiration:Ee.dateExpiration,statut:Ee.statue.description,quittance:Ee.quittanceList,pack:Ee.groupeList[0]?.pack?.description,reduction:Ee.descriptionReduction,convention:Ee.descriptionConvention},0!=Ee.groupeList.length)if(this.multiRisque||this.consultRisque(Ee.groupeList[0].risques[0].idRisque,Ee.groupeList[0].idGroupe),this.multiRisque){let Ye=[];const Ct=Ee.groupeList;Ct.forEach(sn=>{sn.risques.forEach(Pn=>{Pn.risque.forEach(fn=>{fn.colonne=fn.colonne.split(" ").map(bi=>bi.charAt(0).toUpperCase()+bi.substring(1)).join("").replace(/[\xb0']/g,""),this.displayedColumnsRsInner=this.displayedColumnsRsInner.includes(fn.colonne)?this.displayedColumnsRsInner:[...this.displayedColumnsRsInner,fn.colonne],this.displayedColumnsCol=this.displayedColumnsCol.includes(fn.colonne)?this.displayedColumnsCol:[...this.displayedColumnsCol,fn.colonne];const ui=Pn.risque.find(bi=>bi.colonne===fn.colonne);ui&&(ui[fn.colonne]=fn.valeur,delete ui.colonne,delete ui.valeur)})})}),this.displayedColumnsRsInner.push("action"),Ct.forEach(sn=>{sn.risques&&Array.isArray(sn.risques)&&sn.risques.length?(sn.risques.idGroupe=sn.idGroupe,Ye=[...Ye,{...sn,risques:new me.by(sn.risques)}]):Ye=[...Ye,sn]}),this.dataSourceGroupes=new me.by(Ye),this.dataSourceGroupes.paginator=this.paginator}else this.contratService.getPackIdRisque(this.idContrat,Ee.groupeList[0].risques[0].idRisque).subscribe({next:(Ye=(0,h.Z)(function*(Ct){Ct.garantieList?.map(sn=>{let Pn="-",fn="-",ui="-";(sn.prime&&"0.0"!=sn.prime||"95"!=Ee?.produit?.codeProduit)&&(sn.sousGarantieList?.filter(bi=>{let to="-",fo="-",Xo="-";bi.categorieList.map(Ur=>{"C15"==Ur.code?Xo=Ur.valeur:"C16"==Ur.code?fo=Ur.valeur:"C7"==Ur.code&&("0"==Ur.valeur&&(Ur.valeur=Y.valeurVenale),to=Ur.valeur)}),Y.sousGarantieTab.push({idGarantie:bi.idGarantie,description:bi.description,prime:bi.prime,plafond:"-"!=to?Number(to).toLocaleString("fi-FI",{minimumFractionDigits:2,maximumFractionDigits:2}):to,formule:"-"!=fo?Number(fo).toLocaleString("fi-FI",{minimumFractionDigits:2,maximumFractionDigits:2}):fo,franchise:"-"!=Xo?Number(Xo).toLocaleString("fi-FI",{minimumFractionDigits:2,maximumFractionDigits:2}):Xo})}),sn.categorieList.map(bi=>{"C15"==bi.code?ui=bi.valeur:"C16"==bi.code?fn=bi.valeur:"C7"==bi.code&&("0"==bi.valeur&&(bi.valeur=Y.valeurVenale),Pn=bi.valeur)}),Y.informationsPack.push({idGarantie:sn.idGarantie,description:sn.description,prime:sn.prime,plafond:"-"!=Pn?Number(Pn).toLocaleString("fi-FI",{minimumFractionDigits:2,maximumFractionDigits:2}):Pn,formule:"-"!=fn?Number(fn).toLocaleString("fi-FI",{minimumFractionDigits:2,maximumFractionDigits:2}):fn,franchise:"-"!=ui?Number(ui).toLocaleString("fi-FI",{minimumFractionDigits:2,maximumFractionDigits:2}):ui,sousGarantieList:new me.by(Y.sousGarantieTab)})),Y.sousGarantieTab=[]}),Y.dataSourcePack=new me.by(Y.informationsPack),Y.dataSourcePack=new me.by(Y.informationsPack)}),function(sn){return Ye.apply(this,arguments)}),error:Ye=>{console.log(Ye)}});else Q().fire({title:"Erreur lors de la lecture du contrat",icon:"info",allowOutsideClick:!1,confirmButtonText:"Ok",width:600}).then(Ye=>{Ye.isConfirmed&&this.router.navigate(["/"])});var Ye;this.dataSourcePrime=Ee.primeList,this.dataSourceTaxe=Ee.taxeList},error:Ee=>{console.log(Ee)}})}getUserById(Y){this.authentificationService.getByUserId(Y).subscribe({next:Ee=>{this.auditUser=Ee.nom+" "+Ee.prenom},error:Ee=>{console.log(Ee)}})}toggleRow(Y){this.dataSourceGroupes.data.indexOf(Y),this.idGroupe=Y.idGroupe,Y.risques&&Y.risques.data.length&&(this.expandedElement=this.expandedElement===Y?null:Y),this.cd.detectChanges(),this.innerTables.forEach((Ee,Ye)=>Ee.dataSource.sort=this.innerSort.toArray()[Ye])}getInfoProduit(){let Y=JSON.parse(sessionStorage.getItem("products")||"{}").find(Ee=>Ee.codeProduit==this.route.snapshot.paramMap.get("codeProduit")).idProduit;this.genericService.getPorduitById(Y).subscribe({next:Ee=>{this.multiRisque="Oui"==Ee.param_Produit_Reponses.filter(Ye=>"multirisque"==Ye.idParamProduit.libelle)[0].reponse.description},error:Ee=>{console.log(Ee)}})}consultRisque(Y,Ee){this.contratService.getParamContratByIdRisque(this.idContrat,Ee,Y).subscribe({next:Ye=>{this.datasParam=Ye,this.multiRisque||(this.informationsRisque=this.datasParam.reduce((Ct,sn)=>("P40"==sn?.codeParam&&(this.valeurVenale=sn.valeur),(Ct[sn.categorieParamRisque]=Ct[sn.categorieParamRisque]||[]).push(sn),Ct),{}),this.informationsRisque=Object.values(this.informationsRisque),console.log(this.informationsRisque)),this.multiRisque&&this.contratService.getPackIdRisque(this.idContrat,Y).subscribe({next:Ct=>{this.openDialog(Ye,Ct)},error:Ct=>{console.log(Ct)}})},error:Ye=>{console.log(Ye)}})}openDialog(Y,Ee){this.dialog.open(_o.T,{width:"60%",data:{paramRisque:Y,pack:Ee}}).afterClosed().subscribe(Ct=>{})}}return se.\u0275fac=function(Y){return new(Y||se)(i.Y36(K.F0),i.Y36(Xa.g),i.Y36(l.uw),i.Y36(i.sBO),i.Y36(Ft.M),i.Y36(K.gz),i.Y36(nn.J),i.Y36(he.H))},se.\u0275cmp=i.Xpm({type:se,selectors:[["app-consult-contrat-vie"]],viewQuery:function(Y,Ee){if(1&Y&&(i.Gf(Wa.NW,5),i.Gf(ul,5),i.Gf(si,5)),2&Y){let Ye;i.iGM(Ye=i.CRH())&&(Ee.paginator=Ye.first),i.iGM(Ye=i.CRH())&&(Ee.innerTables=Ye),i.iGM(Ye=i.CRH())&&(Ee.innerSort=Ye)}},decls:115,vars:30,consts:[[1,"container"],[1,"header-title"],["aria-hidden","false","matTooltip","Retour","matTooltipPosition","left",1,"material-symbols-outlined",3,"routerLink"],["multi","",1,"example-headers-align"],["hideToggle","",3,"expanded"],[1,"container",2,"padding","1rem 2rem"],[1,"row","infos"],[1,"col-md-6"],[1,"row"],[1,"col-md-6","key"],[1,"col-md-6","value"],[4,"ngFor","ngForOf"],["multi","",4,"ngIf","ngIfElse"],["multirisque",""],["hideToggle","",3,"expanded",4,"ngIf"],[1,"resume"],[4,"ngIf"],["multi",""],["hideToggle","","class","panel-risque",3,"expanded",4,"ngFor","ngForOf"],["hideToggle","",1,"panel-risque",3,"expanded"],[1,"categoryTitle"],["class","row infos ",4,"ngFor","ngForOf"],["class","col-md-6 value",4,"ngIf"],["mat-table","","multiTemplateDataRows","",1,"gestion-table",3,"dataSource"],["matColumnDef","description"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","more"],["matColumnDef","expandedDetail"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",3,"example-element-row","example-expanded-row",4,"matRowDef","matRowDefColumns"],["mat-row","","class","example-detail-row",4,"matRowDef","matRowDefColumns"],["aria-label","Select page of users",3,"pageSize","pageSizeOptions"],["mat-header-cell",""],["mat-cell",""],["mat-icon-button","","type","button","aria-label","",3,"click"],["class","example-element-detail",4,"ngIf"],[1,"example-element-detail"],["class","inner-table mat-elevation-z8",4,"ngIf"],[1,"inner-table","mat-elevation-z8"],["mat-table","","matSort","",1,"",3,"dataSource"],["innerTables",""],[3,"matColumnDef",4,"ngFor","ngForOf"],["matColumnDef","action"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"matColumnDef"],["mat-icon-button","","type","button","aria-label","menu contrat list",3,"matMenuTriggerFor"],["xPosition","after",1,"menu-contrat"],["menu","matMenu"],["mat-menu-item","","type","button",3,"click"],["mat-header-row",""],["mat-row",""],["mat-row","",1,"example-detail-row"],["mat-table","","multiTemplateDataRows","",1,"pack-table",3,"dataSource"],["matColumnDef","plafond"],["matColumnDef","franchise"],["matColumnDef","formule"],["matColumnDef","prime"],["matColumnDef","sousGarantie"],["mat-cell","","class","example-element-row",3,"example-expanded-row",4,"matCellDef"],["mat-cell","",1,"example-element-row"],["mat-icon-button","","type","button","aria-label","",3,"click",4,"ngIf"],["mat-table","","multiTemplateDataRows","",1,"pack-table","innertable",3,"dataSource"],["matColumnDef","empty1"],["matColumnDef","empty2"],[1,"primeTotale"]],template:function(Y,Ee){if(1&Y&&(i.TgZ(0,"div",0)(1,"h2",1)(2,"mat-icon",2),i._uU(3,"arrow_circle_left"),i.qZA(),i._uU(4),i.qZA(),i.TgZ(5,"mat-accordion",3)(6,"mat-expansion-panel",4)(7,"mat-expansion-panel-header")(8,"mat-panel-title"),i._uU(9," Contrat "),i.qZA()(),i.TgZ(10,"div",5)(11,"div",6)(12,"div",7)(13,"div",8)(14,"div",9),i._uU(15,"Date d'Effet: "),i.qZA(),i.TgZ(16,"div",10),i._uU(17),i.ALo(18,"dateFormatPipe"),i.qZA()()(),i.TgZ(19,"div",7)(20,"div",8)(21,"div",9),i._uU(22,"Date d'Expiration: "),i.qZA(),i.TgZ(23,"div",10),i._uU(24),i.ALo(25,"dateFormatPipe"),i.qZA()()()(),i.TgZ(26,"div",6)(27,"div",7)(28,"div",8)(29,"div",9),i._uU(30,"Statut: "),i.qZA(),i.TgZ(31,"div",10),i._uU(32),i.qZA()()()(),i.TgZ(33,"div",6)(34,"div",7)(35,"div",8)(36,"div",9),i._uU(37,"Agence: "),i.qZA(),i.TgZ(38,"div",10),i._uU(39),i.qZA()()(),i.TgZ(40,"div",7)(41,"div",8)(42,"div",9),i._uU(43,"Quittance: "),i.qZA(),i.TgZ(44,"div",10),i.YNc(45,ml,3,2,"ng-container",11),i.qZA()()()(),i.TgZ(46,"div",6)(47,"div",7)(48,"div",8)(49,"div",9),i._uU(50,"Convention: "),i.qZA(),i.TgZ(51,"div",10),i._uU(52),i.qZA()()(),i.TgZ(53,"div",7)(54,"div",8)(55,"div",9),i._uU(56,"Reduction: "),i.qZA(),i.TgZ(57,"div",10),i._uU(58),i.qZA()()()(),i.TgZ(59,"div",6)(60,"div",7)(61,"div",8)(62,"div",9),i._uU(63,"Audit User: "),i.qZA(),i.TgZ(64,"div",10),i._uU(65),i.qZA()()(),i._UZ(66,"div",7),i.qZA()()(),i.TgZ(67,"mat-expansion-panel",4)(68,"mat-expansion-panel-header")(69,"mat-panel-title"),i._uU(70," Information souscripteur "),i.qZA()(),i.TgZ(71,"div",5)(72,"div",6)(73,"div",7)(74,"div",8)(75,"div",9),i._uU(76,"Nom: "),i.qZA(),i.TgZ(77,"div",10),i._uU(78),i.qZA()()(),i.TgZ(79,"div",7)(80,"div",8)(81,"div",9),i._uU(82,"Pr\xe9nom:"),i.qZA(),i.TgZ(83,"div",10),i._uU(84),i.qZA()()()(),i.TgZ(85,"div",6)(86,"div",7)(87,"div",8)(88,"div",9),i._uU(89,"Email: "),i.qZA(),i.TgZ(90,"div",10),i._uU(91),i.qZA()()(),i.TgZ(92,"div",7)(93,"div",8)(94,"div",9),i._uU(95,"T\xe9l\xe9phone:"),i.qZA(),i.TgZ(96,"div",10),i._uU(97),i.qZA()()()()()(),i.TgZ(98,"mat-expansion-panel",4)(99,"mat-expansion-panel-header")(100,"mat-panel-title"),i._uU(101," Informations du risque "),i.qZA()(),i.TgZ(102,"div",5),i.YNc(103,Kr,2,1,"mat-accordion",12),i.YNc(104,_l,14,8,"ng-template",null,13,i.W1O),i.qZA()(),i.YNc(106,je,28,7,"mat-expansion-panel",14),i.TgZ(107,"mat-expansion-panel",4)(108,"mat-expansion-panel-header")(109,"mat-panel-title"),i._uU(110," Prime "),i.qZA()(),i.TgZ(111,"table",15),i.YNc(112,ge,2,1,"tr",11),i.YNc(113,we,9,7,"tr",11),i.YNc(114,st,2,1,"tr",11),i.qZA()()()()),2&Y){const Ye=i.MAs(105);i.xp6(2),i.Q6J("routerLink",i.VKq(28,Tn,"/consultation-police/vie/"+(null==Ee.contrat?null:Ee.contrat.produit.codeProduit)+"/"+Ee.produit)),i.xp6(2),i.hij(" Consultation police N\xb0",Ee.idContrat,""),i.xp6(2),i.Q6J("expanded",!0),i.xp6(11),i.hij("",i.lcZ(18,24,Ee.informationsContrat.dateEffet)," "),i.xp6(7),i.hij("",i.lcZ(25,26,Ee.informationsContrat.dateExpiration)," "),i.xp6(8),i.Oqu(Ee.informationsContrat.statut),i.xp6(7),i.Oqu(Ee.informationsContrat.agence),i.xp6(6),i.Q6J("ngForOf",null==Ee.informationsContrat?null:Ee.informationsContrat.quittance),i.xp6(7),i.Oqu(Ee.informationsContrat.convention),i.xp6(6),i.Oqu(Ee.informationsContrat.reduction),i.xp6(7),i.Oqu(Ee.auditUser),i.xp6(2),i.Q6J("expanded",!0),i.xp6(11),i.Oqu(Ee.informationsSouscripteur.nom),i.xp6(6),i.hij("",Ee.informationsSouscripteur.prenom," "),i.xp6(7),i.Oqu(Ee.informationsSouscripteur.email),i.xp6(6),i.hij("",Ee.informationsSouscripteur.tel," "),i.xp6(1),i.Q6J("expanded",!0),i.xp6(5),i.Q6J("ngIf",!Ee.multiRisque)("ngIfElse",Ye),i.xp6(3),i.Q6J("ngIf",!Ee.multiRisque),i.xp6(1),i.Q6J("expanded",!0),i.xp6(5),i.Q6J("ngForOf",Ee.dataSourcePrime),i.xp6(1),i.Q6J("ngForOf",Ee.dataSourceTaxe),i.xp6(1),i.Q6J("ngForOf",Ee.dataSourcePrime)}},dependencies:[Se.sg,Se.O5,_n.Hw,xn.pp,xn.ib,xn.yz,xn.yK,Do.VK,Do.OP,Do.p6,me.BZ,me.fO,me.as,me.w1,me.Dz,me.nj,me.ge,me.ev,me.XQ,me.Gk,$r.gM,Wa.NW,Vo.lW,K.rH,Se.JJ,cl.y,Yn.X],styles:[".container[_ngcontent-%COMP%]{background-color:#fff;padding:40px 0;height:100%;overflow-y:auto;overflow-x:hidden}.gestion-table[_ngcontent-%COMP%]{width:100%}.gestion-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .gestion-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:16px}.gestion-table[_ngcontent-%COMP%]   .mat-header-cell[_ngcontent-%COMP%]{color:#00008f;font-weight:600}.gestion-table[_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]:nth-child(even), .gestion-table[_ngcontent-%COMP%]   .mat-header-row[_ngcontent-%COMP%]{background-color:#f7f7f9}.gestion-table[_ngcontent-%COMP%]   .mat-paginator[_ngcontent-%COMP%]{background-color:transparent;margin:20px auto auto;width:80%}.gestion-table[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{height:100%;font-size:26px;color:#00008f;width:-moz-fit-content;width:fit-content}.mat-menu-item[_ngcontent-%COMP%]{font-size:15px}.mat-menu-item[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:18px;height:-moz-fit-content;height:fit-content}.mat-menu-item[_ngcontent-%COMP%]:hover:not([disabled]), .mat-menu-item[_ngcontent-%COMP%]:hover:not([disabled])   .mat-icon[_ngcontent-%COMP%]{color:#00008f}.header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:0px 2rem}.header[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{height:-moz-fit-content;height:fit-content;font-size:29px;margin-right:1rem;width:-moz-fit-content;width:fit-content}.title-table[_ngcontent-%COMP%]{margin-bottom:0rem;font-weight:800!important;font-size:23px!important;color:#00008f!important}.container[_ngcontent-%COMP%]{background-color:#fff;padding:40px 0;height:100%;overflow-x:hidden;box-shadow:0 .5rem 1rem #00000026}.mat-expansion-panel-header[_ngcontent-%COMP%]{background:rgba(199,199,199,.2)!important;font-weight:600;font-size:16px}.mat-expansion-panel-header.mat-expanded[_ngcontent-%COMP%]{height:48px}.mat-expansion-panel-header-title[_ngcontent-%COMP%]{color:#00008f}.mat-expansion-panel[_ngcontent-%COMP%]:not([class*=mat-elevation-z]){box-shadow:none}.row.infos[_ngcontent-%COMP%]{font-size:16px;margin-bottom:2rem;font-weight:600}.panel-risque[_ngcontent-%COMP%]   .row.infos[_ngcontent-%COMP%]{margin-left:10px;margin-top:10px}.panel-risque[_ngcontent-%COMP%]{width:70%}.categoryTitle[_ngcontent-%COMP%]{text-transform:capitalize}.value[_ngcontent-%COMP%]{color:#00008f;font-weight:600}h2.header-title[_ngcontent-%COMP%]{padding:0 24px;font-size:21px!important;color:#00008f;font-weight:600!important;letter-spacing:1px;display:flex;justify-content:space-between}table.pack-table[_ngcontent-%COMP%]{width:100%;margin-top:1rem}.mat-header-row[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{color:#00008f}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:16px;font-weight:600;border-right:1px solid #e7e7e7;padding-left:1rem}.mat-header-cell[_ngcontent-%COMP%]{color:#333;font-weight:600;letter-spacing:.5px;font-size:15px}table.resume[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;border-spacing:0 19px}table.resume[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:17px;padding:12px 19px;border:1px solid rgba(0,0,0,.12)}.resume-buttons[_ngcontent-%COMP%]{margin-top:4rem;width:50%;display:flex;justify-content:space-between}.resume-buttons[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{margin-right:9px;font-size:24px}.mat-column-expandedDetail[_ngcontent-%COMP%]{padding-left:0!important;padding-right:0!important}.example-element-detail[_ngcontent-%COMP%]{overflow:hidden;display:flex}tr.example-detail-row[_ngcontent-%COMP%]{height:0}.mat-column-expandedDetail[_ngcontent-%COMP%]{padding:0}.mat-cell[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]:hover, .mat-header-cell[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]:hover{color:#d14723;cursor:pointer}.mat-cell[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{color:#00008f}.innertable[_ngcontent-%COMP%]{background-color:#f7f7f9}.cdk-column-expandedDetail[_ngcontent-%COMP%]{border-bottom-width:0px}.mat-menu-item[_ngcontent-%COMP%]{font-size:16px}.mat-icon[_ngcontent-%COMP%]{margin-right:16px;font-size:21px;height:-moz-fit-content;height:fit-content}.mat-menu-item[_ngcontent-%COMP%]:hover:not([disabled]){color:#00008f}.mat-menu-item[_ngcontent-%COMP%]:hover:not([disabled])   .mat-icon[_ngcontent-%COMP%]{color:#00008f}.inner-table[_ngcontent-%COMP%], .inner-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%}"],data:{animation:[(0,Tr.X$)("detailExpand",[(0,Tr.SB)("collapsed",(0,Tr.oB)({height:"0px",minHeight:"0",display:"none"})),(0,Tr.SB)("expanded",(0,Tr.oB)({height:"*"})),(0,Tr.eR)("expanded <=> collapsed",(0,Tr.jt)("225ms cubic-bezier(0.4, 0.0, 0.2, 1)"))])]}}),se})();var li=B(4128),To=B(7331),Mo=B(5050);function Zo(se,He){if(1&se&&(i.ynx(0),i.TgZ(1,"mat-option",24),i._uU(2),i.qZA(),i.BQk()),2&se){const Y=He.$implicit;i.xp6(1),i.Q6J("value",Y.idAgence),i.xp6(1),i.hij(" ",Y.nomAgence," ")}}function Wl(se,He){if(1&se&&(i.TgZ(0,"div",25),i._uU(1),i.qZA()),2&se){const Y=i.oxw();i.xp6(1),i.Oqu(Y.errorHandler.msg)}}function eu(se,He){1&se&&(i.TgZ(0,"th",37),i._uU(1," N\xb0. "),i.qZA())}function Tc(se,He){if(1&se&&(i.TgZ(0,"td",38),i._uU(1),i.qZA()),2&se){const Y=He.$implicit;i.xp6(1),i.hij(" ",Y.idContrat," ")}}function Uo(se,He){1&se&&(i.TgZ(0,"th",37),i._uU(1," Date d'effet "),i.qZA())}function Ls(se,He){if(1&se&&(i.TgZ(0,"td",38),i._uU(1),i.ALo(2,"dateFormatPipe"),i.qZA()),2&se){const Y=He.$implicit;i.xp6(1),i.hij(" ",i.lcZ(2,1,Y.dateEffet)," ")}}function sc(se,He){1&se&&(i.TgZ(0,"th",37),i._uU(1," Agence "),i.qZA())}function Yc(se,He){if(1&se&&(i.TgZ(0,"td",38),i._uU(1),i.qZA()),2&se){const Y=He.$implicit;i.xp6(1),i.hij(" ",Y.agence," ")}}function Go(se,He){1&se&&(i.TgZ(0,"th",37),i._uU(1," Nom ou Raison sociale"),i.qZA())}function yi(se,He){if(1&se&&(i.ynx(0),i._uU(1),i.ALo(2,"slice"),i.ALo(3,"slice"),i.BQk()),2&se){const Y=i.oxw().$implicit;i.xp6(1),i.AsE("",i.Dn7(2,2,null==Y?null:Y.nom,0,50)," ",i.Dn7(3,6,null==Y?null:Y.prenom,0,50),"")}}function Wr(se,He){if(1&se&&(i._uU(0),i.ALo(1,"slice")),2&se){const Y=i.oxw().$implicit;i.hij("",i.Dn7(1,1,null==Y?null:Y.raisonSocial,0,50)," ")}}function Li(se,He){if(1&se&&(i.TgZ(0,"td",38),i.YNc(1,yi,4,10,"ng-container",39),i.YNc(2,Wr,2,5,"ng-template",null,40,i.W1O),i.qZA()),2&se){const Y=He.$implicit,Ee=i.MAs(3);i.xp6(1),i.Q6J("ngIf",null==Y.raisonSocial)("ngIfElse",Ee)}}function so(se,He){1&se&&(i.TgZ(0,"th",37),i._uU(1,"Statut "),i.qZA())}function Ll(se,He){if(1&se&&(i.TgZ(0,"td",38)(1,"mat-chip-list",41)(2,"mat-chip",42),i.ALo(3,"statutColor"),i._uU(4),i.qZA()()()),2&se){const Y=He.$implicit;i.xp6(2),i.Akn(i.lcZ(3,3,Y.statut.idParam)),i.xp6(2),i.hij(" ",Y.statut.description," ")}}function kr(se,He){1&se&&(i.TgZ(0,"th",37),i._uU(1," Action "),i.qZA())}function Sa(se,He){if(1&se){const Y=i.EpF();i.TgZ(0,"td",38)(1,"button",43)(2,"mat-icon"),i._uU(3,"more_vert"),i.qZA()(),i.TgZ(4,"mat-menu",44,45)(6,"button",46),i.NdJ("click",function(){const Ct=i.CHM(Y).$implicit,sn=i.oxw(2);return i.KtG(sn.printContrat(Ct.idContrat))}),i.TgZ(7,"mat-icon"),i._uU(8,"print"),i.qZA(),i.TgZ(9,"span"),i._uU(10,"Imprimer contrat"),i.qZA()(),i.TgZ(11,"button",46),i.NdJ("click",function(){const Ct=i.CHM(Y).$implicit,sn=i.oxw(2);return i.KtG(sn.consultContrat(Ct.idContrat))}),i.TgZ(12,"mat-icon"),i._uU(13,"zoom_in"),i.qZA(),i.TgZ(14,"span"),i._uU(15,"Consulter police"),i.qZA()(),i.TgZ(16,"button",46),i.NdJ("click",function(){const Ct=i.CHM(Y).$implicit,sn=i.oxw(2);return i.KtG(sn.avenant(Ct.idContrat))}),i.TgZ(17,"mat-icon"),i._uU(18,"edit"),i.qZA(),i.TgZ(19,"span"),i._uU(20,"Avenant"),i.qZA()()()()}if(2&se){const Y=i.MAs(5);i.xp6(1),i.Q6J("matMenuTriggerFor",Y)}}function Bo(se,He){1&se&&i._UZ(0,"tr",47)}function Oo(se,He){1&se&&i._UZ(0,"tr",48)}function da(se,He){if(1&se&&(i.TgZ(0,"table",26),i.ynx(1,27),i.YNc(2,eu,2,0,"th",28),i.YNc(3,Tc,2,1,"td",29),i.BQk(),i.ynx(4,30),i.YNc(5,Uo,2,0,"th",28),i.YNc(6,Ls,3,3,"td",29),i.BQk(),i.ynx(7,31),i.YNc(8,sc,2,0,"th",28),i.YNc(9,Yc,2,1,"td",29),i.BQk(),i.ynx(10,32),i.YNc(11,Go,2,0,"th",28),i.YNc(12,Li,4,2,"td",29),i.BQk(),i.ynx(13,33),i.YNc(14,so,2,0,"th",28),i.YNc(15,Ll,5,5,"td",29),i.BQk(),i.ynx(16,34),i.YNc(17,kr,2,0,"th",28),i.YNc(18,Sa,21,1,"td",29),i.BQk(),i.YNc(19,Bo,1,0,"tr",35),i.YNc(20,Oo,1,0,"tr",36),i.qZA()),2&se){const Y=i.oxw();i.Q6J("dataSource",Y.dataSource),i.xp6(19),i.Q6J("matHeaderRowDef",Y.displayedColumns),i.xp6(1),i.Q6J("matRowDefColumns",Y.displayedColumns)}}function Ni(se,He){if(1&se){const Y=i.EpF();i.TgZ(0,"mat-paginator",49),i.NdJ("page",function(Ye){i.CHM(Y);const Ct=i.oxw();return i.KtG(Ct.onPageChange(Ye))}),i.qZA()}if(2&se){const Y=i.oxw();i.Q6J("length",Y.lengthElement)("pageSize",10)}}const Cr=[{path:"creation-contrat/vie/:codeProduit/:nomProduit/:idDevis",component:ll,canActivate:[Ge.k],data:{roles:["CDC_BEA","COURTIER","ADMIN","ROLE_SUPER_ADMIN","ANALYSTE","METIER","BACKOFFICE","DA","BO","CDC"]}},{path:"consultation-police/vie/:codeProduit/:nomProduit",component:(()=>{class se{constructor(Y,Ee,Ye,Ct,sn,Pn,fn,ui){this.packService=Y,this.devisService=Ee,this.route=Ye,this.genericService=Ct,this.agencesService=sn,this.formBuilder=Pn,this.router=fn,this.contratService=ui,this.displayedColumns=["N\xb0Police","dateEffet","agence","raisonSocialOuNom","status","action"],this.dataSource=new me.by,this.errorHandler={error:!1,msg:""},this.agences=[],this.statuts=[],this.filteredTable=!1,this.isCourtier=!1,this.isBEA=!1,this.agence=parseInt(sessionStorage.getItem("agence")||"0"),this.storedRoles=sessionStorage.getItem("roles")}ngOnInit(){this.nomProduit=this.route.snapshot.paramMap.get("nomProduit"),this.codeProduit=this.route.snapshot.paramMap.get("codeProduit"),this.getAllAgences(),this.getAllStatus(),this.storedRoles?.includes("COURTIER")||this.storedRoles?.includes("CDC_BEA")?(this.storedRoles?.includes("COURTIER")?this.isCourtier=!0:this.isBEA=!0,this.initFormFilter(),this.submitFilter(0,10)):(this.initFormFilter(),this.getContratByProduit(0,10))}initFormFilter(){this.formFilterContrat=this.formBuilder.group({idContrat:[],dateDebut:[],dateFin:[],agence:this.isCourtier||this.isBEA?[this.agence]:[],idClient:[],nom:[],prenom:[],raisonSocial:[],produit:this.codeProduit}),(this.isCourtier||this.isBEA)&&this.formFilterContrat.get("agence")?.disable()}getAllAgences(){this.agencesService.getAllAgence().subscribe({next:Y=>{this.agences=Y},error:Y=>{console.log(Y)}})}getAllStatus(){this.genericService.getParam(JSON.parse(sessionStorage.getItem("dictionnaire")||"{}").find(Y=>"C34"==Y.code).idCategorie).subscribe({next:Y=>{this.statuts=Y},error:Y=>{console.log(Y)}})}onPageChange(Y){this.filteredTable?this.submitFilter(Y.pageIndex,Y.pageSize):this.getContratByProduit(Y.pageIndex,Y.pageSize)}getContratByProduit(Y,Ee){this.contratService.getContratByProduit(this.route.snapshot.paramMap.get("codeProduit"),Ee,Y).subscribe({next:Ye=>{this.contratTable=Ye,this.dataSource=new me.by(Ye.content),this.lengthElement=this.contratTable.totalElements,this.paginator&&(this.paginator.length=Ye.totalElements),this.dataSource.paginator=this.paginator},error:Ye=>{console.log(Ye)}})}submitFilter(Y,Ee){if(this.formFilterContrat.valid){(this.isCourtier||this.isBEA)&&(this.formFilterContrat.value.agence=this.agence);const Ye={...this.formFilterContrat.value,produit:this.codeProduit};this.contratService.filtresContrat(Ye,Y,Ee).subscribe({next:Ct=>{this.dataSource=new me.by(Ct.content),this.paginator&&(this.paginator.length=Ct.totalElements),this.dataSource.paginator=this.paginator,this.filteredTable=!0,this.lengthElement=Ct.totalElements},error:Ct=>{console.log(Ct)}})}}avenant(Y){this.router.navigate(["consultation-avenants/vie/"+this.route.snapshot.paramMap.get("codeProduit")+"/"+Y])}resetTable(Y){this.isCourtier||this.isBEA?(this.submitFilter(0,10),this.filteredTable=!0):(this.getContratByProduit(0,10),this.filteredTable=!1),this.initFormFilter(),Y.resetForm()}consultRisque(Y,Ee){var Ct,Ye=this;switch(this.contrat.produit.codeProduit){case"45F":this.contratService.getParamContratFlotteByIdRisque(this.contrat.idContrat,Y).subscribe({next:(Ct=(0,h.Z)(function*(sn){yield Ye.contratService.outputContratFlotte(Ye.contrat,sn),yield Ye.contratService.getQuittanceById(Ye.contrat.quittanceList[Ye.contrat.quittanceList.length-1]).subscribe({next:Pn=>{Ye.contratService.outputAttestationFlotte(Ye.contrat,Pn),Ye.contratService.outputQuittance(Ye.contrat,Pn,null)},error:Pn=>{console.log(Pn)}})}),function(Pn){return Ct.apply(this,arguments)}),error:Ct=>{console.log(Ct)}});break;case"45L":this.contratService.getParamContratFlotteByIdRisque(this.contrat.idContrat,Y).subscribe({next:function(){var Ct=(0,h.Z)(function*(sn){yield Ye.contratService.getQuittanceById(Ye.contrat.quittanceList[Ye.contrat.quittanceList.length-1]).subscribe({next:Pn=>{Ye.contratService.outputLeasing(Ye.contrat,Pn,sn)},error:Pn=>{console.log(Pn)}})});return function(Pn){return Ct.apply(this,arguments)}}(),error:Ct=>{console.log(Ct)}});break;default:this.contratService.getParamContratByIdRisque(this.contrat.idContrat,Ee,Y).subscribe({next:function(){var Ct=(0,h.Z)(function*(sn){Ye.contrat.risqueList=yield Object.values(sn);let Pn=[],fn={};for(const ui of Ye.contrat?.groupeList||[])for(const bi of ui.risques||[])try{const to=yield Ye.contratService.getPackIdRisque(Ye.contrat.idContrat,bi.idRisque).toPromise();to?.primeList?.forEach(fo=>{"CP101"===fo?.typePrime?.code&&Pn.push({prime:fo?.prime,id:bi?.idRisque})}),to.garantieList.forEach(fo=>{"G44"!==fo?.codeGarantie&&(fn[fo?.description]=fo?.categorieList?.[0]?.valeur)})}catch(to){console.log(to)}var ui;Ye.contratService.getPaysList().subscribe({next:(ui=(0,h.Z)(function*(bi){Ye.contrat.isShengen=bi.find(to=>to.idPays==Ye.contrat?.risqueList?.find(fo=>"P182"===fo?.codeRisque)?.reponse?.valeur)?.isShengen}),function(to){return ui.apply(this,arguments)}),error:ui=>{console.log(ui)}}),Ye.contrat.primeListRisques=Pn,Ye.contrat.garantiePlafond=fn,yield Ye.contratService.getPackIdRisque(Ye.contrat.idContrat,Y).subscribe({next:function(){var ui=(0,h.Z)(function*(bi){Ye.contrat.paramContratList=bi.garantieList,Ye.contrat.pack=bi.pack;const to=Ye.contrat?.groupeList.map(fo=>Ye.packService.getPackById(fo.pack.idPack0));(0,li.D)(to).subscribe(function(){var fo=(0,h.Z)(function*(Xo){const fi=[{title:"D\xe9c\xe8s accidentel (*)",garantieIndex:0},{title:"Incapacit\xe9 Permanente Totale / Partielle (*)",garantieIndex:1},{title:"Frais d\u2019hospitalisation, m\xe9dicaux et pharmaceutiques",garantieIndex:2},{title:"Bris de lunettes en cas d\u2019accident",garantieIndex:3},{title:"Proth\xe8se dentaire en cas d\u2019accident",garantieIndex:4},{title:"Assistance",garantieIndex:4}].map(({title:Ki,garantieIndex:br})=>Ye.devisService.gavRows(Xo,br,Ki));Ye.contrat.gavGarantieTable=fi,yield Ye.contratService.outputContrat(Ye.contrat)});return function(Xo){return fo.apply(this,arguments)}}()),yield Ye.contratService.getQuittanceById(Ye.contrat.quittanceList[Ye.contrat.quittanceList.length-1]).subscribe({next:fo=>{"45A"==Ye.contrat.produit.codeProduit&&Ye.contratService.outputAttestation(Ye.contrat,fo,null),Ye.contratService.outputQuittance(Ye.contrat,fo,null)},error:fo=>{console.log(fo)}})});return function(to){return ui.apply(this,arguments)}}(),error:ui=>{console.log(ui)}})});return function(Pn){return Ct.apply(this,arguments)}}(),error:Ct=>{console.log(Ct)}})}}printContrat(Y){let Ee=[],Ye=[];this.contratService.getContratById(Y).subscribe({next:Ct=>{switch(this.contrat=Ct,this.contrat.produit.codeProduit){case"45F":case"45L":Ee=this.contrat?.groupeList.filter(sn=>sn?.risques),Ee?.forEach(sn=>{sn?.risques&&sn.risques.map(Pn=>{Ye.push(Pn.idRisque)})}),this.consultRisque(Ye,this.contrat.groupeList[0].idGroupe);break;default:this.consultRisque(this.contrat?.groupeList?.[0]?.risques?.[0]?.idRisque,this?.contrat?.groupeList?.[0]?.idGroupe)}},error:Ct=>{this.handleError(Ct)}})}consultContrat(Y){this.router.navigate(["consultation-police/vie/"+this.route.snapshot.paramMap.get("codeProduit")+"/"+this.route.snapshot.paramMap.get("nomProduit")+"/"+Y])}handleError(Y){500===Y.status&&(this.errorHandler.error=!0,this.errorHandler.msg="Erreur systeme, veuillez contacter l'administrateur.")}}return se.\u0275fac=function(Y){return new(Y||se)(i.Y36(Ze.F),i.Y36(nn.J),i.Y36(K.gz),i.Y36(Ft.M),i.Y36(ot.e),i.Y36(ee.qu),i.Y36(K.F0),i.Y36(he.H))},se.\u0275cmp=i.Xpm({type:se,selectors:[["app-gestion-contrat-vie"]],viewQuery:function(Y,Ee){if(1&Y&&i.Gf(Wa.NW,7),2&Y){let Ye;i.iGM(Ye=i.CRH())&&(Ee.paginator=Ye.first)}},decls:48,vars:10,consts:[[1,"container"],[1,"header"],[1,"title-table"],[1,"filtre"],[1,"row","formFiltre",3,"formGroup","ngSubmit"],["formDirective","ngForm"],[1,"row"],["appearance","outline",1,"col-md-4"],["type","text","matInput","","placeholder","","formControlName","idContrat"],["type","text","matInput","","placeholder","","formControlName","nom"],["type","text","matInput","","placeholder","","formControlName","raisonSocial"],["formControlName","agence"],[4,"ngFor","ngForOf"],["matInput","","formControlName","dateDebut",3,"matDatepicker"],["matSuffix","",3,"for"],["pickerDu",""],["matInput","","formControlName","dateFin",3,"matDatepicker"],["pickerAu",""],[1,"row","buttons"],["type","submit",1,"btn","btn-action"],["matTooltip","R\xe9nitialisation","matTooltipPosition","right",1,"material-symbols-outlined",3,"click"],["class","alert alert-danger",4,"ngIf"],["mat-table","","class","\n        contrat-table",3,"dataSource",4,"ngIf"],[3,"length","pageSize","page",4,"ngIf"],[3,"value"],[1,"alert","alert-danger"],["mat-table","",1,"contrat-table",3,"dataSource"],["matColumnDef","N\xb0Police"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","dateEffet"],["matColumnDef","agence"],["matColumnDef","raisonSocialOuNom"],["matColumnDef","status"],["matColumnDef","action"],["mat-header-row","","class","example-second-header-row",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],[4,"ngIf","ngIfElse"],["personneMoral",""],["aria-label","Fish selection"],["color","primary"],["mat-icon-button","","type","button","aria-label","menu contrat list",3,"matMenuTriggerFor"],["xPosition","after",1,"menu-contrat"],["menu","matMenu"],["mat-menu-item","","type","button",3,"click"],["mat-header-row","",1,"example-second-header-row"],["mat-row",""],[3,"length","pageSize","page"]],template:function(Y,Ee){if(1&Y){const Ye=i.EpF();i.TgZ(0,"div",0)(1,"div",1)(2,"h2",2),i._uU(3),i.qZA()(),i.TgZ(4,"div",3)(5,"form",4,5),i.NdJ("ngSubmit",function(){return Ee.submitFilter(0,10)}),i.TgZ(7,"div",6)(8,"mat-form-field",7)(9,"mat-label"),i._uU(10,"N\xb0 Police"),i.qZA(),i._UZ(11,"input",8),i.qZA(),i.TgZ(12,"mat-form-field",7)(13,"mat-label"),i._uU(14,"Nom"),i.qZA(),i._UZ(15,"input",9),i.qZA(),i.TgZ(16,"mat-form-field",7)(17,"mat-label"),i._uU(18,"Raison Sociale"),i.qZA(),i._UZ(19,"input",10),i.qZA()(),i.TgZ(20,"div",6)(21,"mat-form-field",7)(22,"mat-label"),i._uU(23,"Agence"),i.qZA(),i.TgZ(24,"mat-select",11),i.YNc(25,Zo,3,2,"ng-container",12),i.qZA()(),i.TgZ(26,"mat-form-field",7)(27,"mat-label"),i._uU(28,"Du "),i.qZA(),i._UZ(29,"input",13)(30,"mat-datepicker-toggle",14)(31,"mat-datepicker",null,15),i.qZA(),i.TgZ(33,"mat-form-field",7)(34,"mat-label"),i._uU(35,"Au "),i.qZA(),i._UZ(36,"input",16)(37,"mat-datepicker-toggle",14)(38,"mat-datepicker",null,17),i.qZA()(),i.TgZ(40,"div",18)(41,"button",19),i._uU(42,"Filtrer"),i.qZA(),i.TgZ(43,"mat-icon",20),i.NdJ("click",function(){i.CHM(Ye);const sn=i.MAs(6);return i.KtG(Ee.resetTable(sn))}),i._uU(44,"restart_alt"),i.qZA()()()(),i.YNc(45,Wl,2,1,"div",21),i.YNc(46,da,21,3,"table",22),i.YNc(47,Ni,1,2,"mat-paginator",23),i.qZA()}if(2&Y){const Ye=i.MAs(32),Ct=i.MAs(39);i.xp6(3),i.hij("Listes des polices ",Ee.nomProduit,""),i.xp6(2),i.Q6J("formGroup",Ee.formFilterContrat),i.xp6(20),i.Q6J("ngForOf",Ee.agences),i.xp6(4),i.Q6J("matDatepicker",Ye),i.xp6(1),i.Q6J("for",Ye),i.xp6(6),i.Q6J("matDatepicker",Ct),i.xp6(1),i.Q6J("for",Ct),i.xp6(8),i.Q6J("ngIf",Ee.errorHandler.error),i.xp6(1),i.Q6J("ngIf",0!=Ee.dataSource.data.length),i.xp6(1),i.Q6J("ngIf",0!=Ee.dataSource.data.length)}},dependencies:[Se.sg,Se.O5,_n.Hw,Do.VK,Do.OP,Do.p6,ee._Y,ee.Fj,ee.JJ,ee.JL,ee.sg,ee.u,mn.KE,mn.hX,mn.R9,Ri.Nt,me.BZ,me.fO,me.as,me.w1,me.Dz,me.nj,me.ge,me.ev,me.XQ,me.Gk,$r.gM,Wa.NW,Xn.Mq,Xn.hl,Xn.nW,Mt.gD,Lt.ey,Vo.lW,To.qn,To.HS,Se.OU,cl.y,Mo.i],styles:[".container[_ngcontent-%COMP%]{background-color:#fff;padding:40px 0;height:100%}.header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:0px 2rem}.header[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{height:-moz-fit-content;height:fit-content;font-size:29px;margin-right:1rem;width:-moz-fit-content;width:fit-content}.title-table[_ngcontent-%COMP%]{margin-bottom:0rem;font-weight:800!important;font-size:23px!important;color:#00008f!important}table.contrat-table[_ngcontent-%COMP%]{width:100%;margin-top:2rem}.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:16px}.mat-row[_ngcontent-%COMP%]:nth-child(even), .mat-header-row[_ngcontent-%COMP%]{background-color:#f7f7f9}.mat-header-row[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{color:#00008f}.mat-header-cell[_ngcontent-%COMP%]{color:#333;font-weight:600;letter-spacing:.5px;font-size:15px;width:165px}.header-tab[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}.mat-paginator[_ngcontent-%COMP%]{background-color:transparent;margin:20px auto auto;width:80%}.mat-icon[_ngcontent-%COMP%]{height:100%;font-size:36px;width:-moz-fit-content;width:fit-content}.mat-cell[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{color:#00008f}.mat-header-cell.mat-icon[_ngcontent-%COMP%]{color:#fff}.mat-cell[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]:hover, .mat-header-cell[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]:hover{color:#d14723;cursor:pointer}  .mat-tooltip{font-size:14px}.mat-menu-item[_ngcontent-%COMP%]{font-size:16px}.mat-menu-item[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{margin-right:16px;font-size:21px;height:-moz-fit-content;height:fit-content}.mat-menu-item[_ngcontent-%COMP%]:hover:not([disabled]){color:#00008f}.mat-menu-item[_ngcontent-%COMP%]:hover:not([disabled])   .mat-icon[_ngcontent-%COMP%]{color:#00008f}.filtre[_ngcontent-%COMP%]   .row.formFiltre[_ngcontent-%COMP%]{width:100%;padding:0 2rem;margin-top:2rem}.row.buttons[_ngcontent-%COMP%]{justify-content:flex-end}.row.buttons[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{color:#00008f;cursor:pointer}.btn.btn-action[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content}.filtre[_ngcontent-%COMP%]     .mat-form-field-wrapper{padding-bottom:.5rem}"]}),se})(),canActivate:[Ge.k],data:{roles:["CDC_BEA","COURTIER","ADMIN","ROLE_SUPER_ADMIN","ANALYSTE","METIER","BACKOFFICE","GESTION_SINISTRE","DA","BO","WEB_HELP","GESTIONNAIRE_JUNIOR","GESTIONNAIRE_SINISTRE","CHEF_PROJET","RESPONSABLE_SINISTRE","DIRECTEUR","CDC","CONSULTATION"]}},{path:"consultation-police/vie/:codeProduit/:nomProduit/:idContrat",component:Qo,canActivate:[Ge.k],data:{roles:["CDC_BEA","COURTIER","ADMIN","ROLE_SUPER_ADMIN","ANALYSTE","METIER","BACKOFFICE","GESTION_SINISTRE","DA","BO","WEB_HELP","GESTIONNAIRE_JUNIOR","GESTIONNAIRE_SINISTRE","CHEF_PROJET","RESPONSABLE_SINISTRE","DIRECTEUR","CDC","CONSULTATION"]}}];let tu=(()=>{class se{}return se.\u0275fac=function(Y){return new(Y||se)},se.\u0275mod=i.oAB({type:se}),se.\u0275inj=i.cJS({imports:[K.Bz.forChild(Cr),K.Bz]}),se})();var Gc=B(4466),bc=B(4092),yu=B(294),xr=B(4479),Mr=B(3567);const _a={parse:{dateInput:"DD/MM/YYYY"},display:{dateInput:"DD/MM/YYYY",monthYearLabel:"MMMM YYYY",dateA11yLabel:"LL",monthYearA11yLabel:"MMMM YYYY"}};let gl=(()=>{class se{}return se.\u0275fac=function(Y){return new(Y||se)},se.\u0275mod=i.oAB({type:se}),se.\u0275inj=i.cJS({providers:[{provide:Lt._A,useClass:xr.t},{provide:Lt.sG,useValue:_a},Mr.b],imports:[Se.ez,Gc.m,bc.q,yu.I,tu]}),se})()},4433:(co,wn,B)=>{"use strict";B.r(wn),B.d(wn,{AppDateAdapter:()=>I2,GestionDevisVieModule:()=>E3});var Se=B(6895),K=B(3238),Ge=B(4479),h=B(3567),ee=B(2510),me=B(9523),Le=B(5861),Q=B(5017),w=B(7155),o=B(4006),e=B(2644),xe=B(7470),n=B(5226),i=B.n(n),Z=B(5439),O=B(6666),J=B(7340),he=B(7489),l=1200,t=1252,Ft=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],ln={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},ut=function(r){-1!=Ft.indexOf(r)&&(t=ln[0]=r)},tt=function(r){l=r,ut(r)};function Zt(){tt(1200),function ot(){ut(1252)}()}function nn(r){for(var s=[],a=0,d=r.length;a<d;++a)s[a]=r.charCodeAt(a);return s}function xn(r){for(var s=[],a=0;a<r.length>>1;++a)s[a]=String.fromCharCode(r.charCodeAt(2*a+1)+(r.charCodeAt(2*a)<<8));return s.join("")}var Mt,mn=function(r){var s=r.charCodeAt(0),a=r.charCodeAt(1);return 255==s&&254==a?function _n(r){for(var s=[],a=0;a<r.length>>1;++a)s[a]=String.fromCharCode(r.charCodeAt(2*a)+(r.charCodeAt(2*a+1)<<8));return s.join("")}(r.slice(2)):254==s&&255==a?xn(r.slice(2)):65279==s?r.slice(1):r},Ri=function(s){return String.fromCharCode(s)},Xn=function(s){return String.fromCharCode(s)},xt=null,ht=!0,Yn="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function Jn(r){for(var s="",a=0,d=0,g=0,A=0,T=0,R=0,L=0,V=0;V<r.length;)A=(a=r.charCodeAt(V++))>>2,T=(3&a)<<4|(d=r.charCodeAt(V++))>>4,R=(15&d)<<2|(g=r.charCodeAt(V++))>>6,L=63&g,isNaN(d)?R=L=64:isNaN(g)&&(L=64),s+=Yn.charAt(A)+Yn.charAt(T)+Yn.charAt(R)+Yn.charAt(L);return s}function pi(r){var s="",A=0,T=0,R=0,L=0;r=r.replace(/[^\w\+\/\=]/g,"");for(var V=0;V<r.length;)A=Yn.indexOf(r.charAt(V++)),T=Yn.indexOf(r.charAt(V++)),s+=String.fromCharCode(A<<2|T>>4),64!==(R=Yn.indexOf(r.charAt(V++)))&&(s+=String.fromCharCode((15&T)<<4|R>>2)),64!==(L=Yn.indexOf(r.charAt(V++)))&&(s+=String.fromCharCode((3&R)<<6|L));return s}var Qn=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),Kn=function(){if(typeof Buffer<"u"){var r=!Buffer.from;if(!r)try{Buffer.from("foo","utf8")}catch{r=!0}return r?function(s,a){return a?new Buffer(s,a):new Buffer(s)}:Buffer.from.bind(Buffer)}return function(){}}();function xi(r){return Qn?Buffer.alloc?Buffer.alloc(r):new Buffer(r):typeof Uint8Array<"u"?new Uint8Array(r):new Array(r)}function tn(r){return Qn?Buffer.allocUnsafe?Buffer.allocUnsafe(r):new Buffer(r):typeof Uint8Array<"u"?new Uint8Array(r):new Array(r)}var Kt=function(s){return Qn?Kn(s,"binary"):s.split("").map(function(a){return 255&a.charCodeAt(0)})};function $i(r){if(Array.isArray(r))return r.map(function(d){return String.fromCharCode(d)}).join("");for(var s=[],a=0;a<r.length;++a)s[a]=String.fromCharCode(r[a]);return s.join("")}function vt(r){if(typeof ArrayBuffer>"u")throw new Error("Unsupported");if(r instanceof ArrayBuffer)return vt(new Uint8Array(r));for(var s=new Array(r.length),a=0;a<r.length;++a)s[a]=r[a];return s}var $e=Qn?function(r){return Buffer.concat(r.map(function(s){return Buffer.isBuffer(s)?s:Kn(s)}))}:function(r){if(typeof Uint8Array<"u"){var s=0,a=0;for(s=0;s<r.length;++s)a+=r[s].length;var d=new Uint8Array(a),g=0;for(s=0,a=0;s<r.length;a+=g,++s)if(g=r[s].length,r[s]instanceof Uint8Array)d.set(r[s],a);else{if("string"==typeof r[s])throw"wtf";d.set(new Uint8Array(r[s]),a)}return d}return[].concat.apply([],r.map(function(A){return Array.isArray(A)?A:[].slice.call(A)}))},Vt=/\u0000/g,Gn=/[\u0001-\u0006]/g;function ei(r){for(var s="",a=r.length-1;a>=0;)s+=r.charAt(a--);return s}function vi(r,s){var a=""+r;return a.length>=s?a:ko("0",s-a.length)+a}function uo(r,s){var a=""+r;return a.length>=s?a:ko(" ",s-a.length)+a}function bo(r,s){var a=""+r;return a.length>=s?a:a+ko(" ",s-a.length)}var Zi=Math.pow(2,32);function Ai(r,s){return r>Zi||r<-Zi?function oe(r,s){var a=""+Math.round(r);return a.length>=s?a:ko("0",s-a.length)+a}(r,s):function pn(r,s){var a=""+r;return a.length>=s?a:ko("0",s-a.length)+a}(Math.round(r),s)}function Di(r,s){return r.length>=7+(s=s||0)&&103==(32|r.charCodeAt(s))&&101==(32|r.charCodeAt(s+1))&&110==(32|r.charCodeAt(s+2))&&101==(32|r.charCodeAt(s+3))&&114==(32|r.charCodeAt(s+4))&&97==(32|r.charCodeAt(s+5))&&108==(32|r.charCodeAt(s+6))}var Mn=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],Nn=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]],Et={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"\u4e0a\u5348/\u4e0b\u5348 "hh"\u6642"mm"\u5206"ss"\u79d2 "'},mo={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},mr={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function zr(r,s,a){for(var d=r<0?-1:1,g=r*d,A=0,T=1,R=0,L=1,V=0,X=0,pe=Math.floor(g);V<s&&(R=(pe=Math.floor(g))*T+A,X=pe*V+L,!(g-pe<5e-8));)g=1/(g-pe),A=T,T=R,L=V,V=X;if(X>s&&(V>s?(X=L,R=A):(X=V,R=T)),!a)return[0,d*R,X];var fe=Math.floor(d*R/X);return[fe,d*R-fe*X,X]}function Eo(r,s,a){if(r>2958465||r<0)return null;var d=0|r,g=Math.floor(86400*(r-d)),A=0,T=[],R={D:d,T:g,u:86400*(r-d)-g,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(R.u)<1e-6&&(R.u=0),s&&s.date1904&&(d+=1462),R.u>.9999&&(R.u=0,86400==++g&&(R.T=g=0,++d,++R.D)),60===d)T=a?[1317,10,29]:[1900,2,29],A=3;else if(0===d)T=a?[1317,8,29]:[1900,1,0],A=6;else{d>60&&--d;var L=new Date(1900,0,1);L.setDate(L.getDate()+d-1),T=[L.getFullYear(),L.getMonth()+1,L.getDate()],A=L.getDay(),d<60&&(A=(A+6)%7),a&&(A=function Ws(r,s){s[0]-=581;var a=r.getDay();return r<60&&(a=(a+6)%7),a}(L,T))}return R.y=T[0],R.m=T[1],R.d=T[2],R.S=g%60,g=Math.floor(g/60),R.M=g%60,g=Math.floor(g/60),R.H=g,R.q=A,R}var ra=new Date(1899,11,31,0,0,0),aa=ra.getTime(),Ba=new Date(1900,2,1,0,0,0);function za(r,s){var a=r.getTime();return s?a-=1262304e5:r>=Ba&&(a+=864e5),(a-(aa+6e4*(r.getTimezoneOffset()-ra.getTimezoneOffset())))/864e5}function Aa(r){return-1==r.indexOf(".")?r:r.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function Ta(r){var a,s=Math.floor(Math.log(Math.abs(r))*Math.LOG10E);return a=s>=-4&&s<=-1?r.toPrecision(10+s):Math.abs(s)<=9?function ds(r){var s=r<0?12:11,a=Aa(r.toFixed(12));return a.length<=s||(a=r.toPrecision(10)).length<=s?a:r.toExponential(5)}(r):10===s?r.toFixed(10).substr(0,12):function _s(r){var s=Aa(r.toFixed(11));return s.length>(r<0?12:11)||"0"===s||"-0"===s?r.toPrecision(6):s}(r),Aa(function Ks(r){return-1==r.indexOf("E")?r:r.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}(a.toUpperCase()))}function sa(r,s){switch(typeof r){case"string":return r;case"boolean":return r?"TRUE":"FALSE";case"number":return(0|r)===r?r.toString(10):Ta(r);case"undefined":return"";case"object":if(null==r)return"";if(r instanceof Date)return _r(14,za(r,s&&s.date1904),s)}throw new Error("unsupported value in General format: "+r)}function Xs(r,s,a,d){var L,g="",A=0,T=0,R=a.y,V=0;switch(r){case 98:R=a.y+543;case 121:switch(s.length){case 1:case 2:L=R%100,V=2;break;default:L=R%1e4,V=4}break;case 109:switch(s.length){case 1:case 2:L=a.m,V=s.length;break;case 3:return Nn[a.m-1][1];case 5:return Nn[a.m-1][0];default:return Nn[a.m-1][2]}break;case 100:switch(s.length){case 1:case 2:L=a.d,V=s.length;break;case 3:return Mn[a.q][0];default:return Mn[a.q][1]}break;case 104:switch(s.length){case 1:case 2:L=1+(a.H+11)%12,V=s.length;break;default:throw"bad hour format: "+s}break;case 72:switch(s.length){case 1:case 2:L=a.H,V=s.length;break;default:throw"bad hour format: "+s}break;case 77:switch(s.length){case 1:case 2:L=a.M,V=s.length;break;default:throw"bad minute format: "+s}break;case 115:if("s"!=s&&"ss"!=s&&".0"!=s&&".00"!=s&&".000"!=s)throw"bad second format: "+s;return 0!==a.u||"s"!=s&&"ss"!=s?(T=d>=2?3===d?1e3:100:1===d?10:1,(A=Math.round(T*(a.S+a.u)))>=60*T&&(A=0),"s"===s?0===A?"0":""+A/T:(g=vi(A,2+d),"ss"===s?g.substr(0,2):"."+g.substr(2,s.length-1))):vi(a.S,s.length);case 90:switch(s){case"[h]":case"[hh]":L=24*a.D+a.H;break;case"[m]":case"[mm]":L=60*(24*a.D+a.H)+a.M;break;case"[s]":case"[ss]":L=60*(60*(24*a.D+a.H)+a.M)+Math.round(a.S+a.u);break;default:throw"bad abstime format: "+s}V=3===s.length?1:2;break;case 101:L=R,V=1}return V>0?vi(L,V):""}function dr(r){if(r.length<=3)return r;for(var a=r.length%3,d=r.substr(0,a);a!=r.length;a+=3)d+=(d.length>0?",":"")+r.substr(a,3);return d}var Va=/%/g;function Ra(r,s){var a,d=r.indexOf("E")-r.indexOf(".")-1;if(r.match(/^#+0.0E\+0$/)){if(0==s)return"0.0E+0";if(s<0)return"-"+Ra(r,-s);var g=r.indexOf(".");-1===g&&(g=r.indexOf("E"));var A=Math.floor(Math.log(s)*Math.LOG10E)%g;if(A<0&&(A+=g),-1===(a=(s/Math.pow(10,A)).toPrecision(d+1+(g+A)%g)).indexOf("e")){var T=Math.floor(Math.log(s)*Math.LOG10E);for(-1===a.indexOf(".")?a=a.charAt(0)+"."+a.substr(1)+"E+"+(T-a.length+A):a+="E+"+(T-A);"0."===a.substr(0,2);)a=(a=a.charAt(0)+a.substr(2,g)+"."+a.substr(2+g)).replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");a=a.replace(/\+-/,"-")}a=a.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(R,L,V,X){return L+V+X.substr(0,(g+A)%g)+"."+X.substr(A)+"E"})}else a=s.toExponential(d);return r.match(/E\+00$/)&&a.match(/e[+-]\d$/)&&(a=a.substr(0,a.length-1)+"0"+a.charAt(a.length-1)),r.match(/E\-/)&&a.match(/e\+/)&&(a=a.replace(/e\+/,"e")),a.replace("e","E")}var gs=/# (\?+)( ?)\/( ?)(\d+)/,la=/^#*0*\.([0#]+)/,hs=/\).*[0#]/,Cs=/\(###\) ###\\?-####/;function rr(r){for(var a,s="",d=0;d!=r.length;++d)switch(a=r.charCodeAt(d)){case 35:break;case 63:s+=" ";break;case 48:s+="0";break;default:s+=String.fromCharCode(a)}return s}function xs(r,s){var a=Math.pow(10,s);return""+Math.round(r*a)/a}function vs(r,s){var a=r-Math.floor(r),d=Math.pow(10,s);return s<(""+Math.round(a*d)).length?0:Math.round(a*d)}function Ar(r,s,a){if(40===r.charCodeAt(0)&&!s.match(hs)){var d=s.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return a>=0?Ar("n",d,a):"("+Ar("n",d,-a)+")"}if(44===s.charCodeAt(s.length-1))return function fs(r,s,a){for(var d=s.length-1;44===s.charCodeAt(d-1);)--d;return Lr(r,s.substr(0,d),a/Math.pow(10,3*(s.length-d)))}(r,s,a);if(-1!==s.indexOf("%"))return function ps(r,s,a){var d=s.replace(Va,""),g=s.length-d.length;return Lr(r,d,a*Math.pow(10,2*g))+ko("%",g)}(r,s,a);if(-1!==s.indexOf("E"))return Ra(s,a);if(36===s.charCodeAt(0))return"$"+Ar(r,s.substr(" "==s.charAt(1)?2:1),a);var g,A,T,R,L=Math.abs(a),V=a<0?"-":"";if(s.match(/^00+$/))return V+Ai(L,s.length);if(s.match(/^[#?]+$/))return"0"===(g=Ai(a,0))&&(g=""),g.length>s.length?g:rr(s.substr(0,s.length-g.length))+g;if(A=s.match(gs))return function ja(r,s,a){var d=parseInt(r[4],10),g=Math.round(s*d),A=Math.floor(g/d),T=g-A*d,R=d;return a+(0===A?"":""+A)+" "+(0===T?ko(" ",r[1].length+1+r[4].length):uo(T,r[1].length)+r[2]+"/"+r[3]+vi(R,r[4].length))}(A,L,V);if(s.match(/^#+0+$/))return V+Ai(L,s.length-s.indexOf("0"));if(A=s.match(la))return g=xs(a,A[1].length).replace(/^([^\.]+)$/,"$1."+rr(A[1])).replace(/\.$/,"."+rr(A[1])).replace(/\.(\d*)$/,function(qe,de){return"."+de+ko("0",rr(A[1]).length-de.length)}),-1!==s.indexOf("0.")?g:g.replace(/^0\./,".");if(s=s.replace(/^#+([0.])/,"$1"),A=s.match(/^(0*)\.(#*)$/))return V+xs(L,A[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,A[1].length?"0.":".");if(A=s.match(/^#{1,3},##0(\.?)$/))return V+dr(Ai(L,0));if(A=s.match(/^#,##0\.([#0]*0)$/))return a<0?"-"+Ar(r,s,-a):dr(""+(Math.floor(a)+function tl(r,s){return s<(""+Math.round((r-Math.floor(r))*Math.pow(10,s))).length?1:0}(a,A[1].length)))+"."+vi(vs(a,A[1].length),A[1].length);if(A=s.match(/^#,#*,#0/))return Ar(r,s.replace(/^#,#*,/,""),a);if(A=s.match(/^([0#]+)(\\?-([0#]+))+$/))return g=ei(Ar(r,s.replace(/[\\-]/g,""),a)),T=0,ei(ei(s.replace(/\\/g,"")).replace(/[0#]/g,function(qe){return T<g.length?g.charAt(T++):"0"===qe?"0":""}));if(s.match(Cs))return"("+(g=Ar(r,"##########",a)).substr(0,3)+") "+g.substr(3,3)+"-"+g.substr(6);var X="";if(A=s.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return T=Math.min(A[4].length,7),R=zr(L,Math.pow(10,T)-1,!1),g=""+V," "==(X=Lr("n",A[1],R[1])).charAt(X.length-1)&&(X=X.substr(0,X.length-1)+"0"),g+=X+A[2]+"/"+A[3],(X=bo(R[2],T)).length<A[4].length&&(X=rr(A[4].substr(A[4].length-X.length))+X),g+=X;if(A=s.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return T=Math.min(Math.max(A[1].length,A[4].length),7),V+((R=zr(L,Math.pow(10,T)-1,!0))[0]||(R[1]?"":"0"))+" "+(R[1]?uo(R[1],T)+A[2]+"/"+A[3]+bo(R[2],T):ko(" ",2*T+1+A[2].length+A[3].length));if(A=s.match(/^[#0?]+$/))return g=Ai(a,0),s.length<=g.length?g:rr(s.substr(0,s.length-g.length))+g;if(A=s.match(/^([#0?]+)\.([#0]+)$/)){g=""+a.toFixed(Math.min(A[2].length,10)).replace(/([^0])0+$/,"$1"),T=g.indexOf(".");var pe=s.indexOf(".")-T,fe=s.length-g.length-pe;return rr(s.substr(0,pe)+g+s.substr(s.length-fe))}if(A=s.match(/^00,000\.([#0]*0)$/))return T=vs(a,A[1].length),a<0?"-"+Ar(r,s,-a):dr(function As(r){return r<2147483647&&r>-2147483648?""+(r>=0?0|r:r-1|0):""+Math.floor(r)}(a)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(qe){return"00,"+(qe.length<3?vi(0,3-qe.length):"")+qe})+"."+vi(T,A[1].length);switch(s){case"###,##0.00":return Ar(r,"#,##0.00",a);case"###,###":case"##,###":case"#,###":var Ae=dr(Ai(L,0));return"0"!==Ae?V+Ae:"";case"###,###.00":return Ar(r,"###,##0.00",a).replace(/^0\./,".");case"#,###.00":return Ar(r,"#,##0.00",a).replace(/^0\./,".")}throw new Error("unsupported format |"+s+"|")}function Ts(r,s){var a,d=r.indexOf("E")-r.indexOf(".")-1;if(r.match(/^#+0.0E\+0$/)){if(0==s)return"0.0E+0";if(s<0)return"-"+Ts(r,-s);var g=r.indexOf(".");-1===g&&(g=r.indexOf("E"));var A=Math.floor(Math.log(s)*Math.LOG10E)%g;if(A<0&&(A+=g),!(a=(s/Math.pow(10,A)).toPrecision(d+1+(g+A)%g)).match(/[Ee]/)){var T=Math.floor(Math.log(s)*Math.LOG10E);-1===a.indexOf(".")?a=a.charAt(0)+"."+a.substr(1)+"E+"+(T-a.length+A):a+="E+"+(T-A),a=a.replace(/\+-/,"-")}a=a.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(R,L,V,X){return L+V+X.substr(0,(g+A)%g)+"."+X.substr(A)+"E"})}else a=s.toExponential(d);return r.match(/E\+00$/)&&a.match(/e[+-]\d$/)&&(a=a.substr(0,a.length-1)+"0"+a.charAt(a.length-1)),r.match(/E\-/)&&a.match(/e\+/)&&(a=a.replace(/e\+/,"e")),a.replace("e","E")}function Nr(r,s,a){if(40===r.charCodeAt(0)&&!s.match(hs)){var d=s.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return a>=0?Nr("n",d,a):"("+Nr("n",d,-a)+")"}if(44===s.charCodeAt(s.length-1))return function nl(r,s,a){for(var d=s.length-1;44===s.charCodeAt(d-1);)--d;return Lr(r,s.substr(0,d),a/Math.pow(10,3*(s.length-d)))}(r,s,a);if(-1!==s.indexOf("%"))return function il(r,s,a){var d=s.replace(Va,""),g=s.length-d.length;return Lr(r,d,a*Math.pow(10,2*g))+ko("%",g)}(r,s,a);if(-1!==s.indexOf("E"))return Ts(s,a);if(36===s.charCodeAt(0))return"$"+Nr(r,s.substr(" "==s.charAt(1)?2:1),a);var g,A,T,R,L=Math.abs(a),V=a<0?"-":"";if(s.match(/^00+$/))return V+vi(L,s.length);if(s.match(/^[#?]+$/))return g=""+a,0===a&&(g=""),g.length>s.length?g:rr(s.substr(0,s.length-g.length))+g;if(A=s.match(gs))return function el(r,s,a){return a+(0===s?"":""+s)+ko(" ",r[1].length+2+r[4].length)}(A,L,V);if(s.match(/^#+0+$/))return V+vi(L,s.length-s.indexOf("0"));if(A=s.match(la))return g=(g=(""+a).replace(/^([^\.]+)$/,"$1."+rr(A[1])).replace(/\.$/,"."+rr(A[1]))).replace(/\.(\d*)$/,function(qe,de){return"."+de+ko("0",rr(A[1]).length-de.length)}),-1!==s.indexOf("0.")?g:g.replace(/^0\./,".");if(s=s.replace(/^#+([0.])/,"$1"),A=s.match(/^(0*)\.(#*)$/))return V+(""+L).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,A[1].length?"0.":".");if(A=s.match(/^#{1,3},##0(\.?)$/))return V+dr(""+L);if(A=s.match(/^#,##0\.([#0]*0)$/))return a<0?"-"+Nr(r,s,-a):dr(""+a)+"."+ko("0",A[1].length);if(A=s.match(/^#,#*,#0/))return Nr(r,s.replace(/^#,#*,/,""),a);if(A=s.match(/^([0#]+)(\\?-([0#]+))+$/))return g=ei(Nr(r,s.replace(/[\\-]/g,""),a)),T=0,ei(ei(s.replace(/\\/g,"")).replace(/[0#]/g,function(qe){return T<g.length?g.charAt(T++):"0"===qe?"0":""}));if(s.match(Cs))return"("+(g=Nr(r,"##########",a)).substr(0,3)+") "+g.substr(3,3)+"-"+g.substr(6);var X="";if(A=s.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return T=Math.min(A[4].length,7),R=zr(L,Math.pow(10,T)-1,!1),g=""+V," "==(X=Lr("n",A[1],R[1])).charAt(X.length-1)&&(X=X.substr(0,X.length-1)+"0"),g+=X+A[2]+"/"+A[3],(X=bo(R[2],T)).length<A[4].length&&(X=rr(A[4].substr(A[4].length-X.length))+X),g+=X;if(A=s.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return T=Math.min(Math.max(A[1].length,A[4].length),7),V+((R=zr(L,Math.pow(10,T)-1,!0))[0]||(R[1]?"":"0"))+" "+(R[1]?uo(R[1],T)+A[2]+"/"+A[3]+bo(R[2],T):ko(" ",2*T+1+A[2].length+A[3].length));if(A=s.match(/^[#0?]+$/))return s.length<=(g=""+a).length?g:rr(s.substr(0,s.length-g.length))+g;if(A=s.match(/^([#0]+)\.([#0]+)$/)){g=""+a.toFixed(Math.min(A[2].length,10)).replace(/([^0])0+$/,"$1"),T=g.indexOf(".");var pe=s.indexOf(".")-T,fe=s.length-g.length-pe;return rr(s.substr(0,pe)+g+s.substr(s.length-fe))}if(A=s.match(/^00,000\.([#0]*0)$/))return a<0?"-"+Nr(r,s,-a):dr(""+a).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(qe){return"00,"+(qe.length<3?vi(0,3-qe.length):"")+qe})+"."+vi(0,A[1].length);switch(s){case"###,###":case"##,###":case"#,###":var Ae=dr(""+L);return"0"!==Ae?V+Ae:"";default:if(s.match(/\.[0#?]*$/))return Nr(r,s.slice(0,s.lastIndexOf(".")),a)+rr(s.slice(s.lastIndexOf(".")))}throw new Error("unsupported format |"+s+"|")}function Lr(r,s,a){return(0|a)===a?Nr(r,s,a):Ar(r,s,a)}var bs=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function Ir(r){for(var s=0,a="",d="";s<r.length;)switch(a=r.charAt(s)){case"G":Di(r,s)&&(s+=6),s++;break;case'"':for(;34!==r.charCodeAt(++s)&&s<r.length;);++s;break;case"\\":case"_":s+=2;break;case"@":++s;break;case"B":case"b":if("1"===r.charAt(s+1)||"2"===r.charAt(s+1))return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"\u4e0a":if("A/P"===r.substr(s,3).toUpperCase()||"AM/PM"===r.substr(s,5).toUpperCase()||"\u4e0a\u5348/\u4e0b\u5348"===r.substr(s,5).toUpperCase())return!0;++s;break;case"[":for(d=a;"]"!==r.charAt(s++)&&s<r.length;)d+=r.charAt(s);if(d.match(bs))return!0;break;case".":case"0":case"#":for(;s<r.length&&("0#?.,E+-%".indexOf(a=r.charAt(++s))>-1||"\\"==a&&"-"==r.charAt(s+1)&&"0#".indexOf(r.charAt(s+2))>-1););break;case"?":for(;r.charAt(++s)===a;);break;case"*":++s,(" "==r.charAt(s)||"*"==r.charAt(s))&&++s;break;case"(":case")":++s;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;s<r.length&&"0123456789".indexOf(r.charAt(++s))>-1;);break;default:++s}return!1}var Ps=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function Zs(r,s){if(null==s)return!1;var a=parseFloat(s[2]);switch(s[1]){case"=":if(r==a)return!0;break;case">":if(r>a)return!0;break;case"<":if(r<a)return!0;break;case"<>":if(r!=a)return!0;break;case">=":if(r>=a)return!0;break;case"<=":if(r<=a)return!0}return!1}function _r(r,s,a){null==a&&(a={});var d="";switch(typeof r){case"string":d="m/d/yy"==r&&a.dateNF?a.dateNF:r;break;case"number":null==(d=14==r&&a.dateNF?a.dateNF:(null!=a.table?a.table:Et)[r])&&(d=a.table&&a.table[mo[r]]||Et[mo[r]]),null==d&&(d=mr[r]||"General")}if(Di(d,0))return sa(s,a);s instanceof Date&&(s=za(s,a.date1904));var g=function qs(r,s){var a=function Da(r){for(var s=[],a=!1,d=0,g=0;d<r.length;++d)switch(r.charCodeAt(d)){case 34:a=!a;break;case 95:case 42:case 92:++d;break;case 59:s[s.length]=r.substr(g,d-g),g=d+1}if(s[s.length]=r.substr(g),!0===a)throw new Error("Format |"+r+"| unterminated string ");return s}(r),d=a.length,g=a[d-1].indexOf("@");if(d<4&&g>-1&&--d,a.length>4)throw new Error("cannot find right format for |"+a.join("|")+"|");if("number"!=typeof s)return[4,4===a.length||g>-1?a[a.length-1]:"@"];switch(a.length){case 1:a=g>-1?["General","General","General",a[0]]:[a[0],a[0],a[0],"@"];break;case 2:a=g>-1?[a[0],a[0],a[0],a[1]]:[a[0],a[1],a[0],"@"];break;case 3:a=g>-1?[a[0],a[1],a[0],a[2]]:[a[0],a[1],a[2],"@"]}var A=s>0?a[0]:s<0?a[1]:a[2];if(-1===a[0].indexOf("[")&&-1===a[1].indexOf("["))return[d,A];if(null!=a[0].match(/\[[=<>]/)||null!=a[1].match(/\[[=<>]/)){var T=a[0].match(Ps),R=a[1].match(Ps);return Zs(s,T)?[d,a[0]]:Zs(s,R)?[d,a[1]]:[d,a[null!=T&&null!=R?2:1]]}return[d,A]}(d,s);if(Di(g[1]))return sa(s,a);if(!0===s)s="TRUE";else if(!1===s)s="FALSE";else if(""===s||null==s)return"";return function ol(r,s,a,d){for(var V,X,pe,g=[],A="",T=0,R="",L="t",fe="H";T<r.length;)switch(R=r.charAt(T)){case"G":if(!Di(r,T))throw new Error("unrecognized character "+R+" in "+r);g[g.length]={t:"G",v:"General"},T+=7;break;case'"':for(A="";34!==(pe=r.charCodeAt(++T))&&T<r.length;)A+=String.fromCharCode(pe);g[g.length]={t:"t",v:A},++T;break;case"\\":var Ae=r.charAt(++T);g[g.length]={t:"("===Ae||")"===Ae?Ae:"t",v:Ae},++T;break;case"_":g[g.length]={t:"t",v:" "},T+=2;break;case"@":g[g.length]={t:"T",v:s},++T;break;case"B":case"b":if("1"===r.charAt(T+1)||"2"===r.charAt(T+1)){if(null==V&&null==(V=Eo(s,a,"2"===r.charAt(T+1))))return"";g[g.length]={t:"X",v:r.substr(T,2)},L=R,T+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":R=R.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(s<0||null==V&&null==(V=Eo(s,a)))return"";for(A=R;++T<r.length&&r.charAt(T).toLowerCase()===R;)A+=R;"m"===R&&"h"===L.toLowerCase()&&(R="M"),"h"===R&&(R=fe),g[g.length]={t:R,v:A},L=R;break;case"A":case"a":case"\u4e0a":var de={t:R,v:R};if(null==V&&(V=Eo(s,a)),"A/P"===r.substr(T,3).toUpperCase()?(null!=V&&(de.v=V.H>=12?"P":"A"),de.t="T",fe="h",T+=3):"AM/PM"===r.substr(T,5).toUpperCase()?(null!=V&&(de.v=V.H>=12?"PM":"AM"),de.t="T",T+=5,fe="h"):"\u4e0a\u5348/\u4e0b\u5348"===r.substr(T,5).toUpperCase()?(null!=V&&(de.v=V.H>=12?"\u4e0b\u5348":"\u4e0a\u5348"),de.t="T",T+=5,fe="h"):(de.t="t",++T),null==V&&"T"===de.t)return"";g[g.length]=de,L=R;break;case"[":for(A=R;"]"!==r.charAt(T++)&&T<r.length;)A+=r.charAt(T);if("]"!==A.slice(-1))throw'unterminated "[" block: |'+A+"|";if(A.match(bs)){if(null==V&&null==(V=Eo(s,a)))return"";g[g.length]={t:"Z",v:A.toLowerCase()},L=A.charAt(1)}else A.indexOf("$")>-1&&(A=(A.match(/\$([^-\[\]]*)/)||[])[1]||"$",Ir(r)||(g[g.length]={t:"t",v:A}));break;case".":if(null!=V){for(A=R;++T<r.length&&"0"===(R=r.charAt(T));)A+=R;g[g.length]={t:"s",v:A};break}case"0":case"#":for(A=R;++T<r.length&&"0#?.,E+-%".indexOf(R=r.charAt(T))>-1;)A+=R;g[g.length]={t:"n",v:A};break;case"?":for(A=R;r.charAt(++T)===R;)A+=R;g[g.length]={t:R,v:A},L=R;break;case"*":++T,(" "==r.charAt(T)||"*"==r.charAt(T))&&++T;break;case"(":case")":g[g.length]={t:1===d?"t":R,v:R},++T;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(A=R;T<r.length&&"0123456789".indexOf(r.charAt(++T))>-1;)A+=r.charAt(T);g[g.length]={t:"D",v:A};break;case" ":g[g.length]={t:R,v:R},++T;break;case"$":g[g.length]={t:"t",v:"$"},++T;break;default:if(-1===",$-+/():!^&'~{}<>=\u20acacfijklopqrtuvwxzP".indexOf(R))throw new Error("unrecognized character "+R+" in "+r);g[g.length]={t:"t",v:R},++T}var et,Ne=0,ze=0;for(T=g.length-1,L="t";T>=0;--T)switch(g[T].t){case"h":case"H":g[T].t=fe,L="h",Ne<1&&(Ne=1);break;case"s":(et=g[T].v.match(/\.0+$/))&&(ze=Math.max(ze,et[0].length-1)),Ne<3&&(Ne=3);case"d":case"y":case"M":case"e":L=g[T].t;break;case"m":"s"===L&&(g[T].t="M",Ne<2&&(Ne=2));break;case"X":break;case"Z":Ne<1&&g[T].v.match(/[Hh]/)&&(Ne=1),Ne<2&&g[T].v.match(/[Mm]/)&&(Ne=2),Ne<3&&g[T].v.match(/[Ss]/)&&(Ne=3)}switch(Ne){case 0:break;case 1:V.u>=.5&&(V.u=0,++V.S),V.S>=60&&(V.S=0,++V.M),V.M>=60&&(V.M=0,++V.H);break;case 2:V.u>=.5&&(V.u=0,++V.S),V.S>=60&&(V.S=0,++V.M)}var Dt,Ve="";for(T=0;T<g.length;++T)switch(g[T].t){case"t":case"T":case" ":case"D":break;case"X":g[T].v="",g[T].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":g[T].v=Xs(g[T].t.charCodeAt(0),g[T].v,V,ze),g[T].t="t";break;case"n":case"?":for(Dt=T+1;null!=g[Dt]&&("?"===(R=g[Dt].t)||"D"===R||(" "===R||"t"===R)&&null!=g[Dt+1]&&("?"===g[Dt+1].t||"t"===g[Dt+1].t&&"/"===g[Dt+1].v)||"("===g[T].t&&(" "===R||"n"===R||")"===R)||"t"===R&&("/"===g[Dt].v||" "===g[Dt].v&&null!=g[Dt+1]&&"?"==g[Dt+1].t));)g[T].v+=g[Dt].v,g[Dt]={v:"",t:";"},++Dt;Ve+=g[T].v,T=Dt-1;break;case"G":g[T].t="t",g[T].v=sa(s,a)}var Rt,ct,Ht="";if(Ve.length>0){40==Ve.charCodeAt(0)?(Rt=s<0&&45===Ve.charCodeAt(0)?-s:s,ct=Lr("n",Ve,Rt)):(ct=Lr("n",Ve,Rt=s<0&&d>1?-s:s),Rt<0&&g[0]&&"t"==g[0].t&&(ct=ct.substr(1),g[0].v="-"+g[0].v)),Dt=ct.length-1;var Jt=g.length;for(T=0;T<g.length;++T)if(null!=g[T]&&"t"!=g[T].t&&g[T].v.indexOf(".")>-1){Jt=T;break}var Ot=g.length;if(Jt===g.length&&-1===ct.indexOf("E")){for(T=g.length-1;T>=0;--T)null==g[T]||-1==="n?".indexOf(g[T].t)||(Dt>=g[T].v.length-1?g[T].v=ct.substr(1+(Dt-=g[T].v.length),g[T].v.length):Dt<0?g[T].v="":(g[T].v=ct.substr(0,Dt+1),Dt=-1),g[T].t="t",Ot=T);Dt>=0&&Ot<g.length&&(g[Ot].v=ct.substr(0,Dt+1)+g[Ot].v)}else if(Jt!==g.length&&-1===ct.indexOf("E")){for(Dt=ct.indexOf(".")-1,T=Jt;T>=0;--T)if(null!=g[T]&&-1!=="n?".indexOf(g[T].t)){for(X=g[T].v.indexOf(".")>-1&&T===Jt?g[T].v.indexOf(".")-1:g[T].v.length-1,Ht=g[T].v.substr(X+1);X>=0;--X)Dt>=0&&("0"===g[T].v.charAt(X)||"#"===g[T].v.charAt(X))&&(Ht=ct.charAt(Dt--)+Ht);g[T].v=Ht,g[T].t="t",Ot=T}for(Dt>=0&&Ot<g.length&&(g[Ot].v=ct.substr(0,Dt+1)+g[Ot].v),Dt=ct.indexOf(".")+1,T=Jt;T<g.length;++T)if(null!=g[T]&&(-1!=="n?(".indexOf(g[T].t)||T===Jt)){for(X=g[T].v.indexOf(".")>-1&&T===Jt?g[T].v.indexOf(".")+1:0,Ht=g[T].v.substr(0,X);X<g[T].v.length;++X)Dt<ct.length&&(Ht+=ct.charAt(Dt++));g[T].v=Ht,g[T].t="t",Ot=T}}}for(T=0;T<g.length;++T)null!=g[T]&&"n?".indexOf(g[T].t)>-1&&(g[T].v=Lr(g[T].t,g[T].v,Rt=d>1&&s<0&&T>0&&"-"===g[T-1].v?-s:s),g[T].t="t");var cn="";for(T=0;T!==g.length;++T)null!=g[T]&&(cn+=g[T].v);return cn}(g[1],s,a,g[0])}function Zr(r,s){if("number"!=typeof s){s=+s||-1;for(var a=0;a<392;++a)if(null!=Et[a]){if(Et[a]==r){s=a;break}}else s<0&&(s=a);s<0&&(s=391)}return Et[s]=r,s}function ha(){Et=function vn(r){return r||(r={}),r[0]="General",r[1]="0",r[2]="0.00",r[3]="#,##0",r[4]="#,##0.00",r[9]="0%",r[10]="0.00%",r[11]="0.00E+00",r[12]="# ?/?",r[13]="# ??/??",r[14]="m/d/yy",r[15]="d-mmm-yy",r[16]="d-mmm",r[17]="mmm-yy",r[18]="h:mm AM/PM",r[19]="h:mm:ss AM/PM",r[20]="h:mm",r[21]="h:mm:ss",r[22]="m/d/yy h:mm",r[37]="#,##0 ;(#,##0)",r[38]="#,##0 ;[Red](#,##0)",r[39]="#,##0.00;(#,##0.00)",r[40]="#,##0.00;[Red](#,##0.00)",r[45]="mm:ss",r[46]="[h]:mm:ss",r[47]="mmss.0",r[48]="##0.0E+0",r[49]="@",r[56]='"\u4e0a\u5348/\u4e0b\u5348 "hh"\u6642"mm"\u5206"ss"\u79d2 "',r}()}var qi={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},Ha=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g,wa=function(){var r={version:"1.2.0"},a=function s(){for(var ct=0,Jt=new Array(256),Ot=0;256!=Ot;++Ot)Jt[Ot]=ct=1&(ct=1&(ct=1&(ct=1&(ct=1&(ct=1&(ct=1&(ct=1&(ct=Ot)?-306674912^ct>>>1:ct>>>1)?-306674912^ct>>>1:ct>>>1)?-306674912^ct>>>1:ct>>>1)?-306674912^ct>>>1:ct>>>1)?-306674912^ct>>>1:ct>>>1)?-306674912^ct>>>1:ct>>>1)?-306674912^ct>>>1:ct>>>1)?-306674912^ct>>>1:ct>>>1;return typeof Int32Array<"u"?new Int32Array(Jt):Jt}(),g=function d(ct){var Jt=0,Ot=0,cn=0,un=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(cn=0;256!=cn;++cn)un[cn]=ct[cn];for(cn=0;256!=cn;++cn)for(Ot=ct[cn],Jt=256+cn;Jt<4096;Jt+=256)Ot=un[Jt]=Ot>>>8^ct[255&Ot];var Qt=[];for(cn=1;16!=cn;++cn)Qt[cn-1]=typeof Int32Array<"u"?un.subarray(256*cn,256*cn+256):un.slice(256*cn,256*cn+256);return Qt}(a),A=g[0],T=g[1],R=g[2],L=g[3],V=g[4],X=g[5],pe=g[6],fe=g[7],Ae=g[8],qe=g[9],de=g[10],Ne=g[11],ze=g[12],et=g[13],Ve=g[14];return r.table=a,r.bstr=function Dt(ct,Jt){for(var Ot=-1^Jt,cn=0,un=ct.length;cn<un;)Ot=Ot>>>8^a[255&(Ot^ct.charCodeAt(cn++))];return~Ot},r.buf=function Ht(ct,Jt){for(var Ot=-1^Jt,cn=ct.length-15,un=0;un<cn;)Ot=Ve[ct[un++]^255&Ot]^et[ct[un++]^Ot>>8&255]^ze[ct[un++]^Ot>>16&255]^Ne[ct[un++]^Ot>>>24]^de[ct[un++]]^qe[ct[un++]]^Ae[ct[un++]]^fe[ct[un++]]^pe[ct[un++]]^X[ct[un++]]^V[ct[un++]]^L[ct[un++]]^R[ct[un++]]^T[ct[un++]]^A[ct[un++]]^a[ct[un++]];for(cn+=15;un<cn;)Ot=Ot>>>8^a[255&(Ot^ct[un++])];return~Ot},r.str=function Rt(ct,Jt){for(var Ot=-1^Jt,cn=0,un=ct.length,Qt=0,Hn=0;cn<un;)(Qt=ct.charCodeAt(cn++))<128?Ot=Ot>>>8^a[255&(Ot^Qt)]:Qt<2048?Ot=(Ot=Ot>>>8^a[255&(Ot^(192|Qt>>6&31))])>>>8^a[255&(Ot^(128|63&Qt))]:Qt>=55296&&Qt<57344?(Qt=64+(1023&Qt),Hn=1023&ct.charCodeAt(cn++),Ot=(Ot=(Ot=(Ot=Ot>>>8^a[255&(Ot^(240|Qt>>8&7))])>>>8^a[255&(Ot^(128|Qt>>2&63))])>>>8^a[255&(Ot^(128|Hn>>6&15|(3&Qt)<<4))])>>>8^a[255&(Ot^(128|63&Hn))]):Ot=(Ot=(Ot=Ot>>>8^a[255&(Ot^(224|Qt>>12&15))])>>>8^a[255&(Ot^(128|Qt>>6&63))])>>>8^a[255&(Ot^(128|63&Qt))];return~Ot},r}(),di=function(){var L,s={};function d(Me){if("/"==Me.charAt(Me.length-1))return-1===Me.slice(0,-1).indexOf("/")?Me:d(Me.slice(0,-1));var rt=Me.lastIndexOf("/");return-1===rt?Me:Me.slice(0,rt+1)}function g(Me){if("/"==Me.charAt(Me.length-1))return g(Me.slice(0,-1));var rt=Me.lastIndexOf("/");return-1===rt?Me:Me.slice(rt+1)}function A(Me,rt){"string"==typeof rt&&(rt=new Date(rt));var We=rt.getHours();We=(We=We<<6|rt.getMinutes())<<5|rt.getSeconds()>>>1,Me.write_shift(2,We);var Xe=rt.getFullYear()-1980;Xe=(Xe=Xe<<4|rt.getMonth()+1)<<5|rt.getDate(),Me.write_shift(2,Xe)}function R(Me){je(Me,0);for(var rt={},We=0;Me.l<=Me.length-4;){var Xe=Me.read_shift(2),at=Me.read_shift(2),lt=Me.l+at,$t={};21589===Xe&&(1&(We=Me.read_shift(1))&&($t.mtime=Me.read_shift(4)),at>5&&(2&We&&($t.atime=Me.read_shift(4)),4&We&&($t.ctime=Me.read_shift(4))),$t.mtime&&($t.mt=new Date(1e3*$t.mtime))),Me.l=lt,rt[Xe]=$t}return rt}function V(){return L||(L={})}function X(Me,rt){if(80==Me[0]&&75==Me[1])return w2(Me,rt);if(109==(32|Me[0])&&105==(32|Me[1]))return function J3(Me,rt){if("mime-version:"!=_i(Me.slice(0,13)).toLowerCase())throw new Error("Unsupported MAD header");var We=rt&&rt.root||"",Xe=(Qn&&Buffer.isBuffer(Me)?Me.toString("binary"):_i(Me)).split("\r\n"),at=0,lt="";for(at=0;at<Xe.length;++at)if(/^Content-Location:/i.test(lt=Xe[at])&&(lt=lt.slice(lt.indexOf("file")),We||(We=lt.slice(0,lt.lastIndexOf("/")+1)),lt.slice(0,We.length)!=We))for(;We.length>0&&(We=(We=We.slice(0,We.length-1)).slice(0,We.lastIndexOf("/")+1),lt.slice(0,We.length)!=We););var $t=(Xe[1]||"").match(/boundary="(.*?)"/);if(!$t)throw new Error("MAD cannot find boundary");var Cn="--"+($t[1]||""),on={FileIndex:[],FullPaths:[]};ct(on);var Ln,ni=0;for(at=0;at<Xe.length;++at){var Ui=Xe[at];Ui!==Cn&&Ui!==Cn+"--"||(ni++&&Q3(on,Xe.slice(Ln,at),We),Ln=at)}return on}(Me,rt);if(Me.length<512)throw new Error("CFB file size "+Me.length+" < 512");var We,at,lt,$t,Cn,en,Xe=512,Wt=[],on=Me.slice(0,512);je(on,0);var Ln=function pe(Me){if(80==Me[Me.l]&&75==Me[Me.l+1])return[0,0];Me.chk(Ti,"Header Signature: "),Me.l+=16;var rt=Me.read_shift(2,"u");return[Me.read_shift(2,"u"),rt]}(on);switch(We=Ln[0]){case 3:Xe=512;break;case 4:Xe=4096;break;case 0:if(0==Ln[1])return w2(Me,rt);default:throw new Error("Major Version: Expected 3 or 4 saw "+We)}512!==Xe&&je(on=Me.slice(0,Xe),28);var ni=Me.slice(0,Xe);!function fe(Me,rt){var We;switch(Me.l+=2,We=Me.read_shift(2)){case 9:if(3!=rt)throw new Error("Sector Shift: Expected 9 saw "+We);break;case 12:if(4!=rt)throw new Error("Sector Shift: Expected 12 saw "+We);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+We)}Me.chk("0600","Mini Sector Shift: "),Me.chk("000000000000","Reserved: ")}(on,We);var Ui=on.read_shift(4,"i");if(3===We&&0!==Ui)throw new Error("# Directory Sectors: Expected 0 saw "+Ui);on.l+=4,$t=on.read_shift(4,"i"),on.l+=4,on.chk("00100000","Mini Stream Cutoff Size: "),Cn=on.read_shift(4,"i"),at=on.read_shift(4,"i"),en=on.read_shift(4,"i"),lt=on.read_shift(4,"i");for(var ii=-1,mi=0;mi<109&&!((ii=on.read_shift(4,"i"))<0);++mi)Wt[mi]=ii;var Fo=function Ae(Me,rt){for(var We=Math.ceil(Me.length/rt)-1,Xe=[],at=1;at<We;++at)Xe[at-1]=Me.slice(at*rt,(at+1)*rt);return Xe[We-1]=Me.slice(We*rt),Xe}(Me,Xe);Ne(en,lt,Fo,Xe,Wt);var ms=function et(Me,rt,We,Xe){var at=Me.length,lt=[],$t=[],Cn=[],en=[],Wt=Xe-1,on=0,Ln=0,ni=0,Ui=0;for(on=0;on<at;++on)if(Cn=[],(ni=on+rt)>=at&&(ni-=at),!$t[ni]){en=[];var ii=[];for(Ln=ni;Ln>=0;){ii[Ln]=!0,$t[Ln]=!0,Cn[Cn.length]=Ln,en.push(Me[Ln]);var mi=We[Math.floor(4*Ln/Xe)];if(Xe<4+(Ui=4*Ln&Wt))throw new Error("FAT boundary crossed: "+Ln+" 4 "+Xe);if(!Me[mi]||ii[Ln=qt(Me[mi],Ui)])break}lt[ni]={nodes:Cn,data:Fs([en])}}return lt}(Fo,$t,Wt,Xe);ms[$t].name="!Directory",at>0&&Cn!==Hn&&(ms[Cn].name="!MiniFAT"),ms[Wt[0]].name="!FAT",ms.fat_addrs=Wt,ms.ssz=Xe;var vc=[],Ed=[],Rx=[];(function Ve(Me,rt,We,Xe,at,lt,$t,Cn){for(var Ui,en=0,Wt=Xe.length?2:0,on=rt[Me].data,Ln=0,ni=0;Ln<on.length;Ln+=128){var ii=on.slice(Ln,Ln+128);je(ii,64),ni=ii.read_shift(2),Ui=Qs(ii,0,ni-Wt),Xe.push(Ui);var mi={name:Ui,type:ii.read_shift(1),color:ii.read_shift(1),L:ii.read_shift(4,"i"),R:ii.read_shift(4,"i"),C:ii.read_shift(4,"i"),clsid:ii.read_shift(16),state:ii.read_shift(4,"i"),start:0,size:0};0!==ii.read_shift(2)+ii.read_shift(2)+ii.read_shift(2)+ii.read_shift(2)&&(mi.ct=Dt(ii,ii.l-8)),0!==ii.read_shift(2)+ii.read_shift(2)+ii.read_shift(2)+ii.read_shift(2)&&(mi.mt=Dt(ii,ii.l-8)),mi.start=ii.read_shift(4,"i"),mi.size=ii.read_shift(4,"i"),mi.size<0&&mi.start<0&&(mi.size=mi.type=0,mi.start=Hn,mi.name=""),5===mi.type?(en=mi.start,at>0&&en!==Hn&&(rt[en].name="!StreamData")):mi.size>=4096?(mi.storage="fat",void 0===rt[mi.start]&&(rt[mi.start]=ze(We,mi.start,rt.fat_addrs,rt.ssz)),rt[mi.start].name=mi.name,mi.content=rt[mi.start].data.slice(0,mi.size)):(mi.storage="minifat",mi.size<0?mi.size=0:en!==Hn&&mi.start!==Hn&&rt[en]&&(mi.content=de(mi,rt[en].data,(rt[Cn]||{}).data))),mi.content&&je(mi.content,0),lt[Ui]=mi,$t.push(mi)}})($t,ms,Fo,vc,at,{},Ed,Cn),function qe(Me,rt,We){for(var Xe=0,at=0,lt=0,$t=0,Cn=0,en=We.length,Wt=[],on=[];Xe<en;++Xe)Wt[Xe]=on[Xe]=Xe,rt[Xe]=We[Xe];for(;Cn<on.length;++Cn)at=Me[Xe=on[Cn]].L,lt=Me[Xe].R,$t=Me[Xe].C,Wt[Xe]===Xe&&(-1!==at&&Wt[at]!==at&&(Wt[Xe]=Wt[at]),-1!==lt&&Wt[lt]!==lt&&(Wt[Xe]=Wt[lt])),-1!==$t&&(Wt[$t]=Xe),-1!==at&&Xe!=Wt[Xe]&&(Wt[at]=Wt[Xe],on.lastIndexOf(at)<Cn&&on.push(at)),-1!==lt&&Xe!=Wt[Xe]&&(Wt[lt]=Wt[Xe],on.lastIndexOf(lt)<Cn&&on.push(lt));for(Xe=1;Xe<en;++Xe)Wt[Xe]===Xe&&(-1!==lt&&Wt[lt]!==lt?Wt[Xe]=Wt[lt]:-1!==at&&Wt[at]!==at&&(Wt[Xe]=Wt[at]));for(Xe=1;Xe<en;++Xe)if(0!==Me[Xe].type){if((Cn=Xe)!=Wt[Cn])do{rt[Xe]=rt[Cn=Wt[Cn]]+"/"+rt[Xe]}while(0!==Cn&&-1!==Wt[Cn]&&Cn!=Wt[Cn]);Wt[Xe]=-1}for(rt[0]+="/",Xe=1;Xe<en;++Xe)2!==Me[Xe].type&&(rt[Xe]+="/")}(Ed,Rx,vc),vc.shift();var Dx={FileIndex:Ed,FullPaths:Rx};return rt&&rt.raw&&(Dx.raw={header:ni,sectors:Fo}),Dx}function de(Me,rt,We){for(var at=Me.size,lt=[],$t=Me.start;We&&at>0&&$t>=0;)lt.push(rt.slice($t*Qt,$t*Qt+Qt)),at-=Qt,$t=qt(We,4*$t);return 0===lt.length?ge(0):$e(lt).slice(0,Me.size)}function Ne(Me,rt,We,Xe,at){var lt=Hn;if(Me===Hn){if(0!==rt)throw new Error("DIFAT chain shorter than expected")}else if(-1!==Me){var $t=We[Me],Cn=(Xe>>>2)-1;if(!$t)return;for(var en=0;en<Cn&&(lt=qt($t,4*en))!==Hn;++en)at.push(lt);Ne(qt($t,Xe-4),rt-1,We,Xe,at)}}function ze(Me,rt,We,Xe,at){var lt=[],$t=[];at||(at=[]);var Cn=Xe-1,en=0,Wt=0;for(en=rt;en>=0;){at[en]=!0,lt[lt.length]=en,$t.push(Me[en]);var on=We[Math.floor(4*en/Xe)];if(Xe<4+(Wt=4*en&Cn))throw new Error("FAT boundary crossed: "+en+" 4 "+Xe);if(!Me[on])break;en=qt(Me[on],Wt)}return{nodes:lt,data:Fs([$t])}}function Dt(Me,rt){return new Date(1e3*(Wo(Me,rt+4)/1e7*Math.pow(2,32)+Wo(Me,rt)/1e7-11644473600))}function ct(Me,rt){var We=rt||{},Xe=We.root||"Root Entry";if(Me.FullPaths||(Me.FullPaths=[]),Me.FileIndex||(Me.FileIndex=[]),Me.FullPaths.length!==Me.FileIndex.length)throw new Error("inconsistent CFB structure");0===Me.FullPaths.length&&(Me.FullPaths[0]=Xe+"/",Me.FileIndex[0]={name:Xe,type:5}),We.CLSID&&(Me.FileIndex[0].clsid=We.CLSID),function Jt(Me){var rt="\x01Sh33tJ5";if(!di.find(Me,"/"+rt)){var We=ge(4);We[0]=55,We[1]=We[3]=50,We[2]=54,Me.FileIndex.push({name:rt,type:2,content:We,size:4,L:69,R:69,C:69}),Me.FullPaths.push(Me.FullPaths[0]+rt),Ot(Me)}}(Me)}function Ot(Me,rt){ct(Me);for(var We=!1,Xe=!1,at=Me.FullPaths.length-1;at>=0;--at){var lt=Me.FileIndex[at];switch(lt.type){case 0:Xe?We=!0:(Me.FileIndex.pop(),Me.FullPaths.pop());break;case 1:case 2:case 5:Xe=!0,isNaN(lt.R*lt.L*lt.C)&&(We=!0),lt.R>-1&&lt.L>-1&&lt.R==lt.L&&(We=!0);break;default:We=!0}}if(We||rt){var $t=new Date(1987,1,19),Cn=0,en=Object.create?Object.create(null):{},Wt=[];for(at=0;at<Me.FullPaths.length;++at)en[Me.FullPaths[at]]=!0,0!==Me.FileIndex[at].type&&Wt.push([Me.FullPaths[at],Me.FileIndex[at]]);for(at=0;at<Wt.length;++at){var on=d(Wt[at][0]);(Xe=en[on])||(Wt.push([on,{name:g(on).replace("/",""),type:1,clsid:Hi,ct:$t,mt:$t,content:null}]),en[on]=!0)}for(Wt.sort(function(Ui,ii){return function a(Me,rt){for(var We=Me.split("/"),Xe=rt.split("/"),at=0,lt=0,$t=Math.min(We.length,Xe.length);at<$t;++at){if(lt=We[at].length-Xe[at].length)return lt;if(We[at]!=Xe[at])return We[at]<Xe[at]?-1:1}return We.length-Xe.length}(Ui[0],ii[0])}),Me.FullPaths=[],Me.FileIndex=[],at=0;at<Wt.length;++at)Me.FullPaths[at]=Wt[at][0],Me.FileIndex[at]=Wt[at][1];for(at=0;at<Wt.length;++at){var Ln=Me.FileIndex[at],ni=Me.FullPaths[at];if(Ln.name=g(ni).replace("/",""),Ln.L=Ln.R=Ln.C=-(Ln.color=1),Ln.size=Ln.content?Ln.content.length:0,Ln.start=0,Ln.clsid=Ln.clsid||Hi,0===at)Ln.C=Wt.length>1?1:-1,Ln.size=0,Ln.type=5;else if("/"==ni.slice(-1)){for(Cn=at+1;Cn<Wt.length&&d(Me.FullPaths[Cn])!=ni;++Cn);for(Ln.C=Cn>=Wt.length?-1:Cn,Cn=at+1;Cn<Wt.length&&d(Me.FullPaths[Cn])!=d(ni);++Cn);Ln.R=Cn>=Wt.length?-1:Cn,Ln.type=1}else d(Me.FullPaths[at+1]||"")==d(ni)&&(Ln.R=at+1),Ln.type=2}}}function cn(Me,rt){var We=rt||{};if("mad"==We.fileType)return function L3(Me,rt){for(var We=rt||{},Xe=We.boundary||"SheetJS",at=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+(Xe="------="+Xe).slice(2)+'"',"","",""],lt=Me.FullPaths[0],$t=lt,Cn=Me.FileIndex[0],en=1;en<Me.FullPaths.length;++en)if($t=Me.FullPaths[en].slice(lt.length),(Cn=Me.FileIndex[en]).size&&Cn.content&&"\x01Sh33tJ5"!=$t){$t=$t.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(Fo){return"_x"+Fo.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(Fo){return"_u"+Fo.charCodeAt(0).toString(16)+"_"});for(var Wt=Cn.content,on=Qn&&Buffer.isBuffer(Wt)?Wt.toString("binary"):_i(Wt),Ln=0,ni=Math.min(1024,on.length),Ui=0,ii=0;ii<=ni;++ii)(Ui=on.charCodeAt(ii))>=32&&Ui<128&&++Ln;var mi=Ln>=4*ni/5;at.push(Xe),at.push("Content-Location: "+(We.root||"file:///C:/SheetJS/")+$t),at.push("Content-Transfer-Encoding: "+(mi?"quoted-printable":"base64")),at.push("Content-Type: "+k3(Cn,$t)),at.push(""),at.push(mi?U3(on):M3(on))}return at.push(Xe+"--\r\n"),at.join("\r\n")}(Me,We);if("zip"===(Ot(Me),We.fileType))return function O3(Me,rt){var We=rt||{},Xe=[],at=[],lt=ge(1),$t=We.compression?8:0,Cn=0,Wt=0,on=0,Ln=0,ni=0,Ui=Me.FullPaths[0],ii=Ui,mi=Me.FileIndex[0],Fo=[],ms=0;for(Wt=1;Wt<Me.FullPaths.length;++Wt)if(ii=Me.FullPaths[Wt].slice(Ui.length),(mi=Me.FileIndex[Wt]).size&&mi.content&&"\x01Sh33tJ5"!=ii){var od=Ln,vc=ge(ii.length);for(on=0;on<ii.length;++on)vc.write_shift(1,127&ii.charCodeAt(on));vc=vc.slice(0,vc.l),Fo[ni]=wa.buf(mi.content,0);var Ed=mi.content;8==$t&&(Ed=bt(Ed)),(lt=ge(30)).write_shift(4,67324752),lt.write_shift(2,20),lt.write_shift(2,Cn),lt.write_shift(2,$t),mi.mt?A(lt,mi.mt):lt.write_shift(4,0),lt.write_shift(-4,8&Cn?0:Fo[ni]),lt.write_shift(4,8&Cn?0:Ed.length),lt.write_shift(4,8&Cn?0:mi.content.length),lt.write_shift(2,vc.length),lt.write_shift(2,0),Ln+=lt.length,Xe.push(lt),Ln+=vc.length,Xe.push(vc),Ln+=Ed.length,Xe.push(Ed),8&Cn&&((lt=ge(12)).write_shift(-4,Fo[ni]),lt.write_shift(4,Ed.length),lt.write_shift(4,mi.content.length),Ln+=lt.l,Xe.push(lt)),(lt=ge(46)).write_shift(4,33639248),lt.write_shift(2,0),lt.write_shift(2,20),lt.write_shift(2,Cn),lt.write_shift(2,$t),lt.write_shift(4,0),lt.write_shift(-4,Fo[ni]),lt.write_shift(4,Ed.length),lt.write_shift(4,mi.content.length),lt.write_shift(2,vc.length),lt.write_shift(2,0),lt.write_shift(2,0),lt.write_shift(2,0),lt.write_shift(2,0),lt.write_shift(4,0),lt.write_shift(4,od),ms+=lt.l,at.push(lt),ms+=vc.length,at.push(vc),++ni}return(lt=ge(22)).write_shift(4,101010256),lt.write_shift(2,0),lt.write_shift(2,0),lt.write_shift(2,ni),lt.write_shift(2,ni),lt.write_shift(4,ms),lt.write_shift(4,Ln),lt.write_shift(2,0),$e([$e(Xe),$e(at),lt])}(Me,We);var Xe=function(Ui){for(var ii=0,mi=0,Fo=0;Fo<Ui.FileIndex.length;++Fo){var ms=Ui.FileIndex[Fo];if(ms.content){var od=ms.content.length;od>0&&(od<4096?ii+=od+63>>6:mi+=od+511>>9)}}for(var vc=Ui.FullPaths.length+3>>2,Rx=ii+127>>7,Dx=(ii+7>>3)+mi+vc+Rx,K1=Dx+127>>7,_2=K1<=109?0:Math.ceil((K1-109)/127);Dx+K1+_2+127>>7>K1;)_2=++K1<=109?0:Math.ceil((K1-109)/127);var ag=[1,_2,K1,Rx,vc,mi,ii,0];return Ui.FileIndex[0].size=ii<<6,ag[7]=(Ui.FileIndex[0].start=ag[0]+ag[1]+ag[2]+ag[3]+ag[4]+ag[5])+(ag[6]+7>>3),ag}(Me),at=ge(Xe[7]<<9),lt=0,$t=0;for(lt=0;lt<8;++lt)at.write_shift(1,$n[lt]);for(lt=0;lt<8;++lt)at.write_shift(2,0);for(at.write_shift(2,62),at.write_shift(2,3),at.write_shift(2,65534),at.write_shift(2,9),at.write_shift(2,6),lt=0;lt<3;++lt)at.write_shift(2,0);for(at.write_shift(4,0),at.write_shift(4,Xe[2]),at.write_shift(4,Xe[0]+Xe[1]+Xe[2]+Xe[3]-1),at.write_shift(4,0),at.write_shift(4,4096),at.write_shift(4,Xe[3]?Xe[0]+Xe[1]+Xe[2]-1:Hn),at.write_shift(4,Xe[3]),at.write_shift(-4,Xe[1]?Xe[0]-1:Hn),at.write_shift(4,Xe[1]),lt=0;lt<109;++lt)at.write_shift(-4,lt<Xe[2]?Xe[1]+lt:-1);if(Xe[1])for($t=0;$t<Xe[1];++$t){for(;lt<236+127*$t;++lt)at.write_shift(-4,lt<Xe[2]?Xe[1]+lt:-1);at.write_shift(-4,$t===Xe[1]-1?Hn:$t+1)}var Cn=function(Ui){for($t+=Ui;lt<$t-1;++lt)at.write_shift(-4,lt+1);Ui&&(++lt,at.write_shift(-4,Hn))};for($t=lt=0,$t+=Xe[1];lt<$t;++lt)at.write_shift(-4,Ei.DIFSECT);for($t+=Xe[2];lt<$t;++lt)at.write_shift(-4,Ei.FATSECT);Cn(Xe[3]),Cn(Xe[4]);for(var en=0,Wt=0,on=Me.FileIndex[0];en<Me.FileIndex.length;++en)(on=Me.FileIndex[en]).content&&!((Wt=on.content.length)<4096)&&(on.start=$t,Cn(Wt+511>>9));for(Cn(Xe[6]+7>>3);511&at.l;)at.write_shift(-4,Ei.ENDOFCHAIN);for($t=lt=0,en=0;en<Me.FileIndex.length;++en)(on=Me.FileIndex[en]).content&&(Wt=on.content.length)&&!(Wt>=4096)&&(on.start=$t,Cn(Wt+63>>6));for(;511&at.l;)at.write_shift(-4,Ei.ENDOFCHAIN);for(lt=0;lt<Xe[4]<<2;++lt){var Ln=Me.FullPaths[lt];if(Ln&&0!==Ln.length){on=Me.FileIndex[lt],0===lt&&(on.start=on.size?on.start-1:Hn);var ni=0===lt&&We.root||on.name;if(Wt=2*(ni.length+1),at.write_shift(64,ni,"utf16le"),at.write_shift(2,Wt),at.write_shift(1,on.type),at.write_shift(1,on.color),at.write_shift(-4,on.L),at.write_shift(-4,on.R),at.write_shift(-4,on.C),on.clsid)at.write_shift(16,on.clsid,"hex");else for(en=0;en<4;++en)at.write_shift(4,0);at.write_shift(4,on.state||0),at.write_shift(4,0),at.write_shift(4,0),at.write_shift(4,0),at.write_shift(4,0),at.write_shift(4,on.start),at.write_shift(4,on.size),at.write_shift(4,0)}else{for(en=0;en<17;++en)at.write_shift(4,0);for(en=0;en<3;++en)at.write_shift(4,-1);for(en=0;en<12;++en)at.write_shift(4,0)}}for(lt=1;lt<Me.FileIndex.length;++lt)if((on=Me.FileIndex[lt]).size>=4096)if(at.l=on.start+1<<9,Qn&&Buffer.isBuffer(on.content))on.content.copy(at,at.l,0,on.size),at.l+=on.size+511&-512;else{for(en=0;en<on.size;++en)at.write_shift(1,on.content[en]);for(;511&en;++en)at.write_shift(1,0)}for(lt=1;lt<Me.FileIndex.length;++lt)if((on=Me.FileIndex[lt]).size>0&&on.size<4096)if(Qn&&Buffer.isBuffer(on.content))on.content.copy(at,at.l,0,on.size),at.l+=on.size+63&-64;else{for(en=0;en<on.size;++en)at.write_shift(1,on.content[en]);for(;63&en;++en)at.write_shift(1,0)}if(Qn)at.l=at.length;else for(;at.l<at.length;)at.write_shift(1,0);return at}s.version="1.2.1";var In,Qt=64,Hn=-2,Ti="d0cf11e0a1b11ae1",$n=[208,207,17,224,161,177,26,225],Hi="00000000000000000000000000000000",Ei={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:Hn,FREESECT:-1,HEADER_SIGNATURE:Ti,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:Hi,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function _i(Me){for(var rt=new Array(Me.length),We=0;We<Me.length;++We)rt[We]=String.fromCharCode(Me[We]);return rt.join("")}function bt(Me){return In?In.deflateRawSync(Me):or(Me)}for(var Me,rt,Tt=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],An=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],ai=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577],jn=typeof Uint8Array<"u",En=jn?new Uint8Array(256):[],zo=0;zo<256;++zo)En[zo]=(void 0,255&((rt=139536&((Me=zo)<<1|Me<<11)|558144&(Me<<5|Me<<15))>>16|rt>>8|rt));function pt(Me,rt){var We=En[255&Me];return rt<=8?We>>>8-rt:(We=We<<8|En[Me>>8&255],rt<=16?We>>>16-rt:(We=We<<8|En[Me>>16&255])>>>24-rt)}function fa(Me,rt){var We=7&rt,Xe=rt>>>3;return(Me[Xe]|(We<=6?0:Me[Xe+1]<<8))>>>We&3}function cr(Me,rt){var We=7&rt,Xe=rt>>>3;return(Me[Xe]|(We<=5?0:Me[Xe+1]<<8))>>>We&7}function ur(Me,rt){var We=7&rt,Xe=rt>>>3;return(Me[Xe]|(We<=3?0:Me[Xe+1]<<8))>>>We&31}function gi(Me,rt){var We=7&rt,Xe=rt>>>3;return(Me[Xe]|(We<=1?0:Me[Xe+1]<<8))>>>We&127}function rc(Me,rt,We){var Xe=7&rt,at=rt>>>3,$t=Me[at]>>>Xe;return We<8-Xe||($t|=Me[at+1]<<8-Xe,We<16-Xe)||($t|=Me[at+2]<<16-Xe,We<24-Xe)||($t|=Me[at+3]<<24-Xe),$t&(1<<We)-1}function P_(Me,rt,We){var Xe=7&rt,at=rt>>>3;return Xe<=5?Me[at]|=(7&We)<<Xe:(Me[at]|=We<<Xe&255,Me[at+1]=(7&We)>>8-Xe),rt+3}function cf(Me,rt,We){return Me[rt>>>3]|=We=(1&We)<<(7&rt),rt+1}function og(Me,rt,We){var at=rt>>>3;return Me[at]|=255&(We<<=7&rt),Me[at+1]=We>>>=8,rt+8}function Ix(Me,rt,We){var at=rt>>>3;return Me[at]|=255&(We<<=7&rt),Me[at+1]=255&(We>>>=8),Me[at+2]=We>>>8,rt+16}function kg(Me,rt){var We=Me.length,Xe=2*We>rt?2*We:rt+5,at=0;if(We>=rt)return Me;if(Qn){var lt=tn(Xe);if(Me.copy)Me.copy(lt);else for(;at<Me.length;++at)lt[at]=Me[at];return lt}if(jn){var $t=new Uint8Array(Xe);if($t.set)$t.set(Me);else for(;at<We;++at)$t[at]=Me[at];return $t}return Me.length=Xe,Me}function Id(Me){for(var rt=new Array(Me),We=0;We<Me;++We)rt[We]=0;return rt}function rg(Me,rt,We){var Xe=1,at=0,lt=0,$t=0,Cn=0,en=Me.length,Wt=jn?new Uint16Array(32):Id(32);for(lt=0;lt<32;++lt)Wt[lt]=0;for(lt=en;lt<We;++lt)Me[lt]=0;en=Me.length;var on=jn?new Uint16Array(en):Id(en);for(lt=0;lt<en;++lt)Wt[at=Me[lt]]++,Xe<at&&(Xe=at),on[lt]=0;for(Wt[0]=0,lt=1;lt<=Xe;++lt)Wt[lt+16]=Cn=Cn+Wt[lt-1]<<1;for(lt=0;lt<en;++lt)0!=(Cn=Me[lt])&&(on[lt]=Wt[Cn+16]++);var Ln=0;for(lt=0;lt<en;++lt)if(0!=(Ln=Me[lt]))for(Cn=pt(on[lt],Xe)>>Xe-Ln,$t=(1<<Xe+4-Ln)-1;$t>=0;--$t)rt[Cn|$t<<Ln]=15&Ln|lt<<4;return Xe}var Mg=jn?new Uint16Array(512):Id(512),Ex=jn?new Uint16Array(32):Id(32);if(!jn){for(var Om=0;Om<512;++Om)Mg[Om]=0;for(Om=0;Om<32;++Om)Ex[Om]=0}!function(){for(var Me=[],rt=0;rt<32;rt++)Me.push(5);rg(Me,Ex,32);var We=[];for(rt=0;rt<=143;rt++)We.push(8);for(;rt<=255;rt++)We.push(9);for(;rt<=279;rt++)We.push(7);for(;rt<=287;rt++)We.push(8);rg(We,Mg,288)}();var uf=function(){for(var rt=jn?new Uint8Array(32768):[],We=0,Xe=0;We<ai.length-1;++We)for(;Xe<ai[We+1];++Xe)rt[Xe]=We;for(;Xe<32768;++Xe)rt[Xe]=29;var at=jn?new Uint8Array(259):[];for(We=0,Xe=0;We<An.length-1;++We)for(;Xe<An[We+1];++Xe)at[Xe]=We;return function(en,Wt){return en.length<8?function lt(Cn,en){for(var Wt=0;Wt<Cn.length;){var on=Math.min(65535,Cn.length-Wt);for(en.write_shift(1,+(Wt+on==Cn.length)),en.write_shift(2,on),en.write_shift(2,65535&~on);on-- >0;)en[en.l++]=Cn[Wt++]}return en.l}(en,Wt):function $t(Cn,en){for(var Wt=0,on=0,Ln=jn?new Uint16Array(32768):[];on<Cn.length;){var ni=Math.min(65535,Cn.length-on);if(ni<10){for(7&(Wt=P_(en,Wt,+(on+ni==Cn.length)))&&(Wt+=8-(7&Wt)),en.l=Wt/8|0,en.write_shift(2,ni),en.write_shift(2,65535&~ni);ni-- >0;)en[en.l++]=Cn[on++];Wt=8*en.l}else{Wt=P_(en,Wt,+(on+ni==Cn.length)+2);for(var Ui=0;ni-- >0;){var ii=Cn[on],mi=-1,Fo=0;if((mi=Ln[Ui=32767&(Ui<<5^ii)])&&((mi|=-32768&on)>on&&(mi-=32768),mi<on))for(;Cn[mi+Fo]==Cn[on+Fo]&&Fo<250;)++Fo;if(Fo>2){(ii=at[Fo])<=22?Wt=og(en,Wt,En[ii+1]>>1)-1:(og(en,Wt,3),og(en,Wt+=5,En[ii-23]>>5),Wt+=3);var ms=ii<8?0:ii-4>>2;ms>0&&(Ix(en,Wt,Fo-An[ii]),Wt+=ms),Wt=og(en,Wt,En[ii=rt[on-mi]]>>3),Wt-=3;var od=ii<4?0:ii-2>>1;od>0&&(Ix(en,Wt,on-mi-ai[ii]),Wt+=od);for(var vc=0;vc<Fo;++vc)Ln[Ui]=32767&on,Ui=32767&(Ui<<5^Cn[on]),++on;ni-=Fo-1}else ii<=143?ii+=48:Wt=cf(en,Wt,1),Wt=og(en,Wt,En[ii]),Ln[Ui]=32767&on,++on}Wt=og(en,Wt,0)-1}}return en.l=(Wt+7)/8|0,en.l}(en,Wt)}}();function or(Me){var rt=ge(50+Math.floor(1.1*Me.length)),We=uf(Me,rt);return rt.slice(0,We)}var ac=jn?new Uint16Array(32768):Id(32768),Z_=jn?new Uint16Array(32768):Id(32768),Lc=jn?new Uint16Array(128):Id(128),$1=1,E2=1;function R3(Me,rt){var We=ur(Me,rt)+257,Xe=ur(Me,rt+=5)+1,at=function ga(Me,rt){var We=7&rt,Xe=rt>>>3;return(Me[Xe]|(We<=4?0:Me[Xe+1]<<8))>>>We&15}(Me,rt+=5)+4;rt+=4;for(var lt=0,$t=jn?new Uint8Array(19):Id(19),Cn=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],en=1,Wt=jn?new Uint8Array(8):Id(8),on=jn?new Uint8Array(8):Id(8),Ln=$t.length,ni=0;ni<at;++ni)$t[Tt[ni]]=lt=cr(Me,rt),en<lt&&(en=lt),Wt[lt]++,rt+=3;var Ui=0;for(Wt[0]=0,ni=1;ni<=en;++ni)on[ni]=Ui=Ui+Wt[ni-1]<<1;for(ni=0;ni<Ln;++ni)0!=(Ui=$t[ni])&&(Cn[ni]=on[Ui]++);var ii=0;for(ni=0;ni<Ln;++ni)if(0!=(ii=$t[ni])){Ui=En[Cn[ni]]>>8-ii;for(var mi=(1<<7-ii)-1;mi>=0;--mi)Lc[Ui|mi<<ii]=7&ii|ni<<3}var Fo=[];for(en=1;Fo.length<We+Xe;)switch(Ui=Lc[gi(Me,rt)],rt+=7&Ui,Ui>>>=3){case 16:for(lt=3+fa(Me,rt),rt+=2,Ui=Fo[Fo.length-1];lt-- >0;)Fo.push(Ui);break;case 17:for(lt=3+cr(Me,rt),rt+=3;lt-- >0;)Fo.push(0);break;case 18:for(lt=11+gi(Me,rt),rt+=7;lt-- >0;)Fo.push(0);break;default:Fo.push(Ui),en<Ui&&(en=Ui)}var ms=Fo.slice(0,We),od=Fo.slice(We);for(ni=We;ni<286;++ni)ms[ni]=0;for(ni=Xe;ni<30;++ni)od[ni]=0;return $1=rg(ms,ac,286),E2=rg(od,Z_,30),rt}function R2(Me,rt){var Xe=function D3(Me,rt){if(3==Me[0]&&!(3&Me[1]))return[xi(rt),2];for(var We=0,Xe=0,at=tn(rt||1<<18),lt=0,$t=at.length>>>0,Cn=0,en=0;!(1&Xe);)if(Xe=cr(Me,We),We+=3,Xe>>>1)for(Xe>>1==1?(Cn=9,en=5):(We=R3(Me,We),Cn=$1,en=E2);;){!rt&&$t<lt+32767&&($t=(at=kg(at,lt+32767)).length);var on=rc(Me,We,Cn),Ln=Xe>>>1==1?Mg[on]:ac[on];if(We+=15&Ln,(Ln>>>=4)>>>8&255){if(256==Ln)break;var ni=(Ln-=257)<8?0:Ln-4>>2;ni>5&&(ni=0);var Ui=lt+An[Ln];ni>0&&(Ui+=rc(Me,We,ni),We+=ni),on=rc(Me,We,en),We+=15&(Ln=Xe>>>1==1?Ex[on]:Z_[on]);var ii=(Ln>>>=4)<4?0:Ln-2>>1,mi=ai[Ln];for(ii>0&&(mi+=rc(Me,We,ii),We+=ii),!rt&&$t<Ui&&($t=(at=kg(at,Ui+100)).length);lt<Ui;)at[lt]=at[lt-mi],++lt}else at[lt++]=Ln}else{7&We&&(We+=8-(7&We));var Wt=Me[We>>>3]|Me[1+(We>>>3)]<<8;if(We+=32,Wt>0)for(!rt&&$t<lt+Wt&&($t=(at=kg(at,lt+Wt)).length);Wt-- >0;)at[lt++]=Me[We>>>3],We+=8}return rt?[at,We+7>>>3]:[at.slice(0,lt),We+7>>>3]}(Me.slice(Me.l||0),rt);return Me.l+=Xe[1],Xe[0]}function D2(Me,rt){if(!Me)throw new Error(rt);typeof console<"u"&&console.error(rt)}function w2(Me,rt){var We=Me;je(We,0);var lt={FileIndex:[],FullPaths:[]};ct(lt,{root:rt.root});for(var $t=We.length-4;(80!=We[$t]||75!=We[$t+1]||5!=We[$t+2]||6!=We[$t+3])&&$t>=0;)--$t;We.l=$t+4,We.l+=4;var Cn=We.read_shift(2);We.l+=6;var en=We.read_shift(4);for(We.l=en,$t=0;$t<Cn;++$t){We.l+=20;var Wt=We.read_shift(4),on=We.read_shift(4),Ln=We.read_shift(2),ni=We.read_shift(2),Ui=We.read_shift(2);We.l+=8;var ii=We.read_shift(4),mi=R(We.slice(We.l+Ln,We.l+Ln+ni));We.l+=Ln+ni+Ui;var Fo=We.l;We.l=ii+4,w3(We,Wt,on,lt,mi),We.l=Fo}return lt}function w3(Me,rt,We,Xe,at){Me.l+=2;var lt=Me.read_shift(2),$t=Me.read_shift(2),Cn=function T(Me){var rt=65535&Me.read_shift(2),We=65535&Me.read_shift(2),Xe=new Date,at=31&We,lt=15&(We>>>=5);We>>>=4,Xe.setMilliseconds(0),Xe.setFullYear(We+1980),Xe.setMonth(lt-1),Xe.setDate(at);var $t=31&rt,Cn=63&(rt>>>=5);return Xe.setHours(rt>>>=6),Xe.setMinutes(Cn),Xe.setSeconds($t<<1),Xe}(Me);if(8257&lt)throw new Error("Unsupported ZIP encryption");Me.read_shift(4);for(var Wt=Me.read_shift(4),on=Me.read_shift(4),Ln=Me.read_shift(2),ni=Me.read_shift(2),Ui="",ii=0;ii<Ln;++ii)Ui+=String.fromCharCode(Me[Me.l++]);if(ni){var mi=R(Me.slice(Me.l,Me.l+ni));(mi[21589]||{}).mt&&(Cn=mi[21589].mt),((at||{})[21589]||{}).mt&&(Cn=at[21589].mt)}Me.l+=ni;var Fo=Me.slice(Me.l,Me.l+Wt);switch($t){case 8:Fo=function Xt(Me,rt){if(!In)return R2(Me,rt);var Xe=new(0,In.InflateRaw),at=Xe._processChunk(Me.slice(Me.l),Xe._finishFlushFlag);return Me.l+=Xe.bytesRead,at}(Me,on);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+$t)}var ms=!1;8&lt&&(134695760==Me.read_shift(4)&&(Me.read_shift(4),ms=!0),Wt=Me.read_shift(4),on=Me.read_shift(4)),Wt!=rt&&D2(ms,"Bad compressed size: "+rt+" != "+Wt),on!=We&&D2(ms,"Bad uncompressed size: "+We+" != "+on),d2(Xe,Ui,Fo,{unsafe:!0,mt:Cn})}var jx={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function k3(Me,rt){if(Me.ctype)return Me.ctype;var We=Me.name||"",Xe=We.match(/\.([^\.]+)$/);return Xe&&jx[Xe[1]]||rt&&(Xe=(We=rt).match(/[\.\\]([^\.\\])+$/))&&jx[Xe[1]]?jx[Xe[1]]:"application/octet-stream"}function M3(Me){for(var rt=Jn(Me),We=[],Xe=0;Xe<rt.length;Xe+=76)We.push(rt.slice(Xe,Xe+76));return We.join("\r\n")+"\r\n"}function U3(Me){var rt=Me.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(Wt){var on=Wt.charCodeAt(0).toString(16).toUpperCase();return"="+(1==on.length?"0"+on:on)});"\n"==(rt=rt.replace(/ $/gm,"=20").replace(/\t$/gm,"=09")).charAt(0)&&(rt="=0D"+rt.slice(1));for(var We=[],Xe=(rt=rt.replace(/\r(?!\n)/gm,"=0D").replace(/\n\n/gm,"\n=0A").replace(/([^\r\n])\n/gm,"$1=0A")).split("\r\n"),at=0;at<Xe.length;++at){var lt=Xe[at];if(0!=lt.length)for(var $t=0;$t<lt.length;){var Cn=76,en=lt.slice($t,$t+Cn);"="==en.charAt(Cn-1)?Cn--:"="==en.charAt(Cn-2)?Cn-=2:"="==en.charAt(Cn-3)&&(Cn-=3),en=lt.slice($t,$t+Cn),($t+=Cn)<lt.length&&(en+="="),We.push(en)}else We.push("")}return We.join("\r\n")}function Q3(Me,rt,We){for(var $t,Xe="",at="",lt="",Cn=0;Cn<10;++Cn){var en=rt[Cn];if(!en||en.match(/^\s*$/))break;var Wt=en.match(/^(.*?):\s*([^\s].*)$/);if(Wt)switch(Wt[1].toLowerCase()){case"content-location":Xe=Wt[2].trim();break;case"content-type":lt=Wt[2].trim();break;case"content-transfer-encoding":at=Wt[2].trim()}}switch(++Cn,at.toLowerCase()){case"base64":$t=Kt(pi(rt.slice(Cn).join("")));break;case"quoted-printable":$t=function F3(Me){for(var rt=[],We=0;We<Me.length;++We){for(var Xe=Me[We];We<=Me.length&&"="==Xe.charAt(Xe.length-1);)Xe=Xe.slice(0,Xe.length-1)+Me[++We];rt.push(Xe)}for(var at=0;at<rt.length;++at)rt[at]=rt[at].replace(/[=][0-9A-Fa-f]{2}/g,function(lt){return String.fromCharCode(parseInt(lt.slice(1),16))});return Kt(rt.join("\r\n"))}(rt.slice(Cn));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+at)}var on=d2(Me,Xe.slice(We.length),$t,{unsafe:!0});lt&&(on.ctype=lt)}function d2(Me,rt,We,Xe){var at=Xe&&Xe.unsafe;at||ct(Me);var lt=!at&&di.find(Me,rt);if(!lt){var $t=Me.FullPaths[0];rt.slice(0,$t.length)==$t?$t=rt:("/"!=$t.slice(-1)&&($t+="/"),$t=($t+rt).replace("//","/")),lt={name:g(rt),type:2},Me.FileIndex.push(lt),Me.FullPaths.push($t),at||di.utils.cfb_gc(Me)}return lt.content=We,lt.size=We?We.length:0,Xe&&(Xe.CLSID&&(lt.clsid=Xe.CLSID),Xe.mt&&(lt.mt=Xe.mt),Xe.ct&&(lt.ct=Xe.ct)),lt}return s.find=function un(Me,rt){var We=Me.FullPaths.map(function(en){return en.toUpperCase()}),Xe=We.map(function(en){var Wt=en.split("/");return Wt[Wt.length-("/"==en.slice(-1)?2:1)]}),at=!1;47===rt.charCodeAt(0)?(at=!0,rt=We[0].slice(0,-1)+rt):at=-1!==rt.indexOf("/");var lt=rt.toUpperCase(),$t=!0===at?We.indexOf(lt):Xe.indexOf(lt);if(-1!==$t)return Me.FileIndex[$t];var Cn=!lt.match(Gn);for(lt=lt.replace(Vt,""),Cn&&(lt=lt.replace(Gn,"!")),$t=0;$t<We.length;++$t)if((Cn?We[$t].replace(Gn,"!"):We[$t]).replace(Vt,"")==lt||(Cn?Xe[$t].replace(Gn,"!"):Xe[$t]).replace(Vt,"")==lt)return Me.FileIndex[$t];return null},s.read=function Rt(Me,rt){var We=rt&&rt.type;switch(We||Qn&&Buffer.isBuffer(Me)&&(We="buffer"),We||"base64"){case"file":return function Ht(Me,rt){return V(),X(L.readFileSync(Me),rt)}(Me,rt);case"base64":return X(Kt(pi(Me)),rt);case"binary":return X(Kt(Me),rt)}return X(Me,rt)},s.parse=X,s.write=function Ji(Me,rt){var We=cn(Me,rt);switch(rt&&rt.type||"buffer"){case"file":return V(),L.writeFileSync(rt.filename,We),We;case"binary":return"string"==typeof We?We:_i(We);case"base64":return Jn("string"==typeof We?We:_i(We));case"buffer":if(Qn)return Buffer.isBuffer(We)?We:Kn(We);case"array":return"string"==typeof We?Kt(We):We}return We},s.writeFile=function ir(Me,rt,We){V();var Xe=cn(Me,We);L.writeFileSync(rt,Xe)},s.utils={cfb_new:function Y3(Me){var rt={};return ct(rt,Me),rt},cfb_add:d2,cfb_del:function G3(Me,rt){ct(Me);var We=di.find(Me,rt);if(We)for(var Xe=0;Xe<Me.FileIndex.length;++Xe)if(Me.FileIndex[Xe]==We)return Me.FileIndex.splice(Xe,1),Me.FullPaths.splice(Xe,1),!0;return!1},cfb_mov:function B3(Me,rt,We){ct(Me);var Xe=di.find(Me,rt);if(Xe)for(var at=0;at<Me.FileIndex.length;++at)if(Me.FileIndex[at]==Xe)return Me.FileIndex[at].name=g(We),Me.FullPaths[at]=We,!0;return!1},cfb_gc:function z3(Me){Ot(Me,!0)},ReadShift:Gt,CheckField:ue,prep_blob:je,bconcat:$e,use_zlib:function gt(Me){try{var We=new(0,Me.InflateRaw);if(We._processChunk(new Uint8Array([3,0]),We._finishFlushFlag),!We.bytesRead)throw new Error("zlib does not expose bytesRead");In=Me}catch(Xe){console.error("cannot use native zlib: "+(Xe.message||Xe))}},_deflateRaw:or,_inflateRaw:R2,consts:Ei},s}();let Yr;function Ro(r){for(var s=Object.keys(r),a=[],d=0;d<s.length;++d)Object.prototype.hasOwnProperty.call(r,s[d])&&a.push(s[d]);return a}function qr(r){for(var s=[],a=Ro(r),d=0;d!==a.length;++d)s[r[a[d]]]=a[d];return s}var ca=new Date(1899,11,30,0,0,0);function So(r,s){var a=r.getTime();return s&&(a-=1263168e5),(a-(ca.getTime()+6e4*(r.getTimezoneOffset()-ca.getTimezoneOffset())))/864e5}var jr=new Date,Hr=ca.getTime()+6e4*(jr.getTimezoneOffset()-ca.getTimezoneOffset()),oo=jr.getTimezoneOffset();function nt(r){var s=new Date;return s.setTime(24*r*60*60*1e3+Hr),s.getTimezoneOffset()!==oo&&s.setTime(s.getTime()+6e4*(s.getTimezoneOffset()-oo)),s}function jt(r){var s=0,a=0,d=!1,g=r.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!g)throw new Error("|"+r+"| is not an ISO8601 Duration");for(var A=1;A!=g.length;++A)if(g[A]){switch(a=1,A>3&&(d=!0),g[A].slice(g[A].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+g[A].slice(g[A].length-1));case"D":a*=24;case"H":a*=60;case"M":if(!d)throw new Error("Unsupported ISO Duration Field: M");a*=60}s+=a*parseInt(g[A],10)}return s}var Be=new Date("2017-02-19T19:06:09.000Z"),zt=isNaN(Be.getFullYear())?new Date("2/19/17"):Be,yn=2017==zt.getFullYear();function Un(r,s){var a=new Date(r);if(yn)return s>0?a.setTime(a.getTime()+60*a.getTimezoneOffset()*1e3):s<0&&a.setTime(a.getTime()-60*a.getTimezoneOffset()*1e3),a;if(r instanceof Date)return r;if(1917==zt.getFullYear()&&!isNaN(a.getFullYear())){var d=a.getFullYear();return r.indexOf(""+d)>-1||a.setFullYear(a.getFullYear()+100),a}var g=r.match(/\d+/g)||["2017","2","19","0","0","0"],A=new Date(+g[0],+g[1]-1,+g[2],+g[3]||0,+g[4]||0,+g[5]||0);return r.indexOf("Z")>-1&&(A=new Date(A.getTime()-60*A.getTimezoneOffset()*1e3)),A}function wi(r,s){if(Qn&&Buffer.isBuffer(r)){if(s){if(255==r[0]&&254==r[1])return Kr(r.slice(2).toString("utf16le"));if(254==r[1]&&255==r[2])return Kr(xn(r.slice(2).toString("binary")))}return r.toString("binary")}if(typeof TextDecoder<"u")try{if(s){if(255==r[0]&&254==r[1])return Kr(new TextDecoder("utf-16le").decode(r.slice(2)));if(254==r[0]&&255==r[1])return Kr(new TextDecoder("utf-16be").decode(r.slice(2)))}var a={"\u20ac":"\x80","\u201a":"\x82",\u0192:"\x83","\u201e":"\x84","\u2026":"\x85","\u2020":"\x86","\u2021":"\x87",\u02c6:"\x88","\u2030":"\x89",\u0160:"\x8a","\u2039":"\x8b",\u0152:"\x8c",\u017d:"\x8e","\u2018":"\x91","\u2019":"\x92","\u201c":"\x93","\u201d":"\x94","\u2022":"\x95","\u2013":"\x96","\u2014":"\x97","\u02dc":"\x98","\u2122":"\x99",\u0161:"\x9a","\u203a":"\x9b",\u0153:"\x9c",\u017e:"\x9e",\u0178:"\x9f"};return Array.isArray(r)&&(r=new Uint8Array(r)),new TextDecoder("latin1").decode(r).replace(/[\u20ac\u201a\u0192\u201e\u2026\u2020\u2021\u02c6\u2030\u0160\u2039\u0152\u017d\u2018\u2019\u201c\u201d\u2022\u2013\u2014\u02dc\u2122\u0161\u203a\u0153\u017e\u0178]/g,function(A){return a[A]||A})}catch{}for(var d=[],g=0;g!=r.length;++g)d.push(String.fromCharCode(r[g]));return d.join("")}function ro(r){if(typeof JSON<"u"&&!Array.isArray(r))return JSON.parse(JSON.stringify(r));if("object"!=typeof r||null==r)return r;if(r instanceof Date)return new Date(r.getTime());var s={};for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(s[a]=ro(r[a]));return s}function ko(r,s){for(var a="";a.length<s;)a+=r;return a}function hr(r){var s=Number(r);if(!isNaN(s))return isFinite(s)?s:NaN;if(!/\d/.test(r))return s;var a=1,d=r.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return a*=100,""});return isNaN(s=Number(d))&&(d=d.replace(/[(](.*)[)]/,function(g,A){return a=-a,A}),isNaN(s=Number(d)))?s:s/a}var Rl=["january","february","march","april","may","june","july","august","september","october","november","december"];function ka(r){var s=new Date(r),a=new Date(NaN),d=s.getYear(),g=s.getMonth(),A=s.getDate();if(isNaN(A))return a;var T=r.toLowerCase();if(T.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if((T=T.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,"")).length>3&&-1==Rl.indexOf(T))return a}else if(T.match(/[a-z]/))return a;return d<0||d>8099?a:(g>0||A>1)&&101!=d?s:r.match(/[^-0-9:,\/\\]/)?a:s}var rl=function(){var r=5=="abacaba".split(/(:?b)/i).length;return function(a,d,g){if(r||"string"==typeof d)return a.split(d);for(var A=a.split(d),T=[A[0]],R=1;R<A.length;++R)T.push(g),T.push(A[R]);return T}}();function Is(r){return r?r.content&&r.type?wi(r.content,!0):r.data?mn(r.data):r.asNodeBuffer&&Qn?mn(r.asNodeBuffer().toString("binary")):r.asBinary?mn(r.asBinary()):r._data&&r._data.getContent?mn(wi(Array.prototype.slice.call(r._data.getContent(),0))):null:null}function Dl(r){if(!r)return null;if(r.data)return nn(r.data);if(r.asNodeBuffer&&Qn)return r.asNodeBuffer();if(r._data&&r._data.getContent){var s=r._data.getContent();return"string"==typeof s?nn(s):Array.prototype.slice.call(s)}return r.content&&r.type?r.content:null}function Er(r,s){for(var a=r.FullPaths||Ro(r.files),d=s.toLowerCase().replace(/[\/]/g,"\\"),g=d.replace(/\\/g,"/"),A=0;A<a.length;++A){var T=a[A].replace(/^Root Entry[\/]/,"").toLowerCase();if(d==T||g==T)return r.files?r.files[a[A]]:r.FileIndex[A]}return null}function al(r,s){var a=Er(r,s);if(null==a)throw new Error("Cannot find file "+s+" in zip");return a}function Oi(r,s,a){if(!a)return function $l(r){return r&&".bin"===r.name.slice(-4)?Dl(r):Is(r)}(al(r,s));if(!s)return null;try{return Oi(r,s)}catch{return null}}function zi(r,s,a){if(!a)return Is(al(r,s));if(!s)return null;try{return zi(r,s)}catch{return null}}function wl(r,s,a){if(!a)return Dl(al(r,s));if(!s)return null;try{return wl(r,s)}catch{return null}}function sl(r){for(var s=r.FullPaths||Ro(r.files),a=[],d=0;d<s.length;++d)"/"!=s[d].slice(-1)&&a.push(s[d].replace(/^Root Entry[\/]/,""));return a.sort()}function Wa(r,s){switch(s.type){case"base64":return di.read(r,{type:"base64"});case"binary":return di.read(r,{type:"binary"});case"buffer":case"array":return di.read(r,{type:"buffer"})}throw new Error("Unrecognized type "+s.type)}function Tr(r,s){if("/"==r.charAt(0))return r.slice(1);var a=s.split("/");"/"!=s.slice(-1)&&a.pop();for(var d=r.split("/");0!==d.length;){var g=d.shift();".."===g?a.pop():"."!==g&&a.push(g)}return a.join("/")}var _o='<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r\n',Xa=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,Do=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/gm,Vo=_o.match(Do)?Do:/<[^>]*>/g,cl=/<\w*:/,ul=/<(\/?)\w+:/;function si(r,s,a){for(var d={},g=0,A=0;g!==r.length&&32!==(A=r.charCodeAt(g))&&10!==A&&13!==A;++g);if(s||(d[0]=r.slice(0,g)),g===r.length)return d;var T=r.match(Xa),R=0,L="",V=0,X="",pe="",fe=1;if(T)for(V=0;V!=T.length;++V){for(pe=T[V],A=0;A!=pe.length&&61!==pe.charCodeAt(A);++A);for(X=pe.slice(0,A).trim();32==pe.charCodeAt(A+1);)++A;for(fe=34==(g=pe.charCodeAt(A+1))||39==g?1:0,L=pe.slice(A+1+fe,pe.length-fe),R=0;R!=X.length&&58!==X.charCodeAt(R);++R);if(R===X.length)X.indexOf("_")>0&&(X=X.slice(0,X.indexOf("_"))),d[X]=L,a||(d[X.toLowerCase()]=L);else{var Ae=(5===R&&"xmlns"===X.slice(0,5)?"xmlns":"")+X.slice(R+1);if(d[Ae]&&"ext"==X.slice(R-3,R))continue;d[Ae]=L,a||(d[Ae.toLowerCase()]=L)}}return d}function Gr(r){return r.replace(ul,"<$1")}var ml={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},Es=qr(ml),ao=function(){var r=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/gi,s=/_x([\da-fA-F]{4})_/gi;return function a(d){var g=d+"",A=g.indexOf("<![CDATA[");if(-1==A)return g.replace(r,function(R,L){return ml[R]||String.fromCharCode(parseInt(L,R.indexOf("x")>-1?16:10))||R}).replace(s,function(R,L){return String.fromCharCode(parseInt(L,16))});var T=g.indexOf("]]>");return a(g.slice(0,A))+g.slice(A+9,T)+a(g.slice(T+3))}}(),Rs=/[&<>'"]/g,ar=/[\u0000-\u001f]/g;function Ds(r){return(r+"").replace(Rs,function(a){return Es[a]}).replace(/\n/g,"<br/>").replace(ar,function(a){return"&#x"+("000"+a.charCodeAt(0).toString(16)).slice(-4)+";"})}var Rr=function(){var r=/&#(\d+);/g;function s(a,d){return String.fromCharCode(parseInt(d,10))}return function(d){return d.replace(r,s)}}();function Po(r){switch(r){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function yo(r){for(var s="",a=0,d=0,g=0,A=0,T=0,R=0;a<r.length;)(d=r.charCodeAt(a++))<128?s+=String.fromCharCode(d):(g=r.charCodeAt(a++),d>191&&d<224?(T=(31&d)<<6,T|=63&g,s+=String.fromCharCode(T)):(A=r.charCodeAt(a++),d<240?s+=String.fromCharCode((15&d)<<12|(63&g)<<6|63&A):(R=((7&d)<<18|(63&g)<<12|(63&A)<<6|63&(T=r.charCodeAt(a++)))-65536,s+=String.fromCharCode(55296+(R>>>10&1023)),s+=String.fromCharCode(56320+(1023&R)))));return s}function ua(r){var a,d,R,s=xi(2*r.length),g=1,A=0,T=0;for(d=0;d<r.length;d+=g)g=1,(R=r.charCodeAt(d))<128?a=R:R<224?(a=64*(31&R)+(63&r.charCodeAt(d+1)),g=2):R<240?(a=4096*(15&R)+64*(63&r.charCodeAt(d+1))+(63&r.charCodeAt(d+2)),g=3):(g=4,a=262144*(7&R)+4096*(63&r.charCodeAt(d+1))+64*(63&r.charCodeAt(d+2))+(63&r.charCodeAt(d+3)),T=55296+((a-=65536)>>>10&1023),a=56320+(1023&a)),0!==T&&(s[A++]=255&T,s[A++]=T>>>8,T=0),s[A++]=a%256,s[A++]=a>>>8;return s.slice(0,A).toString("ucs2")}function Os(r){return Kn(r,"binary").toString("utf8")}var ks="foo bar baz\xe2\x98\x83\xf0\x9f\x8d\xa3",ho=Qn&&(Os(ks)==yo(ks)&&Os||ua(ks)==yo(ks)&&ua)||yo,Kr=Qn?function(r){return Kn(r,"utf8").toString("binary")}:function(r){for(var s=[],a=0,d=0,g=0;a<r.length;)switch(d=r.charCodeAt(a++),!0){case d<128:s.push(String.fromCharCode(d));break;case d<2048:s.push(String.fromCharCode(192+(d>>6))),s.push(String.fromCharCode(128+(63&d)));break;case d>=55296&&d<57344:d-=55296,g=r.charCodeAt(a++)-56320+(d<<10),s.push(String.fromCharCode(240+(g>>18&7))),s.push(String.fromCharCode(144+(g>>12&63))),s.push(String.fromCharCode(128+(g>>6&63))),s.push(String.fromCharCode(128+(63&g)));break;default:s.push(String.fromCharCode(224+(d>>12))),s.push(String.fromCharCode(128+(d>>6&63))),s.push(String.fromCharCode(128+(63&d)))}return s.join("")},es=function(){var r={};return function(a,d){var g=a+"|"+(d||"");return r[g]?r[g]:r[g]=new RegExp("<(?:\\w+:)?"+a+'(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?'+a+">",d||"")}}(),kl=function(){var r=[["nbsp"," "],["middot","\xb7"],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(s){return[new RegExp("&"+s[0]+";","ig"),s[1]]});return function(a){for(var d=a.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,"\n").replace(/<[^>]*>/g,""),g=0;g<r.length;++g)d=d.replace(r[g][0],r[g][1]);return d}}(),Ml=function(){var r={};return function(a){return void 0!==r[a]?r[a]:r[a]=new RegExp("<(?:vt:)?"+a+">([\\s\\S]*?)</(?:vt:)?"+a+">","g")}}(),Yo=/<\/?(?:vt:)?variant>/g,Ua=/<(?:vt:)([^>]*)>([\s\S]*)</;function Ul(r,s){var a=si(r),d=r.match(Ml(a.baseType))||[],g=[];if(d.length!=a.size){if(s.WTF)throw new Error("unexpected vector length "+d.length+" != "+a.size);return g}return d.forEach(function(A){var T=A.replace(Yo,"").match(Ua);T&&g.push({v:ho(T[2]),t:T[1]})}),g}var dl=/(^\s|\s$|\n)/;function Dn(r,s,a){return"<"+r+(null!=a?function Ms(r){return Ro(r).map(function(s){return" "+s+'="'+r[s]+'"'}).join("")}(a):"")+(null!=s?(s.match(dl)?' xml:space="preserve"':"")+">"+s+"</"+r:"/")+">"}function ns(r){if(Qn&&Buffer.isBuffer(r))return r.toString("utf8");if("string"==typeof r)return r;if(typeof Uint8Array<"u"&&r instanceof Uint8Array)return ho($i(vt(r)));throw new Error("Bad input format: expected Buffer or string")}var Pa=/<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/gm,Ho={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",mx:"http://schemas.microsoft.com/office/mac/excel/2008/main",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",sjs:"http://schemas.openxmlformats.org/package/2006/sheetjs/core-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},ma=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],_l=function(r){for(var s=[],d=0;d<r[0].length;++d)if(r[0][d])for(var g=0,A=r[0][d].length;g<A;g+=10240)s.push.apply(s,r[0][d].slice(g,g+10240));return s},Fs=Qn?function(r){return r[0].length>0&&Buffer.isBuffer(r[0][0])?Buffer.concat(r[0].map(function(s){return Buffer.isBuffer(s)?s:Kn(s)})):_l(r)}:_l,Fl=function(r,s,a){for(var d=[],g=s;g<a;g+=2)d.push(String.fromCharCode(qa(r,g)));return d.join("").replace(Vt,"")},Qs=Qn?function(r,s,a){return Buffer.isBuffer(r)?r.toString("utf16le",s,a).replace(Vt,""):Fl(r,s,a)}:Fl,Ql=function(r,s,a){for(var d=[],g=s;g<s+a;++g)d.push(("0"+r[g].toString(16)).slice(-2));return d.join("")},pl=Qn?function(r,s,a){return Buffer.isBuffer(r)?r.toString("hex",s,s+a):Ql(r,s,a)}:Ql,Jl=function(r,s,a){for(var d=[],g=s;g<a;g++)d.push(String.fromCharCode(Js(r,g)));return d.join("")},Ce=Qn?function(s,a,d){return Buffer.isBuffer(s)?s.toString("utf8",a,d):Jl(s,a,d)}:Jl,mt=function(r,s){var a=Wo(r,s);return a>0?Ce(r,s+4,s+4+a-1):""},Pe=mt,_t=function(r,s){var a=Wo(r,s);return a>0?Ce(r,s+4,s+4+a-1):""},yt=_t,rn=function(r,s){var a=2*Wo(r,s);return a>0?Ce(r,s+4,s+4+a-1):""},eo=rn,sr=function(s,a){var d=Wo(s,a);return d>0?Qs(s,a+4,a+4+d):""},Dr=sr,wr=function(r,s){var a=Wo(r,s);return a>0?Ce(r,s+4,s+4+a):""},Or=wr,pr=function(r,s){return function Us(r,s){for(var a=1-2*(r[s+7]>>>7),d=((127&r[s+7])<<4)+(r[s+6]>>>4&15),g=15&r[s+6],A=5;A>=0;--A)g=256*g+r[s+A];return 2047==d?0==g?a*(1/0):NaN:(0==d?d=-1022:(d-=1023,g+=Math.pow(2,52)),a*Math.pow(2,d-52)*g)}(r,s)},Za=pr,os=function(s){return Array.isArray(s)||typeof Uint8Array<"u"&&s instanceof Uint8Array};Qn&&(Pe=function(s,a){if(!Buffer.isBuffer(s))return mt(s,a);var d=s.readUInt32LE(a);return d>0?s.toString("utf8",a+4,a+4+d-1):""},yt=function(s,a){if(!Buffer.isBuffer(s))return _t(s,a);var d=s.readUInt32LE(a);return d>0?s.toString("utf8",a+4,a+4+d-1):""},eo=function(s,a){if(!Buffer.isBuffer(s))return rn(s,a);var d=2*s.readUInt32LE(a);return s.toString("utf16le",a+4,a+4+d-1)},Dr=function(s,a){if(!Buffer.isBuffer(s))return sr(s,a);var d=s.readUInt32LE(a);return s.toString("utf16le",a+4,a+4+d)},Or=function(s,a){if(!Buffer.isBuffer(s))return wr(s,a);var d=s.readUInt32LE(a);return s.toString("utf8",a+4,a+4+d)},Za=function(s,a){return Buffer.isBuffer(s)?s.readDoubleLE(a):pr(s,a)},os=function(s){return Buffer.isBuffer(s)||Array.isArray(s)||typeof Uint8Array<"u"&&s instanceof Uint8Array}),typeof Mt<"u"&&function fl(){Qs=function(r,s,a){return Mt.utils.decode(1200,r.slice(s,a)).replace(Vt,"")},Ce=function(r,s,a){return Mt.utils.decode(65001,r.slice(s,a))},Pe=function(r,s){var a=Wo(r,s);return a>0?Mt.utils.decode(t,r.slice(s+4,s+4+a-1)):""},yt=function(r,s){var a=Wo(r,s);return a>0?Mt.utils.decode(l,r.slice(s+4,s+4+a-1)):""},eo=function(r,s){var a=2*Wo(r,s);return a>0?Mt.utils.decode(1200,r.slice(s+4,s+4+a-1)):""},Dr=function(r,s){var a=Wo(r,s);return a>0?Mt.utils.decode(1200,r.slice(s+4,s+4+a)):""},Or=function(r,s){var a=Wo(r,s);return a>0?Mt.utils.decode(65001,r.slice(s+4,s+4+a)):""}}();var Js=function(r,s){return r[s]},qa=function(r,s){return 256*r[s+1]+r[s]},Ac=function(r,s){var a=256*r[s+1]+r[s];return a<32768?a:-1*(65535-a+1)},Wo=function(r,s){return r[s+3]*(1<<24)+(r[s+2]<<16)+(r[s+1]<<8)+r[s]},qt=function(r,s){return r[s+3]<<24|r[s+2]<<16|r[s+1]<<8|r[s]},an=function(r,s){return r[s]<<24|r[s+1]<<16|r[s+2]<<8|r[s+3]};function Gt(r,s){var d,g,T,R,L,V,a="",A=[];switch(s){case"dbcs":if(V=this.l,Qn&&Buffer.isBuffer(this))a=this.slice(this.l,this.l+2*r).toString("utf16le");else for(L=0;L<r;++L)a+=String.fromCharCode(qa(this,V)),V+=2;r*=2;break;case"utf8":a=Ce(this,this.l,this.l+r);break;case"utf16le":a=Qs(this,this.l,this.l+(r*=2));break;case"wstr":if(!(typeof Mt<"u"))return Gt.call(this,r,"dbcs");a=Mt.utils.decode(l,this.slice(this.l,this.l+2*r)),r*=2;break;case"lpstr-ansi":a=Pe(this,this.l),r=4+Wo(this,this.l);break;case"lpstr-cp":a=yt(this,this.l),r=4+Wo(this,this.l);break;case"lpwstr":a=eo(this,this.l),r=4+2*Wo(this,this.l);break;case"lpp4":r=4+Wo(this,this.l),a=Dr(this,this.l),2&r&&(r+=2);break;case"8lpp4":r=4+Wo(this,this.l),a=Or(this,this.l),3&r&&(r+=4-(3&r));break;case"cstr":for(r=0,a="";0!==(T=Js(this,this.l+r++));)A.push(Ri(T));a=A.join("");break;case"_wstr":for(r=0,a="";0!==(T=qa(this,this.l+r));)A.push(Ri(T)),r+=2;r+=2,a=A.join("");break;case"dbcs-cont":for(a="",V=this.l,L=0;L<r;++L){if(this.lens&&-1!==this.lens.indexOf(V))return T=Js(this,V),this.l=V+1,R=Gt.call(this,r-L,T?"dbcs-cont":"sbcs-cont"),A.join("")+R;A.push(Ri(qa(this,V))),V+=2}a=A.join(""),r*=2;break;case"cpstr":if(typeof Mt<"u"){a=Mt.utils.decode(l,this.slice(this.l,this.l+r));break}case"sbcs-cont":for(a="",V=this.l,L=0;L!=r;++L){if(this.lens&&-1!==this.lens.indexOf(V))return T=Js(this,V),this.l=V+1,R=Gt.call(this,r-L,T?"dbcs-cont":"sbcs-cont"),A.join("")+R;A.push(Ri(Js(this,V))),V+=1}a=A.join("");break;default:switch(r){case 1:return d=Js(this,this.l),this.l++,d;case 2:return d=("i"===s?Ac:qa)(this,this.l),this.l+=2,d;case 4:case-4:return"i"!==s&&128&this[this.l+3]?(g=Wo(this,this.l),this.l+=4,g):(d=(r>0?qt:an)(this,this.l),this.l+=4,d);case 8:case-8:if("f"===s)return g=8==r?Za(this,this.l):Za([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,g;r=8;case 16:a=pl(this,this.l,r)}}return this.l+=r,a}var Wn=function(r,s,a){r[a]=255&s,r[a+1]=s>>>8&255,r[a+2]=s>>>16&255,r[a+3]=s>>>24&255},Qi=function(r,s,a){r[a]=255&s,r[a+1]=s>>8&255,r[a+2]=s>>16&255,r[a+3]=s>>24&255},xo=function(r,s,a){r[a]=255&s,r[a+1]=s>>>8&255};function lr(r,s,a){var d=0,g=0;if("dbcs"===a){for(g=0;g!=s.length;++g)xo(this,s.charCodeAt(g),this.l+2*g);d=2*s.length}else if("sbcs"===a){if(typeof Mt<"u"&&874==t)for(g=0;g!=s.length;++g){var A=Mt.utils.encode(t,s.charAt(g));this[this.l+g]=A[0]}else for(s=s.replace(/[^\x00-\x7F]/g,"_"),g=0;g!=s.length;++g)this[this.l+g]=255&s.charCodeAt(g);d=s.length}else{if("hex"===a){for(;g<r;++g)this[this.l++]=parseInt(s.slice(2*g,2*g+2),16)||0;return this}if("utf16le"===a){var T=Math.min(this.l+r,this.length);for(g=0;g<Math.min(s.length,r);++g){var R=s.charCodeAt(g);this[this.l++]=255&R,this[this.l++]=R>>8}for(;this.l<T;)this[this.l++]=0;return this}switch(r){case 1:d=1,this[this.l]=255&s;break;case 2:d=2,this[this.l]=255&s,this[this.l+1]=255&(s>>>=8);break;case 3:d=3,this[this.l]=255&s,this[this.l+1]=255&(s>>>=8),this[this.l+2]=255&(s>>>=8);break;case 4:d=4,Wn(this,s,this.l);break;case 8:if(d=8,"f"===a){!function is(r,s,a){var d=(s<0||1/s==-1/0?1:0)<<7,g=0,A=0,T=d?-s:s;isFinite(T)?0==T?g=A=0:(g=Math.floor(Math.log(T)/Math.LN2),A=T*Math.pow(2,52-g),g<=-1023&&(!isFinite(A)||A<Math.pow(2,52))?g=-1022:(A-=Math.pow(2,52),g+=1023)):(g=2047,A=isNaN(s)?26985:0);for(var R=0;R<=5;++R,A/=256)r[a+R]=255&A;r[a+6]=(15&g)<<4|15&A,r[a+7]=g>>4|d}(this,s,this.l);break}case 16:break;case-4:d=4,Qi(this,s,this.l)}}return this.l+=d,this}function ue(r,s){var a=pl(this,this.l,r.length>>1);if(a!==r)throw new Error(s+"Expected "+r+" saw "+a);this.l+=r.length>>1}function je(r,s){r.l=s,r.read_shift=Gt,r.chk=ue,r.write_shift=lr}function z(r,s){r.l+=s}function ge(r){var s=xi(r);return je(s,0),s}function we(r,s,a){if(r){var d,g,A;je(r,r.l||0);for(var T=r.length,R=0,L=0;r.l<T;){128&(R=r.read_shift(1))&&(R=(127&R)+((127&r.read_shift(1))<<7));var V=Kf[R]||Kf[65535];for(A=127&(d=r.read_shift(1)),g=1;g<4&&128&d;++g)A+=(127&(d=r.read_shift(1)))<<7*g;L=r.l+A;var X=V.f&&V.f(r,A,a);if(r.l=L,s(X,V,R))return}}}function wt(){var r=[],s=Qn?256:2048,a=function(V){var X=ge(V);return je(X,0),X},d=a(s),g=function(){d&&(d.length>d.l&&((d=d.slice(0,d.l)).l=d.length),d.length>0&&r.push(d),d=null)},A=function(V){return d&&V<d.length-d.l?d:(g(),d=a(Math.max(V+1,s)))};return{next:A,push:function(V){g(),null==(d=V).l&&(d.l=d.length),A(s)},end:function(){return g(),$e(r)},_bufs:r}}function Tn(r,s,a){var d=ro(r);if(s.s?(d.cRel&&(d.c+=s.s.c),d.rRel&&(d.r+=s.s.r)):(d.cRel&&(d.c+=s.c),d.rRel&&(d.r+=s.r)),!a||a.biff<12){for(;d.c>=256;)d.c-=256;for(;d.r>=65536;)d.r-=65536}return d}function Qo(r,s,a){var d=ro(r);return d.s=Tn(d.s,s.s,a),d.e=Tn(d.e,s.s,a),d}function li(r,s){if(r.cRel&&r.c<0)for(r=ro(r);r.c<0;)r.c+=s>8?16384:256;if(r.rRel&&r.r<0)for(r=ro(r);r.r<0;)r.r+=s>8?1048576:s>5?65536:16384;var a=yi(r);return!r.cRel&&null!=r.cRel&&(a=function Ls(r){return r.replace(/^([A-Z])/,"$$$1")}(a)),!r.rRel&&null!=r.rRel&&(a=function Wl(r){return r.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}(a)),a}function To(r,s){return 0!=r.s.r||r.s.rRel||r.e.r!=(s.biff>=12?1048575:s.biff>=8?65536:16384)||r.e.rRel?0!=r.s.c||r.s.cRel||r.e.c!=(s.biff>=12?16383:255)||r.e.cRel?li(r.s,s.biff)+":"+li(r.e,s.biff):(r.s.rRel?"":"$")+Zo(r.s.r)+":"+(r.e.rRel?"":"$")+Zo(r.e.r):(r.s.cRel?"":"$")+Uo(r.s.c)+":"+(r.e.cRel?"":"$")+Uo(r.e.c)}function Mo(r){return parseInt(function eu(r){return r.replace(/\$(\d+)$/,"$1")}(r),10)-1}function Zo(r){return""+(r+1)}function Tc(r){for(var s=function sc(r){return r.replace(/^\$([A-Z])/,"$1")}(r),a=0,d=0;d!==s.length;++d)a=26*a+s.charCodeAt(d)-64;return a-1}function Uo(r){if(r<0)throw new Error("invalid column "+r);var s="";for(++r;r;r=Math.floor((r-1)/26))s=String.fromCharCode((r-1)%26+65)+s;return s}function Go(r){for(var s=0,a=0,d=0;d<r.length;++d){var g=r.charCodeAt(d);g>=48&&g<=57?s=10*s+(g-48):g>=65&&g<=90&&(a=26*a+(g-64))}return{c:a-1,r:s-1}}function yi(r){for(var s=r.c+1,a="";s;s=(s-1)/26|0)a=String.fromCharCode((s-1)%26+65)+a;return a+(r.r+1)}function Wr(r){var s=r.indexOf(":");return-1==s?{s:Go(r),e:Go(r)}:{s:Go(r.slice(0,s)),e:Go(r.slice(s+1))}}function Li(r,s){return typeof s>"u"||"number"==typeof s?Li(r.s,r.e):("string"!=typeof r&&(r=yi(r)),"string"!=typeof s&&(s=yi(s)),r==s?r:r+":"+s)}function so(r){var s={s:{c:0,r:0},e:{c:0,r:0}},a=0,d=0,g=0,A=r.length;for(a=0;d<A&&!((g=r.charCodeAt(d)-64)<1||g>26);++d)a=26*a+g;for(s.s.c=--a,a=0;d<A&&!((g=r.charCodeAt(d)-48)<0||g>9);++d)a=10*a+g;if(s.s.r=--a,d===A||10!=g)return s.e.c=s.s.c,s.e.r=s.s.r,s;for(++d,a=0;d!=A&&!((g=r.charCodeAt(d)-64)<1||g>26);++d)a=26*a+g;for(s.e.c=--a,a=0;d!=A&&!((g=r.charCodeAt(d)-48)<0||g>9);++d)a=10*a+g;return s.e.r=--a,s}function kr(r,s,a){return null==r||null==r.t||"z"==r.t?"":void 0!==r.w?r.w:("d"==r.t&&!r.z&&a&&a.dateNF&&(r.z=a.dateNF),"e"==r.t?vl[r.v]||r.v:function Ll(r,s){var a="d"==r.t&&s instanceof Date;if(null!=r.z)try{return r.w=_r(r.z,a?So(s):s)}catch{}try{return r.w=_r((r.XF||{}).numFmtId||(a?14:0),a?So(s):s)}catch{return""+s}}(r,null==s?r.v:s))}function Sa(r,s){var a=s&&s.sheet?s.sheet:"Sheet1",d={};return d[a]=r,{SheetNames:[a],Sheets:d}}function Bo(r,s,a){var d=a||{},g=r?Array.isArray(r):d.dense;null!=xt&&null==g&&(g=xt);var A=r||(g?[]:{}),T=0,R=0;if(A&&null!=d.origin){if("number"==typeof d.origin)T=d.origin;else{var L="string"==typeof d.origin?Go(d.origin):d.origin;T=L.r,R=L.c}A["!ref"]||(A["!ref"]="A1:A1")}var V={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(A["!ref"]){var X=so(A["!ref"]);V.s.c=X.s.c,V.s.r=X.s.r,V.e.c=Math.max(V.e.c,X.e.c),V.e.r=Math.max(V.e.r,X.e.r),-1==T&&(V.e.r=T=X.e.r+1)}for(var pe=0;pe!=s.length;++pe)if(s[pe]){if(!Array.isArray(s[pe]))throw new Error("aoa_to_sheet expects an array of arrays");for(var fe=0;fe!=s[pe].length;++fe)if(!(typeof s[pe][fe]>"u")){var Ae={v:s[pe][fe]},qe=T+pe,de=R+fe;if(V.s.r>qe&&(V.s.r=qe),V.s.c>de&&(V.s.c=de),V.e.r<qe&&(V.e.r=qe),V.e.c<de&&(V.e.c=de),!s[pe][fe]||"object"!=typeof s[pe][fe]||Array.isArray(s[pe][fe])||s[pe][fe]instanceof Date)if(Array.isArray(Ae.v)&&(Ae.f=s[pe][fe][1],Ae.v=Ae.v[0]),null===Ae.v)if(Ae.f)Ae.t="n";else if(d.nullError)Ae.t="e",Ae.v=0;else{if(!d.sheetStubs)continue;Ae.t="z"}else"number"==typeof Ae.v?Ae.t="n":"boolean"==typeof Ae.v?Ae.t="b":Ae.v instanceof Date?(Ae.z=d.dateNF||Et[14],d.cellDates?(Ae.t="d",Ae.w=_r(Ae.z,So(Ae.v))):(Ae.t="n",Ae.v=So(Ae.v),Ae.w=_r(Ae.z,Ae.v))):Ae.t="s";else Ae=s[pe][fe];if(g)A[qe]||(A[qe]=[]),A[qe][de]&&A[qe][de].z&&(Ae.z=A[qe][de].z),A[qe][de]=Ae;else{var Ne=yi({c:de,r:qe});A[Ne]&&A[Ne].z&&(Ae.z=A[Ne].z),A[Ne]=Ae}}}return V.s.c<1e7&&(A["!ref"]=Li(V)),A}function Oo(r,s){return Bo(null,r,s)}function Bi(r){var s=r.read_shift(4);return 0===s?"":r.read_shift(s,"dbcs")}function tu(r){return{ich:r.read_shift(2),ifnt:r.read_shift(2)}}function bc(r,s){var a=r.l,d=r.read_shift(1),g=Bi(r),A=[],T={t:g,h:g};if(1&d){for(var R=r.read_shift(4),L=0;L!=R;++L)A.push(tu(r));T.r=A}else T.r=[{ich:0,ifnt:0}];return r.l=a+s,T}var xr=bc;function _a(r){var s=r.read_shift(4),a=r.read_shift(2);return a+=r.read_shift(1)<<16,r.l++,{c:s,iStyleRef:a}}function se(r){var s=r.read_shift(2);return s+=r.read_shift(1)<<16,r.l++,{c:-1,iStyleRef:s}}var Y=Bi;function Ye(r){var s=r.read_shift(4);return 0===s||4294967295===s?"":r.read_shift(s,"dbcs")}var sn=Bi,Pn=Ye;function ui(r){var s=r.slice(r.l,r.l+4),a=1&s[0],d=2&s[0];r.l+=4;var g=0===d?Za([0,0,0,0,252&s[0],s[1],s[2],s[3]],0):qt(s,0)>>2;return a?g/100:g}function to(r){var s={s:{},e:{}};return s.s.r=r.read_shift(4),s.e.r=r.read_shift(4),s.s.c=r.read_shift(4),s.e.c=r.read_shift(4),s}var Xo=to;function fi(r){if(r.length-r.l<8)throw"XLS Xnum Buffer underflow";return r.read_shift(8,"f")}function ya(r,s){var d=r.read_shift(4);switch(d){case 0:return"";case 4294967295:case 4294967294:return{2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"}[r.read_shift(4)]||""}if(d>400)throw new Error("Unsupported Clipboard: "+d.toString(16));return r.l-=4,r.read_shift(0,1==s?"lpstr":"lpwstr")}var nu=2,xa=3,Nu=12,Eu=81,xl=[80,Eu],iu={1:{n:"CodePage",t:nu},2:{n:"Category",t:80},3:{n:"PresentationFormat",t:80},4:{n:"ByteCount",t:xa},5:{n:"LineCount",t:xa},6:{n:"ParagraphCount",t:xa},7:{n:"SlideCount",t:xa},8:{n:"NoteCount",t:xa},9:{n:"HiddenCount",t:xa},10:{n:"MultimediaClipCount",t:xa},11:{n:"ScaleCrop",t:11},12:{n:"HeadingPairs",t:4108},13:{n:"TitlesOfParts",t:4126},14:{n:"Manager",t:80},15:{n:"Company",t:80},16:{n:"LinksUpToDate",t:11},17:{n:"CharacterCount",t:xa},19:{n:"SharedDoc",t:11},22:{n:"HyperlinksChanged",t:11},23:{n:"AppVersion",t:xa,p:"version"},24:{n:"DigSig",t:65},26:{n:"ContentType",t:80},27:{n:"ContentStatus",t:80},28:{n:"Language",t:80},29:{n:"Version",t:80},255:{},2147483648:{n:"Locale",t:19},2147483651:{n:"Behavior",t:19},1919054434:{}},ou={1:{n:"CodePage",t:nu},2:{n:"Title",t:80},3:{n:"Subject",t:80},4:{n:"Author",t:80},5:{n:"Keywords",t:80},6:{n:"Comments",t:80},7:{n:"Template",t:80},8:{n:"LastAuthor",t:80},9:{n:"RevNumber",t:80},10:{n:"EditTime",t:64},11:{n:"LastPrinted",t:64},12:{n:"CreatedDate",t:64},13:{n:"ModifiedDate",t:64},14:{n:"PageCount",t:xa},15:{n:"WordCount",t:xa},16:{n:"CharCount",t:xa},17:{n:"Thumbnail",t:71},18:{n:"Application",t:80},19:{n:"DocSecurity",t:xa},255:{},2147483648:{n:"Locale",t:19},2147483651:{n:"Behavior",t:19},1919054434:{}},Ru={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},am=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function ru(r){return r.map(function(s){return[s>>16&255,s>>8&255,255&s]})}var ec=ro(ru([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0])),vl={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},Fa={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},au={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},ji={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function uc(r){var s=r.lastIndexOf("/");return r.slice(0,s+1)+"_rels/"+r.slice(s+1)+".rels"}function Zc(r,s){var a={"!id":{}};if(!r)return a;"/"!==s.charAt(0)&&(s="/"+s);var d={};return(r.match(Vo)||[]).forEach(function(g){var A=si(g);if("<Relationship"===A[0]){var T={};T.Type=A.Type,T.Target=A.Target,T.Id=A.Id,A.TargetMode&&(T.TargetMode=A.TargetMode);var R="External"===A.TargetMode?A.Target:Tr(A.Target,s);a[R]=T,d[A.Id]=T}}),a["!id"]=d,a}var qc="application/vnd.oasis.opendocument.spreadsheet",Fr=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]],Qa=function(){for(var r=new Array(Fr.length),s=0;s<Fr.length;++s){var a=Fr[s],d="(?:"+a[0].slice(0,a[0].indexOf(":"))+":)"+a[0].slice(a[0].indexOf(":")+1);r[s]=new RegExp("<"+d+"[^>]*>([\\s\\S]*?)</"+d+">")}return r}();function rs(r){var s={};r=ho(r);for(var a=0;a<Fr.length;++a){var d=Fr[a],g=r.match(Qa[a]);null!=g&&g.length>0&&(s[d[1]]=ao(g[1])),"date"===d[2]&&s[d[1]]&&(s[d[1]]=Un(s[d[1]]))}return s}var as=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]];function uu(r,s,a,d){var g=[];if("string"==typeof r)g=Ul(r,d);else for(var A=0;A<r.length;++A)g=g.concat(r[A].map(function(X){return{v:X}}));var T="string"==typeof s?Ul(s,d).map(function(X){return X.v}):s,R=0,L=0;if(T.length>0)for(var V=0;V!==g.length;V+=2){switch(L=+g[V+1].v,g[V].v){case"Worksheets":case"\u5de5\u4f5c\u8868":case"\u041b\u0438\u0441\u0442\u044b":case"\u0623\u0648\u0631\u0627\u0642 \u0627\u0644\u0639\u0645\u0644":case"\u30ef\u30fc\u30af\u30b7\u30fc\u30c8":case"\u05d2\u05dc\u05d9\u05d5\u05e0\u05d5\u05ea \u05e2\u05d1\u05d5\u05d3\u05d4":case"Arbeitsbl\xe4tter":case"\xc7al\u0131\u015fma Sayfalar\u0131":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de c\xe1lculo":case"Planilhas":case"Regneark":case"Hojas de c\xe1lculo":case"Werkbladen":a.Worksheets=L,a.SheetNames=T.slice(R,R+L);break;case"Named Ranges":case"Rangos con nombre":case"\u540d\u524d\u4ed8\u304d\u4e00\u89a7":case"Benannte Bereiche":case"Navngivne omr\xe5der":a.NamedRanges=L,a.DefinedNames=T.slice(R,R+L);break;case"Charts":case"Diagramme":a.Chartsheets=L,a.ChartNames=T.slice(R,R+L)}R+=L}}var Hc,mm=/<[^>]+>[^<]*/g,yc={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"};function Gs(r,s,a){Hc||(Hc=qr(yc)),r[s=Hc[s]||s]=a}function bl(r){var s=r.read_shift(4),a=r.read_shift(4);return new Date(1e3*(a/1e7*Math.pow(2,32)+s/1e7-11644473600)).toISOString().replace(/\.000/,"")}function Xr(r,s,a){var d=r.l,g=r.read_shift(0,"lpstr-cp");if(a)for(;r.l-d&3;)++r.l;return g}function Kc(r,s,a){var d=r.read_shift(0,"lpwstr");return a&&(r.l+=4-(d.length+1&3)&3),d}function ku(r,s,a){return 31===s?Kc(r):Xr(r,0,a)}function du(r,s,a){return ku(r,s,!1===a?0:4)}function Nc(r){var s=r.l,a=Ec(r,Eu);return 0==r[r.l]&&0==r[r.l+1]&&r.l-s&2&&(r.l+=2),[a,Ec(r,xa)]}function Uu(r,s){for(var a=r.read_shift(4),d={},g=0;g!=a;++g){var A=r.read_shift(4),T=r.read_shift(4);d[A]=r.read_shift(T,1200===s?"utf16le":"utf8").replace(Vt,"").replace(Gn,"!"),1200===s&&T%2&&(r.l+=2)}return 3&r.l&&(r.l=r.l>>3<<2),d}function Fu(r){var s=r.read_shift(4),a=r.slice(r.l,r.l+s);return r.l+=s,(3&s)>0&&(r.l+=4-(3&s)&3),a}function Ec(r,s,a){var g,d=r.read_shift(2),A=a||{};if(r.l+=2,s!==Nu&&d!==s&&-1===xl.indexOf(s)&&(4126!=(65534&s)||4126!=(65534&d)))throw new Error("Expected type "+s+" saw "+d);switch(s===Nu?d:s){case 2:return g=r.read_shift(2,"i"),A.raw||(r.l+=2),g;case 3:return r.read_shift(4,"i");case 11:return 0!==r.read_shift(4);case 19:return r.read_shift(4);case 30:return Xr(r,0,4).replace(Vt,"");case 31:return Kc(r);case 64:return bl(r);case 65:return Fu(r);case 71:return function Ic(r){var s={};return s.Size=r.read_shift(4),r.l+=s.Size+3-(s.Size-1)%4,s}(r);case 80:return du(r,d,!A.raw).replace(Vt,"");case 81:return function dm(r,s){if(!s)throw new Error("VtUnalignedString must have positive length");return ku(r,s,0)}(r,d).replace(Vt,"");case 4108:return function Mu(r){for(var s=r.read_shift(4),a=[],d=0;d<s/2;++d)a.push(Nc(r));return a}(r);case 4126:case 4127:return 4127==d?function _u(r){for(var s=r.read_shift(4),a=[],d=0;d!=s;++d){var g=r.l;a[d]=r.read_shift(0,"lpwstr").replace(Vt,""),r.l-g&2&&(r.l+=2)}return a}(r):function _m(r){for(var s=r.read_shift(4),a=[],d=0;d!=s;++d)a[d]=r.read_shift(0,"lpstr-cp").replace(Vt,"");return a}(r);default:throw new Error("TypedPropertyValue unrecognized type "+s+" "+d)}}function Rc(r,s){var a=r.l,d=r.read_shift(4),g=r.read_shift(4),A=[],T=0,R=0,L=-1,V={};for(T=0;T!=g;++T){var X=r.read_shift(4),pe=r.read_shift(4);A[T]=[X,pe+a]}A.sort(function(et,Ve){return et[1]-Ve[1]});var fe={};for(T=0;T!=g;++T){if(r.l!==A[T][1]){var Ae=!0;if(T>0&&s)switch(s[A[T-1][0]].t){case 2:r.l+2===A[T][1]&&(r.l+=2,Ae=!1);break;case 80:case 4108:r.l<=A[T][1]&&(r.l=A[T][1],Ae=!1)}if((!s||0==T)&&r.l<=A[T][1]&&(Ae=!1,r.l=A[T][1]),Ae)throw new Error("Read Error: Expected address "+A[T][1]+" at "+r.l+" :"+T)}if(s){var qe=s[A[T][0]];if(fe[qe.n]=Ec(r,qe.t,{raw:!0}),"version"===qe.p&&(fe[qe.n]=String(fe[qe.n]>>16)+"."+("0000"+String(65535&fe[qe.n])).slice(-4)),"CodePage"==qe.n)switch(fe[qe.n]){case 0:fe[qe.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:tt(R=fe[qe.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+fe[qe.n])}}else if(1===A[T][0]){if(R=fe.CodePage=Ec(r,nu),tt(R),-1!==L){var de=r.l;r.l=A[L][1],V=Uu(r,R),r.l=de}}else if(0===A[T][0]){if(0===R){L=T,r.l=A[T+1][1];continue}V=Uu(r,R)}else{var ze,Ne=V[A[T][0]];switch(r[r.l]){case 65:r.l+=4,ze=Fu(r);break;case 30:case 31:r.l+=4,ze=du(r,r[r.l-4]).replace(/\u0000+$/,"");break;case 3:r.l+=4,ze=r.read_shift(4,"i");break;case 19:r.l+=4,ze=r.read_shift(4);break;case 5:r.l+=4,ze=r.read_shift(8,"f");break;case 11:r.l+=4,ze=fr(r,4);break;case 64:r.l+=4,ze=Un(bl(r));break;default:throw new Error("unparsed value: "+r[r.l])}fe[Ne]=ze}}return r.l=a+d,fe}function Wc(r,s,a){var d=r.content;if(!d)return{};je(d,0);var g,A,T,R,L=0;d.chk("feff","Byte Order: "),d.read_shift(2);var V=d.read_shift(4),X=d.read_shift(16);if(X!==di.utils.consts.HEADER_CLSID&&X!==a)throw new Error("Bad PropertySet CLSID "+X);if(1!==(g=d.read_shift(4))&&2!==g)throw new Error("Unrecognized #Sets: "+g);if(A=d.read_shift(16),R=d.read_shift(4),1===g&&R!==d.l)throw new Error("Length mismatch: "+R+" !== "+d.l);2===g&&(T=d.read_shift(16),L=d.read_shift(4));var qe,pe=Rc(d,s),fe={SystemIdentifier:V};for(var Ae in pe)fe[Ae]=pe[Ae];if(fe.FMTID=A,1===g)return fe;if(L-d.l==2&&(d.l+=2),d.l!==L)throw new Error("Length mismatch 2: "+d.l+" !== "+L);try{qe=Rc(d,null)}catch{}for(Ae in qe)fe[Ae]=qe[Ae];return fe.FMTID=[A,T],fe}function Bs(r,s){return r.read_shift(s),null}function fr(r,s){return 1===r.read_shift(s)}function $o(r){return r.read_shift(2,"u")}function Lu(r,s){return function gu(r,s,a){for(var d=[],g=r.l+s;r.l<g;)d.push(a(r,g-r.l));if(g!==r.l)throw new Error("Slurp error");return d}(r,s,$o)}function Dc(r,s,a){var d=r.read_shift(a&&a.biff>=12?2:1),g="sbcs-cont",A=l;a&&a.biff>=8&&(l=1200),a&&8!=a.biff?12==a.biff&&(g="wstr"):r.read_shift(1)&&(g="dbcs-cont"),a.biff>=2&&a.biff<=5&&(g="cpstr");var R=d?r.read_shift(d,g):"";return l=A,R}function Yu(r){var s=l;l=1200;var L,a=r.read_shift(2),d=r.read_shift(1),g=4&d,A=8&d,T=1+(1&d),R=0,V={};A&&(R=r.read_shift(2)),g&&(L=r.read_shift(4));var pe=0===a?"":r.read_shift(a,2==T?"dbcs-cont":"sbcs-cont");return A&&(r.l+=4*R),g&&(r.l+=L),V.t=pe,A||(V.raw="<t>"+V.t+"</t>",V.r=V.t),l=s,V}function Pl(r,s,a){if(a){if(a.biff>=2&&a.biff<=5)return r.read_shift(s,"cpstr");if(a.biff>=12)return r.read_shift(s,"dbcs-cont")}var g=r.read_shift(1);return r.read_shift(s,0===g?"sbcs-cont":"dbcs-cont")}function dc(r,s,a){var d=r.read_shift(a&&2==a.biff?1:2);return 0===d?(r.l++,""):Pl(r,d,a)}function Zl(r,s,a){if(a.biff>5)return dc(r,0,a);var d=r.read_shift(1);return 0===d?(r.l++,""):r.read_shift(d,a.biff<=4||!r.lens?"cpstr":"sbcs-cont")}function Gl(r){var s=r.read_shift(4);return s>0?r.read_shift(s,"utf16le").replace(Vt,""):""}function Na(r){return[r.read_shift(1),r.read_shift(1),r.read_shift(1),r.read_shift(1)]}function Bu(r,s){var a=Na(r);return a[3]=0,a}function Ia(r){return{r:r.read_shift(2),c:r.read_shift(2),ixfe:r.read_shift(2)}}function Ea(r,s,a){var d=a.biff>8?4:2;return[r.read_shift(d),r.read_shift(d,"i"),r.read_shift(d,"i")]}function Sl(r){return[r.read_shift(2),ui(r)]}function wc(r){var s=r.read_shift(2),a=r.read_shift(2);return{s:{c:r.read_shift(2),r:s},e:{c:r.read_shift(2),r:a}}}function Te(r){var s=r.read_shift(2),a=r.read_shift(2);return{s:{c:r.read_shift(1),r:s},e:{c:r.read_shift(1),r:a}}}var N=Te;function q(r){r.l+=4;var s=r.read_shift(2),a=r.read_shift(2),d=r.read_shift(2);return r.l+=12,[a,s,d]}function te(r){r.l+=2,r.l+=r.read_shift(2)}var _e={0:te,4:te,5:te,6:te,7:function b(r){return r.l+=4,r.cf=r.read_shift(2),{}},8:te,9:te,10:te,11:te,12:te,13:function G(r){var s={};return r.l+=4,r.l+=16,s.fSharedNote=r.read_shift(2),r.l+=4,s},14:te,15:te,16:te,17:te,18:te,19:te,20:te,21:q};function Ke(r,s){var a={BIFFVer:0,dt:0};switch(a.BIFFVer=r.read_shift(2),(s-=2)>=2&&(a.dt=r.read_shift(2),r.l-=2),a.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(s>6)throw new Error("Unexpected BIFF Ver "+a.BIFFVer)}return r.read_shift(s),a}function io(r,s,a){var d=0;a&&2==a.biff||(d=r.read_shift(2));var g=r.read_shift(2);return a&&2==a.biff&&(d=1-(g>>15),g&=32767),[{Unsynced:1&d,DyZero:(2&d)>>1,ExAsc:(4&d)>>2,ExDsc:(8&d)>>3},g]}var ju=Zl;function Um(r,s,a){var d=r.l+s,g=8!=a.biff&&a.biff?2:4,A=r.read_shift(g),T=r.read_shift(g),R=r.read_shift(2),L=r.read_shift(2);return r.l=d,{s:{r:A,c:R},e:{r:T,c:L}}}function sd(r,s,a){var d=Ia(r);(2==a.biff||9==s)&&++r.l;var g=function hu(r){var s=r.read_shift(1);return 1===r.read_shift(1)?s:1===s}(r);return d.val=g,d.t=!0===g||!1===g?"b":"e",d}var Qd=function zu(r,s,a){return 0===s?"":Zl(r,0,a)};function pc(r,s,a){var g,d=r.read_shift(2),A={fBuiltIn:1&d,fWantAdvise:d>>>1&1,fWantPict:d>>>2&1,fOle:d>>>3&1,fOleLink:d>>>4&1,cf:d>>>5&1023,fIcon:d>>>15&1};return 14849===a.sbcch&&(g=function Au(r,s,a){r.l+=4;var d=r.l+(s-=4),g=Dc(r,0,a),A=r.read_shift(2);if(A!==(d-=r.l))throw new Error("Malformed AddinUdf: padding = "+d+" != "+A);return r.l+=A,g}(r,s-2,a)),A.body=g||r.read_shift(s-2),"string"==typeof g&&(A.Name=g),A}var ld=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"];function Jm(r,s,a){var d=r.l+s,g=r.read_shift(2),A=r.read_shift(1),T=r.read_shift(1),R=r.read_shift(a&&2==a.biff?1:2),L=0;(!a||a.biff>=5)&&(5!=a.biff&&(r.l+=2),L=r.read_shift(2),5==a.biff&&(r.l+=2),r.l+=4);var V=Pl(r,T,a);32&g&&(V=ld[V.charCodeAt(0)]);var X=d-r.l;a&&2==a.biff&&--X;var pe=d!=r.l&&0!==R&&X>0?function d1(r,s,a,d){var T,g=r.l+s,A=qd(r,d,a);return g!==r.l&&(T=Yp(r,g-r.l,A,a)),[A,T]}(r,X,a,R):[];return{chKey:A,Name:V,itab:L,rgce:pe}}function Lm(r,s,a){if(a.biff<8)return function Ym(r,s,a){3==r[r.l+1]&&r[r.l]++;var d=Dc(r,0,a);return 3==d.charCodeAt(0)?d.slice(1):d}(r,0,a);for(var d=[],g=r.l+s,A=r.read_shift(a.biff>8?4:2);0!=A--;)d.push(Ea(r,0,a));if(r.l!=g)throw new Error("Bad ExternSheet: "+r.l+" != "+g);return d}function Tm(r,s,a){var d=N(r,6);switch(a.biff){case 2:r.l++,s-=7;break;case 3:case 4:r.l+=2,s-=8;break;default:r.l+=6,s-=12}return[d,u1(r,s,a)]}var R_={8:function(r,s){var a=r.l+s;r.l+=10;var d=r.read_shift(2);r.l+=4,r.l+=2,r.l+=2,r.l+=2,r.l+=4;var g=r.read_shift(1);return r.l+=g,r.l=a,{fmt:d}}};function md(r,s,a){if(!a.cellStyles)return z(r,s);var d=a&&a.biff>=12?4:2,g=r.read_shift(d),A=r.read_shift(d),T=r.read_shift(d),R=r.read_shift(d),L=r.read_shift(2);2==d&&(r.l+=2);var V={s:g,e:A,w:T,ixfe:R,flags:L};return(a.biff>=5||!a.biff)&&(V.level=L>>8&7),V}var Bd=Ia,F_=Lu,fc=dc,Hd=[2,3,48,49,131,139,140,245],Bm=function(){var r={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},s=qr({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function d(R,L){var V=L||{};V.dateNF||(V.dateNF="yyyymmdd");var X=Oo(function a(R,L){var V=[],X=xi(1);switch(L.type){case"base64":X=Kt(pi(R));break;case"binary":X=Kt(R);break;case"buffer":case"array":X=R}je(X,0);var pe=X.read_shift(1),fe=!!(136&pe),Ae=!1,qe=!1;switch(pe){case 2:case 3:case 131:case 139:case 245:break;case 48:case 49:Ae=!0,fe=!0;break;case 140:qe=!0;break;default:throw new Error("DBF Unsupported Version: "+pe.toString(16))}var de=0,Ne=521;2==pe&&(de=X.read_shift(2)),X.l+=3,2!=pe&&(de=X.read_shift(4)),de>1048576&&(de=1e6),2!=pe&&(Ne=X.read_shift(2));var ze=X.read_shift(2),et=L.codepage||1252;2!=pe&&(X.l+=16,X.read_shift(1),0!==X[X.l]&&(et=r[X[X.l]]),X.l+=1,X.l+=2),qe&&(X.l+=36);for(var Ve=[],Dt={},Ht=Math.min(X.length,2==pe?521:Ne-10-(Ae?264:0)),Rt=qe?32:11;X.l<Ht&&13!=X[X.l];)switch(Dt={},Dt.name=Mt.utils.decode(et,X.slice(X.l,X.l+Rt)).replace(/[\u0000\r\n].*$/g,""),X.l+=Rt,Dt.type=String.fromCharCode(X.read_shift(1)),2!=pe&&!qe&&(Dt.offset=X.read_shift(4)),Dt.len=X.read_shift(1),2==pe&&(Dt.offset=X.read_shift(2)),Dt.dec=X.read_shift(1),Dt.name.length&&Ve.push(Dt),2!=pe&&(X.l+=qe?13:14),Dt.type){case"B":(!Ae||8!=Dt.len)&&L.WTF&&console.log("Skipping "+Dt.name+":"+Dt.type);break;case"G":case"P":L.WTF&&console.log("Skipping "+Dt.name+":"+Dt.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+Dt.type)}if(13!==X[X.l]&&(X.l=Ne-1),13!==X.read_shift(1))throw new Error("DBF Terminator not found "+X.l+" "+X[X.l]);X.l=Ne;var ct=0,Jt=0;for(V[0]=[],Jt=0;Jt!=Ve.length;++Jt)V[0][Jt]=Ve[Jt].name;for(;de-- >0;)if(42!==X[X.l])for(++X.l,V[++ct]=[],Jt=0,Jt=0;Jt!=Ve.length;++Jt){var Ot=X.slice(X.l,X.l+Ve[Jt].len);X.l+=Ve[Jt].len,je(Ot,0);var cn=Mt.utils.decode(et,Ot);switch(Ve[Jt].type){case"C":cn.trim().length&&(V[ct][Jt]=cn.replace(/\s+$/,""));break;case"D":V[ct][Jt]=8===cn.length?new Date(+cn.slice(0,4),+cn.slice(4,6)-1,+cn.slice(6,8)):cn;break;case"F":V[ct][Jt]=parseFloat(cn.trim());break;case"+":case"I":V[ct][Jt]=qe?2147483648^Ot.read_shift(-4,"i"):Ot.read_shift(4,"i");break;case"L":switch(cn.trim().toUpperCase()){case"Y":case"T":V[ct][Jt]=!0;break;case"N":case"F":V[ct][Jt]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+cn+"|")}break;case"M":if(!fe)throw new Error("DBF Unexpected MEMO for type "+pe.toString(16));V[ct][Jt]="##MEMO##"+(qe?parseInt(cn.trim(),10):Ot.read_shift(4));break;case"N":(cn=cn.replace(/\u0000/g,"").trim())&&"."!=cn&&(V[ct][Jt]=+cn||0);break;case"@":V[ct][Jt]=new Date(Ot.read_shift(-8,"f")-621356832e5);break;case"T":V[ct][Jt]=new Date(864e5*(Ot.read_shift(4)-2440588)+Ot.read_shift(4));break;case"Y":V[ct][Jt]=Ot.read_shift(4,"i")/1e4+Ot.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":V[ct][Jt]=-Ot.read_shift(-8,"f");break;case"B":if(Ae&&8==Ve[Jt].len){V[ct][Jt]=Ot.read_shift(8,"f");break}case"G":case"P":Ot.l+=Ve[Jt].len;break;case"0":if("_NullFlags"===Ve[Jt].name)break;default:throw new Error("DBF Unsupported data type "+Ve[Jt].type)}}else X.l+=ze;if(2!=pe&&X.l<X.length&&26!=X[X.l++])throw new Error("DBF EOF Marker missing "+(X.l-1)+" of "+X.length+" "+X[X.l-1].toString(16));return L&&L.sheetRows&&(V=V.slice(0,L.sheetRows)),L.DBF=Ve,V}(R,V),V);return X["!cols"]=V.DBF.map(function(pe){return{wch:pe.len,DBF:pe}}),delete V.DBF,X}var A={B:8,C:250,L:1,D:8,"?":0,"":0};return{to_workbook:function g(R,L){try{return Sa(d(R,L),L)}catch(V){if(L&&L.WTF)throw V}return{SheetNames:[],Sheets:{}}},to_sheet:d,from_sheet:function T(R,L){var V=L||{};if(+V.codepage>=0&&tt(+V.codepage),"string"==V.type)throw new Error("Cannot write DBF to JS string");var X=wt(),pe=w0(R,{header:1,raw:!0,cellDates:!0}),fe=pe[0],Ae=pe.slice(1),qe=R["!cols"]||[],de=0,Ne=0,ze=0,et=1;for(de=0;de<fe.length;++de)if(((qe[de]||{}).DBF||{}).name)fe[de]=qe[de].DBF.name,++ze;else if(null!=fe[de]){if(++ze,"number"==typeof fe[de]&&(fe[de]=fe[de].toString(10)),"string"!=typeof fe[de])throw new Error("DBF Invalid column name "+fe[de]+" |"+typeof fe[de]+"|");if(fe.indexOf(fe[de])!==de)for(Ne=0;Ne<1024;++Ne)if(-1==fe.indexOf(fe[de]+"_"+Ne)){fe[de]+="_"+Ne;break}}var Ve=so(R["!ref"]),Dt=[],Ht=[],Rt=[];for(de=0;de<=Ve.e.c-Ve.s.c;++de){var ct="",Jt="",Ot=0,cn=[];for(Ne=0;Ne<Ae.length;++Ne)null!=Ae[Ne][de]&&cn.push(Ae[Ne][de]);if(0!=cn.length&&null!=fe[de]){for(Ne=0;Ne<cn.length;++Ne){switch(typeof cn[Ne]){case"number":Jt="B";break;case"string":default:Jt="C";break;case"boolean":Jt="L";break;case"object":Jt=cn[Ne]instanceof Date?"D":"C"}Ot=Math.max(Ot,String(cn[Ne]).length),ct=ct&&ct!=Jt?"C":Jt}Ot>250&&(Ot=250),"C"==(Jt=((qe[de]||{}).DBF||{}).type)&&qe[de].DBF.len>Ot&&(Ot=qe[de].DBF.len),"B"==ct&&"N"==Jt&&(ct="N",Rt[de]=qe[de].DBF.dec,Ot=qe[de].DBF.len),Ht[de]="C"==ct||"N"==Jt?Ot:A[ct]||0,et+=Ht[de],Dt[de]=ct}else Dt[de]="?"}var un=X.next(32);for(un.write_shift(4,318902576),un.write_shift(4,Ae.length),un.write_shift(2,296+32*ze),un.write_shift(2,et),de=0;de<4;++de)un.write_shift(4,0);for(un.write_shift(4,0|(+s[t]||3)<<8),de=0,Ne=0;de<fe.length;++de)if(null!=fe[de]){var Qt=X.next(32),Hn=(fe[de].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);Qt.write_shift(1,Hn,"sbcs"),Qt.write_shift(1,"?"==Dt[de]?"C":Dt[de],"sbcs"),Qt.write_shift(4,Ne),Qt.write_shift(1,Ht[de]||A[Dt[de]]||0),Qt.write_shift(1,Rt[de]||0),Qt.write_shift(1,2),Qt.write_shift(4,0),Qt.write_shift(1,0),Qt.write_shift(4,0),Qt.write_shift(4,0),Ne+=Ht[de]||A[Dt[de]]||0}var Ti=X.next(264);for(Ti.write_shift(4,13),de=0;de<65;++de)Ti.write_shift(4,0);for(de=0;de<Ae.length;++de){var $n=X.next(et);for($n.write_shift(1,0),Ne=0;Ne<fe.length;++Ne)if(null!=fe[Ne])switch(Dt[Ne]){case"L":$n.write_shift(1,null==Ae[de][Ne]?63:Ae[de][Ne]?84:70);break;case"B":$n.write_shift(8,Ae[de][Ne]||0,"f");break;case"N":var Hi="0";for("number"==typeof Ae[de][Ne]&&(Hi=Ae[de][Ne].toFixed(Rt[Ne]||0)),ze=0;ze<Ht[Ne]-Hi.length;++ze)$n.write_shift(1,32);$n.write_shift(1,Hi,"sbcs");break;case"D":Ae[de][Ne]?($n.write_shift(4,("0000"+Ae[de][Ne].getFullYear()).slice(-4),"sbcs"),$n.write_shift(2,("00"+(Ae[de][Ne].getMonth()+1)).slice(-2),"sbcs"),$n.write_shift(2,("00"+Ae[de][Ne].getDate()).slice(-2),"sbcs")):$n.write_shift(8,"00000000","sbcs");break;case"C":var Ei=String(null!=Ae[de][Ne]?Ae[de][Ne]:"").slice(0,Ht[Ne]);for($n.write_shift(1,Ei,"sbcs"),ze=0;ze<Ht[Ne]-Ei.length;++ze)$n.write_shift(1,32)}}return X.next(1).write_shift(1,26),X.end()}}}(),Pm=function(){var r={AA:"\xc0",BA:"\xc1",CA:"\xc2",DA:195,HA:"\xc4",JA:197,AE:"\xc8",BE:"\xc9",CE:"\xca",HE:"\xcb",AI:"\xcc",BI:"\xcd",CI:"\xce",HI:"\xcf",AO:"\xd2",BO:"\xd3",CO:"\xd4",DO:213,HO:"\xd6",AU:"\xd9",BU:"\xda",CU:"\xdb",HU:"\xdc",Aa:"\xe0",Ba:"\xe1",Ca:"\xe2",Da:227,Ha:"\xe4",Ja:229,Ae:"\xe8",Be:"\xe9",Ce:"\xea",He:"\xeb",Ai:"\xec",Bi:"\xed",Ci:"\xee",Hi:"\xef",Ao:"\xf2",Bo:"\xf3",Co:"\xf4",Do:245,Ho:"\xf6",Au:"\xf9",Bu:"\xfa",Cu:"\xfb",Hu:"\xfc",KC:"\xc7",Kc:"\xe7",q:"\xe6",z:"\u0153",a:"\xc6",j:"\u0152",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},s=new RegExp("\x1bN("+Ro(r).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),a=function(fe,Ae){var qe=r[Ae];return"number"==typeof qe?Xn(qe):qe},d=function(fe,Ae,qe){var de=Ae.charCodeAt(0)-32<<4|qe.charCodeAt(0)-48;return 59==de?fe:Xn(de)};function A(fe,Ae){var un,qe=fe.split(/[\n\r]+/),de=-1,Ne=-1,ze=0,et=0,Ve=[],Dt=[],Ht=null,Rt={},ct=[],Jt=[],Ot=[],cn=0;for(+Ae.codepage>=0&&tt(+Ae.codepage);ze!==qe.length;++ze){cn=0;var $n,Qt=qe[ze].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,d).replace(s,a),Hn=Qt.replace(/;;/g,"\0").split(";").map(function(Tt){return Tt.replace(/\u0000/g,";")});if(Qt.length>0)switch(Hn[0]){case"ID":case"E":case"B":case"O":case"W":break;case"P":"P"==Hn[1].charAt(0)&&Dt.push(Qt.slice(3).replace(/;;/g,";"));break;case"C":var Hi=!1,Ei=!1,ir=!1,_i=!1,Ji=-1,In=-1;for(et=1;et<Hn.length;++et)switch(Hn[et].charAt(0)){case"A":case"G":break;case"X":Ne=parseInt(Hn[et].slice(1))-1,Ei=!0;break;case"Y":for(de=parseInt(Hn[et].slice(1))-1,Ei||(Ne=0),un=Ve.length;un<=de;++un)Ve[un]=[];break;case"K":'"'===($n=Hn[et].slice(1)).charAt(0)?$n=$n.slice(1,$n.length-1):"TRUE"===$n?$n=!0:"FALSE"===$n?$n=!1:isNaN(hr($n))?isNaN(ka($n).getDate())||($n=Un($n)):($n=hr($n),null!==Ht&&Ir(Ht)&&($n=nt($n))),typeof Mt<"u"&&"string"==typeof $n&&"string"!=(Ae||{}).type&&(Ae||{}).codepage&&($n=Mt.utils.decode(Ae.codepage,$n)),Hi=!0;break;case"E":_i=!0;var gt=Wm(Hn[et].slice(1),{r:de,c:Ne});Ve[de][Ne]=[Ve[de][Ne],gt];break;case"S":ir=!0,Ve[de][Ne]=[Ve[de][Ne],"S5S"];break;case"R":Ji=parseInt(Hn[et].slice(1))-1;break;case"C":In=parseInt(Hn[et].slice(1))-1;break;default:if(Ae&&Ae.WTF)throw new Error("SYLK bad record "+Qt)}if(Hi&&(Ve[de][Ne]&&2==Ve[de][Ne].length?Ve[de][Ne][0]=$n:Ve[de][Ne]=$n,Ht=null),ir){if(_i)throw new Error("SYLK shared formula cannot have own formula");var Xt=Ji>-1&&Ve[Ji][In];if(!Xt||!Xt[1])throw new Error("SYLK shared formula cannot find base");Ve[de][Ne][1]=Pd(Xt[1],{r:de-Ji,c:Ne-In})}break;case"F":var bt=0;for(et=1;et<Hn.length;++et)switch(Hn[et].charAt(0)){case"X":Ne=parseInt(Hn[et].slice(1))-1,++bt;break;case"Y":for(de=parseInt(Hn[et].slice(1))-1,un=Ve.length;un<=de;++un)Ve[un]=[];break;case"M":cn=parseInt(Hn[et].slice(1))/20;break;case"F":case"G":case"S":case"D":case"N":break;case"P":Ht=Dt[parseInt(Hn[et].slice(1))];break;case"W":for(Ot=Hn[et].slice(1).split(" "),un=parseInt(Ot[0],10);un<=parseInt(Ot[1],10);++un)cn=parseInt(Ot[2],10),Jt[un-1]=0===cn?{hidden:!0}:{wch:cn},bu(Jt[un-1]);break;case"C":Jt[Ne=parseInt(Hn[et].slice(1))-1]||(Jt[Ne]={});break;case"R":ct[de=parseInt(Hn[et].slice(1))-1]||(ct[de]={}),cn>0?(ct[de].hpt=cn,ct[de].hpx=Wu(cn)):0===cn&&(ct[de].hidden=!0);break;default:if(Ae&&Ae.WTF)throw new Error("SYLK bad record "+Qt)}bt<1&&(Ht=null);break;default:if(Ae&&Ae.WTF)throw new Error("SYLK bad record "+Qt)}}return ct.length>0&&(Rt["!rows"]=ct),Jt.length>0&&(Rt["!cols"]=Jt),Ae&&Ae.sheetRows&&(Ve=Ve.slice(0,Ae.sheetRows)),[Ve,Rt]}function T(fe,Ae){var qe=function g(fe,Ae){switch(Ae.type){case"base64":return A(pi(fe),Ae);case"binary":return A(fe,Ae);case"buffer":return A(Qn&&Buffer.isBuffer(fe)?fe.toString("binary"):$i(fe),Ae);case"array":return A(wi(fe),Ae)}throw new Error("Unrecognized type "+Ae.type)}(fe,Ae),Ne=qe[1],ze=Oo(qe[0],Ae);return Ro(Ne).forEach(function(et){ze[et]=Ne[et]}),ze}function L(fe,Ae,qe,de){var Ne="C;Y"+(qe+1)+";X"+(de+1)+";K";switch(fe.t){case"n":Ne+=fe.v||0,fe.f&&!fe.F&&(Ne+=";E"+Rm(fe.f,{r:qe,c:de}));break;case"b":Ne+=fe.v?"TRUE":"FALSE";break;case"e":Ne+=fe.w||fe.v;break;case"d":Ne+='"'+(fe.w||fe.v)+'"';break;case"s":Ne+='"'+fe.v.replace(/"/g,"").replace(/;/g,";;")+'"'}return Ne}return r["|"]=254,{to_workbook:function R(fe,Ae){return Sa(T(fe,Ae),Ae)},to_sheet:T,from_sheet:function pe(fe,Ae){var ze,qe=["ID;PWXL;N;E"],de=[],Ne=so(fe["!ref"]),et=Array.isArray(fe),Ve="\r\n";qe.push("P;PGeneral"),qe.push("F;P0;DG0G8;M255"),fe["!cols"]&&function V(fe,Ae){Ae.forEach(function(qe,de){var Ne="F;W"+(de+1)+" "+(de+1)+" ";qe.hidden?Ne+="0":("number"==typeof qe.width&&!qe.wpx&&(qe.wpx=qm(qe.width)),"number"==typeof qe.wpx&&!qe.wch&&(qe.wch=Sm(qe.wpx)),"number"==typeof qe.wch&&(Ne+=Math.round(qe.wch)))," "!=Ne.charAt(Ne.length-1)&&fe.push(Ne)})}(qe,fe["!cols"]),fe["!rows"]&&function X(fe,Ae){Ae.forEach(function(qe,de){var Ne="F;";qe.hidden?Ne+="M0;":qe.hpt?Ne+="M"+20*qe.hpt+";":qe.hpx&&(Ne+="M"+20*Nm(qe.hpx)+";"),Ne.length>2&&fe.push(Ne+"R"+(de+1))})}(qe,fe["!rows"]),qe.push("B;Y"+(Ne.e.r-Ne.s.r+1)+";X"+(Ne.e.c-Ne.s.c+1)+";D"+[Ne.s.c,Ne.s.r,Ne.e.c,Ne.e.r].join(" "));for(var Dt=Ne.s.r;Dt<=Ne.e.r;++Dt)for(var Ht=Ne.s.c;Ht<=Ne.e.c;++Ht){var Rt=yi({r:Dt,c:Ht});(ze=et?(fe[Dt]||[])[Ht]:fe[Rt])&&(null!=ze.v||ze.f&&!ze.F)&&de.push(L(ze,0,Dt,Ht))}return qe.join(Ve)+Ve+de.join(Ve)+Ve+"E"+Ve}}}(),fd=function(){function s(A,T){for(var R=A.split("\n"),L=-1,V=-1,X=0,pe=[];X!==R.length;++X)if("BOT"!==R[X].trim()){if(!(L<0)){for(var fe=R[X].trim().split(","),Ae=fe[0],qe=fe[1],de=R[++X]||"";1&(de.match(/["]/g)||[]).length&&X<R.length-1;)de+="\n"+R[++X];switch(de=de.trim(),+Ae){case-1:if("BOT"===de){pe[++L]=[],V=0;continue}if("EOD"!==de)throw new Error("Unrecognized DIF special command "+de);break;case 0:pe[L][V]="TRUE"===de||"FALSE"!==de&&(isNaN(hr(qe))?isNaN(ka(qe).getDate())?qe:Un(qe):hr(qe)),++V;break;case 1:de=(de=de.slice(1,de.length-1)).replace(/""/g,'"'),ht&&de&&de.match(/^=".*"$/)&&(de=de.slice(2,-1)),pe[L][V++]=""!==de?de:null}if("EOD"===de)break}}else pe[++L]=[],V=0;return T&&T.sheetRows&&(pe=pe.slice(0,T.sheetRows)),pe}function a(A,T){return Oo(function r(A,T){switch(T.type){case"base64":return s(pi(A),T);case"binary":return s(A,T);case"buffer":return s(Qn&&Buffer.isBuffer(A)?A.toString("binary"):$i(A),T);case"array":return s(wi(A),T)}throw new Error("Unrecognized type "+T.type)}(A,T),T)}return{to_workbook:function d(A,T){return Sa(a(A,T),T)},to_sheet:a,from_sheet:function(){var A=function(L,V,X,pe,fe){L.push(V),L.push(X+","+pe),L.push('"'+fe.replace(/"/g,'""')+'"')},T=function(L,V,X,pe){L.push(V+","+X),L.push(1==V?'"'+pe.replace(/"/g,'""')+'"':pe)};return function(L){var pe,V=[],X=so(L["!ref"]),fe=Array.isArray(L);A(V,"TABLE",0,1,"sheetjs"),A(V,"VECTORS",0,X.e.r-X.s.r+1,""),A(V,"TUPLES",0,X.e.c-X.s.c+1,""),A(V,"DATA",0,0,"");for(var Ae=X.s.r;Ae<=X.e.r;++Ae){T(V,-1,0,"BOT");for(var qe=X.s.c;qe<=X.e.c;++qe){var de=yi({r:Ae,c:qe});if(pe=fe?(L[Ae]||[])[qe]:L[de])switch(pe.t){case"n":var Ne=ht?pe.w:pe.v;!Ne&&null!=pe.v&&(Ne=pe.v),null==Ne?T(V,1,0,ht&&pe.f&&!pe.F?"="+pe.f:""):T(V,0,Ne,"V");break;case"b":T(V,0,pe.v?1:0,pe.v?"TRUE":"FALSE");break;case"s":T(V,1,0,!ht||isNaN(pe.v)?pe.v:'="'+pe.v+'"');break;case"d":pe.w||(pe.w=_r(pe.z||Et[14],So(Un(pe.v)))),ht?T(V,0,pe.w,"V"):T(V,1,0,pe.w);break;default:T(V,1,0,"")}else T(V,1,0,"")}}return T(V,-1,0,"EOD"),V.join("\r\n")}}()}}(),ls=function(){function r(pe){return pe.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,"\n")}function s(pe){return pe.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function d(pe,fe){return Oo(function a(pe,fe){for(var Ae=pe.split("\n"),qe=-1,de=-1,Ne=0,ze=[];Ne!==Ae.length;++Ne){var et=Ae[Ne].trim().split(":");if("cell"===et[0]){var Ve=Go(et[1]);if(ze.length<=Ve.r)for(qe=ze.length;qe<=Ve.r;++qe)ze[qe]||(ze[qe]=[]);switch(qe=Ve.r,de=Ve.c,et[2]){case"t":ze[qe][de]=r(et[3]);break;case"v":ze[qe][de]=+et[3];break;case"vtf":var Dt=et[et.length-1];case"vtc":ze[qe][de]="nl"===et[3]?!!+et[4]:+et[4],"vtf"==et[2]&&(ze[qe][de]=[ze[qe][de],Dt])}}}return fe&&fe.sheetRows&&(ze=ze.slice(0,fe.sheetRows)),ze}(pe,fe),fe)}var A=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join("\n"),T=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join("\n")+"\n",R=["# SocialCalc Spreadsheet Control Save","part:sheet"].join("\n"),L="--SocialCalcSpreadsheetControlSave--";function V(pe){if(!pe||!pe["!ref"])return"";for(var qe,fe=[],Ae=[],de="",Ne=Wr(pe["!ref"]),ze=Array.isArray(pe),et=Ne.s.r;et<=Ne.e.r;++et)for(var Ve=Ne.s.c;Ve<=Ne.e.c;++Ve)if(de=yi({r:et,c:Ve}),(qe=ze?(pe[et]||[])[Ve]:pe[de])&&null!=qe.v&&"z"!==qe.t){switch(Ae=["cell",de,"t"],qe.t){case"s":case"str":Ae.push(s(qe.v));break;case"n":qe.f?(Ae[2]="vtf",Ae[3]="n",Ae[4]=qe.v,Ae[5]=s(qe.f)):(Ae[2]="v",Ae[3]=qe.v);break;case"b":Ae[2]="vt"+(qe.f?"f":"c"),Ae[3]="nl",Ae[4]=qe.v?"1":"0",Ae[5]=s(qe.f||(qe.v?"TRUE":"FALSE"));break;case"d":var Dt=So(Un(qe.v));Ae[2]="vtc",Ae[3]="nd",Ae[4]=""+Dt,Ae[5]=qe.w||_r(qe.z||Et[14],Dt);break;case"e":continue}fe.push(Ae.join(":"))}return fe.push("sheet:c:"+(Ne.e.c-Ne.s.c+1)+":r:"+(Ne.e.r-Ne.s.r+1)+":tvf:1"),fe.push("valueformat:1:text-wiki"),fe.join("\n")}return{to_workbook:function g(pe,fe){return Sa(d(pe,fe),fe)},to_sheet:d,from_sheet:function X(pe){return[A,T,R,T,V(pe),L].join("\n")}}}(),Il=function(){function r(X,pe,fe,Ae,qe){qe.raw?pe[fe][Ae]=X:""===X||(pe[fe][Ae]="TRUE"===X||"FALSE"!==X&&(isNaN(hr(X))?isNaN(ka(X).getDate())?X:Un(X):hr(X)))}var a={44:",",9:"\t",59:";",124:"|"},d={44:3,9:2,59:1,124:0};function g(X){for(var pe={},fe=!1,Ae=0,qe=0;Ae<X.length;++Ae)34==(qe=X.charCodeAt(Ae))?fe=!fe:!fe&&qe in a&&(pe[qe]=(pe[qe]||0)+1);for(Ae in qe=[],pe)Object.prototype.hasOwnProperty.call(pe,Ae)&&qe.push([pe[Ae],Ae]);if(!qe.length)for(Ae in pe=d)Object.prototype.hasOwnProperty.call(pe,Ae)&&qe.push([pe[Ae],Ae]);return qe.sort(function(de,Ne){return de[0]-Ne[0]||d[de[1]]-d[Ne[1]]}),a[qe.pop()[1]]||44}function T(X,pe){return!pe||!pe.PRN||pe.FS||"sep="==X.slice(0,4)||X.indexOf("\t")>=0||X.indexOf(",")>=0||X.indexOf(";")>=0?function A(X,pe){var fe=pe||{},Ae="";null!=xt&&null==fe.dense&&(fe.dense=xt);var qe=fe.dense?[]:{},de={s:{c:0,r:0},e:{c:0,r:0}};"sep="==X.slice(0,4)?13==X.charCodeAt(5)&&10==X.charCodeAt(6)?(Ae=X.charAt(4),X=X.slice(7)):13==X.charCodeAt(5)||10==X.charCodeAt(5)?(Ae=X.charAt(4),X=X.slice(6)):Ae=g(X.slice(0,1024)):Ae=fe&&fe.FS?fe.FS:g(X.slice(0,1024));var Ne=0,ze=0,et=0,Ve=0,Dt=0,Ht=Ae.charCodeAt(0),Rt=!1,ct=0,Jt=X.charCodeAt(0);X=X.replace(/\r\n/gm,"\n");var Ot=null!=fe.dateNF?function Ss(r){var s="number"==typeof r?Et[r]:r;return s=s.replace(Ha,"(\\d+)"),new RegExp("^"+s+"$")}(fe.dateNF):null;function cn(){var un=X.slice(Ve,Dt),Qt={};if('"'==un.charAt(0)&&'"'==un.charAt(un.length-1)&&(un=un.slice(1,-1).replace(/""/g,'"')),0===un.length)Qt.t="z";else if(fe.raw)Qt.t="s",Qt.v=un;else if(0===un.trim().length)Qt.t="s",Qt.v=un;else if(61==un.charCodeAt(0))34==un.charCodeAt(1)&&34==un.charCodeAt(un.length-1)?(Qt.t="s",Qt.v=un.slice(2,-1).replace(/""/g,'"')):function Kp(r){return 1!=r.length}(un)?(Qt.t="n",Qt.f=un.slice(1)):(Qt.t="s",Qt.v=un);else if("TRUE"==un)Qt.t="b",Qt.v=!0;else if("FALSE"==un)Qt.t="b",Qt.v=!1;else if(isNaN(et=hr(un)))if(!isNaN(ka(un).getDate())||Ot&&un.match(Ot)){Qt.z=fe.dateNF||Et[14];var Hn=0;Ot&&un.match(Ot)&&(un=function ys(r,s,a){var d=-1,g=-1,A=-1,T=-1,R=-1,L=-1;(s.match(Ha)||[]).forEach(function(pe,fe){var Ae=parseInt(a[fe+1],10);switch(pe.toLowerCase().charAt(0)){case"y":d=Ae;break;case"d":A=Ae;break;case"h":T=Ae;break;case"s":L=Ae;break;case"m":T>=0?R=Ae:g=Ae}}),L>=0&&-1==R&&g>=0&&(R=g,g=-1);var V=(""+(d>=0?d:(new Date).getFullYear())).slice(-4)+"-"+("00"+(g>=1?g:1)).slice(-2)+"-"+("00"+(A>=1?A:1)).slice(-2);7==V.length&&(V="0"+V),8==V.length&&(V="20"+V);var X=("00"+(T>=0?T:0)).slice(-2)+":"+("00"+(R>=0?R:0)).slice(-2)+":"+("00"+(L>=0?L:0)).slice(-2);return-1==T&&-1==R&&-1==L?V:-1==d&&-1==g&&-1==A?X:V+"T"+X}(0,fe.dateNF,un.match(Ot)||[]),Hn=1),fe.cellDates?(Qt.t="d",Qt.v=Un(un,Hn)):(Qt.t="n",Qt.v=So(Un(un,Hn))),!1!==fe.cellText&&(Qt.w=_r(Qt.z,Qt.v instanceof Date?So(Qt.v):Qt.v)),fe.cellNF||delete Qt.z}else Qt.t="s",Qt.v=un;else Qt.t="n",!1!==fe.cellText&&(Qt.w=un),Qt.v=et;if("z"==Qt.t||(fe.dense?(qe[Ne]||(qe[Ne]=[]),qe[Ne][ze]=Qt):qe[yi({c:ze,r:Ne})]=Qt),Jt=X.charCodeAt(Ve=Dt+1),de.e.c<ze&&(de.e.c=ze),de.e.r<Ne&&(de.e.r=Ne),ct==Ht)++ze;else if(ze=0,++Ne,fe.sheetRows&&fe.sheetRows<=Ne)return!0}e:for(;Dt<X.length;++Dt)switch(ct=X.charCodeAt(Dt)){case 34:34===Jt&&(Rt=!Rt);break;case Ht:case 10:case 13:if(!Rt&&cn())break e}return Dt-Ve>0&&cn(),qe["!ref"]=Li(de),qe}(X,pe):Oo(function s(X,pe){var fe=pe||{},Ae=[];if(!X||0===X.length)return Ae;for(var qe=X.split(/[\r\n]/),de=qe.length-1;de>=0&&0===qe[de].length;)--de;for(var Ne=10,ze=0,et=0;et<=de;++et)-1==(ze=qe[et].indexOf(" "))?ze=qe[et].length:ze++,Ne=Math.max(Ne,ze);for(et=0;et<=de;++et){Ae[et]=[];var Ve=0;for(r(qe[et].slice(0,Ne).trim(),Ae,et,Ve,fe),Ve=1;Ve<=(qe[et].length-Ne)/10+1;++Ve)r(qe[et].slice(Ne+10*(Ve-1),Ne+10*Ve).trim(),Ae,et,Ve,fe)}return fe.sheetRows&&(Ae=Ae.slice(0,fe.sheetRows)),Ae}(X,pe),pe)}function R(X,pe){var fe="",Ae="string"==pe.type?[0,0,0,0]:Tx(X,pe);switch(pe.type){case"base64":fe=pi(X);break;case"binary":case"string":fe=X;break;case"buffer":fe=65001==pe.codepage?X.toString("utf8"):pe.codepage&&typeof Mt<"u"?Mt.utils.decode(pe.codepage,X):Qn&&Buffer.isBuffer(X)?X.toString("binary"):$i(X);break;case"array":fe=wi(X);break;default:throw new Error("Unrecognized type "+pe.type)}return 239==Ae[0]&&187==Ae[1]&&191==Ae[2]?fe=ho(fe.slice(3)):"string"!=pe.type&&"buffer"!=pe.type&&65001==pe.codepage?fe=ho(fe):"binary"==pe.type&&typeof Mt<"u"&&pe.codepage&&(fe=Mt.utils.decode(pe.codepage,Mt.utils.encode(28591,fe))),"socialcalc:version:"==fe.slice(0,19)?ls.to_sheet("string"==pe.type?fe:ho(fe),pe):T(fe,pe)}return{to_workbook:function L(X,pe){return Sa(R(X,pe),pe)},to_sheet:R,from_sheet:function V(X){for(var Ae,pe=[],fe=so(X["!ref"]),qe=Array.isArray(X),de=fe.s.r;de<=fe.e.r;++de){for(var Ne=[],ze=fe.s.c;ze<=fe.e.c;++ze){var et=yi({r:de,c:ze});if((Ae=qe?(X[de]||[])[ze]:X[et])&&null!=Ae.v){for(var Ve=(Ae.w||(kr(Ae),Ae.w)||"").slice(0,10);Ve.length<10;)Ve+=" ";Ne.push(Ve+(0===ze?" ":""))}else Ne.push("          ")}pe.push(Ne.join(""))}return pe.join("\n")}}}(),Xc=function(){function r(gt,Xt,bt){if(gt){je(gt,gt.l||0);for(var Tt=bt.Enum||Ji;gt.l<gt.length;){var An=gt.read_shift(2),ai=Tt[An]||Tt[65535],zn=gt.read_shift(2),jn=gt.l+zn,En=ai.f&&ai.f(gt,zn,bt);if(gt.l=jn,Xt(En,ai,An))return}}}function a(gt,Xt){if(!gt)return gt;var bt=Xt||{};null!=xt&&null==bt.dense&&(bt.dense=xt);var Tt=bt.dense?[]:{},An="Sheet1",ai="",zn=0,jn={},En=[],zo=[],pt={s:{r:0,c:0},e:{r:0,c:0}},fa=bt.sheetRows||0;if(0==gt[2]&&(8==gt[3]||9==gt[3])&&gt.length>=16&&5==gt[14]&&108===gt[15])throw new Error("Unsupported Works 3 for Mac file");if(2==gt[2])bt.Enum=Ji,r(gt,function(gi,rc,P_){switch(P_){case 0:bt.vers=gi,gi>=4096&&(bt.qpro=!0);break;case 6:pt=gi;break;case 204:gi&&(ai=gi);break;case 222:ai=gi;break;case 15:case 51:bt.qpro||(gi[1].v=gi[1].v.slice(1));case 13:case 14:case 16:14==P_&&112==(112&gi[2])&&(15&gi[2])>1&&(15&gi[2])<15&&(gi[1].z=bt.dateNF||Et[14],bt.cellDates&&(gi[1].t="d",gi[1].v=nt(gi[1].v))),bt.qpro&&gi[3]>zn&&(Tt["!ref"]=Li(pt),jn[An]=Tt,En.push(An),Tt=bt.dense?[]:{},pt={s:{r:0,c:0},e:{r:0,c:0}},zn=gi[3],An=ai||"Sheet"+(zn+1),ai="");var cf=bt.dense?(Tt[gi[0].r]||[])[gi[0].c]:Tt[yi(gi[0])];if(cf){cf.t=gi[1].t,cf.v=gi[1].v,null!=gi[1].z&&(cf.z=gi[1].z),null!=gi[1].f&&(cf.f=gi[1].f);break}bt.dense?(Tt[gi[0].r]||(Tt[gi[0].r]=[]),Tt[gi[0].r][gi[0].c]=gi[1]):Tt[yi(gi[0])]=gi[1]}},bt);else{if(26!=gt[2]&&14!=gt[2])throw new Error("Unrecognized LOTUS BOF "+gt[2]);bt.Enum=In,14==gt[2]&&(bt.qpro=!0,gt.l=0),r(gt,function(gi,rc,P_){switch(P_){case 204:An=gi;break;case 22:gi[1].v=gi[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(gi[3]>zn&&(Tt["!ref"]=Li(pt),jn[An]=Tt,En.push(An),Tt=bt.dense?[]:{},pt={s:{r:0,c:0},e:{r:0,c:0}},An="Sheet"+((zn=gi[3])+1)),fa>0&&gi[0].r>=fa)break;bt.dense?(Tt[gi[0].r]||(Tt[gi[0].r]=[]),Tt[gi[0].r][gi[0].c]=gi[1]):Tt[yi(gi[0])]=gi[1],pt.e.c<gi[0].c&&(pt.e.c=gi[0].c),pt.e.r<gi[0].r&&(pt.e.r=gi[0].r);break;case 27:gi[14e3]&&(zo[gi[14e3][0]]=gi[14e3][1]);break;case 1537:zo[gi[0]]=gi[1],gi[0]==zn&&(An=gi[1])}},bt)}if(Tt["!ref"]=Li(pt),jn[ai||An]=Tt,En.push(ai||An),!zo.length)return{SheetNames:En,Sheets:jn};for(var cr={},ga=[],ur=0;ur<zo.length;++ur)jn[En[ur]]?(ga.push(zo[ur]||En[ur]),cr[zo[ur]]=jn[zo[ur]]||jn[En[ur]]):(ga.push(zo[ur]),cr[zo[ur]]={"!ref":"A1"});return{SheetNames:ga,Sheets:cr}}function V(gt,Xt,bt){var Tt=[{c:0,r:0},{t:"n",v:0},0,0];return bt.qpro&&20768!=bt.vers?(Tt[0].c=gt.read_shift(1),Tt[3]=gt.read_shift(1),Tt[0].r=gt.read_shift(2),gt.l+=2):(Tt[2]=gt.read_shift(1),Tt[0].c=gt.read_shift(2),Tt[0].r=gt.read_shift(2)),Tt}function X(gt,Xt,bt){var Tt=gt.l+Xt,An=V(gt,0,bt);if(An[1].t="s",20768==bt.vers){gt.l++;var ai=gt.read_shift(1);return An[1].v=gt.read_shift(ai,"utf8"),An}return bt.qpro&&gt.l++,An[1].v=gt.read_shift(Tt-gt.l,"cstr"),An}function pe(gt,Xt,bt){var Tt=ge(7+bt.length);Tt.write_shift(1,255),Tt.write_shift(2,Xt),Tt.write_shift(2,gt),Tt.write_shift(1,39);for(var An=0;An<Tt.length;++An){var ai=bt.charCodeAt(An);Tt.write_shift(1,ai>=128?95:ai)}return Tt.write_shift(1,0),Tt}function Ae(gt,Xt,bt){var Tt=ge(7);return Tt.write_shift(1,255),Tt.write_shift(2,Xt),Tt.write_shift(2,gt),Tt.write_shift(2,bt,"i"),Tt}function de(gt,Xt,bt){var Tt=ge(13);return Tt.write_shift(1,255),Tt.write_shift(2,Xt),Tt.write_shift(2,gt),Tt.write_shift(8,bt,"f"),Tt}function ze(gt,Xt,bt){var Tt=32768&Xt;return Xt=(Tt?gt:0)+((Xt&=-32769)>=8192?Xt-16384:Xt),(Tt?"":"$")+(bt?Uo(Xt):Zo(Xt))}var et={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},Ve=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function Ht(gt){var Xt=[{c:0,r:0},{t:"n",v:0},0];return Xt[0].r=gt.read_shift(2),Xt[3]=gt[gt.l++],Xt[0].c=gt[gt.l++],Xt}function ct(gt,Xt,bt,Tt){var An=ge(6+Tt.length);An.write_shift(2,gt),An.write_shift(1,bt),An.write_shift(1,Xt),An.write_shift(1,39);for(var ai=0;ai<Tt.length;++ai){var zn=Tt.charCodeAt(ai);An.write_shift(1,zn>=128?95:zn)}return An.write_shift(1,0),An}function Ot(gt,Xt){var bt=Ht(gt),Tt=gt.read_shift(4),An=gt.read_shift(4),ai=gt.read_shift(2);if(65535==ai)return 0===Tt&&3221225472===An?(bt[1].t="e",bt[1].v=15):0===Tt&&3489660928===An?(bt[1].t="e",bt[1].v=42):bt[1].v=0,bt;var zn=32768&ai;return ai=(32767&ai)-16446,bt[1].v=(1-2*zn)*(An*Math.pow(2,ai+32)+Tt*Math.pow(2,ai)),bt}function cn(gt,Xt,bt,Tt){var An=ge(14);if(An.write_shift(2,gt),An.write_shift(1,bt),An.write_shift(1,Xt),0==Tt)return An.write_shift(4,0),An.write_shift(4,0),An.write_shift(2,65535),An;var ai=0,zn=0,En=0;return Tt<0&&(ai=1,Tt=-Tt),zn=0|Math.log2(Tt),2147483648&(En=(Tt/=Math.pow(2,zn-31))>>>0)||(++zn,En=(Tt/=2)>>>0),Tt-=En,En|=2147483648,En>>>=0,Tt*=Math.pow(2,32),An.write_shift(4,Tt>>>0),An.write_shift(4,En),An.write_shift(2,zn+=16383+(ai?32768:0)),An}function Hn(gt,Xt){var bt=Ht(gt),Tt=gt.read_shift(8,"f");return bt[1].v=Tt,bt}function $n(gt,Xt){return 0==gt[gt.l+Xt-1]?gt.read_shift(Xt,"cstr"):""}function _i(gt,Xt){var bt=ge(5+gt.length);bt.write_shift(2,14e3),bt.write_shift(2,Xt);for(var Tt=0;Tt<gt.length;++Tt){var An=gt.charCodeAt(Tt);bt[bt.l++]=An>127?95:An}return bt[bt.l++]=0,bt}var Ji={0:{n:"BOF",f:$o},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:function R(gt,Xt,bt){var Tt={s:{c:0,r:0},e:{c:0,r:0}};return 8==Xt&&bt.qpro?(Tt.s.c=gt.read_shift(1),gt.l++,Tt.s.r=gt.read_shift(2),Tt.e.c=gt.read_shift(1),gt.l++,Tt.e.r=gt.read_shift(2),Tt):(Tt.s.c=gt.read_shift(2),Tt.s.r=gt.read_shift(2),12==Xt&&bt.qpro&&(gt.l+=2),Tt.e.c=gt.read_shift(2),Tt.e.r=gt.read_shift(2),12==Xt&&bt.qpro&&(gt.l+=2),65535==Tt.s.c&&(Tt.s.c=Tt.e.c=Tt.s.r=Tt.e.r=0),Tt)}},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:function fe(gt,Xt,bt){var Tt=V(gt,0,bt);return Tt[1].v=gt.read_shift(2,"i"),Tt}},14:{n:"NUMBER",f:function qe(gt,Xt,bt){var Tt=V(gt,0,bt);return Tt[1].v=gt.read_shift(8,"f"),Tt}},15:{n:"LABEL",f:X},16:{n:"FORMULA",f:function Ne(gt,Xt,bt){var Tt=gt.l+Xt,An=V(gt,0,bt);if(An[1].v=gt.read_shift(8,"f"),bt.qpro)gt.l=Tt;else{var ai=gt.read_shift(2);(function Dt(gt,Xt){je(gt,0);for(var bt=[],Tt=0,An="",ai="",zn="",jn="";gt.l<gt.length;){var En=gt[gt.l++];switch(En){case 0:bt.push(gt.read_shift(8,"f"));break;case 1:ai=ze(Xt[0].c,gt.read_shift(2),!0),An=ze(Xt[0].r,gt.read_shift(2),!1),bt.push(ai+An);break;case 2:var zo=ze(Xt[0].c,gt.read_shift(2),!0),pt=ze(Xt[0].r,gt.read_shift(2),!1);ai=ze(Xt[0].c,gt.read_shift(2),!0),An=ze(Xt[0].r,gt.read_shift(2),!1),bt.push(zo+pt+":"+ai+An);break;case 3:if(gt.l<gt.length)return void console.error("WK1 premature formula end");break;case 4:bt.push("("+bt.pop()+")");break;case 5:bt.push(gt.read_shift(2));break;case 6:for(var fa="";En=gt[gt.l++];)fa+=String.fromCharCode(En);bt.push('"'+fa.replace(/"/g,'""')+'"');break;case 8:bt.push("-"+bt.pop());break;case 23:bt.push("+"+bt.pop());break;case 22:bt.push("NOT("+bt.pop()+")");break;case 20:case 21:jn=bt.pop(),zn=bt.pop(),bt.push(["AND","OR"][En-20]+"("+zn+","+jn+")");break;default:if(En<32&&Ve[En])jn=bt.pop(),zn=bt.pop(),bt.push(zn+Ve[En]+jn);else{if(!et[En])return En<=7?console.error("WK1 invalid opcode "+En.toString(16)):En<=24?console.error("WK1 unsupported op "+En.toString(16)):En<=30?console.error("WK1 invalid opcode "+En.toString(16)):En<=115?console.error("WK1 unsupported function opcode "+En.toString(16)):console.error("WK1 unrecognized opcode "+En.toString(16));if(69==(Tt=et[En][1])&&(Tt=gt[gt.l++]),Tt>bt.length)return void console.error("WK1 bad formula parse 0x"+En.toString(16)+":|"+bt.join("|")+"|");var cr=bt.slice(-Tt);bt.length-=Tt,bt.push(et[En][0]+"("+cr.join(",")+")")}}}1==bt.length?Xt[1].f=""+bt[0]:console.error("WK1 bad formula parse |"+bt.join("|")+"|")})(gt.slice(gt.l,gt.l+ai),An),gt.l+=ai}return An}},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:X},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:$n},222:{n:"SHEETNAMELP",f:function Hi(gt,Xt){var bt=gt[gt.l++];bt>Xt-1&&(bt=Xt-1);for(var Tt="";Tt.length<bt;)Tt+=String.fromCharCode(gt[gt.l++]);return Tt}},65535:{n:""}},In={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:function Rt(gt,Xt){var bt=Ht(gt);return bt[1].t="s",bt[1].v=gt.read_shift(Xt-4,"cstr"),bt}},23:{n:"NUMBER17",f:Ot},24:{n:"NUMBER18",f:function Jt(gt,Xt){var bt=Ht(gt);bt[1].v=gt.read_shift(2);var Tt=bt[1].v>>1;if(1&bt[1].v)switch(7&Tt){case 0:Tt=5e3*(Tt>>3);break;case 1:Tt=500*(Tt>>3);break;case 2:Tt=(Tt>>3)/20;break;case 3:Tt=(Tt>>3)/200;break;case 4:Tt=(Tt>>3)/2e3;break;case 5:Tt=(Tt>>3)/2e4;break;case 6:Tt=(Tt>>3)/16;break;case 7:Tt=(Tt>>3)/64}return bt[1].v=Tt,bt}},25:{n:"FORMULA19",f:function un(gt,Xt){var bt=Ot(gt);return gt.l+=Xt-14,bt}},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:function ir(gt,Xt){for(var bt={},Tt=gt.l+Xt;gt.l<Tt;){var An=gt.read_shift(2);if(14e3==An){for(bt[An]=[0,""],bt[An][0]=gt.read_shift(2);gt[gt.l];)bt[An][1]+=String.fromCharCode(gt[gt.l]),gt.l++;gt.l++}}return bt}},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:function Qt(gt,Xt){var bt=Ht(gt),Tt=gt.read_shift(4);return bt[1].v=Tt>>6,bt}},38:{n:"??"},39:{n:"NUMBER27",f:Hn},40:{n:"FORMULA28",f:function Ti(gt,Xt){var bt=Hn(gt);return gt.l+=Xt-10,bt}},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:$n},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:function Ei(gt,Xt,bt){if(bt.qpro&&!(Xt<21)){var Tt=gt.read_shift(1);return gt.l+=17,gt.l+=1,gt.l+=2,[Tt,gt.read_shift(Xt-21,"cstr")]}}},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:function d(gt,Xt){var bt=Xt||{};if(+bt.codepage>=0&&tt(+bt.codepage),"string"==bt.type)throw new Error("Cannot write WK1 to JS string");var Tt=wt(),An=so(gt["!ref"]),ai=Array.isArray(gt),zn=[];Vn(Tt,0,function A(gt){var Xt=ge(2);return Xt.write_shift(2,gt),Xt}(1030)),Vn(Tt,6,function L(gt){var Xt=ge(8);return Xt.write_shift(2,gt.s.c),Xt.write_shift(2,gt.s.r),Xt.write_shift(2,gt.e.c),Xt.write_shift(2,gt.e.r),Xt}(An));for(var jn=Math.min(An.e.r,8191),En=An.s.r;En<=jn;++En)for(var zo=Zo(En),pt=An.s.c;pt<=An.e.c;++pt){En===An.s.r&&(zn[pt]=Uo(pt));var cr=ai?(gt[En]||[])[pt]:gt[zn[pt]+zo];cr&&"z"!=cr.t&&("n"==cr.t?(0|cr.v)==cr.v&&cr.v>=-32768&&cr.v<=32767?Vn(Tt,13,Ae(En,pt,cr.v)):Vn(Tt,14,de(En,pt,cr.v)):Vn(Tt,15,pe(En,pt,kr(cr).slice(0,239))))}return Vn(Tt,1),Tt.end()},book_to_wk3:function g(gt,Xt){var bt=Xt||{};if(+bt.codepage>=0&&tt(+bt.codepage),"string"==bt.type)throw new Error("Cannot write WK3 to JS string");var Tt=wt();Vn(Tt,0,function T(gt){var Xt=ge(26);Xt.write_shift(2,4096),Xt.write_shift(2,4),Xt.write_shift(4,0);for(var bt=0,Tt=0,An=0,ai=0;ai<gt.SheetNames.length;++ai){var jn=gt.Sheets[gt.SheetNames[ai]];if(jn&&jn["!ref"]){++An;var En=Wr(jn["!ref"]);bt<En.e.r&&(bt=En.e.r),Tt<En.e.c&&(Tt=En.e.c)}}return bt>8191&&(bt=8191),Xt.write_shift(2,bt),Xt.write_shift(1,An),Xt.write_shift(1,Tt),Xt.write_shift(2,0),Xt.write_shift(2,0),Xt.write_shift(1,1),Xt.write_shift(1,2),Xt.write_shift(4,0),Xt.write_shift(4,0),Xt}(gt));for(var An=0,ai=0;An<gt.SheetNames.length;++An)(gt.Sheets[gt.SheetNames[An]]||{})["!ref"]&&Vn(Tt,27,_i(gt.SheetNames[An],ai++));var zn=0;for(An=0;An<gt.SheetNames.length;++An){var jn=gt.Sheets[gt.SheetNames[An]];if(jn&&jn["!ref"]){for(var En=so(jn["!ref"]),zo=Array.isArray(jn),pt=[],fa=Math.min(En.e.r,8191),cr=En.s.r;cr<=fa;++cr)for(var ga=Zo(cr),ur=En.s.c;ur<=En.e.c;++ur){cr===En.s.r&&(pt[ur]=Uo(ur));var rc=zo?(jn[cr]||[])[ur]:jn[pt[ur]+ga];rc&&"z"!=rc.t&&("n"==rc.t?Vn(Tt,23,cn(cr,ur,zn,rc.v)):Vn(Tt,22,ct(cr,ur,zn,kr(rc).slice(0,239))))}++zn}}return Vn(Tt,1),Tt.end()},to_workbook:function s(gt,Xt){switch(Xt.type){case"base64":return a(Kt(pi(gt)),Xt);case"binary":return a(Kt(gt),Xt);case"buffer":case"array":return a(gt,Xt)}throw"Unsupported type "+Xt.type}}}(),hd=function(){var r=es("t"),s=es("rPr");function a(A){var T=A.match(r);if(!T)return{t:"s",v:""};var R={t:"s",v:ao(T[1])},L=A.match(s);return L&&(R.s=function gd(r){var s={},a=r.match(Vo),d=0,g=!1;if(a)for(;d!=a.length;++d){var A=si(a[d]);switch(A[0].replace(/\w*:/g,"")){case"<condense":case"<extend":break;case"<shadow":if(!A.val)break;case"<shadow>":case"<shadow/>":s.shadow=1;break;case"</shadow>":break;case"<charset":if("1"==A.val)break;s.cp=ln[parseInt(A.val,10)];break;case"<outline":if(!A.val)break;case"<outline>":case"<outline/>":s.outline=1;break;case"</outline>":break;case"<rFont":s.name=A.val;break;case"<sz":s.sz=A.val;break;case"<strike":if(!A.val)break;case"<strike>":case"<strike/>":s.strike=1;break;case"</strike>":break;case"<u":if(!A.val)break;switch(A.val){case"double":s.uval="double";break;case"singleAccounting":s.uval="single-accounting";break;case"doubleAccounting":s.uval="double-accounting"}case"<u>":case"<u/>":s.u=1;break;case"</u>":break;case"<b":if("0"==A.val)break;case"<b>":case"<b/>":s.b=1;break;case"</b>":break;case"<i":if("0"==A.val)break;case"<i>":case"<i/>":s.i=1;break;case"</i>":break;case"<color":A.rgb&&(s.color=A.rgb.slice(2,8));break;case"<color>":case"<color/>":case"</color>":break;case"<family":s.family=A.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":s.valign=A.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":case"<scheme":case"<scheme>":case"<scheme/>":case"</scheme>":case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":g=!0;break;case"</ext>":g=!1;break;default:if(47!==A[0].charCodeAt(1)&&!g)throw new Error("Unrecognized rich format "+A[0])}}return s}(L[1])),R}var d=/<(?:\w+:)?r>/g,g=/<\/(?:\w+:)?r>/;return function(T){return T.replace(d,"").split(g).map(a).filter(function(R){return R.v})}}(),Y_=function(){var s=/(\r\n|\n)/g;function d(g){var A=[[],g.v,[]];return g.v?(g.s&&function a(g,A,T){var R=[];g.u&&R.push("text-decoration: underline;"),g.uval&&R.push("text-underline-style:"+g.uval+";"),g.sz&&R.push("font-size:"+g.sz+"pt;"),g.outline&&R.push("text-effect: outline;"),g.shadow&&R.push("text-shadow: auto;"),A.push('<span style="'+R.join("")+'">'),g.b&&(A.push("<b>"),T.push("</b>")),g.i&&(A.push("<i>"),T.push("</i>")),g.strike&&(A.push("<s>"),T.push("</s>"));var L=g.valign||"";"superscript"==L||"super"==L?L="sup":"subscript"==L&&(L="sub"),""!=L&&(A.push("<"+L+">"),T.push("</"+L+">")),T.push("</span>")}(g.s,A[0],A[2]),A[0].join("")+A[1].replace(s,"<br/>")+A[2].join("")):""}return function(A){return A.map(d).join("")}}(),G_=/<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,B_=/<(?:\w+:)?r>/,z_=/<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;function Cd(r,s){var a=!s||s.cellHTML,d={};return r?(r.match(/^\s*<(?:\w+:)?t[^>]*>/)?(d.t=ao(ho(r.slice(r.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||"")),d.r=ho(r),a&&(d.h=Ds(d.t))):r.match(B_)&&(d.r=ho(r),d.t=ao(ho((r.replace(z_,"").match(G_)||[]).join("").replace(Vo,""))),a&&(d.h=Y_(hd(d.r)))),d):{t:""}}var V_=/<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/,j_=/<(?:\w+:)?(?:si|sstItem)>/g,H_=/<\/(?:\w+:)?(?:si|sstItem)>/;function Xd(r){if(typeof Mt<"u")return Mt.utils.encode(t,r);for(var s=[],a=r.split(""),d=0;d<a.length;++d)s[d]=a[d].charCodeAt(0);return s}function Mc(r,s){var a={};return a.Major=r.read_shift(2),a.Minor=r.read_shift(2),s>=4&&(r.l+=s-4),a}function tp(r){for(var s=r.read_shift(4),a=r.l+s-4,d={},g=r.read_shift(4),A=[];g-- >0;)A.push({t:r.read_shift(4),v:r.read_shift(0,"lpp4")});if(d.name=r.read_shift(0,"lpp4"),d.comps=A,r.l!=a)throw new Error("Bad DataSpaceMapEntry: "+r.l+" != "+a);return d}function e_(r,s){var a=r.l+s,d={};d.Flags=63&r.read_shift(4),r.l+=4,d.AlgID=r.read_shift(4);var g=!1;switch(d.AlgID){case 26126:case 26127:case 26128:g=36==d.Flags;break;case 26625:g=4==d.Flags;break;case 0:g=16==d.Flags||4==d.Flags||36==d.Flags;break;default:throw"Unrecognized encryption algorithm: "+d.AlgID}if(!g)throw new Error("Encryption Flags/AlgID mismatch");return d.AlgIDHash=r.read_shift(4),d.KeySize=r.read_shift(4),d.ProviderType=r.read_shift(4),r.l+=8,d.CSPName=r.read_shift(a-r.l>>1,"utf16le"),r.l=a,d}function t_(r,s){var a={},d=r.l+s;return r.l+=4,a.Salt=r.slice(r.l,r.l+16),r.l+=16,a.Verifier=r.slice(r.l,r.l+16),r.l+=16,r.read_shift(4),a.VerifierHash=r.slice(r.l,d),r.l=d,a}function rp(r){if(36!=(63&r.read_shift(4)))throw new Error("EncryptionInfo mismatch");var a=r.read_shift(4);return{t:"Std",h:e_(r,a),v:t_(r,r.length-r.l)}}function ap(){throw new Error("File is password-protected: ECMA-376 Extensible")}function sp(r){var s=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];r.l+=4;var a=r.read_shift(r.length-r.l,"utf8"),d={};return a.replace(Vo,function(A){var T=si(A);switch(Gr(T[0])){case"<?xml":case"<encryption":case"</encryption>":case"</keyEncryptors>":case"</keyEncryptor>":break;case"<keyData":s.forEach(function(R){d[R]=T[R]});break;case"<dataIntegrity":d.encryptedHmacKey=T.encryptedHmacKey,d.encryptedHmacValue=T.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":d.encs=[];break;case"<keyEncryptor":d.uri=T.uri;break;case"<encryptedKey":d.encs.push(T);break;default:throw T[0]}}),d}var i_=function(){var r=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],s=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],a=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],g=function(T,R){return function(T){return 255&(T/2|128*T)}(T^R)};return function(T){for(var R=Xd(T),L=function(T){for(var R=s[T.length-1],L=104,V=T.length-1;V>=0;--V)for(var X=T[V],pe=0;7!=pe;++pe)64&X&&(R^=a[L]),X*=2,--L;return R}(R),V=R.length,X=xi(16),pe=0;16!=pe;++pe)X[pe]=0;var qe;for(1==(1&V)&&(X[V]=g(r[0],L>>8),X[--V]=g(R[R.length-1],255&L));V>0;)X[--V]=g(R[V],L>>8),X[--V]=g(R[V],255&L);for(V=15,qe=15-R.length;qe>0;)X[V]=g(r[qe],L>>8),--qe,X[--V]=g(R[V],255&L),--V,--qe;return X}}();var o_=function(){function r(g,A){switch(A.type){case"base64":return s(pi(g),A);case"binary":return s(g,A);case"buffer":return s(Qn&&Buffer.isBuffer(g)?g.toString("binary"):$i(g),A);case"array":return s(wi(g),A)}throw new Error("Unrecognized type "+A.type)}function s(g,A){var R=(A||{}).dense?[]:{},L=g.match(/\\trowd.*?\\row\b/g);if(!L.length)throw new Error("RTF missing table");var V={s:{c:0,r:0},e:{c:0,r:L.length-1}};return L.forEach(function(X,pe){Array.isArray(R)&&(R[pe]=[]);for(var qe,fe=/\\\w+\b/g,Ae=0,de=-1;qe=fe.exec(X);){if("\\cell"===qe[0]){var Ne=X.slice(Ae,fe.lastIndex-qe[0].length);if(" "==Ne[0]&&(Ne=Ne.slice(1)),++de,Ne.length){var ze={v:Ne,t:"s"};Array.isArray(R)?R[pe][de]=ze:R[yi({r:pe,c:de})]=ze}}Ae=fe.lastIndex}de>V.e.c&&(V.e.c=de)}),R["!ref"]=Li(V),R}return{to_workbook:function a(g,A){return Sa(r(g,A),A)},to_sheet:r,from_sheet:function d(g){for(var R,A=["{\\rtf1\\ansi"],T=so(g["!ref"]),L=Array.isArray(g),V=T.s.r;V<=T.e.r;++V){A.push("\\trowd\\trautofit1");for(var X=T.s.c;X<=T.e.c;++X)A.push("\\cellx"+(X+1));for(A.push("\\pard\\intbl"),X=T.s.c;X<=T.e.c;++X){var pe=yi({r:V,c:X});(R=L?(g[V]||[])[X]:g[pe])&&(null!=R.v||R.f&&!R.F)&&(A.push(" "+(R.w||(kr(R),R.w))),A.push("\\cell"))}A.push("\\pard\\intbl\\row")}return A.join("")+"}"}}}();function Zm(r){for(var s=0,a=1;3!=s;++s)a=256*a+(r[s]>255?255:r[s]<0?0:r[s]);return a.toString(16).toUpperCase().slice(1)}function zm(r,s){if(0===s)return r;var a=function fp(r){var s=r[0]/255,a=r[1]/255,d=r[2]/255,g=Math.max(s,a,d),A=Math.min(s,a,d),T=g-A;if(0===T)return[0,0,s];var L,R=0,V=g+A;switch(L=T/(V>1?2-V:V),g){case s:R=((a-d)/T+6)%6;break;case a:R=(d-s)/T+2;break;case d:R=(s-a)/T+4}return[R/6,L,V/2]}(function pp(r){var s=r.slice("#"===r[0]?1:0).slice(0,6);return[parseInt(s.slice(0,2),16),parseInt(s.slice(2,4),16),parseInt(s.slice(4,6),16)]}(r));return a[2]=s<0?a[2]*(1+s):1-(1-a[2])*(1-s),Zm(function gp(r){var L,a=r[1],d=r[2],g=2*a*(d<.5?d:1-d),A=d-g/2,T=[A,A,A],R=6*r[0];if(0!==a)switch(0|R){case 0:case 6:L=g*R,T[0]+=g,T[1]+=L;break;case 1:T[0]+=L=g*(2-R),T[1]+=g;break;case 2:L=g*(R-2),T[1]+=g,T[2]+=L;break;case 3:T[1]+=L=g*(4-R),T[2]+=g;break;case 4:L=g*(R-4),T[2]+=g,T[0]+=L;break;case 5:T[2]+=L=g*(6-R),T[0]+=g}for(var V=0;3!=V;++V)T[V]=Math.round(255*T[V]);return T}(a))}var r_=6,hp=15,Cp=1,La=r_;function qm(r){return Math.floor((r+Math.round(128/La)/256)*La)}function Sm(r){return Math.floor((r-5)/La*100+.5)/100}function Vm(r){return Math.round((r*La+5)/La*256)/256}function ym(r){return Vm(Sm(qm(r)))}function Ku(r){var s=Math.abs(r-ym(r)),a=La;if(s>.005)for(La=Cp;La<hp;++La)Math.abs(r-ym(r))<=s&&(s=Math.abs(r-ym(r)),a=La);La=a}function bu(r){r.width?(r.wpx=qm(r.width),r.wch=Sm(r.wpx),r.MDW=La):r.wpx?(r.wch=Sm(r.wpx),r.width=Vm(r.wch),r.MDW=La):"number"==typeof r.wch&&(r.width=Vm(r.wch),r.wpx=qm(r.width),r.MDW=La),r.customWidth&&delete r.customWidth}var a_=96;function Nm(r){return 96*r/a_}function Wu(r){return r*a_/96}var vp={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"},Hm=["numFmtId","fillId","fontId","borderId","xfId"],$m=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"],qp=function(){var s=/<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/,a=/<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/,d=/<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/,g=/<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/,A=/<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/;return function(R,L,V){var pe,X={};return R?((pe=(R=R.replace(/<!--([\s\S]*?)-->/gm,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"")).match(s))&&function bp(r,s,a){s.NumberFmt=[];for(var d=Ro(Et),g=0;g<d.length;++g)s.NumberFmt[d[g]]=Et[d[g]];var A=r[0].match(Vo);if(A)for(g=0;g<A.length;++g){var T=si(A[g]);switch(Gr(T[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":case"</numFmt>":break;case"<numFmt":var R=ao(ho(T.formatCode)),L=parseInt(T.numFmtId,10);if(s.NumberFmt[L]=R,L>0){if(L>392){for(L=392;L>60&&null!=s.NumberFmt[L];--L);s.NumberFmt[L]=R}Zr(R,L)}break;default:if(a.WTF)throw new Error("unrecognized "+T[0]+" in numFmts")}}}(pe,X,V),(pe=R.match(g))&&function s_(r,s,a,d){s.Fonts=[];var g={},A=!1;(r[0].match(Vo)||[]).forEach(function(T){var R=si(T);switch(Gr(R[0])){case"<fonts":case"<fonts>":case"</fonts>":case"<font":case"<font>":case"<name/>":case"</name>":case"<sz/>":case"</sz>":case"<vertAlign/>":case"</vertAlign>":case"<family/>":case"</family>":case"<scheme/>":case"</scheme>":case"<color/>":case"</color>":case"<extLst":case"<extLst>":case"</extLst>":break;case"</font>":case"<font/>":s.Fonts.push(g),g={};break;case"<name":R.val&&(g.name=ho(R.val));break;case"<b":g.bold=R.val?Po(R.val):1;break;case"<b/>":g.bold=1;break;case"<i":g.italic=R.val?Po(R.val):1;break;case"<i/>":g.italic=1;break;case"<u":switch(R.val){case"none":g.underline=0;break;case"single":g.underline=1;break;case"double":g.underline=2;break;case"singleAccounting":g.underline=33;break;case"doubleAccounting":g.underline=34}break;case"<u/>":g.underline=1;break;case"<strike":g.strike=R.val?Po(R.val):1;break;case"<strike/>":g.strike=1;break;case"<outline":g.outline=R.val?Po(R.val):1;break;case"<outline/>":g.outline=1;break;case"<shadow":g.shadow=R.val?Po(R.val):1;break;case"<shadow/>":g.shadow=1;break;case"<condense":g.condense=R.val?Po(R.val):1;break;case"<condense/>":g.condense=1;break;case"<extend":g.extend=R.val?Po(R.val):1;break;case"<extend/>":g.extend=1;break;case"<sz":R.val&&(g.sz=+R.val);break;case"<vertAlign":R.val&&(g.vertAlign=R.val);break;case"<family":R.val&&(g.family=parseInt(R.val,10));break;case"<scheme":R.val&&(g.scheme=R.val);break;case"<charset":if("1"==R.val)break;R.codepage=ln[parseInt(R.val,10)];break;case"<color":if(g.color||(g.color={}),R.auto&&(g.color.auto=Po(R.auto)),R.rgb)g.color.rgb=R.rgb.slice(-6);else if(R.indexed){g.color.index=parseInt(R.indexed,10);var L=ec[g.color.index];81==g.color.index&&(L=ec[1]),L||(L=ec[1]),g.color.rgb=L[0].toString(16)+L[1].toString(16)+L[2].toString(16)}else R.theme&&(g.color.theme=parseInt(R.theme,10),R.tint&&(g.color.tint=parseFloat(R.tint)),R.theme&&a.themeElements&&a.themeElements.clrScheme&&(g.color.rgb=zm(a.themeElements.clrScheme[g.color.theme].rgb,g.color.tint||0)));break;case"<AlternateContent":case"<ext":A=!0;break;case"</AlternateContent>":case"</ext>":A=!1;break;default:if(d&&d.WTF&&!A)throw new Error("unrecognized "+R[0]+" in fonts")}})}(pe,X,L,V),(pe=R.match(d))&&function Tp(r,s,a,d){s.Fills=[];var g={},A=!1;(r[0].match(Vo)||[]).forEach(function(T){var R=si(T);switch(Gr(R[0])){case"<fills":case"<fills>":case"</fills>":case"</fill>":case"<gradientFill>":case"<patternFill/>":case"</patternFill>":case"<bgColor/>":case"</bgColor>":case"<fgColor/>":case"</fgColor>":case"<stop":case"<stop/>":case"</stop>":case"<color":case"<color/>":case"</color>":case"<extLst":case"<extLst>":case"</extLst>":break;case"<fill>":case"<fill":case"<fill/>":s.Fills.push(g={});break;case"<gradientFill":case"</gradientFill>":s.Fills.push(g),g={};break;case"<patternFill":case"<patternFill>":R.patternType&&(g.patternType=R.patternType);break;case"<bgColor":g.bgColor||(g.bgColor={}),R.indexed&&(g.bgColor.indexed=parseInt(R.indexed,10)),R.theme&&(g.bgColor.theme=parseInt(R.theme,10)),R.tint&&(g.bgColor.tint=parseFloat(R.tint)),R.rgb&&(g.bgColor.rgb=R.rgb.slice(-6));break;case"<fgColor":g.fgColor||(g.fgColor={}),R.theme&&(g.fgColor.theme=parseInt(R.theme,10)),R.tint&&(g.fgColor.tint=parseFloat(R.tint)),null!=R.rgb&&(g.fgColor.rgb=R.rgb.slice(-6));break;case"<ext":A=!0;break;case"</ext>":A=!1;break;default:if(d&&d.WTF&&!A)throw new Error("unrecognized "+R[0]+" in fills")}})}(pe,X,0,V),(pe=R.match(A))&&function Ap(r,s,a,d){s.Borders=[];var g={},A=!1;(r[0].match(Vo)||[]).forEach(function(T){var R=si(T);switch(Gr(R[0])){case"<borders":case"<borders>":case"</borders>":case"</border>":case"<left/>":case"<left":case"<left>":case"</left>":case"<right/>":case"<right":case"<right>":case"</right>":case"<top/>":case"<top":case"<top>":case"</top>":case"<bottom/>":case"<bottom":case"<bottom>":case"</bottom>":case"<diagonal":case"<diagonal>":case"<diagonal/>":case"</diagonal>":case"<horizontal":case"<horizontal>":case"<horizontal/>":case"</horizontal>":case"<vertical":case"<vertical>":case"<vertical/>":case"</vertical>":case"<start":case"<start>":case"<start/>":case"</start>":case"<end":case"<end>":case"<end/>":case"</end>":case"<color":case"<color>":case"<color/>":case"</color>":case"<extLst":case"<extLst>":case"</extLst>":break;case"<border":case"<border>":case"<border/>":g={},R.diagonalUp&&(g.diagonalUp=Po(R.diagonalUp)),R.diagonalDown&&(g.diagonalDown=Po(R.diagonalDown)),s.Borders.push(g);break;case"<ext":A=!0;break;case"</ext>":A=!1;break;default:if(d&&d.WTF&&!A)throw new Error("unrecognized "+R[0]+" in borders")}})}(pe,X,0,V),(pe=R.match(a))&&function Pp(r,s,a){s.CellXf=[];var d,g=!1;(r[0].match(Vo)||[]).forEach(function(A){var T=si(A),R=0;switch(Gr(T[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":case"</xf>":case"</alignment>":case"<protection":case"</protection>":case"<protection/>":case"<extLst":case"<extLst>":case"</extLst>":break;case"<xf":case"<xf/>":for(delete(d=T)[0],R=0;R<Hm.length;++R)d[Hm[R]]&&(d[Hm[R]]=parseInt(d[Hm[R]],10));for(R=0;R<$m.length;++R)d[$m[R]]&&(d[$m[R]]=Po(d[$m[R]]));if(s.NumberFmt&&d.numFmtId>392)for(R=392;R>60;--R)if(s.NumberFmt[d.numFmtId]==s.NumberFmt[R]){d.numFmtId=R;break}s.CellXf.push(d);break;case"<alignment":case"<alignment/>":var L={};T.vertical&&(L.vertical=T.vertical),T.horizontal&&(L.horizontal=T.horizontal),null!=T.textRotation&&(L.textRotation=T.textRotation),T.indent&&(L.indent=T.indent),T.wrapText&&(L.wrapText=Po(T.wrapText)),d.alignment=L;break;case"<AlternateContent":case"<ext":g=!0;break;case"</AlternateContent>":case"</ext>":g=!1;break;default:if(a&&a.WTF&&!g)throw new Error("unrecognized "+T[0]+" in cellXfs")}})}(pe,X,V),X):X}}(),Rp=z,m_=z,ke=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function Qe(r,s,a){s.themeElements.clrScheme=[];var d={};(r[0].match(Vo)||[]).forEach(function(g){var A=si(g);switch(A[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":d.rgb=A.val;break;case"<a:sysClr":d.rgb=A.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:lt1>":case"</a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":"/"===A[0].charAt(1)?(s.themeElements.clrScheme[ke.indexOf(A[0])]=d,d={}):d.name=A[0].slice(3,A[0].length-1);break;default:if(a&&a.WTF)throw new Error("Unrecognized "+A[0]+" in clrScheme")}})}function Bt(){}function Yt(){}var dn=/<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/,Ut=/<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/,gn=/<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/,Pi=/<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;function ki(r,s){(!r||0===r.length)&&(r=function ta(r,s){if(s&&s.themeXLSX)return s.themeXLSX;if(r&&"string"==typeof r.raw)return r.raw;var a=[_o];return a[a.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',a[a.length]="<a:themeElements>",a[a.length]='<a:clrScheme name="Office">',a[a.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',a[a.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',a[a.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',a[a.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',a[a.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',a[a.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',a[a.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',a[a.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',a[a.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',a[a.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',a[a.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',a[a.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',a[a.length]="</a:clrScheme>",a[a.length]='<a:fontScheme name="Office">',a[a.length]="<a:majorFont>",a[a.length]='<a:latin typeface="Cambria"/>',a[a.length]='<a:ea typeface=""/>',a[a.length]='<a:cs typeface=""/>',a[a.length]='<a:font script="Jpan" typeface="\uff2d\uff33 \uff30\u30b4\u30b7\u30c3\u30af"/>',a[a.length]='<a:font script="Hang" typeface="\ub9d1\uc740 \uace0\ub515"/>',a[a.length]='<a:font script="Hans" typeface="\u5b8b\u4f53"/>',a[a.length]='<a:font script="Hant" typeface="\u65b0\u7d30\u660e\u9ad4"/>',a[a.length]='<a:font script="Arab" typeface="Times New Roman"/>',a[a.length]='<a:font script="Hebr" typeface="Times New Roman"/>',a[a.length]='<a:font script="Thai" typeface="Tahoma"/>',a[a.length]='<a:font script="Ethi" typeface="Nyala"/>',a[a.length]='<a:font script="Beng" typeface="Vrinda"/>',a[a.length]='<a:font script="Gujr" typeface="Shruti"/>',a[a.length]='<a:font script="Khmr" typeface="MoolBoran"/>',a[a.length]='<a:font script="Knda" typeface="Tunga"/>',a[a.length]='<a:font script="Guru" typeface="Raavi"/>',a[a.length]='<a:font script="Cans" typeface="Euphemia"/>',a[a.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',a[a.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',a[a.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',a[a.length]='<a:font script="Thaa" typeface="MV Boli"/>',a[a.length]='<a:font script="Deva" typeface="Mangal"/>',a[a.length]='<a:font script="Telu" typeface="Gautami"/>',a[a.length]='<a:font script="Taml" typeface="Latha"/>',a[a.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',a[a.length]='<a:font script="Orya" typeface="Kalinga"/>',a[a.length]='<a:font script="Mlym" typeface="Kartika"/>',a[a.length]='<a:font script="Laoo" typeface="DokChampa"/>',a[a.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',a[a.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',a[a.length]='<a:font script="Viet" typeface="Times New Roman"/>',a[a.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',a[a.length]='<a:font script="Geor" typeface="Sylfaen"/>',a[a.length]="</a:majorFont>",a[a.length]="<a:minorFont>",a[a.length]='<a:latin typeface="Calibri"/>',a[a.length]='<a:ea typeface=""/>',a[a.length]='<a:cs typeface=""/>',a[a.length]='<a:font script="Jpan" typeface="\uff2d\uff33 \uff30\u30b4\u30b7\u30c3\u30af"/>',a[a.length]='<a:font script="Hang" typeface="\ub9d1\uc740 \uace0\ub515"/>',a[a.length]='<a:font script="Hans" typeface="\u5b8b\u4f53"/>',a[a.length]='<a:font script="Hant" typeface="\u65b0\u7d30\u660e\u9ad4"/>',a[a.length]='<a:font script="Arab" typeface="Arial"/>',a[a.length]='<a:font script="Hebr" typeface="Arial"/>',a[a.length]='<a:font script="Thai" typeface="Tahoma"/>',a[a.length]='<a:font script="Ethi" typeface="Nyala"/>',a[a.length]='<a:font script="Beng" typeface="Vrinda"/>',a[a.length]='<a:font script="Gujr" typeface="Shruti"/>',a[a.length]='<a:font script="Khmr" typeface="DaunPenh"/>',a[a.length]='<a:font script="Knda" typeface="Tunga"/>',a[a.length]='<a:font script="Guru" typeface="Raavi"/>',a[a.length]='<a:font script="Cans" typeface="Euphemia"/>',a[a.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',a[a.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',a[a.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',a[a.length]='<a:font script="Thaa" typeface="MV Boli"/>',a[a.length]='<a:font script="Deva" typeface="Mangal"/>',a[a.length]='<a:font script="Telu" typeface="Gautami"/>',a[a.length]='<a:font script="Taml" typeface="Latha"/>',a[a.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',a[a.length]='<a:font script="Orya" typeface="Kalinga"/>',a[a.length]='<a:font script="Mlym" typeface="Kartika"/>',a[a.length]='<a:font script="Laoo" typeface="DokChampa"/>',a[a.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',a[a.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',a[a.length]='<a:font script="Viet" typeface="Arial"/>',a[a.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',a[a.length]='<a:font script="Geor" typeface="Sylfaen"/>',a[a.length]="</a:minorFont>",a[a.length]="</a:fontScheme>",a[a.length]='<a:fmtScheme name="Office">',a[a.length]="<a:fillStyleLst>",a[a.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',a[a.length]='<a:gradFill rotWithShape="1">',a[a.length]="<a:gsLst>",a[a.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',a[a.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',a[a.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',a[a.length]="</a:gsLst>",a[a.length]='<a:lin ang="16200000" scaled="1"/>',a[a.length]="</a:gradFill>",a[a.length]='<a:gradFill rotWithShape="1">',a[a.length]="<a:gsLst>",a[a.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',a[a.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',a[a.length]="</a:gsLst>",a[a.length]='<a:lin ang="16200000" scaled="0"/>',a[a.length]="</a:gradFill>",a[a.length]="</a:fillStyleLst>",a[a.length]="<a:lnStyleLst>",a[a.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',a[a.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',a[a.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',a[a.length]="</a:lnStyleLst>",a[a.length]="<a:effectStyleLst>",a[a.length]="<a:effectStyle>",a[a.length]="<a:effectLst>",a[a.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',a[a.length]="</a:effectLst>",a[a.length]="</a:effectStyle>",a[a.length]="<a:effectStyle>",a[a.length]="<a:effectLst>",a[a.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',a[a.length]="</a:effectLst>",a[a.length]="</a:effectStyle>",a[a.length]="<a:effectStyle>",a[a.length]="<a:effectLst>",a[a.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',a[a.length]="</a:effectLst>",a[a.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',a[a.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',a[a.length]="</a:effectStyle>",a[a.length]="</a:effectStyleLst>",a[a.length]="<a:bgFillStyleLst>",a[a.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',a[a.length]='<a:gradFill rotWithShape="1">',a[a.length]="<a:gsLst>",a[a.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',a[a.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',a[a.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',a[a.length]="</a:gsLst>",a[a.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',a[a.length]="</a:gradFill>",a[a.length]='<a:gradFill rotWithShape="1">',a[a.length]="<a:gsLst>",a[a.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',a[a.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',a[a.length]="</a:gsLst>",a[a.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',a[a.length]="</a:gradFill>",a[a.length]="</a:bgFillStyleLst>",a[a.length]="</a:fmtScheme>",a[a.length]="</a:themeElements>",a[a.length]="<a:objectDefaults>",a[a.length]="<a:spDef>",a[a.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',a[a.length]="</a:spDef>",a[a.length]="<a:lnDef>",a[a.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',a[a.length]="</a:lnDef>",a[a.length]="</a:objectDefaults>",a[a.length]="<a:extraClrSchemeLst/>",a[a.length]="</a:theme>",a.join("")}());var a,d={};if(!(a=r.match(Pi)))throw new Error("themeElements not found in theme");return function Fn(r,s,a){var d;s.themeElements={},[["clrScheme",dn,Qe],["fontScheme",Ut,Bt],["fmtScheme",gn,Yt]].forEach(function(g){if(!(d=r.match(g[1])))throw new Error(g[0]+" not found in themeElements");g[2](d,s,a)})}(a[0],d,s),d.raw=r,d}function df(r){var s=r.read_shift(2),a=r.read_shift(2)-4,d=[s];switch(s){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:d[1]=function Vl(r){var s={};switch(s.xclrType=r.read_shift(2),s.nTintShade=r.read_shift(2),s.xclrType){case 0:case 4:r.l+=4;break;case 1:s.xclrValue=function d_(r,s){return z(r,s)}(r,4);break;case 2:s.xclrValue=Na(r);break;case 3:s.xclrValue=function na(r){return r.read_shift(4)}(r)}return r.l+=8,s}(r);break;case 6:d[1]=function mf(r,s){return z(r,s)}(r,a);break;case 14:case 15:d[1]=r.read_shift(1===a?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+s+" "+a)}return d}function Vp(r,s){s.forEach(function(a){})}function ia(r,s,a,d){var A,g=Array.isArray(r);s.forEach(function(T){var R=Go(T.ref);if(g?(r[R.r]||(r[R.r]=[]),A=r[R.r][R.c]):A=r[T.ref],!A){A={t:"z"},g?r[R.r][R.c]=A:r[T.ref]=A;var L=so(r["!ref"]||"BDWGO1000001:A1");L.s.r>R.r&&(L.s.r=R.r),L.e.r<R.r&&(L.e.r=R.r),L.s.c>R.c&&(L.s.c=R.c),L.e.c<R.c&&(L.e.c=R.c);var V=Li(L);V!==r["!ref"]&&(r["!ref"]=V)}A.c||(A.c=[]);var X={a:T.author,t:T.t,r:T.r,T:a};T.h&&(X.h=T.h);for(var pe=A.c.length-1;pe>=0;--pe){if(!a&&A.c[pe].T)return;a&&!A.c[pe].T&&A.c.splice(pe,1)}if(a&&d)for(pe=0;pe<d.length;++pe)if(X.a==d[pe].id){X.a=d[pe].name||X.a;break}A.c.push(X)})}var If=Bi,Jr="application/vnd.ms-office.vbaProject",Wm=function(){var r=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,s={r:0,c:0};function a(d,g,A,T){var R=!1,L=!1;0==A.length?L=!0:"["==A.charAt(0)&&(L=!0,A=A.slice(1,-1)),0==T.length?R=!0:"["==T.charAt(0)&&(R=!0,T=T.slice(1,-1));var V=A.length>0?0|parseInt(A,10):0,X=T.length>0?0|parseInt(T,10):0;return R?X+=s.c:--X,L?V+=s.r:--V,g+(R?"":"$")+Uo(X)+(L?"":"$")+Zo(V)}return function(g,A){return s=A,g.replace(r,a)}}(),p_=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,Rm=function(){return function(s,a){return s.replace(p_,function(d,g,A,T,R,L){var V=Tc(T)-(A?0:a.c),X=Mo(L)-(R?0:a.r);return g+"R"+(0==X?"":R?X+1:"["+X+"]")+"C"+(0==V?"":A?V+1:"["+V+"]")})}}();function Pd(r,s){return r.replace(p_,function(a,d,g,A,T,R){return d+("$"==g?g+A:Uo(Tc(A)+s.c))+("$"==T?T+R:Zo(Mo(R)+s.r))})}function Of(r,s,a){var g=Wr(s).s,A=Go(a);return Pd(r,{r:A.r-g.r,c:A.c-g.c})}function Zd(r){return r.replace(/_xlfn\./g,"")}function Ko(r){r.l+=1}function ic(r,s){var a=r.read_shift(1==s?1:2);return[16383&a,a>>14&1,a>>15&1]}function Wp(r,s,a){var d=2;if(a){if(a.biff>=2&&a.biff<=5)return Xp(r);12==a.biff&&(d=4)}var g=r.read_shift(d),A=r.read_shift(d),T=ic(r,2),R=ic(r,2);return{s:{r:g,c:T[0],cRel:T[1],rRel:T[2]},e:{r:A,c:R[0],cRel:R[1],rRel:R[2]}}}function Xp(r){var s=ic(r,2),a=ic(r,2),d=r.read_shift(1),g=r.read_shift(1);return{s:{r:s[0],c:d,cRel:s[1],rRel:s[2]},e:{r:a[0],c:g,cRel:a[1],rRel:a[2]}}}function ef(r,s,a){if(a&&a.biff>=2&&a.biff<=5)return function Mf(r){var s=ic(r,2),a=r.read_shift(1);return{r:s[0],c:a,cRel:s[1],rRel:s[2]}}(r);var d=r.read_shift(a&&12==a.biff?4:2),g=ic(r,2);return{r:d,c:g[0],cRel:g[1],rRel:g[2]}}function tf(r){var s=r.read_shift(2),a=r.read_shift(2);return{r:s,c:255&a,fQuoted:!!(16384&a),cRel:a>>15,rRel:a>>15}}function Lp(r){var s=1&r[r.l+1];return r.l+=4,[s,1]}function v(r){return[r.read_shift(1),r.read_shift(1)]}function hc(r,s){var a=[r.read_shift(1)];if(12==s)switch(a[0]){case 2:a[0]=4;break;case 4:a[0]=16;break;case 0:a[0]=1;break;case 1:a[0]=2}switch(a[0]){case 4:a[1]=fr(r,1)?"TRUE":"FALSE",12!=s&&(r.l+=7);break;case 37:case 16:a[1]=vl[r[r.l]],r.l+=12==s?4:8;break;case 0:r.l+=8;break;case 1:a[1]=fi(r);break;case 2:a[1]=Zl(r,0,{biff:s>0&&s<8?2:s});break;default:throw new Error("Bad SerAr: "+a[0])}return a}function Ug(r,s,a){for(var d=r.read_shift(12==a.biff?4:2),g=[],A=0;A!=d;++A)g.push((12==a.biff?Xo:wc)(r,8));return g}function Fg(r,s,a){var d=0,g=0;12==a.biff?(d=r.read_shift(4),g=r.read_shift(4)):(g=1+r.read_shift(1),d=1+r.read_shift(2)),a.biff>=2&&a.biff<8&&(--d,0==--g&&(g=256));for(var A=0,T=[];A!=d&&(T[A]=[]);++A)for(var R=0;R!=g;++R)T[A][R]=hc(r,a.biff);return T}function Xm(r,s,a){return r.l+=2,[tf(r)]}function Lf(r){return r.l+=6,[]}function dg(r){return r.l+=2,[$o(r),1&r.read_shift(2)]}var pg=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"],Cg={1:{n:"PtgExp",f:function Fc(r,s,a){return r.l++,a&&12==a.biff?[r.read_shift(4,"i"),0]:[r.read_shift(2),r.read_shift(a&&2==a.biff?1:2)]}},2:{n:"PtgTbl",f:z},3:{n:"PtgAdd",f:Ko},4:{n:"PtgSub",f:Ko},5:{n:"PtgMul",f:Ko},6:{n:"PtgDiv",f:Ko},7:{n:"PtgPower",f:Ko},8:{n:"PtgConcat",f:Ko},9:{n:"PtgLt",f:Ko},10:{n:"PtgLe",f:Ko},11:{n:"PtgEq",f:Ko},12:{n:"PtgGe",f:Ko},13:{n:"PtgGt",f:Ko},14:{n:"PtgNe",f:Ko},15:{n:"PtgIsect",f:Ko},16:{n:"PtgUnion",f:Ko},17:{n:"PtgRange",f:Ko},18:{n:"PtgUplus",f:Ko},19:{n:"PtgUminus",f:Ko},20:{n:"PtgPercent",f:Ko},21:{n:"PtgParen",f:Ko},22:{n:"PtgMissArg",f:Ko},23:{n:"PtgStr",f:function Hs(r,s,a){return r.l++,Dc(r,0,a)}},26:{n:"PtgSheet",f:function fg(r,s,a){return r.l+=5,r.l+=2,r.l+=2==a.biff?1:4,["PTGSHEET"]}},27:{n:"PtgEndSheet",f:function gg(r,s,a){return r.l+=2==a.biff?4:5,["PTGENDSHEET"]}},28:{n:"PtgErr",f:function g_(r){return r.l++,vl[r.read_shift(1)]}},29:{n:"PtgBool",f:function js(r){return r.l++,0!==r.read_shift(1)}},30:{n:"PtgInt",f:function Qf(r){return r.l++,r.read_shift(2)}},31:{n:"PtgNum",f:function em(r){return r.l++,fi(r)}},32:{n:"PtgArray",f:function Ff(r,s,a){var d=(96&r[r.l++])>>5;return r.l+=2==a.biff?6:12==a.biff?14:7,[d]}},33:{n:"PtgFunc",f:function ti(r,s,a){var d=(96&r[r.l])>>5;r.l+=1;var g=r.read_shift(a&&a.biff<=3?1:2);return[h1[g],Pg[g],d]}},34:{n:"PtgFuncVar",f:function qo(r,s,a){var d=r[r.l++],g=r.read_shift(1),A=a&&a.biff<=3?[88==d?-1:0,r.read_shift(1)]:function Vs(r){return[r[r.l+1]>>7,32767&r.read_shift(2)]}(r);return[g,(0===A[0]?Pg:g1)[A[1]]]}},35:{n:"PtgName",f:function Qg(r,s,a){var d=r.read_shift(1)>>>5&3,A=r.read_shift(!a||a.biff>=8?4:2);switch(a.biff){case 2:r.l+=5;break;case 3:case 4:r.l+=8;break;case 5:r.l+=12}return[d,0,A]}},36:{n:"PtgRef",f:function le(r,s,a){var d=(96&r[r.l])>>5;return r.l+=1,[d,ef(r,0,a)]}},37:{n:"PtgArea",f:function nf(r,s,a){return[(96&r[r.l++])>>5,Wp(r,0,a)]}},38:{n:"PtgMemArea",f:function Lg(r,s,a){var d=r.read_shift(1)>>>5&3;return r.l+=a&&2==a.biff?3:4,[d,r.read_shift(a&&2==a.biff?1:2)]}},39:{n:"PtgMemErr",f:z},40:{n:"PtgMemNoMem",f:z},41:{n:"PtgMemFunc",f:function Yg(r,s,a){return[r.read_shift(1)>>>5&3,r.read_shift(a&&2==a.biff?1:2)]}},42:{n:"PtgRefErr",f:function mg(r,s,a){var d=r.read_shift(1)>>>5&3;return r.l+=4,a.biff<8&&r.l--,12==a.biff&&(r.l+=2),[d]}},43:{n:"PtgAreaErr",f:function of(r,s,a){var d=(96&r[r.l++])>>5;return r.l+=a&&a.biff>8?12:a.biff<8?6:8,[d]}},44:{n:"PtgRefN",f:function re(r,s,a){var d=(96&r[r.l])>>5;r.l+=1;var g=function qu(r,s,a){var d=a&&a.biff?a.biff:8;if(d>=2&&d<=5)return function Ao(r){var s=r.read_shift(2),a=r.read_shift(1),d=(32768&s)>>15,g=(16384&s)>>14;return s&=16383,1==d&&s>=8192&&(s-=16384),1==g&&a>=128&&(a-=256),{r:s,c:a,cRel:g,rRel:d}}(r);var g=r.read_shift(d>=12?4:2),A=r.read_shift(2),T=(16384&A)>>14,R=(32768&A)>>15;if(A&=16383,1==R)for(;g>524287;)g-=1048576;if(1==T)for(;A>8191;)A-=16384;return{r:g,c:A,cRel:T,rRel:R}}(r,0,a);return[d,g]}},45:{n:"PtgAreaN",f:function nr(r,s,a){var d=(96&r[r.l++])>>5,g=function kf(r,s,a){if(a.biff<8)return Xp(r);var d=r.read_shift(12==a.biff?4:2),g=r.read_shift(12==a.biff?4:2),A=ic(r,2),T=ic(r,2);return{s:{r:d,c:A[0],cRel:A[1],rRel:A[2]},e:{r:g,c:T[0],cRel:T[1],rRel:T[2]}}}(r,0,a);return[d,g]}},46:{n:"PtgMemAreaN",f:function hg(r){return[r.read_shift(1)>>>5&3,r.read_shift(2)]}},47:{n:"PtgMemNoMemN",f:function n1(r){return[r.read_shift(1)>>>5&3,r.read_shift(2)]}},57:{n:"PtgNameX",f:function ug(r,s,a){return 5==a.biff?function Jg(r){var s=r.read_shift(1)>>>5&3,a=r.read_shift(2,"i");r.l+=8;var d=r.read_shift(2);return r.l+=12,[s,a,d]}(r):[r.read_shift(1)>>>5&3,r.read_shift(2),r.read_shift(4)]}},58:{n:"PtgRef3d",f:function Fe(r,s,a){var d=(96&r[r.l])>>5;r.l+=1;var g=r.read_shift(2);return a&&5==a.biff&&(r.l+=12),[d,g,ef(r,0,a)]}},59:{n:"PtgArea3d",f:function gc(r,s,a){var d=(96&r[r.l++])>>5,g=r.read_shift(2,"i");if(a&&5===a.biff)r.l+=12;return[d,g,Wp(r,0,a)]}},60:{n:"PtgRefErr3d",f:function Gg(r,s,a){var d=(96&r[r.l++])>>5,g=r.read_shift(2),A=4;if(a)switch(a.biff){case 5:A=15;break;case 12:A=6}return r.l+=A,[d,g]}},61:{n:"PtgAreaErr3d",f:function Uf(r,s,a){var d=(96&r[r.l++])>>5,g=r.read_shift(2),A=8;if(a)switch(a.biff){case 5:r.l+=12,A=6;break;case 12:A=12}return r.l+=A,[d,g]}},255:{}},o1={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},r1={1:{n:"PtgElfLel",f:dg},2:{n:"PtgElfRw",f:Xm},3:{n:"PtgElfCol",f:Xm},6:{n:"PtgElfRwV",f:Xm},7:{n:"PtgElfColV",f:Xm},10:{n:"PtgElfRadical",f:Xm},11:{n:"PtgElfRadicalS",f:Lf},13:{n:"PtgElfColS",f:Lf},15:{n:"PtgElfColSV",f:Lf},16:{n:"PtgElfRadicalLel",f:dg},25:{n:"PtgList",f:function e1(r){r.l+=2;var s=r.read_shift(2),a=r.read_shift(2),d=r.read_shift(4),g=r.read_shift(2),A=r.read_shift(2);return{ixti:s,coltype:3&a,rt:pg[a>>2&31],idx:d,c:g,C:A}}},29:{n:"PtgSxName",f:function t1(r){return r.l+=2,[r.read_shift(4)]}},255:{}},a1={0:{n:"PtgAttrNoop",f:function i1(r){return r.l+=4,[0,0]}},1:{n:"PtgAttrSemi",f:function cg(r,s,a){var d=255&r[r.l+1]?1:0;return r.l+=a&&2==a.biff?3:4,[d]}},2:{n:"PtgAttrIf",f:function af(r,s,a){var d=255&r[r.l+1]?1:0;return r.l+=2,[d,r.read_shift(a&&2==a.biff?1:2)]}},4:{n:"PtgAttrChoose",f:function f_(r,s,a){r.l+=2;for(var d=r.read_shift(a&&2==a.biff?1:2),g=[],A=0;A<=d;++A)g.push(r.read_shift(a&&2==a.biff?1:2));return g}},8:{n:"PtgAttrGoto",f:function rf(r,s,a){var d=255&r[r.l+1]?1:0;return r.l+=2,[d,r.read_shift(a&&2==a.biff?1:2)]}},16:{n:"PtgAttrSum",f:function Ya(r,s,a){r.l+=a&&2==a.biff?3:4}},32:{n:"PtgAttrBaxcel",f:Lp},33:{n:"PtgAttrBaxcel",f:Lp},64:{n:"PtgAttrSpace",f:function H(r){return r.read_shift(2),v(r)}},65:{n:"PtgAttrSpaceSemi",f:function C(r){return r.read_shift(2),v(r)}},128:{n:"PtgAttrIfError",f:function lg(r){var s=255&r[r.l+1]?1:0;return r.l+=2,[s,r.read_shift(2)]}},255:{}};function Yp(r,s,a,d){if(d.biff<8)return z(r,s);for(var g=r.l+s,A=[],T=0;T!==a.length;++T)switch(a[T][0]){case"PtgArray":a[T][1]=Fg(r,0,d),A.push(a[T][1]);break;case"PtgMemArea":a[T][2]=Ug(r,0,d),A.push(a[T][2]);break;case"PtgExp":d&&12==d.biff&&(a[T][1][1]=r.read_shift(4),A.push(a[T][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+a[T][0]}return 0!=(s=g-r.l)&&A.push(z(r,s)),A}function qd(r,s,a){for(var g,A,d=r.l+s,T=[];d!=r.l;)s=d-r.l,g=Cg[A=r[r.l]]||Cg[o1[A]],(24===A||25===A)&&(g=(24===A?r1:a1)[r[r.l+1]]),g&&g.f?T.push([g.n,g.f(r,s,a)]):z(r,s);return T}function s1(r){for(var s=[],a=0;a<r.length;++a){for(var d=r[a],g=[],A=0;A<d.length;++A){var T=d[A];g.push(T?2===T[0]?'"'+T[1].replace(/"/g,'""')+'"':T[1]:"")}s.push(g.join(","))}return s.join(";")}var l1={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function xg(r,s,a){if(!r)return"SH33TJSERR0";if(a.biff>8&&(!r.XTI||!r.XTI[s]))return r.SheetNames[s];if(!r.XTI)return"SH33TJSERR6";var d=r.XTI[s];if(a.biff<8)return s>1e4&&(s-=65536),s<0&&(s=-s),0==s?"":r.XTI[s-1];if(!d)return"SH33TJSERR1";var g="";if(a.biff>8)switch(r[d[0]][0]){case 357:return g=-1==d[1]?"#REF":r.SheetNames[d[1]],d[1]==d[2]?g:g+":"+r.SheetNames[d[2]];case 358:return null!=a.SID?r.SheetNames[a.SID]:"SH33TJSSAME"+r[d[0]][0];default:return"SH33TJSSRC"+r[d[0]][0]}switch(r[d[0]][0][0]){case 1025:return g=-1==d[1]?"#REF":r.SheetNames[d[1]]||"SH33TJSERR3",d[1]==d[2]?g:g+":"+r.SheetNames[d[2]];case 14849:return r[d[0]].slice(1).map(function(A){return A.Name}).join(";;");default:return r[d[0]][0][3]?(g=-1==d[1]?"#REF":r[d[0]][0][3][d[1]]||"SH33TJSERR4",d[1]==d[2]?g:g+":"+r[d[0]][0][3][d[2]]):"SH33TJSERR2"}}function vg(r,s,a){var d=xg(r,s,a);return"#REF"==d?d:function c1(r,s){if(!(r||s&&s.biff<=5&&s.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(r)?"'"+r+"'":r}(d,a)}function jl(r,s,a,d,g){var L,V,X,Ae,A=g&&g.biff||8,T={s:{c:0,r:0},e:{c:0,r:0}},R=[],pe=0,fe=0,qe="";if(!r[0]||!r[0][0])return"";for(var de=-1,Ne="",ze=0,et=r[0].length;ze<et;++ze){var Ve=r[0][ze];switch(Ve[0]){case"PtgUminus":R.push("-"+R.pop());break;case"PtgUplus":R.push("+"+R.pop());break;case"PtgPercent":R.push(R.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(L=R.pop(),V=R.pop(),de>=0){switch(r[0][de][1][0]){case 0:Ne=ko(" ",r[0][de][1][1]);break;case 1:Ne=ko("\r",r[0][de][1][1]);break;default:if(Ne="",g.WTF)throw new Error("Unexpected PtgAttrSpaceType "+r[0][de][1][0])}V+=Ne,de=-1}R.push(V+l1[Ve[0]]+L);break;case"PtgIsect":L=R.pop(),V=R.pop(),R.push(V+" "+L);break;case"PtgUnion":L=R.pop(),V=R.pop(),R.push(V+","+L);break;case"PtgRange":L=R.pop(),V=R.pop(),R.push(V+":"+L);break;case"PtgAttrChoose":case"PtgAttrGoto":case"PtgAttrIf":case"PtgAttrIfError":case"PtgAttrBaxcel":case"PtgAttrSemi":case"PtgMemArea":case"PtgTbl":case"PtgMemErr":case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":case"PtgMemFunc":case"PtgMemNoMem":break;case"PtgRef":X=Tn(Ve[1][1],T,g),R.push(li(X,A));break;case"PtgRefN":X=a?Tn(Ve[1][1],a,g):Ve[1][1],R.push(li(X,A));break;case"PtgRef3d":pe=Ve[1][1],X=Tn(Ve[1][2],T,g),qe=vg(d,pe,g),R.push(qe+"!"+li(X,A));break;case"PtgFunc":case"PtgFuncVar":var Ht=Ve[1][0],Rt=Ve[1][1];Ht||(Ht=0);var ct=0==(Ht&=127)?[]:R.slice(-Ht);R.length-=Ht,"User"===Rt&&(Rt=ct.shift()),R.push(Rt+"("+ct.join(",")+")");break;case"PtgBool":R.push(Ve[1]?"TRUE":"FALSE");break;case"PtgInt":case"PtgErr":R.push(Ve[1]);break;case"PtgNum":R.push(String(Ve[1]));break;case"PtgStr":R.push('"'+Ve[1].replace(/"/g,'""')+'"');break;case"PtgAreaN":Ae=Qo(Ve[1][1],a?{s:a}:T,g),R.push(To(Ae,g));break;case"PtgArea":Ae=Qo(Ve[1][1],T,g),R.push(To(Ae,g));break;case"PtgArea3d":Ae=Ve[1][2],qe=vg(d,pe=Ve[1][1],g),R.push(qe+"!"+To(Ae,g));break;case"PtgAttrSum":R.push("SUM("+R.pop()+")");break;case"PtgName":var Jt=(d.names||[])[(fe=Ve[1][2])-1]||(d[0]||[])[fe],Ot=Jt?Jt.Name:"SH33TJSNAME"+String(fe);Ot&&"_xlfn."==Ot.slice(0,6)&&!g.xlfn&&(Ot=Ot.slice(6)),R.push(Ot);break;case"PtgNameX":var un,cn=Ve[1][1];if(fe=Ve[1][2],!(g.biff<=5)){var Qt="";if(14849==((d[cn]||[])[0]||[])[0]||(1025==((d[cn]||[])[0]||[])[0]?d[cn][fe]&&d[cn][fe].itab>0&&(Qt=d.SheetNames[d[cn][fe].itab-1]+"!"):Qt=d.SheetNames[fe-1]+"!"),d[cn]&&d[cn][fe])Qt+=d[cn][fe].Name;else if(d[0]&&d[0][fe])Qt+=d[0][fe].Name;else{var Hn=(xg(d,cn,g)||"").split(";;");Hn[fe-1]?Qt=Hn[fe-1]:Qt+="SH33TJSERRX"}R.push(Qt);break}cn<0&&(cn=-cn),d[cn]&&(un=d[cn][fe]),un||(un={Name:"SH33TJSERRY"}),R.push(un.Name);break;case"PtgParen":var Ti="(",$n=")";if(de>=0){switch(Ne="",r[0][de][1][0]){case 2:Ti=ko(" ",r[0][de][1][1])+Ti;break;case 3:Ti=ko("\r",r[0][de][1][1])+Ti;break;case 4:$n=ko(" ",r[0][de][1][1])+$n;break;case 5:$n=ko("\r",r[0][de][1][1])+$n;break;default:if(g.WTF)throw new Error("Unexpected PtgAttrSpaceType "+r[0][de][1][0])}de=-1}R.push(Ti+R.pop()+$n);break;case"PtgRefErr":case"PtgRefErr3d":case"PtgAreaErr":case"PtgAreaErr3d":R.push("#REF!");break;case"PtgExp":var Hi={c:a.c,r:a.r};if(d.sharedf[yi(X={c:Ve[1][1],r:Ve[1][0]})]){var Ei=d.sharedf[yi(X)];R.push(jl(Ei,0,Hi,d,g))}else{var ir=!1;for(L=0;L!=d.arrayf.length;++L)if(!(X.c<(V=d.arrayf[L])[0].s.c||X.c>V[0].e.c||X.r<V[0].s.r||X.r>V[0].e.r)){R.push(jl(V[1],0,Hi,d,g)),ir=!0;break}ir||R.push(Ve[1])}break;case"PtgArray":R.push("{"+s1(Ve[1])+"}");break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":de=ze;break;case"PtgMissArg":R.push("");break;case"PtgList":R.push("Table"+Ve[1].idx+"[#"+Ve[1].rt+"]");break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");default:throw new Error("Unrecognized Formula Token: "+String(Ve))}if(3!=g.biff&&de>=0&&-1==["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"].indexOf(r[0][ze][0])){var Ji=!0;switch((Ve=r[0][de])[1][0]){case 4:Ji=!1;case 0:Ne=ko(" ",Ve[1][1]);break;case 5:Ji=!1;case 1:Ne=ko("\r",Ve[1][1]);break;default:if(Ne="",g.WTF)throw new Error("Unexpected PtgAttrSpaceType "+Ve[1][0])}R.push((Ji?Ne:"")+R.pop()+(Ji?"":Ne)),de=-1}}if(R.length>1&&g.WTF)throw new Error("bad formula stack");return R[0]}function u1(r,s,a){var A,d=r.l+s,g=2==a.biff?1:2,T=r.read_shift(g);if(65535==T)return[[],z(r,s-2)];var R=qd(r,T,a);return s!==T+g&&(A=Yp(r,s-T-g,R,a)),r.l=d,[R,A]}function _1(r,s,a){var g,d=r.l+s,A=r.read_shift(2),T=qd(r,A,a);return 65535==A?[[],z(r,s-2)]:(s!==A+2&&(g=Yp(r,d-A-2,T,a)),[T,g])}function C_(r,s,a){var d=r.l+s,g=Ia(r);2==a.biff&&++r.l;var A=function Ag(r){var s;if(65535!==qa(r,r.l+6))return[fi(r),"n"];switch(r[r.l]){case 0:return r.l+=8,["String","s"];case 1:return s=1===r[r.l+2],r.l+=8,[s,"b"];case 2:return s=r[r.l+2],r.l+=8,[s,"e"];case 3:return r.l+=8,["","s"]}return[]}(r),T=r.read_shift(1);2!=a.biff&&(r.read_shift(1),a.biff>=5&&r.read_shift(4));var R=function m1(r,s,a){var A,d=r.l+s,g=2==a.biff?1:2,T=r.read_shift(g);if(65535==T)return[[],z(r,s-2)];var R=qd(r,T,a);return s!==T+g&&(A=Yp(r,s-T-g,R,a)),r.l=d,[R,A]}(r,d-r.l,a);return{cell:g,val:A[0],formula:R,shared:T>>3&1,tt:A[1]}}function Gp(r,s,a){var d=r.read_shift(4),g=qd(r,d,a),A=r.read_shift(4);return[g,A>0?Yp(r,A,g,a):null]}var p1=Gp,sf=Gp,f1=Gp,Yf=Gp,g1={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},Pg={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},h1={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function oc(r){return"of:"==r.slice(0,3)&&(r=r.slice(3)),61==r.charCodeAt(0)&&61==(r=r.slice(1)).charCodeAt(0)&&(r=r.slice(1)),(r=(r=(r=r.replace(/COM\.MICROSOFT\./g,"")).replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,function(s,a){return a.replace(/\./g,"")})).replace(/\[.(#[A-Z]*[?!])\]/g,"$1")).replace(/[;~]/g,",").replace(/\|/g,";")}function Gf(r){var s=r.split(":");return[s[0].split(".")[0],s[0].split(".")[1]+(s.length>1?":"+(s[1].split(".")[1]||s[1].split(".")[0]):"")]}var Bp={},x_={};function yd(r,s){if(r){var a=[.7,.7,.75,.75,.3,.3];"xlml"==s&&(a=[1,1,1,1,.5,.5]),null==r.left&&(r.left=a[0]),null==r.right&&(r.right=a[1]),null==r.top&&(r.top=a[2]),null==r.bottom&&(r.bottom=a[3]),null==r.header&&(r.header=a[4]),null==r.footer&&(r.footer=a[5])}}function qg(r,s,a,d,g,A){try{d.cellNF&&(r.z=Et[s])}catch(R){if(d.WTF)throw R}if("z"!==r.t||d.cellStyles){if("d"===r.t&&"string"==typeof r.v&&(r.v=Un(r.v)),(!d||!1!==d.cellText)&&"z"!==r.t)try{if(null==Et[s]&&Zr(qi[s]||"General",s),"e"===r.t)r.w=r.w||vl[r.v];else if(0===s)if("n"===r.t)r.w=(0|r.v)===r.v?r.v.toString(10):Ta(r.v);else if("d"===r.t){var T=So(r.v);r.w=(0|T)===T?T.toString(10):Ta(T)}else{if(void 0===r.v)return"";r.w=sa(r.v,x_)}else r.w=_r(s,"d"===r.t?So(r.v):r.v,x_)}catch(R){if(d.WTF)throw R}if(d.cellStyles&&null!=a)try{r.s=A.Fills[a],r.s.fgColor&&r.s.fgColor.theme&&!r.s.fgColor.rgb&&(r.s.fgColor.rgb=zm(g.themeElements.clrScheme[r.s.fgColor.theme].rgb,r.s.fgColor.tint||0),d.WTF&&(r.s.fgColor.raw_rgb=g.themeElements.clrScheme[r.s.fgColor.theme].rgb)),r.s.bgColor&&r.s.bgColor.theme&&(r.s.bgColor.rgb=zm(g.themeElements.clrScheme[r.s.bgColor.theme].rgb,r.s.bgColor.tint||0),d.WTF&&(r.s.bgColor.raw_rgb=g.themeElements.clrScheme[r.s.bgColor.theme].rgb))}catch(R){if(d.WTF&&A.Fills)throw R}}}var x1=/<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g,v1=/<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/,A1=/<(?:\w:)?hyperlink [^>]*>/gm,zf=/"(\w*:\w*)"/,Vf=/<(?:\w:)?col\b[^>]*[\/]?>/g,T1=/<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g,b1=/<(?:\w:)?pageMargins[^>]*\/>/g,yg=/<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/,P1=/<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/,Z1=/<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;function jf(r,s,a,d){var g=si(r);a.Sheets[d]||(a.Sheets[d]={}),g.codeName&&(a.Sheets[d].CodeName=ao(ho(g.codeName)))}var Q1=/<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/,ce=function(){var r=/<(?:\w+:)?c[ \/>]/,s=/<\/(?:\w+:)?row>/,a=/r=["']([^"']*)["']/,d=/<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/,g=/ref=["']([^"']*)["']/,A=es("v"),T=es("f");return function(L,V,X,pe,fe,Ae){for(var Rt,ct,cn,un,$n,qe=0,de="",Ne=[],ze=[],et=0,Ve=0,Dt=0,Ht="",Jt=0,Ot=0,Qt=0,Hn=0,Ti=Array.isArray(Ae.CellXf),Hi=[],Ei=[],ir=Array.isArray(V),_i=[],Ji={},In=!1,gt=!!X.sheetStubs,Xt=L.split(s),bt=0,Tt=Xt.length;bt!=Tt;++bt){var An=(de=Xt[bt].trim()).length;if(0!==An){var ai=0;e:for(qe=0;qe<An;++qe)switch(de[qe]){case">":if("/"!=de[qe-1]){++qe;break e}if(X&&X.cellStyles){if(Jt=null!=(ct=si(de.slice(ai,qe),!0)).r?parseInt(ct.r,10):Jt+1,Ot=-1,X.sheetRows&&X.sheetRows<Jt)continue;Ji={},In=!1,ct.ht&&(In=!0,Ji.hpt=parseFloat(ct.ht),Ji.hpx=Wu(Ji.hpt)),"1"==ct.hidden&&(In=!0,Ji.hidden=!0),null!=ct.outlineLevel&&(In=!0,Ji.level=+ct.outlineLevel),In&&(_i[Jt-1]=Ji)}break;case"<":ai=qe}if(ai>=qe)break;if(Jt=null!=(ct=si(de.slice(ai,qe),!0)).r?parseInt(ct.r,10):Jt+1,Ot=-1,!(X.sheetRows&&X.sheetRows<Jt)){pe.s.r>Jt-1&&(pe.s.r=Jt-1),pe.e.r<Jt-1&&(pe.e.r=Jt-1),X&&X.cellStyles&&(Ji={},In=!1,ct.ht&&(In=!0,Ji.hpt=parseFloat(ct.ht),Ji.hpx=Wu(Ji.hpt)),"1"==ct.hidden&&(In=!0,Ji.hidden=!0),null!=ct.outlineLevel&&(In=!0,Ji.level=+ct.outlineLevel),In&&(_i[Jt-1]=Ji)),Ne=de.slice(qe).split(r);for(var zn=0;zn!=Ne.length&&"<"==Ne[zn].trim().charAt(0);++zn);for(Ne=Ne.slice(zn),qe=0;qe!=Ne.length;++qe)if(0!==(de=Ne[qe].trim()).length){if(ze=de.match(a),et=qe,Ve=0,Dt=0,de="<c "+("<"==de.slice(0,1)?">":"")+de,null!=ze&&2===ze.length){for(et=0,Ht=ze[1],Ve=0;Ve!=Ht.length&&!((Dt=Ht.charCodeAt(Ve)-64)<1||Dt>26);++Ve)et=26*et+Dt;Ot=--et}else++Ot;for(Ve=0;Ve!=de.length&&62!==de.charCodeAt(Ve);++Ve);if(++Ve,(ct=si(de.slice(0,Ve),!0)).r||(ct.r=yi({r:Jt-1,c:Ot})),Rt={t:""},null!=(ze=(Ht=de.slice(Ve)).match(A))&&""!==ze[1]&&(Rt.v=ao(ze[1])),X.cellFormula){if(null!=(ze=Ht.match(T))&&""!==ze[1]){if(Rt.f=ao(ho(ze[1])).replace(/\r\n/g,"\n"),X.xlfn||(Rt.f=Zd(Rt.f)),ze[0].indexOf('t="array"')>-1)Rt.F=(Ht.match(g)||[])[1],Rt.F.indexOf(":")>-1&&Hi.push([so(Rt.F),Rt.F]);else if(ze[0].indexOf('t="shared"')>-1){un=si(ze[0]);var jn=ao(ho(ze[1]));X.xlfn||(jn=Zd(jn)),Ei[parseInt(un.si,10)]=[un,jn,ct.r]}}else(ze=Ht.match(/<f[^>]*\/>/))&&Ei[(un=si(ze[0])).si]&&(Rt.f=Of(Ei[un.si][1],Ei[un.si][2],ct.r));var En=Go(ct.r);for(Ve=0;Ve<Hi.length;++Ve)En.r>=Hi[Ve][0].s.r&&En.r<=Hi[Ve][0].e.r&&En.c>=Hi[Ve][0].s.c&&En.c<=Hi[Ve][0].e.c&&(Rt.F=Hi[Ve][1])}if(null==ct.t&&void 0===Rt.v)if(Rt.f||Rt.F)Rt.v=0,Rt.t="n";else{if(!gt)continue;Rt.t="z"}else Rt.t=ct.t||"n";switch(pe.s.c>Ot&&(pe.s.c=Ot),pe.e.c<Ot&&(pe.e.c=Ot),Rt.t){case"n":if(""==Rt.v||null==Rt.v){if(!gt)continue;Rt.t="z"}else Rt.v=parseFloat(Rt.v);break;case"s":if(typeof Rt.v>"u"){if(!gt)continue;Rt.t="z"}else cn=Bp[parseInt(Rt.v,10)],Rt.v=cn.t,Rt.r=cn.r,X.cellHTML&&(Rt.h=cn.h);break;case"str":Rt.t="s",Rt.v=null!=Rt.v?ho(Rt.v):"",X.cellHTML&&(Rt.h=Ds(Rt.v));break;case"inlineStr":ze=Ht.match(d),Rt.t="s",null!=ze&&(cn=Cd(ze[1]))?(Rt.v=cn.t,X.cellHTML&&(Rt.h=cn.h)):Rt.v="";break;case"b":Rt.v=Po(Rt.v);break;case"d":X.cellDates?Rt.v=Un(Rt.v,1):(Rt.v=So(Un(Rt.v,1)),Rt.t="n");break;case"e":(!X||!1!==X.cellText)&&(Rt.w=Rt.v),Rt.v=Fa[Rt.v]}if(Qt=Hn=0,$n=null,Ti&&void 0!==ct.s&&null!=($n=Ae.CellXf[ct.s])&&(null!=$n.numFmtId&&(Qt=$n.numFmtId),X.cellStyles&&null!=$n.fillId&&(Hn=$n.fillId)),qg(Rt,Qt,Hn,X,fe,Ae),X.cellDates&&Ti&&"n"==Rt.t&&Ir(Et[Qt])&&(Rt.t="d",Rt.v=nt(Rt.v)),ct.cm&&X.xlmeta){var zo=(X.xlmeta.Cell||[])[+ct.cm-1];zo&&"XLDAPR"==zo.type&&(Rt.D=!0)}if(ir){var pt=Go(ct.r);V[pt.r]||(V[pt.r]=[]),V[pt.r][pt.c]=Rt}else V[ct.r]=Rt}}}}_i.length>0&&(V["!rows"]=_i)}}(),Zn=Xo;function X1(r){return[se(r),fi(r),"n"]}var nh=Xo,n0=["left","right","top","bottom","header","footer"];var J1=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],Oh=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],kh=[],Mh=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function o0(r,s){for(var a=0;a!=r.length;++a)for(var d=r[a],g=0;g!=s.length;++g){var A=s[g];if(null==d[A[0]])d[A[0]]=A[1];else switch(A[2]){case"bool":"string"==typeof d[A[0]]&&(d[A[0]]=Po(d[A[0]]));break;case"int":"string"==typeof d[A[0]]&&(d[A[0]]=parseInt(d[A[0]],10))}}}function r0(r,s){for(var a=0;a!=s.length;++a){var d=s[a];if(null==r[d[0]])r[d[0]]=d[1];else switch(d[2]){case"bool":"string"==typeof r[d[0]]&&(r[d[0]]=Po(r[d[0]]));break;case"int":"string"==typeof r[d[0]]&&(r[d[0]]=parseInt(r[d[0]],10))}}}function a0(r){r0(r.WBProps,J1),r0(r.CalcPr,Mh),o0(r.WBView,Oh),o0(r.Sheets,kh),x_.date1904=Po(r.WBProps.date1904)}var Fh="][*?/\\".split("");var Jh=/<\w+:workbook/;function Vh(r,s){var a={};return r.read_shift(4),a.ArchID=r.read_shift(4),r.l+=s-8,a}function tC(r,s,a,d,g,A,T,R){return".bin"===s.slice(-4)?function hh(r,s,a,d,g,A,T){if(!r)return r;var R=s||{};d||(d={"!id":{}}),null!=xt&&null==R.dense&&(R.dense=xt);var V,qe,de,Ne,ze,et,Ve,Dt,Ht,Rt,L=R.dense?[]:{},X={s:{r:2e6,c:2e6},e:{r:0,c:0}},pe=[],fe=!1,Ae=!1,ct=[];R.biff=12,R["!row"]=0;var Jt=0,Ot=!1,cn=[],un={},Qt=R.supbooks||g.supbooks||[[]];if(Qt.sharedf=un,Qt.arrayf=cn,Qt.SheetNames=g.SheetNames||g.Sheets.map(function(Ji){return Ji.name}),!R.supbooks&&(R.supbooks=Qt,g.Names))for(var Hn=0;Hn<g.Names.length;++Hn)Qt[0][Hn+1]=g.Names[Hn];var Ei,ir,Ti=[],$n=[],Hi=!1;if(Kf[16]={n:"BrtShortReal",f:X1},we(r,function(In,gt,Xt){if(!Ae)switch(Xt){case 148:V=In;break;case 0:qe=In,R.sheetRows&&R.sheetRows<=qe.r&&(Ae=!0),Ht=Zo(ze=qe.r),R["!row"]=qe.r,(In.hidden||In.hpt||null!=In.level)&&(In.hpt&&(In.hpx=Wu(In.hpt)),$n[In.r]=In);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(de={t:In[2]},In[2]){case"n":de.v=In[1];break;case"s":de.v=(Dt=Bp[In[1]]).t,de.r=Dt.r;break;case"b":de.v=!!In[1];break;case"e":de.v=In[1],!1!==R.cellText&&(de.w=vl[de.v]);break;case"str":de.t="s",de.v=In[1];break;case"is":de.t="s",de.v=In[1].t}if((Ne=T.CellXf[In[0].iStyleRef])&&qg(de,Ne.numFmtId,null,R,A,T),et=-1==In[0].c?et+1:In[0].c,R.dense?(L[ze]||(L[ze]=[]),L[ze][et]=de):L[Uo(et)+Ht]=de,R.cellFormula){for(Ot=!1,Jt=0;Jt<cn.length;++Jt){var bt=cn[Jt];qe.r>=bt[0].s.r&&qe.r<=bt[0].e.r&&et>=bt[0].s.c&&et<=bt[0].e.c&&(de.F=Li(bt[0]),Ot=!0)}!Ot&&In.length>3&&(de.f=In[3])}if(X.s.r>qe.r&&(X.s.r=qe.r),X.s.c>et&&(X.s.c=et),X.e.r<qe.r&&(X.e.r=qe.r),X.e.c<et&&(X.e.c=et),R.cellDates&&Ne&&"n"==de.t&&Ir(Et[Ne.numFmtId])){var Tt=Eo(de.v);Tt&&(de.t="d",de.v=new Date(Tt.y,Tt.m-1,Tt.d,Tt.H,Tt.M,Tt.S,Tt.u))}Ei&&("XLDAPR"==Ei.type&&(de.D=!0),Ei=void 0),ir&&(ir=void 0);break;case 1:case 12:if(!R.sheetStubs||fe)break;de={t:"z",v:void 0},et=-1==In[0].c?et+1:In[0].c,R.dense?(L[ze]||(L[ze]=[]),L[ze][et]=de):L[Uo(et)+Ht]=de,X.s.r>qe.r&&(X.s.r=qe.r),X.s.c>et&&(X.s.c=et),X.e.r<qe.r&&(X.e.r=qe.r),X.e.c<et&&(X.e.c=et),Ei&&("XLDAPR"==Ei.type&&(de.D=!0),Ei=void 0),ir&&(ir=void 0);break;case 176:ct.push(In);break;case 49:Ei=((R.xlmeta||{}).Cell||[])[In-1];break;case 494:var An=d["!id"][In.relId];for(An?(In.Target=An.Target,In.loc&&(In.Target+="#"+In.loc),In.Rel=An):""==In.relId&&(In.Target="#"+In.loc),ze=In.rfx.s.r;ze<=In.rfx.e.r;++ze)for(et=In.rfx.s.c;et<=In.rfx.e.c;++et)R.dense?(L[ze]||(L[ze]=[]),L[ze][et]||(L[ze][et]={t:"z",v:void 0}),L[ze][et].l=In):(Ve=yi({c:et,r:ze}),L[Ve]||(L[Ve]={t:"z",v:void 0}),L[Ve].l=In);break;case 426:if(!R.cellFormula)break;cn.push(In),(Rt=R.dense?L[ze][et]:L[Uo(et)+Ht]).f=jl(In[1],0,{r:qe.r,c:et},Qt,R),Rt.F=Li(In[0]);break;case 427:if(!R.cellFormula)break;un[yi(In[0].s)]=In[1],(Rt=R.dense?L[ze][et]:L[Uo(et)+Ht]).f=jl(In[1],0,{r:qe.r,c:et},Qt,R);break;case 60:if(!R.cellStyles)break;for(;In.e>=In.s;)Ti[In.e--]={width:In.w/256,hidden:!!(1&In.flags),level:In.level},Hi||(Hi=!0,Ku(In.w/256)),bu(Ti[In.e+1]);break;case 161:L["!autofilter"]={ref:Li(In)};break;case 476:L["!margins"]=In;break;case 147:g.Sheets[a]||(g.Sheets[a]={}),In.name&&(g.Sheets[a].CodeName=In.name),(In.above||In.left)&&(L["!outline"]={above:In.above,left:In.left});break;case 137:g.Views||(g.Views=[{}]),g.Views[0]||(g.Views[0]={}),In.RTL&&(g.Views[0].RTL=!0);break;case 485:case 64:case 1053:case 151:case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 551:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:fe=!0;break;case 36:fe=!1;break;case 37:pe.push(Xt),fe=!0;break;case 38:pe.pop(),fe=!1;break;default:if(!gt.T&&(!fe||R.WTF))throw new Error("Unexpected record 0x"+Xt.toString(16))}},R),delete R.supbooks,delete R["!row"],!L["!ref"]&&(X.s.r<2e6||V&&(V.e.r>0||V.e.c>0||V.s.r>0||V.s.c>0))&&(L["!ref"]=Li(V||X)),R.sheetRows&&L["!ref"]){var _i=so(L["!ref"]);R.sheetRows<=+_i.e.r&&(_i.e.r=R.sheetRows-1,_i.e.r>X.e.r&&(_i.e.r=X.e.r),_i.e.r<_i.s.r&&(_i.s.r=_i.e.r),_i.e.c>X.e.c&&(_i.e.c=X.e.c),_i.e.c<_i.s.c&&(_i.s.c=_i.e.c),L["!fullref"]=L["!ref"],L["!ref"]=Li(_i))}return ct.length>0&&(L["!merges"]=ct),Ti.length>0&&(L["!cols"]=Ti),$n.length>0&&(L["!rows"]=$n),L}(r,d,a,g,A,T,R):function q1(r,s,a,d,g,A,T){if(!r)return r;d||(d={"!id":{}}),null!=xt&&null==s.dense&&(s.dense=xt);var R=s.dense?[]:{},L={s:{r:2e6,c:2e6},e:{r:0,c:0}},V="",X="",pe=r.match(v1);pe?(V=r.slice(0,pe.index),X=r.slice(pe.index+pe[0].length)):V=X=r;var fe=V.match(yg);fe?jf(fe[0],0,g,a):(fe=V.match(P1))&&function y1(r,s,a,d,g){jf(r.slice(0,r.indexOf(">")),0,d,g)}(fe[0],0,0,g,a);var Ae=(V.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(Ae>0){var qe=V.slice(Ae,Ae+50).match(zf);qe&&function Sg(r,s){var a=so(s);a.s.r<=a.e.r&&a.s.c<=a.e.c&&a.s.r>=0&&a.s.c>=0&&(r["!ref"]=Li(a))}(R,qe[1])}var de=V.match(Z1);de&&de[1]&&function x(r,s){s.Views||(s.Views=[{}]),(r.match(Q1)||[]).forEach(function(a,d){var g=si(a);s.Views[d]||(s.Views[d]={}),+g.zoomScale&&(s.Views[d].zoom=+g.zoomScale),Po(g.rightToLeft)&&(s.Views[d].RTL=!0)})}(de[1],g);var Ne=[];if(s.cellStyles){var ze=V.match(Vf);ze&&function k1(r,s){for(var a=!1,d=0;d!=s.length;++d){var g=si(s[d],!0);g.hidden&&(g.hidden=Po(g.hidden));var A=parseInt(g.min,10)-1,T=parseInt(g.max,10)-1;for(g.outlineLevel&&(g.level=+g.outlineLevel||0),delete g.min,delete g.max,g.width=+g.width,!a&&g.width&&(a=!0,Ku(g.width)),bu(g);A<=T;)r[A++]=ro(g)}}(Ne,ze)}pe&&ce(pe[1],R,s,L,A,T);var et=X.match(T1);et&&(R["!autofilter"]=function U1(r){return{ref:(r.match(/ref="([^"]*)"/)||[])[1]}}(et[0]));var Ve=[],Dt=X.match(x1);if(Dt)for(Ae=0;Ae!=Dt.length;++Ae)Ve[Ae]=so(Dt[Ae].slice(Dt[Ae].indexOf('"')+1));var Ht=X.match(A1);Ht&&function D1(r,s,a){for(var d=Array.isArray(r),g=0;g!=s.length;++g){var A=si(ho(s[g]),!0);if(!A.ref)return;var T=((a||{})["!id"]||[])[A.id];T?(A.Target=T.Target,A.location&&(A.Target+="#"+ao(A.location))):(A.Target="#"+ao(A.location),T={Target:A.Target,TargetMode:"Internal"}),A.Rel=T,A.tooltip&&(A.Tooltip=A.tooltip,delete A.tooltip);for(var R=so(A.ref),L=R.s.r;L<=R.e.r;++L)for(var V=R.s.c;V<=R.e.c;++V){var X=yi({c:V,r:L});d?(r[L]||(r[L]=[]),r[L][V]||(r[L][V]={t:"z",v:void 0}),r[L][V].l=A):(r[X]||(r[X]={t:"z",v:void 0}),r[X].l=A)}}}(R,Ht,d);var Rt=X.match(b1);if(Rt&&(R["!margins"]=function w1(r){var s={};return["left","right","top","bottom","header","footer"].forEach(function(a){r[a]&&(s[a]=parseFloat(r[a]))}),s}(si(Rt[0]))),!R["!ref"]&&L.e.c>=L.s.c&&L.e.r>=L.s.r&&(R["!ref"]=Li(L)),s.sheetRows>0&&R["!ref"]){var ct=so(R["!ref"]);s.sheetRows<=+ct.e.r&&(ct.e.r=s.sheetRows-1,ct.e.r>L.e.r&&(ct.e.r=L.e.r),ct.e.r<ct.s.r&&(ct.s.r=ct.e.r),ct.e.c>L.e.c&&(ct.e.c=L.e.c),ct.e.c<ct.s.c&&(ct.s.c=ct.e.c),R["!fullref"]=R["!ref"],R["!ref"]=Li(ct))}return Ne.length>0&&(R["!cols"]=Ne),Ve.length>0&&(R["!merges"]=Ve),R}(r,d,a,g,A,T,R)}var Hf,d0=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,_0=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function wm(r,s){var a=r.split(/\s+/),d=[];if(s||(d[0]=a[0]),1===a.length)return d;var A,T,L,g=r.match(d0);if(g)for(L=0;L!=g.length;++L)-1===(T=(A=g[L].match(_0))[1].indexOf(":"))?d[A[1]]=A[2].slice(1,A[2].length-1):d["xmlns:"===A[1].slice(0,6)?"xmlns"+A[1].slice(6):A[1].slice(T+1)]=A[2].slice(1,A[2].length-1);return d}function hC(r){var a={};if(1===r.split(/\s+/).length)return a;var g,A,R,d=r.match(d0);if(d)for(R=0;R!=d.length;++R)-1===(A=(g=d[R].match(_0))[1].indexOf(":"))?a[g[1]]=g[2].slice(1,g[2].length-1):a["xmlns:"===g[1].slice(0,6)?"xmlns"+g[1].slice(6):g[1].slice(A+1)]=g[2].slice(1,g[2].length-1);return a}function xC(r,s,a,d){var g=d;switch((a[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":g=Po(d);break;case"i2":case"int":g=parseInt(d,10);break;case"r4":case"float":g=parseFloat(d);break;case"date":case"dateTime.tz":g=Un(d);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+a[0])}r[ao(s)]=g}function AC(r,s,a){if(a.cellStyles&&s.Interior){var d=s.Interior;d.Pattern&&(d.patternType=vp[d.Pattern]||d.Pattern)}r[s.ID]=s}function TC(r,s,a,d,g,A,T,R,L,V){var X="General",pe=d.StyleID,fe={};V=V||{};var Ae=[],qe=0;for(void 0===pe&&R&&(pe=R.StyleID),void 0===pe&&T&&(pe=T.StyleID);void 0!==A[pe]&&(A[pe].nf&&(X=A[pe].nf),A[pe].Interior&&Ae.push(A[pe].Interior),A[pe].Parent);)pe=A[pe].Parent;switch(a.Type){case"Boolean":d.t="b",d.v=Po(r);break;case"String":d.t="s",d.r=Rr(ao(r)),d.v=r.indexOf("<")>-1?ao(s||r).replace(/<.*?>/g,""):d.r;break;case"DateTime":"Z"!=r.slice(-1)&&(r+="Z"),d.v=(Un(r)-new Date(Date.UTC(1899,11,30)))/864e5,d.v!=d.v?d.v=ao(r):d.v<60&&(d.v=d.v-1),(!X||"General"==X)&&(X="yyyy-mm-dd");case"Number":void 0===d.v&&(d.v=+r),d.t||(d.t="n");break;case"Error":d.t="e",d.v=Fa[r],!1!==V.cellText&&(d.w=r);break;default:""==r&&""==s?d.t="z":(d.t="s",d.v=Rr(s||r))}if(function vC(r,s,a){if("z"!==r.t){if(!a||!1!==a.cellText)try{r.w="e"===r.t?r.w||vl[r.v]:"General"===s?"n"===r.t?(0|r.v)===r.v?r.v.toString(10):Ta(r.v):sa(r.v):function CC(r,s){var a=Hf[r]||ao(r);return"General"===a?sa(s):_r(a,s)}(s||"General",r.v)}catch(A){if(a.WTF)throw A}try{var d=Hf[s]||s||"General";if(a.cellNF&&(r.z=d),a.cellDates&&"n"==r.t&&Ir(d)){var g=Eo(r.v);g&&(r.t="d",r.v=new Date(g.y,g.m-1,g.d,g.H,g.M,g.S,g.u))}}catch(A){if(a.WTF)throw A}}}(d,X,V),!1!==V.cellFormula)if(d.Formula){var de=ao(d.Formula);61==de.charCodeAt(0)&&(de=de.slice(1)),d.f=Wm(de,g),delete d.Formula,"RC"==d.ArrayRange?d.F=Wm("RC:RC",g):d.ArrayRange&&(d.F=Wm(d.ArrayRange,g),L.push([so(d.F),d.F]))}else for(qe=0;qe<L.length;++qe)g.r>=L[qe][0].s.r&&g.r<=L[qe][0].e.r&&g.c>=L[qe][0].s.c&&g.c<=L[qe][0].e.c&&(d.F=L[qe][1]);V.cellStyles&&(Ae.forEach(function(Ne){!fe.patternType&&Ne.patternType&&(fe.patternType=Ne.patternType)}),d.s=fe),void 0!==d.StyleID&&(d.ixfe=d.StyleID)}function bC(r){r.t=r.v||"",r.t=r.t.replace(/\r\n/g,"\n").replace(/\r/g,"\n"),r.v=r.w=r.ixfe=void 0}function L1(r,s){var a=s||{};ha();var d=mn(ns(r));("binary"==a.type||"array"==a.type||"base64"==a.type)&&(d=typeof Mt<"u"?Mt.utils.decode(65001,nn(d)):ho(d));var g=d.slice(0,1024).toLowerCase(),A=!1;if((1023&(g=g.replace(/".*?"/g,"")).indexOf(">"))>Math.min(1023&g.indexOf(","),1023&g.indexOf(";"))){var T=ro(a);return T.type="string",Il.to_workbook(d,T)}if(-1==g.indexOf("<?xml")&&["html","table","head","meta","script","style","div"].forEach(function(rc){g.indexOf("<"+rc)>=0&&(A=!0)}),A)return function ox(r,s){var a=r.match(/<table[\s\S]*?>[\s\S]*?<\/table>/gi);if(!a||0==a.length)throw new Error("Invalid HTML: could not find <table>");if(1==a.length)return Sa(nx(a[0],s),s);var d={SheetNames:[],Sheets:{}};return a.forEach(function(g,A){k(d,nx(g,s),"Sheet"+(A+1))}),d}(d,a);Hf={"General Number":"General","General Date":Et[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":Et[15],"Short Date":Et[14],"Long Time":Et[19],"Medium Time":Et[18],"Short Time":Et[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:Et[2],Standard:Et[4],Percent:Et[10],Scientific:Et[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var R,V,L=[];null!=xt&&null==a.dense&&(a.dense=xt);var Ei,X={},pe=[],fe=a.dense?[]:{},Ae="",qe={},de={},Ne=wm('<Data ss:Type="String">'),ze=0,et=0,Ve=0,Dt={s:{r:2e6,c:2e6},e:{r:0,c:0}},Ht={},Rt={},ct="",Jt=0,Ot=[],cn={},un={},Qt=0,Hn=[],Ti=[],$n={},Hi=[],ir=!1,_i=[],Ji=[],In={},gt=0,Xt=0,bt={Sheets:[],WBProps:{date1904:!1}},Tt={};Pa.lastIndex=0,d=d.replace(/<!--([\s\S]*?)-->/gm,"");for(var An="";R=Pa.exec(d);)switch(R[3]=(An=R[3]).toLowerCase()){case"data":if("data"==An){if("/"===R[1]){if((V=L.pop())[0]!==R[3])throw new Error("Bad state: "+V.join("|"))}else"/"!==R[0].charAt(R[0].length-2)&&L.push([R[3],!0]);break}if(L[L.length-1][1])break;"/"===R[1]?TC(d.slice(ze,R.index),ct,Ne,"comment"==L[L.length-1][0]?$n:qe,{c:et,r:Ve},Ht,Hi[et],de,_i,a):(ct="",Ne=wm(R[0]),ze=R.index+R[0].length);break;case"cell":if("/"===R[1])if(Ti.length>0&&(qe.c=Ti),(!a.sheetRows||a.sheetRows>Ve)&&void 0!==qe.v&&(a.dense?(fe[Ve]||(fe[Ve]=[]),fe[Ve][et]=qe):fe[Uo(et)+Zo(Ve)]=qe),qe.HRef&&(qe.l={Target:ao(qe.HRef)},qe.HRefScreenTip&&(qe.l.Tooltip=qe.HRefScreenTip),delete qe.HRef,delete qe.HRefScreenTip),(qe.MergeAcross||qe.MergeDown)&&(gt=et+(0|parseInt(qe.MergeAcross,10)),Xt=Ve+(0|parseInt(qe.MergeDown,10)),Ot.push({s:{c:et,r:Ve},e:{c:gt,r:Xt}})),a.sheetStubs)if(qe.MergeAcross||qe.MergeDown){for(var ai=et;ai<=gt;++ai)for(var zn=Ve;zn<=Xt;++zn)(ai>et||zn>Ve)&&(a.dense?(fe[zn]||(fe[zn]=[]),fe[zn][ai]={t:"z"}):fe[Uo(ai)+Zo(zn)]={t:"z"});et=gt+1}else++et;else qe.MergeAcross?et=gt+1:++et;else(qe=hC(R[0])).Index&&(et=+qe.Index-1),et<Dt.s.c&&(Dt.s.c=et),et>Dt.e.c&&(Dt.e.c=et),"/>"===R[0].slice(-2)&&++et,Ti=[];break;case"row":"/"===R[1]||"/>"===R[0].slice(-2)?(Ve<Dt.s.r&&(Dt.s.r=Ve),Ve>Dt.e.r&&(Dt.e.r=Ve),"/>"===R[0].slice(-2)&&(de=wm(R[0])).Index&&(Ve=+de.Index-1),et=0,++Ve):((de=wm(R[0])).Index&&(Ve=+de.Index-1),In={},("0"==de.AutoFitHeight||de.Height)&&(In.hpx=parseInt(de.Height,10),In.hpt=Nm(In.hpx),Ji[Ve]=In),"1"==de.Hidden&&(In.hidden=!0,Ji[Ve]=In));break;case"worksheet":if("/"===R[1]){if((V=L.pop())[0]!==R[3])throw new Error("Bad state: "+V.join("|"));pe.push(Ae),Dt.s.r<=Dt.e.r&&Dt.s.c<=Dt.e.c&&(fe["!ref"]=Li(Dt),a.sheetRows&&a.sheetRows<=Dt.e.r&&(fe["!fullref"]=fe["!ref"],Dt.e.r=a.sheetRows-1,fe["!ref"]=Li(Dt))),Ot.length&&(fe["!merges"]=Ot),Hi.length>0&&(fe["!cols"]=Hi),Ji.length>0&&(fe["!rows"]=Ji),X[Ae]=fe}else Dt={s:{r:2e6,c:2e6},e:{r:0,c:0}},Ve=et=0,L.push([R[3],!1]),V=wm(R[0]),Ae=ao(V.Name),fe=a.dense?[]:{},Ot=[],_i=[],Ji=[],bt.Sheets.push(Tt={name:Ae,Hidden:0});break;case"table":if("/"===R[1]){if((V=L.pop())[0]!==R[3])throw new Error("Bad state: "+V.join("|"))}else{if("/>"==R[0].slice(-2))break;L.push([R[3],!1]),Hi=[],ir=!1}break;case"style":"/"===R[1]?AC(Ht,Rt,a):Rt=wm(R[0]);break;case"numberformat":Rt.nf=ao(wm(R[0]).Format||"General"),Hf[Rt.nf]&&(Rt.nf=Hf[Rt.nf]);for(var jn=0;392!=jn&&Et[jn]!=Rt.nf;++jn);if(392==jn)for(jn=57;392!=jn;++jn)if(null==Et[jn]){Zr(Rt.nf,jn);break}break;case"column":if("table"!==L[L.length-1][0])break;if((Ei=wm(R[0])).Hidden&&(Ei.hidden=!0,delete Ei.Hidden),Ei.Width&&(Ei.wpx=parseInt(Ei.Width,10)),!ir&&Ei.wpx>10){ir=!0,La=r_;for(var En=0;En<Hi.length;++En)Hi[En]&&bu(Hi[En])}ir&&bu(Ei),Hi[Ei.Index-1||Hi.length]=Ei;for(var zo=0;zo<+Ei.Span;++zo)Hi[Hi.length]=ro(Ei);break;case"namedrange":if("/"===R[1])break;bt.Names||(bt.Names=[]);var pt=si(R[0]),fa={Name:pt.Name,Ref:Wm(pt.RefersTo.slice(1),{r:0,c:0})};bt.Sheets.length>0&&(fa.Sheet=bt.Sheets.length-1),bt.Names.push(fa);break;case"namedcell":case"b":case"i":case"u":case"s":case"em":case"h2":case"h3":case"sub":case"sup":case"span":case"alignment":case"borders":case"border":case"protection":case"paragraphs":case"name":case"pixelsperinch":case"null":break;case"font":if("/>"===R[0].slice(-2))break;"/"===R[1]?ct+=d.slice(Jt,R.index):Jt=R.index+R[0].length;break;case"interior":if(!a.cellStyles)break;Rt.Interior=wm(R[0]);break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if("/>"===R[0].slice(-2))break;"/"===R[1]?Gs(cn,An,d.slice(Qt,R.index)):Qt=R.index+R[0].length;break;case"styles":case"workbook":if("/"===R[1]){if((V=L.pop())[0]!==R[3])throw new Error("Bad state: "+V.join("|"))}else L.push([R[3],!1]);break;case"comment":if("/"===R[1]){if((V=L.pop())[0]!==R[3])throw new Error("Bad state: "+V.join("|"));bC($n),Ti.push($n)}else L.push([R[3],!1]),$n={a:(V=wm(R[0])).Author};break;case"autofilter":if("/"===R[1]){if((V=L.pop())[0]!==R[3])throw new Error("Bad state: "+V.join("|"))}else if("/"!==R[0].charAt(R[0].length-2)){var cr=wm(R[0]);fe["!autofilter"]={ref:Wm(cr.Range).replace(/\$/g,"")},L.push([R[3],!0])}break;case"datavalidation":if("/"===R[1]){if((V=L.pop())[0]!==R[3])throw new Error("Bad state: "+V.join("|"))}else"/"!==R[0].charAt(R[0].length-2)&&L.push([R[3],!0]);break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if("/"===R[1]){if((V=L.pop())[0]!==R[3])throw new Error("Bad state: "+V.join("|"))}else"/"!==R[0].charAt(R[0].length-2)&&L.push([R[3],!0]);break;default:if(0==L.length&&"document"==R[3]||0==L.length&&"uof"==R[3])return Z0(d,a);var ga=!0;switch(L[L.length-1][0]){case"officedocumentsettings":switch(R[3]){case"allowpng":case"removepersonalinformation":case"downloadcomponents":case"locationofcomponents":case"colors":case"color":case"index":case"rgb":case"targetscreensize":case"readonlyrecommended":break;default:ga=!1}break;case"componentoptions":switch(R[3]){case"toolbar":case"hideofficelogo":case"spreadsheetautofit":case"label":case"caption":case"maxheight":case"maxwidth":case"nextsheetnumber":break;default:ga=!1}break;case"excelworkbook":switch(R[3]){case"date1904":bt.WBProps.date1904=!0;break;case"windowheight":case"windowwidth":case"windowtopx":case"windowtopy":case"tabratio":case"protectstructure":case"protectwindow":case"protectwindows":case"activesheet":case"displayinknotes":case"firstvisiblesheet":case"supbook":case"sheetname":case"sheetindex":case"sheetindexfirst":case"sheetindexlast":case"dll":case"acceptlabelsinformulas":case"donotsavelinkvalues":case"iteration":case"maxiterations":case"maxchange":case"path":case"xct":case"count":case"selectedsheets":case"calculation":case"uncalced":case"startupprompt":case"crn":case"externname":case"formula":case"colfirst":case"collast":case"wantadvise":case"boolean":case"error":case"text":case"ole":case"noautorecover":case"publishobjects":case"donotcalculatebeforesave":case"number":case"refmoder1c1":case"embedsavesmarttags":break;default:ga=!1}break;case"workbookoptions":switch(R[3]){case"owcversion":case"height":case"width":break;default:ga=!1}break;case"worksheetoptions":switch(R[3]){case"visible":if("/>"!==R[0].slice(-2))if("/"===R[1])switch(d.slice(Qt,R.index)){case"SheetHidden":Tt.Hidden=1;break;case"SheetVeryHidden":Tt.Hidden=2}else Qt=R.index+R[0].length;break;case"header":fe["!margins"]||yd(fe["!margins"]={},"xlml"),isNaN(+si(R[0]).Margin)||(fe["!margins"].header=+si(R[0]).Margin);break;case"footer":fe["!margins"]||yd(fe["!margins"]={},"xlml"),isNaN(+si(R[0]).Margin)||(fe["!margins"].footer=+si(R[0]).Margin);break;case"pagemargins":var ur=si(R[0]);fe["!margins"]||yd(fe["!margins"]={},"xlml"),isNaN(+ur.Top)||(fe["!margins"].top=+ur.Top),isNaN(+ur.Left)||(fe["!margins"].left=+ur.Left),isNaN(+ur.Right)||(fe["!margins"].right=+ur.Right),isNaN(+ur.Bottom)||(fe["!margins"].bottom=+ur.Bottom);break;case"displayrighttoleft":bt.Views||(bt.Views=[]),bt.Views[0]||(bt.Views[0]={}),bt.Views[0].RTL=!0;break;case"freezepanes":case"frozennosplit":case"splithorizontal":case"splitvertical":case"donotdisplaygridlines":case"activerow":case"activecol":case"toprowbottompane":case"leftcolumnrightpane":case"unsynced":case"print":case"printerrors":case"panes":case"scale":case"pane":case"number":case"layout":case"pagesetup":case"selected":case"protectobjects":case"enableselection":case"protectscenarios":case"validprinterinfo":case"horizontalresolution":case"verticalresolution":case"numberofcopies":case"activepane":case"toprowvisible":case"leftcolumnvisible":case"fittopage":case"rangeselection":case"papersizeindex":case"pagelayoutzoom":case"pagebreakzoom":case"filteron":case"fitwidth":case"fitheight":case"commentslayout":case"zoom":case"lefttoright":case"gridlines":case"allowsort":case"allowfilter":case"allowinsertrows":case"allowdeleterows":case"allowinsertcols":case"allowdeletecols":case"allowinserthyperlinks":case"allowformatcells":case"allowsizecols":case"allowsizerows":case"tabcolorindex":case"donotdisplayheadings":case"showpagelayoutzoom":case"blackandwhite":case"donotdisplayzeros":case"displaypagebreak":case"rowcolheadings":case"donotdisplayoutline":case"noorientation":case"allowusepivottables":case"zeroheight":case"viewablerange":case"selection":case"protectcontents":break;case"nosummaryrowsbelowdetail":fe["!outline"]||(fe["!outline"]={}),fe["!outline"].above=!0;break;case"nosummarycolumnsrightdetail":fe["!outline"]||(fe["!outline"]={}),fe["!outline"].left=!0;break;default:ga=!1}break;case"pivottable":case"pivotcache":switch(R[3]){case"immediateitemsondrop":case"showpagemultipleitemlabel":case"compactrowindent":case"location":case"pivotfield":case"orientation":case"layoutform":case"layoutsubtotallocation":case"layoutcompactrow":case"position":case"pivotitem":case"datatype":case"datafield":case"sourcename":case"parentfield":case"ptlineitems":case"ptlineitem":case"countofsameitems":case"item":case"itemtype":case"ptsource":case"cacheindex":case"consolidationreference":case"filename":case"reference":case"nocolumngrand":case"norowgrand":case"blanklineafteritems":case"hidden":case"subtotal":case"basefield":case"mapchilditems":case"function":case"refreshonfileopen":case"printsettitles":case"mergelabels":case"defaultversion":case"refreshname":case"refreshdate":case"refreshdatecopy":case"versionlastrefresh":case"versionlastupdate":case"versionupdateablemin":case"versionrefreshablemin":case"calculation":break;default:ga=!1}break;case"pagebreaks":switch(R[3]){case"colbreaks":case"colbreak":case"rowbreaks":case"rowbreak":case"colstart":case"colend":case"rowend":break;default:ga=!1}break;case"autofilter":switch(R[3]){case"autofiltercolumn":case"autofiltercondition":case"autofilterand":case"autofilteror":break;default:ga=!1}break;case"querytable":switch(R[3]){case"id":case"autoformatfont":case"autoformatpattern":case"querysource":case"querytype":case"enableredirections":case"refreshedinxl9":case"urlstring":case"htmltables":case"connection":case"commandtext":case"refreshinfo":case"notitles":case"nextid":case"columninfo":case"overwritecells":case"donotpromptforfile":case"textwizardsettings":case"source":case"number":case"decimal":case"thousandseparator":case"trailingminusnumbers":case"formatsettings":case"fieldtype":case"delimiters":case"tab":case"comma":case"autoformatname":case"versionlastedit":case"versionlastrefresh":break;default:ga=!1}break;case"datavalidation":switch(R[3]){case"range":case"type":case"min":case"max":case"sort":case"descending":case"order":case"casesensitive":case"value":case"errorstyle":case"errormessage":case"errortitle":case"inputmessage":case"inputtitle":case"combohide":case"inputhide":case"condition":case"qualifier":case"useblank":case"value1":case"value2":case"format":case"cellrangelist":break;default:ga=!1}break;case"sorting":case"conditionalformatting":switch(R[3]){case"range":case"type":case"min":case"max":case"sort":case"descending":case"order":case"casesensitive":case"value":case"errorstyle":case"errormessage":case"errortitle":case"cellrangelist":case"inputmessage":case"inputtitle":case"combohide":case"inputhide":case"condition":case"qualifier":case"useblank":case"value1":case"value2":case"format":break;default:ga=!1}break;case"mapinfo":case"schema":case"data":switch(R[3]){case"map":case"entry":case"range":case"xpath":case"field":case"xsdtype":case"filteron":case"aggregate":case"elementtype":case"attributetype":case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":case"row":break;default:ga=!1}break;case"smarttags":break;default:ga=!1}if(ga||R[3].match(/!\[CDATA/))break;if(!L[L.length-1][1])throw"Unrecognized tag: "+R[3]+"|"+L.join("|");if("customdocumentproperties"===L[L.length-1][0]){if("/>"===R[0].slice(-2))break;"/"===R[1]?xC(un,An,Hn,d.slice(Qt,R.index)):(Hn=R,Qt=R.index+R[0].length);break}if(a.WTF)throw"Unrecognized tag: "+R[3]+"|"+L.join("|")}var gi={};return!a.bookSheets&&!a.bookProps&&(gi.Sheets=X),gi.SheetNames=pe,gi.Workbook=bt,gi.SSF=ro(Et),gi.Props=cn,gi.Custprops=un,gi}function Y1(r,s){switch(D(s=s||{}),s.type||"base64"){case"base64":return L1(pi(r),s);case"binary":case"buffer":case"file":return L1(r,s);case"array":return L1($i(r),s)}}var kC=[60,1084,2066,2165,2175];function MC(r,s,a,d,g){var A=d,T=[],R=a.slice(a.l,a.l+A);if(g&&g.enc&&g.enc.insitu&&R.length>0)switch(r){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:case 133:break;default:g.enc.insitu(R)}T.push(R),a.l+=A;for(var L=qa(a,a.l),V=B1[L],X=0;null!=V&&kC.indexOf(L)>-1;)A=qa(a,a.l+2),X=a.l+4,2066==L?X+=4:(2165==L||2175==L)&&(X+=12),R=a.slice(X,a.l+4+A),T.push(R),a.l+=4+A,V=B1[L=qa(a,a.l)];var pe=$e(T);je(pe,0);var fe=0;pe.lens=[];for(var Ae=0;Ae<T.length;++Ae)pe.lens.push(fe),fe+=T[Ae].length;if(pe.length<d)throw"XLS Record 0x"+r.toString(16)+" Truncated: "+pe.length+" < "+d;return s.f(pe,pe.length,g)}function td(r,s,a){if("z"!==r.t&&r.XF){var d=0;try{d=r.z||r.XF.numFmtId||0,s.cellNF&&(r.z=Et[d])}catch(A){if(s.WTF)throw A}if(!s||!1!==s.cellText)try{r.w="e"===r.t?r.w||vl[r.v]:0===d||"General"==d?"n"===r.t?(0|r.v)===r.v?r.v.toString(10):Ta(r.v):sa(r.v):_r(d,r.v,{date1904:!!a,dateNF:s&&s.dateNF})}catch(A){if(s.WTF)throw A}if(s.cellDates&&d&&"n"==r.t&&Ir(Et[d]||String(d))){var g=Eo(r.v);g&&(r.t="d",r.v=new Date(g.y,g.m-1,g.d,g.H,g.M,g.S,g.u))}}}function Eg(r,s,a){return{v:r,ixfe:s,t:a}}var $f={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function f0(r,s){var a,d,g,A;if(s||(s={}),D(s),Zt(),s.codepage&&ut(s.codepage),r.FullPaths){if(di.find(r,"/encryption"))throw new Error("File is password-protected");a=di.find(r,"!CompObj"),d=di.find(r,"/Workbook")||di.find(r,"/Book")}else{switch(s.type){case"base64":r=Kt(pi(r));break;case"binary":r=Kt(r);break;case"buffer":break;case"array":Array.isArray(r)||(r=Array.prototype.slice.call(r))}je(r,0),d={content:r}}if(a&&function OC(r){var s={},a=r.content;if(a.l=28,s.AnsiUserType=a.read_shift(0,"lpstr-ansi"),s.AnsiClipboardFormat=function Co(r){return ya(r,1)}(a),a.length-a.l<=4)return s;var d=a.read_shift(4);if(0==d||d>40||(a.l-=4,s.Reserved1=a.read_shift(0,"lpstr-ansi"),a.length-a.l<=4)||1907505652!==(d=a.read_shift(4))||(s.UnicodeClipboardFormat=function om(r){return ya(r,2)}(a),0==(d=a.read_shift(4))||d>40))return s;a.l-=4,s.Reserved2=a.read_shift(0,"lpwstr")}(a),s.bookProps&&!s.bookSheets)g={};else{var T=Qn?"buffer":"array";if(d&&d.content)g=function UC(r,s){var a={opts:{}},d={};null!=xt&&null==s.dense&&(s.dense=xt);var pe,Ae,de,Ne,Ve,Dt,g=s.dense?[]:{},A={},T={},R=null,L=[],V="",X={},fe="",ze={},et=[],Ht=[],Rt=[],ct={Sheets:[],WBProps:{date1904:!1},Views:[{}]},Jt={},Ot=function(or){return or<8?ec[or]:or<64&&Rt[or-8]||ec[or]},un=function(or,ac,Z_){if(!(In>1||Z_.sheetRows&&or.r>=Z_.sheetRows)){if(Z_.cellStyles&&ac.XF&&ac.XF.data&&function(or,ac,Z_){var $1,Lc=ac.XF.data;Lc&&Lc.patternType&&Z_&&Z_.cellStyles&&(ac.s={},ac.s.patternType=Lc.patternType,($1=Zm(Ot(Lc.icvFore)))&&(ac.s.fgColor={rgb:$1}),($1=Zm(Ot(Lc.icvBack)))&&(ac.s.bgColor={rgb:$1}))}(0,ac,Z_),delete ac.ixfe,delete ac.XF,pe=or,fe=yi(or),(!T||!T.s||!T.e)&&(T={s:{r:0,c:0},e:{r:0,c:0}}),or.r<T.s.r&&(T.s.r=or.r),or.c<T.s.c&&(T.s.c=or.c),or.r+1>T.e.r&&(T.e.r=or.r+1),or.c+1>T.e.c&&(T.e.c=or.c+1),Z_.cellFormula&&ac.f)for(var Lc=0;Lc<et.length;++Lc)if(!(et[Lc][0].s.c>or.c||et[Lc][0].s.r>or.r||et[Lc][0].e.c<or.c||et[Lc][0].e.r<or.r)){ac.F=Li(et[Lc][0]),(et[Lc][0].s.c!=or.c||et[Lc][0].s.r!=or.r)&&delete ac.f,ac.f&&(ac.f=""+jl(et[Lc][1],0,or,_i,Qt));break}Z_.dense?(g[or.r]||(g[or.r]=[]),g[or.r][or.c]=ac):g[fe]=ac}},Qt={enc:!1,sbcch:0,snames:[],sharedf:ze,arrayf:et,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!s&&!!s.cellStyles,WTF:!!s&&!!s.wtf};s.password&&(Qt.password=s.password);var Hn,Ti=[],$n=[],Hi=[],Ei=[],ir=!1,_i=[];_i.SheetNames=Qt.snames,_i.sharedf=Qt.sharedf,_i.arrayf=Qt.arrayf,_i.names=[],_i.XTI=[];var Tt,Ji=0,In=0,gt=0,Xt=[],bt=[];Qt.codepage=1200,tt(1200);for(var An=!1;r.l<r.length-1;){var ai=r.l,zn=r.read_shift(2);if(0===zn&&10===Ji)break;var jn=r.l===r.length?0:r.read_shift(2),En=B1[zn];if(En&&En.f){if(s.bookSheets&&133===Ji&&133!==zn)break;if(Ji=zn,2===En.r||12==En.r){var zo=r.read_shift(2);if(jn-=2,!Qt.enc&&zo!==zn&&((255&zo)<<8|zo>>8)!==zn)throw new Error("rt mismatch: "+zo+"!="+zn);12==En.r&&(r.l+=10,jn-=10)}var pt={};if(pt=10===zn?En.f(r,jn,Qt):MC(zn,En,r,jn,Qt),0==In&&-1===[9,521,1033,2057].indexOf(Ji))continue;switch(zn){case 34:a.opts.Date1904=ct.WBProps.date1904=pt;break;case 134:a.opts.WriteProtect=!0;break;case 47:if(Qt.enc||(r.l=0),Qt.enc=pt,!s.password)throw new Error("File is password-protected");if(null==pt.valid)throw new Error("Encryption scheme unsupported");if(!pt.valid)throw new Error("Password is incorrect");break;case 92:Qt.lastuser=pt;break;case 66:var fa=Number(pt);switch(fa){case 21010:fa=1200;break;case 32768:fa=1e4;break;case 32769:fa=1252}tt(Qt.codepage=fa),An=!0;break;case 317:Qt.rrtabid=pt;break;case 25:Qt.winlocked=pt;break;case 439:a.opts.RefreshAll=pt;break;case 12:a.opts.CalcCount=pt;break;case 16:a.opts.CalcDelta=pt;break;case 17:a.opts.CalcIter=pt;break;case 13:a.opts.CalcMode=pt;break;case 14:a.opts.CalcPrecision=pt;break;case 95:a.opts.CalcSaveRecalc=pt;break;case 15:Qt.CalcRefMode=pt;break;case 2211:a.opts.FullCalc=pt;break;case 129:pt.fDialog&&(g["!type"]="dialog"),pt.fBelow||((g["!outline"]||(g["!outline"]={})).above=!0),pt.fRight||((g["!outline"]||(g["!outline"]={})).left=!0);break;case 224:Ht.push(pt);break;case 430:_i.push([pt]),_i[_i.length-1].XTI=[];break;case 35:case 547:_i[_i.length-1].push(pt);break;case 24:case 536:Tt={Name:pt.Name,Ref:jl(pt.rgce,0,null,_i,Qt)},pt.itab>0&&(Tt.Sheet=pt.itab-1),_i.names.push(Tt),_i[0]||(_i[0]=[],_i[0].XTI=[]),_i[_i.length-1].push(pt),"_xlnm._FilterDatabase"==pt.Name&&pt.itab>0&&pt.rgce&&pt.rgce[0]&&pt.rgce[0][0]&&"PtgArea3d"==pt.rgce[0][0][0]&&(bt[pt.itab-1]={ref:Li(pt.rgce[0][0][1][2])});break;case 22:Qt.ExternCount=pt;break;case 23:0==_i.length&&(_i[0]=[],_i[0].XTI=[]),_i[_i.length-1].XTI=_i[_i.length-1].XTI.concat(pt),_i.XTI=_i.XTI.concat(pt);break;case 2196:if(Qt.biff<8)break;null!=Tt&&(Tt.Comment=pt[1]);break;case 18:g["!protect"]=pt;break;case 19:0!==pt&&Qt.WTF&&console.error("Password verifier: "+pt);break;case 133:A[pt.pos]=pt,Qt.snames.push(pt.name);break;case 10:if(--In)break;if(T.e){if(T.e.r>0&&T.e.c>0){if(T.e.r--,T.e.c--,g["!ref"]=Li(T),s.sheetRows&&s.sheetRows<=T.e.r){var cr=T.e.r;T.e.r=s.sheetRows-1,g["!fullref"]=g["!ref"],g["!ref"]=Li(T),T.e.r=cr}T.e.r++,T.e.c++}Ti.length>0&&(g["!merges"]=Ti),$n.length>0&&(g["!objects"]=$n),Hi.length>0&&(g["!cols"]=Hi),Ei.length>0&&(g["!rows"]=Ei),ct.Sheets.push(Jt)}""===V?X=g:d[V]=g,g=s.dense?[]:{};break;case 9:case 521:case 1033:case 2057:if(8===Qt.biff&&(Qt.biff={9:2,521:3,1033:4}[zn]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[pt.BIFFVer]||8),Qt.biffguess=0==pt.BIFFVer,0==pt.BIFFVer&&4096==pt.dt&&(Qt.biff=5,An=!0,tt(Qt.codepage=28591)),8==Qt.biff&&0==pt.BIFFVer&&16==pt.dt&&(Qt.biff=2),In++)break;if(g=s.dense?[]:{},Qt.biff<8&&!An&&(An=!0,tt(Qt.codepage=s.codepage||1252)),Qt.biff<5||0==pt.BIFFVer&&4096==pt.dt){""===V&&(V="Sheet1"),T={s:{r:0,c:0},e:{r:0,c:0}};var ga={pos:r.l-jn,name:V};A[ga.pos]=ga,Qt.snames.push(V)}else V=(A[ai]||{name:""}).name;32==pt.dt&&(g["!type"]="chart"),64==pt.dt&&(g["!type"]="macro"),Ti=[],$n=[],Qt.arrayf=et=[],Hi=[],Ei=[],ir=!1,Jt={Hidden:(A[ai]||{hs:0}).hs,name:V};break;case 515:case 3:case 2:"chart"==g["!type"]&&(s.dense?(g[pt.r]||[])[pt.c]:g[yi({c:pt.c,r:pt.r})])&&++pt.c,Ve={ixfe:pt.ixfe,XF:Ht[pt.ixfe]||{},v:pt.val,t:"n"},gt>0&&(Ve.z=Xt[Ve.ixfe>>8&63]),td(Ve,s,a.opts.Date1904),un({c:pt.c,r:pt.r},Ve,s);break;case 5:case 517:Ve={ixfe:pt.ixfe,XF:Ht[pt.ixfe],v:pt.val,t:pt.t},gt>0&&(Ve.z=Xt[Ve.ixfe>>8&63]),td(Ve,s,a.opts.Date1904),un({c:pt.c,r:pt.r},Ve,s);break;case 638:Ve={ixfe:pt.ixfe,XF:Ht[pt.ixfe],v:pt.rknum,t:"n"},gt>0&&(Ve.z=Xt[Ve.ixfe>>8&63]),td(Ve,s,a.opts.Date1904),un({c:pt.c,r:pt.r},Ve,s);break;case 189:for(var ur=pt.c;ur<=pt.C;++ur){var gi=pt.rkrec[ur-pt.c][0];Ve={ixfe:gi,XF:Ht[gi],v:pt.rkrec[ur-pt.c][1],t:"n"},gt>0&&(Ve.z=Xt[Ve.ixfe>>8&63]),td(Ve,s,a.opts.Date1904),un({c:ur,r:pt.r},Ve,s)}break;case 6:case 518:case 1030:if("String"==pt.val){R=pt;break}if((Ve=Eg(pt.val,pt.cell.ixfe,pt.tt)).XF=Ht[Ve.ixfe],s.cellFormula){var rc=pt.formula;if(rc&&rc[0]&&rc[0][0]&&"PtgExp"==rc[0][0][0]){var P_=rc[0][0][1][0],cf=rc[0][0][1][1],og=yi({r:P_,c:cf});ze[og]?Ve.f=""+jl(pt.formula,0,pt.cell,_i,Qt):Ve.F=((s.dense?(g[P_]||[])[cf]:g[og])||{}).F}else Ve.f=""+jl(pt.formula,0,pt.cell,_i,Qt)}gt>0&&(Ve.z=Xt[Ve.ixfe>>8&63]),td(Ve,s,a.opts.Date1904),un(pt.cell,Ve,s),R=pt;break;case 7:case 519:if(!R)throw new Error("String record expects Formula");R.val=pt,(Ve=Eg(pt,R.cell.ixfe,"s")).XF=Ht[Ve.ixfe],s.cellFormula&&(Ve.f=""+jl(R.formula,0,R.cell,_i,Qt)),gt>0&&(Ve.z=Xt[Ve.ixfe>>8&63]),td(Ve,s,a.opts.Date1904),un(R.cell,Ve,s),R=null;break;case 33:case 545:et.push(pt);var Ix=yi(pt[0].s);if(Ae=s.dense?(g[pt[0].s.r]||[])[pt[0].s.c]:g[Ix],s.cellFormula&&Ae){if(!R||!Ix||!Ae)break;Ae.f=""+jl(pt[1],0,pt[0],_i,Qt),Ae.F=Li(pt[0])}break;case 1212:if(!s.cellFormula)break;if(fe){if(!R)break;ze[yi(R.cell)]=pt[0],((Ae=s.dense?(g[R.cell.r]||[])[R.cell.c]:g[yi(R.cell)])||{}).f=""+jl(pt[0],0,pe,_i,Qt)}break;case 253:Ve=Eg(L[pt.isst].t,pt.ixfe,"s"),L[pt.isst].h&&(Ve.h=L[pt.isst].h),Ve.XF=Ht[Ve.ixfe],gt>0&&(Ve.z=Xt[Ve.ixfe>>8&63]),td(Ve,s,a.opts.Date1904),un({c:pt.c,r:pt.r},Ve,s);break;case 513:s.sheetStubs&&(Ve={ixfe:pt.ixfe,XF:Ht[pt.ixfe],t:"z"},gt>0&&(Ve.z=Xt[Ve.ixfe>>8&63]),td(Ve,s,a.opts.Date1904),un({c:pt.c,r:pt.r},Ve,s));break;case 190:if(s.sheetStubs)for(var kg=pt.c;kg<=pt.C;++kg){var Id=pt.ixfe[kg-pt.c];Ve={ixfe:Id,XF:Ht[Id],t:"z"},gt>0&&(Ve.z=Xt[Ve.ixfe>>8&63]),td(Ve,s,a.opts.Date1904),un({c:kg,r:pt.r},Ve,s)}break;case 214:case 516:case 4:(Ve=Eg(pt.val,pt.ixfe,"s")).XF=Ht[Ve.ixfe],gt>0&&(Ve.z=Xt[Ve.ixfe>>8&63]),td(Ve,s,a.opts.Date1904),un({c:pt.c,r:pt.r},Ve,s);break;case 0:case 512:1===In&&(T=pt);break;case 252:L=pt;break;case 1054:if(4==Qt.biff){Xt[gt++]=pt[1];for(var rg=0;rg<gt+163&&Et[rg]!=pt[1];++rg);rg>=163&&Zr(pt[1],gt+163)}else Zr(pt[1],pt[0]);break;case 30:Xt[gt++]=pt;for(var Mg=0;Mg<gt+163&&Et[Mg]!=pt;++Mg);Mg>=163&&Zr(pt,gt+163);break;case 229:Ti=Ti.concat(pt);break;case 93:$n[pt.cmo[0]]=Qt.lastobj=pt;break;case 438:Qt.lastobj.TxO=pt;break;case 127:Qt.lastobj.ImData=pt;break;case 440:for(Ne=pt[0].s.r;Ne<=pt[0].e.r;++Ne)for(de=pt[0].s.c;de<=pt[0].e.c;++de)(Ae=s.dense?(g[Ne]||[])[de]:g[yi({c:de,r:Ne})])&&(Ae.l=pt[1]);break;case 2048:for(Ne=pt[0].s.r;Ne<=pt[0].e.r;++Ne)for(de=pt[0].s.c;de<=pt[0].e.c;++de)(Ae=s.dense?(g[Ne]||[])[de]:g[yi({c:de,r:Ne})])&&Ae.l&&(Ae.l.Tooltip=pt[1]);break;case 28:if(Qt.biff<=5&&Qt.biff>=2)break;Ae=s.dense?(g[pt[0].r]||[])[pt[0].c]:g[yi(pt[0])];var Ex=$n[pt[2]];Ae||(s.dense?(g[pt[0].r]||(g[pt[0].r]=[]),Ae=g[pt[0].r][pt[0].c]={t:"z"}):Ae=g[yi(pt[0])]={t:"z"},T.e.r=Math.max(T.e.r,pt[0].r),T.s.r=Math.min(T.s.r,pt[0].r),T.e.c=Math.max(T.e.c,pt[0].c),T.s.c=Math.min(T.s.c,pt[0].c)),Ae.c||(Ae.c=[]),Ae.c.push({a:pt[1],t:Ex.TxO.t});break;case 2173:Vp(0,pt.ext);break;case 125:if(!Qt.cellStyles)break;for(;pt.e>=pt.s;)Hi[pt.e--]={width:pt.w/256,level:pt.level||0,hidden:!!(1&pt.flags)},ir||(ir=!0,Ku(pt.w/256)),bu(Hi[pt.e+1]);break;case 520:var Om={};null!=pt.level&&(Ei[pt.r]=Om,Om.level=pt.level),pt.hidden&&(Ei[pt.r]=Om,Om.hidden=!0),pt.hpt&&(Ei[pt.r]=Om,Om.hpt=pt.hpt,Om.hpx=Wu(pt.hpt));break;case 38:case 39:case 40:case 41:g["!margins"]||yd(g["!margins"]={}),g["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[zn]]=pt;break;case 161:g["!margins"]||yd(g["!margins"]={}),g["!margins"].header=pt.header,g["!margins"].footer=pt.footer;break;case 574:pt.RTL&&(ct.Views[0].RTL=!0);break;case 146:Rt=pt;break;case 2198:Hn=pt;break;case 140:Dt=pt;break;case 442:V?Jt.CodeName=pt||Jt.name:ct.WBProps.CodeName=pt||"ThisWorkbook"}}else En||console.error("Missing Info for XLS Record 0x"+zn.toString(16)),r.l+=jn}return a.SheetNames=Ro(A).sort(function(uf,or){return Number(uf)-Number(or)}).map(function(uf){return A[uf].name}),s.bookSheets||(a.Sheets=d),!a.SheetNames.length&&X["!ref"]?(a.SheetNames.push("Sheet1"),a.Sheets&&(a.Sheets.Sheet1=X)):a.Preamble=X,a.Sheets&&bt.forEach(function(uf,or){a.Sheets[a.SheetNames[or]]["!autofilter"]=uf}),a.Strings=L,a.SSF=ro(Et),Qt.enc&&(a.Encryption=Qt.enc),Hn&&(a.Themes=Hn),a.Metadata={},void 0!==Dt&&(a.Metadata.Country=Dt),_i.names.length>0&&(ct.Names=_i.names),a.Workbook=ct,a}(d.content,s);else if((A=di.find(r,"PerfectOffice_MAIN"))&&A.content)g=Xc.to_workbook(A.content,(s.type=T,s));else{if(!(A=di.find(r,"NativeContent_MAIN"))||!A.content)throw(A=di.find(r,"MN0"))&&A.content?new Error("Unsupported Works 4 for Mac file"):new Error("Cannot find Workbook stream");g=Xc.to_workbook(A.content,(s.type=T,s))}s.bookVBA&&r.FullPaths&&di.find(r,"/_VBA_PROJECT_CUR/VBA/dir")&&(g.vbaraw=function oa(r){var s=di.utils.cfb_new({root:"R"});return r.FullPaths.forEach(function(a,d){if("/"!==a.slice(-1)&&a.match(/_VBA_PROJECT_CUR/)){var g=a.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,"");di.utils.cfb_add(s,g,r.FileIndex[d].content)}}),di.write(s)}(r))}var R={};return r.FullPaths&&function FC(r,s,a){var d=di.find(r,"/!DocumentSummaryInformation");if(d&&d.size>0)try{var g=Wc(d,iu,$f.DSI);for(var A in g)s[A]=g[A]}catch(V){if(a.WTF)throw V}var T=di.find(r,"/!SummaryInformation");if(T&&T.size>0)try{var R=Wc(T,ou,$f.SI);for(var L in R)null==s[L]&&(s[L]=R[L])}catch(V){if(a.WTF)throw V}s.HeadingPairs&&s.TitlesOfParts&&(uu(s.HeadingPairs,s.TitlesOfParts,s,a),delete s.HeadingPairs,delete s.TitlesOfParts)}(r,R,s),g.Props=g.Custprops=R,s.bookFiles&&(g.cfb=r),g}var Kf={0:{f:function dt(r,s){var a={},d=r.l+s;a.r=r.read_shift(4),r.l+=4;var g=r.read_shift(2);r.l+=1;var A=r.read_shift(1);return r.l=d,7&A&&(a.level=7&A),16&A&&(a.hidden=!0),32&A&&(a.hpt=g/20),a}},1:{f:function Wi(r){return[_a(r)]}},2:{f:function Y0(r){return[_a(r),ui(r),"n"]}},3:{f:function yr(r){return[_a(r),r.read_shift(1),"e"]}},4:{f:function jo(r){return[_a(r),r.read_shift(1),"b"]}},5:{f:function Q0(r){return[_a(r),fi(r),"n"]}},6:{f:function j0(r){return[_a(r),Bi(r),"str"]}},7:{f:function k0(r){return[_a(r),r.read_shift(4),"s"]}},8:{f:function th(r,s,a){var d=r.l+s,g=_a(r);g.r=a["!row"];var T=[g,Bi(r),"str"];if(a.cellFormula){r.l+=2;var R=sf(r,d-r.l,a);T[3]=jl(R,0,g,a.supbooks,a)}else r.l=d;return T}},9:{f:function eh(r,s,a){var d=r.l+s,g=_a(r);g.r=a["!row"];var T=[g,fi(r),"n"];if(a.cellFormula){r.l+=2;var R=sf(r,d-r.l,a);T[3]=jl(R,0,g,a.supbooks,a)}else r.l=d;return T}},10:{f:function W0(r,s,a){var d=r.l+s,g=_a(r);g.r=a["!row"];var T=[g,r.read_shift(1),"b"];if(a.cellFormula){r.l+=2;var R=sf(r,d-r.l,a);T[3]=jl(R,0,g,a.supbooks,a)}else r.l=d;return T}},11:{f:function X0(r,s,a){var d=r.l+s,g=_a(r);g.r=a["!row"];var T=[g,r.read_shift(1),"e"];if(a.cellFormula){r.l+=2;var R=sf(r,d-r.l,a);T[3]=jl(R,0,g,a.supbooks,a)}else r.l=d;return T}},12:{f:function Xi(r){return[se(r)]}},13:{f:function B0(r){return[se(r),ui(r),"n"]}},14:{f:function Dm(r){return[se(r),r.read_shift(1),"e"]}},15:{f:function cs(r){return[se(r),r.read_shift(1),"b"]}},16:{f:X1},17:{f:function $0(r){return[se(r),Bi(r),"str"]}},18:{f:function U0(r){return[se(r),r.read_shift(4),"s"]}},19:{f:bc},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:function u0(r,s,a){var d=r.l+s;r.l+=4,r.l+=1;var g=r.read_shift(4),A=sn(r),T=f1(r,0,a),R=Ye(r);r.l=d;var L={Name:A,Ptg:T};return g<268435455&&(L.Sheet=g),R&&(L.Comment=R),L}},40:{},42:{},43:{f:function Np(r,s,a){var d={};d.sz=r.read_shift(2)/20;var g=function lc(r){var s=r.read_shift(1);return r.l++,{fBold:1&s,fItalic:2&s,fUnderline:4&s,fStrikeout:8&s,fOutline:16&s,fShadow:32&s,fCondense:64&s,fExtend:128&s}}(r);switch(g.fItalic&&(d.italic=1),g.fCondense&&(d.condense=1),g.fExtend&&(d.extend=1),g.fShadow&&(d.shadow=1),g.fOutline&&(d.outline=1),g.fStrikeout&&(d.strike=1),700===r.read_shift(2)&&(d.bold=1),r.read_shift(2)){case 1:d.vertAlign="superscript";break;case 2:d.vertAlign="subscript"}var T=r.read_shift(1);0!=T&&(d.underline=T);var R=r.read_shift(1);R>0&&(d.family=R);var L=r.read_shift(1);switch(L>0&&(d.charset=L),r.l++,d.color=function br(r){var s={},d=r.read_shift(1)>>>1,g=r.read_shift(1),A=r.read_shift(2,"i"),T=r.read_shift(1),R=r.read_shift(1),L=r.read_shift(1);switch(r.l++,d){case 0:s.auto=1;break;case 1:s.index=g;var V=ec[g];V&&(s.rgb=Zm(V));break;case 2:s.rgb=Zm([T,R,L]);break;case 3:s.theme=g}return 0!=A&&(s.tint=A>0?A/32767:A/32768),s}(r),r.read_shift(1)){case 1:d.scheme="major";break;case 2:d.scheme="minor"}return d.name=Bi(r),d}},44:{f:function Sp(r,s){return[r.read_shift(2),Bi(r)]}},45:{f:Rp},46:{f:m_},47:{f:function Dp(r,s){var a=r.l+s,d=r.read_shift(2),g=r.read_shift(2);return r.l=a,{ixfe:d,numFmtId:g}}},48:{},49:{f:function da(r){return r.read_shift(4,"i")}},50:{},51:{f:function ff(r){for(var s=[],a=r.read_shift(4);a-- >0;)s.push([r.read_shift(4),r.read_shift(4)]);return s}},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:md},62:{f:function V0(r){return[_a(r),bc(r),"is"]}},63:{f:function Uc(r){var s={};s.i=r.read_shift(4);var a={};a.r=r.read_shift(4),a.c=r.read_shift(4),s.r=yi(a);var d=r.read_shift(1);return 2&d&&(s.l="1"),8&d&&(s.a="1"),s}},64:{f:function fh(){}},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:z,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:function mh(r){var s=r.read_shift(2);return r.l+=28,{RTL:32&s}}},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:function oi(r,s){var a={},d=r[r.l];return++r.l,a.above=!(64&d),a.left=!(128&d),r.l+=18,a.name=Y(r,s-19),a}},148:{f:Zn,p:16},151:{f:function sh(){}},152:{},153:{f:function Bh(r,s){var a={},d=r.read_shift(4);a.defaultThemeVersion=r.read_shift(4);var g=s>8?Bi(r):"";return g.length>0&&(a.CodeName=g),a.autoCompressPictures=!!(65536&d),a.backupFile=!!(64&d),a.checkCompatibility=!!(4096&d),a.date1904=!!(1&d),a.filterPrivacy=!!(8&d),a.hidePivotFieldList=!!(1024&d),a.promptedSolutions=!!(16&d),a.publishItems=!!(2048&d),a.refreshAllConnections=!!(262144&d),a.saveExternalLinkValues=!!(128&d),a.showBorderUnselectedTables=!!(4&d),a.showInkAnnotation=!!(32&d),a.showObjects=["all","placeholders","none"][d>>13&3],a.showPivotChartFilter=!!(32768&d),a.updateLinks=["userSet","never","always"][d>>8&3],a}},154:{},155:{},156:{f:function Yh(r,s){var a={};return a.Hidden=r.read_shift(4),a.iTabID=r.read_shift(4),a.strRelID=Pn(r,s-8),a.name=Bi(r),a}},157:{},158:{},159:{T:1,f:function Kd(r){return[r.read_shift(4),r.read_shift(4)]}},160:{T:-1},161:{T:1,f:Xo},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:nh},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:function _f(r,s){return{flags:r.read_shift(4),version:r.read_shift(4),name:Bi(r)}}},336:{T:-1},337:{f:function Cf(r){return r.l+=4,0!=r.read_shift(4)},T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:Pn},357:{},358:{},359:{},360:{T:1},361:{},362:{f:Lm},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:function e0(r,s,a){var d=r.l+s,g=to(r),A=r.read_shift(1),T=[g];if(T[2]=A,a.cellFormula){var R=p1(r,d-r.l,a);T[1]=R}else r.l=d;return T}},427:{f:function t0(r,s,a){var d=r.l+s,A=[Xo(r,16)];if(a.cellFormula){var T=Yf(r,d-r.l,a);A[1]=T,r.l=d}else r.l=d;return A}},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:function ch(r){var s={};return n0.forEach(function(a){s[a]=fi(r)}),s}},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:function Rn(){}},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:function rh(r,s){var a=r.l+s,d=Xo(r,16),g=Ye(r),A=Bi(r),T=Bi(r),R=Bi(r);r.l=a;var L={rfx:d,relId:g,loc:A,display:R};return T&&(L.Tooltip=T),L}},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:Pn},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:If},633:{T:1},634:{T:-1},635:{T:1,f:function Nf(r){var s={};s.iauthor=r.read_shift(4);var a=Xo(r,16);return s.rfx=a.s,s.ref=yi(a.s),r.l+=16,s}},636:{T:-1},637:{f:xr},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:function Ig(r,s){return r.l+=10,{name:Bi(r)}}},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:function gh(){}},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},B1={6:{f:C_},10:{f:Bs},12:{f:$o},13:{f:$o},14:{f:fr},15:{f:fr},16:{f:fi},17:{f:fr},18:{f:fr},19:{f:$o},20:{f:Qd},21:{f:Qd},23:{f:Lm},24:{f:Jm},25:{f:fr},26:{},27:{},28:{f:function E_(r,s,a){return function Tu(r,s,a){if(!(a.biff<8)){var d=r.read_shift(2),g=r.read_shift(2),A=r.read_shift(2),T=r.read_shift(2),R=Zl(r,0,a);return a.biff<8&&r.read_shift(1),[{r:d,c:g},R,T,A]}}(r,0,a)}},29:{},34:{f:fr},35:{f:pc},38:{f:fi},39:{f:fi},40:{f:fi},41:{f:fi},42:{f:fr},43:{f:fr},47:{f:function _p(r,s,a){var d={Type:a.biff>=8?r.read_shift(2):0};return d.Type?function dp(r,s,a){var d=a||{};return d.Info=r.read_shift(2),r.l-=2,d.Data=1===d.Info?function vd(r){var s={},a=s.EncryptionVersionInfo=Mc(r,4);if(1!=a.Major||1!=a.Minor)throw"unrecognized version code "+a.Major+" : "+a.Minor;return s.Salt=r.read_shift(16),s.EncryptedVerifier=r.read_shift(16),s.EncryptedVerifierHash=r.read_shift(16),s}(r):function lp(r,s){var a={},d=a.EncryptionVersionInfo=Mc(r,4);if(s-=4,2!=d.Minor)throw new Error("unrecognized minor version code: "+d.Minor);if(d.Major>4||d.Major<2)throw new Error("unrecognized major version code: "+d.Major);a.Flags=r.read_shift(4),s-=4;var g=r.read_shift(4);return s-=4,a.EncryptionHeader=e_(r,g),a.EncryptionVerifier=t_(r,s-=g),a}(r,s),d}(r,s-2,d):function mp(r,s,a,d){var g={key:$o(r),verificationBytes:$o(r)};a.password&&(g.verifier=function Ad(r){var a,A,s=0,d=Xd(r),g=d.length+1;for((a=xi(g))[0]=d.length,A=1;A!=g;++A)a[A]=d[A-1];for(A=g-1;A>=0;--A)s=((16384&s?1:0)|s<<1&32767)^a[A];return 52811^s}(a.password)),d.valid=g.verificationBytes===g.verifier,d.valid&&(d.insitu=function(r){var s=0,a=i_(r);return function(d){var g=function(r,s,a,d,g){var A,T;for(g||(g=s),d||(d=i_("")),A=0;A!=s.length;++A)T=s[A],g[A]=T=255&((T^=d[a])>>5|T<<3),++a;return[g,a,d]}(0,d,s,a);return s=g[1],g[0]}}(a.password))}(r,0,a,d),d}},49:{f:function Dd(r,s,a){var d={dyHeight:r.read_shift(2),fl:r.read_shift(2)};switch(a&&a.biff||8){case 2:break;case 3:case 4:r.l+=2;break;default:r.l+=10}return d.name=Dc(r,0,a),d}},51:{f:$o},60:{},61:{f:function yl(r){return{Pos:[r.read_shift(2),r.read_shift(2)],Dim:[r.read_shift(2),r.read_shift(2)],Flags:r.read_shift(2),CurTab:r.read_shift(2),FirstTab:r.read_shift(2),Selected:r.read_shift(2),TabRatio:r.read_shift(2)}}},64:{f:fr},65:{f:function q_(){}},66:{f:$o},77:{},80:{},81:{},82:{},85:{f:$o},89:{},90:{},91:{},92:{f:function St(r,s,a){if(a.enc)return r.l+=s,"";var d=r.l,g=Zl(r,0,a);return r.read_shift(s+d-r.l),g}},93:{f:function Ja(r,s,a){if(a&&a.biff<8)return function D_(r,s,a){r.l+=4;var d=r.read_shift(2),g=r.read_shift(2),A=r.read_shift(2);r.l+=2,r.l+=2,r.l+=2,r.l+=2,r.l+=2,r.l+=2,r.l+=2,r.l+=2,r.l+=2,r.l+=6;var T=[];return T.push((R_[d]||z)(r,s-=36,a)),{cmo:[g,d,A],ft:T}}(r,s,a);var d=q(r),g=function ye(r,s){for(var a=r.l+s,d=[];r.l<a;){var g=r.read_shift(2);r.l-=2;try{d.push(_e[g](r,a-r.l))}catch{return r.l=a,d}}return r.l!=a&&(r.l=a),d}(r,s-22);return{cmo:d,ft:g}}},94:{},95:{f:fr},96:{},97:{},99:{f:fr},125:{f:md},128:{f:function Md(r){r.l+=4;var s=[r.read_shift(2),r.read_shift(2)];if(0!==s[0]&&s[0]--,0!==s[1]&&s[1]--,s[0]>7||s[1]>7)throw new Error("Bad Gutters: "+s.join("|"));return s}},129:{f:function Bn(r,s,a){var d=a&&8==a.biff||2==s?r.read_shift(2):(r.l+=s,0);return{fDialog:16&d,fBelow:64&d,fRight:128&d}}},130:{f:$o},131:{f:fr},132:{f:fr},133:{f:function hn(r,s,a){var d=r.read_shift(4),g=3&r.read_shift(1),A=r.read_shift(1);switch(A){case 0:A="Worksheet";break;case 1:A="Macrosheet";break;case 2:A="Chartsheet";break;case 6:A="VBAModule"}var T=Dc(r,0,a);return 0===T.length&&(T="Sheet1"),{pos:d,hs:g,dt:A,name:T}}},134:{},140:{f:function k_(r){var a,s=[0,0];return a=r.read_shift(2),s[0]=Ru[a]||a,a=r.read_shift(2),s[1]=Ru[a]||a,s}},141:{f:$o},144:{},146:{f:function Gm(r){for(var s=r.read_shift(2),a=[];s-- >0;)a.push(Bu(r));return a}},151:{},152:{},153:{},154:{},155:{},156:{f:$o},157:{},158:{},160:{f:F_},161:{f:function U_(r,s){var a={};return s<32||(r.l+=16,a.header=fi(r),a.footer=fi(r),r.l+=2),a}},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:function rd(r,s){for(var a=r.l+s-2,d=r.read_shift(2),g=r.read_shift(2),A=[];r.l<a;)A.push(Sl(r));if(r.l!==a)throw new Error("MulRK read error");var T=r.read_shift(2);if(A.length!=T-g+1)throw new Error("MulRK length mismatch");return{r:d,c:g,C:T,rkrec:A}}},190:{f:function Hu(r,s){for(var a=r.l+s-2,d=r.read_shift(2),g=r.read_shift(2),A=[];r.l<a;)A.push(r.read_shift(2));if(r.l!==a)throw new Error("MulBlank read error");var T=r.read_shift(2);if(A.length!=T-g+1)throw new Error("MulBlank length mismatch");return{r:d,c:g,C:T,ixfe:A}}},193:{f:Bs},197:{},198:{},199:{},200:{},201:{},202:{f:fr},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:$o},220:{},221:{f:fr},222:{},224:{f:function Qm(r,s,a){var d={};return d.ifnt=r.read_shift(2),d.numFmtId=r.read_shift(2),d.flags=r.read_shift(2),d.fStyle=d.flags>>2&1,d.data=function ad(r,s,a,d){var g={},A=r.read_shift(4),T=r.read_shift(4),R=r.read_shift(4),L=r.read_shift(2);return g.patternType=am[R>>26],d.cellStyles&&(g.alc=7&A,g.fWrap=A>>3&1,g.alcV=A>>4&7,g.fJustLast=A>>7&1,g.trot=A>>8&255,g.cIndent=A>>16&15,g.fShrinkToFit=A>>20&1,g.iReadOrder=A>>22&2,g.fAtrNum=A>>26&1,g.fAtrFnt=A>>27&1,g.fAtrAlc=A>>28&1,g.fAtrBdr=A>>29&1,g.fAtrPat=A>>30&1,g.fAtrProt=A>>31&1,g.dgLeft=15&T,g.dgRight=T>>4&15,g.dgTop=T>>8&15,g.dgBottom=T>>12&15,g.icvLeft=T>>16&127,g.icvRight=T>>23&127,g.grbitDiag=T>>30&3,g.icvTop=127&R,g.icvBottom=R>>7&127,g.icvDiag=R>>14&127,g.dgDiag=R>>21&15,g.icvFore=127&L,g.icvBack=L>>7&127,g.fsxButton=L>>14&1),g}(r,0,0,a),d}},225:{f:function ft(r,s){return 0===s||r.read_shift(2),1200}},226:{f:Bs},227:{},229:{f:function ud(r,s){for(var a=[],d=r.read_shift(2);d--;)a.push(wc(r));return a}},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:function kn(r,s){for(var a=r.l+s,d=r.read_shift(4),g=r.read_shift(4),A=[],T=0;T!=g&&r.l<a;++T)A.push(Yu(r));return A.Count=d,A.Unique=g,A}},253:{f:function Am(r){var s=Ia(r);return s.isst=r.read_shift(4),s}},255:{f:function vo(r,s){var a={};return a.dsst=r.read_shift(2),r.l+=s-2,a}},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:Lu},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:fr},353:{f:Bs},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:function I_(r,s,a){var d=r.l+s,g=r.read_shift(2),A=r.read_shift(2);if(a.sbcch=A,1025==A||14849==A)return[A,g];if(A<1||A>255)throw new Error("Unexpected SupBook type: "+A);for(var T=Pl(r,A),R=[];d>r.l;)R.push(dc(r));return[A,g,T,R]}},431:{f:fr},432:{},433:{},434:{},437:{},438:{f:function Ld(r,s,a){var d=r.l,g="";try{r.l+=4,-1==[0,5,7,11,12,14].indexOf((a.lastobj||{cmo:[0,0]}).cmo[1])?r.l+=6:function xu(r){var s=r.read_shift(1);r.l++;var a=r.read_shift(2);r.l+=2}(r);var R=r.read_shift(2);r.read_shift(2),$o(r);var L=r.read_shift(2);r.l+=L;for(var V=1;V<r.lens.length-1;++V){if(r.l-d!=r.lens[V])throw new Error("TxO: bad continue record");var X=r[r.l];if((g+=Pl(r,r.lens[V+1]-r.lens[V]-1)).length>=(X?R:2*R))break}if(g.length!==R&&g.length!==2*R)throw new Error("cchText: "+R+" != "+g.length);return r.l=d+s,{t:g}}catch{return r.l=d+s,{t:g}}}},439:{f:fr},440:{f:function w_(r,s){var a=wc(r);r.l+=16;var d=function xm(r,s){var a=r.l+s,d=r.read_shift(4);if(2!==d)throw new Error("Unrecognized streamVersion: "+d);var g=r.read_shift(2);r.l+=2;var A,T,R,L,X,pe,V="";16&g&&(A=Gl(r)),128&g&&(T=Gl(r)),257==(257&g)&&(R=Gl(r)),1==(257&g)&&(L=function Cm(r,s){var a=r.read_shift(16);switch(a){case"e0c9ea79f9bace118c8200aa004ba90b":return function lo(r){var s=r.read_shift(4),a=r.l,d=!1;s>24&&(r.l+=s-24,"795881f43b1d7f48af2c825dc4852763"===r.read_shift(16)&&(d=!0),r.l=a);var g=r.read_shift((d?s-24:s)>>1,"utf16le").replace(Vt,"");return d&&(r.l+=24),g}(r);case"0303000000000000c000000000000046":return function hm(r){for(var s=r.read_shift(2),a="";s-- >0;)a+="../";var d=r.read_shift(0,"lpstr-ansi");if(r.l+=2,57005!=r.read_shift(2))throw new Error("Bad FileMoniker");if(0===r.read_shift(4))return a+d.replace(/\\/g,"/");var A=r.read_shift(4);if(3!=r.read_shift(2))throw new Error("Bad FileMoniker");return a+r.read_shift(A>>1,"utf16le").replace(Vt,"")}(r);default:throw new Error("Unsupported Moniker "+a)}}(r)),8&g&&(V=Gl(r)),32&g&&(X=r.read_shift(16)),64&g&&(pe=bl(r)),r.l=a;var fe=T||R||L||"";fe&&V&&(fe+="#"+V),fe||(fe="#"+V),2&g&&"/"==fe.charAt(0)&&"/"!=fe.charAt(1)&&(fe="file://"+fe);var Ae={Target:fe};return X&&(Ae.guid=X),pe&&(Ae.time=pe),A&&(Ae.Tooltip=A),Ae}(r,s-24);return[a,d]}},441:{},442:{f:dc},443:{},444:{f:$o},445:{},446:{},448:{f:Bs},449:{f:function ci(r){return r.read_shift(2),r.read_shift(4)},r:2},450:{f:Bs},512:{f:Um},513:{f:Bd},515:{f:function N_(r,s,a){a.biffguess&&2==a.biff&&(a.biff=5);var d=Ia(r),g=fi(r);return d.val=g,d}},516:{f:function wd(r,s,a){a.biffguess&&2==a.biff&&(a.biff=5);var g=Ia(r);2==a.biff&&r.l++;var A=dc(r,0,a);return g.val=A,g}},517:{f:sd},519:{f:fc},520:{f:function Jo(r){var s={};s.r=r.read_shift(2),s.c=r.read_shift(2),s.cnt=r.read_shift(2)-s.c;var a=r.read_shift(2);r.l+=4;var d=r.read_shift(1);return r.l+=3,7&d&&(s.level=7&d),32&d&&(s.hidden=!0),64&d&&(s.hpt=a/20),s}},523:{},545:{f:Tm},549:{f:io},566:{},574:{f:function nc(r,s,a){return a&&a.biff>=2&&a.biff<5?{}:{RTL:64&r.read_shift(2)}}},638:{f:function y_(r){var s=r.read_shift(2),a=r.read_shift(2),d=Sl(r);return{r:s,c:a,ixfe:d[0],rknum:d[1]}}},659:{},1048:{},1054:{f:function Mm(r,s,a){return[r.read_shift(2),Zl(r,0,a)]}},1084:{},1212:{f:function Yi(r,s,a){var d=Te(r);r.l++;var g=r.read_shift(1);return[_1(r,s-=8,a),g,d]}},2048:{f:function O_(r,s){r.read_shift(2);var a=wc(r),d=r.read_shift((s-10)/2,"dbcs-cont");return[a,d=d.replace(Vt,"")]}},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:Ke},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:Bs},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:function va(r){r.l+=2;var s={cxfs:0,crc:0};return s.cxfs=r.read_shift(2),s.crc=r.read_shift(4),s},r:12},2173:{f:function bd(r,s){r.l+=2;var d=r.read_shift(2);r.l+=2;for(var g=r.read_shift(2),A=[];g-- >0;)A.push(df(r));return{ixfe:d,ext:A}},r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:fr,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:function Nl(r,s,a){if(!(a.biff<8)){var d=r.read_shift(2),g=r.read_shift(2);return[Pl(r,d,a),Pl(r,g,a)]}r.l+=s},r:12},2197:{},2198:{f:function zl(r,s,a){var d=r.l+s;if(124226!==r.read_shift(4)){if(!a.cellStyles)return void(r.l=d);var T,A=r.slice(r.l);r.l=d;try{T=Wa(A,{type:"array"})}catch{return}var R=zi(T,"theme/theme/theme1.xml",!0);if(R)return ki(R,a)}},r:12},2199:{},2200:{},2201:{},2202:{f:function cd(r){return[0!==r.read_shift(4),0!==r.read_shift(4),r.read_shift(4)]},r:12},2203:{f:Bs},2204:{},2205:{},2206:{},2207:{},2211:{f:function Ii(r){var s=function _c(r){var s=r.read_shift(2),a=r.read_shift(2);return r.l+=8,{type:s,flags:a}}(r);if(2211!=s.type)throw new Error("Invalid Future Record "+s.type);return 0!==r.read_shift(4)}},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:$o},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:function $u(r,s,a){var d={area:!1};if(5!=a.biff)return r.l+=s,d;var g=r.read_shift(1);return r.l+=3,16&g&&(d.area=!0),d}},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:function ss(r){for(var s=r.read_shift(2),a=[];s-- >0;)a.push(Bu(r));return a}},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:Um},1:{},2:{f:function L_(r){var s=Ia(r);++r.l;var a=r.read_shift(2);return s.t="n",s.val=a,s}},3:{f:function zd(r){var s=Ia(r);++r.l;var a=fi(r);return s.t="n",s.val=a,s}},4:{f:function J_(r,s,a){a.biffguess&&5==a.biff&&(a.biff=2);var d=Ia(r);++r.l;var g=Zl(r,0,a);return d.t="str",d.val=g,d}},5:{f:sd},7:{f:function jd(r){var s=r.read_shift(1);return 0===s?(r.l++,""):r.read_shift(s,"sbcs-cont")}},8:{},9:{f:Ke},11:{},22:{f:$o},30:{f:ju},31:{},32:{},33:{f:Tm},36:{},37:{f:io},50:{f:function bm(r,s){r.l+=6,r.l+=2,r.l+=1,r.l+=3,r.l+=1,r.l+=s-13}},62:{},52:{},67:{},68:{f:$o},69:{},86:{},126:{},127:{f:function Q_(r){var s=r.read_shift(2),a=r.read_shift(2),d=r.read_shift(4),g={fmt:s,env:a,len:d,data:r.slice(r.l,r.l+d)};return r.l+=d,g}},135:{},136:{},137:{},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:function pd(r,s,a){var d=r.l+s,g=Ia(r),A=r.read_shift(2),T=Pl(r,A,a);return r.l=d,g.t="str",g.val=T,g}},223:{},234:{},354:{},421:{},518:{f:C_},521:{f:Ke},536:{f:Jm},547:{f:pc},561:{},579:{},1030:{f:C_},1033:{f:Ke},1091:{},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},29282:{}};function Vn(r,s,a,d){var g=s;if(!isNaN(g)){var A=d||(a||[]).length||0,T=r.next(4);T.write_shift(2,g),T.write_shift(2,A),A>0&&os(a)&&r.push(a)}}function nx(r,s){var a=s||{};null!=xt&&null==a.dense&&(a.dense=xt);var d=a.dense?[]:{},g=(r=r.replace(/<!--.*?-->/g,"")).match(/<table/i);if(!g)throw new Error("Invalid HTML: could not find <table>");var A=r.match(/<\/table/i),T=g.index,R=A&&A.index||r.length,L=rl(r.slice(T,R),/(:?<tr[^>]*>)/i,"<tr>"),V=-1,X=0,pe=0,fe=0,Ae={s:{r:1e7,c:1e7},e:{r:0,c:0}},qe=[];for(T=0;T<L.length;++T){var de=L[T].trim(),Ne=de.slice(0,3).toLowerCase();if("<tr"!=Ne){if("<td"==Ne||"<th"==Ne){var ze=de.split(/<\/t[dh]>/i);for(R=0;R<ze.length;++R){var et=ze[R].trim();if(et.match(/<t[dh]/i)){for(var Ve=et,Dt=0;"<"==Ve.charAt(0)&&(Dt=Ve.indexOf(">"))>-1;)Ve=Ve.slice(Dt+1);for(var Ht=0;Ht<qe.length;++Ht){var Rt=qe[Ht];Rt.s.c==X&&Rt.s.r<V&&V<=Rt.e.r&&(X=Rt.e.c+1,Ht=-1)}var ct=si(et.slice(0,et.indexOf(">")));fe=ct.colspan?+ct.colspan:1,((pe=+ct.rowspan)>1||fe>1)&&qe.push({s:{r:V,c:X},e:{r:V+(pe||1)-1,c:X+fe-1}});var Jt=ct.t||ct["data-t"]||"";if(!Ve.length){X+=fe;continue}if(Ve=kl(Ve),Ae.s.r>V&&(Ae.s.r=V),Ae.e.r<V&&(Ae.e.r=V),Ae.s.c>X&&(Ae.s.c=X),Ae.e.c<X&&(Ae.e.c=X),!Ve.length){X+=fe;continue}var Ot={t:"s",v:Ve};a.raw||!Ve.trim().length||"s"==Jt||("TRUE"===Ve?Ot={t:"b",v:!0}:"FALSE"===Ve?Ot={t:"b",v:!1}:isNaN(hr(Ve))?isNaN(ka(Ve).getDate())||(Ot={t:"d",v:Un(Ve)},a.cellDates||(Ot={t:"n",v:So(Ot.v)}),Ot.z=a.dateNF||Et[14]):Ot={t:"n",v:hr(Ve)}),a.dense?(d[V]||(d[V]=[]),d[V][X]=Ot):d[yi({r:V,c:X})]=Ot,X+=fe}}}}else{if(++V,a.sheetRows&&a.sheetRows<=V){--V;break}X=0}}return d["!ref"]=Li(Ae),qe.length&&(d["!merges"]=qe),d}function ix(r,s,a,d){for(var g=r["!merges"]||[],A=[],T=s.s.c;T<=s.e.c;++T){for(var R=0,L=0,V=0;V<g.length;++V)if(!(g[V].s.r>a||g[V].s.c>T||g[V].e.r<a||g[V].e.c<T)){if(g[V].s.r<a||g[V].s.c<T){R=-1;break}R=g[V].e.r-g[V].s.r+1,L=g[V].e.c-g[V].s.c+1;break}if(!(R<0)){var X=yi({r:a,c:T}),pe=d.dense?(r[a]||[])[T]:r[X],fe=pe&&null!=pe.v&&(pe.h||Ds(pe.w||(kr(pe),pe.w)||""))||"",Ae={};R>1&&(Ae.rowspan=R),L>1&&(Ae.colspan=L),d.editable?fe='<span contenteditable="true">'+fe+"</span>":pe&&(Ae["data-t"]=pe&&pe.t||"z",null!=pe.v&&(Ae["data-v"]=pe.v),null!=pe.z&&(Ae["data-z"]=pe.z),pe.l&&"#"!=(pe.l.Target||"#").charAt(0)&&(fe='<a href="'+pe.l.Target+'">'+fe+"</a>")),Ae.id=(d.id||"sjs")+"-"+X,A.push(Dn("td",fe,Ae))}}return"<tr>"+A.join("")+"</tr>"}var g0='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',h0="</body></html>";function v0(r,s,a){var d=a||{};null!=xt&&(d.dense=xt);var g=0,A=0;if(null!=d.origin)if("number"==typeof d.origin)g=d.origin;else{var T="string"==typeof d.origin?Go(d.origin):d.origin;g=T.r,A=T.c}var R=s.getElementsByTagName("tr"),L=Math.min(d.sheetRows||1e7,R.length),V={s:{r:0,c:0},e:{r:g,c:A}};if(r["!ref"]){var X=Wr(r["!ref"]);V.s.r=Math.min(V.s.r,X.s.r),V.s.c=Math.min(V.s.c,X.s.c),V.e.r=Math.max(V.e.r,X.e.r),V.e.c=Math.max(V.e.c,X.e.c),-1==g&&(V.e.r=g=X.e.r+1)}var pe=[],fe=0,Ae=r["!rows"]||(r["!rows"]=[]),qe=0,de=0,Ne=0,ze=0,et=0,Ve=0;for(r["!cols"]||(r["!cols"]=[]);qe<R.length&&de<L;++qe){var Dt=R[qe];if(T0(Dt)){if(d.display)continue;Ae[de]={hidden:!0}}var Ht=Dt.children;for(Ne=ze=0;Ne<Ht.length;++Ne){var Rt=Ht[Ne];if(!d.display||!T0(Rt)){var ct=Rt.hasAttribute("data-v")?Rt.getAttribute("data-v"):Rt.hasAttribute("v")?Rt.getAttribute("v"):kl(Rt.innerHTML),Jt=Rt.getAttribute("data-z")||Rt.getAttribute("z");for(fe=0;fe<pe.length;++fe){var Ot=pe[fe];Ot.s.c==ze+A&&Ot.s.r<de+g&&de+g<=Ot.e.r&&(ze=Ot.e.c+1-A,fe=-1)}Ve=+Rt.getAttribute("colspan")||1,((et=+Rt.getAttribute("rowspan")||1)>1||Ve>1)&&pe.push({s:{r:de+g,c:ze+A},e:{r:de+g+(et||1)-1,c:ze+A+(Ve||1)-1}});var cn={t:"s",v:ct},un=Rt.getAttribute("data-t")||Rt.getAttribute("t")||"";null!=ct&&(0==ct.length?cn.t=un||"z":d.raw||0==ct.trim().length||"s"==un||("TRUE"===ct?cn={t:"b",v:!0}:"FALSE"===ct?cn={t:"b",v:!1}:isNaN(hr(ct))?isNaN(ka(ct).getDate())||(cn={t:"d",v:Un(ct)},d.cellDates||(cn={t:"n",v:So(cn.v)}),cn.z=d.dateNF||Et[14]):cn={t:"n",v:hr(ct)})),void 0===cn.z&&null!=Jt&&(cn.z=Jt);var Qt="",Hn=Rt.getElementsByTagName("A");if(Hn&&Hn.length)for(var Ti=0;Ti<Hn.length&&(!Hn[Ti].hasAttribute("href")||"#"==(Qt=Hn[Ti].getAttribute("href")).charAt(0));++Ti);Qt&&"#"!=Qt.charAt(0)&&(cn.l={Target:Qt}),d.dense?(r[de+g]||(r[de+g]=[]),r[de+g][ze+A]=cn):r[yi({c:ze+A,r:de+g})]=cn,V.e.c<ze+A&&(V.e.c=ze+A),ze+=Ve}}++de}return pe.length&&(r["!merges"]=(r["!merges"]||[]).concat(pe)),V.e.r=Math.max(V.e.r,de-1+g),r["!ref"]=Li(V),de>=L&&(r["!fullref"]=Li((V.e.r=R.length-qe+de-1+g,V))),r}function A0(r,s){return v0((s||{}).dense?[]:{},r,s)}function T0(r){var s="",a=function ax(r){return r.ownerDocument.defaultView&&"function"==typeof r.ownerDocument.defaultView.getComputedStyle?r.ownerDocument.defaultView.getComputedStyle:"function"==typeof getComputedStyle?getComputedStyle:null}(r);return a&&(s=a(r).getPropertyValue("display")),s||(s=r.style&&r.style.display),"none"===s}function sx(r){var s=r.replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,function(d,g){return Array(parseInt(g,10)+1).join(" ")}).replace(/<text:tab[^>]*\/>/g,"\t").replace(/<text:line-break\/>/g,"\n");return[ao(s.replace(/<[^>]*>/g,""))]}var eg={day:["d","dd"],month:["m","mm"],year:["y","yy"],hours:["h","hh"],minutes:["m","mm"],seconds:["s","ss"],"am-pm":["A/P","AM/PM"],"day-of-week":["ddd","dddd"],era:["e","ee"],quarter:["\\Qm",'m\\"th quarter"']};function b0(r,s){var a=s||{};null!=xt&&null==a.dense&&(a.dense=xt);var A,T,X,pe,de,Ne,d=ns(r),g=[],R={name:""},L="",V=0,fe={},Ae=[],qe=a.dense?[]:{},ze={value:""},et="",Ve=0,Ht=[],Rt=-1,ct=-1,Jt={s:{r:1e6,c:1e7},e:{r:0,c:0}},Ot=0,cn={},un=[],Qt={},Hn=0,Ti=0,$n=[],Hi=1,Ei=1,ir=[],_i={Names:[]},Ji={},In=["",""],gt=[],Xt={},bt="",Tt=0,An=!1,ai=!1,zn=0;for(Pa.lastIndex=0,d=d.replace(/<!--([\s\S]*?)-->/gm,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");de=Pa.exec(d);)switch(de[3]=de[3].replace(/_.*$/,"")){case"table":case"\u5de5\u4f5c\u8868":"/"===de[1]?(qe["!ref"]=Jt.e.c>=Jt.s.c&&Jt.e.r>=Jt.s.r?Li(Jt):"A1:A1",a.sheetRows>0&&a.sheetRows<=Jt.e.r&&(qe["!fullref"]=qe["!ref"],Jt.e.r=a.sheetRows-1,qe["!ref"]=Li(Jt)),un.length&&(qe["!merges"]=un),$n.length&&(qe["!rows"]=$n),X.name=X.\u540d\u79f0||X.name,typeof JSON<"u"&&JSON.stringify(X),Ae.push(X.name),fe[X.name]=qe,ai=!1):"/"!==de[0].charAt(de[0].length-2)&&(X=si(de[0],!1),Rt=ct=-1,Jt.s.r=Jt.s.c=1e7,Jt.e.r=Jt.e.c=0,qe=a.dense?[]:{},un=[],$n=[],ai=!0);break;case"table-row-group":"/"===de[1]?--Ot:++Ot;break;case"table-row":case"\u884c":if("/"===de[1]){Rt+=Hi,Hi=1;break}if((pe=si(de[0],!1)).\u884c\u53f7?Rt=pe.\u884c\u53f7-1:-1==Rt&&(Rt=0),(Hi=+pe["number-rows-repeated"]||1)<10)for(zn=0;zn<Hi;++zn)Ot>0&&($n[Rt+zn]={level:Ot});ct=-1;break;case"covered-table-cell":"/"!==de[1]&&++ct,a.sheetStubs&&(a.dense?(qe[Rt]||(qe[Rt]=[]),qe[Rt][ct]={t:"z"}):qe[yi({r:Rt,c:ct})]={t:"z"}),et="",Ht=[];break;case"table-cell":case"\u6570\u636e":if("/"===de[0].charAt(de[0].length-2))++ct,ze=si(de[0],!1),Ei=parseInt(ze["number-columns-repeated"]||"1",10),Ne={t:"z",v:null},ze.formula&&0!=a.cellFormula&&(Ne.f=oc(ao(ze.formula))),"string"==(ze.\u6570\u636e\u7c7b\u578b||ze["value-type"])&&(Ne.t="s",Ne.v=ao(ze["string-value"]||""),a.dense?(qe[Rt]||(qe[Rt]=[]),qe[Rt][ct]=Ne):qe[yi({r:Rt,c:ct})]=Ne),ct+=Ei-1;else if("/"!==de[1]){et="",Ve=0,Ht=[],Ei=1;var jn=Hi?Rt+Hi-1:Rt;if(++ct>Jt.e.c&&(Jt.e.c=ct),ct<Jt.s.c&&(Jt.s.c=ct),Rt<Jt.s.r&&(Jt.s.r=Rt),jn>Jt.e.r&&(Jt.e.r=jn),gt=[],Xt={},Ne={t:(ze=si(de[0],!1)).\u6570\u636e\u7c7b\u578b||ze["value-type"],v:null},a.cellFormula)if(ze.formula&&(ze.formula=ao(ze.formula)),ze["number-matrix-columns-spanned"]&&ze["number-matrix-rows-spanned"]&&(Hn=parseInt(ze["number-matrix-rows-spanned"],10)||0,Ti=parseInt(ze["number-matrix-columns-spanned"],10)||0,Ne.F=Li(Qt={s:{r:Rt,c:ct},e:{r:Rt+Hn-1,c:ct+Ti-1}}),ir.push([Qt,Ne.F])),ze.formula)Ne.f=oc(ze.formula);else for(zn=0;zn<ir.length;++zn)Rt>=ir[zn][0].s.r&&Rt<=ir[zn][0].e.r&&ct>=ir[zn][0].s.c&&ct<=ir[zn][0].e.c&&(Ne.F=ir[zn][1]);switch((ze["number-columns-spanned"]||ze["number-rows-spanned"])&&(Hn=parseInt(ze["number-rows-spanned"],10)||0,Ti=parseInt(ze["number-columns-spanned"],10)||0,un.push(Qt={s:{r:Rt,c:ct},e:{r:Rt+Hn-1,c:ct+Ti-1}})),ze["number-columns-repeated"]&&(Ei=parseInt(ze["number-columns-repeated"],10)),Ne.t){case"boolean":Ne.t="b",Ne.v=Po(ze["boolean-value"]);break;case"float":case"percentage":case"currency":Ne.t="n",Ne.v=parseFloat(ze.value);break;case"date":Ne.t="d",Ne.v=Un(ze["date-value"]),a.cellDates||(Ne.t="n",Ne.v=So(Ne.v)),Ne.z="m/d/yy";break;case"time":Ne.t="n",Ne.v=jt(ze["time-value"])/86400,a.cellDates&&(Ne.t="d",Ne.v=nt(Ne.v)),Ne.z="HH:MM:SS";break;case"number":Ne.t="n",Ne.v=parseFloat(ze.\u6570\u636e\u6570\u503c);break;default:if("string"!==Ne.t&&"text"!==Ne.t&&Ne.t)throw new Error("Unsupported value type "+Ne.t);Ne.t="s",null!=ze["string-value"]&&(et=ao(ze["string-value"]),Ht=[])}}else{if(An=!1,"s"===Ne.t&&(Ne.v=et||"",Ht.length&&(Ne.R=Ht),An=0==Ve),Ji.Target&&(Ne.l=Ji),gt.length>0&&(Ne.c=gt,gt=[]),et&&!1!==a.cellText&&(Ne.w=et),An&&(Ne.t="z",delete Ne.v),(!An||a.sheetStubs)&&!(a.sheetRows&&a.sheetRows<=Rt))for(var En=0;En<Hi;++En){if(Ei=parseInt(ze["number-columns-repeated"]||"1",10),a.dense)for(qe[Rt+En]||(qe[Rt+En]=[]),qe[Rt+En][ct]=0==En?Ne:ro(Ne);--Ei>0;)qe[Rt+En][ct+Ei]=ro(Ne);else for(qe[yi({r:Rt+En,c:ct})]=Ne;--Ei>0;)qe[yi({r:Rt+En,c:ct+Ei})]=ro(Ne);Jt.e.c<=ct&&(Jt.e.c=ct)}ct+=(Ei=parseInt(ze["number-columns-repeated"]||"1",10))-1,Ei=0,Ne={},et="",Ht=[]}Ji={};break;case"document":case"document-content":case"\u7535\u5b50\u8868\u683c\u6587\u6863":case"spreadsheet":case"\u4e3b\u4f53":case"scripts":case"styles":case"font-face-decls":case"master-styles":if("/"===de[1]){if((A=g.pop())[0]!==de[3])throw"Bad state: "+A}else"/"!==de[0].charAt(de[0].length-2)&&g.push([de[3],!0]);break;case"annotation":if("/"===de[1]){if((A=g.pop())[0]!==de[3])throw"Bad state: "+A;Xt.t=et,Ht.length&&(Xt.R=Ht),Xt.a=bt,gt.push(Xt)}else"/"!==de[0].charAt(de[0].length-2)&&g.push([de[3],!1]);bt="",Tt=0,et="",Ve=0,Ht=[];break;case"creator":"/"===de[1]?bt=d.slice(Tt,de.index):Tt=de.index+de[0].length;break;case"meta":case"\u5143\u6570\u636e":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if("/"===de[1]){if((A=g.pop())[0]!==de[3])throw"Bad state: "+A}else"/"!==de[0].charAt(de[0].length-2)&&g.push([de[3],!1]);et="",Ve=0,Ht=[];break;case"scientific-number":case"currency-symbol":case"currency-style":case"script":case"libraries":case"automatic-styles":case"default-style":case"page-layout":case"style":case"map":case"font-face":case"paragraph-properties":case"table-properties":case"table-column-properties":case"table-row-properties":case"table-cell-properties":case"fraction":case"boolean-style":case"boolean":case"text-style":case"text-content":case"text-properties":case"embedded-text":case"body":case"\u7535\u5b50\u8868\u683c":case"forms":case"table-column":case"table-header-rows":case"table-rows":case"table-column-group":case"table-header-columns":case"table-columns":case"null-date":case"graphic-properties":case"calculation-settings":case"named-expressions":case"label-range":case"label-ranges":case"named-expression":case"sort":case"sort-by":case"sort-groups":case"tab":case"line-break":case"span":case"s":case"date":case"object":case"title":case"\u6807\u9898":case"desc":case"binary-data":case"table-source":case"scenario":case"iteration":case"content-validations":case"content-validation":case"help-message":case"error-message":case"database-ranges":case"filter":case"filter-and":case"filter-or":case"filter-condition":case"list-level-style-bullet":case"list-level-style-number":case"list-level-properties":case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":case"event-listener":case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":case"config-item":case"page-number":case"page-count":case"time":case"cell-range-source":case"detective":case"operation":case"highlighted-range":case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":case"rect":case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":case"properties":case"property":case"table-protection":case"data-pilot-grand-total":case"office-document-common-attrs":break;case"number-style":case"percentage-style":case"date-style":case"time-style":if("/"===de[1]){if(cn[R.name]=L,(A=g.pop())[0]!==de[3])throw"Bad state: "+A}else"/"!==de[0].charAt(de[0].length-2)&&(L="",R=si(de[0],!1),g.push([de[3],!0]));break;case"number":case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":switch(g[g.length-1][0]){case"time-style":case"date-style":T=si(de[0],!1),L+=eg[de[3]]["long"===T.style?1:0]}break;case"text":if("/>"===de[0].slice(-2))break;if("/"===de[1])switch(g[g.length-1][0]){case"number-style":case"date-style":case"time-style":L+=d.slice(V,de.index)}else V=de.index+de[0].length;break;case"named-range":In=Gf((T=si(de[0],!1))["cell-range-address"]);var zo={Name:T.name,Ref:In[0]+"!"+In[1]};ai&&(zo.Sheet=Ae.length),_i.Names.push(zo);break;case"p":case"\u6587\u672c\u4e32":if(["master-styles"].indexOf(g[g.length-1][0])>-1)break;if("/"!==de[1]||ze&&ze["string-value"])si(de[0],!1),Ve=de.index+de[0].length;else{var pt=sx(d.slice(Ve,de.index));et=(et.length>0?et+"\n":"")+pt[0]}break;case"database-range":if("/"===de[1])break;try{fe[(In=Gf(si(de[0])["target-range-address"]))[0]]["!autofilter"]={ref:In[1]}}catch{}break;case"a":if("/"!==de[1]){if(!(Ji=si(de[0],!1)).href)break;Ji.Target=ao(Ji.href),delete Ji.href,"#"==Ji.Target.charAt(0)&&Ji.Target.indexOf(".")>-1?(In=Gf(Ji.Target.slice(1)),Ji.Target="#"+In[0]+"!"+In[1]):Ji.Target.match(/^\.\.[\\\/]/)&&(Ji.Target=Ji.Target.slice(3))}break;default:switch(de[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case"\u8868:":case"\u5b57:":break;default:if(a.WTF)throw new Error(de)}}var fa={Sheets:fe,SheetNames:Ae,Workbook:_i};return a.bookSheets&&delete fa.Sheets,fa}function Z0(r,s){return b0(r,s)}function zp(r){return new DataView(r.buffer,r.byteOffset,r.byteLength)}function z1(r){return typeof TextDecoder<"u"?(new TextDecoder).decode(r):ho($i(r))}function A_(r){var s=r.reduce(function(g,A){return g+A.length},0),a=new Uint8Array(s),d=0;return r.forEach(function(g){a.set(g,d),d+=g.length}),a}function y0(r){return 16843009*((r=(858993459&(r-=r>>1&1431655765))+(r>>2&858993459))+(r>>4)&252645135)>>>24}function tg(r,s){var a=s?s[0]:0,d=127&r[a];e:if(r[a++]>=128&&(d|=(127&r[a])<<7,r[a++]<128||(d|=(127&r[a])<<14,r[a++]<128)||(d|=(127&r[a])<<21,r[a++]<128)||(d+=(127&r[a])*Math.pow(2,28),++a,r[a++]<128)||(d+=(127&r[a])*Math.pow(2,35),++a,r[a++]<128)||(d+=(127&r[a])*Math.pow(2,42),++a,r[a++]<128)))break e;return s&&(s[0]=a),d}function Ga(r){var s=0,a=127&r[s];e:if(r[s++]>=128){if(a|=(127&r[s])<<7,r[s++]<128||(a|=(127&r[s])<<14,r[s++]<128)||(a|=(127&r[s])<<21,r[s++]<128))break e;a|=(127&r[s])<<28}return a}function gr(r){for(var s=[],a=[0];a[0]<r.length;){var R,d=a[0],g=tg(r,a),A=7&g,T=0;if(0==(g=Math.floor(g/8)))break;switch(A){case 0:for(var L=a[0];r[a[0]++]>=128;);R=r.slice(L,a[0]);break;case 5:R=r.slice(a[0],a[0]+(T=4)),a[0]+=T;break;case 1:R=r.slice(a[0],a[0]+(T=8)),a[0]+=T;break;case 2:T=tg(r,a),R=r.slice(a[0],a[0]+T),a[0]+=T;break;default:throw new Error("PB Type ".concat(A," for Field ").concat(g," at offset ").concat(d))}var V={data:R,type:A};null==s[g]?s[g]=[V]:s[g].push(V)}return s}function V1(r,s){return r?.map(function(a){return s(a.data)})||[]}function nd(r,s){if(0!=r)throw new Error("Unexpected Snappy chunk type ".concat(r));for(var a=[0],d=tg(s,a),g=[];a[0]<s.length;){var A=3&s[a[0]];if(0!=A){var L=0,V=0;if(1==A?(V=4+(s[a[0]]>>2&7),L=(224&s[a[0]++])<<3,L|=s[a[0]++]):(V=1+(s[a[0]++]>>2),2==A?(L=s[a[0]]|s[a[0]+1]<<8,a[0]+=2):(L=(s[a[0]]|s[a[0]+1]<<8|s[a[0]+2]<<16|s[a[0]+3]<<24)>>>0,a[0]+=4)),g=[A_(g)],0==L)throw new Error("Invalid offset 0");if(L>g[0].length)throw new Error("Invalid offset beyond length");if(V>=L)for(g.push(g[0].slice(-L)),V-=L;V>=g[g.length-1].length;)g.push(g[g.length-1]),V-=g[g.length-1].length;g.push(g[0].slice(-L,-L+V))}else{var T=s[a[0]++]>>2;if(T<60)++T;else{var R=T-59;T=s[a[0]],R>1&&(T|=s[a[0]+1]<<8),R>2&&(T|=s[a[0]+2]<<16),R>3&&(T|=s[a[0]+3]<<24),T>>>=0,T++,a[0]+=R}g.push(s.slice(a[0],a[0]+T)),a[0]+=T}}var X=A_(g);if(X.length!=d)throw new Error("Unexpected length: ".concat(X.length," != ").concat(d));return X}function fx(r,s,a){switch(r[0]){case 0:case 1:case 2:case 3:return function _x(r,s,a,d){var pe,g=zp(r),A=g.getUint32(4,!0),T=(d>1?12:8)+4*y0(A&(d>1?3470:398)),R=-1,L=-1,V=NaN,X=new Date(2001,0,1);switch(512&A&&(R=g.getUint32(T,!0),T+=4),T+=4*y0(A&(d>1?12288:4096)),16&A&&(L=g.getUint32(T,!0),T+=4),32&A&&(V=g.getFloat64(T,!0),T+=8),64&A&&(X.setTime(X.getTime()+1e3*g.getFloat64(T,!0)),T+=8),r[2]){case 0:break;case 2:pe={t:"n",v:V};break;case 3:pe={t:"s",v:s[L]};break;case 5:pe={t:"d",v:X};break;case 6:pe={t:"b",v:V>0};break;case 7:pe={t:"n",v:V/86400};break;case 8:pe={t:"e",v:0};break;case 9:if(R>-1)pe={t:"s",v:a[R]};else if(L>-1)pe={t:"s",v:s[L]};else{if(isNaN(V))throw new Error("Unsupported cell type ".concat(r.slice(0,4)));pe={t:"n",v:V}}break;default:throw new Error("Unsupported cell type ".concat(r.slice(0,4)))}return pe}(r,s,a,r[0]);case 5:return function px(r,s,a){var pe,d=zp(r),g=d.getUint32(8,!0),A=12,T=-1,R=-1,L=NaN,V=NaN,X=new Date(2001,0,1);switch(1&g&&(L=function mx(r,s){for(var a=(127&r[s+15])<<7|r[s+14]>>1,d=1&r[s+14],g=s+13;g>=s;--g)d=256*d+r[g];return(128&r[s+15]?-d:d)*Math.pow(10,a-6176)}(r,A),A+=16),2&g&&(V=d.getFloat64(A,!0),A+=8),4&g&&(X.setTime(X.getTime()+1e3*d.getFloat64(A,!0)),A+=8),8&g&&(R=d.getUint32(A,!0),A+=4),16&g&&(T=d.getUint32(A,!0),A+=4),r[1]){case 0:break;case 2:case 10:pe={t:"n",v:L};break;case 3:pe={t:"s",v:s[R]};break;case 5:pe={t:"d",v:X};break;case 6:pe={t:"b",v:V>0};break;case 7:pe={t:"n",v:V/86400};break;case 8:pe={t:"e",v:0};break;case 9:if(!(T>-1))throw new Error("Unsupported cell type ".concat(r[1]," : ").concat(31&g," : ").concat(r.slice(0,4)));pe={t:"s",v:a[T]};break;default:throw new Error("Unsupported cell type ".concat(r[1]," : ").concat(31&g," : ").concat(r.slice(0,4)))}return pe}(r,s,a);default:throw new Error("Unsupported payload version ".concat(r[0]))}}function Cc(r){return tg(gr(r)[1][0].data)}function N0(r,s){var a=gr(s.data),d=Ga(a[1][0].data),A=[];return(a[3]||[]).forEach(function(T){var R=gr(T.data),L=Ga(R[1][0].data)>>>0;switch(d){case 1:A[L]=z1(R[3][0].data);break;case 8:var X=gr(r[Cc(R[9][0].data)][0].data),pe=r[Cc(X[1][0].data)][0],fe=Ga(pe.meta[1][0].data);if(2001!=fe)throw new Error("2000 unexpected reference to ".concat(fe));var Ae=gr(pe.data);A[L]=Ae[3].map(function(qe){return z1(qe.data)}).join("")}}),A}function xx(r,s){var d={"!ref":"A1"},g=r[Cc(gr(s.data)[2][0].data)],A=Ga(g[0].meta[1][0].data);if(6001!=A)throw new Error("6000 unexpected reference to ".concat(A));return function Cx(r,s,a){var d,g=gr(s.data),A={s:{r:0,c:0},e:{r:0,c:0}};if(A.e.r=(Ga(g[6][0].data)>>>0)-1,A.e.r<0)throw new Error("Invalid row varint ".concat(g[6][0].data));if(A.e.c=(Ga(g[7][0].data)>>>0)-1,A.e.c<0)throw new Error("Invalid col varint ".concat(g[7][0].data));a["!ref"]=Li(A);var T=gr(g[4][0].data),R=N0(r,r[Cc(T[4][0].data)][0]),L=null!=(d=T[17])&&d[0]?N0(r,r[Cc(T[17][0].data)][0]):[],V=gr(T[3][0].data),X=0;V[1].forEach(function(pe){var fe=gr(pe.data),Ae=r[Cc(fe[2][0].data)][0],qe=Ga(Ae.meta[1][0].data);if(6002!=qe)throw new Error("6001 unexpected reference to ".concat(qe));var de=function hx(r,s){var a,d=gr(s.data),g=null!=(a=d?.[7])&&a[0]?Ga(d[7][0].data)>>>0>0?1:0:-1,A=V1(d[5],function(T){return function gx(r,s){var a,d,g,A,T,R,L,V,X,pe,fe,Ae,qe,de,Dt,Ht,Ne=gr(r),ze=Ga(Ne[1][0].data)>>>0,et=Ga(Ne[2][0].data)>>>0,Ve=(null==(d=null==(a=Ne[8])?void 0:a[0])?void 0:d.data)&&Ga(Ne[8][0].data)>0||!1;if(null!=(A=null==(g=Ne[7])?void 0:g[0])&&A.data&&0!=s)Dt=null==(R=null==(T=Ne[7])?void 0:T[0])?void 0:R.data,Ht=null==(V=null==(L=Ne[6])?void 0:L[0])?void 0:V.data;else{if(null==(pe=null==(X=Ne[4])?void 0:X[0])||!pe.data||1==s)throw"NUMBERS Tile missing ".concat(s," cell storage");Dt=null==(Ae=null==(fe=Ne[4])?void 0:fe[0])?void 0:Ae.data,Ht=null==(de=null==(qe=Ne[3])?void 0:qe[0])?void 0:de.data}for(var Rt=Ve?4:1,ct=zp(Dt),Jt=[],Ot=0;Ot<Dt.length/2;++Ot){var cn=ct.getUint16(2*Ot,!0);cn<65535&&Jt.push([Ot,cn])}if(Jt.length!=et)throw"Expected ".concat(et," cells, found ").concat(Jt.length);var un=[];for(Ot=0;Ot<Jt.length-1;++Ot)un[Jt[Ot][0]]=Ht.subarray(Jt[Ot][1]*Rt,Jt[Ot+1][1]*Rt);return Jt.length>=1&&(un[Jt[Jt.length-1][0]]=Ht.subarray(Jt[Jt.length-1][1]*Rt)),{R:ze,cells:un}}(T,g)});return{nrows:Ga(d[4][0].data)>>>0,data:A.reduce(function(T,R){return T[R.R]||(T[R.R]=[]),R.cells.forEach(function(L,V){if(T[R.R][V])throw new Error("Duplicate cell r=".concat(R.R," c=").concat(V));T[R.R][V]=L}),T},[])}}(0,Ae);de.data.forEach(function(Ne,ze){Ne.forEach(function(et,Ve){var Dt=yi({r:X+ze,c:Ve}),Ht=fx(et,R,L);Ht&&(a[Dt]=Ht)})}),X+=de.nrows})}(r,g[0],d),d}function Rg(r){var s,a,d,g,A={},T=[];if(r.FullPaths.forEach(function(L){if(L.match(/\.iwpv2/))throw new Error("Unsupported password protection")}),r.FileIndex.forEach(function(L){if(L.name.match(/\.iwa$/)){var V,X;try{V=function nm(r){for(var s=[],a=0;a<r.length;){var d=r[a++],g=r[a]|r[a+1]<<8|r[a+2]<<16;s.push(nd(d,r.slice(a+=3,a+g))),a+=g}if(a!==r.length)throw new Error("data is not a valid framed stream!");return A_(s)}(L.content)}catch(pe){return console.log("?? "+L.content.length+" "+(pe.message||pe))}try{X=function tm(r){for(var s,a=[],d=[0];d[0]<r.length;){var g=tg(r,d),A=gr(r.slice(d[0],d[0]+g));d[0]+=g;var T={id:Ga(A[1][0].data),messages:[]};A[2].forEach(function(R){var L=gr(R.data),V=Ga(L[3][0].data);T.messages.push({meta:L,data:r.slice(d[0],d[0]+V)}),d[0]+=V}),null!=(s=A[3])&&s[0]&&(T.merge=Ga(A[3][0].data)>>>0>0),a.push(T)}return a}(V)}catch(pe){return console.log("## "+(pe.message||pe))}X.forEach(function(pe){A[pe.id]=pe.messages,T.push(pe.id)})}}),!T.length)throw new Error("File has no messages");var R=(null==(g=null==(d=null==(a=null==(s=A?.[1])?void 0:s[0])?void 0:a.meta)?void 0:d[1])?void 0:g[0].data)&&1==Ga(A[1][0].meta[1][0].data)&&A[1][0];if(R||T.forEach(function(L){A[L].forEach(function(V){if(1==Ga(V.meta[1][0].data)>>>0){if(R)throw new Error("Document has multiple roots");R=V}})}),!R)throw new Error("Cannot find Document root");return function I0(r,s){var a={SheetNames:[],Sheets:{}};if(V1(gr(s.data)[1],Cc).forEach(function(A){r[A].forEach(function(T){if(2==Ga(T.meta[1][0].data)){var L=function vx(r,s){var a,d=gr(s.data),g={name:null!=(a=d[1])&&a[0]?z1(d[1][0].data):"",sheets:[]};return V1(d[2],Cc).forEach(function(T){r[T].forEach(function(R){6e3==Ga(R.meta[1][0].data)&&g.sheets.push(xx(r,R))})}),g}(r,T);L.sheets.forEach(function(V,X){k(a,V,0==X?L.name:L.name+"_"+X,!0)})}})}),0==a.SheetNames.length)throw new Error("Empty NUMBERS file");return a}(A,R)}function D(r){!function f(r){return function(a){for(var d=0;d!=r.length;++d){var g=r[d];void 0===a[g[0]]&&(a[g[0]]=g[1]),"n"===g[2]&&(a[g[0]]=Number(a[g[0]]))}}}([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(r)}function I(r){return ji.WS.indexOf(r)>-1?"sheet":ji.CS&&r==ji.CS?"chart":ji.DS&&r==ji.DS?"dialog":ji.MS&&r==ji.MS?"macro":r&&r.length?r:"sheet"}function be(r,s,a,d,g,A,T,R,L,V,X,pe){try{A[d]=Zc(zi(r,a,!0),s);var Ae,fe=Oi(r,s);switch(R){case"sheet":Ae=tC(fe,s,g,L,A[d],V,X,pe);break;case"chart":if(!(Ae=function nC(r,s,a,d,g,A,T,R){return".bin"===s.slice(-4)?function Dh(r,s,a,d,g){if(!r)return r;d||(d={"!id":{}});var A={"!type":"chart","!drawel":null,"!rel":""},T=[],R=!1;return we(r,function(V,X,pe){switch(pe){case 550:A["!rel"]=V;break;case 651:g.Sheets[a]||(g.Sheets[a]={}),V.name&&(g.Sheets[a].CodeName=V.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:R=!0;break;case 36:R=!1;break;case 37:T.push(pe);break;case 38:T.pop();break;default:if(X.T>0)T.push(pe);else if(X.T<0)T.pop();else if(!R||s.WTF)throw new Error("Unexpected record 0x"+pe.toString(16))}},s),d["!id"][A["!rel"]]&&(A["!drawel"]=d["!id"][A["!rel"]]),A}(r,d,a,g,A):function Eh(r,s,a,d,g){if(!r)return r;d||(d={"!id":{}});var T,A={"!type":"chart","!drawel":null,"!rel":""},R=r.match(yg);return R&&jf(R[0],0,g,a),(T=r.match(/drawing r:id="(.*?)"/))&&(A["!rel"]=T[1]),d["!id"][A["!rel"]]&&(A["!drawel"]=d["!id"][A["!rel"]]),A}(r,0,a,g,A)}(fe,s,g,L,A[d],V))||!Ae["!drawel"])break;var qe=Tr(Ae["!drawel"].Target,s),de=uc(qe),Ne=function po(r,s){if(!r)return"??";var a=(r.match(/<c:chart [^>]*r:id="([^"]*)"/)||["",""])[1];return s["!id"][a].Target}(zi(r,qe,!0),Zc(zi(r,de,!0),qe)),ze=Tr(Ne,qe),et=uc(ze);Ae=function Ih(r,s,a,d,g,A){var T=A||{"!type":"chart"};if(!r)return A;var R=0,L=0,V="A",X={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(r.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm)||[]).forEach(function(pe){var fe=function Nh(r){var d,s=[],a=r.match(/^<c:numCache>/);(r.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/gm)||[]).forEach(function(A){var T=A.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/);T&&(s[+T[1]]=a?+T[2]:T[2])});var g=ao((r.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/)||["","General"])[1]);return(r.match(/<c:f>(.*?)<\/c:f>/gm)||[]).forEach(function(A){d=A.replace(/<.*?>/g,"")}),[s,g,d]}(pe);X.s.r=X.s.c=0,X.e.c=R,V=Uo(R),fe[0].forEach(function(Ae,qe){T[V+Zo(qe)]={t:"n",v:Ae,z:fe[1]},L=qe}),X.e.r<L&&(X.e.r=L),++R}),R>0&&(T["!ref"]=Li(X)),T}(zi(r,ze,!0),0,0,Zc(zi(r,et,!0),ze),0,Ae);break;case"macro":Ae=function iC(r,s,a,d,g,A,T,R){return s.slice(-4),{"!type":"macro"}}(0,s);break;case"dialog":Ae=function m0(r,s,a,d,g,A,T,R){return s.slice(-4),{"!type":"dialog"}}(0,s);break;default:throw new Error("Unrecognized sheet type "+R)}T[d]=Ae;var Ve=[];A&&A[d]&&Ro(A[d]).forEach(function(Dt){var Ht="";if(A[d][Dt].Type==ji.CMNT){Ht=Tr(A[d][Dt].Target,s);var Rt=function sC(r,s,a){return".bin"===s.slice(-4)?function Qp(r,s){var a=[],d=[],g={},A=!1;return we(r,function(R,L,V){switch(V){case 632:d.push(R);break;case 635:g=R;break;case 637:g.t=R.t,g.h=R.h,g.r=R.r;break;case 636:if(g.author=d[g.iauthor],delete g.iauthor,s.sheetRows&&g.rfx&&s.sheetRows<=g.rfx.r)break;g.t||(g.t=""),delete g.rfx,a.push(g);break;case 3072:case 37:case 38:break;case 35:A=!0;break;case 36:A=!1;break;default:if(!L.T&&(!A||s.WTF))throw new Error("Unexpected record 0x"+V.toString(16))}}),a}(r,a):function Pf(r,s){if(r.match(/<(?:\w+:)?comments *\/>/))return[];var a=[],d=[],g=r.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);g&&g[1]&&g[1].split(/<\/\w*:?author>/).forEach(function(T){if(""!==T&&""!==T.trim()){var R=T.match(/<(?:\w+:)?author[^>]*>(.*)/);R&&a.push(R[1])}});var A=r.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/);return A&&A[1]&&A[1].split(/<\/\w*:?comment>/).forEach(function(T){if(""!==T&&""!==T.trim()){var R=T.match(/<(?:\w+:)?comment[^>]*>/);if(R){var L=si(R[0]),V={author:L.authorId&&a[L.authorId]||"sheetjsghost",ref:L.ref,guid:L.guid},X=Go(L.ref);if(!(s.sheetRows&&s.sheetRows<=X.r)){var pe=T.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/),fe=!!pe&&!!pe[1]&&Cd(pe[1])||{r:"",t:"",h:""};V.r=fe.r,"<t></t>"==fe.r&&(fe.t=fe.h=""),V.t=(fe.t||"").replace(/\r\n/g,"\n").replace(/\r/g,"\n"),s.cellHTML&&(V.h=fe.h),d.push(V)}}}}),d}(r,a)}(Oi(r,Ht,!0),Ht,L);if(!Rt||!Rt.length)return;ia(Ae,Rt,!1)}A[d][Dt].Type==ji.TCMNT&&(Ht=Tr(A[d][Dt].Target,s),Ve=Ve.concat(function Zf(r,s){var a=[],d=!1,g={},A=0;return r.replace(Vo,function(R,L){var V=si(R);switch(Gr(V[0])){case"<?xml":case"<ThreadedComments":case"</ThreadedComments>":case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<threadedComment":g={author:V.personId,guid:V.id,ref:V.ref,T:1};break;case"</threadedComment>":null!=g.t&&a.push(g);break;case"<text>":case"<text":A=L+R.length;break;case"</text>":g.t=r.slice(A,L).replace(/\r\n/g,"\n").replace(/\r/g,"\n");break;case"<mentions":case"<mentions>":case"<ext":d=!0;break;case"</mentions>":case"</ext>":d=!1;break;default:if(!d&&s.WTF)throw new Error("unrecognized "+V[0]+" in threaded comments")}return R}),a}(Oi(r,Ht,!0),L)))}),Ve&&Ve.length&&ia(Ae,Ve,!0,L.people||[])}catch(Dt){if(L.WTF)throw Dt}}function It(r){return"/"==r.charAt(0)?r.slice(1):r}function ri(r,s){if(ha(),D(s=s||{}),Er(r,"META-INF/manifest.xml")||Er(r,"objectdata.xml"))return function P0(r,s){s=s||{},Er(r,"META-INF/manifest.xml")&&function Vc(r,s){for(var d,g,a=ns(r);d=Pa.exec(a);)switch(d[3]){case"manifest":break;case"file-entry":if("/"==(g=si(d[0],!1)).path&&g.type!==qc)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(s&&s.WTF)throw d}}(Oi(r,"META-INF/manifest.xml"),s);var a=zi(r,"content.xml");if(!a)throw new Error("Missing content.xml in ODS / UOF file");var d=b0(ho(a),s);return Er(r,"meta.xml")&&(d.Props=rs(Oi(r,"meta.xml"))),d}(r,s);if(Er(r,"Index/Document.iwa")){if(typeof Uint8Array>"u")throw new Error("NUMBERS file parsing requires Uint8Array support");if(r.FileIndex)return Rg(r);var a=di.utils.cfb_new();return sl(r).forEach(function(Ti){!function Fi(r,s,a){if(r.FullPaths){var d;if("string"==typeof a)return d=Qn?Kn(a):function bn(r){for(var s=[],a=0,d=r.length+250,g=xi(r.length+255),A=0;A<r.length;++A){var T=r.charCodeAt(A);if(T<128)g[a++]=T;else if(T<2048)g[a++]=192|T>>6&31,g[a++]=128|63&T;else if(T>=55296&&T<57344){T=64+(1023&T);var R=1023&r.charCodeAt(++A);g[a++]=240|T>>8&7,g[a++]=128|T>>2&63,g[a++]=128|R>>6&15|(3&T)<<4,g[a++]=128|63&R}else g[a++]=224|T>>12&15,g[a++]=128|T>>6&63,g[a++]=128|63&T;a>d&&(s.push(g.slice(0,a)),a=0,g=xi(65535),d=65530)}return s.push(g.slice(0,a)),$e(s)}(a),di.utils.cfb_add(r,s,d);di.utils.cfb_add(r,s,a)}else r.file(s,a)}(a,Ti,wl(r,Ti))}),Rg(a)}if(!Er(r,"[Content_Types].xml"))throw Er(r,"index.xml.gz")?new Error("Unsupported NUMBERS 08 file"):Er(r,"index.xml")?new Error("Unsupported NUMBERS 09 file"):new Error("Unsupported ZIP file");var T,R,d=sl(r),g=function sm(r){var s={workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""};if(!r||!r.match)return s;var a={};if((r.match(Vo)||[]).forEach(function(d){var g=si(d);switch(g[0].replace(cl,"<")){case"<?xml":break;case"<Types":s.xmlns=g["xmlns"+(g[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":a[g.Extension]=g.ContentType;break;case"<Override":void 0!==s[au[g.ContentType]]&&s[au[g.ContentType]].push(g.PartName)}}),s.xmlns!==Ho.CT)throw new Error("Unknown Namespace: "+s.xmlns);return s.calcchain=s.calcchains.length>0?s.calcchains[0]:"",s.sst=s.strs.length>0?s.strs[0]:"",s.style=s.styles.length>0?s.styles[0]:"",s.defaults=a,delete s.calcchains,s}(zi(r,"[Content_Types].xml")),A=!1;if(0===g.workbooks.length&&Oi(r,R="xl/workbook.xml",!0)&&g.workbooks.push(R),0===g.workbooks.length){if(!Oi(r,R="xl/workbook.bin",!0))throw new Error("Could not find workbook");g.workbooks.push(R),A=!0}"bin"==g.workbooks[0].slice(-3)&&(A=!0);var L={},V={};if(!s.bookSheets&&!s.bookProps){if(Bp=[],g.sst)try{Bp=function aC(r,s,a){return".bin"===s.slice(-4)?function K_(r,s){var a=[],d=!1;return we(r,function(A,T,R){switch(R){case 159:a.Count=A[0],a.Unique=A[1];break;case 19:a.push(A);break;case 160:return!0;case 35:d=!0;break;case 36:d=!1;break;default:if(!d||s.WTF)throw new Error("Unexpected record 0x"+R.toString(16))}}),a}(r,a):function $_(r,s){var a=[],d="";if(!r)return a;var g=r.match(V_);if(g){d=g[2].replace(j_,"").split(H_);for(var A=0;A!=d.length;++A){var T=Cd(d[A].trim(),s);null!=T&&(a[a.length]=T)}g=si(g[1]),a.Count=g.count,a.Unique=g.uniqueCount}return a}(r,a)}(Oi(r,It(g.sst)),g.sst,s)}catch(Ti){if(s.WTF)throw Ti}s.cellStyles&&g.themes.length&&(L=function rC(r,s,a){return ki(r,a)}(zi(r,g.themes[0].replace(/^\//,""),!0)||"",0,s)),g.style&&(V=function oC(r,s,a,d){return".bin"===s.slice(-4)?function Mp(r,s,a){var d={NumberFmt:[]};for(var g in Et)d.NumberFmt[g]=Et[g];d.CellXf=[],d.Fonts=[];var A=[],T=!1;return we(r,function(L,V,X){switch(X){case 44:d.NumberFmt[L[0]]=L[1],Zr(L[1],L[0]);break;case 43:d.Fonts.push(L),null!=L.color.theme&&s&&s.themeElements&&s.themeElements.clrScheme&&(L.color.rgb=zm(s.themeElements.clrScheme[L.color.theme].rgb,L.color.tint||0));break;case 1025:case 45:case 46:case 48:case 507:case 572:case 475:case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 47:617==A[A.length-1]&&d.CellXf.push(L);break;case 35:T=!0;break;case 36:T=!1;break;case 37:A.push(X),T=!0;break;case 38:A.pop(),T=!1;break;default:if(V.T>0)A.push(X);else if(V.T<0)A.pop();else if(!T||a.WTF&&37!=A[A.length-1])throw new Error("Unexpected record 0x"+X.toString(16))}}),d}(r,a,d):qp(r,a,d)}(Oi(r,It(g.style)),g.style,L,s))}g.links.map(function(Ti){try{return Zc(zi(r,uc(It(Ti))),Ti),function cC(r,s,a,d){return".bin"===a.slice(-4)?function Im(r,s,a,d){if(!r)return r;var g=d||{},A=!1;we(r,function(L,V,X){switch(X){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:A=!0;break;case 36:A=!1;break;default:if(!V.T&&(!A||g.WTF))throw new Error("Unexpected record 0x"+X.toString(16))}},g)}(r,0,0,d):void 0}(Oi(r,It(Ti)),0,Ti,s)}catch{}});var X=function eC(r,s,a){return".bin"===s.slice(-4)?function jh(r,s){var a={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},d=[],g=!1;s||(s={}),s.biff=12;var A=[],T=[[]];return T.SheetNames=[],T.XTI=[],Kf[16]={n:"BrtFRTArchID$",f:Vh},we(r,function(L,V,X){switch(X){case 156:T.SheetNames.push(L.name),a.Sheets.push(L);break;case 153:a.WBProps=L;break;case 39:null!=L.Sheet&&(s.SID=L.Sheet),L.Ref=jl(L.Ptg,0,null,T,s),delete s.SID,delete L.Ptg,A.push(L);break;case 1036:case 361:case 2071:case 158:case 143:case 664:case 353:case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:case 16:break;case 357:case 358:case 355:case 667:T[0].length?T.push([X,L]):T[0]=[X,L],T[T.length-1].XTI=[];break;case 362:0===T.length&&(T[0]=[],T[0].XTI=[]),T[T.length-1].XTI=T[T.length-1].XTI.concat(L),T.XTI=T.XTI.concat(L);break;case 35:case 37:d.push(X),g=!0;break;case 36:case 38:d.pop(),g=!1;break;default:if(!V.T&&(!g||s.WTF&&37!=d[d.length-1]&&35!=d[d.length-1]))throw new Error("Unexpected record 0x"+X.toString(16))}},s),a0(a),a.Names=A,a.supbooks=T,a}(r,a):function Lh(r,s){if(!r)throw new Error("Could not find file");var a={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},d=!1,g="xmlns",A={},T=0;if(r.replace(Vo,function(L,V){var X=si(L);switch(Gr(X[0])){case"<?xml":case"</workbook>":case"<fileVersion/>":case"</fileVersion>":case"<fileSharing":case"<fileSharing/>":case"</workbookPr>":case"<workbookProtection":case"<workbookProtection/>":case"<bookViews":case"<bookViews>":case"</bookViews>":case"</workbookView>":case"<sheets":case"<sheets>":case"</sheets>":case"</sheet>":case"<functionGroups":case"<functionGroups/>":case"<functionGroup":case"<externalReferences":case"</externalReferences>":case"<externalReferences>":case"<externalReference":case"<definedNames/>":case"<definedName/>":case"</calcPr>":case"<oleSize":case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":case"<customWorkbookView":case"</customWorkbookView>":case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":case"<pivotCache":case"<smartTagPr":case"<smartTagPr/>":case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":case"<smartTagType":case"<webPublishing":case"<webPublishing/>":case"<fileRecoveryPr":case"<fileRecoveryPr/>":case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":case"<webPublishObject":case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":case"<ArchID":case"<revisionPtr":break;case"<workbook":L.match(Jh)&&(g="xmlns"+L.match(/<(\w+):/)[1]),a.xmlns=X[g];break;case"<fileVersion":delete X[0],a.AppVersion=X;break;case"<workbookPr":case"<workbookPr/>":J1.forEach(function(pe){if(null!=X[pe[0]])switch(pe[2]){case"bool":a.WBProps[pe[0]]=Po(X[pe[0]]);break;case"int":a.WBProps[pe[0]]=parseInt(X[pe[0]],10);break;default:a.WBProps[pe[0]]=X[pe[0]]}}),X.codeName&&(a.WBProps.CodeName=ho(X.codeName));break;case"<workbookView":case"<workbookView/>":delete X[0],a.WBView.push(X);break;case"<sheet":switch(X.state){case"hidden":X.Hidden=1;break;case"veryHidden":X.Hidden=2;break;default:X.Hidden=0}delete X.state,X.name=ao(ho(X.name)),delete X[0],a.Sheets.push(X);break;case"<definedNames>":case"<definedNames":case"<ext":case"<AlternateContent":case"<AlternateContent>":d=!0;break;case"</definedNames>":case"</ext>":case"</AlternateContent>":d=!1;break;case"<definedName":(A={}).Name=ho(X.name),X.comment&&(A.Comment=X.comment),X.localSheetId&&(A.Sheet=+X.localSheetId),Po(X.hidden||"0")&&(A.Hidden=!0),T=V+L.length;break;case"</definedName>":A.Ref=ao(ho(r.slice(T,V))),a.Names.push(A);break;case"<calcPr":case"<calcPr/>":delete X[0],a.CalcPr=X;break;default:if(!d&&s.WTF)throw new Error("unrecognized "+X[0]+" in workbook")}return L}),-1===ma.indexOf(a.xmlns))throw new Error("Unknown Namespace: "+a.xmlns);return a0(a),a}(r,a)}(Oi(r,It(g.workbooks[0])),g.workbooks[0],s),pe={},fe="";g.coreprops.length&&((fe=Oi(r,It(g.coreprops[0]),!0))&&(pe=rs(fe)),0!==g.extprops.length&&(fe=Oi(r,It(g.extprops[0]),!0))&&function um(r,s,a){var d={};s||(s={}),r=ho(r),as.forEach(function(g){var A=(r.match(es(g[0]))||[])[1];switch(g[2]){case"string":A&&(s[g[1]]=ao(A));break;case"bool":s[g[1]]="true"===A;break;case"raw":var T=r.match(new RegExp("<"+g[0]+"[^>]*>([\\s\\S]*?)</"+g[0]+">"));T&&T.length>0&&(d[g[1]]=T[1])}}),d.HeadingPairs&&d.TitlesOfParts&&uu(d.HeadingPairs,d.TitlesOfParts,s,a)}(fe,pe,s));var Ae={};(!s.bookSheets||s.bookProps)&&0!==g.custprops.length&&(fe=zi(r,It(g.custprops[0]),!0))&&(Ae=function wu(r,s){var a={},d="",g=r.match(mm);if(g)for(var A=0;A!=g.length;++A){var T=g[A],R=si(T);switch(R[0]){case"<?xml":case"<Properties":break;case"<property":d=ao(R.name);break;case"</property>":d=null;break;default:if(0===T.indexOf("<vt:")){var L=T.split(">"),V=L[0].slice(4),X=L[1];switch(V){case"lpstr":case"bstr":case"lpwstr":case"cy":case"error":a[d]=ao(X);break;case"bool":a[d]=Po(X);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":a[d]=parseInt(X,10);break;case"r4":case"r8":case"decimal":a[d]=parseFloat(X);break;case"filetime":case"date":a[d]=Un(X);break;default:if("/"==V.slice(-1))break;s.WTF&&typeof console<"u"&&console.warn("Unexpected",T,V,L)}}else if("</"!==T.slice(0,2)&&s.WTF)throw new Error(T)}}return a}(fe,s));var qe={};if((s.bookSheets||s.bookProps)&&(X.Sheets?T=X.Sheets.map(function($n){return $n.name}):pe.Worksheets&&pe.SheetNames.length>0&&(T=pe.SheetNames),s.bookProps&&(qe.Props=pe,qe.Custprops=Ae),s.bookSheets&&typeof T<"u"&&(qe.SheetNames=T),s.bookSheets?qe.SheetNames:s.bookProps))return qe;T={};var de={};s.bookDeps&&g.calcchain&&(de=function lC(r,s,a){return".bin"===s.slice(-4)?function bf(r,s,a){var d=[];return we(r,function(T,R,L){if(63===L)d.push(T);else if(!R.T)throw new Error("Unexpected record 0x"+L.toString(16))}),d}(r):function Tf(r){var s=[];if(!r)return s;var a=1;return(r.match(Vo)||[]).forEach(function(d){var g=si(d);switch(g[0]){case"<?xml":case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete g[0],g.i?a=g.i:g.i=a,s.push(g)}}),s}(r)}(Oi(r,It(g.calcchain)),g.calcchain));var et,Ve,Ne=0,ze={},Dt=X.Sheets;pe.Worksheets=Dt.length,pe.SheetNames=[];for(var Ht=0;Ht!=Dt.length;++Ht)pe.SheetNames[Ht]=Dt[Ht].name;var Rt=A?"bin":"xml",ct=g.workbooks[0].lastIndexOf("/"),Jt=(g.workbooks[0].slice(0,ct+1)+"_rels/"+g.workbooks[0].slice(ct+1)+".rels").replace(/^\//,"");Er(r,Jt)||(Jt="xl/_rels/workbook."+Rt+".rels");var Ot=Zc(zi(r,Jt,!0),Jt.replace(/_rels.*/,"s5s"));(g.metadata||[]).length>=1&&(s.xlmeta=function uC(r,s,a){return".bin"===s.slice(-4)?function jp(r,s,a){var d={Types:[],Cell:[],Value:[]},g=a||{},A=[],T=!1,R=2;return we(r,function(L,V,X){switch(X){case 335:d.Types.push({name:L.name});break;case 51:L.forEach(function(pe){1==R?d.Cell.push({type:d.Types[pe[0]-1].name,index:pe[1]}):0==R&&d.Value.push({type:d.Types[pe[0]-1].name,index:pe[1]})});break;case 337:R=L?1:0;break;case 338:R=2;break;case 35:A.push(X),T=!0;break;case 36:A.pop(),T=!1;break;default:if(!V.T&&(!T||g.WTF&&35!=A[A.length-1]))throw new Error("Unexpected record 0x"+X.toString(16))}}),d}(r,0,a):function Af(r,s,a){var d={Types:[],Cell:[],Value:[]};if(!r)return d;var T,g=!1,A=2;return r.replace(Vo,function(R){var L=si(R);switch(Gr(L[0])){case"<?xml":case"<metadata":case"</metadata>":case"<metadataTypes":case"</metadataTypes>":case"</metadataType>":case"</futureMetadata>":case"<bk>":case"</bk>":case"</rc>":case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<metadataType":d.Types.push({name:L.name});break;case"<futureMetadata":for(var V=0;V<d.Types.length;++V)d.Types[V].name==L.name&&(T=d.Types[V]);break;case"<rc":1==A?d.Cell.push({type:d.Types[L.t-1].name,index:+L.v}):0==A&&d.Value.push({type:d.Types[L.t-1].name,index:+L.v});break;case"<cellMetadata":A=1;break;case"</cellMetadata>":case"</valueMetadata>":A=2;break;case"<valueMetadata":A=0;break;case"<ext":g=!0;break;case"</ext>":g=!1;break;case"<rvb":if(!T)break;T.offsets||(T.offsets=[]),T.offsets.push(+L.i);break;default:if(!g&&a.WTF)throw new Error("unrecognized "+L[0]+" in metadata")}return R}),d}(r,0,a)}(Oi(r,It(g.metadata[0])),g.metadata[0],s)),(g.people||[]).length>=1&&(s.people=function Sf(r,s){var a=[],d=!1;return r.replace(Vo,function(A){var T=si(A);switch(Gr(T[0])){case"<?xml":case"<personList":case"</personList>":case"</person>":case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<person":a.push({name:T.displayname,id:T.id});break;case"<ext":d=!0;break;case"</ext>":d=!1;break;default:if(!d&&s.WTF)throw new Error("unrecognized "+T[0]+" in threaded comments")}return A}),a}(Oi(r,It(g.people[0])),s)),Ot&&(Ot=function j(r,s){if(!r)return 0;try{r=s.map(function(d){return d.id||(d.id=d.strRelID),[d.name,r["!id"][d.id].Target,I(r["!id"][d.id].Type)]})}catch{return null}return r&&0!==r.length?r:null}(Ot,X.Sheets));var cn=Oi(r,"xl/worksheets/sheet.xml",!0)?1:0;e:for(Ne=0;Ne!=pe.Worksheets;++Ne){var un="sheet";if(Ot&&Ot[Ne]?(et="xl/"+Ot[Ne][1].replace(/[\/]?xl\//,""),Er(r,et)||(et=Ot[Ne][1]),Er(r,et)||(et=Jt.replace(/_rels\/.*$/,"")+Ot[Ne][1]),un=Ot[Ne][2]):et=(et="xl/worksheets/sheet"+(Ne+1-cn)+"."+Rt).replace(/sheet0\./,"sheet."),Ve=et.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),s&&null!=s.sheets)switch(typeof s.sheets){case"number":if(Ne!=s.sheets)continue e;break;case"string":if(pe.SheetNames[Ne].toLowerCase()!=s.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(s.sheets)){for(var Qt=!1,Hn=0;Hn!=s.sheets.length;++Hn)"number"==typeof s.sheets[Hn]&&s.sheets[Hn]==Ne&&(Qt=1),"string"==typeof s.sheets[Hn]&&s.sheets[Hn].toLowerCase()==pe.SheetNames[Ne].toLowerCase()&&(Qt=1);if(!Qt)continue e}}be(r,et,Ve,pe.SheetNames[Ne],Ne,ze,T,un,s,X,L,V)}return qe={Directory:g,Workbook:X,Props:pe,Custprops:Ae,Deps:de,Sheets:T,SheetNames:pe.SheetNames,Strings:Bp,Styles:V,Themes:L,SSF:ro(Et)},s&&s.bookFiles&&(r.files?(qe.keys=d,qe.files=r.files):(qe.keys=[],qe.files={},r.FullPaths.forEach(function(Ti,$n){Ti=Ti.replace(/^Root Entry[\/]/,""),qe.keys.push(Ti),qe.files[Ti]=r.FileIndex[$n]}))),s&&s.bookVBA&&(g.vba.length>0?qe.vbaraw=Oi(r,It(g.vba[0]),!0):g.defaults&&g.defaults.bin===Jr&&(qe.vbaraw=Oi(r,"xl/vbaProject.bin",!0))),qe}function Mi(r,s){var a=s||{},d="Workbook",g=di.find(r,d);try{if(!(g=di.find(r,d="/!DataSpaces/Version"))||!g.content)throw new Error("ECMA-376 Encrypted file missing "+d);if(function ep(r){var s={};s.id=r.read_shift(0,"lpp4"),s.R=Mc(r,4),s.U=Mc(r,4),s.W=Mc(r,4)}(g.content),!(g=di.find(r,d="/!DataSpaces/DataSpaceMap"))||!g.content)throw new Error("ECMA-376 Encrypted file missing "+d);var A=function np(r){var s=[];r.l+=4;for(var a=r.read_shift(4);a-- >0;)s.push(tp(r));return s}(g.content);if(1!==A.length||1!==A[0].comps.length||0!==A[0].comps[0].t||"StrongEncryptionDataSpace"!==A[0].name||"EncryptedPackage"!==A[0].comps[0].v)throw new Error("ECMA-376 Encrypted file bad "+d);if(!(g=di.find(r,d="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace"))||!g.content)throw new Error("ECMA-376 Encrypted file missing "+d);var T=function ip(r){var s=[];r.l+=4;for(var a=r.read_shift(4);a-- >0;)s.push(r.read_shift(0,"lpp4"));return s}(g.content);if(1!=T.length||"StrongEncryptionTransform"!=T[0])throw new Error("ECMA-376 Encrypted file bad "+d);if(!(g=di.find(r,d="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary"))||!g.content)throw new Error("ECMA-376 Encrypted file missing "+d);!function op(r){var s=function Bl(r){var s={};return r.read_shift(4),r.l+=4,s.id=r.read_shift(0,"lpp4"),s.name=r.read_shift(0,"lpp4"),s.R=Mc(r,4),s.U=Mc(r,4),s.W=Mc(r,4),s}(r);if(s.ename=r.read_shift(0,"8lpp4"),s.blksz=r.read_shift(4),s.cmode=r.read_shift(4),4!=r.read_shift(4))throw new Error("Bad !Primary record");return s}(g.content)}catch{}if(!(g=di.find(r,d="/EncryptionInfo"))||!g.content)throw new Error("ECMA-376 Encrypted file missing "+d);var R=function n_(r){var s=Mc(r);switch(s.Minor){case 2:return[s.Minor,rp(r)];case 3:return[s.Minor,ap()];case 4:return[s.Minor,sp(r)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+s.Minor)}(g.content);if(!(g=di.find(r,d="/EncryptedPackage"))||!g.content)throw new Error("ECMA-376 Encrypted file missing "+d);if(4==R[0]&&typeof decrypt_agile<"u")return decrypt_agile(R[1],g.content,a.password||"",a);if(2==R[0]&&typeof decrypt_std76<"u")return decrypt_std76(R[1],g.content,a.password||"",a);throw new Error("File is password-protected")}function Tx(r,s){var a="";switch((s||{}).type||"base64"){case"buffer":case"array":return[r[0],r[1],r[2],r[3],r[4],r[5],r[6],r[7]];case"base64":a=pi(r.slice(0,12));break;case"binary":a=r;break;default:throw new Error("Unrecognized type "+(s&&s.type||"undefined"))}return[a.charCodeAt(0),a.charCodeAt(1),a.charCodeAt(2),a.charCodeAt(3),a.charCodeAt(4),a.charCodeAt(5),a.charCodeAt(6),a.charCodeAt(7)]}function Ux(r,s){var a=0;e:for(;a<r.length;)switch(r.charCodeAt(a)){case 10:case 13:case 32:++a;break;case 60:return Y1(r.slice(a),s);default:break e}return Il.to_workbook(r,s)}function bx(r,s,a,d){return d?(a.type="string",Il.to_workbook(r,a)):Il.to_workbook(s,a)}function R0(r,s){Zt();var a=s||{};if(typeof ArrayBuffer<"u"&&r instanceof ArrayBuffer)return R0(new Uint8Array(r),((a=ro(a)).type="array",a));typeof Uint8Array<"u"&&r instanceof Uint8Array&&!a.type&&(a.type=typeof Deno<"u"?"buffer":"array");var g,d=r,A=!1;if(a.cellStyles&&(a.cellNF=!0,a.sheetStubs=!0),x_={},a.dateNF&&(x_.dateNF=a.dateNF),a.type||(a.type=Qn&&Buffer.isBuffer(r)?"buffer":"base64"),"file"==a.type&&(a.type=Qn?"buffer":"binary",d=function Ka(r){if(typeof Yr<"u")return Yr.readFileSync(r);if(typeof Deno<"u")return Deno.readFileSync(r);if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var s=File(r);s.open("r"),s.encoding="binary";var a=s.read();return s.close(),a}catch(d){if(!d.message||!d.message.match(/onstruct/))throw d}throw new Error("Cannot access file "+r)}(r),typeof Uint8Array<"u"&&!Qn&&(a.type="array")),"string"==a.type&&(A=!0,a.type="binary",a.codepage=65001,d=function Xx(r){return r.match(/[^\x00-\x7F]/)?Kr(r):r}(r)),"array"==a.type&&typeof Uint8Array<"u"&&r instanceof Uint8Array&&typeof ArrayBuffer<"u"){var T=new ArrayBuffer(3),R=new Uint8Array(T);if(R.foo="bar",!R.foo)return(a=ro(a)).type="array",R0(vt(d),a)}switch((g=Tx(d,a))[0]){case 208:if(207===g[1]&&17===g[2]&&224===g[3]&&161===g[4]&&177===g[5]&&26===g[6]&&225===g[7])return function Hx(r,s){return di.find(r,"EncryptedPackage")?Mi(r,s):f0(r,s)}(di.read(d,a),a);break;case 9:if(g[1]<=8)return f0(d,a);break;case 60:return Y1(d,a);case 73:if(73===g[1]&&42===g[2]&&0===g[3])throw new Error("TIFF Image File is not a spreadsheet");if(68===g[1])return function er(r,s){var a=s||{},d=!!a.WTF;a.WTF=!0;try{var g=Pm.to_workbook(r,a);return a.WTF=d,g}catch(A){if(a.WTF=d,!A.message.match(/SYLK bad record ID/)&&d)throw A;return Il.to_workbook(r,s)}}(d,a);break;case 84:if(65===g[1]&&66===g[2]&&76===g[3])return fd.to_workbook(d,a);break;case 80:return 75===g[1]&&g[2]<9&&g[3]<9?function $x(r,s){var d=r,g=s||{};return g.type||(g.type=Qn&&Buffer.isBuffer(r)?"buffer":"base64"),ri(Wa(d,g),g)}(d,a):bx(r,d,a,A);case 239:return 60===g[3]?Y1(d,a):bx(r,d,a,A);case 255:if(254===g[1])return function Wx(r,s){var a=r;return"base64"==s.type&&(a=pi(a)),a=Mt.utils.decode(1200,a.slice(2),"str"),s.type="binary",Ux(a,s)}(d,a);if(0===g[1]&&2===g[2]&&0===g[3])return Xc.to_workbook(d,a);break;case 0:if(0===g[1]&&(g[2]>=2&&0===g[3]||0===g[2]&&(8===g[3]||9===g[3])))return Xc.to_workbook(d,a);break;case 3:case 131:case 139:case 140:return Bm.to_workbook(d,a);case 123:if(92===g[1]&&114===g[2]&&116===g[3])return o_.to_workbook(d,a);break;case 10:case 13:case 32:return function Kx(r,s){var a="",d=Tx(r,s);switch(s.type){case"base64":a=pi(r);break;case"binary":a=r;break;case"buffer":a=r.toString("binary");break;case"array":a=wi(r);break;default:throw new Error("Unrecognized type "+s.type)}return 239==d[0]&&187==d[1]&&191==d[2]&&(a=ho(a)),s.type="binary",Ux(a,s)}(d,a);case 137:if(80===g[1]&&78===g[2]&&71===g[3])throw new Error("PNG Image File is not a spreadsheet")}return Hd.indexOf(g[0])>-1&&g[2]<=12&&g[3]<=31?Bm.to_workbook(d,a):bx(r,d,a,A)}function Lx(r,s,a,d,g,A,T,R){var L=Zo(a),V=R.defval,X=R.raw||!Object.prototype.hasOwnProperty.call(R,"raw"),pe=!0,fe=1===g?[]:{};if(1!==g)if(Object.defineProperty)try{Object.defineProperty(fe,"__rowNum__",{value:a,enumerable:!1})}catch{fe.__rowNum__=a}else fe.__rowNum__=a;if(!T||r[a])for(var Ae=s.s.c;Ae<=s.e.c;++Ae){var qe=T?r[a][Ae]:r[d[Ae]+L];if(void 0!==qe&&void 0!==qe.t){var de=qe.v;switch(qe.t){case"z":if(null==de)break;continue;case"e":de=0==de?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+qe.t)}if(null!=A[Ae]){if(null==de)if("e"==qe.t&&null===de)fe[A[Ae]]=null;else if(void 0!==V)fe[A[Ae]]=V;else{if(!X||null!==de)continue;fe[A[Ae]]=null}else fe[A[Ae]]=X&&("n"!==qe.t||"n"===qe.t&&!1!==R.rawNumbers)?de:kr(qe,de,R);null!=de&&(pe=!1)}}else{if(void 0===V)continue;null!=A[Ae]&&(fe[A[Ae]]=V)}}return{row:fe,isempty:pe}}function w0(r,s){if(null==r||null==r["!ref"])return[];var a={t:"n",v:0},d=0,g=1,A=[],T=0,R="",L={s:{r:0,c:0},e:{r:0,c:0}},V=s||{},X=null!=V.range?V.range:r["!ref"];switch(1===V.header?d=1:"A"===V.header?d=2:Array.isArray(V.header)?d=3:null==V.header&&(d=0),typeof X){case"string":L=so(X);break;case"number":(L=so(r["!ref"])).s.r=X;break;default:L=X}d>0&&(g=0);var pe=Zo(L.s.r),fe=[],Ae=[],qe=0,de=0,Ne=Array.isArray(r),ze=L.s.r,et=0,Ve={};Ne&&!r[ze]&&(r[ze]=[]);var Dt=V.skipHidden&&r["!cols"]||[],Ht=V.skipHidden&&r["!rows"]||[];for(et=L.s.c;et<=L.e.c;++et)if(!(Dt[et]||{}).hidden)switch(fe[et]=Uo(et),a=Ne?r[ze][et]:r[fe[et]+pe],d){case 1:A[et]=et-L.s.c;break;case 2:A[et]=fe[et];break;case 3:A[et]=V.header[et-L.s.c];break;default:if(null==a&&(a={w:"__EMPTY",t:"s"}),R=T=kr(a,null,V),de=Ve[T]||0){do{R=T+"_"+de++}while(Ve[R]);Ve[T]=de,Ve[R]=1}else Ve[T]=1;A[et]=R}for(ze=L.s.r+g;ze<=L.e.r;++ze)if(!(Ht[ze]||{}).hidden){var Rt=Lx(r,L,ze,fe,d,A,Ne,V);(!1===Rt.isempty||(1===d?!1!==V.blankrows:V.blankrows))&&(Ae[qe++]=Rt.row)}return Ae.length=qe,Ae}var Yx=/"/g;function Gx(r,s,a,d,g,A,T,R){for(var L=!0,V=[],X="",pe=Zo(a),fe=s.s.c;fe<=s.e.c;++fe)if(d[fe]){var Ae=R.dense?(r[a]||[])[fe]:r[d[fe]+pe];if(null==Ae)X="";else if(null!=Ae.v){L=!1,X=""+(R.rawNumbers&&"n"==Ae.t?Ae.v:kr(Ae,null,R));for(var qe=0,de=0;qe!==X.length;++qe)if((de=X.charCodeAt(qe))===g||de===A||34===de||R.forceQuotes){X='"'+X.replace(Yx,'""')+'"';break}"ID"==X&&(X='"ID"')}else null==Ae.f||Ae.F?X="":(L=!1,(X="="+Ae.f).indexOf(",")>=0&&(X='"'+X.replace(Yx,'""')+'"'));V.push(X)}return!1===R.blankrows&&L?null:V.join(T)}function qx(r,s){var a=[],d=s??{};if(null==r||null==r["!ref"])return"";var g=so(r["!ref"]),A=void 0!==d.FS?d.FS:",",T=A.charCodeAt(0),R=void 0!==d.RS?d.RS:"\n",L=R.charCodeAt(0),V=new RegExp(("|"==A?"\\|":A)+"+$"),X="",pe=[];d.dense=Array.isArray(r);for(var fe=d.skipHidden&&r["!cols"]||[],Ae=d.skipHidden&&r["!rows"]||[],qe=g.s.c;qe<=g.e.c;++qe)(fe[qe]||{}).hidden||(pe[qe]=Uo(qe));for(var de=0,Ne=g.s.r;Ne<=g.e.r;++Ne)(Ae[Ne]||{}).hidden||null!=(X=Gx(r,g,Ne,pe,T,L,A,d))&&(d.strip&&(X=X.replace(V,"")),(X||!1!==d.blankrows)&&a.push((de++?R:"")+X));return delete d.dense,a.join("")}function zx(r,s,a){var d=a||{},g=+!d.skipHeader,A=r||{},T=0,R=0;if(A&&null!=d.origin)if("number"==typeof d.origin)T=d.origin;else{var L="string"==typeof d.origin?Go(d.origin):d.origin;T=L.r,R=L.c}var V,X={s:{c:0,r:0},e:{c:R,r:T+s.length-1+g}};if(A["!ref"]){var pe=so(A["!ref"]);X.e.c=Math.max(X.e.c,pe.e.c),X.e.r=Math.max(X.e.r,pe.e.r),-1==T&&(X.e.r=(T=pe.e.r+1)+s.length-1+g)}else-1==T&&(T=0,X.e.r=s.length-1+g);var fe=d.header||[],Ae=0;s.forEach(function(de,Ne){Ro(de).forEach(function(ze){-1==(Ae=fe.indexOf(ze))&&(fe[Ae=fe.length]=ze);var et=de[ze],Ve="z",Dt="",Ht=yi({c:R+Ae,r:T+Ne+g});V=E(A,Ht),!et||"object"!=typeof et||et instanceof Date?("number"==typeof et?Ve="n":"boolean"==typeof et?Ve="b":"string"==typeof et?Ve="s":et instanceof Date?(Ve="d",d.cellDates||(Ve="n",et=So(et)),Dt=d.dateNF||Et[14]):null===et&&d.nullError&&(Ve="e",et=0),V?(V.t=Ve,V.v=et,delete V.w,delete V.R,Dt&&(V.z=Dt)):A[Ht]=V={t:Ve,v:et},Dt&&(V.z=Dt)):A[Ht]=et})}),X.e.c=Math.max(X.e.c,R+fe.length-1);var qe=Zo(T);if(g)for(Ae=0;Ae<fe.length;++Ae)A[Uo(Ae+R)+qe]={t:"s",v:fe[Ae]};return A["!ref"]=Li(X),A}function E(r,s,a){if("string"==typeof s){if(Array.isArray(r)){var d=Go(s);return r[d.r]||(r[d.r]=[]),r[d.r][d.c]||(r[d.r][d.c]={t:"z"})}return r[s]||(r[s]={t:"z"})}return E(r,yi("number"!=typeof s?s:{r:s,c:a||0}))}function k(r,s,a,d){var g=1;if(!a)for(;g<=65535&&-1!=r.SheetNames.indexOf(a="Sheet"+g);++g,a=void 0);if(!a||r.SheetNames.length>=65535)throw new Error("Too many worksheets");if(d&&r.SheetNames.indexOf(a)>=0){var A=a.match(/(^.*?)(\d+)$/);g=A&&+A[2]||0;var T=A&&A[1]||a;for(++g;g<=65535&&-1!=r.SheetNames.indexOf(a=T+g);++g);}if(function s0(r,s){if(r.length>31){if(s)return!1;throw new Error("Sheet names cannot exceed 31 chars")}var a=!0;return Fh.forEach(function(d){if(-1!=r.indexOf(d)){if(!s)throw new Error("Sheet name cannot contain : \\ / ? * [ ]");a=!1}}),a}(a),r.SheetNames.indexOf(a)>=0)throw new Error("Worksheet with name |"+a+"| already exists!");return r.SheetNames.push(a),r.Sheets[a]=s,a}function On(r,s,a){return s?(r.l={Target:s},a&&(r.l.Tooltip=a)):delete r.l,r}var Nd={encode_col:Uo,encode_row:Zo,encode_cell:yi,encode_range:Li,decode_col:Tc,decode_row:Mo,split_cell:function Yc(r){return r.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")},decode_cell:Go,decode_range:Wr,format_cell:kr,sheet_add_aoa:Bo,sheet_add_json:zx,sheet_add_dom:v0,aoa_to_sheet:Oo,json_to_sheet:function p(r,s){return zx(null,r,s)},table_to_sheet:A0,table_to_book:function rx(r,s){return Sa(A0(r,s),s)},sheet_to_csv:qx,sheet_to_txt:function Bx(r,s){s||(s={}),s.FS="\t",s.RS="\n";var a=qx(r,s);if(typeof Mt>"u"||"string"==s.type)return a;var d=Mt.utils.encode(1200,a,"str");return String.fromCharCode(255)+String.fromCharCode(254)+d},sheet_to_json:w0,sheet_to_html:function x0(r,s){var a=s||{},g=null!=a.footer?a.footer:h0,A=[null!=a.header?a.header:g0],T=Wr(r["!ref"]);a.dense=Array.isArray(r),A.push(function C0(r,s,a){return[].join("")+"<table"+(a&&a.id?' id="'+a.id+'"':"")+">"}(0,0,a));for(var R=T.s.r;R<=T.e.r;++R)A.push(ix(r,T,R,a));return A.push("</table>"+g),A.join("")},sheet_to_formulae:function o2(r){var a,s="",d="";if(null==r||null==r["!ref"])return[];var R,g=so(r["!ref"]),A="",T=[],L=[],V=Array.isArray(r);for(R=g.s.c;R<=g.e.c;++R)T[R]=Uo(R);for(var X=g.s.r;X<=g.e.r;++X)for(A=Zo(X),R=g.s.c;R<=g.e.c;++R)if(s=T[R]+A,d="",void 0!==(a=V?(r[X]||[])[R]:r[s])){if(null!=a.F){if(s=a.F,!a.f)continue;d=a.f,-1==s.indexOf(":")&&(s=s+":"+s)}if(null!=a.f)d=a.f;else{if("z"==a.t)continue;if("n"==a.t&&null!=a.v)d=""+a.v;else if("b"==a.t)d=a.v?"TRUE":"FALSE";else if(void 0!==a.w)d="'"+a.w;else{if(void 0===a.v)continue;d="s"==a.t?"'"+a.v:""+a.v}}L[L.length]=s+"="+d}return L},sheet_to_row_object_array:w0,sheet_get_cell:E,book_new:function S(){return{SheetNames:[],Sheets:{}}},book_append_sheet:k,book_set_sheet_visibility:function ae(r,s,a){r.Workbook||(r.Workbook={}),r.Workbook.Sheets||(r.Workbook.Sheets=[]);var d=function _(r,s){if("number"==typeof s){if(s>=0&&r.SheetNames.length>s)return s;throw new Error("Cannot find sheet # "+s)}if("string"==typeof s){var a=r.SheetNames.indexOf(s);if(a>-1)return a;throw new Error("Cannot find sheet name |"+s+"|")}throw new Error("Cannot find sheet |"+s+"|")}(r,s);switch(r.Workbook.Sheets[d]||(r.Workbook.Sheets[d]={}),a){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+a)}r.Workbook.Sheets[d].Hidden=a},cell_set_number_format:function Ue(r,s){return r.z=s,r},cell_set_hyperlink:On,cell_set_internal_link:function vr(r,s,a){return On(r,"#"+s,a)},cell_add_comment:function xc(r,s,a){r.c||(r.c=[]),r.c.push({t:s,a:a||"SheetJS"})},sheet_set_array_formula:function im(r,s,a,d){for(var g="string"!=typeof s?s:so(s),A="string"==typeof s?s:Li(s),T=g.s.r;T<=g.e.r;++T)for(var R=g.s.c;R<=g.e.c;++R){var L=E(r,T,R);L.t="n",L.F=A,delete L.v,T==g.s.r&&R==g.s.c&&(L.f=a,d&&(L.D=!0))}return r},consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}},O2=B(6274),c=B(4650),a2=B(5412),k2=B(2473),M2=B(7009),U2=B(5617),s2=B(1351),F2=B(3388),C2=B(852),x2=B(6944),Q2=B(8153),J2=B(8056),L2=B(6127),l2=B(3776),c2=B(7392),wg=B(7084),ig=B(8255),Og=B(9549),v2=B(284),O0=B(9602),A2=B(4385),u2=B(4859),m2=B(6257),Y2=B(6709),T2=B(2768);const G2=["stepper"],B2=["fileInput"],z2=["innerTables"],V2=["innerSort"];function j2(r,s){1&r&&c._uU(0,"Information du souscripteur ")}function H2(r,s){if(1&r&&(c.ynx(0),c.TgZ(1,"mat-option",38),c._uU(2),c.qZA(),c.BQk()),2&r){const a=s.$implicit;c.xp6(1),c.Q6J("value",a),c.xp6(1),c.hij(" ",a.description," ")}}function $2(r,s){1&r&&(c.TgZ(0,"div"),c._uU(1," ce champs est obligatoire"),c.qZA())}function K2(r,s){if(1&r&&(c.TgZ(0,"mat-error",45),c.YNc(1,$2,2,0,"div",32),c.qZA()),2&r){const a=c.oxw();c.xp6(1),c.Q6J("ngIf",a.formInfoSouscripteur.controls.typeClient.errors.required)}}function W2(r,s){1&r&&(c.TgZ(0,"div"),c._uU(1," ce champs est obligatoire"),c.qZA())}function X2(r,s){if(1&r&&(c.TgZ(0,"mat-error",45),c.YNc(1,W2,2,0,"div",32),c.qZA()),2&r){const a=c.oxw();c.xp6(1),c.Q6J("ngIf",a.formInfoSouscripteur.controls.nom.errors.required)}}function ev(r,s){1&r&&(c.TgZ(0,"div"),c._uU(1," ce champs est obligatoire"),c.qZA())}function tv(r,s){if(1&r&&(c.TgZ(0,"mat-error",45),c.YNc(1,ev,2,0,"div",32),c.qZA()),2&r){const a=c.oxw(2);c.xp6(1),c.Q6J("ngIf",a.formInfoSouscripteur.controls.prenom.errors.required)}}function nv(r,s){if(1&r&&(c.TgZ(0,"mat-form-field",10)(1,"mat-label"),c._uU(2,"Pr\xe9nom"),c.qZA(),c._UZ(3,"input",46),c.YNc(4,tv,2,1,"mat-error",13),c.qZA()),2&r){const a=c.oxw();c.xp6(4),c.Q6J("ngIf",a.formInfoSouscripteur.controls.prenom.errors)}}function iv(r,s){1&r&&(c.TgZ(0,"div"),c._uU(1," ce champs est obligatoire"),c.qZA())}function ov(r,s){1&r&&(c.TgZ(0,"div"),c._uU(1," L'age de l'assur\xe9 doit etre sup\xe9rieur \xe0 18 ans"),c.qZA())}function rv(r,s){1&r&&(c.TgZ(0,"div"),c._uU(1," L'age de l'assur\xe9 doit etre inf\xe9rieur \xe0 107 ans"),c.qZA())}function av(r,s){if(1&r&&(c.TgZ(0,"mat-error",45),c.YNc(1,iv,2,0,"div",32),c.YNc(2,ov,2,0,"div",32),c.YNc(3,rv,2,0,"div",32),c.qZA()),2&r){const a=c.oxw(2);c.xp6(1),c.Q6J("ngIf",a.formInfoSouscripteur.controls.dateNaissance.errors.required),c.xp6(1),c.Q6J("ngIf",a.formInfoSouscripteur.controls.dateNaissance.errors.ageInf18),c.xp6(1),c.Q6J("ngIf",a.formInfoSouscripteur.controls.dateNaissance.errors.ageSup107)}}function sv(r,s){if(1&r&&(c.TgZ(0,"mat-form-field",10)(1,"mat-label"),c._uU(2,"Date Naissance"),c.qZA(),c._UZ(3,"input",47)(4,"mat-datepicker-toggle",48)(5,"mat-datepicker",null,49),c.YNc(7,av,4,3,"mat-error",13),c.qZA()),2&r){const a=c.MAs(6),d=c.oxw();c.xp6(3),c.Q6J("matDatepicker",a),c.xp6(1),c.Q6J("for",a),c.xp6(3),c.Q6J("ngIf",d.formInfoSouscripteur.controls.dateNaissance.errors)}}function lv(r,s){1&r&&(c.TgZ(0,"div"),c._uU(1," ce champs est obligatoire"),c.qZA())}function cv(r,s){1&r&&(c.TgZ(0,"div",45),c._uU(1,"adresse email non conforme. "),c.qZA())}function uv(r,s){if(1&r&&(c.TgZ(0,"mat-error",45),c.YNc(1,lv,2,0,"div",32),c.YNc(2,cv,2,0,"div",13),c.qZA()),2&r){const a=c.oxw();c.xp6(1),c.Q6J("ngIf",a.formInfoSouscripteur.controls.email.errors.required),c.xp6(1),c.Q6J("ngIf",a.formInfoSouscripteur.controls.email.errors.pattern)}}function mv(r,s){if(1&r&&(c.ynx(0),c.TgZ(1,"mat-option",38),c._uU(2),c.qZA(),c.BQk()),2&r){const a=s.$implicit;c.xp6(1),c.Q6J("value",a),c.xp6(1),c.hij(" ",a," ")}}function dv(r,s){1&r&&(c.TgZ(0,"div"),c._uU(1," ce champs est obligatoire"),c.qZA())}function _v(r,s){if(1&r&&(c.TgZ(0,"mat-error",45),c.YNc(1,dv,2,0,"div",32),c.qZA()),2&r){const a=c.oxw();c.xp6(1),c.Q6J("ngIf",a.formInfoSouscripteur.controls.typeContact.errors.required)}}function pv(r,s){1&r&&(c.TgZ(0,"div"),c._uU(1," ce champs est obligatoire"),c.qZA())}function fv(r,s){1&r&&(c.TgZ(0,"div",45),c._uU(1,"ce num\xe9ro est invalide "),c.qZA())}function gv(r,s){if(1&r&&(c.TgZ(0,"mat-error",45),c.YNc(1,pv,2,0,"div",32),c.YNc(2,fv,2,0,"div",13),c.qZA()),2&r){const a=c.oxw();c.xp6(1),c.Q6J("ngIf",a.formInfoSouscripteur.controls.tel.errors.required),c.xp6(1),c.Q6J("ngIf",a.formInfoSouscripteur.controls.tel.errors.pattern)}}function hv(r,s){if(1&r&&(c.ynx(0),c.TgZ(1,"mat-option",38),c._uU(2),c.qZA(),c.BQk()),2&r){const a=s.$implicit;c.xp6(1),c.Q6J("value",a.idAgence),c.xp6(1),c.hij(" ",a.nomAgence," ")}}function Cv(r,s){1&r&&(c.TgZ(0,"div"),c._uU(1," ce champs est obligatoire"),c.qZA())}function xv(r,s){if(1&r&&(c.TgZ(0,"mat-error",45),c.YNc(1,Cv,2,0,"div",32),c.qZA()),2&r){const a=c.oxw();c.xp6(1),c.Q6J("ngIf",a.formInfoSouscripteur.controls.agence.errors.required)}}function vv(r,s){1&r&&c._uU(0,"Information du risque")}function Av(r,s){if(1&r&&(c.ynx(0),c.TgZ(1,"mat-option",38),c._uU(2),c.qZA(),c.BQk()),2&r){const a=s.$implicit;c.xp6(1),c.Q6J("value",a),c.xp6(1),c.hij(" ",a.description," ")}}function Tv(r,s){1&r&&(c.TgZ(0,"mat-error",45),c._uU(1," ce champs est obligatoire "),c.qZA())}function bv(r,s){if(1&r&&(c.TgZ(0,"mat-error",45),c._uU(1),c.qZA()),2&r){const a=c.oxw(2).$implicit,d=c.oxw(3);c.xp6(1),c.hij(" ",null==d.formParamRisque.get(a.formName).errors?null:d.formParamRisque.get(a.formName).errors.msg," ")}}function Pv(r,s){if(1&r){const a=c.EpF();c.TgZ(0,"mat-form-field",10)(1,"mat-label"),c._uU(2),c.qZA(),c.TgZ(3,"mat-select",61),c.NdJ("selectionChange",function(g){c.CHM(a);const A=c.oxw().$implicit,T=c.oxw(3);return c.KtG(T.getRelation(null==A.typeChamp?null:A.typeChamp.code,A.isParent,A.idParamRisque,g.value.idParam,A.formName))}),c.YNc(4,Av,3,2,"ng-container",12),c.qZA(),c.YNc(5,Tv,2,0,"mat-error",13),c.YNc(6,bv,2,1,"mat-error",13),c.qZA()}if(2&r){const a=c.oxw().$implicit,d=c.oxw(3);c.xp6(2),c.hij("",a.libelle,"00 "),c.xp6(1),c.s9C("formControlName",a.formName),c.xp6(1),c.Q6J("ngForOf",a.reponses),c.xp6(1),c.Q6J("ngIf",null==d.formParamRisque.get(a.formName).errors?null:d.formParamRisque.get(a.formName).errors.required),c.xp6(1),c.Q6J("ngIf",null==d.formParamRisque.get(a.formName).errors?null:d.formParamRisque.get(a.formName).errors.bloquant)}}function Zv(r,s){if(1&r&&(c.TgZ(0,"mat-option",38),c._uU(1),c.qZA()),2&r){const a=c.oxw().$implicit,d=c.oxw(2).$implicit;c.Q6J("value",a),c.xp6(1),c.hij(" ","P215"!=d.codeParam?a.description:a.nationalite," ")}}function qv(r,s){if(1&r&&(c.ynx(0),c.YNc(1,Zv,2,2,"mat-option",62),c.BQk()),2&r){const a=s.$implicit,d=c.oxw(2).$implicit;c.xp6(1),c.Q6J("ngIf","12"!==a.code&&"P182"===d.codeParam)}}function Sv(r,s){1&r&&(c.TgZ(0,"mat-error",45),c._uU(1," ce champs est obligatoire "),c.qZA())}function yv(r,s){if(1&r&&(c.TgZ(0,"mat-error",45),c._uU(1),c.qZA()),2&r){const a=c.oxw(2).$implicit,d=c.oxw(3);c.xp6(1),c.hij(" ",null==d.formParamRisque.get(a.formName).errors?null:d.formParamRisque.get(a.formName).errors.msg," ")}}function Nv(r,s){if(1&r){const a=c.EpF();c.TgZ(0,"mat-form-field",10)(1,"mat-label"),c._uU(2),c.qZA(),c.TgZ(3,"mat-select",61),c.NdJ("selectionChange",function(g){c.CHM(a);const A=c.oxw().$implicit,T=c.oxw(3);return c.KtG(T.getRelation(null==A.typeChamp?null:A.typeChamp.code,A.isParent,A.idParamRisque,g.value.id,A.formName,A.reponses,A.codeParam))}),c.YNc(4,qv,2,1,"ng-container",12),c.qZA(),c.YNc(5,Sv,2,0,"mat-error",13),c.YNc(6,yv,2,1,"mat-error",13),c.qZA()}if(2&r){const a=c.oxw().$implicit,d=c.oxw(3);c.xp6(2),c.hij("",a.libelle,"33 "),c.xp6(1),c.s9C("formControlName",a.formName),c.xp6(1),c.Q6J("ngForOf",a.reponses),c.xp6(1),c.Q6J("ngIf",null==d.formParamRisque.get(a.formName).errors?null:d.formParamRisque.get(a.formName).errors.required),c.xp6(1),c.Q6J("ngIf",null==d.formParamRisque.get(a.formName).errors?null:d.formParamRisque.get(a.formName).errors.bloquant)}}function Iv(r,s){1&r&&(c.TgZ(0,"mat-error",45),c._uU(1," ce champs est obligatoire "),c.qZA())}function Ev(r,s){1&r&&(c.TgZ(0,"mat-error",45),c._uU(1," ce champs est non conforme "),c.qZA())}function Rv(r,s){1&r&&(c.TgZ(0,"mat-error",45),c._uU(1," ce champs est non conforme "),c.qZA())}function Dv(r,s){1&r&&(c.TgZ(0,"mat-error",45),c._uU(1," ce champs n'est pas conforme "),c.qZA())}function wv(r,s){if(1&r&&(c.TgZ(0,"mat-error",45),c._uU(1),c.qZA()),2&r){const a=c.oxw(2).$implicit,d=c.oxw(3);c.xp6(1),c.hij(" ",null==d.formParamRisque.get(a.formName).errors?null:d.formParamRisque.get(a.formName).errors.msg," ")}}function Ov(r,s){if(1&r&&(c.TgZ(0,"mat-form-field",10)(1,"mat-label"),c._uU(2),c.qZA(),c._UZ(3,"input",63),c.YNc(4,Iv,2,0,"mat-error",13),c.YNc(5,Ev,2,0,"mat-error",13),c.YNc(6,Rv,2,0,"mat-error",13),c.YNc(7,Dv,2,0,"mat-error",13),c.YNc(8,wv,2,1,"mat-error",13),c.qZA()),2&r){const a=c.oxw().$implicit,d=c.oxw(3);c.xp6(2),c.Oqu(a.libelle),c.xp6(1),c.s9C("formControlName",a.formName),c.xp6(1),c.Q6J("ngIf",null==d.formParamRisque.get(a.formName).errors?null:d.formParamRisque.get(a.formName).errors.required),c.xp6(1),c.Q6J("ngIf",null==d.formParamRisque.get(a.formName).errors?null:d.formParamRisque.get(a.formName).errors.max),c.xp6(1),c.Q6J("ngIf",null==d.formParamRisque.get(a.formName).errors?null:d.formParamRisque.get(a.formName).errors.min),c.xp6(1),c.Q6J("ngIf",(null==d.formParamRisque.get(a.formName).errors?null:d.formParamRisque.get(a.formName).errors.pattern)||(null==d.formParamRisque.get(a.formName).errors?null:d.formParamRisque.get(a.formName).errors.maxlength)||(null==d.formParamRisque.get(a.formName).errors?null:d.formParamRisque.get(a.formName).errors.minlength)),c.xp6(1),c.Q6J("ngIf",null==d.formParamRisque.get(a.formName).errors?null:d.formParamRisque.get(a.formName).errors.bloquant)}}function kv(r,s){1&r&&(c.TgZ(0,"mat-error",45),c._uU(1," ce champs est obligatoire "),c.qZA())}function Mv(r,s){1&r&&(c.TgZ(0,"mat-error",45),c._uU(1," ce champs est non conforme "),c.qZA())}function Uv(r,s){1&r&&(c.TgZ(0,"mat-error",45),c._uU(1," ce champs est non conforme "),c.qZA())}function Fv(r,s){1&r&&(c.TgZ(0,"mat-error",45),c._uU(1," ce champs n'est pas conforme "),c.qZA())}function Qv(r,s){if(1&r&&(c.TgZ(0,"mat-error",45),c._uU(1),c.qZA()),2&r){const a=c.oxw(2).$implicit,d=c.oxw(3);c.xp6(1),c.hij(" ",null==d.formParamRisque.get(a.formName).errors?null:d.formParamRisque.get(a.formName).errors.msg," ")}}function Jv(r,s){if(1&r&&(c.TgZ(0,"mat-form-field",10)(1,"mat-label"),c._uU(2),c.qZA(),c._UZ(3,"input",64),c.YNc(4,kv,2,0,"mat-error",13),c.YNc(5,Mv,2,0,"mat-error",13),c.YNc(6,Uv,2,0,"mat-error",13),c.YNc(7,Fv,2,0,"mat-error",13),c.YNc(8,Qv,2,1,"mat-error",13),c.qZA()),2&r){const a=c.oxw().$implicit,d=c.oxw(3);c.xp6(2),c.Oqu(a.libelle),c.xp6(1),c.s9C("formControlName",a.formName),c.xp6(1),c.Q6J("ngIf",null==d.formParamRisque.get(a.formName).errors?null:d.formParamRisque.get(a.formName).errors.required),c.xp6(1),c.Q6J("ngIf",null==d.formParamRisque.get(a.formName).errors?null:d.formParamRisque.get(a.formName).errors.max),c.xp6(1),c.Q6J("ngIf",null==d.formParamRisque.get(a.formName).errors?null:d.formParamRisque.get(a.formName).errors.min),c.xp6(1),c.Q6J("ngIf",(null==d.formParamRisque.get(a.formName).errors?null:d.formParamRisque.get(a.formName).errors.pattern)||(null==d.formParamRisque.get(a.formName).errors?null:d.formParamRisque.get(a.formName).errors.maxlength)||(null==d.formParamRisque.get(a.formName).errors?null:d.formParamRisque.get(a.formName).errors.minlength)),c.xp6(1),c.Q6J("ngIf",null==d.formParamRisque.get(a.formName).errors?null:d.formParamRisque.get(a.formName).errors.bloquant)}}function Lv(r,s){1&r&&(c.TgZ(0,"mat-error",45),c._uU(1," ce champs est obligatoire "),c.qZA())}function Yv(r,s){if(1&r&&(c.TgZ(0,"mat-error",45),c._uU(1),c.qZA()),2&r){const a=c.oxw(2).$implicit,d=c.oxw(3);c.xp6(1),c.hij(" ",null==d.formParamRisque.get(a.formName).errors?null:d.formParamRisque.get(a.formName).errors.msg," ")}}function Gv(r,s){1&r&&(c.TgZ(0,"mat-error",45),c._uU(1," la date de retour ne peut pas \xeatre inf\xe9rieure \xe0 la date depart "),c.qZA())}function Bv(r,s){1&r&&(c.TgZ(0,"mat-error",45),c._uU(1," la date de retour ne doit pas d\xe9pass\xe9e 365 jour apartir de la date depart "),c.qZA())}function zv(r,s){1&r&&(c.TgZ(0,"mat-error",45),c._uU(1," la date d'effet ne doit pas d\xe9pass\xe9e 6 mois "),c.qZA())}function Vv(r,s){if(1&r){const a=c.EpF();c.TgZ(0,"mat-form-field",10)(1,"mat-label"),c._uU(2),c.qZA(),c.TgZ(3,"input",65),c.NdJ("dateChange",function(g){c.CHM(a);const A=c.oxw().$implicit,T=c.oxw(3);return c.KtG(T.onDateChange(g,A.idParamRisque))}),c.qZA(),c._UZ(4,"mat-datepicker-toggle",48)(5,"mat-datepicker",null,66),c.YNc(7,Lv,2,0,"mat-error",13),c.YNc(8,Yv,2,1,"mat-error",13),c.YNc(9,Gv,2,0,"mat-error",13),c.YNc(10,Bv,2,0,"mat-error",13),c.YNc(11,zv,2,0,"mat-error",13),c.qZA()}if(2&r){const a=c.MAs(6),d=c.oxw().$implicit,g=c.oxw(3);let A;c.xp6(2),c.Oqu(d.libelle),c.xp6(1),c.s9C("formControlName",d.formName),c.Q6J("min","P212"===d.codeParam||"P259"===d.codeParam?null==(A=g.formParamRisque.get("20G"==g.codeProduit?"DateD\xe9but":"DateD\xe9part"))?null:A.value:g.minDate)("max","P211"===d.codeParam||"P258"===d.codeParam?g.maxDate:"P212"===d.codeParam||"P259"===d.codeParam?g.maxDateRetour:"")("matDatepicker",a),c.xp6(1),c.Q6J("for",a),c.xp6(3),c.Q6J("ngIf",null==g.formParamRisque.get(d.formName).errors?null:g.formParamRisque.get(d.formName).errors.required),c.xp6(1),c.Q6J("ngIf",null==g.formParamRisque.get(d.formName).errors?null:g.formParamRisque.get(d.formName).errors.bloquant),c.xp6(1),c.Q6J("ngIf",(null==g.formParamRisque.get(d.formName).errors?null:g.formParamRisque.get(d.formName).errors.matDatepickerMin)&&"P212"===d.codeParam),c.xp6(1),c.Q6J("ngIf",(null==g.formParamRisque.get(d.formName).errors?null:g.formParamRisque.get(d.formName).errors.matDatepickerMax)&&"P212"===d.codeParam),c.xp6(1),c.Q6J("ngIf",(null==g.formParamRisque.get(d.formName).errors?null:g.formParamRisque.get(d.formName).errors.matDatepickerMax)&&"P211"===d.codeParam)}}function jv(r,s){1&r&&(c.TgZ(0,"mat-error",45),c._uU(1," ce champs est obligatoire "),c.qZA())}function Hv(r,s){if(1&r&&(c.TgZ(0,"mat-error",45),c._uU(1),c.qZA()),2&r){const a=c.oxw(2).$implicit,d=c.oxw(3);c.xp6(1),c.hij(" ",null==d.formParamRisque.get(a.formName).errors?null:d.formParamRisque.get(a.formName).errors.msg," ")}}function $v(r,s){if(1&r&&(c.TgZ(0,"mat-form-field",10)(1,"mat-label"),c._uU(2),c.qZA(),c.TgZ(3,"mat-select",67)(4,"mat-option",38),c._uU(5,"Oui "),c.qZA(),c.TgZ(6,"mat-option",38),c._uU(7,"Non "),c.qZA()(),c.YNc(8,jv,2,0,"mat-error",13),c.YNc(9,Hv,2,1,"mat-error",13),c.qZA()),2&r){const a=c.oxw().$implicit,d=c.oxw(3);c.xp6(2),c.hij("",a.libelle," "),c.xp6(1),c.s9C("formControlName",a.formName),c.xp6(1),c.Q6J("value",!0),c.xp6(2),c.Q6J("value",!1),c.xp6(2),c.Q6J("ngIf",null==d.formParamRisque.get(a.formName).errors?null:d.formParamRisque.get(a.formName).errors.required),c.xp6(1),c.Q6J("ngIf",null==d.formParamRisque.get(a.formName).errors?null:d.formParamRisque.get(a.formName).errors.bloquant)}}function Kv(r,s){if(1&r&&(c.ynx(0),c.YNc(1,Pv,7,5,"mat-form-field",16),c.YNc(2,Nv,7,5,"mat-form-field",16),c.YNc(3,Ov,9,7,"mat-form-field",16),c.YNc(4,Jv,9,7,"mat-form-field",16),c.YNc(5,Vv,12,11,"mat-form-field",17),c.YNc(6,$v,10,6,"mat-form-field",16),c.BQk()),2&r){const a=s.$implicit;c.xp6(1),c.Q6J("ngIf","L01"==(null==a.typeChamp?null:a.typeChamp.code)),c.xp6(1),c.Q6J("ngIf","L08"==(null==a.typeChamp?null:a.typeChamp.code)),c.xp6(1),c.Q6J("ngIf","L02"==(null==a.typeChamp?null:a.typeChamp.code)||"L07"==(null==a.typeChamp?null:a.typeChamp.code)),c.xp6(1),c.Q6J("ngIf","L03"==(null==a.typeChamp?null:a.typeChamp.code)),c.xp6(1),c.Q6J("ngIf","date"==(null==a.typeChamp?null:a.typeChamp.description)),c.xp6(1),c.Q6J("ngIf","L04"==(null==a.typeChamp?null:a.typeChamp.code))}}function Wv(r,s){if(1&r&&(c.TgZ(0,"mat-form-field",10)(1,"mat-label"),c._uU(2,"Dur\xe9e du Voyage (en jours)"),c.qZA(),c._UZ(3,"input",68),c.qZA()),2&r){const a=c.oxw(3);c.xp6(3),c.Q6J("value",a.duration)}}function Xv(r,s){if(1&r&&(c.TgZ(0,"mat-expansion-panel",58)(1,"mat-expansion-panel-header")(2,"mat-panel-title",59),c._uU(3),c.qZA()(),c.TgZ(4,"div",60),c.YNc(5,Kv,7,6,"ng-container",12),c.YNc(6,Wv,4,1,"mat-form-field",17),c.qZA()()),2&r){const a=c.oxw(2);c.Q6J("expanded",!0),c.xp6(3),c.hij(" ",a.produitInfo.description,"1 "),c.xp6(2),c.Q6J("ngForOf",a.tableauxParCategorie),c.xp6(1),c.Q6J("ngIf","20A"===a.produitInfo.codeProduit)}}function e6(r,s){1&r&&(c.TgZ(0,"mat-error"),c._uU(1," Le nombre d'assur\xe9 ne correspond pas au min de la formule "),c.qZA())}function t6(r,s){1&r&&(c.TgZ(0,"mat-error"),c._uU(1," Le nombre d'assur\xe9 ne correspond pas au max de la formule "),c.qZA())}function n6(r,s){if(1&r){const a=c.EpF();c.TgZ(0,"mat-expansion-panel",69)(1,"mat-expansion-panel-header")(2,"mat-panel-title",59),c._uU(3," Informations nombre assur\xe9s "),c.qZA()(),c.ynx(4,70),c.TgZ(5,"p"),c._uU(6,"Veuillez choisir le nombre d'assur\xe9s "),c.qZA(),c.TgZ(7,"mat-form-field",10)(8,"mat-label"),c._uU(9,"Nombre d'assur\xe9"),c.qZA(),c._UZ(10,"input",71),c.YNc(11,e6,2,0,"mat-error",32),c.YNc(12,t6,2,0,"mat-error",32),c.qZA(),c.TgZ(13,"div",72)(14,"div",14)(15,"p"),c._uU(16,"Veuillez choisir entre remplir un formulaire ou importer un fichier."),c.qZA()(),c.TgZ(17,"div",14)(18,"div",73)(19,"button",74),c.NdJ("click",function(){c.CHM(a);const g=c.oxw(2);return c.KtG(g.formWay("form"))}),c._uU(20,"Formulaire"),c.qZA(),c.TgZ(21,"button",74),c.NdJ("click",function(){c.CHM(a);const g=c.oxw(2);return c.KtG(g.formWay("file"))}),c._uU(22,"Fichier "),c.qZA()()()(),c.BQk(),c.qZA()}if(2&r){const a=c.oxw(2);c.Q6J("expanded",!0),c.xp6(10),c.Q6J("formControl",a.nbrAssure),c.xp6(1),c.Q6J("ngIf",a.nbrAssure.hasError("min")),c.xp6(1),c.Q6J("ngIf",a.nbrAssure.hasError("max"))}}function i6(r,s){1&r&&(c.TgZ(0,"mat-expansion-panel-header")(1,"mat-panel-title",59),c._uU(2," Assur\xe9 "),c.qZA()())}function o6(r,s){if(1&r){const a=c.EpF();c.TgZ(0,"mat-checkbox",76),c.NdJ("change",function(g){c.CHM(a);const A=c.oxw(3);return c.KtG(A.changeRoleClient(g.checked,"Assure"))}),c._uU(1,"Le souscripteur est l'assur\xe9 "),c.qZA()}if(2&r){const a=c.oxw(3);c.Q6J("disabled",a.isCheckboxDisabled)("checked",a.isAssure)}}function r6(r,s){if(1&r&&(c.ynx(0),c.TgZ(1,"mat-option",38),c._uU(2),c.qZA(),c.BQk()),2&r){const a=s.$implicit;c.xp6(1),c.Q6J("value",a),c.xp6(1),c.hij(" ",a.description," ")}}function a6(r,s){1&r&&(c.TgZ(0,"mat-error",45),c._uU(1," ce champs est obligatoire "),c.qZA())}function s6(r,s){if(1&r&&(c.TgZ(0,"mat-error",45),c._uU(1),c.qZA()),2&r){const a=c.oxw(2).$implicit,d=c.oxw(3);c.xp6(1),c.hij(" ",null==d.formParamRisque.get(a.formName).errors?null:d.formParamRisque.get(a.formName).errors.msg," ")}}function l6(r,s){if(1&r){const a=c.EpF();c.TgZ(0,"mat-form-field",10)(1,"mat-label"),c._uU(2),c.qZA(),c.TgZ(3,"mat-select",61),c.NdJ("selectionChange",function(g){c.CHM(a);const A=c.oxw().$implicit,T=c.oxw(3);return c.KtG(T.getRelation(null==A.typeChamp?null:A.typeChamp.code,A.isParent,A.idParamRisque,g.value.idParam,A.formName))}),c.YNc(4,r6,3,2,"ng-container",12),c.qZA(),c.YNc(5,a6,2,0,"mat-error",13),c.YNc(6,s6,2,1,"mat-error",13),c.qZA()}if(2&r){const a=c.oxw().$implicit,d=c.oxw(3);c.xp6(2),c.hij("",a.libelle," "),c.xp6(1),c.s9C("formControlName",a.formName),c.xp6(1),c.Q6J("ngForOf",a.reponses),c.xp6(1),c.Q6J("ngIf",null==d.formParamRisque.get(a.formName).errors?null:d.formParamRisque.get(a.formName).errors.required),c.xp6(1),c.Q6J("ngIf",null==d.formParamRisque.get(a.formName).errors?null:d.formParamRisque.get(a.formName).errors.bloquant)}}function c6(r,s){if(1&r&&(c.ynx(0),c.TgZ(1,"mat-option",38),c._uU(2),c.qZA(),c.BQk()),2&r){const a=s.$implicit,d=c.oxw(2).$implicit;c.xp6(1),c.Q6J("value",a),c.xp6(1),c.hij(" ","P215"===d.codeParam?a.nationalite:a.description," ")}}function u6(r,s){1&r&&(c.TgZ(0,"mat-error",45),c._uU(1," ce champs est obligatoire "),c.qZA())}function m6(r,s){if(1&r&&(c.TgZ(0,"mat-error",45),c._uU(1),c.qZA()),2&r){const a=c.oxw(2).$implicit,d=c.oxw(3);c.xp6(1),c.hij(" ",null==d.formParamRisque.get(a.formName).errors?null:d.formParamRisque.get(a.formName).errors.msg," ")}}function d6(r,s){if(1&r){const a=c.EpF();c.TgZ(0,"mat-form-field",10)(1,"mat-label"),c._uU(2),c.qZA(),c.TgZ(3,"mat-select",61),c.NdJ("selectionChange",function(g){c.CHM(a);const A=c.oxw().$implicit,T=c.oxw(3);return c.KtG(T.getRelation(null==A.typeChamp?null:A.typeChamp.code,A.isParent,A.idParamRisque,g.value.id,A.formName))}),c.YNc(4,c6,3,2,"ng-container",12),c.qZA(),c.YNc(5,u6,2,0,"mat-error",13),c.YNc(6,m6,2,1,"mat-error",13),c.qZA()}if(2&r){const a=c.oxw().$implicit,d=c.oxw(3);c.xp6(2),c.hij("",a.libelle," "),c.xp6(1),c.s9C("formControlName",a.formName),c.xp6(1),c.Q6J("ngForOf",a.reponses),c.xp6(1),c.Q6J("ngIf",null==d.formParamRisque.get(a.formName).errors?null:d.formParamRisque.get(a.formName).errors.required),c.xp6(1),c.Q6J("ngIf",null==d.formParamRisque.get(a.formName).errors?null:d.formParamRisque.get(a.formName).errors.bloquant)}}function _6(r,s){1&r&&(c.TgZ(0,"mat-error",45),c._uU(1," ce champs est obligatoire "),c.qZA())}function p6(r,s){1&r&&(c.TgZ(0,"mat-error",45),c._uU(1," ce champs est non conforme "),c.qZA())}function f6(r,s){1&r&&(c.TgZ(0,"mat-error",45),c._uU(1," ce champs est non conforme "),c.qZA())}function g6(r,s){1&r&&(c.TgZ(0,"mat-error",45),c._uU(1," ce champs n'est pas conforme "),c.qZA())}function h6(r,s){if(1&r&&(c.TgZ(0,"mat-error",45),c._uU(1),c.qZA()),2&r){const a=c.oxw(2).$implicit,d=c.oxw(3);c.xp6(1),c.hij(" ",null==d.formParamRisque.get(a.formName).errors?null:d.formParamRisque.get(a.formName).errors.msg," ")}}function C6(r,s){if(1&r&&(c.TgZ(0,"mat-form-field",10)(1,"mat-label"),c._uU(2),c.qZA(),c._UZ(3,"input",63),c.YNc(4,_6,2,0,"mat-error",13),c.YNc(5,p6,2,0,"mat-error",13),c.YNc(6,f6,2,0,"mat-error",13),c.YNc(7,g6,2,0,"mat-error",13),c.YNc(8,h6,2,1,"mat-error",13),c.qZA()),2&r){const a=c.oxw().$implicit,d=c.oxw(3);c.xp6(2),c.Oqu(a.libelle),c.xp6(1),c.s9C("formControlName",a.formName),c.xp6(1),c.Q6J("ngIf",null==d.formParamRisque.get(a.formName).errors?null:d.formParamRisque.get(a.formName).errors.required),c.xp6(1),c.Q6J("ngIf",null==d.formParamRisque.get(a.formName).errors?null:d.formParamRisque.get(a.formName).errors.max),c.xp6(1),c.Q6J("ngIf",null==d.formParamRisque.get(a.formName).errors?null:d.formParamRisque.get(a.formName).errors.min),c.xp6(1),c.Q6J("ngIf",(null==d.formParamRisque.get(a.formName).errors?null:d.formParamRisque.get(a.formName).errors.pattern)||(null==d.formParamRisque.get(a.formName).errors?null:d.formParamRisque.get(a.formName).errors.maxlength)||(null==d.formParamRisque.get(a.formName).errors?null:d.formParamRisque.get(a.formName).errors.minlength)),c.xp6(1),c.Q6J("ngIf",null==d.formParamRisque.get(a.formName).errors?null:d.formParamRisque.get(a.formName).errors.bloquant)}}function x6(r,s){1&r&&(c.TgZ(0,"mat-error",45),c._uU(1," ce champs est obligatoire "),c.qZA())}function v6(r,s){1&r&&(c.TgZ(0,"mat-error",45),c._uU(1," ce champs est non conforme "),c.qZA())}function A6(r,s){1&r&&(c.TgZ(0,"mat-error",45),c._uU(1," ce champs est non conforme "),c.qZA())}function T6(r,s){1&r&&(c.TgZ(0,"mat-error",45),c._uU(1," ce champs n'est pas conforme "),c.qZA())}function b6(r,s){if(1&r&&(c.TgZ(0,"mat-error",45),c._uU(1),c.qZA()),2&r){const a=c.oxw(2).$implicit,d=c.oxw(3);c.xp6(1),c.hij(" ",null==d.formParamRisque.get(a.formName).errors?null:d.formParamRisque.get(a.formName).errors.msg," ")}}function P6(r,s){if(1&r&&(c.TgZ(0,"mat-form-field",10)(1,"mat-label"),c._uU(2),c.qZA(),c._UZ(3,"input",64),c.YNc(4,x6,2,0,"mat-error",13),c.YNc(5,v6,2,0,"mat-error",13),c.YNc(6,A6,2,0,"mat-error",13),c.YNc(7,T6,2,0,"mat-error",13),c.YNc(8,b6,2,1,"mat-error",13),c.qZA()),2&r){const a=c.oxw().$implicit,d=c.oxw(3);c.xp6(2),c.Oqu(a.libelle),c.xp6(1),c.s9C("formControlName",a.formName),c.xp6(1),c.Q6J("ngIf",null==d.formParamRisque.get(a.formName).errors?null:d.formParamRisque.get(a.formName).errors.required),c.xp6(1),c.Q6J("ngIf",null==d.formParamRisque.get(a.formName).errors?null:d.formParamRisque.get(a.formName).errors.max),c.xp6(1),c.Q6J("ngIf",null==d.formParamRisque.get(a.formName).errors?null:d.formParamRisque.get(a.formName).errors.min),c.xp6(1),c.Q6J("ngIf",(null==d.formParamRisque.get(a.formName).errors?null:d.formParamRisque.get(a.formName).errors.pattern)||(null==d.formParamRisque.get(a.formName).errors?null:d.formParamRisque.get(a.formName).errors.maxlength)||(null==d.formParamRisque.get(a.formName).errors?null:d.formParamRisque.get(a.formName).errors.minlength)),c.xp6(1),c.Q6J("ngIf",null==d.formParamRisque.get(a.formName).errors?null:d.formParamRisque.get(a.formName).errors.bloquant)}}function Z6(r,s){1&r&&(c.TgZ(0,"mat-error",45),c._uU(1," ce champs est obligatoire "),c.qZA())}function q6(r,s){if(1&r&&(c.TgZ(0,"mat-error",45),c._uU(1),c.qZA()),2&r){const a=c.oxw(2).$implicit,d=c.oxw(3);c.xp6(1),c.hij(" ",null==d.formParamRisque.get(a.formName).errors?null:d.formParamRisque.get(a.formName).errors.msg," ")}}function S6(r,s){if(1&r&&(c.TgZ(0,"mat-form-field",10)(1,"mat-label"),c._uU(2),c.qZA(),c._UZ(3,"input",77)(4,"mat-datepicker-toggle",48)(5,"mat-datepicker",null,66),c.YNc(7,Z6,2,0,"mat-error",13),c.YNc(8,q6,2,1,"mat-error",13),c.qZA()),2&r){const a=c.MAs(6),d=c.oxw().$implicit,g=c.oxw(3);c.xp6(2),c.Oqu(d.libelle),c.xp6(1),c.s9C("formControlName",d.formName),c.Q6J("max",g.today)("matDatepicker",a),c.xp6(1),c.Q6J("for",a),c.xp6(3),c.Q6J("ngIf",null==g.formParamRisque.get(d.formName).errors?null:g.formParamRisque.get(d.formName).errors.required),c.xp6(1),c.Q6J("ngIf",null==g.formParamRisque.get(d.formName).errors?null:g.formParamRisque.get(d.formName).errors.bloquant)}}function y6(r,s){1&r&&(c.TgZ(0,"mat-error",45),c._uU(1," ce champs est obligatoire "),c.qZA())}function N6(r,s){if(1&r&&(c.TgZ(0,"mat-error",45),c._uU(1),c.qZA()),2&r){const a=c.oxw(2).$implicit,d=c.oxw(3);c.xp6(1),c.hij(" ",null==d.formParamRisque.get(a.formName).errors?null:d.formParamRisque.get(a.formName).errors.msg," ")}}function I6(r,s){if(1&r&&(c.TgZ(0,"mat-form-field",10)(1,"mat-label"),c._uU(2),c.qZA(),c._UZ(3,"input",78)(4,"mat-datepicker-toggle",48)(5,"mat-datepicker",null,66),c.YNc(7,y6,2,0,"mat-error",13),c.YNc(8,N6,2,1,"mat-error",13),c.qZA()),2&r){const a=c.MAs(6),d=c.oxw().$implicit,g=c.oxw(3);c.xp6(2),c.Oqu(d.libelle),c.xp6(1),c.s9C("formControlName",d.formName),c.Q6J("min",g.minDate)("matDatepicker",a),c.xp6(1),c.Q6J("for",a),c.xp6(3),c.Q6J("ngIf",null==g.formParamRisque.get(d.formName).errors?null:g.formParamRisque.get(d.formName).errors.required),c.xp6(1),c.Q6J("ngIf",null==g.formParamRisque.get(d.formName).errors?null:g.formParamRisque.get(d.formName).errors.bloquant)}}function E6(r,s){1&r&&(c.TgZ(0,"mat-error",45),c._uU(1," ce champs est obligatoire "),c.qZA())}function R6(r,s){if(1&r&&(c.TgZ(0,"mat-error",45),c._uU(1),c.qZA()),2&r){const a=c.oxw(2).$implicit,d=c.oxw(3);c.xp6(1),c.hij(" ",null==d.formParamRisque.get(a.formName).errors?null:d.formParamRisque.get(a.formName).errors.msg," ")}}function D6(r,s){if(1&r&&(c.TgZ(0,"mat-form-field",10)(1,"mat-label"),c._uU(2),c.qZA(),c.TgZ(3,"mat-select",67)(4,"mat-option",38),c._uU(5,"Oui "),c.qZA(),c.TgZ(6,"mat-option",38),c._uU(7,"Non "),c.qZA()(),c.YNc(8,E6,2,0,"mat-error",13),c.YNc(9,R6,2,1,"mat-error",13),c.qZA()),2&r){const a=c.oxw().$implicit,d=c.oxw(3);c.xp6(2),c.hij("",a.libelle," "),c.xp6(1),c.s9C("formControlName",a.formName),c.xp6(1),c.Q6J("value",!0),c.xp6(2),c.Q6J("value",!1),c.xp6(2),c.Q6J("ngIf",null==d.formParamRisque.get(a.formName).errors?null:d.formParamRisque.get(a.formName).errors.required),c.xp6(1),c.Q6J("ngIf",null==d.formParamRisque.get(a.formName).errors?null:d.formParamRisque.get(a.formName).errors.bloquant)}}function w6(r,s){if(1&r&&(c.ynx(0),c.YNc(1,l6,7,5,"mat-form-field",16),c.YNc(2,d6,7,5,"mat-form-field",16),c.YNc(3,C6,9,7,"mat-form-field",16),c.YNc(4,P6,9,7,"mat-form-field",16),c.YNc(5,S6,9,7,"mat-form-field",17),c.YNc(6,I6,9,7,"mat-form-field",17),c.YNc(7,D6,10,6,"mat-form-field",16),c.BQk()),2&r){const a=s.$implicit;c.xp6(1),c.Q6J("ngIf","L01"==(null==a.typeChamp?null:a.typeChamp.code)),c.xp6(1),c.Q6J("ngIf","L08"==(null==a.typeChamp?null:a.typeChamp.code)),c.xp6(1),c.Q6J("ngIf",("L02"==(null==a.typeChamp?null:a.typeChamp.code)||"L07"==(null==a.typeChamp?null:a.typeChamp.code))&&"P25"!=a.codeParam&&"P26"!=a.codeParam),c.xp6(1),c.Q6J("ngIf","L03"==(null==a.typeChamp?null:a.typeChamp.code)),c.xp6(1),c.Q6J("ngIf","date"==(null==a.typeChamp?null:a.typeChamp.description)&&"P166"==a.codeParam),c.xp6(1),c.Q6J("ngIf","date"==(null==a.typeChamp?null:a.typeChamp.description)&&"P214"==a.codeParam),c.xp6(1),c.Q6J("ngIf","L04"==(null==a.typeChamp?null:a.typeChamp.code))}}function O6(r,s){if(1&r&&(c.TgZ(0,"mat-expansion-panel",69),c.YNc(1,i6,3,0,"mat-expansion-panel-header",32),c.TgZ(2,"div",14),c.YNc(3,o6,2,2,"mat-checkbox",75),c.qZA(),c.YNc(4,w6,8,7,"ng-container",12),c.qZA()),2&r){const a=c.oxw(2);c.Q6J("expanded",!0),c.xp6(1),c.Q6J("ngIf",a.displayFormRisque),c.xp6(2),c.Q6J("ngIf","personne physique"==a.typeClient),c.xp6(1),c.Q6J("ngForOf",a.tableauxParCategorieAssure)}}function k6(r,s){if(1&r&&(c.TgZ(0,"mat-option",38),c._uU(1),c.qZA()),2&r){const a=s.$implicit;c.Q6J("value",a),c.xp6(1),c.hij(" ",a,"")}}function M6(r,s){1&r&&(c.TgZ(0,"mat-error",45),c._uU(1," ce champs est obligatoire "),c.qZA())}function U6(r,s){1&r&&(c.TgZ(0,"mat-error",45),c._uU(1," ce champs est obligatoire "),c.qZA())}function F6(r,s){if(1&r&&(c.TgZ(0,"mat-form-field",10)(1,"mat-label"),c._uU(2,"Nouveau groupe"),c.qZA(),c._UZ(3,"input",85),c.YNc(4,U6,2,0,"mat-error",13),c.qZA()),2&r){const a=c.oxw(4);let d;c.xp6(4),c.Q6J("ngIf",null==(d=a.formParamRisque.get("newGroupe"))||null==d.errors?null:d.errors.required)}}function Q6(r,s){if(1&r&&(c.TgZ(0,"div",14)(1,"mat-form-field",81)(2,"mat-label"),c._uU(3,"Groupes"),c.qZA(),c.TgZ(4,"mat-select",82)(5,"mat-option",83),c._uU(6,"Nouveau groupe"),c.qZA(),c.YNc(7,k6,2,2,"mat-option",84),c.qZA(),c.YNc(8,M6,2,0,"mat-error",13),c.qZA(),c.YNc(9,F6,5,1,"mat-form-field",16),c.qZA()),2&r){const a=c.oxw(3);let d,g;c.xp6(7),c.Q6J("ngForOf",a.groupArray),c.xp6(1),c.Q6J("ngIf",null==(d=a.formParamRisque.get("groupe"))||null==d.errors?null:d.errors.required),c.xp6(1),c.Q6J("ngIf","new"==(null==(g=a.formParamRisque.get("groupe"))?null:g.value))}}function J6(r,s){1&r&&(c.TgZ(0,"div",14)(1,"mat-form-field",10)(2,"mat-label"),c._uU(3,"groupe"),c.qZA(),c._UZ(4,"input",86),c.qZA()())}function L6(r,s){if(1&r&&(c.TgZ(0,"mat-expansion-panel",51)(1,"mat-expansion-panel-header")(2,"mat-panel-title"),c._uU(3," Groupe "),c.qZA()(),c.YNc(4,Q6,10,3,"div",79),c.YNc(5,J6,5,0,"ng-template",null,80,c.W1O),c.qZA()),2&r){const a=c.MAs(6),d=c.oxw(2);c.Q6J("expanded",!0),c.xp6(4),c.Q6J("ngIf","20A"!=d.codeProduit)("ngIfElse",a)}}function Y6(r,s){if(1&r){const a=c.EpF();c.TgZ(0,"button",87),c.NdJ("click",function(){c.CHM(a);const g=c.oxw(2);return c.KtG(g.submitParamRisque())}),c._uU(1,"Ajouter"),c.qZA()}}function G6(r,s){if(1&r){const a=c.EpF();c.TgZ(0,"button",34),c.NdJ("click",function(){c.CHM(a);const g=c.oxw(2);return c.KtG(g.goBack())}),c._uU(1,"Retour"),c.qZA()}}function B6(r,s){1&r&&(c.TgZ(0,"th",98),c._uU(1," Risque N\xb0 "),c.qZA())}function z6(r,s){if(1&r&&(c.TgZ(0,"td",99),c._uU(1),c.qZA()),2&r){const a=s.$implicit;c.xp6(1),c.hij(" ",a.risqueNum," ")}}function V6(r,s){1&r&&(c.TgZ(0,"th",98),c._uU(1," Nom "),c.qZA())}function j6(r,s){if(1&r&&(c.TgZ(0,"td",99),c._uU(1),c.qZA()),2&r){const a=s.$implicit;c.xp6(1),c.hij(" ",a.Nom," ")}}function H6(r,s){1&r&&(c.TgZ(0,"th",98),c._uU(1," Pr\xe9nom "),c.qZA())}function $6(r,s){if(1&r&&(c.TgZ(0,"td",99),c._uU(1),c.qZA()),2&r){const a=s.$implicit;c.xp6(1),c.hij(" ",a.Prenom," ")}}function K6(r,s){1&r&&(c.TgZ(0,"th",98),c._uU(1," Groupe "),c.qZA())}function W6(r,s){if(1&r&&(c.TgZ(0,"td",99),c._uU(1),c.qZA()),2&r){const a=s.$implicit;c.xp6(1),c.hij(" ",a.groupe," ")}}function X6(r,s){1&r&&(c.TgZ(0,"th",98),c._uU(1," Action"),c.qZA())}function eA(r,s){if(1&r){const a=c.EpF();c.TgZ(0,"td",99)(1,"button",100)(2,"mat-icon"),c._uU(3,"more_vert"),c.qZA()(),c.TgZ(4,"mat-menu",101,102)(6,"button",103),c.NdJ("click",function(){const A=c.CHM(a).$implicit,T=c.oxw(3);return c.KtG(T.openDialog(A.risqueNum))}),c.TgZ(7,"mat-icon"),c._uU(8,"zoom_in"),c.qZA(),c.TgZ(9,"span"),c._uU(10,"Consulter risque"),c.qZA()()()()}if(2&r){const a=c.MAs(5);c.xp6(1),c.Q6J("matMenuTriggerFor",a)}}function tA(r,s){1&r&&c._UZ(0,"tr",104)}function nA(r,s){1&r&&c._UZ(0,"tr",105)}function iA(r,s){if(1&r&&(c.TgZ(0,"table",88),c.ynx(1,89),c.YNc(2,B6,2,0,"th",90),c.YNc(3,z6,2,1,"td",91),c.BQk(),c.ynx(4,92),c.YNc(5,V6,2,0,"th",90),c.YNc(6,j6,2,1,"td",91),c.BQk(),c.ynx(7,93),c.YNc(8,H6,2,0,"th",90),c.YNc(9,$6,2,1,"td",91),c.BQk(),c.ynx(10,94),c.YNc(11,K6,2,0,"th",90),c.YNc(12,W6,2,1,"td",91),c.BQk(),c.ynx(13,95),c.YNc(14,X6,2,0,"th",90),c.YNc(15,eA,11,1,"td",91),c.BQk(),c.YNc(16,tA,1,0,"tr",96),c.YNc(17,nA,1,0,"tr",97),c.qZA()),2&r){const a=c.oxw(2);c.Q6J("dataSource",a.dataSourceRisque),c.xp6(16),c.Q6J("matHeaderRowDef",a.displayedColumnsRisque),c.xp6(1),c.Q6J("matRowDefColumns",a.displayedColumnsRisque)}}function oA(r,s){if(1&r&&(c.TgZ(0,"li"),c._uU(1),c.qZA()),2&r){const a=s.$implicit;c.xp6(1),c.hij(" ",a," ")}}function rA(r,s){if(1&r&&(c.ynx(0),c.TgZ(1,"div",109)(2,"ul",110)(3,"span"),c._uU(4),c.qZA(),c.YNc(5,oA,2,1,"li",12),c.qZA()(),c.BQk()),2&r){const a=c.oxw().$implicit;c.xp6(4),c.hij("ligne ",a.ligne," "),c.xp6(1),c.Q6J("ngForOf",a.description)}}function aA(r,s){if(1&r&&(c.TgZ(0,"div"),c.YNc(1,rA,6,2,"ng-container",32),c.qZA()),2&r){const a=s.$implicit;c.xp6(1),c.Q6J("ngIf",0!=a.description.length)}}function sA(r,s){if(1&r){const a=c.EpF();c.TgZ(0,"mat-expansion-panel",69)(1,"mat-expansion-panel-header")(2,"mat-panel-title",59),c._uU(3," impoter fichier "),c.qZA()(),c.TgZ(4,"div",14)(5,"p"),c._uU(6,"Veuillez importer le mod\xe8le."),c.qZA()(),c.TgZ(7,"div",14)(8,"div",106)(9,"input",107,108),c.NdJ("change",function(g){c.CHM(a);const A=c.oxw(2);return c.KtG(A.onFileSelected(g))}),c.qZA(),c.YNc(11,aA,2,1,"div",12),c.qZA()()()}if(2&r){const a=c.oxw(2);c.Q6J("expanded",!0),c.xp6(11),c.Q6J("ngForOf",a.fileControle)}}function lA(r,s){if(1&r&&(c.TgZ(0,"form",50)(1,"mat-accordion",7)(2,"mat-expansion-panel",51)(3,"mat-expansion-panel-header")(4,"mat-panel-title"),c._uU(5," Information du risque "),c.qZA()(),c.YNc(6,Xv,7,4,"mat-expansion-panel",52),c.YNc(7,n6,23,4,"mat-expansion-panel",53),c.YNc(8,O6,5,4,"mat-expansion-panel",53),c.YNc(9,L6,7,3,"mat-expansion-panel",54),c.TgZ(10,"div",55),c.YNc(11,Y6,2,0,"button",56),c.YNc(12,G6,2,0,"button",27),c.qZA(),c.YNc(13,iA,18,3,"table",57),c.YNc(14,sA,12,2,"mat-expansion-panel",53),c.qZA()()()),2&r){const a=c.oxw();c.Q6J("formGroup",a.formParamRisque),c.xp6(2),c.Q6J("expanded",!0),c.xp6(4),c.Q6J("ngIf",a.multiRisque),c.xp6(1),c.Q6J("ngIf",a.multiRisque&&("F02"==a.selectedValue.code||"F03"==a.selectedValue.code)),c.xp6(1),c.Q6J("ngIf",1==a.risqueStep),c.xp6(1),c.Q6J("ngIf",a.multiRisque),c.xp6(2),c.Q6J("ngIf",a.multiRisque&&2!=a.risqueStep),c.xp6(1),c.Q6J("ngIf",2!=a.risqueStep),c.xp6(1),c.Q6J("ngIf",a.multiRisque&&0!=a.dataSourceRisque.data.length),c.xp6(1),c.Q6J("ngIf",2==a.risqueStep)}}function cA(r,s){if(1&r){const a=c.EpF();c.TgZ(0,"button",111),c.NdJ("click",function(){c.CHM(a);const g=c.oxw();return c.KtG(g.checkAssureNumber())}),c._uU(1,"Suivant"),c.qZA()}}function uA(r,s){if(1&r){const a=c.EpF();c.TgZ(0,"button",34),c.NdJ("click",function(){c.CHM(a);const g=c.oxw();return c.KtG(g.risqueStep=0)}),c._uU(1,"Retour"),c.qZA()}}function mA(r,s){if(1&r){const a=c.EpF();c.TgZ(0,"div",40)(1,"button",111),c.NdJ("click",function(){c.CHM(a);const g=c.oxw();return c.KtG(g.checkAssureNumber())}),c._uU(2,"Suivant"),c.qZA()()}}function dA(r,s){1&r&&c._uU(0,"Pack et garanties")}function _A(r,s){if(1&r&&(c.ynx(0),c.TgZ(1,"mat-option",38),c._uU(2),c.qZA(),c.BQk()),2&r){const a=s.$implicit;c.xp6(1),c.Q6J("value",a.idPack0),c.xp6(1),c.hij(" ",a.description," ")}}function pA(r,s){if(1&r){const a=c.EpF();c.TgZ(0,"button",115),c.NdJ("click",function(){c.CHM(a);const g=c.oxw(2);return c.KtG(g.generateCalcul())}),c.TgZ(1,"mat-icon",116),c._uU(2," autorenew "),c.qZA(),c._uU(3,"Calculer"),c.qZA()}}function fA(r,s){if(1&r){const a=c.EpF();c.TgZ(0,"div",112)(1,"p"),c._uU(2,"Veuillez choisir un pack "),c.qZA(),c.TgZ(3,"mat-form-field",10)(4,"mat-label"),c._uU(5,"Pack"),c.qZA(),c.TgZ(6,"mat-select",113),c.NdJ("selectionChange",function(g){c.CHM(a);const A=c.oxw();return c.KtG(A.getPack(g.value,0))}),c.YNc(7,_A,3,2,"ng-container",12),c.qZA()(),c.YNc(8,pA,4,0,"button",114),c.qZA()}if(2&r){const a=c.oxw();c.xp6(7),c.Q6J("ngForOf",a.packs),c.xp6(1),c.Q6J("ngIf",a.loadTable)}}function gA(r,s){if(1&r&&(c.TgZ(0,"div",109),c._uU(1),c.qZA()),2&r){const a=c.oxw();c.xp6(1),c.Oqu(a.errorTarif.msg)}}function hA(r,s){if(1&r&&(c.TgZ(0,"div",109),c._uU(1),c.qZA()),2&r){const a=c.oxw();c.xp6(1),c.Oqu(a.errorHandler.msg)}}function CA(r,s){1&r&&(c.TgZ(0,"div",109),c._uU(1,"Veuillez remplir tous les champs des garanties obligatoires/coch\xe9es"),c.qZA())}function xA(r,s){1&r&&c._UZ(0,"th",98)}function vA(r,s){if(1&r){const a=c.EpF();c.TgZ(0,"td",99)(1,"mat-checkbox",128),c.NdJ("click",function(g){const T=c.CHM(a).$implicit,R=c.oxw(2);return g.stopPropagation(),c.KtG(R.garantieSelectedIds.push(T.idGarantie))}),c.qZA()()}if(2&r){const a=s.$implicit,d=s.dataIndex,g=c.oxw(2);c.xp6(1),c.Q6J("checked",a.checked)("formControl",g.getControl(d,"checked"))}}function AA(r,s){1&r&&(c.TgZ(0,"th",98),c._uU(1,"Garantie "),c.qZA())}function TA(r,s){if(1&r&&(c.TgZ(0,"td",99),c._uU(1),c.qZA()),2&r){const a=s.$implicit;c.xp6(1),c.hij(" ",a.description," ")}}function bA(r,s){1&r&&(c.TgZ(0,"th",98),c._uU(1," Plafond"),c.qZA())}function PA(r,s){1&r&&(c.TgZ(0,"span"),c._uU(1,"-"),c.qZA())}function ZA(r,s){if(1&r&&(c.ynx(0),c.TgZ(1,"mat-option",38),c._uU(2),c.ALo(3,"money"),c.ALo(4,"number"),c.qZA(),c.BQk()),2&r){const a=s.$implicit;c.xp6(1),c.Q6J("value",a),c.xp6(1),c.hij(" ",c.lcZ(3,2,c.xi3(4,4,a.valeur,"1.0-0"))," ")}}function qA(r,s){if(1&r&&(c.TgZ(0,"mat-form-field")(1,"mat-label"),c._uU(2,"Plafond"),c.qZA(),c.TgZ(3,"mat-select",132),c.YNc(4,ZA,5,7,"ng-container",12),c.qZA()()),2&r){const a=c.oxw(2),d=a.dataIndex,g=a.$implicit,A=c.oxw(2);c.xp6(3),c.Q6J("formControl",A.getControl(d,"plafond")),c.xp6(1),c.Q6J("ngForOf",g.plafond)}}function SA(r,s){if(1&r&&(c.TgZ(0,"mat-form-field")(1,"mat-label"),c._uU(2,"Plafond"),c.qZA(),c._UZ(3,"input",134),c.qZA()),2&r){const a=c.oxw(3).dataIndex,d=c.oxw(2);c.xp6(3),c.Q6J("formControl",d.getControl(a,"plafond"))}}function yA(r,s){if(1&r&&(c.TgZ(0,"span"),c._uU(1),c.ALo(2,"money"),c.ALo(3,"number"),c.qZA()),2&r){const a=c.oxw(4).$implicit;c.xp6(1),c.Oqu(c.lcZ(2,1,c.xi3(3,3,a.plafond[0].valeur,"1.0-0")))}}function NA(r,s){1&r&&c._uU(0," - ")}function IA(r,s){if(1&r&&(c.YNc(0,yA,4,6,"span",129),c.YNc(1,NA,1,0,"ng-template",null,135,c.W1O)),2&r){const a=c.MAs(2),d=c.oxw(3).$implicit;c.Q6J("ngIf","0"!=d.plafond[0].valeur)("ngIfElse",a)}}function EA(r,s){if(1&r&&(c.YNc(0,SA,4,1,"mat-form-field",129),c.YNc(1,IA,3,2,"ng-template",null,133,c.W1O)),2&r){const a=c.MAs(2),d=c.oxw(2).$implicit;c.Q6J("ngIf","input"==d.plafond[0].descriptionvVal)("ngIfElse",a)}}function RA(r,s){if(1&r&&(c.YNc(0,qA,5,2,"mat-form-field",129),c.YNc(1,EA,3,2,"ng-template",null,131,c.W1O)),2&r){const a=c.MAs(2),d=c.oxw().$implicit;c.Q6J("ngIf",d.plafond.length>1)("ngIfElse",a)}}function DA(r,s){if(1&r&&(c.TgZ(0,"td",99),c.YNc(1,PA,2,0,"span",129),c.YNc(2,RA,3,2,"ng-template",null,130,c.W1O),c.qZA()),2&r){const a=s.$implicit,d=c.MAs(3);c.xp6(1),c.Q6J("ngIf",0==a.plafond.length)("ngIfElse",d)}}function wA(r,s){1&r&&(c.TgZ(0,"th",98),c._uU(1," Franchise "),c.qZA())}function OA(r,s){1&r&&(c.TgZ(0,"span"),c._uU(1,"-"),c.qZA())}function kA(r,s){if(1&r&&(c.ynx(0),c.TgZ(1,"mat-option",38),c._uU(2),c.ALo(3,"money"),c.ALo(4,"number"),c.qZA(),c.BQk()),2&r){const a=s.$implicit;c.xp6(1),c.Q6J("value",a),c.xp6(1),c.hij(" ",c.lcZ(3,2,c.xi3(4,4,a.valeur,"1.0-0"))," ")}}function MA(r,s){if(1&r&&(c.TgZ(0,"mat-form-field")(1,"mat-label"),c._uU(2,"Franchise"),c.qZA(),c.TgZ(3,"mat-select",132),c.YNc(4,kA,5,7,"ng-container",12),c.qZA()()),2&r){const a=c.oxw(2),d=a.dataIndex,g=a.$implicit,A=c.oxw(2);c.xp6(3),c.Q6J("formControl",A.getControl(d,"franchise")),c.xp6(1),c.Q6J("ngForOf",g.franchise)}}function UA(r,s){if(1&r&&(c.TgZ(0,"mat-form-field")(1,"mat-label"),c._uU(2,"Franchise"),c.qZA(),c._UZ(3,"input",134),c.qZA()),2&r){const a=c.oxw(3).dataIndex,d=c.oxw(2);c.xp6(3),c.Q6J("formControl",d.getControl(a,"franchise"))}}function FA(r,s){if(1&r&&(c.TgZ(0,"span"),c._uU(1),c.ALo(2,"money"),c.ALo(3,"number"),c.qZA()),2&r){const a=c.oxw(3).$implicit;c.xp6(1),c.Oqu(c.lcZ(2,1,c.xi3(3,3,a.franchise[0].valeur,"1.0-0")))}}function QA(r,s){if(1&r&&(c.YNc(0,UA,4,1,"mat-form-field",129),c.YNc(1,FA,4,6,"ng-template",null,138,c.W1O)),2&r){const a=c.MAs(2),d=c.oxw(2).$implicit;c.Q6J("ngIf","input"==d.franchise[0].descriptionvVal)("ngIfElse",a)}}function JA(r,s){if(1&r&&(c.YNc(0,MA,5,2,"mat-form-field",129),c.YNc(1,QA,3,2,"ng-template",null,137,c.W1O)),2&r){const a=c.MAs(2),d=c.oxw().$implicit;c.Q6J("ngIf",d.franchise.length>1)("ngIfElse",a)}}function LA(r,s){if(1&r&&(c.TgZ(0,"td",99),c.YNc(1,OA,2,0,"span",129),c.YNc(2,JA,3,2,"ng-template",null,136,c.W1O),c.qZA()),2&r){const a=s.$implicit,d=c.MAs(3);c.xp6(1),c.Q6J("ngIf",0==a.franchise.length)("ngIfElse",d)}}function YA(r,s){1&r&&(c.TgZ(0,"th",98),c._uU(1," Formule "),c.qZA())}function GA(r,s){1&r&&(c.TgZ(0,"span"),c._uU(1,"-"),c.qZA())}function BA(r,s){if(1&r&&(c.ynx(0),c.TgZ(1,"mat-option",38),c._uU(2),c.ALo(3,"money"),c.ALo(4,"number"),c.ALo(5,"money"),c.ALo(6,"number"),c.ALo(7,"money"),c.ALo(8,"number"),c.qZA(),c.BQk()),2&r){const a=s.$implicit,d=c.oxw(5);c.xp6(1),c.Q6J("value",a),c.xp6(1),c.AsE(" ","95"!=d.codeProduit&&0==c.lcZ(3,3,c.xi3(4,5,a.valeur,"1.0-0"))?c.lcZ(5,8,c.xi3(6,10,a.valeur,"1.0-0")):c.lcZ(7,13,c.xi3(8,15,a.valeur,"1.0-0"))," ",null==a?null:a.unite," ")}}function zA(r,s){if(1&r&&(c.TgZ(0,"mat-form-field")(1,"mat-label"),c._uU(2,"Formule"),c.qZA(),c.TgZ(3,"mat-select",132),c.YNc(4,BA,9,18,"ng-container",12),c.qZA()()),2&r){const a=c.oxw(2),d=a.dataIndex,g=a.$implicit,A=c.oxw(2);c.xp6(3),c.Q6J("formControl",A.getControl(d,"formule")),c.xp6(1),c.Q6J("ngForOf",g.formule)}}function VA(r,s){if(1&r&&(c.TgZ(0,"mat-form-field")(1,"mat-label"),c._uU(2,"Formule"),c.qZA(),c._UZ(3,"input",134),c.qZA()),2&r){const a=c.oxw(3).dataIndex,d=c.oxw(2);c.xp6(3),c.Q6J("formControl",d.getControl(a,"formule"))}}function jA(r,s){if(1&r&&(c.TgZ(0,"span"),c._uU(1),c.ALo(2,"money"),c.ALo(3,"number"),c.qZA()),2&r){const a=c.oxw(3).$implicit;c.xp6(1),c.Oqu(c.lcZ(2,1,c.xi3(3,3,a.formule[0].valeur,"1.0-0")))}}function HA(r,s){if(1&r&&(c.YNc(0,VA,4,1,"mat-form-field",129),c.YNc(1,jA,4,6,"ng-template",null,141,c.W1O)),2&r){const a=c.MAs(2),d=c.oxw(2).$implicit;c.Q6J("ngIf","input"==d.formule[0].descriptionvVal)("ngIfElse",a)}}function $A(r,s){if(1&r&&(c.YNc(0,zA,5,2,"mat-form-field",129),c.YNc(1,HA,3,2,"ng-template",null,140,c.W1O)),2&r){const a=c.MAs(2),d=c.oxw().$implicit;c.Q6J("ngIf",d.formule.length>1)("ngIfElse",a)}}function KA(r,s){if(1&r&&(c.TgZ(0,"td",99),c.YNc(1,GA,2,0,"span",129),c.YNc(2,$A,3,2,"ng-template",null,139,c.W1O),c.qZA()),2&r){const a=s.$implicit,d=c.MAs(3);c.xp6(1),c.Q6J("ngIf",0==a.formule.length)("ngIfElse",d)}}function WA(r,s){1&r&&(c.TgZ(0,"th",98),c._uU(1," Prime nette "),c.qZA())}function XA(r,s){if(1&r&&(c.ynx(0),c._uU(1),c.ALo(2,"money"),c.ALo(3,"number"),c.TgZ(4,"sup"),c._uU(5,"DZD"),c.qZA(),c.BQk()),2&r){const a=c.oxw().$implicit;c.xp6(1),c.hij(" ",c.lcZ(2,1,c.xi3(3,3,a.prime,"1.0-0"))," ")}}function eT(r,s){1&r&&c._uU(0,"-")}function tT(r,s){if(1&r&&(c.TgZ(0,"td",99),c.YNc(1,XA,6,6,"ng-container",129),c.YNc(2,eT,1,0,"ng-template",null,142,c.W1O),c.qZA()),2&r){const a=s.$implicit,d=c.MAs(3),g=c.oxw(2);c.xp6(1),c.Q6J("ngIf",g.tarifReady&&null!=a.prime)("ngIfElse",d)}}function nT(r,s){1&r&&c._UZ(0,"th",98)}function iT(r,s){if(1&r){const a=c.EpF();c.TgZ(0,"button",145),c.NdJ("click",function(){c.CHM(a);const g=c.oxw().$implicit,A=c.oxw(2);return c.KtG(A.expandedElement=A.expandedElement===g?null:g)}),c.TgZ(1,"mat-icon"),c._uU(2),c.qZA()()}if(2&r){const a=c.oxw().$implicit,d=c.oxw(2);c.xp6(2),c.Oqu(d.expandedElement===a?"indeterminate_check_box":"add_box")}}function oT(r,s){if(1&r&&(c.TgZ(0,"td",143),c.YNc(1,iT,3,1,"button",144),c.qZA()),2&r){const a=s.$implicit,d=c.oxw(2);c.ekj("example-expanded-row",d.expandedElement===a),c.xp6(1),c.Q6J("ngIf",0!=a.sousGarantieList.data.length)}}function rT(r,s){1&r&&c._UZ(0,"th",98)}function aT(r,s){if(1&r){const a=c.EpF();c.TgZ(0,"td",99)(1,"mat-checkbox",150),c.NdJ("click",function(g){const T=c.CHM(a).$implicit,R=c.oxw(4);return g.stopPropagation(),c.KtG(R.sousGarantieSelectedIds.push(T.idSousGarantie))})("change",function(g){const T=c.CHM(a).$implicit,R=c.oxw(4);return c.KtG(g?R.selection.toggle(T):null)}),c.qZA()()}if(2&r){const a=s.dataIndex,d=c.oxw(4);c.xp6(1),c.Q6J("checked",!1)("formControl",d.getSousGarantieControl(a,"checked"))}}function sT(r,s){1&r&&(c.TgZ(0,"th",98),c._uU(1,"Sous garantie "),c.qZA())}function lT(r,s){if(1&r&&(c.TgZ(0,"td",99),c._uU(1),c.qZA()),2&r){const a=s.$implicit;c.xp6(1),c.hij(" ",a.description," ")}}function cT(r,s){1&r&&(c.TgZ(0,"th",98),c._uU(1,"plafond "),c.qZA())}function uT(r,s){1&r&&(c.TgZ(0,"span"),c._uU(1,"/"),c.qZA())}function mT(r,s){if(1&r&&(c.ynx(0),c.TgZ(1,"mat-option",38),c._uU(2),c.ALo(3,"money"),c.ALo(4,"number"),c.qZA(),c.BQk()),2&r){const a=s.$implicit;c.xp6(1),c.Q6J("value",a),c.xp6(1),c.hij(" ",c.lcZ(3,2,c.xi3(4,4,a.valeur,"1.0-0"))," ")}}function dT(r,s){if(1&r&&(c.TgZ(0,"mat-form-field")(1,"mat-label"),c._uU(2,"Plafond"),c.qZA(),c.TgZ(3,"mat-select",132),c.YNc(4,mT,5,7,"ng-container",12),c.qZA()()),2&r){const a=c.oxw(2),d=a.dataIndex,g=a.$implicit,A=c.oxw(4);c.xp6(3),c.Q6J("formControl",A.getSousGarantieControl(d,"plafond")),c.xp6(1),c.Q6J("ngForOf",g.plafond)}}function _T(r,s){if(1&r&&(c.TgZ(0,"mat-form-field")(1,"mat-label"),c._uU(2,"Plafond"),c.qZA(),c._UZ(3,"input",151),c.qZA()),2&r){const a=c.oxw(3),d=a.$implicit,g=a.dataIndex,A=c.oxw(4);c.xp6(3),c.Q6J("max",d.valeur)("formControl",A.getSousGarantieControl(g,"plafond"))}}function pT(r,s){if(1&r&&(c.TgZ(0,"span"),c._uU(1),c.ALo(2,"money"),c.ALo(3,"number"),c.qZA()),2&r){const a=c.oxw(3).$implicit;c.xp6(1),c.Oqu(c.lcZ(2,1,c.xi3(3,3,a.plafond[0].valeur,"1.0-0")))}}function fT(r,s){if(1&r&&(c.YNc(0,_T,4,2,"mat-form-field",129),c.YNc(1,pT,4,6,"ng-template",null,133,c.W1O)),2&r){const a=c.MAs(2),d=c.oxw(2).$implicit;c.Q6J("ngIf","input"==d.plafond[0].descriptionvVal)("ngIfElse",a)}}function gT(r,s){if(1&r&&(c.YNc(0,dT,5,2,"mat-form-field",129),c.YNc(1,fT,3,2,"ng-template",null,131,c.W1O)),2&r){const a=c.MAs(2),d=c.oxw().$implicit;c.Q6J("ngIf",d.plafond.length>1)("ngIfElse",a)}}function hT(r,s){if(1&r&&(c.TgZ(0,"td",99),c.YNc(1,uT,2,0,"span",129),c.YNc(2,gT,3,2,"ng-template",null,130,c.W1O),c.qZA()),2&r){const a=s.$implicit,d=c.MAs(3);c.xp6(1),c.Q6J("ngIf",0==a.plafond.length)("ngIfElse",d)}}function CT(r,s){1&r&&(c.TgZ(0,"th",98),c._uU(1," Franchise "),c.qZA())}function xT(r,s){1&r&&(c.TgZ(0,"span"),c._uU(1,"/"),c.qZA())}function vT(r,s){if(1&r&&(c.ynx(0),c.TgZ(1,"mat-option",38),c._uU(2),c.ALo(3,"money"),c.ALo(4,"number"),c.qZA(),c.BQk()),2&r){const a=s.$implicit;c.xp6(1),c.Q6J("value",a),c.xp6(1),c.hij(" ",c.lcZ(3,2,c.xi3(4,4,a.valeur,"1.0-0"))," ")}}function AT(r,s){if(1&r&&(c.TgZ(0,"mat-form-field")(1,"mat-label"),c._uU(2,"Franchise"),c.qZA(),c.TgZ(3,"mat-select",132),c.YNc(4,vT,5,7,"ng-container",12),c.qZA()()),2&r){const a=c.oxw(2),d=a.dataIndex,g=a.$implicit,A=c.oxw(4);c.xp6(3),c.Q6J("formControl",A.getSousGarantieControl(d,"franchise")),c.xp6(1),c.Q6J("ngForOf",g.franchise)}}function TT(r,s){if(1&r&&(c.TgZ(0,"mat-form-field")(1,"mat-label"),c._uU(2,"Franchise"),c.qZA(),c._UZ(3,"input",134),c.qZA()),2&r){const a=c.oxw(3).dataIndex,d=c.oxw(4);c.xp6(3),c.Q6J("formControl",d.getSousGarantieControl(a,"franchise"))}}function bT(r,s){if(1&r&&(c.TgZ(0,"span"),c._uU(1),c.ALo(2,"money"),c.ALo(3,"number"),c.qZA()),2&r){const a=c.oxw(3).$implicit;c.xp6(1),c.Oqu(c.lcZ(2,1,c.xi3(3,3,a.franchise[0].valeur,"1.0-0")))}}function PT(r,s){if(1&r&&(c.YNc(0,TT,4,1,"mat-form-field",129),c.YNc(1,bT,4,6,"ng-template",null,138,c.W1O)),2&r){const a=c.MAs(2),d=c.oxw(2).$implicit;c.Q6J("ngIf","input"==d.franchise[0].descriptionvVal)("ngIfElse",a)}}function ZT(r,s){if(1&r&&(c.YNc(0,AT,5,2,"mat-form-field",129),c.YNc(1,PT,3,2,"ng-template",null,137,c.W1O)),2&r){const a=c.MAs(2),d=c.oxw().$implicit;c.Q6J("ngIf",d.franchise.length>1)("ngIfElse",a)}}function qT(r,s){if(1&r&&(c.TgZ(0,"td",99),c.YNc(1,xT,2,0,"span",129),c.YNc(2,ZT,3,2,"ng-template",null,136,c.W1O),c.qZA()),2&r){const a=s.$implicit,d=c.MAs(3);c.xp6(1),c.Q6J("ngIf",0==a.franchise.length)("ngIfElse",d)}}function ST(r,s){1&r&&(c.TgZ(0,"th",98),c._uU(1," Formule "),c.qZA())}function yT(r,s){1&r&&(c.TgZ(0,"span"),c._uU(1,"/"),c.qZA())}function NT(r,s){if(1&r&&(c.ynx(0),c.TgZ(1,"mat-option",38),c._uU(2),c.ALo(3,"money"),c.ALo(4,"number"),c.ALo(5,"money"),c.ALo(6,"number"),c.ALo(7,"money"),c.ALo(8,"number"),c.qZA(),c.BQk()),2&r){const a=s.$implicit,d=c.oxw(7);c.xp6(1),c.Q6J("value",a),c.xp6(1),c.AsE(" ","95"!=d.codeProduit&&0==c.lcZ(3,3,c.xi3(4,5,a.valeur,"1.0-0"))?c.lcZ(5,8,c.xi3(6,10,a.valeur,"1.0-0")):c.lcZ(7,13,c.xi3(8,15,a.valeur,"1.0-0"))," ",null==a?null:a.unite," ")}}function IT(r,s){if(1&r&&(c.TgZ(0,"mat-form-field")(1,"mat-label"),c._uU(2,"Formule"),c.qZA(),c.TgZ(3,"mat-select",132),c.YNc(4,NT,9,18,"ng-container",12),c.qZA()()),2&r){const a=c.oxw(2),d=a.dataIndex,g=a.$implicit,A=c.oxw(4);c.xp6(3),c.Q6J("formControl",A.getSousGarantieControl(d,"formule")),c.xp6(1),c.Q6J("ngForOf",g.formule)}}function ET(r,s){if(1&r&&(c.TgZ(0,"mat-form-field")(1,"mat-label"),c._uU(2,"Formule"),c.qZA(),c._UZ(3,"input",134),c.qZA()),2&r){const a=c.oxw(3).dataIndex,d=c.oxw(4);c.xp6(3),c.Q6J("formControl",d.getSousGarantieControl(a,"formule"))}}function RT(r,s){if(1&r&&(c.TgZ(0,"span"),c._uU(1),c.ALo(2,"money"),c.ALo(3,"number"),c.qZA()),2&r){const a=c.oxw(3).$implicit;c.xp6(1),c.Oqu(c.lcZ(2,1,c.xi3(3,3,a.formule[0].valeur,"1.0-0")))}}function DT(r,s){if(1&r&&(c.YNc(0,ET,4,1,"mat-form-field",129),c.YNc(1,RT,4,6,"ng-template",null,141,c.W1O)),2&r){const a=c.MAs(2),d=c.oxw(2).$implicit;c.Q6J("ngIf","input"==d.formule[0].descriptionvVal)("ngIfElse",a)}}function wT(r,s){if(1&r&&(c.YNc(0,IT,5,2,"mat-form-field",129),c.YNc(1,DT,3,2,"ng-template",null,140,c.W1O)),2&r){const a=c.MAs(2),d=c.oxw().$implicit;c.Q6J("ngIf",d.formule.length>1)("ngIfElse",a)}}function OT(r,s){if(1&r&&(c.TgZ(0,"td",99),c.YNc(1,yT,2,0,"span",129),c.YNc(2,wT,3,2,"ng-template",null,139,c.W1O),c.qZA()),2&r){const a=s.$implicit,d=c.MAs(3);c.xp6(1),c.Q6J("ngIf",0==a.formule.length)("ngIfElse",d)}}function kT(r,s){1&r&&c._UZ(0,"th",98)}function MT(r,s){if(1&r&&(c.ynx(0),c._uU(1),c.ALo(2,"money"),c.ALo(3,"number"),c.TgZ(4,"sup"),c._uU(5,"DZD"),c.qZA(),c.BQk()),2&r){const a=c.oxw().$implicit;c.xp6(1),c.hij(" ",c.lcZ(2,1,c.xi3(3,3,a.prime,"1.0-0"))," ")}}function UT(r,s){1&r&&c._uU(0,"-")}function FT(r,s){if(1&r&&(c.TgZ(0,"td",99),c.YNc(1,MT,6,6,"ng-container",129),c.YNc(2,UT,1,0,"ng-template",null,142,c.W1O),c.qZA()),2&r){const a=s.$implicit,d=c.MAs(3),g=c.oxw(4);c.xp6(1),c.Q6J("ngIf",g.tarifReady&&null!=a.prime)("ngIfElse",d)}}function QT(r,s){1&r&&c._UZ(0,"th",98)}function JT(r,s){1&r&&c._UZ(0,"td",99)}function LT(r,s){1&r&&c._UZ(0,"tr",152)}function YT(r,s){1&r&&c._UZ(0,"tr",105)}function GT(r,s){if(1&r&&(c.TgZ(0,"table",148),c.ynx(1,118),c.YNc(2,rT,1,0,"th",90),c.YNc(3,aT,2,2,"td",91),c.BQk(),c.ynx(4,119),c.YNc(5,sT,2,0,"th",90),c.YNc(6,lT,2,1,"td",91),c.BQk(),c.ynx(7,120),c.YNc(8,cT,2,0,"th",90),c.YNc(9,hT,4,2,"td",91),c.BQk(),c.ynx(10,121),c.YNc(11,CT,2,0,"th",90),c.YNc(12,qT,4,2,"td",91),c.BQk(),c.ynx(13,122),c.YNc(14,ST,2,0,"th",90),c.YNc(15,OT,4,2,"td",91),c.BQk(),c.ynx(16,95),c.YNc(17,kT,1,0,"th",90),c.YNc(18,FT,4,2,"td",91),c.BQk(),c.ynx(19,149),c.YNc(20,QT,1,0,"th",90),c.YNc(21,JT,1,0,"td",91),c.BQk(),c.YNc(22,LT,1,0,"tr",126),c.YNc(23,YT,1,0,"tr",97),c.qZA()),2&r){const a=c.oxw().$implicit,d=c.oxw(2);c.Q6J("dataSource",a.sousGarantieList),c.xp6(22),c.Q6J("matHeaderRowDef",d.DisplayedColumnsSousGarantie),c.xp6(1),c.Q6J("matRowDefColumns",d.DisplayedColumnsSousGarantie)}}function BT(r,s){if(1&r&&(c.TgZ(0,"td",99)(1,"div",146),c.YNc(2,GT,24,3,"table",147),c.qZA()()),2&r){const a=s.$implicit,d=c.oxw(2);c.uIk("colspan",d.displayedColumns.length),c.xp6(1),c.Q6J("@detailExpand",a==d.expandedElement?"expanded":"collapsed"),c.xp6(1),c.Q6J("ngIf",d.loadTable)}}function zT(r,s){1&r&&c._UZ(0,"tr",152)}function VT(r,s){1&r&&c._UZ(0,"tr",105)}function jT(r,s){1&r&&c._UZ(0,"tr",153)}const HT=function(){return["expandedDetail"]};function $T(r,s){if(1&r&&(c.TgZ(0,"table",117),c.ynx(1,118),c.YNc(2,xA,1,0,"th",90),c.YNc(3,vA,2,2,"td",91),c.BQk(),c.ynx(4,119),c.YNc(5,AA,2,0,"th",90),c.YNc(6,TA,2,1,"td",91),c.BQk(),c.ynx(7,120),c.YNc(8,bA,2,0,"th",90),c.YNc(9,DA,4,2,"td",91),c.BQk(),c.ynx(10,121),c.YNc(11,wA,2,0,"th",90),c.YNc(12,LA,4,2,"td",91),c.BQk(),c.ynx(13,122),c.YNc(14,YA,2,0,"th",90),c.YNc(15,KA,4,2,"td",91),c.BQk(),c.ynx(16,95),c.YNc(17,WA,2,0,"th",90),c.YNc(18,tT,4,2,"td",91),c.BQk(),c.ynx(19,123),c.YNc(20,nT,1,0,"th",90),c.YNc(21,oT,2,3,"td",124),c.BQk(),c.ynx(22,125),c.YNc(23,BT,3,3,"td",91),c.BQk(),c.YNc(24,zT,1,0,"tr",126),c.YNc(25,VT,1,0,"tr",97),c.YNc(26,jT,1,0,"tr",127),c.qZA()),2&r){const a=c.oxw();c.Q6J("dataSource",a.dataSource),c.xp6(24),c.Q6J("matHeaderRowDef",a.displayedColumns),c.xp6(1),c.Q6J("matRowDefColumns",a.displayedColumns),c.xp6(1),c.Q6J("matRowDefColumns",c.DdM(4,HT))}}function KT(r,s){1&r&&(c.TgZ(0,"mat-header-cell"),c._uU(1,"Groupe"),c.qZA())}function WT(r,s){if(1&r&&(c.TgZ(0,"mat-cell"),c._uU(1),c.qZA()),2&r){const a=s.$implicit;c.xp6(1),c.Oqu(a.group)}}function XT(r,s){1&r&&(c.TgZ(0,"mat-header-cell"),c._uU(1,"Pack"),c.qZA())}function eb(r,s){if(1&r&&(c.TgZ(0,"mat-option",38),c._uU(1),c.qZA()),2&r){const a=s.$implicit;c.Q6J("value",a.idPack0),c.xp6(1),c.Oqu(a.description)}}function tb(r,s){if(1&r){const a=c.EpF();c.TgZ(0,"mat-cell")(1,"mat-select",162),c.NdJ("ngModelChange",function(g){const T=c.CHM(a).$implicit;return c.KtG(T.pack=g)})("selectionChange",function(g){const T=c.CHM(a).$implicit,R=c.oxw(3);return c.KtG(R.getPackMulti(g.value,T.group))}),c.YNc(2,eb,2,2,"mat-option",84),c.qZA()()}if(2&r){const a=s.$implicit,d=c.oxw(3);c.xp6(1),c.MGl("placeholder","veuillez choisir le pack assign\xe9 au groupe: ",a.group,"")("name","pack",a.group,""),c.Q6J("ngModel",a.pack),c.xp6(1),c.Q6J("ngForOf",d.packs)}}function nb(r,s){1&r&&(c.ynx(0,161),c.YNc(1,XT,2,0,"mat-header-cell",155),c.YNc(2,tb,3,4,"mat-cell",156),c.BQk())}function ib(r,s){1&r&&(c.TgZ(0,"mat-header-cell"),c._uU(1,"Pack"),c.qZA())}function ob(r,s){if(1&r&&(c.TgZ(0,"mat-option",38),c._uU(1),c.qZA()),2&r){const a=s.$implicit;c.Q6J("value",a.idPack0),c.xp6(1),c.Oqu(a.description)}}function rb(r,s){if(1&r){const a=c.EpF();c.TgZ(0,"mat-cell")(1,"mat-select",162),c.NdJ("ngModelChange",function(g){const T=c.CHM(a).$implicit;return c.KtG(T.pack=g)})("selectionChange",function(g){const T=c.CHM(a).$implicit,R=c.oxw(3);return c.KtG(R.getPackMulti(g.value,T.group))}),c.YNc(2,ob,2,2,"mat-option",84),c.qZA()()}if(2&r){const a=s.$implicit,d=c.oxw(3);c.xp6(1),c.MGl("placeholder","veuillez choisir le pack assign\xe9 au groupe: ",a.group,"")("name","pack",a.group,""),c.Q6J("ngModel",a.pack),c.xp6(1),c.Q6J("ngForOf",d.packs[a.group])}}function ab(r,s){1&r&&(c.ynx(0,161),c.YNc(1,ib,2,0,"mat-header-cell",155),c.YNc(2,rb,3,4,"mat-cell",156),c.BQk())}function sb(r,s){1&r&&c._UZ(0,"mat-header-row")}function lb(r,s){1&r&&c._UZ(0,"mat-row")}function cb(r,s){if(1&r&&(c.TgZ(0,"form")(1,"mat-table",154),c.ynx(2,94),c.YNc(3,KT,2,0,"mat-header-cell",155),c.YNc(4,WT,2,1,"mat-cell",156),c.BQk(),c.YNc(5,nb,3,0,"ng-container",157),c.YNc(6,ab,3,0,"ng-template",null,158,c.W1O),c.YNc(8,sb,1,0,"mat-header-row",159),c.YNc(9,lb,1,0,"mat-row",160),c.qZA()()),2&r){const a=c.MAs(7),d=c.oxw();c.xp6(1),c.Q6J("dataSource",d.dataSourceGroupePack),c.xp6(4),c.Q6J("ngIf","20G"!=d.codeProduit)("ngIfElse",a),c.xp6(3),c.Q6J("matHeaderRowDef",d.displayedColumnsGroupePack),c.xp6(1),c.Q6J("matRowDefColumns",d.displayedColumnsGroupePack)}}function ub(r,s){if(1&r){const a=c.EpF();c.TgZ(0,"button",163),c.NdJ("click",function(){c.CHM(a);const g=c.oxw();return c.KtG(g.next())}),c.TgZ(1,"span"),c._uU(2,"Suivant"),c.qZA()()}if(2&r){const a=c.oxw();c.Q6J("disabled",a.garantieNull)}}function mb(r,s){1&r&&c._uU(0,"R\xe9duction")}function db(r,s){if(1&r&&(c.TgZ(0,"div",109),c._uU(1),c.qZA()),2&r){const a=c.oxw();c.xp6(1),c.Oqu(a.errorHandler.msg)}}function _b(r,s){if(1&r&&(c.ynx(0),c.TgZ(1,"mat-option",38),c._uU(2),c.qZA(),c.BQk()),2&r){const a=s.$implicit;c.xp6(1),c.Q6J("value",a.idConvention),c.xp6(1),c.hij(" ",a.nomConvention," ")}}function pb(r,s){if(1&r&&(c.ynx(0),c.TgZ(1,"mat-option",38),c._uU(2),c.qZA(),c.BQk()),2&r){const a=s.$implicit;c.xp6(1),c.Q6J("value",a.idReduction),c.xp6(1),c.hij(" ",a.nomReduction," ")}}function fb(r,s){1&r&&c._uU(0,"R\xe9sum\xe9")}function gb(r,s){if(1&r&&(c.TgZ(0,"div",109),c._uU(1),c.qZA()),2&r){const a=c.oxw();c.xp6(1),c.Oqu(a.errorHandler.msg)}}const hb=function(r,s,a){return["/","consultation/vie/",r,s,a]};function Cb(r,s){if(1&r&&(c.TgZ(0,"div",164),c._uU(1),c.TgZ(2,"a",165),c._uU(3,"cliquez ici."),c.qZA()()),2&r){const a=c.oxw();c.xp6(1),c.hij("Le devis ",a.idDevis," a \xe9t\xe9 cr\xe9\xe9 avec succ\xe8s, pour le consulter veuillez "),c.xp6(1),c.Q6J("routerLink",c.kEZ(2,hb,a.codeProduit,a.produit,a.idDevis))}}function xb(r,s){if(1&r&&(c.ynx(0),c.TgZ(1,"td"),c._uU(2),c.qZA(),c.TgZ(3,"td"),c._uU(4),c.ALo(5,"money"),c.ALo(6,"number"),c.TgZ(7,"sup"),c._uU(8,"DZD"),c.qZA()(),c.BQk()),2&r){const a=c.oxw().$implicit;c.xp6(2),c.Oqu(a.description),c.xp6(2),c.hij("",c.lcZ(5,2,c.xi3(6,4,a.prime,"1.0-0"))," ")}}function vb(r,s){if(1&r&&(c.TgZ(0,"tr"),c.YNc(1,xb,9,7,"ng-container",32),c.qZA()),2&r){const a=s.$implicit;c.xp6(1),c.Q6J("ngIf",101==a.idPrime)}}function Ab(r,s){if(1&r&&(c.TgZ(0,"tr")(1,"td"),c._uU(2),c.qZA(),c.TgZ(3,"td"),c._uU(4),c.ALo(5,"money"),c.ALo(6,"number"),c.TgZ(7,"sup"),c._uU(8,"DZD"),c.qZA()()()),2&r){const a=s.$implicit;c.xp6(2),c.Oqu(a.description),c.xp6(2),c.hij("",c.lcZ(5,2,c.xi3(6,4,a.prime,"1.0-0"))," ")}}function Tb(r,s){if(1&r&&(c.ynx(0),c.TgZ(1,"td",166),c._uU(2),c.qZA(),c.TgZ(3,"td",166),c._uU(4),c.ALo(5,"money"),c.ALo(6,"number"),c.TgZ(7,"sup"),c._uU(8,"DZD"),c.qZA()(),c.BQk()),2&r){const a=c.oxw().$implicit;c.xp6(2),c.Oqu(a.description),c.xp6(2),c.hij("",c.lcZ(5,2,c.xi3(6,4,a.prime,"1.0-0"))," ")}}function bb(r,s){if(1&r&&(c.TgZ(0,"tr"),c.YNc(1,Tb,9,7,"ng-container",32),c.qZA()),2&r){const a=s.$implicit;c.xp6(1),c.Q6J("ngIf",186==a.idPrime)}}function Pb(r,s){if(1&r){const a=c.EpF();c.TgZ(0,"div",167)(1,"button",168),c.NdJ("click",function(){c.CHM(a);const g=c.oxw();return c.KtG(g.downloadDevis(g.returnedDevis))}),c.TgZ(2,"mat-icon",169),c._uU(3," download "),c.qZA(),c._uU(4,"T\xe9l\xe9charger devis"),c.qZA(),c.TgZ(5,"button",168),c.NdJ("click",function(){c.CHM(a);const g=c.oxw();return c.KtG(g.convertToContract())}),c.TgZ(6,"mat-icon",169),c._uU(7," source_notes "),c.qZA(),c._uU(8,"Convertir en contrat"),c.qZA()()}}const Zb=function(r){return{"button--loading":r}};function qb(r,s){if(1&r){const a=c.EpF();c.TgZ(0,"button",170),c.NdJ("click",function(){c.CHM(a);const g=c.oxw();return c.KtG(g.submitDevis())}),c.TgZ(1,"span",171),c._uU(2,"Enregistrer devis"),c.qZA()()}if(2&r){const a=c.oxw();c.Q6J("ngClass",c.VKq(2,Zb,a.loaderDevis))("disabled",a.loaderDevis)}}const b2=new Date;function P2(r){var s=new Date(r.value);return b2.getFullYear()-s.getFullYear()<18?{ageInf18:!0}:null}function Z2(r){var s=new Date(r.value);return b2.getFullYear()-s.getFullYear()>106?{ageSup107:!0}:null}let Sb=(()=>{class r{constructor(a,d,g,A,T,R,L,V,X,pe,fe,Ae,qe,de,Ne,ze){this.dialog=a,this.cd=d,this.cryptoService=g,this.route=A,this.router=T,this._snackBar=R,this.conventionService=L,this.devisService=V,this.reductionService=X,this.packService=pe,this.agencesService=fe,this.personneService=Ae,this.dureeService=qe,this.paramRisqueService=de,this.genericService=Ne,this.formBuilder=ze,this.load=!1,this.loadTable=!1,this.groupArray=[],this.groupesPacks=[],this.isFieldReadOnly=!1,this.fileSuccess=!1,this.tkn=JSON.parse(sessionStorage.getItem("access_token")||"")?.access_token,this.displayedColumns=["select","garantie","plafond","franchise","formule","action","sousGarantie"],this.originalDisplayedColumns=["select","garantie","plafond","franchise","formule","action","sousGarantie"],this.displayedColumnsListOfList=["idList","description","action"],this.displayedColumnsRisque=[],this.innerColumnsRisque=[],this.produitInfo={},this.dataSource=new w.by,this.dataSourceSousGarantie=new w.by,this.selection=new Q.Ov(!0,[]),this.plafondGav=[],this.tarifReady=!1,this.errorPackForm=!1,this.sousGarantieExist=!1,this.loaderControles=!1,this.successDevis=!1,this.saveDevis=!0,this.loaderTarif=!1,this.loaderDevis=!1,this.franchiseExist=!1,this.plafondExist=!1,this.formuleExist=!1,this.multiRisque=!1,this.risqueArrayReady=!1,this.withFile=!1,this.garantieNull=!1,this.today=new Date,this.franchises=[],this.idProduit=0,this.PrimeTotale=0,this.valeurVenale=0,this.idDevisWorkFlow=45,this.risqueIndex=0,this.risqueIndexBody=0,this.idPack=0,this.paraRisqueProduit=[],this.devis={},this.devisGroupe=[],this.paramList=[],this.paramElement={},this.garantieSelected=[],this.garantieSelectedIds=[],this.sousGarantieSelectedIds=[],this.garantieTab=[],this.sousGarantieTab=[],this.garantieAll=[],this.conventions=[],this.communes=[],this.filterReduction=O.P,this.controleDevis=[],this.reductions=[],this.maxContenue=1e7,this.multiRisqueArray=[],this.risqueConsult={},this.calculCapitaleMRP=5e4,this.DisplayedColumnsSousGarantie=["select","garantie","plafond","franchise","formule","action","more"],this.listParamRisque=[],this.paraRisqueType=[],this.codesListParams=[],this.idPays=0,this.errorTarif={error:!1,msg:""},this.displayedColumnsGarantie=["garantie","plafond","formule","franchise","prime"],this.dataSourceRisque=new w.by,this.displayedColumnsGroupePack=["groupe","pack"],this.dataReturned=xe.q2,this.resumeTable=[],this.returnedTarif=[],this.defaultConvention="aucuneConvention",this.typesContact=["fixe","mobile"],this.wilayas=[],this.durees=[],this.typeClients=[],this.agences=[],this.warningMessage=[],this.packs=[],this.labelNom="Nom",this.errorHandler={error:!1,msg:""},this.autditUser="",this.paraRisqueProduitCategory=[],this.tableauxParCategorie=[],this.tableauxParCategorieAssure=[],this.nbrAssure=new o.NI,this.risqueStep=0,this.month=new Date,this.minDate=new Date,this.maxDate=new Date,this.selectedValue=[],this.isAssure=!1,this.isCheckboxDisabled=!1,this.displayFormRisque=!0,this.erreurFormRisque=!1,this.garantiesNew=[],this.duration=0,this.isCourtier=sessionStorage.getItem("roles")?.includes("COURTIER"),this.isBEA=sessionStorage.getItem("roles")?.includes("CDC_BEA"),this.agencePersonne=parseInt(sessionStorage.getItem("agence")||"0")}ngOnInit(){this.maxDate.setDate(this.maxDate.getDate()+181),sessionStorage.getItem("roles")?.includes("BO")&&this.minDate.setDate(this.minDate.getDate()-365),sessionStorage.getItem("roles")?.includes("CDC")||sessionStorage.getItem("roles")?.includes("DA"),this.now=new Date,this.month.setMonth(this.now.getMonth()+1),this.devis.list=[],null!==this.codeProduit&&(this.codeProduit=this.route.snapshot.paramMap.get("codeProduit"),this.produit=this.route.snapshot.paramMap.get("produit")),this.devis.groupes=[],this.autditUser=sessionStorage.getItem("userId"),this.autditUser=this.autditUser?.replace(/^"(.+)"$/,"$1"),this.dataSource.data=[],this.getProductId(),this.getIdPays("DZA"),this.getAllParamRisque(),this.getDureeByProduit(),this.getTypeClient(),this.getAllAgences(),this.getAllConventions(),this.getAllReductions();let a=[],d={},g={},A={};this.dataReturned.paramDevisList.map(T=>{T.categorieList.map(R=>{"forumule"==R.description?d={idCategorie:R.idCategorie,description:R.description,valeur:R.valeur,sousCategorieList:{idSousCategorie:R.sousCategorieList.idSousCategorie,description:R.sousCategorieList.description,valeur:R.sousCategorieList.valeur}}:"plafond"==R.description?A={idCategorie:R.idCategorie,description:R.description,valeur:R.valeur,sousCategorieList:{idSousCategorie:R.sousCategorieList.idSousCategorie,description:R.sousCategorieList.description,valeur:R.sousCategorieList.valeur}}:"franchise"==R.description&&(g={idCategorie:R.idCategorie,description:R.description,valeur:R.valeur,sousCategorieList:{idSousCategorie:R.sousCategorieList.idSousCategorie,description:R.sousCategorieList.description,valeur:R.sousCategorieList.valeur}})}),a.push({idGarantie:T.idGarantie,description:T.description,prime:T.prime,plafond:A,formule:d,franchise:g}),d={},g={},A={}}),this.dataSourceGarantie=new w.by(a),this.formInfoSouscripteur=this.formBuilder.group({typeClient:["",[o.kI.required]],typeContact:["",[o.kI.required]],nom:["","personne physique"!=this.typeClient?[o.kI.required,o.kI.maxLength(50)]:[o.kI.required,o.kI.maxLength(50),o.kI.pattern(e.e.nom)]],prenom:["",[o.kI.required,o.kI.maxLength(50),o.kI.pattern(e.e.nom)]],dateNaissance:["",[o.kI.required,P2,Z2]],tel:["",[o.kI.required,o.kI.pattern(e.e.mobile)]],email:["",[o.kI.pattern(e.e.email)]],agence:[this.isCourtier||this.isBEA?this.agencePersonne:"",[o.kI.required]]}),this.formInfoSouscripteur.valueChanges.subscribe(()=>{this.tarifReady=!1}),this.formListParamRisque=this.formBuilder.group({}),this.formParamRisque=this.formBuilder.group({}),this.formParamRisque.valueChanges.subscribe(()=>{this.tarifReady=!1}),this.formPackGaranties=this.formBuilder.group({franchiseFormArray:this.formBuilder.array([])}),this.formReduction=this.formBuilder.group({reduction:[0],convention:[0]}),this.formReduction.get("convention").setValue("aucuneConvention"),this.formReduction.get("reduction").setValue("aucuneReduction"),this.isCourtier||this.isBEA?this.formInfoSouscripteur.get("agence")?.disable():this.formInfoSouscripteur.get("agence")?.enable()}getIdPays(a){this.genericService.getPays().subscribe({next:d=>{this.idPays=d.find(g=>g.codePays==a).idPays,this.getWilayas()},error:d=>{console.log(d)}})}getProductId(){this.codeProduit=this.route.snapshot.paramMap.get("codeProduit"),this.idProduit=JSON.parse(sessionStorage.getItem("products")||"{}").find(a=>a.codeProduit==this.codeProduit)?.idProduit,this.getInfoProduit()}getInfoProduit(){this.genericService.getPorduitById(this.idProduit).subscribe({next:a=>{this.produitInfo=a,this.multiRisque="Oui"==a.param_Produit_Reponses.filter(d=>"multirisque"==d.idParamProduit.libelle)[0].reponse.description},error:a=>{console.log(a)}})}get franchi(){return this.formPackGaranties.get("franchiseFormArray")}newFranchises(){return this.formBuilder.group({idGarantie:"",valeurFranchise:""})}addfranchi(){this.franchi.push(this.newFranchises())}getWilayas(){this.genericService.getAllWilayas(this.idPays).subscribe({next:a=>{this.wilayas=a},error:a=>{console.log(a)}})}getCommune(a){this.genericService.getAllCommuneByWilaya(a).subscribe({next:d=>{this.communes=d},error:d=>{console.log(d)}})}getDureeByProduit(){this.dureeService.getDureeByIdProduit(this.idProduit).subscribe({next:a=>{this.durees=a},error:a=>{console.log(a)}})}getTypeClient(){this.genericService.getParam(JSON.parse(sessionStorage.getItem("dictionnaire")||"{}").find(a=>"C24"==a.code).idCategorie).subscribe({next:a=>{this.typeClients=a},error:a=>{console.log(a)}})}getAllAgences(){this.agencesService.getAllAgence().subscribe({next:a=>{this.agences=a},error:a=>{console.log(a)}})}getPackVoyageOrGAV(){let a={};a="20A"==this.codeProduit?{destination:this.formParamRisque.get("Destination").value.id}:{classeProfession:this.devis?.groupes?.[0]?.groupeList?.[0]?.risque?.paramList?.find(d=>191==d.idParam)?.reponse?.idReponse},"20G"==this.codeProduit?this.dataSourceGroupePack?.data?.forEach(d=>{a={classeProfession:this.devis?.groupes?.find(A=>A.description==d.group)?.groupeList?.[0]?.risque?.paramList?.find(A=>191==A.idParam)?.reponse?.idReponse},this.packService.getPackVoyage(a).subscribe({next:A=>{this.packs[d.group]=A},error:A=>{console.log(A)}})}):this.packService.getPackVoyage(a).subscribe({next:d=>{this.packs=d},error:d=>{console.log(d)}})}getPack(a,d){this.tarifReady=!1,this.errorHandler.error=!1,this.errorHandler.msg="",this.idPack=a,this.packService.getPackById(a).subscribe({next:g=>{this.displayedColumns=["select","garantie","plafond","franchise","formule","action","sousGarantie"],this.DisplayedColumnsSousGarantie=["select","garantie","plafond","franchise","formule","action","more"],this.franchiseExist=!1,this.plafondExist=!1,this.formuleExist=!1,this.devis.pack=a,this.garantieTab=[],this.garantieAll=g.garantie,this.groupesPacks.push({group:d,pack:g}),this.garantieNull=!1,this.garantieAll.filter(A=>{let T=[],R=[],L=[];A.sousGarantieList?.filter(V=>{this.sousGarantieExist=!0;let X=[],pe=[],fe=[];V.categorieList.filter(Ae=>{switch(Ae.description){case"plafond":"input valeur venale"==Ae.descriptionvVal&&"45A"==this.route.snapshot.paramMap.get("codeProduit")&&(Ae.valeur=this.valeurVenale),X.push(Ae),this.plafondExist=!0;break;case"formule":pe.push(Ae),this.formuleExist=!0;break;case"franchise":fe.push(Ae),this.franchiseExist=!0}}),this.sousGarantieTab.push({idSousGarantie:V.idSousGarantie,codeSousGarantie:V.codeSousGarantie,idPackComplet:V.idPackComplet,idListParamRisque:V.idListParamRisque,description:V.description,obligatoire:V.obligatoire,prime:"",plafond:X,formule:pe,franchise:fe,valeur:V.valeurGarantie})}),A.categorieList.filter(V=>{switch(V.description){case"plafond":"input valeur venale"==V.descriptionvVal&&"45A"==this.route.snapshot.paramMap.get("codeProduit")&&(V.valeur=this.valeurVenale),T.push(V),this.plafondExist=!0;break;case"formule":R.push(V),this.formuleExist=!0;break;case"franchise":L.push(V),this.franchiseExist=!0}}),this.garantieTab.push({idGarantie:A.idGarantie,idPackComplet:A.idPackComplet,codeGarantie:A.codeGarantie,idListParamRisque:A.idListParamRisque,description:A.description,obligatoire:A.obligatoire,prime:"",plafond:T,formule:R,franchise:L,sousGarantieList:new w.by(this.sousGarantieTab)})}),this.garantieTab.sort((A,T)=>Number(T.obligatoire)-Number(A.obligatoire)),this.dataSource=new w.by(this.garantieTab),this.formPackGaranties=new o.Oe(this.dataSource.data.map(A=>new o.cw({idPackComplet:new o.NI(A.idPackComplet),franchise:new o.NI,idfranchise:new o.NI({value:A.franchise,disabled:"input"!=A.franchise.descriptionvVal}),plafond:new o.NI,idplafond:new o.NI({value:A.plafond,disabled:!0}),formule:new o.NI,idformule:new o.NI({value:A.formule,disabled:!0}),checked:new o.NI({value:!0,disabled:A.obligatoire}),souGarantieArray:new o.Oe(A.sousGarantieList.data.map(T=>new o.cw({idPackComplet:new o.NI(T.idPackComplet),franchise:new o.NI,idfranchise:new o.NI({value:T.franchise,disabled:"input"!=T.franchise.descriptionvVal}),plafond:new o.NI,idplafond:new o.NI({value:T.plafond,disabled:!0}),formule:new o.NI,idformule:new o.NI({value:T.formule,disabled:!0}),checked:new o.NI({value:!0,disabled:T.obligatoire}),valeur:new o.NI("95"==this.codeProduit&&null!=T.valeurGarantie?T.valeurGarantie:"")})))}))),this.formPackGaranties.valueChanges.subscribe(()=>{this.errorPackForm=!1}),this.loadTable=!0,this.objectDevis(!0)},error:g=>{console.log(g)}})}getPackMulti(a,d){this.packService.getPackById(a).subscribe({next:g=>{this.idPackComplet=g.idPackComplet,this.garantiesNew=g.garantie,this.devis.pack=a,this.devis.groupes.find(A=>A.description==d).idPack=a,this.groupesPacks.push({group:d,pack:g}),this.garantieNull=!1,this.dataSourceGroupePack?.data?.length==this.groupesPacks?.length&&(this.tarifReady=!0)},error:g=>{console.log(g)}})}getControl(a,d){return this.actualControlGarantie=a,this.formPackGaranties.at(a).get(d)}getSousGarantieControl(a,d){return this.formPackGaranties.at(this.actualControlGarantie).get("souGarantieArray").at(a).get(d)}plafondChange(a,d){const g={idPackComplet:d,categorieList:{idCategoriePackComplet:a.idParamPackComplet,sousCategorieList:null,valeur:a.valeur}};this.plafondGav?.find(A=>A.idPackComplet==d)?this.plafondGav.find(A=>A.idPackComplet==d).categorieList=g.categorieList:this.plafondGav.push(g)}changeTypeClient(a){this.typeClient=a.description,"personne morale"==this.typeClient?(this.formInfoSouscripteur.get("prenom")?.setValidators([]),this.formInfoSouscripteur.get("dateNaissance")?.setValidators([]),this.formInfoSouscripteur.get("email")?.setValidators([o.kI.required,o.kI.pattern(e.e.email)]),this.labelNom="Raison Social"):(this.labelNom="Nom",this.formInfoSouscripteur.get("prenom")?.setValidators([o.kI.required,o.kI.pattern(e.e.nom)]),this.formInfoSouscripteur.get("email")?.setValidators([o.kI.pattern(e.e.email)]),this.formInfoSouscripteur.get("dateNaissance")?.setValidators([o.kI.required,P2,Z2])),this.formInfoSouscripteur.get("prenom").updateValueAndValidity(),this.formInfoSouscripteur.get("dateNaissance").updateValueAndValidity(),this.formInfoSouscripteur.get("email").updateValueAndValidity()}goBack(){this.myStepper.previous()}isAllSelected(){return this.selection.selected.length===this.dataSource.data.length}diselectAll(){this.selection.clear(),this.dataSource.data.forEach(a=>{this.formPackGaranties.controls.map(d=>{a.obligatoire||d.value.idPackComplet==a.idPackComplet&&(d.controls.checked.value=!1)})})}masterToggle(){this.isAllSelected()?this.diselectAll():this.dataSource.data.forEach(a=>{this.formPackGaranties.controls.map(d=>{d.value.idPackComplet==a.idPackComplet&&(d.controls.checked.value=!0)}),this.selection.select(a)})}getAllParamRisque(){let a=!1,d=[];this.paramRisqueService.getParamByProduit(this.idProduit).subscribe({next:g=>{this.paramRisqueService.getWorkFlowByProduit(this.idProduit,this.idDevisWorkFlow).subscribe({next:A=>{g.map(T=>{let R={},L=null,V=null;A.filter(X=>{T.paramRisque.idParamRisque==X.paramRisque.idParamRisque&&(a=!0,L=X.enabled,V=X.obligatoire)}),this.paraRisqueType.push(R),R.idParamRisque=T.paramRisque.idParamRisque,R.libelle=T.paramRisque.libelle,R.formName=T.paramRisque.libelle.split(" ").map(X=>X.charAt(0).toUpperCase()+X.substring(1)).join("").replace(/[\xb0']/g,""),R.orderChamp=T.paramRisque.orderChamp,R.position=T.paramRisque.position,R.typeChamp=T.paramRisque.typeChamp,R.sizeChamp=T.paramRisque.sizeChamp,R.codeParam=T.paramRisque.codeParam,R.reponses=T.paramRisque.categorie?.paramDictionnaires,R.typeValeur=T.iddictionnaire,R.defaultValue=T.valeur,R.obligatoire=V,R.enable=L,R.category=T.paramRisque.categorieParamRisque?.description,R.codeCategory=T.paramRisque.categorieParamRisque?.code,R.parent=T.paramRisque.paramRisqueParent,R.isParent=T.paramRisque.isParent,"valeur minimum"==T?.iddictionnaire?.description&&(R.valeurMin=T.valeur),"valeur maximum"==T?.iddictionnaire?.description&&(R.valeurMax=T.valeur),null==this.paraRisqueProduit.find(X=>T.paramRisque.idParamRisque===X.idParamRisque)&&a?(this.formParamRisque.addControl(R.formName,0!=R.sizeChamp&&null!=R.sizeChamp?new o.NI(R.defaultValue,[o.kI.required,o.kI.minLength(R.sizeChamp),o.kI.maxLength(R.sizeChamp)]):R.obligatoire?new o.NI(R.defaultValue,[o.kI.required]):new o.NI(R.defaultValue)),null!=R.parent&&this.formParamRisque.get(R.formName).disable(),this.paraRisqueProduit.push(R),this.multiRisque&&(this.innerColumnsRisque.push({formName:R.formName,libelle:R.libelle}),this.displayedColumnsRisque=["risqueNum","nom","groupe","action"]),"L08"==T.paramRisque.typeChamp.code&&null==T.paramRisque.paramRisqueParent&&this.paramRisqueService.getTableParamParent(R.idParamRisque).subscribe({next:X=>{R.reponses=X},error:X=>{console.log(X)}})):a&&("valeur minimum"==T?.iddictionnaire?.description?(this.formParamRisque.get(R.formName).addValidators([o.kI.min(R.valeurMin)]),this.formParamRisque.get(R.formName).updateValueAndValidity()):"valeur maximum"==T?.iddictionnaire?.description&&(this.formParamRisque.get(R.formName).addValidators([o.kI.max(R.valeurMax)]),this.formParamRisque.get(R.formName).updateValueAndValidity())),a=!1,d=[]}),this.multiRisque&&(this.formParamRisque.addControl("newGroupe",new o.NI("",[])),this.formParamRisque.addControl("groupe",new o.NI({value:"20G"==this.codeProduit?"GAV":"voyage",disabled:"20A"==this.codeProduit},[]))),this.paraRisqueProduit.filter(T=>{"20G"==this.codeProduit?"P13878"==T.codeCategory&&this.tableauxParCategorie.push(T):"CP540"==T.codeCategory&&this.tableauxParCategorie.push(T),"CP541"==T.codeCategory&&this.tableauxParCategorieAssure.push(T)}),console.log("hello je suis le conteu de tableau categorie",this.tableauxParCategorie),this.paraRisqueProduitCategory=this.paraRisqueProduit.reduce((T,R)=>((T[R.category]=T[R.category]||[]).push(R),T),{}),this.paraRisqueProduitCategory=Object.values(this.paraRisqueProduitCategory),console.log("try to find out whats risqueArrayReady",this.paraRisqueProduitCategory),this.paraRisqueProduitCategory.map(T=>{T.sort((R,L)=>R.orderChamp<L.orderChamp?-1:1)}),this.risqueArrayReady=!0,console.log("this.risqueArrayReady",this.risqueArrayReady)},error:A=>{console.log(A)}})},error:g=>{console.log(g)}})}changeRoleClient(a,d){a&&(this.formParamRisque.get("Nom")?.setValue(this.formInfoSouscripteur?.value?.nom),this.formParamRisque.get("Pr\xe9nom")?.setValue(this.formInfoSouscripteur?.value?.prenom),this.formParamRisque.get("DateDeNaissance")?.setValue(this.formInfoSouscripteur?.value?.dateNaissance),this.isAssure=!0)}submitInfosSouscripteur(){if(this.formInfoSouscripteur.valid)this.myStepper.next(),this.devis.typeClient=this.formInfoSouscripteur.get("typeClient").value.idParam,this.devis.produit=this.idProduit,"personne physique"!=this.typeClient?(this.devis.raisonSocial=this.formInfoSouscripteur.get("nom").value,this.devis.prenom="",this.devis.nom="",this.devis.dateAssure=""):(this.devis.prenom=this.formInfoSouscripteur.get("prenom").value,this.devis.nom=this.formInfoSouscripteur.get("nom").value,this.devis.dateAssure=Z(this.formInfoSouscripteur.get("dateNaissance").value).format("YYYY-MM-DD[T]HH:mm:ss.000Z"),this.devis.raisonSocial=""),this.devis.telephone=this.formInfoSouscripteur.get("tel").value,this.devis.email=this.formInfoSouscripteur.get("email").value,this.devis.agence=this.formInfoSouscripteur.get("agence").value,this.devis.duree=5;else{const a=[],d=this.formInfoSouscripteur.controls;for(const g in d)d[g].invalid&&a.push(g)}}getAllConventions(){this.conventionService.getAllConventions().subscribe({next:a=>{this.conventions=a},error:a=>{console.log(a)}})}getAllReductions(){this.filterReduction.typeReduction=262,this.filterReduction.produit=this.idProduit,this.reductionService.reductionFiltre(this.filterReduction).subscribe({next:a=>{this.reductions=a},error:a=>{console.log(a)}})}getReductionByConvention(a){"aucuneConvention"!=a?(this.formReduction.get("reduction").setValidators([o.kI.required]),this.reductionService.getReductionByConvention(a).subscribe({next:d=>{0!=d.length?(this.reductions=d.filter(g=>g.produit==JSON.parse(sessionStorage.getItem("products")||"{}").find(A=>A.codeProduit==this.route.snapshot.paramMap.get("codeProduit")).description),this.errorHandler.error=!1,this.errorHandler.msg=""):(this.errorHandler.error=!0,this.errorHandler.msg="cette convention n'a aucune r\xc3\xa9duction.")},error:d=>{console.log(d)}})):(this.errorHandler.error=!1,this.errorHandler.msg="",this.formReduction.get("reduction").setValidators([]),this.getAllReductions())}submitReduction(){var a=this;return(0,Le.Z)(function*(){if(a.formReduction.valid&&"aucuneConvention"!=a.formReduction.get("convention").value){if("aucuneReduction"!=a.formReduction.get("reduction").value){a.basicTarif.idConvention=a.formReduction.get("convention").value,a.basicTarif.idReduction=a.formReduction.get("reduction").value,a.basicTarif.auditUser=a.autditUser,a.basicTarif.canal=100,a.basicTarif.tailleRisque=a.nbrAssure.value;const d=yield a.cryptoService.generateHmac(a.tkn,a.basicTarif),A={stringJson:JSON.stringify(a.basicTarif),signature:d};a.reductionService.applyReduction(A).subscribe({next:T=>{a.returnedTarif=T,a.errorHandler.error=!1,a.errorHandler.msg="",a.myStepper.next()},error:T=>{console.log(T),a.handleError(T)}})}}else if("aucuneConvention"==a.formReduction.get("convention").value&&a.formReduction.valid)if("aucuneReduction"==a.formReduction.get("reduction").value)a.myStepper.next(),a.errorHandler.error=!1,a.errorHandler.msg="",a.basicTarif.idConvention=0,a.basicTarif.idReduction=0;else{a.basicTarif.idConvention=a.formReduction.get("convention").value,a.basicTarif.idReduction=a.formReduction.get("reduction").value,a.basicTarif.auditUser=a.autditUser,a.basicTarif.canal=100;const d=yield a.cryptoService.generateHmac(a.tkn,a.basicTarif),A={stringJson:JSON.stringify(a.basicTarif),signature:d};a.reductionService.applyReduction(A).subscribe({next:T=>{a.returnedTarif=T,a.errorHandler.error=!1,a.errorHandler.msg="",a.myStepper.next()},error:T=>{console.log(T),a.handleError(T)}})}})()}changeTypeContact(a){"fixe"==a?this.formInfoSouscripteur.get("tel").setValidators([o.kI.pattern(e.e.fixe),o.kI.required]):this.formInfoSouscripteur.get("tel").setValidators([o.kI.pattern(e.e.mobile),o.kI.required]),this.formInfoSouscripteur.get("tel").updateValueAndValidity()}clearValidators(a){this.paraRisqueProduit.map(d=>{a==d.formName&&this.formParamRisque.controls[d.formName].updateValueAndValidity()})}submitParamRisque(a){this.loaderControles=!0,this.erreurFormRisque=!1,this.controleDevis=[],this.warningMessage=[],this.isAssure=!1,this.isCheckboxDisabled=!0;const d=he.cloneDeep(this.formParamRisque);if("20G"==this.codeProduit){if("CT111"==this.formParamRisque.value.SportProfessionnel.code)return void i().fire("les sports professionnels sont exclus du tarif","","error");const T=this.formParamRisque.get("groupe").value;if("new"!=T&&"F01"!=this.selectedValue.code){const R=this.devis.groupes.find(L=>L.description==T);if(R?.groupeList?.[0]?.risque?.paramList?.find(L=>191==L.idParam)?.reponse?.idReponse!=this.formParamRisque.get("ClasseDeProfession").value.idParam&&null!=R)return void i().fire("les risques du meme groupe ne peuvent pas avoir des classes d'activit\xe9 differentes","","error")}}const A=this.formParamRisque.controls;for(const T in A);if(console.log("this.nbrAssure ",this.nbrAssure),"F01"==this.selectedValue.code||"INVALID"!=this.nbrAssure.status){if("F01"!=this.selectedValue.code&&this.multiRisqueArray.length==this.nbrAssure.value)i().fire("le nombre de risque a atteint le nombre de risques indiqu\xe9","error"),("F02"==this.selectedValue.code||"F02"==this.selectedValue.code)&&this.nbrAssure.value<2&&i().fire("le nombre de risque ne ","error");else if(d.valid&&Object.keys(this.formParamRisque.controls).forEach(T=>{this.formParamRisque.get(T)?.setErrors(null)}),this.formParamRisque.valid){let T,R,V,L="debase",X={paramList:[]},pe=[];this.paraRisqueProduit.map(fe=>{Object.keys(this.formParamRisque.value).map(Ae=>{Ae==fe.formName&&(T=fe.idParamRisque,"L01"==fe.typeChamp?.code||"L04"==fe.typeChamp?.code?(R=this.formParamRisque.get(Ae).value.idParam,L="",V={idParam:T,valeur:R},Object.assign(this.risqueConsult,{[fe.libelle]:this.formParamRisque.get(Ae).value.description})):(R=null,"L08"==fe.typeChamp?.code?(L=this.formParamRisque.get(Ae).value.id,Object.assign(this.risqueConsult,{[fe.libelle]:this.formParamRisque.get(Ae).value.description})):"L06"!=fe.typeChamp?.code?(L=this.formParamRisque.get(Ae).value,Object.assign(this.risqueConsult,{[fe.libelle]:L})):(L=Z(this.formParamRisque.get(Ae).value).format("YYYY-MM-DD[T]HH:mm:ss.000Z"),Object.assign(this.risqueConsult,{[fe.libelle]:L})),V={idParam:T,valeur:L}),this.paramElement={idParam:T,reponse:{idReponse:R,description:L}})}),X.paramList.push(this.paramElement),this.controleDevis.push(V)}),X.paramList=X.paramList.filter((fe,Ae,qe)=>qe.findIndex(de=>de.idParam===fe.idParam)===Ae),this.devisService.controleDevis([this.controleDevis],this.codeProduit).subscribe({next:fe=>{this.loaderControles=!1;let Ae=!1;if(fe[0].map(qe=>{this.paraRisqueProduit.map(de=>{de.idParamRisque==qe.idParam&&(qe.bloquant?(this.formParamRisque.controls[de.formName].addValidators([yb(qe.bloquant,qe.message)]),this.formParamRisque.controls[de.formName].updateValueAndValidity(),Ae=!0):null!=qe.message&&this.warningMessage.push({idParam:de.idParamRisque,msg:qe.message}))})}),!Ae&&(0!=this.warningMessage.length&&i().fire(this.warningMessage[0].msg,"","warning"),0==fe.filter(qe=>!0===qe.bloquant).length)){if(this.devis.groupes=this.devisGroupe,this.multiRisque?this.multiRisqueTab(d):this.myStepper.next(),this.risqueIndexBody=this.risqueIndexBody+1,pe.push({numRisque:this.risqueIndexBody,risque:X}),this.multiRisque){let qe=!1;if(this.devisGroupe.map(de=>{de.description==this.formParamRisque.get("groupe").value&&(qe=!0)}),qe?this.devisGroupe.filter(de=>de.description==this.formParamRisque.get("groupe").value)[0]?.groupeList.push({risque:X,numRisque:this.risqueIndexBody}):this.devisGroupe.push({description:"new"==this.formParamRisque.get("groupe").value?this.formParamRisque.get("newGroupe").value:this.formParamRisque.get("groupe").value,idPack:this.idPack,groupeList:pe}),this.multiRisque&&"new"==this.formParamRisque.get("groupe")?.value){this.formParamRisque.get("groupe")?.setValue(this.formParamRisque.get("newGroupe")?.value),this.groupArray.push(this.formParamRisque.get("newGroupe")?.value);let de=1==this.groupArray.length?[]:this.dataSourceGroupePack?.data;de.push({group:this.formParamRisque.get("newGroupe")?.value,pack:this.packs[0]}),this.dataSourceGroupePack=new w.by(de)}}this.getPackVoyageOrGAV()}},error:fe=>{console.log(fe)}})}}else i().fire("Le nombre de risque ne correpond pas avec la formule","","error")}multiRisqueTab(a){if(a.valid){let d=a.value;switch(Object.keys(a.value).map(g=>{d[g]="object"==typeof a.controls[g].value?a.controls[g].value?.description:a.controls[g].value,"20A"==this.codeProduit?(d.DateExpiration=a.get("DateExpiration")?.value?.format("YYYY-MM-DD"),d.DateD\u00e9part=a.get("DateD\xe9part")?.value?.format("YYYY-MM-DD"),d.DateRetour=a.get("DateRetour")?.value?.format("YYYY-MM-DD")):(d.DateD\u00e9but=a.get("DateD\xe9but")?.value?.format("YYYY-MM-DD"),d.DateFin=a.get("DateFin")?.value?.format("YYYY-MM-DD")),d.DateDeNaissance=a.get("DateDeNaissance")?.value?.format("YYYY-MM-DD")}),this.codeProduit){case"20G":"F01"==this.selectedValue.code?d.groupe="GAV":a.get("newGroupe");break;case"20A":d.groupe="voyage";break;default:d.groupe=a.get("newGroupe").value}Object.assign(d,{risqueNum:this.risqueIndex=this.risqueIndex+1}),this.multiRisqueArray.push(d),this.dataSourceRisque=new w.by(this.multiRisqueArray),console.log("je suis dataspourcerisQUE",this.dataSourceRisque),this.formParamRisque.get("Nom").setValue(null),this.formParamRisque.get("Pr\xe9nom")?.setValue(null),this.formParamRisque.get("DateDeNaissance")?.setValue(null),this.formParamRisque.get("DateExpiration")?.setValue(null),this.formParamRisque.get("Genre")?.setValue(null),this.formParamRisque.get("Num\xe9roDePasseport")?.setValue(null),this.formParamRisque.get("Nationalit\xe9")?.setValue(null),this.formParamRisque.get("Activit\xe9ARisque")?.setValue(""),this.formParamRisque.get("SportProfessionnel")?.setValue(""),this.formParamRisque.get("ClasseDeProfession")?.setValue(""),this.formParamRisque.get("Sport\xc0Risque")?.setValue(""),this.formParamRisque.updateValueAndValidity(),this.paraRisqueProduit.map(g=>{0!=g.sizeChamp&&null!=g.sizeChamp?this.formParamRisque.get(g.formName).setValidators([o.kI.required,o.kI.minLength(g.sizeChamp),o.kI.maxLength(g.sizeChamp)]):g.obligatoire?this.formParamRisque.get(g.formName).setValidators([o.kI.required]):this.formParamRisque.get(g.formName).setValidators([])})}}getRelation(a,d,g,A,T,R=[],L=""){if("Formule"==T)switch(this.selectedValue=this.formParamRisque.get(T).value,this.selectedValue.code){case"F01":this.nbrAssure.setValue(1),this.risqueStep=1,"20G"==this.codeProduit&&(this.groupArray.push("GAV"),this.formParamRisque.get("groupe").value="GAV",this.formParamRisque.get("groupe").disable(),this.formParamRisque.get("groupe").updateValueAndValidity());break;case"F02":this.nbrAssure.setValue(2),this.nbrAssure.setValidators([o.kI.required,o.kI.min(2)]),this.formParamRisque.get("groupe").enable(),this.formParamRisque.get("groupe").updateValueAndValidity(),"20A"==this.codeProduit&&this.nbrAssure.setValidators([o.kI.required,o.kI.max(9),o.kI.min(2)]);break;case"F03":"20A"==this.codeProduit?(this.nbrAssure.setValue(10),this.nbrAssure.setValidators([o.kI.required,o.kI.min(10)])):(this.nbrAssure.setValue(2),this.nbrAssure.setValidators([o.kI.required,o.kI.min(2)])),"20G"==this.codeProduit?(this.formParamRisque.get("groupe").setValidators([o.kI.required]),this.formParamRisque.get("newGroupe").setValidators([o.kI.required]),this.formParamRisque.get("newGroupe").updateValueAndValidity(),this.formParamRisque.get("groupe").enable(),this.formParamRisque.get("groupe").updateValueAndValidity()):(this.formParamRisque.get("groupe").enable(),this.formParamRisque.get("groupe").updateValueAndValidity())}if("P182"==L&&(this.multiRisqueArray?.forEach(V=>{V.Destination=R.find(X=>X.id==A).description}),this.devis?.groupes?.[0]?.groupeList?.forEach(V=>{V?.risque?.paramList?.forEach(X=>{X?.idParam===g&&(X.reponse={idReponse:null,description:A})})})),1==d)if("L01"==a)this.paramRisqueService.getParamRelation(g,A).subscribe({next:V=>{this.paraRisqueProduit.filter(X=>{X.idParamRisque==V[0].idParamRisque&&(X.reponses=V[0].categorie.paramDictionnaires,this.formParamRisque.controls[X.formName].enable())})},error:V=>{console.log(V)}});else{let V=this.paraRisqueProduit.find(X=>X.parent?.idParamRisque==g)?.idParamRisque;V&&this.paramRisqueService.getTableParamChild(V,A).subscribe({next:X=>{this.paraRisqueProduit.filter(pe=>{pe.idParamRisque==V&&(pe.reponses=X,this.formParamRisque.controls[pe.formName].enable())})},error:X=>{console.log(X)}})}}objectDevis(a){let A=[],T=[],R=null;this.groupesPacks.map(L=>{L.pack.garantie.map(V=>{V.categorieList?.map(X=>{R=null,null!=V.sousCategorieList?.length&&0!=V.sousCategorieList?.length&&(R={idSousCategoriePackComplet:X.sousCategorieList[0].idParamSCPackComplet,valeur:X.sousCategorieList[0].valeur}),T.push({idCategoriePackComplet:X.idParamPackComplet,valeur:X.valeur,sousCategorieList:R})}),A.push({idPackComplet:V.idPackComplet,prime:"",categorieList:T}),T=[]}),this.devisGroupe.map(V=>{V.description==L.group&&V.groupeList.map(X=>{X.risque.packCompletList=A,X.risque.primeList=[],X.risque.taxeList=[]})}),A=[]})}remplissageTarif(){this.devisService.remplissageDevis(this.devis).subscribe({next:a=>{this.garantieTab.map(d=>{d.prime=null,a.groupes[0].groupeList[0].risque.packCompletList.map(g=>{d.idPackComplet==g.idPackComplet&&d.plafond.forEach(A=>{g.categorieList.forEach(T=>{A.idParamPackComplet===T.idCategoriePackComplet&&(A.valeur=T.valeur)})}),d.sousGarantieList.data?.map(A=>{A.idPackComplet==g.idPackComplet&&A.plafond.forEach(T=>{g.categorieList.forEach(R=>{T.idParamPackComplet===R.idCategoriePackComplet&&(T.valeur=R.valeur)})})})})})},error:a=>{console.log(a)}})}submitDevis(){var a=this;return(0,Le.Z)(function*(){a.returnedTarif.auditUser=a.autditUser,a.loaderDevis=!0;const d=yield a.cryptoService.generateHmac(a.tkn,a.returnedTarif),A={stringJson:JSON.stringify(a.returnedTarif),signature:d};a.devisService.createDevis(A).subscribe({next:T=>{a.successDevis=!0,a.returnedDevis=T,a.errorHandler.error=!1,a.errorHandler.msg="",a.saveDevis=!1,a.idDevis=T.idDevis,a.loaderDevis=!1,a.idDevis=T.idDevis,i().fire(`Le devis N\xb0 ${T.idDevis} a \xe9t\xe9 cr\xe9er avec succ\xe9s.`,"","success"),a.myStepper.next()},error:T=>{a.loaderDevis=!1,a.handleError(T),console.log(T)}})})()}generateCalcul(){var a=this;return(0,Le.Z)(function*(){if(a.objectDevis(!1),!a.errorPackForm){a.loaderTarif=!0;const d=yield a.cryptoService.generateHmac(a.tkn,a.devis),A={stringJson:JSON.stringify(a.devis),signature:d};a.devisService.generateTarif(A).subscribe({next:T=>{a.errorHandler.error=!1,a.errorHandler.msg="",a.returnedTarif=T,a.basicTarif=T,a.tarifReady=!0,a.loaderTarif=!1,a.saveDevis=!0,a.loaderDevis=!1,a.garantieTab.forEach((R,L)=>{let V=T.groupes[0].groupeList[0].risque.packCompletList.find(X=>R.idPackComplet===X.idPackComplet);V&&(0==V.prime?a.garantieNull=!0:(a.garantieNull=!1,R.prime=V.prime)),R.sousGarantieList?.data?.forEach((X,pe)=>{let fe=T.groupes[0].groupeList[0].risque.packCompletList.find(Ae=>X.idPackComplet===Ae.idPackComplet);fe&&(X.prime=fe.prime,0!=fe?.categorieList.length&&fe?.categorieList.map(Ae=>{let qe=X.formule.find(ze=>ze.idParamPackComplet==Ae.idCategoriePackComplet),de=X.franchise.find(ze=>ze.idParamPackComplet==Ae.idCategoriePackComplet),Ne=X.plafond.find(ze=>ze.idParamPackComplet==Ae.idCategoriePackComplet);qe&&(qe.valeur=Ae.valeur),de&&(de.valeur=Ae.valeur),Ne&&(Ne.valeur=Ae.valeur)}))})}),a.PrimeTotale=T.primeList.find(R=>"Prime nette"==R.description)?.prime,a.dataSource=new w.by(a.garantieTab),a.garantieNull||a.myStepper.next()},error:T=>{a.loaderTarif=!1,a.handleError(T)}})}})()}goBackReduc(){this.returnedTarif=this.basicTarif,this.myStepper.previous()}buildTableBody(a,d){var g=[];return d.includes("text1")?g.push(["","",""]):(d.includes("prime")&&(d=d.map(A=>{A.text=A,A.style="headerTable"})),g.push(d)),a.forEach(function(A){const T=[];d.forEach(function(R){T.push(A[R])}),g.push(T)}),g}table(a,d){let g=100/d.length,A=[];return d.map(T=>{A.push(g+"%")}),[{layout:d.includes("text1")?"noBorders":"",style:"table",table:{headerRows:1,widths:A,margin:[5,5,5,5],body:this.buildTableBody(a,d)}}]}downloadDevis(a){this.devisService.getDevisById(a.idDevis).subscribe({next:d=>{this.devisOutput=d,this.consultRisque(d.groupes[0].risques[0].idRisque,d.groupes[0].idGroupe)},error:d=>{this.handleError(d)}})}consultRisque(a,d){var A,g=this;this.devisService.getParamDevisByIdRisque(this.devisOutput.idDevis,d,a).subscribe({next:(A=(0,Le.Z)(function*(T){var R;g.devisOutput.risqueList=yield Object.values(T),yield g.devisService.getPackIdRisque(g.devisOutput.idDevis,a).subscribe({next:(R=(0,Le.Z)(function*(L){g.devisOutput.paramDevisList=L.garantieList,g.devisOutput.pack=L.pack,yield g.devisService.generatePdf(g.devisOutput)}),function(V){return R.apply(this,arguments)}),error:R=>{console.log(R)}})}),function(R){return A.apply(this,arguments)}),error:A=>{console.log(A)}})}goToResume(){this.multiRisque?this.generateCalcul():this.myStepper.next()}gestionErreurPack(a,d,g,A){A||g.controls.forEach(T=>{T.value.idPackComplet==a&&("formule"==d&&null==T.value.formule||"plafond"==d&&null==T.value.plafond||"franchise"==d&&null==T.value.franchise)&&(this.errorPackForm=!0)})}convertToContract(){1==this.devis.statue?sessionStorage.getItem("roles")?.includes("BO")?this.router.navigateByUrl("creation-contrat/vie/"+this.route.snapshot.paramMap.get("codeProduit")+"/"+this.route.snapshot.paramMap.get("nomProduit")+"/"+this.idDevis):i().fire({title:"Vous n'avez pas les droits pour approver le devis",icon:"error",showCancelButton:!1,confirmButtonText:"OK"}).then(a=>{a.isConfirmed&&this.router.navigateByUrl("consultation-police/vie"+this.route.snapshot.paramMap.get("codeProduit")+"/"+this.route.snapshot.paramMap.get("nomProduit"))}):this.router.navigateByUrl("creation-contrat/vie/"+this.route.snapshot.paramMap.get("codeProduit")+"/"+this.route.snapshot.paramMap.get("nomProduit")+"/"+this.idDevis)}openDialog(a){this.dialog.open(O2._,{width:"60%",data:{risque:this.multiRisqueArray.filter(g=>g.risqueNum==a)[0]}}).afterClosed().subscribe(g=>{})}handleError(a){switch(a.status){case 500:this.errorHandler.error=!0,this.errorHandler.msg="Erreur syst\xe8me, veuillez contacter l'administrateur.";break;case 402:this.errorHandler.error=!0,this.errorHandler.msg="Erreur lors de la validation du devis, veuillez contacter l'administrateur.";break;case 404:case 400:this.errorHandler.error=!0,this.errorHandler.msg=a.message;break;case"other":this.errorHandler.error=!0,this.errorHandler.msg=a}this.errorHandler.error&&i().fire(this.errorHandler.msg,"","error")}submitInfoVoyage(){this.devis.tailleRisque=this.nbrAssure.value,this.withFile=!0,this.devis.file=null}calculateDuration(){const a=this.formParamRisque.get("DateD\xe9part")?.value,d=this.formParamRisque.get("DateRetour")?.value;if(a&&d){const g=new Date(a),A=new Date(d);this.duration=Math.ceil((A.getTime()-g.getTime())/864e5)+1}else this.duration=0}checkAssureNumber(){2!=this.risqueStep?this.nbrAssure.value!==this.multiRisqueArray.length?i().fire(" le nombre d'assur\xe9s ajout\xe9s ne correspond pas au nombre d'assur\xe9s  indiqu\xe9","error"):(this.displayFormRisque=!1,this.erreurFormRisque=!0,this.formParamRisque?.get("Destination")?.value?.black_list?(this.devis.statue=1,i().fire("le pays de destination choisi n\xe9cessite une validation du BackOffice","warning")):this.devis.statue=0,this.multiRisqueArray.map(d=>{d.DateD\u00e9part=this.formParamRisque?.get("DateD\xe9part")?.value?.format("YYYY-MM-DD"),d.DateRetour=this.formParamRisque?.get("DateRetour")?.value?.format("YYYY-MM-DD"),d.Formule=this.formParamRisque?.get("Formule")?.value,d.Destination=this.formParamRisque?.get("Destination")?.value}),this.dataSourceRisque=new w.by(this.multiRisqueArray),this.getPackVoyageOrGAV(),this.myStepper.next()):this.selectedFile?this.uploadExcelFile():i().fire("Veuillez selectionner un fichier","error")}next(){this.generateCalcul()}deleteRisque(a){let d;this.multiRisqueArray=this.multiRisqueArray.filter(g=>g.risqueNum!=a),this.dataSourceRisque.data=this.multiRisqueArray,this.devisGroupe.map(g=>{g.groupeList=g.groupeList.filter(A=>(A.numRisque==a&&(d=1==g.groupeList.length?g.description:""),A.numRisque!=a))}),this.groupArray=this.groupArray.filter(g=>g!=d),this.devisGroupe=this.devisGroupe.filter(g=>g.description!=d),this.dataSourceGroupePack.data=this.dataSourceGroupePack?.data?.filter(g=>g.group!=d),this.devis.groupes=this.devisGroupe}onFileSelected(a){this.selectedFile=a.target.files[0],this.uploadExcelFile()}uploadExcelFile(){if(this.selectedFile){this.controleDevis=[];let a={paramList:[]};const d=new FileReader;d.onload=g=>{if(null!=g.target){const T=R0(g.target.result,{type:"binary"}),X=Nd.sheet_to_json(T.Sheets[T.SheetNames[0]],{header:1}).filter(pe=>pe.length>0);if("INVALID"==this.nbrAssure.status)return void i().fire("Le nombre de risque ne correpond pas avec la formule","","error");if("VALID"==this.nbrAssure.status&&X.length-1!=this.nbrAssure.value)return void i().fire("Le nombre de lignes ne correspond pas au nombre de risque indiqu\xe9, nombre de ligne= "+(X.length-1)+", nombre indiqu\xe9= "+this.nbrAssure.value+". veuillez resaisir le fichier ou modifi\xe9 le nombre de risque","","error");this.devisService.paramFichier(this.codeProduit).subscribe({next:pe=>{const fe=this.paraRisqueProduit.filter(de=>null==pe.find(Ne=>Ne.paramRisque==de.idParamRisque));let Ae=[],qe=[];if(X.slice(1).map((de,Ne)=>{Ae.push({numRisque:Ne,risque:{paramList:[]}}),de.map((ze,et)=>{const Ve=166==pe[et].paramRisque||214==pe[et].paramRisque,Dt={idParam:parseInt(pe[et].paramRisque),reponse:{idReponse:pe[et].reponseId?ze:null,description:pe[et].reponseValeur?Ve?Z(ze).format("YYYY-MM-DD[T]HH:mm:ss.000Z"):ze:null}},Ht={idParam:parseInt(pe[et].paramRisque),valeur:Ve?Z(ze).format("YYYY-MM-DD[T]HH:mm:ss.000Z"):ze};qe.push(Ht),Ae[Ne].risque.paramList.push(Dt)}),fe.map(ze=>{const et=ze.formName;let Ve={idParam:ze.idParamRisque,reponse:{idReponse:null,description:null}};const Dt={idParam:ze.idParamRisque,valeur:""};"L01"===ze.typeChamp?.code||"L04"===ze.typeChamp?.code?(Ve.reponse.idReponse=this.formParamRisque.get(et).value.idParam,Dt.valeur=this.formParamRisque.get(et).value.idParam):"L08"===ze.typeChamp?.code?(Ve.reponse.description=this.formParamRisque.get(et).value.id,Dt.valeur=this.formParamRisque.get(et).value.id):"L06"!==ze.typeChamp?.code?(Ve.reponse.description=this.formParamRisque.get(et).value,Dt.valeur=this.formParamRisque.get(et).value):(Ve.reponse.description=Z(this.formParamRisque.get(et).value).format("YYYY-MM-DD[T]HH:mm:ss.000Z"),Dt.valeur=Z(this.formParamRisque.get(et).value).format("YYYY-MM-DD[T]HH:mm:ss.000Z")),Ae[Ne].risque.paramList.push(Ve),qe.push(Dt)}),this.controleDevis.push(qe),qe=[]}),this.multiRisque){let de=!1;if(this.devisGroupe.map(Ne=>{("voyage"==Ne.description||Ne.description==this.formParamRisque.get("groupe").value)&&(de=!0)}),de?this.devisGroupe.filter(Ne=>Ne.description==this.formParamRisque.get("groupe").value)[0]?.groupeList.push({risque:a,numRisque:this.risqueIndexBody}):this.devisGroupe.push({description:"new"==this.formParamRisque.get("groupe").value?this.formParamRisque.get("newGroupe").value:this.formParamRisque.get("groupe").value,idPack:this.idPack,groupeList:Ae}),this.multiRisque)if("new"==this.formParamRisque.get("groupe")?.value){this.formParamRisque.get("groupe")?.setValue(this.formParamRisque.get("newGroupe")?.value),this.groupArray.push(this.formParamRisque.get("newGroupe")?.value);let Ne=1==this.groupArray.length?[]:this.dataSourceGroupePack.data;Ne.push({group:this.formParamRisque.get("newGroupe")?.value,pack:this.packs[0]}),this.dataSourceGroupePack=new w.by(Ne)}else"20A"==this.codeProduit&&(this.dataSourceGroupePack=new w.by([{group:"voyage",pack:this.packs[0]}]))}this.devisService.controleDevis(this.controleDevis,this.codeProduit).subscribe({next:de=>{let Ne=!1;de.forEach(ze=>{ze.forEach(et=>{if(et.bloquant)return i().fire(et.message,"","error"),void(Ne=!0);this.errorHandler.error=!1,this.errorHandler.msg="",!et.bloquant&&et.message&&i().fire(et.message,"","warning")})}),!Ne&&(this.myStepper.next(),this.devis.groupes=this.devisGroupe,Object.keys(this.formParamRisque.controls).forEach(ze=>{this.formParamRisque.get(ze)?.setErrors(null)}),this.fileSuccess=!0,this.multiRisqueArray.map(ze=>{ze.DateD\u00e9part=this.formParamRisque.get("DateD\xe9part").value.format("YYYY-MM-DD"),ze.DateRetour=this.formParamRisque.get("DateRetour").value.format("YYYY-MM-DD"),ze.Formule=this.formParamRisque.get("Formule").value,ze.Destination=this.formParamRisque.get("Destination").value}),this.dataSourceRisque=new w.by(this.multiRisqueArray),this.getPackVoyageOrGAV())},error:de=>{console.log(de),i().fire(de.error.message,"","error")}})},error(pe){console.log("error",pe)}})}},d.readAsBinaryString(this.selectedFile)}}sendToAPI(a){this.devisService.controleDevisMulti({file:a},this.codeProduit).subscribe({next:g=>{this.fileControle=g,this.fileControle.some(T=>T.description.some(R=>0!==R.length))&&(this.fileInput.nativeElement.value=null,this.fileSuccess=!1),this.fileControle.length==this.nbrAssure.value?(this.devis.file=a,this.fileSuccess=!0):(this.fileSuccess=!1,this.fileInput.nativeElement.value=null,i().fire("Le nombre de lignes ne correspond pas au nombre de risque indiqu\xe9, nombre de ligne= "+this.fileControle.length+", nombre indiqu\xe9= "+this.nbrAssure.value+". veuillez resaisir le fichier ou modifi\xe9 le nombre de risque","","error")),this.fileControle.length>9&&"F02"==this.selectedValue.code?(i().fire("Vous ne pouvez pas introduir au maximum 9 risques","","error"),this.fileSuccess=!1,this.fileInput.nativeElement.value=null):(this.devis.file=a,this.fileSuccess=!0)},error:g=>{i().fire("Error: "+g,"","error"),this.fileInput.nativeElement.value=null}})}formWay(a){switch(a){case"form":this.risqueStep=1,this.withFile=!1,this.dataSourceRisque=new w.by([]),this.selectedFile=null,this.controleDevis=[],this.devis.groupes[0].groupeList=[];break;case"file":this.risqueStep=2,this.withFile=!1,this.selectedFile=null,this.dataSourceRisque=new w.by([]),this.controleDevis=[],this.devis.groupes[0].groupeList=[]}}onDateChange(a,d){if("20A"===this.produitInfo.codeProduit||"20G"===this.produitInfo.codeProduit){switch(this.calculateDuration(),d){case 211:this.multiRisqueArray?.forEach(g=>{g.DateD\u00e9part=Z(a.value).format("YYYY-MM-DD")}),this.maxDateRetour=Z(a.value).add(365,"days").format("YYYY-MM-DD");break;case 258:this.multiRisqueArray?.forEach(g=>{g.DateD\u00e9but=Z(a.value).format("YYYY-MM-DD")}),this.maxDateRetour=Z(a.value).add(365,"days").format("YYYY-MM-DD");break;case 212:this.multiRisqueArray?.forEach(g=>{g.DateRetour=Z(a.value).format("YYYY-MM-DD")});break;case 259:this.multiRisqueArray?.forEach(g=>{g.DateFin=Z(a.value).format("YYYY-MM-DD")})}this.devis?.groupes?.[0]?.groupeList?.forEach(g=>{g?.risque?.paramList?.forEach(A=>{A?.idParam===d&&(A.reponse={idReponse:null,description:Z(a.value).format("YYYY-MM-DD[T]HH:mm:ss.000Z")})})})}}}return r.\u0275fac=function(a){return new(a||r)(c.Y36(a2.uw),c.Y36(c.sBO),c.Y36(k2.$),c.Y36(ee.gz),c.Y36(ee.F0),c.Y36(M2.ux),c.Y36(U2.Y),c.Y36(s2.J),c.Y36(F2.w),c.Y36(C2.F),c.Y36(x2.e),c.Y36(Q2.F),c.Y36(J2.Y),c.Y36(L2.D),c.Y36(l2.M),c.Y36(o.qu))},r.\u0275cmp=c.Xpm({type:r,selectors:[["app-create-devis-vie"]],viewQuery:function(a,d){if(1&a&&(c.Gf(G2,5),c.Gf(B2,5),c.Gf(z2,5),c.Gf(V2,5)),2&a){let g;c.iGM(g=c.CRH())&&(d.myStepper=g.first),c.iGM(g=c.CRH())&&(d.fileInput=g.first),c.iGM(g=c.CRH())&&(d.innerTables=g),c.iGM(g=c.CRH())&&(d.innerSort=g)}},decls:121,vars:47,consts:[[1,"container"],[1,"header-title"],["aria-label","directions_car",1,"mat-icon","notranslate","material-symbols-outlined","material-icons","mat-icon-no-color"],["stepper",""],[3,"stepControl","editable"],["matStepLabel",""],[3,"formGroup","ngSubmit"],["multi","",1,"example-headers-align"],[3,"expanded"],[1,"row",2,"flex-direction","column","flex-direction","column","padding","1rem 2rem"],["appearance","outline",1,"col-md-5"],["formControlName","typeClient",3,"selectionChange"],[4,"ngFor","ngForOf"],["class","invalid-feedback",4,"ngIf"],[1,"row"],["type","text","matInput","","placeholder","","formControlName","nom"],["appearance","outline","class","col-md-5",4,"ngIf"],["class","col-md-5","appearance","outline",4,"ngIf"],["type","text","matInput","","placeholder","","formControlName","email"],["formControlName","typeContact",3,"selectionChange"],["matPrefix",""],["type","text","matInput","","placeholder","","formControlName","tel"],[1,"row",2,"padding","20px"],["formControlName","agence"],["type","submit",1,"btn","btn-action"],[3,"formGroup",4,"ngIf"],["class","btn btn-action","type","button",3,"click",4,"ngIf"],["class","btn btn-cancel","type","button",3,"click",4,"ngIf"],["class","",4,"ngIf"],["class","row","style","display: flex;align-items:\n                center;justify-content: space-between;margin:2rem 1rem",4,"ngIf"],["class","alert alert-danger",4,"ngIf"],["mat-table","","multiTemplateDataRows","","class","mat-elevation-z8 pack-table",3,"dataSource",4,"ngIf"],[4,"ngIf"],["class","btn btn-action",3,"disabled","click",4,"ngIf"],["type","button",1,"btn","btn-cancel",3,"click"],[3,"editable"],[1,"row",3,"formGroup","ngSubmit"],["formControlName","convention",3,"value","valueChange","selectionChange"],[3,"value"],["formControlName","reduction"],[1,""],["class","alert alert-success",4,"ngIf"],[1,"resume"],["class","resume-buttons",4,"ngIf"],["class","btn btn-action",3,"ngClass","disabled","click",4,"ngIf"],[1,"invalid-feedback"],["type","text","matInput","","placeholder","","formControlName","prenom"],["matInput","","formControlName","dateNaissance",3,"matDatepicker"],["matSuffix","",3,"for"],["pickerDateNaissance",""],[3,"formGroup"],["hideToggle","",1,"risque-panel",3,"expanded"],["hideToggle","","class","panel-risque",3,"expanded",4,"ngIf"],["hideToggle","","class","panel-risque","style","margin-top: 20px;",3,"expanded",4,"ngIf"],["class","risque-panel","hideToggle","",3,"expanded",4,"ngIf"],[1,"",2,"margin-bottom","20px"],["class","btn btn-secondary",3,"click",4,"ngIf"],["mat-table","","class","gestion-table risque",3,"dataSource",4,"ngIf"],["hideToggle","",1,"panel-risque",3,"expanded"],[1,"categoryTitle"],[1,"row",2,"padding","1rem 2rem"],[3,"formControlName","selectionChange"],[3,"value",4,"ngIf"],["matInput","","type","text",3,"formControlName"],["matInput","","type","number",3,"formControlName"],["matInput","",3,"min","max","matDatepicker","formControlName","dateChange"],["picker",""],[3,"formControlName"],["matInput","","readonly","",3,"value"],["hideToggle","",1,"panel-risque",2,"margin-top","20px",3,"expanded"],[1,"multiRisque-nombre"],["matInput","","type","number",3,"formControl"],[1,"row","download"],["id","wrap",2,"justify-content","space-around","display","flex"],[1,"btn","btn-file",3,"click"],["class","col-md-12 ConducteurAssure","style","padding: 1rem 2rem;",3,"disabled","checked","change",4,"ngIf"],[1,"col-md-12","ConducteurAssure",2,"padding","1rem 2rem",3,"disabled","checked","change"],["matInput","",3,"max","matDatepicker","formControlName"],["matInput","",3,"min","matDatepicker","formControlName"],["class","row",4,"ngIf","ngIfElse"],["groupeVoyage",""],["appearance","outline",1,"col-md-3"],["formControlName","groupe"],["value","new"],[3,"value",4,"ngFor","ngForOf"],["matInput","","type","text","formControlName","newGroupe"],["matInput","","value","voyage","formControlName","groupe"],[1,"btn","btn-secondary",3,"click"],["mat-table","",1,"gestion-table","risque",3,"dataSource"],["matColumnDef","risqueNum"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","nom"],["matColumnDef","prenom"],["matColumnDef","groupe"],["matColumnDef","action"],["mat-header-row","","class","example-second-header-row",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],["mat-icon-button","","type","button","aria-label","menu risque list",3,"matMenuTriggerFor"],["xPosition","after"],["menu","matMenu"],["mat-menu-item","","type","button",3,"click"],["mat-header-row","",1,"example-second-header-row"],["mat-row",""],["id","wrap"],["type","file","name","fileInput",3,"change"],["fileInput",""],[1,"alert","alert-danger"],[1,"error-lines"],["type","button",1,"btn","btn-action",3,"click"],[1,"row",2,"display","flex","align-items","center","justify-content","space-between","margin","2rem 1rem"],[3,"selectionChange"],["class","btn btn-secondary ","style","display: flex; width:\n                    133px;",3,"click",4,"ngIf"],[1,"btn","btn-secondary",2,"display","flex","width","133px",3,"click"],[1,"material-symbols-outlined",2,"margin-right","9px","font-size","24px"],["mat-table","","multiTemplateDataRows","",1,"mat-elevation-z8","pack-table",3,"dataSource"],["matColumnDef","select"],["matColumnDef","garantie"],["matColumnDef","plafond"],["matColumnDef","franchise"],["matColumnDef","formule"],["matColumnDef","sousGarantie"],["mat-cell","","class","example-element-row",3,"example-expanded-row",4,"matCellDef"],["matColumnDef","expandedDetail"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","","class","example-detail-row",4,"matRowDef","matRowDefColumns"],[3,"checked","formControl","click"],[4,"ngIf","ngIfElse"],["plafondNotEmpty",""],["plafondInput",""],[3,"formControl"],["plafondValue",""],["type","text","matInput","",3,"formControl"],["plafondNull",""],["franchiseNotEmpty",""],["franchiseInput",""],["franchiseValue",""],["formuleNotEmpty",""],["formuleInput",""],["formuleValue",""],["primeNull",""],["mat-cell","",1,"example-element-row"],["mat-icon-button","","type","button","class","expandButton","aria-label","",3,"click",4,"ngIf"],["mat-icon-button","","type","button","aria-label","",1,"expandButton",3,"click"],[1,"example-element-detail"],["mat-table","","multiTemplateDataRows","","class","mat-elevation-z8 pack-table innertable",3,"dataSource",4,"ngIf"],["mat-table","","multiTemplateDataRows","",1,"mat-elevation-z8","pack-table","innertable",3,"dataSource"],["matColumnDef","more"],[3,"checked","formControl","click","change"],["type","number","matInput","",3,"max","formControl"],["mat-header-row",""],["mat-row","",1,"example-detail-row"],[3,"dataSource"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","pack",4,"ngIf","ngIfElse"],["packGav",""],[4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],["matColumnDef","pack"],[3,"placeholder","ngModel","name","ngModelChange","selectionChange"],[1,"btn","btn-action",3,"disabled","click"],[1,"alert","alert-success"],[1,"consult-devis",3,"routerLink"],[1,"primeTotale"],[1,"resume-buttons"],[1,"btn","btn-download",3,"click"],[1,"material-symbols-outlined"],[1,"btn","btn-action",3,"ngClass","disabled","click"],[1,"button__text"]],template:function(a,d){1&a&&(c.TgZ(0,"div",0)(1,"h2",1)(2,"mat-icon",2),c._uU(3),c.qZA(),c._uU(4),c.qZA(),c.TgZ(5,"mat-stepper",null,3)(7,"mat-step",4),c.YNc(8,j2,1,0,"ng-template",5),c.TgZ(9,"form",6),c.NdJ("ngSubmit",function(){return d.submitInfosSouscripteur()}),c.TgZ(10,"mat-accordion",7)(11,"mat-expansion-panel",8)(12,"mat-expansion-panel-header")(13,"mat-panel-title"),c._uU(14," Information du souscripteur "),c.qZA()(),c.TgZ(15,"div",9)(16,"mat-form-field",10)(17,"mat-label"),c._uU(18,"Type client"),c.qZA(),c.TgZ(19,"mat-select",11),c.NdJ("selectionChange",function(A){return d.changeTypeClient(A.value)}),c.YNc(20,H2,3,2,"ng-container",12),c.qZA(),c.YNc(21,K2,2,1,"mat-error",13),c.qZA(),c.TgZ(22,"div",14)(23,"mat-form-field",10)(24,"mat-label"),c._uU(25),c.qZA(),c._UZ(26,"input",15),c.YNc(27,X2,2,1,"mat-error",13),c.qZA(),c.YNc(28,nv,5,1,"mat-form-field",16),c.qZA(),c.TgZ(29,"div",14),c.YNc(30,sv,8,3,"mat-form-field",17),c.TgZ(31,"mat-form-field",10)(32,"mat-label"),c._uU(33,"Email"),c.qZA(),c._UZ(34,"input",18),c.YNc(35,uv,3,2,"mat-error",13),c.qZA()(),c.TgZ(36,"div",14)(37,"mat-form-field",10)(38,"mat-label"),c._uU(39,"Type contact"),c.qZA(),c.TgZ(40,"mat-select",19),c.NdJ("selectionChange",function(A){return d.changeTypeContact(A.value)}),c.YNc(41,mv,3,2,"ng-container",12),c.qZA(),c.YNc(42,_v,2,1,"mat-error",13),c.qZA(),c.TgZ(43,"mat-form-field",10)(44,"mat-label"),c._uU(45,"T\xe9l\xe9phone"),c.qZA(),c.TgZ(46,"span",20),c._uU(47,"+213 \xa0"),c.qZA(),c._UZ(48,"input",21),c.YNc(49,gv,3,2,"mat-error",13),c.qZA()()()(),c.TgZ(50,"mat-expansion-panel",8)(51,"mat-expansion-panel-header")(52,"mat-panel-title"),c._uU(53," Contrat "),c.qZA()(),c.TgZ(54,"div",22)(55,"mat-form-field",10)(56,"mat-label"),c._uU(57,"Agence"),c.qZA(),c.TgZ(58,"mat-select",23),c.YNc(59,hv,3,2,"ng-container",12),c.qZA(),c.YNc(60,xv,2,1,"mat-error",13),c.qZA()()()(),c.TgZ(61,"div")(62,"button",24),c._uU(63,"Suivant"),c.qZA()()()(),c.TgZ(64,"mat-step",4),c.YNc(65,vv,1,0,"ng-template",5),c.YNc(66,lA,15,10,"form",25),c.YNc(67,cA,2,0,"button",26),c.YNc(68,uA,2,0,"button",27),c.YNc(69,mA,3,0,"div",28),c.qZA(),c.TgZ(70,"mat-step"),c.YNc(71,dA,1,0,"ng-template",5),c.YNc(72,fA,9,2,"div",29),c.YNc(73,gA,2,1,"div",30),c.YNc(74,hA,2,1,"div",30),c.YNc(75,CA,2,0,"div",30),c.YNc(76,$T,27,5,"table",31),c.YNc(77,cb,10,5,"form",32),c.TgZ(78,"div"),c.YNc(79,ub,3,1,"button",33),c.TgZ(80,"button",34),c.NdJ("click",function(){return d.goBack()}),c._uU(81,"Retour"),c.qZA()()(),c.TgZ(82,"mat-step",35),c.YNc(83,mb,1,0,"ng-template",5),c.TgZ(84,"p"),c._uU(85,"Veuillez choisir une Convention/R\xe9duction"),c.qZA(),c.YNc(86,db,2,1,"div",30),c.TgZ(87,"form",36),c.NdJ("ngSubmit",function(){return d.submitReduction()}),c.TgZ(88,"mat-form-field",10)(89,"mat-label"),c._uU(90," Convention"),c.qZA(),c.TgZ(91,"mat-select",37),c.NdJ("valueChange",function(A){return d.defaultConvention=A})("selectionChange",function(A){return d.getReductionByConvention(A.value)}),c.TgZ(92,"mat-option",38),c._uU(93," Aucune Convention "),c.qZA(),c.YNc(94,_b,3,2,"ng-container",12),c.qZA()(),c.TgZ(95,"mat-form-field",10)(96,"mat-label"),c._uU(97," R\xe9duction"),c.qZA(),c.TgZ(98,"mat-select",39)(99,"mat-option",38),c._uU(100," Aucune Reduction "),c.qZA(),c.YNc(101,pb,3,2,"ng-container",12),c.qZA()(),c.TgZ(102,"div",40)(103,"button",24)(104,"span"),c._uU(105,"Suivant"),c.qZA()(),c.TgZ(106,"button",34),c.NdJ("click",function(){return d.goBack()}),c._uU(107,"Retour"),c.qZA()()()(),c.TgZ(108,"mat-step"),c.YNc(109,fb,1,0,"ng-template",5),c.YNc(110,gb,2,1,"div",30),c.YNc(111,Cb,4,6,"div",41),c.TgZ(112,"table",42),c.YNc(113,vb,2,1,"tr",12),c.YNc(114,Ab,9,7,"tr",12),c.YNc(115,bb,2,1,"tr",12),c.qZA(),c.YNc(116,Pb,9,0,"div",43),c.TgZ(117,"div")(118,"button",34),c.NdJ("click",function(){return d.goBackReduc()}),c._uU(119,"Retour"),c.qZA(),c.YNc(120,qb,3,4,"button",44),c.qZA()()()()),2&a&&(c.xp6(3),c.Oqu(d.produitInfo.icon),c.xp6(1),c.hij(" ",d.produitInfo.description," "),c.xp6(3),c.Q6J("stepControl",d.formInfoSouscripteur)("editable",!0),c.xp6(2),c.Q6J("formGroup",d.formInfoSouscripteur),c.xp6(2),c.Q6J("expanded",!0),c.xp6(9),c.Q6J("ngForOf",d.typeClients),c.xp6(1),c.Q6J("ngIf",d.formInfoSouscripteur.controls.typeClient.errors),c.xp6(4),c.Oqu(d.labelNom),c.xp6(2),c.Q6J("ngIf",d.formInfoSouscripteur.controls.nom.errors),c.xp6(1),c.Q6J("ngIf","personne morale"!=d.typeClient),c.xp6(2),c.Q6J("ngIf","personne morale"!=d.typeClient),c.xp6(5),c.Q6J("ngIf",d.formInfoSouscripteur.controls.email.errors),c.xp6(6),c.Q6J("ngForOf",d.typesContact),c.xp6(1),c.Q6J("ngIf",d.formInfoSouscripteur.controls.typeContact.errors),c.xp6(7),c.Q6J("ngIf",d.formInfoSouscripteur.controls.tel.errors),c.xp6(1),c.Q6J("expanded",!0),c.xp6(9),c.Q6J("ngForOf",d.agences),c.xp6(1),c.Q6J("ngIf",d.formInfoSouscripteur.controls.agence.errors),c.xp6(4),c.Q6J("stepControl",d.formParamRisque)("editable",!0),c.xp6(2),c.Q6J("ngIf",d.risqueArrayReady&&d.multiRisque),c.xp6(1),c.Q6J("ngIf",2==d.risqueStep),c.xp6(1),c.Q6J("ngIf",2==d.risqueStep),c.xp6(1),c.Q6J("ngIf",d.multiRisque&&(0!=d.dataSourceRisque.data.length||d.fileSuccess)&&2!=d.risqueStep),c.xp6(3),c.Q6J("ngIf",!d.multiRisque),c.xp6(1),c.Q6J("ngIf",d.errorTarif.error),c.xp6(1),c.Q6J("ngIf",d.errorHandler.error),c.xp6(1),c.Q6J("ngIf",d.errorPackForm),c.xp6(1),c.Q6J("ngIf",d.loadTable),c.xp6(1),c.Q6J("ngIf",d.multiRisque&&"97"!=d.codeProduit),c.xp6(2),c.Q6J("ngIf",d.tarifReady||d.multiRisque),c.xp6(3),c.Q6J("editable",!0),c.xp6(4),c.Q6J("ngIf",d.errorHandler.error),c.xp6(1),c.Q6J("formGroup",d.formReduction),c.xp6(4),c.Q6J("value",d.defaultConvention),c.xp6(1),c.Q6J("value","aucuneConvention"),c.xp6(2),c.Q6J("ngForOf",d.conventions),c.xp6(5),c.Q6J("value","aucuneReduction"),c.xp6(2),c.Q6J("ngForOf",d.reductions),c.xp6(9),c.Q6J("ngIf",d.errorHandler.error),c.xp6(1),c.Q6J("ngIf",d.successDevis),c.xp6(2),c.Q6J("ngForOf",d.returnedTarif.primeList),c.xp6(1),c.Q6J("ngForOf",d.returnedTarif.taxeList),c.xp6(1),c.Q6J("ngForOf",d.returnedTarif.primeList),c.xp6(1),c.Q6J("ngIf",d.successDevis&&!d.saveDevis),c.xp6(4),c.Q6J("ngIf",d.saveDevis))},dependencies:[Se.mk,Se.sg,Se.O5,c2.Hw,wg.pp,wg.ib,wg.yz,wg.yK,ig.VK,ig.OP,ig.p6,o._Y,o.Fj,o.wV,o.JJ,o.JL,o.Fd,o.oH,o.sg,o.u,Og.TO,Og.KE,Og.hX,Og.qo,Og.R9,v2.Nt,w.BZ,w.fO,w.as,w.w1,w.Dz,w.nj,w.ge,w.ev,w.XQ,w.Gk,O0.Mq,O0.hl,O0.nW,A2.gD,K.ey,u2.lW,m2.C0,m2.VY,m2.Vq,Y2.oG,o.On,o.F,ee.rH,Se.JJ,T2.X],styles:['.container[_ngcontent-%COMP%]{background-color:#fff;padding:40px 0;height:100%;overflow-x:hidden;box-shadow:0 .5rem 1rem #00000026}h2.header-title[_ngcontent-%COMP%]{padding:0 24px;font-size:21px!important;color:#00008f;font-weight:600!important;letter-spacing:1px;display:flex;justify-content:flex-end}h2.header-title[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{margin-right:1rem}  .mat-form-field-appearance-outline .mat-form-field-prefix{top:auto!important}  .mat-horizontal-stepper-header{pointer-events:none!important}.mat-expansion-panel-header[_ngcontent-%COMP%]{background:rgba(199,199,199,.2)!important;font-weight:600;font-size:16px}.mat-expansion-panel-header.mat-expanded[_ngcontent-%COMP%]{height:48px}  .mat-step-header .mat-step-icon-state-edit{background-color:#d14624}.mat-expansion-panel-header-title[_ngcontent-%COMP%]{color:#00008f}  .mat-step-text-label{font-size:16px}  .mat-step-label-selected .mat-step-text-label{font-size:16px;font-weight:700;color:#00008f}.btn.btn-action[_ngcontent-%COMP%], .btn.btn-secondary[_ngcontent-%COMP%]{margin-top:2rem;float:right}.btn.btn-cancel[_ngcontent-%COMP%]{margin-top:2rem;float:left}.btn.btn-download[_ngcontent-%COMP%]{box-shadow:0 1px 2px #00000026;transition:box-shadow .3s ease-in-out}.btn.btn-download[_ngcontent-%COMP%]:hover{box-shadow:0 5px 15px #0000004d}table[_ngcontent-%COMP%]{width:100%}.innertable[_ngcontent-%COMP%]{background-color:#f7f7f9}.expandButton[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:26px!important}.cdk-column-expandedDetail[_ngcontent-%COMP%]{border-bottom-width:0px}.mat-header-row[_ngcontent-%COMP%]{background-color:#f7f7f9}.mat-header-row[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{color:#00008f}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:16px}.mat-header-cell[_ngcontent-%COMP%]{color:#333;font-weight:600;letter-spacing:.5px;font-size:15px;width:165px}.mat-menu-item[_ngcontent-%COMP%]{font-size:16px}.mat-menu-item[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:21px;height:-moz-fit-content;height:fit-content}.mat-menu-item[_ngcontent-%COMP%]:hover:not([disabled]){color:#00008f}.mat-menu-item[_ngcontent-%COMP%]:hover:not([disabled])   .mat-icon[_ngcontent-%COMP%]{color:#00008f}.mat-icon[_ngcontent-%COMP%]{height:100%;font-size:36px;width:-moz-fit-content;width:fit-content}.mat-cell[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{color:#00008f}.mat-header-cell.mat-icon[_ngcontent-%COMP%]{color:#fff}.mat-cell[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]:hover, .mat-header-cell[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]:hover{color:#d14723;cursor:pointer}  .mat-checkbox-checked.mat-accent.mat-checkbox-disabled .mat-checkbox-background, .mat-checkbox-indeterminate.mat-accent[_ngcontent-%COMP%]   .mat-checkbox-background[_ngcontent-%COMP%]{background-color:#ccc}  .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-image:none}.mat-input-element[_ngcontent-%COMP%]:disabled{color:inherit}.mat-cell[_ngcontent-%COMP%]{padding-top:10px}.pack-table[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{font-size:16px}.resume-table[_ngcontent-%COMP%]{margin-top:2rem}.resume-table[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%]{font-size:16px;border-right:1px solid rgba(0,0,0,.12);padding-left:30px}.resume-table[_ngcontent-%COMP%]   .mat-header-cell[_ngcontent-%COMP%]{background-color:#00008f;color:#fff;border-right:1px solid white;padding-left:30px}.mat-cell[_ngcontent-%COMP%]:not(.mat-column-garantie){font-weight:600}.row.card[_ngcontent-%COMP%]{justify-content:end;width:100%}.prime-card[_ngcontent-%COMP%]{background:rgb(247,247,249);width:-moz-fit-content;width:fit-content;margin-top:3rem;border:1px solid rgba(0,0,0,.12);padding:18px 14px}table.resume[_ngcontent-%COMP%]{width:60%;border-collapse:collapse;border-spacing:0 19px;margin-top:4rem}table.resume[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:17px;padding:12px 19px;border:1px solid rgba(0,0,0,.12)}table.resume[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background:rgb(247,247,249)}.resume-buttons[_ngcontent-%COMP%]{margin-top:4rem;display:flex;justify-content:space-between}.resume-buttons[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{margin-right:9px;font-size:24px}.risque-panel.mat-expansion-panel[_ngcontent-%COMP%]{box-shadow:none}.risque-panel[_ngcontent-%COMP%]     .mat-expansion-panel-content{padding:1rem}.panel-risque[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{margin-right:1rem}.categoryTitle[_ngcontent-%COMP%]{text-transform:capitalize}  .mat-progress-bar-fill:after{background-color:#d14624}mat-form-field.ng-invalid.ng-touched[_ngcontent-%COMP%]{animation:example;animation-duration:.3s;margin-bottom:2rem}.button__text[_ngcontent-%COMP%]{transition:all .2s}.button--loading[_ngcontent-%COMP%]   .button__text[_ngcontent-%COMP%]{visibility:hidden;opacity:0}.button--loading[_ngcontent-%COMP%]{position:relative}.button--loading[_ngcontent-%COMP%]:after{content:"";position:absolute;width:16px;height:16px;inset:0;margin:auto;border:4px solid transparent;border-top-color:#fff;border-radius:50%;animation:_ngcontent-%COMP%_button-loading-spinner 1s ease infinite}.button--loading[_ngcontent-%COMP%]:hover{background-color:#00008f}.example-element-detail[_ngcontent-%COMP%]{overflow:hidden;display:flex}tr.example-detail-row[_ngcontent-%COMP%]{height:0}.mat-column-expandedDetail[_ngcontent-%COMP%]{padding:0}@keyframes _ngcontent-%COMP%_button-loading-spinner{0%{transform:rotate(0)}to{transform:rotate(1turn)}}.primeTotale[_ngcontent-%COMP%]{color:#00008f;font-weight:600}.consult-devis[_ngcontent-%COMP%]{font-weight:600;color:#155724}.btn-action[_ngcontent-%COMP%]:disabled:hover{background-color:#00008f;color:#fff}.mat-column-expandedDetail[_ngcontent-%COMP%]{padding-left:0!important;padding-right:0!important}table[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:26px}table[_ngcontent-%COMP%]   .mat-column-plafond[_ngcontent-%COMP%]{padding-left:1rem}.gestion-table.risque[_ngcontent-%COMP%]{margin-top:7rem!important}.group-risque[_ngcontent-%COMP%]{align-items:center;margin-top:3rem}.group-risque[_ngcontent-%COMP%]   .array-buttons[_ngcontent-%COMP%]{margin-left:auto;width:-moz-fit-content;width:fit-content}.group-risque[_ngcontent-%COMP%]   .array-buttons[_ngcontent-%COMP%]   .btn-round[_ngcontent-%COMP%]{margin-right:1em}.group-risque[_ngcontent-%COMP%]   mat-form-field.ng-invalid.ng-touched[_ngcontent-%COMP%]{margin-bottom:0rem}.multiRisque-nombre[_ngcontent-%COMP%]{margin-top:3rem}.row.download[_ngcontent-%COMP%]{text-align:center;margin-top:3rem;font-size:17px;font-weight:600}.row.download[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{width:50%;margin:auto;line-height:2rem}#wrap[_ngcontent-%COMP%]{margin:20px auto;text-align:center}.btn-slide[_ngcontent-%COMP%]{position:relative;display:inline-block;height:50px;width:263px;line-height:50px;padding:0;border-radius:50px;background:#fdfdfd;border:2px solid #00008f;margin:10px;transition:.5s}.btn-slide[_ngcontent-%COMP%]:hover{background-color:#00008f}.btn-slide[_ngcontent-%COMP%]:hover   span.circle[_ngcontent-%COMP%]{left:100%;margin-left:-45px;background-color:#fdfdfd;color:#00008f}.btn-slide[_ngcontent-%COMP%]:hover   span.title[_ngcontent-%COMP%]{left:40px;opacity:0}.btn-slide[_ngcontent-%COMP%]:hover   span.title-hover[_ngcontent-%COMP%]{opacity:1;left:40px}.btn-slide[_ngcontent-%COMP%]   span.circle[_ngcontent-%COMP%]{display:block;background-color:#00008f;color:#fff;position:absolute;float:left;margin:5px;line-height:42px;height:40px;width:40px;top:-2px;left:0;transition:.5s;border-radius:50%}.btn-slide[_ngcontent-%COMP%]   span.title[_ngcontent-%COMP%], .btn-slide[_ngcontent-%COMP%]   span.title-hover[_ngcontent-%COMP%]{position:absolute;left:90px;text-align:center;margin:0 auto;font-size:16px;font-weight:700;color:#00008f;transition:.5s}.btn-slide[_ngcontent-%COMP%]   span.title-hover[_ngcontent-%COMP%]{left:80px;opacity:0}.btn-slide[_ngcontent-%COMP%]   span.title-hover[_ngcontent-%COMP%]{color:#fff}.btn-slide[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:25px}.error-lines[_ngcontent-%COMP%]{text-align:left}.error-lines[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{text-decoration:underline}input[type=file][_ngcontent-%COMP%]::file-selector-button{padding:0 16px;height:40px;cursor:pointer;background-color:#fff;color:#00008f;font-weight:700!important;border:1px solid #00008f;margin-right:16px;transition:background-color .2s;border-radius:50px}.btn-file[_ngcontent-%COMP%]{padding:0 16px;height:40px;cursor:pointer;background-color:#fff;color:#00008f;font-weight:700!important;border:1px solid #00008f;margin-right:16px;transition:background-color .2s;border-radius:50px}input[type=file][_ngcontent-%COMP%]::file-selector-button:hover{background-color:#f3f4f6}input[type=file][_ngcontent-%COMP%]::file-selector-button:active{background-color:#e5e7eb}'],data:{animation:[(0,J.X$)("detailExpand",[(0,J.SB)("collapsed",(0,J.oB)({height:"0px",minHeight:"0",display:"none"})),(0,J.SB)("expanded",(0,J.oB)({height:"*"})),(0,J.eR)("expanded <=> collapsed",(0,J.jt)("225ms cubic-bezier(0.4, 0.0, 0.2, 1)"))])]}}),r})();function yb(r,s){return a=>({bloquant:r,msg:s})}var Vx=B(8739),Nb=B(4128),Ib=B(5989),q2=B(266),S2=B(7331),y2=B(4803),Eb=B(5050);function Rb(r,s){if(1&r&&(c.ynx(0),c.TgZ(1,"mat-option",28),c._uU(2),c.qZA(),c.BQk()),2&r){const a=s.$implicit;c.xp6(1),c.Q6J("value",a.idAgence),c.xp6(1),c.hij(" ",a.nomAgence," ")}}function Db(r,s){if(1&r&&(c.ynx(0),c.TgZ(1,"mat-option",28),c._uU(2),c.qZA(),c.BQk()),2&r){const a=s.$implicit;c.xp6(1),c.Q6J("value",a.idParam),c.xp6(1),c.hij(" ",a.description," ")}}function wb(r,s){if(1&r){const a=c.EpF();c.TgZ(0,"form",10,11),c.NdJ("ngSubmit",function(){c.CHM(a);const g=c.oxw();return c.KtG(g.submitFilter(0,10))}),c.TgZ(2,"div",12)(3,"mat-form-field",13)(4,"mat-label"),c._uU(5,"N\xb0devis"),c.qZA(),c._UZ(6,"input",14),c.qZA(),c.TgZ(7,"mat-form-field",13)(8,"mat-label"),c._uU(9,"Nom"),c.qZA(),c._UZ(10,"input",15),c.qZA(),c.TgZ(11,"mat-form-field",13)(12,"mat-label"),c._uU(13,"Raison Sociale"),c.qZA(),c._UZ(14,"input",16),c.qZA()(),c.TgZ(15,"div",12)(16,"mat-form-field",13)(17,"mat-label"),c._uU(18,"Agence"),c.qZA(),c.TgZ(19,"mat-select",17),c.YNc(20,Rb,3,2,"ng-container",18),c.qZA()(),c.TgZ(21,"mat-form-field",13)(22,"mat-label"),c._uU(23,"Statut"),c.qZA(),c.TgZ(24,"mat-select",19),c.YNc(25,Db,3,2,"ng-container",18),c.qZA()()(),c.TgZ(26,"div",12)(27,"mat-form-field",13)(28,"mat-label"),c._uU(29,"Du "),c.qZA(),c._UZ(30,"input",20)(31,"mat-datepicker-toggle",21)(32,"mat-datepicker",null,22),c.qZA(),c.TgZ(34,"mat-form-field",13)(35,"mat-label"),c._uU(36,"Au "),c.qZA(),c._UZ(37,"input",23)(38,"mat-datepicker-toggle",21)(39,"mat-datepicker",null,24),c.qZA()(),c.TgZ(41,"div",25)(42,"button",26),c._uU(43,"Filtrer"),c.qZA(),c.TgZ(44,"mat-icon",27),c.NdJ("click",function(){c.CHM(a);const g=c.MAs(1),A=c.oxw();return c.KtG(A.resetTable(g))}),c._uU(45,"restart_alt"),c.qZA()()()}if(2&r){const a=c.MAs(33),d=c.MAs(40),g=c.oxw();c.Q6J("formGroup",g.formFilterDevis),c.xp6(20),c.Q6J("ngForOf",g.agences),c.xp6(5),c.Q6J("ngForOf",g.statuts),c.xp6(5),c.Q6J("matDatepicker",a),c.xp6(1),c.Q6J("for",a),c.xp6(6),c.Q6J("matDatepicker",d),c.xp6(1),c.Q6J("for",d)}}function Ob(r,s){if(1&r&&(c.TgZ(0,"div",29),c._uU(1),c.qZA()),2&r){const a=c.oxw();c.xp6(1),c.Oqu(a.errorHandler.msg)}}function kb(r,s){1&r&&(c.TgZ(0,"th",42),c._uU(1," N\xb0. "),c.qZA())}function Mb(r,s){if(1&r&&(c.TgZ(0,"td",43),c._uU(1),c.qZA()),2&r){const a=s.$implicit;c.xp6(1),c.hij(" ",a.idDevis," ")}}function Ub(r,s){1&r&&(c.TgZ(0,"th",42),c._uU(1," Date d'\xe9tablissemnt "),c.qZA())}function Fb(r,s){if(1&r&&(c.TgZ(0,"td",43),c._uU(1),c.ALo(2,"dateFormatPipe"),c.qZA()),2&r){const a=s.$implicit;c.xp6(1),c.hij(" ",c.lcZ(2,1,a.dateDevis)," ")}}function Qb(r,s){1&r&&(c.TgZ(0,"th",42),c._uU(1,"Dur\xe9e"),c.qZA())}function Jb(r,s){if(1&r&&(c.TgZ(0,"td",43),c._uU(1),c.qZA()),2&r){const a=s.$implicit;c.xp6(1),c.hij(" ",a.duree," ")}}function Lb(r,s){1&r&&(c.TgZ(0,"th",42),c._uU(1," Agence "),c.qZA())}function Yb(r,s){if(1&r&&(c.TgZ(0,"td",43),c._uU(1),c.qZA()),2&r){const a=s.$implicit;c.xp6(1),c.hij(" ",a.agence," ")}}function Gb(r,s){1&r&&(c.TgZ(0,"th",42),c._uU(1," Nom ou Raison sociale"),c.qZA())}function Bb(r,s){if(1&r&&(c.ynx(0),c._uU(1),c.ALo(2,"slice"),c.ALo(3,"slice"),c.BQk()),2&r){const a=c.oxw().$implicit;c.xp6(1),c.AsE("",c.Dn7(2,2,null==a?null:a.nom,0,50)," ",c.Dn7(3,6,null==a?null:a.prenom,0,50),"")}}function zb(r,s){if(1&r&&(c._uU(0),c.ALo(1,"slice")),2&r){const a=c.oxw().$implicit;c.hij("",c.Dn7(1,1,null==a?null:a.raisonSocial,0,50)," ")}}function Vb(r,s){if(1&r&&(c.TgZ(0,"td",43),c.YNc(1,Bb,4,10,"ng-container",44),c.YNc(2,zb,2,5,"ng-template",null,45,c.W1O),c.qZA()),2&r){const a=s.$implicit,d=c.MAs(3);c.xp6(1),c.Q6J("ngIf",""==a.raisonSocial)("ngIfElse",d)}}function jb(r,s){1&r&&(c.TgZ(0,"th",42),c._uU(1,"Statut "),c.qZA())}function Hb(r,s){if(1&r&&(c.TgZ(0,"td",43)(1,"mat-chip-list",46)(2,"mat-chip",47),c.ALo(3,"statutColor"),c._uU(4),c.qZA()()()),2&r){const a=s.$implicit;c.xp6(2),c.Akn(c.lcZ(3,3,a.statut.idParam)),c.xp6(2),c.hij(" ",a.statut.description," ")}}function $b(r,s){1&r&&(c.TgZ(0,"th",42),c._uU(1," Action "),c.qZA())}function Kb(r,s){if(1&r){const a=c.EpF();c.TgZ(0,"button",52),c.NdJ("click",function(){c.CHM(a);const g=c.oxw().$implicit,A=c.oxw(2);return c.KtG(A.ApproveDevisDialog(g.idDevis))}),c.TgZ(1,"mat-icon"),c._uU(2,"approval"),c.qZA(),c.TgZ(3,"span"),c._uU(4,"Approbation devis"),c.qZA()()}}function Wb(r,s){if(1&r){const a=c.EpF();c.TgZ(0,"td",43)(1,"button",48)(2,"mat-icon"),c._uU(3,"more_vert"),c.qZA()(),c.TgZ(4,"mat-menu",49,50)(6,"button",51),c.NdJ("click",function(){const A=c.CHM(a).$implicit,T=c.oxw(2);return c.KtG(T.navigateToContrat(A.idDevis))}),c.TgZ(7,"mat-icon"),c._uU(8,"source_notes"),c.qZA(),c.TgZ(9,"span"),c._uU(10,"Convertir en contrat"),c.qZA()(),c.TgZ(11,"button",52),c.NdJ("click",function(){const A=c.CHM(a).$implicit,T=c.oxw(2);return c.KtG(T.consultDevis(A.idDevis))}),c.TgZ(12,"mat-icon"),c._uU(13,"zoom_in"),c.qZA(),c.TgZ(14,"span"),c._uU(15,"Consulter devis"),c.qZA()(),c.TgZ(16,"button",52),c.NdJ("click",function(){const A=c.CHM(a).$implicit,T=c.oxw(2);return c.KtG(T.printDevis(A.idDevis))}),c.TgZ(17,"mat-icon"),c._uU(18,"print"),c.qZA(),c.TgZ(19,"span"),c._uU(20,"Imprimer devis"),c.qZA()(),c.YNc(21,Kb,5,0,"button",53),c.qZA()()}if(2&r){const a=s.$implicit,d=c.MAs(5),g=c.oxw(2);c.xp6(1),c.Q6J("matMenuTriggerFor",d),c.xp6(5),c.Q6J("disabled","S03"!=a.statut.code&&!(g.roleApproval&&"S04"==a.statut.code)),c.xp6(15),c.Q6J("ngIf",g.roleApproval&&"S04"==a.statut.code)}}function Xb(r,s){1&r&&c._UZ(0,"tr",54)}function eP(r,s){1&r&&c._UZ(0,"tr",55)}function tP(r,s){if(1&r&&(c.TgZ(0,"table",30),c.ynx(1,31),c.YNc(2,kb,2,0,"th",32),c.YNc(3,Mb,2,1,"td",33),c.BQk(),c.ynx(4,34),c.YNc(5,Ub,2,0,"th",32),c.YNc(6,Fb,3,3,"td",33),c.BQk(),c.ynx(7,35),c.YNc(8,Qb,2,0,"th",32),c.YNc(9,Jb,2,1,"td",33),c.BQk(),c.ynx(10,36),c.YNc(11,Lb,2,0,"th",32),c.YNc(12,Yb,2,1,"td",33),c.BQk(),c.ynx(13,37),c.YNc(14,Gb,2,0,"th",32),c.YNc(15,Vb,4,2,"td",33),c.BQk(),c.ynx(16,38),c.YNc(17,jb,2,0,"th",32),c.YNc(18,Hb,5,5,"td",33),c.BQk(),c.ynx(19,39),c.YNc(20,$b,2,0,"th",32),c.YNc(21,Wb,22,3,"td",33),c.BQk(),c.YNc(22,Xb,1,0,"tr",40),c.YNc(23,eP,1,0,"tr",41),c.qZA()),2&r){const a=c.oxw();c.Q6J("dataSource",a.dataSource),c.xp6(22),c.Q6J("matHeaderRowDef",a.displayedColumns),c.xp6(1),c.Q6J("matRowDefColumns",a.displayedColumns)}}function nP(r,s){if(1&r){const a=c.EpF();c.TgZ(0,"mat-paginator",56),c.NdJ("page",function(g){c.CHM(a);const A=c.oxw();return c.KtG(A.onPageChange(g))}),c.qZA()}if(2&r){const a=c.oxw();c.Q6J("length",a.lengthElement)("pageSize",10)}}let iP=(()=>{class r{constructor(a,d,g,A,T,R,L,V,X){this.packService=a,this.dialog=d,this.route=g,this.spinnerOverlayService=A,this.genericService=T,this.agencesService=R,this.formBuilder=L,this.router=V,this.devisService=X,this.displayedColumns=["idDevis","dateDevis","agence","raisonSocialOuNom","status","action"],this.dataSource=new w.by,this.errorHandler={error:!1,msg:""},this.agences=[],this.statuts=[],this.roleApproval=!1,this.filteredTable=!1,this.storedRoles=sessionStorage.getItem("roles"),this.isCourtier=!1,this.isBEA=!1,this.agence=parseInt(sessionStorage.getItem("agence")||"0")}ngOnInit(){this.nomProduit=this.route.snapshot.paramMap.get("nomProduit"),this.codeProduit=this.route.snapshot.paramMap.get("codeProduit"),null!=this.storedRoles&&this.storedRoles.includes("BO")&&(this.roleApproval=!0),this.storedRoles?.includes("COURTIER")||this.storedRoles?.includes("CDC_BEA")?(this.getAllAgences(),this.getAllStatus(),this.storedRoles?.includes("COURTIER")?this.isCourtier=!0:this.isBEA=!0,this.initFormFilter(),this.submitFilter(0,10)):this.getDevisByProduit(0,10)}initFormFilter(){this.formFilterDevis=this.formBuilder.group({idDevis:[],dateDebut:[],dateFin:[],agence:this.isCourtier||this.isBEA?[this.agence]:[],nom:[],prenom:[],raisonSocial:[],statut:[],produit:this.codeProduit}),(this.isCourtier||this.isBEA)&&this.formFilterDevis.get("agence")?.disable()}getAllAgences(){this.agencesService.getAllAgence().subscribe({next:a=>{this.agences=a},error:a=>{console.log(a)}})}getAllStatus(){this.genericService.getParam(JSON.parse(sessionStorage.getItem("dictionnaire")||"{}").find(a=>"C25"==a.code).idCategorie).subscribe({next:a=>{this.statuts=a},error:a=>{console.log(a)}})}onPageChange(a){this.filteredTable?this.submitFilter(a.pageIndex,a.pageSize):this.getDevisByProduit(a.pageIndex,a.pageSize)}getDevisByProduit(a,d){this.devisService.getDevisByCodeProduit(this.route.snapshot.paramMap.get("codeProduit"),d,a).subscribe({next:g=>{this.devisTable=g,this.dataSource=new w.by(g.content),this.lengthElement=this.devisTable.totalElements,this.paginator&&(this.paginator.length=g.totalElements),this.dataSource.paginator=this.paginator,this.getAllAgences(),this.getAllStatus(),this.initFormFilter()},error:g=>{console.log(g)}})}redirectToCreation(){this.router.navigate(["creation-devis/vie/",this.route.snapshot.paramMap.get("codeProduit"),this.route.snapshot.paramMap.get("nomProduit")])}submitFilter(a,d){if(this.formFilterDevis.valid){(this.isCourtier||this.isBEA)&&(this.formFilterDevis.value.agence=this.agence);const g={...this.formFilterDevis.value,produit:this.codeProduit};this.devisService.filtresDevis1(g,a,d).subscribe({next:A=>{this.dataSource=new w.by(A.content),this.paginator&&(this.paginator.length=A.totalElements),this.dataSource.paginator=this.paginator,this.filteredTable=!0,this.lengthElement=A.totalElements},error:A=>{console.log(A)}})}}navigateToContrat(a){this.router.navigateByUrl("creation-contrat/vie/"+this.route.snapshot.paramMap.get("codeProduit")+"/"+this.route.snapshot.paramMap.get("nomProduit")+"/"+a)}resetTable(a){this.isCourtier?(this.submitFilter(0,10),this.filteredTable=!0):(this.getDevisByProduit(0,10),this.filteredTable=!1),a.resetForm()}printDevis(a){this.devisService.getDevisById(a).subscribe({next:d=>{this.devis=d,this.consultRisque(d.groupes[0].risques[0].idRisque,d.groupes[0].idGroupe)},error:d=>{this.handleError(d)}})}consultRisque(a,d){var A,g=this;this.devisService.getParamDevisByIdRisque(this.devis.idDevis,d,a).subscribe({next:(A=(0,Le.Z)(function*(T){if(g.devis.risqueList=yield Object.values(T),"45F"==g.devis.produit.codeProduit)yield g.devisService.getPackIdRisque(g.devis.idDevis,a).subscribe({next:(R=(0,Le.Z)(function*(L){g.devis.paramDevisList=L.garantieList,g.devis.pack=L.pack,yield g.devisService.outputDevisFlotte(g.devis)}),function(V){return R.apply(this,arguments)}),error:R=>{console.log(R)}});else{let R=[],L={};for(const V of g.devis?.groupes||[])for(const X of V.risques||[])try{const pe=yield g.devisService.getPackIdRisque(g.devis.idDevis,X.idRisque).toPromise();pe?.primeList?.forEach(fe=>{"CP101"===fe?.typePrime?.code&&R.push({prime:fe.prime,id:X.idRisque})}),pe.garantieList.forEach(fe=>{95!==fe?.idGarantie&&(L[fe?.description]=fe?.categorieList?.[0]?.valeur)})}catch(pe){console.log(pe)}g.devis.primeListRisques=R,g.devis.garantiePlafond=L,yield g.devisService.getPackIdRisque(g.devis.idDevis,a).subscribe({next:(V=(0,Le.Z)(function*(X){g.devis.paramDevisList=X.garantieList,g.devis.pack=X.pack,console.log(g.devis,"plafond",L);const pe=g.devis?.groupes.map(fe=>g.packService.getPackById(fe.pack.idPack0));(0,Nb.D)(pe).subscribe(function(){var fe=(0,Le.Z)(function*(Ae){const de=[{title:"D\xe9c\xe8s accidentel (*)",garantieIndex:0},{title:"Incapacit\xe9 Permanente Totale / Partielle (*)",garantieIndex:1},{title:"Frais d\u2019hospitalisation, m\xe9dicaux et pharmaceutiques",garantieIndex:2},{title:"Bris de lunettes en cas d\u2019accident",garantieIndex:3},{title:"Proth\xe8se dentaire en cas d\u2019accident",garantieIndex:4},{title:"Assistance",garantieIndex:4}].map(({title:Ne,garantieIndex:ze})=>g.devisService.gavRows(Ae,ze,Ne));g.devis.gavGarantieTable=de,yield g.devisService.generatePdf(g.devis)});return function(Ae){return fe.apply(this,arguments)}}())}),function(pe){return V.apply(this,arguments)}),error:V=>{console.log(V)}})}var V,R}),function(R){return A.apply(this,arguments)}),error:A=>{console.log(A)}})}handleError(a){500===a.status&&(this.errorHandler.error=!0,this.errorHandler.msg="Erreur systeme, veuillez contacter l'administrateur.")}consultDevis(a){this.router.navigate(["consultation/vie/"+this.route.snapshot.paramMap.get("codeProduit")+"/"+this.route.snapshot.paramMap.get("nomProduit")+"/"+a])}ApproveDevisDialog(a){i().fire({title:"Voulez-vous approuver ce devis ? ",icon:"warning",showCancelButton:!0,cancelButtonText:"Refuser",confirmButtonText:"Approuver",confirmButtonColor:"#28a745",cancelButtonColor:"#dc3545"}).then(d=>{this.devisService.approveDevis(a,sessionStorage.getItem("userId"),d.isConfirmed).subscribe({next:g=>{this.getDevisByProduit(0,10),i().fire(g,"","success")},error:g=>{this.handleError(g)}})})}}return r.\u0275fac=function(a){return new(a||r)(c.Y36(C2.F),c.Y36(a2.uw),c.Y36(ee.gz),c.Y36(Ib.W),c.Y36(l2.M),c.Y36(x2.e),c.Y36(o.qu),c.Y36(ee.F0),c.Y36(s2.J))},r.\u0275cmp=c.Xpm({type:r,selectors:[["app-gestion-devis-vie"]],viewQuery:function(a,d){if(1&a&&c.Gf(Vx.NW,7),2&a){let g;c.iGM(g=c.CRH())&&(d.paginator=g.first)}},decls:13,vars:5,consts:[[1,"container"],[1,"header"],[1,"title-table"],[1,"btn","btn-secondary",2,"display","flex","align-items","center",3,"click"],["aria-hidden","false","aria-label","ajouter pack ",1,"material-symbols-outlined"],[1,"filtre"],["class","row\n            formFiltre",3,"formGroup","ngSubmit",4,"ngIf"],["class","alert alert-danger",4,"ngIf"],["mat-table","","class","\n        devis-table",3,"dataSource",4,"ngIf"],[3,"length","pageSize","page",4,"ngIf"],[1,"row","formFiltre",3,"formGroup","ngSubmit"],["formDirective","ngForm"],[1,"row"],["appearance","outline",1,"col-md-4"],["type","text","matInput","","placeholder","","formControlName","idDevis"],["type","text","matInput","","placeholder","","formControlName","nom"],["type","text","matInput","","placeholder","","formControlName","raisonSocial"],["formControlName","agence"],[4,"ngFor","ngForOf"],["formControlName","statut"],["matInput","","formControlName","dateDebut",3,"matDatepicker"],["matSuffix","",3,"for"],["pickerDu",""],["matInput","","formControlName","dateFin",3,"matDatepicker"],["pickerAu",""],[1,"row","buttons"],["type","submit",1,"btn","btn-action"],["matTooltip","R\xe9nitialisation","matTooltipPosition","right",1,"material-symbols-outlined",3,"click"],[3,"value"],[1,"alert","alert-danger"],["mat-table","",1,"devis-table",3,"dataSource"],["matColumnDef","idDevis"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","dateDevis"],["matColumnDef","duree"],["matColumnDef","agence"],["matColumnDef","raisonSocialOuNom"],["matColumnDef","status"],["matColumnDef","action"],["mat-header-row","","class","example-second-header-row",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],[4,"ngIf","ngIfElse"],["personneMoral",""],["aria-label","Fish selection"],["color","primary"],["mat-icon-button","","type","button","aria-label","menu devis list",3,"matMenuTriggerFor"],["xPosition","after",1,"menu-devis"],["menu","matMenu"],["mat-menu-item","","type","button",3,"disabled","click"],["mat-menu-item","","type","button",3,"click"],["mat-menu-item","","type","button",3,"click",4,"ngIf"],["mat-header-row","",1,"example-second-header-row"],["mat-row",""],[3,"length","pageSize","page"]],template:function(a,d){1&a&&(c.TgZ(0,"div",0)(1,"div",1)(2,"h2",2),c._uU(3),c.qZA(),c.TgZ(4,"button",3),c.NdJ("click",function(){return d.redirectToCreation()}),c.TgZ(5,"mat-icon",4),c._uU(6,"add_circle"),c.qZA(),c._uU(7," Ajouter un devis "),c.qZA()(),c.TgZ(8,"div",5),c.YNc(9,wb,46,7,"form",6),c.qZA(),c.YNc(10,Ob,2,1,"div",7),c.YNc(11,tP,24,3,"table",8),c.YNc(12,nP,1,2,"mat-paginator",9),c.qZA()),2&a&&(c.xp6(3),c.hij("Listes des devis ",d.nomProduit,""),c.xp6(6),c.Q6J("ngIf",d.formFilterDevis),c.xp6(1),c.Q6J("ngIf",d.errorHandler.error),c.xp6(1),c.Q6J("ngIf",0!=d.dataSource.data.length),c.xp6(1),c.Q6J("ngIf",0!=d.dataSource.data.length))},dependencies:[Se.sg,Se.O5,c2.Hw,ig.VK,ig.OP,ig.p6,o._Y,o.Fj,o.JJ,o.JL,o.sg,o.u,Og.KE,Og.hX,Og.R9,v2.Nt,w.BZ,w.fO,w.as,w.w1,w.Dz,w.nj,w.ge,w.ev,w.XQ,w.Gk,q2.gM,Vx.NW,O0.Mq,O0.hl,O0.nW,A2.gD,K.ey,u2.lW,S2.qn,S2.HS,Se.OU,y2.y,Eb.i],styles:[".container[_ngcontent-%COMP%]{background-color:#fff;padding:40px 0;height:100%}.header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:0px 2rem}.header[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{height:-moz-fit-content;height:fit-content;font-size:29px;margin-right:1rem;width:-moz-fit-content;width:fit-content}.title-table[_ngcontent-%COMP%]{margin-bottom:0rem;font-weight:800!important;font-size:23px!important;color:#00008f!important}table.devis-table[_ngcontent-%COMP%]{width:100%;margin-top:2rem}.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:16px}.mat-row[_ngcontent-%COMP%]:nth-child(even), .mat-header-row[_ngcontent-%COMP%]{background-color:#f7f7f9}.mat-header-row[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{color:#00008f}.mat-header-cell[_ngcontent-%COMP%]{color:#333;font-weight:600;letter-spacing:.5px;font-size:15px;width:165px}.header-tab[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}.mat-paginator[_ngcontent-%COMP%]{background-color:transparent;margin:20px auto auto;width:80%}.mat-icon[_ngcontent-%COMP%]{height:100%;font-size:36px;width:-moz-fit-content;width:fit-content}.mat-cell[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{color:#00008f}.mat-header-cell.mat-icon[_ngcontent-%COMP%]{color:#fff}.mat-cell[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]:hover, .mat-header-cell[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]:hover{color:#d14723;cursor:pointer}  .mat-tooltip{font-size:14px}.mat-menu-item[_ngcontent-%COMP%]{font-size:16px}.mat-menu-item[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{margin-right:16px;font-size:21px;height:-moz-fit-content;height:fit-content}.mat-menu-item[_ngcontent-%COMP%]:hover:not([disabled]){color:#00008f}.mat-menu-item[_ngcontent-%COMP%]:hover:not([disabled])   .mat-icon[_ngcontent-%COMP%]{color:#00008f}.filtre[_ngcontent-%COMP%]   .row.formFiltre[_ngcontent-%COMP%]{width:100%;padding:0 2rem;margin-top:2rem}.row.buttons[_ngcontent-%COMP%]{justify-content:flex-end}.row.buttons[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{color:#00008f;cursor:pointer}.btn.btn-action[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content}.filtre[_ngcontent-%COMP%]     .mat-form-field-wrapper{padding-bottom:.5rem}.truncate-text[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}"]}),r})();var oP=B(3205),rP=B(8661);const aP=["innerTables"],sP=["innerSort"];function lP(r,s){if(1&r&&(c.TgZ(0,"div",6)(1,"div",7)(2,"div",8)(3,"div",9),c._uU(4,"Nom: "),c.qZA(),c.TgZ(5,"div",10),c._uU(6),c.qZA()()(),c.TgZ(7,"div",7)(8,"div",8)(9,"div",9),c._uU(10,"Pr\xe9nom:"),c.qZA(),c.TgZ(11,"div",10),c._uU(12),c.qZA()()()()),2&r){const a=c.oxw();c.xp6(6),c.Oqu(a.informationsAssure.nom),c.xp6(6),c.hij("",a.informationsAssure.prenom," ")}}function cP(r,s){if(1&r&&(c.TgZ(0,"div",6)(1,"div",7)(2,"div",8)(3,"div",9),c._uU(4,"Raison Social: "),c.qZA(),c.TgZ(5,"div",10),c._uU(6),c.qZA()()()()),2&r){const a=c.oxw();c.xp6(6),c.Oqu(a.informationsAssure.raisonSocial)}}function uP(r,s){if(1&r&&(c.TgZ(0,"div",10),c._uU(1),c.ALo(2,"dateFormatPipe"),c.qZA()),2&r){const a=c.oxw().$implicit;c.xp6(1),c.Oqu(c.lcZ(2,1,null==a.reponse?null:a.reponse.valeur))}}function mP(r,s){if(1&r&&(c.TgZ(0,"div",10),c._uU(1),c.qZA()),2&r){const a=c.oxw().$implicit;c.xp6(1),c.Oqu(null==a.reponse?null:a.reponse.valeur)}}function dP(r,s){if(1&r&&(c.TgZ(0,"div",10),c._uU(1),c.qZA()),2&r){const a=c.oxw().$implicit;c.xp6(1),c.Oqu(null==a.reponse||null==a.reponse.idParamReponse?null:a.reponse.idParamReponse.description)}}function _P(r,s){if(1&r&&(c.TgZ(0,"div",10),c._uU(1),c.qZA()),2&r){const a=c.oxw().$implicit;c.xp6(1),c.Oqu(null==a.reponse?null:a.reponse.description)}}function pP(r,s){if(1&r&&(c.TgZ(0,"div",10),c._uU(1),c.qZA()),2&r){const a=c.oxw().$implicit;c.xp6(1),c.Oqu(null==a.reponse?null:a.reponse.valeur)}}function fP(r,s){if(1&r&&(c.TgZ(0,"div",6)(1,"div",7)(2,"div",8)(3,"div",9),c._uU(4),c.qZA(),c.YNc(5,uP,3,3,"div",23),c.YNc(6,mP,2,1,"div",23),c.YNc(7,dP,2,1,"div",23),c.YNc(8,_P,2,1,"div",23),c.YNc(9,pP,2,1,"div",23),c.qZA()()()),2&r){const a=s.$implicit;c.xp6(4),c.Oqu(a.libelle),c.xp6(1),c.Q6J("ngIf","date"==(null==a.typeChamp?null:a.typeChamp.description)),c.xp6(1),c.Q6J("ngIf","Number"==(null==a.typeChamp?null:a.typeChamp.description)),c.xp6(1),c.Q6J("ngIf","Liste of values"==(null==a.typeChamp?null:a.typeChamp.description)),c.xp6(1),c.Q6J("ngIf","From Table"==(null==a.typeChamp?null:a.typeChamp.description)),c.xp6(1),c.Q6J("ngIf","Liste of values"!=(null==a.typeChamp?null:a.typeChamp.description)&&"Number"!=(null==a.typeChamp?null:a.typeChamp.description)&&"From Table"!=(null==a.typeChamp?null:a.typeChamp.description)&&"date"!=(null==a.typeChamp?null:a.typeChamp.description))}}function gP(r,s){if(1&r&&(c.TgZ(0,"mat-expansion-panel",20)(1,"mat-expansion-panel-header")(2,"mat-panel-title",21),c._uU(3),c.qZA()(),c.YNc(4,fP,10,6,"div",22),c.qZA()),2&r){const a=s.$implicit,d=s.index;c.Q6J("expanded",!0),c.xp6(3),c.hij(" ",null==a[d]?null:a[d].categorieParamRisque," "),c.xp6(1),c.Q6J("ngForOf",a)}}function hP(r,s){if(1&r&&(c.TgZ(0,"mat-accordion",18),c.YNc(1,gP,5,3,"mat-expansion-panel",19),c.qZA()),2&r){const a=c.oxw();c.xp6(1),c.Q6J("ngForOf",a.informationsRisque)}}function CP(r,s){1&r&&(c.TgZ(0,"th",35),c._uU(1,"Description"),c.qZA())}function xP(r,s){if(1&r&&(c.TgZ(0,"td",36),c._uU(1),c.qZA()),2&r){const a=s.$implicit;c.xp6(1),c.hij(" ",a.description," ")}}function vP(r,s){1&r&&(c.TgZ(0,"th",35),c._uU(1,"Pack"),c.qZA())}function AP(r,s){if(1&r&&(c.TgZ(0,"td",36),c._uU(1),c.qZA()),2&r){const a=s.$implicit;c.xp6(1),c.hij(" ",a.pack.description," ")}}function TP(r,s){1&r&&c._UZ(0,"th",35)}function bP(r,s){if(1&r){const a=c.EpF();c.TgZ(0,"td",36)(1,"button",37),c.NdJ("click",function(){const A=c.CHM(a).$implicit,T=c.oxw(2);return c.KtG(T.toggleRow(A))}),c.TgZ(2,"mat-icon"),c._uU(3),c.qZA()()()}if(2&r){const a=s.$implicit,d=c.oxw(2);c.xp6(3),c.Oqu(d.expandedElement===a?"expand_less":"expand_more")}}function PP(r,s){if(1&r&&(c.TgZ(0,"th",35),c._uU(1),c.qZA()),2&r){const a=c.oxw().$implicit;c.xp6(1),c.hij(" ",a,"")}}function ZP(r,s){if(1&r&&(c.TgZ(0,"td",36),c._uU(1),c.ALo(2,"dateFormatPipe"),c.qZA()),2&r){const a=s.$implicit,d=c.oxw(),g=d.index,A=d.$implicit;c.xp6(1),c.hij(" ","P166"!=a.risque[g].code?a.risque[g][A]:c.lcZ(2,1,a.risque[g][A])," ")}}function qP(r,s){1&r&&(c.ynx(0,47),c.YNc(1,PP,2,1,"th",26),c.YNc(2,ZP,3,3,"td",27),c.BQk()),2&r&&c.Q6J("matColumnDef",s.$implicit)}function SP(r,s){1&r&&(c.TgZ(0,"th",35),c._uU(1," Action "),c.qZA())}function yP(r,s){if(1&r){const a=c.EpF();c.TgZ(0,"td",36)(1,"button",48)(2,"mat-icon"),c._uU(3,"more_vert"),c.qZA()(),c.TgZ(4,"mat-menu",49,50)(6,"button",51),c.NdJ("click",function(){const A=c.CHM(a).$implicit,T=c.oxw(5);return c.KtG(T.consultRisque(A.idRisque,T.idGroupe))}),c.TgZ(7,"mat-icon"),c._uU(8,"zoom_in"),c.qZA(),c.TgZ(9,"span"),c._uU(10,"Consulter risque"),c.qZA()()()()}if(2&r){const a=c.MAs(5);c.xp6(1),c.Q6J("matMenuTriggerFor",a)}}function NP(r,s){1&r&&c._UZ(0,"tr",52)}function IP(r,s){1&r&&c._UZ(0,"tr",53)}function EP(r,s){if(1&r&&(c.TgZ(0,"div",41)(1,"table",42,43),c.YNc(3,qP,3,1,"ng-container",44),c.ynx(4,45),c.YNc(5,SP,2,0,"th",26),c.YNc(6,yP,11,1,"td",27),c.BQk(),c.YNc(7,NP,1,0,"tr",31),c.YNc(8,IP,1,0,"tr",46),c.qZA()()),2&r){const a=c.oxw(2).$implicit,d=c.oxw(2);c.xp6(1),c.Q6J("dataSource",a.risques),c.xp6(2),c.Q6J("ngForOf",d.displayedColumnsCol),c.xp6(4),c.Q6J("matHeaderRowDef",d.displayedColumnsRsInner),c.xp6(1),c.Q6J("matRowDefColumns",d.displayedColumnsRsInner)}}function RP(r,s){if(1&r&&(c.TgZ(0,"div",39),c.YNc(1,EP,9,4,"div",40),c.qZA()),2&r){const a=c.oxw().$implicit,d=c.oxw(2);c.Q6J("@detailExpand",a==d.expandedElement?"expanded":"collapsed"),c.xp6(1),c.Q6J("ngIf",d.expandedElement)}}function DP(r,s){if(1&r&&(c.TgZ(0,"td",36),c.YNc(1,RP,2,2,"div",38),c.qZA()),2&r){const a=s.$implicit,d=c.oxw(2);c.uIk("colspan",d.displayedColumnsRs.length),c.xp6(1),c.Q6J("ngIf",null==a.risques||null==a.risques.data?null:a.risques.data.length)}}function wP(r,s){1&r&&c._UZ(0,"tr",52)}function OP(r,s){if(1&r&&c._UZ(0,"tr",53),2&r){const a=s.$implicit,d=c.oxw(2);c.ekj("example-element-row",null==a.risques||null==a.risques.data?null:a.risques.data.length)("example-expanded-row",d.expandedElement===a)}}function kP(r,s){1&r&&c._UZ(0,"tr",54)}const N2=function(){return["expandedDetail"]},MP=function(){return[5,10]};function UP(r,s){if(1&r&&(c.TgZ(0,"mat-accordion",18)(1,"table",24),c.ynx(2,25),c.YNc(3,CP,2,0,"th",26),c.YNc(4,xP,2,1,"td",27),c.BQk(),c.ynx(5,28),c.YNc(6,vP,2,0,"th",26),c.YNc(7,AP,2,1,"td",27),c.BQk(),c.ynx(8,29),c.YNc(9,TP,1,0,"th",26),c.YNc(10,bP,4,1,"td",27),c.BQk(),c.ynx(11,30),c.YNc(12,DP,2,2,"td",27),c.BQk(),c.YNc(13,wP,1,0,"tr",31),c.YNc(14,OP,1,4,"tr",32),c.YNc(15,kP,1,0,"tr",33),c.qZA(),c._UZ(16,"mat-paginator",34),c.qZA()),2&r){const a=c.oxw();c.xp6(1),c.Q6J("dataSource",a.dataSourceGroupes),c.xp6(12),c.Q6J("matHeaderRowDef",a.displayedColumnsRs),c.xp6(1),c.Q6J("matRowDefColumns",a.displayedColumnsRs),c.xp6(1),c.Q6J("matRowDefColumns",c.DdM(6,N2)),c.xp6(1),c.Q6J("pageSize",10)("pageSizeOptions",c.DdM(7,MP))}}function FP(r,s){1&r&&(c.TgZ(0,"th",35),c._uU(1," Garantie"),c.qZA())}function QP(r,s){if(1&r&&(c.TgZ(0,"td",36),c._uU(1),c.qZA()),2&r){const a=s.$implicit;c.xp6(1),c.hij(" ",a.description," ")}}function JP(r,s){1&r&&(c.TgZ(0,"th",35),c._uU(1," Plafond "),c.qZA())}function LP(r,s){if(1&r&&(c.TgZ(0,"td",36),c._uU(1),c.qZA()),2&r){const a=s.$implicit;c.xp6(1),c.hij(" ","0"!=a.plafond?a.plafond:"-"," ")}}function YP(r,s){1&r&&(c.TgZ(0,"th",35),c._uU(1," Franchise "),c.qZA())}function GP(r,s){if(1&r&&(c.TgZ(0,"td",36),c._uU(1),c.qZA()),2&r){const a=s.$implicit;c.xp6(1),c.hij(" ",a.franchise," ")}}function BP(r,s){1&r&&(c.TgZ(0,"th",35),c._uU(1," Formule "),c.qZA())}function zP(r,s){if(1&r&&(c.TgZ(0,"td",36),c._uU(1),c.qZA()),2&r){const a=s.$implicit;c.xp6(1),c.hij(" ",a.formule," ")}}function VP(r,s){1&r&&(c.TgZ(0,"th",35),c._uU(1," Prime "),c.qZA())}function jP(r,s){if(1&r&&(c.TgZ(0,"td",36),c._uU(1),c.ALo(2,"money"),c.ALo(3,"number"),c.TgZ(4,"sup"),c._uU(5,"DA"),c.qZA()()),2&r){const a=s.$implicit;c.xp6(1),c.hij(" ",c.lcZ(2,1,c.xi3(3,3,a.prime,"1.0-0")),"")}}function HP(r,s){1&r&&c._UZ(0,"th",35)}function $P(r,s){if(1&r){const a=c.EpF();c.TgZ(0,"button",37),c.NdJ("click",function(){c.CHM(a);const g=c.oxw().$implicit,A=c.oxw(2);return c.KtG(A.expandedElementPack=A.expandedElementPack===g?null:g)}),c.TgZ(1,"mat-icon"),c._uU(2),c.qZA()()}if(2&r){const a=c.oxw().$implicit,d=c.oxw(2);c.xp6(2),c.Oqu(d.expandedElementPack===a?"indeterminate_check_box":"add_box")}}function KP(r,s){if(1&r&&(c.TgZ(0,"td",62),c.YNc(1,$P,3,1,"button",63),c.qZA()),2&r){const a=s.$implicit,d=c.oxw(2);c.ekj("example-expanded-row",d.expandedElementPack===a),c.xp6(1),c.Q6J("ngIf",0!=a.sousGarantieList.data.length)}}function WP(r,s){1&r&&(c.TgZ(0,"th",35),c._uU(1," Sous garantie"),c.qZA())}function XP(r,s){if(1&r&&(c.TgZ(0,"td",36),c._uU(1),c.qZA()),2&r){const a=s.$implicit;c.xp6(1),c.hij(" ",a.description," ")}}function e3(r,s){1&r&&(c.TgZ(0,"th",35),c._uU(1," Plafond "),c.qZA())}function t3(r,s){if(1&r&&(c.TgZ(0,"td",36),c._uU(1),c.qZA()),2&r){const a=s.$implicit;c.xp6(1),c.hij(" ","0"!=a.plafond?a.plafond:"-"," ")}}function n3(r,s){1&r&&(c.TgZ(0,"th",35),c._uU(1," Franchise "),c.qZA())}function o3(r,s){if(1&r&&(c.TgZ(0,"td",36),c._uU(1),c.qZA()),2&r){const a=s.$implicit;c.xp6(1),c.hij(" ",a.franchise," ")}}function r3(r,s){1&r&&(c.TgZ(0,"th",35),c._uU(1," Formule "),c.qZA())}function a3(r,s){if(1&r&&(c.TgZ(0,"td",36),c._uU(1),c.qZA()),2&r){const a=s.$implicit;c.xp6(1),c.hij(" ",a.formule," ")}}function s3(r,s){1&r&&(c.TgZ(0,"th",35),c._uU(1," Prime "),c.qZA())}function l3(r,s){if(1&r&&(c.TgZ(0,"td",36),c._uU(1),c.ALo(2,"money"),c.ALo(3,"number"),c.TgZ(4,"sup"),c._uU(5,"DA"),c.qZA()()),2&r){const a=s.$implicit;c.xp6(1),c.hij(" ",c.lcZ(2,1,c.xi3(3,3,a.prime,"1.0-0")),"")}}function c3(r,s){1&r&&c._UZ(0,"th",35)}function u3(r,s){1&r&&c._UZ(0,"td",36)}function m3(r,s){1&r&&c._UZ(0,"th",35)}function d3(r,s){1&r&&c._UZ(0,"td",36)}function _3(r,s){1&r&&c._UZ(0,"tr",52)}function p3(r,s){1&r&&c._UZ(0,"tr",53)}function f3(r,s){if(1&r&&(c.TgZ(0,"td",36)(1,"div",39)(2,"table",64),c.ynx(3,25),c.YNc(4,WP,2,0,"th",26),c.YNc(5,XP,2,1,"td",27),c.BQk(),c.ynx(6,56),c.YNc(7,e3,2,0,"th",26),c.YNc(8,t3,2,1,"td",27),c.BQk(),c.ynx(9,57),c.YNc(10,n3,2,0,"th",26),c.YNc(11,o3,2,1,"td",27),c.BQk(),c.ynx(12,58),c.YNc(13,r3,2,0,"th",26),c.YNc(14,a3,2,1,"td",27),c.BQk(),c.ynx(15,59),c.YNc(16,s3,2,0,"th",26),c.YNc(17,l3,6,6,"td",27),c.BQk(),c.ynx(18,65),c.YNc(19,c3,1,0,"th",26),c.YNc(20,u3,1,0,"td",27),c.BQk(),c.ynx(21,66),c.YNc(22,m3,1,0,"th",26),c.YNc(23,d3,1,0,"td",27),c.BQk(),c.YNc(24,_3,1,0,"tr",31),c.YNc(25,p3,1,0,"tr",46),c.qZA()()()),2&r){const a=s.$implicit,d=c.oxw(2);c.uIk("colspan",d.displayedColumnsPack.length),c.xp6(1),c.Q6J("@detailExpand",a==d.expandedElementPack?"expanded":"collapsed"),c.xp6(1),c.Q6J("dataSource",a.sousGarantieList),c.xp6(22),c.Q6J("matHeaderRowDef",d.displayedColumnsPackSousGarantie),c.xp6(1),c.Q6J("matRowDefColumns",d.displayedColumnsPackSousGarantie)}}function g3(r,s){1&r&&c._UZ(0,"tr",52)}function h3(r,s){1&r&&c._UZ(0,"tr",53)}function C3(r,s){1&r&&c._UZ(0,"tr",54)}function x3(r,s){if(1&r&&(c.TgZ(0,"mat-expansion-panel",4)(1,"mat-expansion-panel-header")(2,"mat-panel-title"),c._uU(3),c.qZA()(),c.TgZ(4,"table",55),c.ynx(5,25),c.YNc(6,FP,2,0,"th",26),c.YNc(7,QP,2,1,"td",27),c.BQk(),c.ynx(8,56),c.YNc(9,JP,2,0,"th",26),c.YNc(10,LP,2,1,"td",27),c.BQk(),c.ynx(11,57),c.YNc(12,YP,2,0,"th",26),c.YNc(13,GP,2,1,"td",27),c.BQk(),c.ynx(14,58),c.YNc(15,BP,2,0,"th",26),c.YNc(16,zP,2,1,"td",27),c.BQk(),c.ynx(17,59),c.YNc(18,VP,2,0,"th",26),c.YNc(19,jP,6,6,"td",27),c.BQk(),c.ynx(20,60),c.YNc(21,HP,1,0,"th",26),c.YNc(22,KP,2,3,"td",61),c.BQk(),c.ynx(23,30),c.YNc(24,f3,26,5,"td",27),c.BQk(),c.YNc(25,g3,1,0,"tr",31),c.YNc(26,h3,1,0,"tr",46),c.YNc(27,C3,1,0,"tr",33),c.qZA()()),2&r){const a=c.oxw();c.Q6J("expanded",!0),c.xp6(3),c.hij(' Pack et garanties "',a.packName,'" '),c.xp6(1),c.Q6J("dataSource",a.dataSourcePack),c.xp6(21),c.Q6J("matHeaderRowDef",a.displayedColumnsPack),c.xp6(1),c.Q6J("matRowDefColumns",a.displayedColumnsPack),c.xp6(1),c.Q6J("matRowDefColumns",c.DdM(6,N2))}}function v3(r,s){if(1&r&&(c.ynx(0),c.TgZ(1,"td"),c._uU(2),c.qZA(),c.TgZ(3,"td"),c._uU(4),c.ALo(5,"money"),c.ALo(6,"number"),c.TgZ(7,"sup"),c._uU(8,"DA"),c.qZA()(),c.BQk()),2&r){const a=c.oxw().$implicit;c.xp6(2),c.Oqu(a.typePrime.description),c.xp6(2),c.hij("",c.lcZ(5,2,c.xi3(6,4,a.prime,"1.0-0"))," ")}}function A3(r,s){if(1&r&&(c.TgZ(0,"tr"),c.YNc(1,v3,9,7,"ng-container",67),c.qZA()),2&r){const a=s.$implicit;c.xp6(1),c.Q6J("ngIf",101==a.typePrime.idParam)}}function T3(r,s){if(1&r&&(c.TgZ(0,"tr")(1,"td"),c._uU(2),c.qZA(),c.TgZ(3,"td"),c._uU(4),c.ALo(5,"money"),c.ALo(6,"number"),c.TgZ(7,"sup"),c._uU(8,"DA"),c.qZA()()()),2&r){const a=s.$implicit;c.xp6(2),c.Oqu(a.taxe.description),c.xp6(2),c.hij("",c.lcZ(5,2,c.xi3(6,4,a.prime,"1.0-0"))," ")}}function b3(r,s){if(1&r&&(c.ynx(0),c.TgZ(1,"td",68),c._uU(2),c.qZA(),c.TgZ(3,"td",68),c._uU(4),c.ALo(5,"money"),c.ALo(6,"number"),c.TgZ(7,"sup"),c._uU(8,"DA"),c.qZA()(),c.BQk()),2&r){const a=c.oxw().$implicit;c.xp6(2),c.Oqu(a.typePrime.description),c.xp6(2),c.hij("",c.lcZ(5,2,c.xi3(6,4,a.prime,"1.0-0"))," ")}}function P3(r,s){if(1&r&&(c.TgZ(0,"tr"),c.YNc(1,b3,9,7,"ng-container",67),c.qZA()),2&r){const a=s.$implicit;c.xp6(1),c.Q6J("ngIf",186==a.typePrime.idParam)}}const q3=[{path:"creation-devis/vie/:codeProduit/:nomProduit",component:Sb,canActivate:[me.k],data:{roles:["CDC_BEA","COURTIER","ADMIN","ROLE_SUPER_ADMIN","ANALYSTE","METIER","BACKOFFICE","DA","BO","CDC"]}},{path:"consultation/vie/:codeProduit/:nomProduit",component:iP,canActivate:[me.k],data:{roles:["COURTIER","ADMIN","ROLE_SUPER_ADMIN","ANALYSTE","METIER","BACKOFFICE","DA","BO","CDC","CONSULTATION"]}},{path:"consultation/vie/:codeProduit/:nomProduit/:idDevis",component:(()=>{class r{constructor(a,d,g,A,T,R,L){this.authentificationService=a,this.dialog=d,this.cd=g,this.genericService=A,this.router=T,this.route=R,this.devisService=L,this.dataSourcePack=new w.by,this.dataSourcePrime=new w.by,this.dataSourceGroupes=new w.by,this.displayedColumnsPack=["description","plafond","franchise","formule","prime","sousGarantie"],this.displayedColumnsPackSousGarantie=["description","plafond","franchise","formule","prime","empty1","empty2"],this.displayedColumnsPrime=["description","prime"],this.informationsAssure=[],this.informationsContrat=[],this.informationsPack=[],this.informationsPrime=[],this.categoriesRisque=[],this.sousGarantieTab=[],this.primeListe=[],this.taxeListe=[],this.displayedColumnsRs=["description","pack","more"],this.displayedColumnsRsInner=[],this.displayedColumnsCol=[],this.res=[],this.valeurVenale=0,this.multiRisque=!1}getUserById(a){this.authentificationService.getByUserId(a).subscribe({next:d=>{this.auditUser=d.nom+" "+d.prenom},error:d=>{console.log(d)}})}ngOnInit(){var a=this;this.idDevis=this.route.snapshot.paramMap.get("idDevis"),this.getInfoProduit(),this.devisService.getDevisById(this.idDevis).subscribe({next:d=>{if(console.log("datas ___ devis"),console.log(d),this.getUserById(d.auditUser),this.multiRisque||this.consultRisque(d.groupes[0].risques[0].idRisque,d.groupes[0].idGroupe),this.informationsAssure={typeClient:d.typeClient.description,raisonSocial:d.raisonSocial,nom:d.nom,prenom:d.prenom,email:d.email,tel:d.telephone},this.informationsContrat={dateDebut:d.datedebut?d.datedebut:null,dateFin:d.dateExpiration,agence:d.agence?.raisonSocial,reduction:d.reduction?.nomReduction,convention:d.reduction?.codeConvention?.nomConvention},this.packName=d?.groupes[0]?.pack.description,this.multiRisque){let g=[];const A=d.groupes;A.forEach(T=>{T.risques.forEach(R=>{R.risque.forEach(L=>{L.colonne=L.colonne.split(" ").map(X=>X.charAt(0).toUpperCase()+X.substring(1)).join("").replace(/[\xb0']/g,""),this.displayedColumnsRsInner=this.displayedColumnsRsInner.includes(L.colonne)?this.displayedColumnsRsInner:[...this.displayedColumnsRsInner,L.colonne],this.displayedColumnsCol=this.displayedColumnsCol.includes(L.colonne)?this.displayedColumnsCol:[...this.displayedColumnsCol,L.colonne];const V=R.risque.find(X=>X.colonne===L.colonne);V&&(V[L.colonne]=L.valeur,delete V.colonne,delete V.valeur)})})}),this.displayedColumnsRsInner.push("action"),A.forEach(T=>{T.risques&&Array.isArray(T.risques)&&T.risques.length?(T.risques.idGroupe=T.idGroupe,g=[...g,{...T,risques:new w.by(T.risques)}]):g=[...g,T]}),this.dataSourceGroupes=new w.by(g),this.dataSourceGroupes.paginator=this.paginator}else this.devisService.getPackIdRisque(this.idDevis,d.groupes[0].risques[0].idRisque).subscribe({next:(g=(0,Le.Z)(function*(A){A.garantieList.map(T=>{let R="-",L="-",V="-";(T.prime&&"0"!=T.prime||"95"!=d?.produit?.codeProduit)&&(T.sousGarantieList?.filter(X=>{let pe="-",fe="-",Ae="-";X.categorieList.map(qe=>{"C15"==qe.code?Ae=qe.valeur:"C16"==qe.code?fe=qe.valeur:"C7"==qe.code&&("0"==qe.valeur&&(qe.valeur=a.valeurVenale),pe=qe.valeur)}),a.sousGarantieTab.push({idGarantie:X.idGarantie,description:X.description,prime:X.prime,plafond:"-"!=pe?Number(pe).toLocaleString("fi-FI",{minimumFractionDigits:2,maximumFractionDigits:2}):pe,formule:"-"!=fe?Number(fe).toLocaleString("fi-FI",{minimumFractionDigits:2,maximumFractionDigits:2}):fe,franchise:"-"!=Ae?Number(Ae).toLocaleString("fi-FI",{minimumFractionDigits:2,maximumFractionDigits:2}):Ae})}),T.categorieList.map(X=>{"C15"==X.code?V=X.valeur:"C16"==X.code?L=X.valeur:"C7"==X.code&&("0"==X.valeur&&(X.valeur=a.valeurVenale),R=X.valeur)}),a.informationsPack.push({idGarantie:T.idGarantie,description:T.description,prime:T.prime,plafond:"-"!=R?Number(R).toLocaleString("fi-FI",{minimumFractionDigits:2,maximumFractionDigits:2}):R,formule:"-"!=L?Number(L).toLocaleString("fi-FI",{minimumFractionDigits:2,maximumFractionDigits:2}):L,franchise:"-"!=V?Number(V).toLocaleString("fi-FI",{minimumFractionDigits:2,maximumFractionDigits:2}):V,sousGarantieList:new w.by(a.sousGarantieTab)})),a.sousGarantieTab=[]}),a.dataSourcePack=new w.by(a.informationsPack),a.dataSourcePack=new w.by(a.informationsPack)}),function(T){return g.apply(this,arguments)}),error:g=>{console.log(g)}});var g;this.primeListe=d.primeList,this.taxeListe=d.taxeList},error:d=>{console.log(d)}})}toggleRow(a){this.dataSourceGroupes.data.indexOf(a),this.idGroupe=a.idGroupe,a.risques&&a.risques.data.length&&(this.expandedElement=this.expandedElement===a?null:a),this.cd.detectChanges(),this.innerTables.forEach((d,g)=>d.dataSource.sort=this.innerSort.toArray()[g])}getInfoProduit(){let a=JSON.parse(sessionStorage.getItem("products")||"{}").find(d=>d.codeProduit==this.route.snapshot.paramMap.get("codeProduit")).idProduit;this.genericService.getPorduitById(a).subscribe({next:d=>{this.multiRisque="Oui"==d.param_Produit_Reponses.filter(g=>"multirisque"==g.idParamProduit.libelle)[0].reponse.description},error:d=>{console.log(d)}})}goBack(){this.router.navigate(["consultation/vie/",this.route.snapshot.paramMap.get("codeProduit"),this.route.snapshot.paramMap.get("nomProduit")])}getWilaya(){this.genericService.getAllWilayas(1).subscribe({next:a=>{this.wilayas=a,this.informationsRisque.map(d=>{d.map(g=>{"P125"==g.codeRisque||"P56"==g.codeRisque?(this.risqueWilayaId=g.reponse.valeur,g.reponse.valeur=this.wilayas.filter(A=>A.idWilaya==g.reponse.valeur)[0].description):"P126"==g.codeRisque&&this.genericService.getAllCommuneByWilaya(this.risqueWilayaId).subscribe({next:A=>{g.reponse.valeur=A.filter(T=>T.idCommune==g.reponse.valeur)[0].description},error:A=>{console.log(A)}})})})},error:a=>{console.log(a)}})}consultRisque(a,d){this.devisService.getParamDevisByIdRisque(this.idDevis,d,a).subscribe({next:g=>{this.datasParam=g,this.multiRisque||(this.informationsRisque=this.datasParam.reduce((A,T)=>("P40"==T?.codeParam&&(this.valeurVenale=T.valeur),(A[T.categorieParamRisque]=A[T.categorieParamRisque]||[]).push(T),A),{}),this.informationsRisque=Object.values(this.informationsRisque),this.getWilaya()),this.multiRisque&&this.devisService.getPackIdRisque(this.idDevis,a).subscribe({next:A=>{this.openDialog(g,A)},error:A=>{console.log(A)}})},error:g=>{console.log(g)}})}openDialog(a,d){this.dialog.open(oP.T,{width:"60%",data:{paramRisque:a,pack:d}}).afterClosed().subscribe(A=>{})}}return r.\u0275fac=function(a){return new(a||r)(c.Y36(rP.g),c.Y36(a2.uw),c.Y36(c.sBO),c.Y36(l2.M),c.Y36(ee.F0),c.Y36(ee.gz),c.Y36(s2.J))},r.\u0275cmp=c.Xpm({type:r,selectors:[["app-consult-devis-vie"]],viewQuery:function(a,d){if(1&a&&(c.Gf(Vx.NW,5),c.Gf(aP,5),c.Gf(sP,5)),2&a){let g;c.iGM(g=c.CRH())&&(d.paginator=g.first),c.iGM(g=c.CRH())&&(d.innerTables=g),c.iGM(g=c.CRH())&&(d.innerSort=g)}},decls:97,vars:22,consts:[[1,"container"],[1,"header-title"],["aria-hidden","false","matTooltip","Retour","matTooltipPosition","left",1,"material-symbols-outlined",3,"click"],["multi","",1,"example-headers-align"],["hideToggle","",3,"expanded"],[1,"container",2,"padding","1rem 2rem"],[1,"row","infos"],[1,"col-md-6"],[1,"row"],[1,"col-md-6","key"],[1,"col-md-6","value"],["class","row infos",4,"ngIf","ngIfElse"],["personneMoral",""],["multi","",4,"ngIf","ngIfElse"],["multirisque",""],["hideToggle","",3,"expanded",4,"ngIf"],[1,"resume"],[4,"ngFor","ngForOf"],["multi",""],["hideToggle","","class","panel-risque",3,"expanded",4,"ngFor","ngForOf"],["hideToggle","",1,"panel-risque",3,"expanded"],[1,"categoryTitle"],["class","row infos ",4,"ngFor","ngForOf"],["class","col-md-6 value",4,"ngIf"],["mat-table","","multiTemplateDataRows","",1,"gestion-table",3,"dataSource"],["matColumnDef","description"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","pack"],["matColumnDef","more"],["matColumnDef","expandedDetail"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",3,"example-element-row","example-expanded-row",4,"matRowDef","matRowDefColumns"],["mat-row","","class","example-detail-row",4,"matRowDef","matRowDefColumns"],["aria-label","Select page of users",3,"pageSize","pageSizeOptions"],["mat-header-cell",""],["mat-cell",""],["mat-icon-button","","type","button","aria-label","",3,"click"],["class","example-element-detail",4,"ngIf"],[1,"example-element-detail"],["class","inner-table mat-elevation-z8",4,"ngIf"],[1,"inner-table","mat-elevation-z8"],["mat-table","","matSort","",1,"",3,"dataSource"],["innerTables",""],[3,"matColumnDef",4,"ngFor","ngForOf"],["matColumnDef","action"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"matColumnDef"],["mat-icon-button","","type","button","aria-label","menu contrat list",3,"matMenuTriggerFor"],["xPosition","after",1,"menu-contrat"],["menu","matMenu"],["mat-menu-item","","type","button",3,"click"],["mat-header-row",""],["mat-row",""],["mat-row","",1,"example-detail-row"],["mat-table","","multiTemplateDataRows","",1,"pack-table",3,"dataSource"],["matColumnDef","plafond"],["matColumnDef","franchise"],["matColumnDef","formule"],["matColumnDef","prime"],["matColumnDef","sousGarantie"],["mat-cell","","class","example-element-row",3,"example-expanded-row",4,"matCellDef"],["mat-cell","",1,"example-element-row"],["mat-icon-button","","type","button","aria-label","",3,"click",4,"ngIf"],["mat-table","","multiTemplateDataRows","",1,"pack-table","innertable",3,"dataSource"],["matColumnDef","empty1"],["matColumnDef","empty2"],[4,"ngIf"],[1,"primeTotale"]],template:function(a,d){if(1&a&&(c.TgZ(0,"div",0)(1,"h2",1)(2,"mat-icon",2),c.NdJ("click",function(){return d.goBack()}),c._uU(3,"arrow_circle_left"),c.qZA(),c._uU(4),c.qZA(),c.TgZ(5,"mat-accordion",3)(6,"mat-expansion-panel",4)(7,"mat-expansion-panel-header")(8,"mat-panel-title"),c._uU(9," Information du souscripteur "),c.qZA()(),c.TgZ(10,"div",5)(11,"div",6)(12,"div",7)(13,"div",8)(14,"div",9),c._uU(15,"Type Client: "),c.qZA(),c.TgZ(16,"div",10),c._uU(17),c.qZA()()()(),c.YNc(18,lP,13,2,"div",11),c.YNc(19,cP,7,1,"ng-template",null,12,c.W1O),c.TgZ(21,"div",6)(22,"div",7)(23,"div",8)(24,"div",9),c._uU(25,"Email: "),c.qZA(),c.TgZ(26,"div",10),c._uU(27),c.qZA()()(),c.TgZ(28,"div",7)(29,"div",8)(30,"div",9),c._uU(31,"T\xe9l\xe9phone:"),c.qZA(),c.TgZ(32,"div",10),c._uU(33),c.qZA()()()()()(),c.TgZ(34,"mat-expansion-panel",4)(35,"mat-expansion-panel-header")(36,"mat-panel-title"),c._uU(37," Contrat "),c.qZA()(),c.TgZ(38,"div",5)(39,"div",6)(40,"div",7)(41,"div",8)(42,"div",9),c._uU(43,"Date d'Effet: "),c.qZA(),c.TgZ(44,"div",10),c._uU(45),c.qZA()()(),c.TgZ(46,"div",7)(47,"div",8)(48,"div",9),c._uU(49,"Date d'Ech\xe9ance: "),c.qZA(),c.TgZ(50,"div",10),c._uU(51),c.qZA()()()(),c.TgZ(52,"div",6)(53,"div",7)(54,"div",8)(55,"div",9),c._uU(56,"Agence: "),c.qZA(),c.TgZ(57,"div",10),c._uU(58),c.qZA()()()(),c.TgZ(59,"div",6)(60,"div",7)(61,"div",8)(62,"div",9),c._uU(63,"R\xe9duction: "),c.qZA(),c.TgZ(64,"div",10),c._uU(65),c.qZA()()(),c.TgZ(66,"div",7)(67,"div",8)(68,"div",9),c._uU(69,"Convention:"),c.qZA(),c.TgZ(70,"div",10),c._uU(71),c.qZA()()()(),c.TgZ(72,"div",6)(73,"div",7)(74,"div",8)(75,"div",9),c._uU(76,"Audit User: "),c.qZA(),c.TgZ(77,"div",10),c._uU(78),c.qZA()()(),c._UZ(79,"div",7),c.qZA()()(),c.TgZ(80,"mat-expansion-panel",4)(81,"mat-expansion-panel-header")(82,"mat-panel-title"),c._uU(83," Informations du risque "),c.qZA()(),c.TgZ(84,"div",5),c.YNc(85,hP,2,1,"mat-accordion",13),c.YNc(86,UP,17,8,"ng-template",null,14,c.W1O),c.qZA()(),c.YNc(88,x3,28,7,"mat-expansion-panel",15),c.TgZ(89,"mat-expansion-panel",4)(90,"mat-expansion-panel-header")(91,"mat-panel-title"),c._uU(92," Prime "),c.qZA()(),c.TgZ(93,"table",16),c.YNc(94,A3,2,1,"tr",17),c.YNc(95,T3,9,7,"tr",17),c.YNc(96,P3,2,1,"tr",17),c.qZA()()()()),2&a){const g=c.MAs(20),A=c.MAs(87);c.xp6(4),c.hij(" Consultation du devis N\xb0",d.idDevis,""),c.xp6(2),c.Q6J("expanded",!0),c.xp6(11),c.Oqu(d.informationsAssure.typeClient),c.xp6(1),c.Q6J("ngIf","personne physique"==d.informationsAssure.typeClient)("ngIfElse",g),c.xp6(9),c.Oqu(d.informationsAssure.email),c.xp6(6),c.hij("",d.informationsAssure.tel," "),c.xp6(1),c.Q6J("expanded",!0),c.xp6(11),c.hij("",d.informationsContrat.dateDebut," "),c.xp6(6),c.hij("",d.informationsContrat.dateFin," "),c.xp6(7),c.Oqu(d.informationsContrat.agence),c.xp6(7),c.Oqu(d.informationsContrat.reduction),c.xp6(6),c.hij("",d.informationsContrat.convention," "),c.xp6(7),c.Oqu(d.auditUser),c.xp6(2),c.Q6J("expanded",!0),c.xp6(5),c.Q6J("ngIf",!d.multiRisque)("ngIfElse",A),c.xp6(3),c.Q6J("ngIf",!d.multiRisque),c.xp6(1),c.Q6J("expanded",!0),c.xp6(5),c.Q6J("ngForOf",d.primeListe),c.xp6(1),c.Q6J("ngForOf",d.taxeListe),c.xp6(1),c.Q6J("ngForOf",d.primeListe)}},dependencies:[Se.sg,Se.O5,c2.Hw,wg.pp,wg.ib,wg.yz,wg.yK,ig.VK,ig.OP,ig.p6,w.BZ,w.fO,w.as,w.w1,w.Dz,w.nj,w.ge,w.ev,w.XQ,w.Gk,q2.gM,Vx.NW,u2.lW,Se.JJ,y2.y,T2.X],styles:[".container[_ngcontent-%COMP%]{background-color:#fff;padding:40px 0;height:100%;overflow-y:auto;overflow-x:hidden}.gestion-table[_ngcontent-%COMP%]{width:100%}.gestion-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .gestion-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:16px}.gestion-table[_ngcontent-%COMP%]   .mat-header-cell[_ngcontent-%COMP%]{color:#00008f;font-weight:600}.gestion-table[_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]:nth-child(even), .gestion-table[_ngcontent-%COMP%]   .mat-header-row[_ngcontent-%COMP%]{background-color:#f7f7f9}.gestion-table[_ngcontent-%COMP%]   .mat-paginator[_ngcontent-%COMP%]{background-color:transparent;margin:20px auto auto;width:80%}.gestion-table[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{height:100%;font-size:26px;color:#00008f;width:-moz-fit-content;width:fit-content}.mat-menu-item[_ngcontent-%COMP%]{font-size:15px}.mat-menu-item[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:18px;height:-moz-fit-content;height:fit-content}.mat-menu-item[_ngcontent-%COMP%]:hover:not([disabled]), .mat-menu-item[_ngcontent-%COMP%]:hover:not([disabled])   .mat-icon[_ngcontent-%COMP%]{color:#00008f}.header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:0px 2rem}.header[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{height:-moz-fit-content;height:fit-content;font-size:29px;margin-right:1rem;width:-moz-fit-content;width:fit-content}.title-table[_ngcontent-%COMP%]{margin-bottom:0rem;font-weight:800!important;font-size:23px!important;color:#00008f!important}.container[_ngcontent-%COMP%]{background-color:#fff;padding:40px 0;height:100%;overflow-x:hidden;box-shadow:0 .5rem 1rem #00000026}.mat-expansion-panel-header[_ngcontent-%COMP%]{background:rgba(199,199,199,.2)!important;font-weight:600;font-size:16px}.mat-expansion-panel-header.mat-expanded[_ngcontent-%COMP%]{height:48px}.mat-expansion-panel-header-title[_ngcontent-%COMP%]{color:#00008f}.mat-expansion-panel[_ngcontent-%COMP%]:not([class*=mat-elevation-z]){box-shadow:none}.row.infos[_ngcontent-%COMP%]{font-size:16px;margin-bottom:2rem;font-weight:600}.panel-risque[_ngcontent-%COMP%]   .row.infos[_ngcontent-%COMP%]{margin-left:10px;margin-top:10px}.panel-risque[_ngcontent-%COMP%]{width:70%}.categoryTitle[_ngcontent-%COMP%]{text-transform:capitalize}.value[_ngcontent-%COMP%]{color:#00008f;font-weight:600}h2.header-title[_ngcontent-%COMP%]{padding:0 24px;font-size:21px!important;color:#00008f;font-weight:600!important;letter-spacing:1px;display:flex;justify-content:space-between}table.pack-table[_ngcontent-%COMP%]{width:100%;margin-top:1rem;margin-left:10px;margin-right:10px}.mat-header-row[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{color:#00008f}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:16px;font-weight:600;border-right:1px solid #e7e7e7;padding-left:1rem;width:200px}.mat-column-empty1[_ngcontent-%COMP%], .mat-column-empty2[_ngcontent-%COMP%]{border-right:none!important}.mat-header-cell[_ngcontent-%COMP%]{color:#333;font-weight:600;letter-spacing:.5px;font-size:15px}table.resume[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;border-spacing:0 19px}table.resume[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:17px;padding:12px 19px;border:1px solid rgba(0,0,0,.12)}.resume-buttons[_ngcontent-%COMP%]{margin-top:4rem;width:50%;display:flex;justify-content:space-between}.resume-buttons[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{margin-right:9px;font-size:24px}.mat-column-expandedDetail[_ngcontent-%COMP%]{padding-left:0!important;padding-right:0!important}.example-element-detail[_ngcontent-%COMP%]{overflow:hidden;display:flex}tr.example-detail-row[_ngcontent-%COMP%]{height:0}.mat-column-expandedDetail[_ngcontent-%COMP%]{padding:0}.mat-cell[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]:hover, .mat-header-cell[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]:hover{color:#d14723;cursor:pointer}.mat-cell[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{color:#00008f}.innertable[_ngcontent-%COMP%]{background-color:#f7f7f9}.cdk-column-expandedDetail[_ngcontent-%COMP%]{border-bottom-width:0px}.mat-menu-item[_ngcontent-%COMP%]{font-size:16px}.mat-icon[_ngcontent-%COMP%]{margin-right:16px;font-size:21px;height:-moz-fit-content;height:fit-content}.mat-menu-item[_ngcontent-%COMP%]:hover:not([disabled]){color:#00008f}.mat-menu-item[_ngcontent-%COMP%]:hover:not([disabled])   .mat-icon[_ngcontent-%COMP%]{color:#00008f}.inner-table[_ngcontent-%COMP%], .inner-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%}"],data:{animation:[(0,J.X$)("detailExpand",[(0,J.SB)("collapsed",(0,J.oB)({height:"0px",minHeight:"0",display:"none"})),(0,J.SB)("expanded",(0,J.oB)({height:"*"})),(0,J.eR)("expanded <=> collapsed",(0,J.jt)("225ms cubic-bezier(0.4, 0.0, 0.2, 1)"))])]}}),r})(),canActivate:[me.k],data:{roles:["CDC_BEA","COURTIER","ADMIN","ROLE_SUPER_ADMIN","ANALYSTE","METIER","BACKOFFICE","DA","BO","CDC","CONSULTATION"]}}];let S3=(()=>{class r{}return r.\u0275fac=function(a){return new(a||r)},r.\u0275mod=c.oAB({type:r}),r.\u0275inj=c.cJS({imports:[ee.Bz.forChild(q3),ee.Bz]}),r})();var y3=B(4466),N3=B(4092),I3=B(294);const I2={parse:{dateInput:"DD/MM/YYYY"},display:{dateInput:"DD/MM/YYYY",monthYearLabel:"MMMM YYYY",dateA11yLabel:"LL",monthYearA11yLabel:"MMMM YYYY"}};let E3=(()=>{class r{}return r.\u0275fac=function(a){return new(a||r)},r.\u0275mod=c.oAB({type:r}),r.\u0275inj=c.cJS({providers:[{provide:K._A,useClass:Ge.t},{provide:K.sG,useValue:I2},h.b],imports:[Se.ez,y3.m,N3.q,I3.I,S3]}),r})()},967:(co,wn,B)=>{"use strict";B.r(wn),B.d(wn,{AppDateAdapter:()=>xe,VieModule:()=>n});var Se=B(6895),K=B(3238),Ge=B(4479),h=B(3567),ee=B(2510),me=B(4650);const Le=[{path:"",loadChildren:()=>Promise.resolve().then(B.bind(B,4433)).then(i=>i.GestionDevisVieModule)},{path:"",loadChildren:()=>Promise.resolve().then(B.bind(B,8223)).then(i=>i.GestionContratVieModule)},{path:"",loadChildren:()=>B.e(346).then(B.bind(B,9346)).then(i=>i.GestionAvenantVieModule)}];let Q=(()=>{class i{}return i.\u0275fac=function(O){return new(O||i)},i.\u0275mod=me.oAB({type:i}),i.\u0275inj=me.cJS({imports:[ee.Bz.forChild(Le),ee.Bz]}),i})();var w=B(4433),o=B(8223),e=B(836);const xe={parse:{dateInput:"DD/MM/YYYY"},display:{dateInput:"DD/MM/YYYY",monthYearLabel:"MMMM YYYY",dateA11yLabel:"LL",monthYearA11yLabel:"MMMM YYYY"}};let n=(()=>{class i{}return i.\u0275fac=function(O){return new(O||i)},i.\u0275mod=me.oAB({type:i}),i.\u0275inj=me.cJS({providers:[{provide:K._A,useClass:Ge.t},{provide:K.sG,useValue:xe},h.b],imports:[Se.ez,Q,w.GestionDevisVieModule,e.GestionAvenantModule,o.GestionContratVieModule]}),i})()},5050:(co,wn,B)=>{"use strict";B.d(wn,{i:()=>K});var Se=B(4650);let K=(()=>{class Ge{transform(ee){let me;switch(ee){case 109:case 240:me="#a6bbab";break;case 110:me="#e79a71";break;case 111:me="#db6564";break;case 243:me="#8cacd3";break;case 111:me="#grey";break;default:me="grey"}return"background: "+me+"; color: white;"}}return Ge.\u0275fac=function(ee){return new(ee||Ge)},Ge.\u0275pipe=Se.Yjl({name:"statutColor",type:Ge,pure:!0}),Ge})()},4803:(co,wn,B)=>{"use strict";B.d(wn,{y:()=>Ge});var Se=B(6895),K=B(4650);let Ge=(()=>{class h{transform(me){return new Se.uU("en-US").transform(me,"dd/MM/yyyy")}}return h.\u0275fac=function(me){return new(me||h)},h.\u0275pipe=K.Yjl({name:"dateFormatPipe",type:h,pure:!0}),h})()},4327:function(co,wn){var B,K;void 0!==(K="function"==typeof(B=function(){"use strict";function h(o,e,xe){var n=new XMLHttpRequest;n.open("GET",o),n.responseType="blob",n.onload=function(){w(n.response,e,xe)},n.onerror=function(){console.error("could not download file")},n.send()}function ee(o){var e=new XMLHttpRequest;e.open("HEAD",o,!1);try{e.send()}catch{}return 200<=e.status&&299>=e.status}function me(o){try{o.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),o.dispatchEvent(e)}}var Le="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof global&&global.global===global?global:void 0,Q=Le.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),w=Le.saveAs||("object"!=typeof window||window!==Le?function(){}:"download"in HTMLAnchorElement.prototype&&!Q?function(o,e,xe){var n=Le.URL||Le.webkitURL,i=document.createElement("a");i.download=e=e||o.name||"download",i.rel="noopener","string"==typeof o?(i.href=o,i.origin===location.origin?me(i):ee(i.href)?h(o,e,xe):me(i,i.target="_blank")):(i.href=n.createObjectURL(o),setTimeout(function(){n.revokeObjectURL(i.href)},4e4),setTimeout(function(){me(i)},0))}:"msSaveOrOpenBlob"in navigator?function(o,e,xe){if(e=e||o.name||"download","string"!=typeof o)navigator.msSaveOrOpenBlob(function Ge(o,e){return typeof e>"u"?e={autoBom:!1}:"object"!=typeof e&&(console.warn("Deprecated: Expected third argument to be a object"),e={autoBom:!e}),e.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(o.type)?new Blob(["\ufeff",o],{type:o.type}):o}(o,xe),e);else if(ee(o))h(o,e,xe);else{var n=document.createElement("a");n.href=o,n.target="_blank",setTimeout(function(){me(n)})}}:function(o,e,xe,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),"string"==typeof o)return h(o,e,xe);var i="application/octet-stream"===o.type,Z=/constructor/i.test(Le.HTMLElement)||Le.safari,O=/CriOS\/[\d]+/.test(navigator.userAgent);if((O||i&&Z||Q)&&typeof FileReader<"u"){var J=new FileReader;J.onloadend=function(){var l=J.result;l=O?l:l.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=l:location=l,n=null},J.readAsDataURL(o)}else{var he=Le.URL||Le.webkitURL,Ze=he.createObjectURL(o);n?n.location=Ze:location.href=Ze,n=null,setTimeout(function(){he.revokeObjectURL(Ze)},4e4)}});Le.saveAs=w.saveAs=w,co.exports=w})?B.apply(wn,[]):B)&&(co.exports=K)},7489:function(co,wn,B){var Se;co=B.nmd(co),function(){var K,h=200,me="Expected a function",Q="__lodash_hash_undefined__",o="__lodash_placeholder__",e=1,xe=2,n=4,i=1,Z=2,O=1,J=2,he=4,Ze=8,l=16,t=32,Ft=64,ln=128,ut=256,ot=512,nn=800,_n=16,Xn=1/0,Mt=9007199254740991,Lt=17976931348623157e292,xt=NaN,ht=4294967295,Yn=ht-1,Jn=ht>>>1,pi=[["ary",ln],["bind",O],["bindKey",J],["curry",Ze],["curryRight",l],["flip",ot],["partial",t],["partialRight",Ft],["rearg",ut]],Qn="[object Arguments]",Kn="[object Array]",xi="[object AsyncFunction]",tn="[object Boolean]",Kt="[object Date]",hi="[object DOMException]",$i="[object Error]",Sn="[object Function]",vt="[object GeneratorFunction]",$e="[object Map]",bn="[object Number]",Vt="[object Null]",Gn="[object Object]",ei="[object Promise]",vi="[object Proxy]",uo="[object RegExp]",bo="[object Set]",oe="[object String]",pn="[object Symbol]",Zi="[object Undefined]",Ai="[object WeakMap]",Mn="[object ArrayBuffer]",Nn="[object DataView]",vn="[object Float32Array]",Et="[object Float64Array]",mo="[object Int8Array]",mr="[object Int16Array]",zr="[object Int32Array]",Eo="[object Uint8Array]",ra="[object Uint8ClampedArray]",aa="[object Uint16Array]",Ba="[object Uint32Array]",za=/\b__p \+= '';/g,Aa=/\b(__p \+=) '' \+/g,Ks=/(__e\(.*?\)|\b__t\)) \+\n'';/g,ds=/&(?:amp|lt|gt|quot|#39);/g,_s=/[&<>"']/g,Ta=RegExp(ds.source),sa=RegExp(_s.source),Ws=/<%-([\s\S]+?)%>/g,Xs=/<%([\s\S]+?)%>/g,dr=/<%=([\s\S]+?)%>/g,Va=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ps=/^\w*$/,fs=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ra=/[\\^$.*+?()[\]{}|]/g,gs=RegExp(Ra.source),ja=/^\s+/,el=/\s/,la=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,hs=/\{\n\/\* \[wrapped with (.+)\] \*/,Cs=/,? & /,rr=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,xs=/[()=,{}\[\]\/\s]/,vs=/\\(\\)?/g,tl=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,As=/\w*$/,Ar=/^[-+]0x[0-9a-f]+$/i,nl=/^0b[01]+$/i,il=/^\[object .+?Constructor\]$/,Ts=/^0o[0-7]+$/i,Nr=/^(?:0|[1-9]\d*)$/,Lr=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Da=/($^)/,bs=/['\n\r\u2028\u2029\\]/g,Ir="\\ud800-\\udfff",qs="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",_r="\\u2700-\\u27bf",Zr="a-z\\xdf-\\xf6\\xf8-\\xff",Ha="A-Z\\xc0-\\xd6\\xd8-\\xde",Ss="\\ufe0e\\ufe0f",ys="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",di="["+Ir+"]",Yr="["+ys+"]",$a="["+qs+"]",Ns="\\d+",ba="["+_r+"]",Ka="["+Zr+"]",Ro="[^"+Ir+ys+Ns+_r+Zr+Ha+"]",Oa="\\ud83c[\\udffb-\\udfff]",Ca="[^"+Ir+"]",Vr="(?:\\ud83c[\\udde6-\\uddff]){2}",ca="[\\ud800-\\udbff][\\udc00-\\udfff]",So="["+Ha+"]",Hr="(?:"+Ka+"|"+Ro+")",oo="(?:"+So+"|"+Ro+")",nt="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",jt="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",Be="(?:"+$a+"|"+Oa+")?",zt="["+Ss+"]?",ro=zt+Be+"(?:\\u200d(?:"+[Ca,Vr,ca].join("|")+")"+zt+Be+")*",ko="(?:"+[ba,Vr,ca].join("|")+")"+ro,hr="(?:"+[Ca+$a+"?",$a,Vr,ca,di].join("|")+")",Rl=RegExp("['\u2019]","g"),ka=RegExp($a,"g"),rl=RegExp(Oa+"(?="+Oa+")|"+hr+ro,"g"),Is=RegExp([So+"?"+Ka+"+"+nt+"(?="+[Yr,So,"$"].join("|")+")",oo+"+"+jt+"(?="+[Yr,So+Hr,"$"].join("|")+")",So+"?"+Hr+"+"+nt,So+"+"+jt,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Ns,ko].join("|"),"g"),Dl=RegExp("[\\u200d"+Ir+qs+Ss+"]"),$l=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Er=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],al=-1,Oi={};Oi[vn]=Oi[Et]=Oi[mo]=Oi[mr]=Oi[zr]=Oi[Eo]=Oi[ra]=Oi[aa]=Oi[Ba]=!0,Oi[Qn]=Oi[Kn]=Oi[Mn]=Oi[tn]=Oi[Nn]=Oi[Kt]=Oi[$i]=Oi[Sn]=Oi[$e]=Oi[bn]=Oi[Gn]=Oi[uo]=Oi[bo]=Oi[oe]=Oi[Ai]=!1;var zi={};zi[Qn]=zi[Kn]=zi[Mn]=zi[Nn]=zi[tn]=zi[Kt]=zi[vn]=zi[Et]=zi[mo]=zi[mr]=zi[zr]=zi[$e]=zi[bn]=zi[Gn]=zi[uo]=zi[bo]=zi[oe]=zi[pn]=zi[Eo]=zi[ra]=zi[aa]=zi[Ba]=!0,zi[$i]=zi[Sn]=zi[Ai]=!1;var ll={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Wa=parseFloat,Tr=parseInt,_o="object"==typeof global&&global&&global.Object===Object&&global,Xa="object"==typeof self&&self&&self.Object===Object&&self,Do=_o||Xa||Function("return this")(),$r=wn&&!wn.nodeType&&wn,Vo=$r&&co&&!co.nodeType&&co,cl=Vo&&Vo.exports===$r,ul=cl&&_o.process,si=function(){try{return Vo&&Vo.require&&Vo.require("util").types||ul&&ul.binding&&ul.binding("util")}catch{}}(),Gr=si&&si.isArrayBuffer,ml=si&&si.isDate,Es=si&&si.isMap,ao=si&&si.isRegExp,Rs=si&&si.isSet,Ol=si&&si.isTypedArray;function Vi(qt,an,Gt){switch(Gt.length){case 0:return qt.call(an);case 1:return qt.call(an,Gt[0]);case 2:return qt.call(an,Gt[0],Gt[1]);case 3:return qt.call(an,Gt[0],Gt[1],Gt[2])}return qt.apply(an,Gt)}function Ma(qt,an,Gt,Wn){for(var Qi=-1,xo=null==qt?0:qt.length;++Qi<xo;){var lr=qt[Qi];an(Wn,lr,Gt(lr),qt)}return Wn}function ar(qt,an){for(var Gt=-1,Wn=null==qt?0:qt.length;++Gt<Wn&&!1!==an(qt[Gt],Gt,qt););return qt}function Ds(qt,an){for(var Gt=null==qt?0:qt.length;Gt--&&!1!==an(qt[Gt],Gt,qt););return qt}function Br(qt,an){for(var Gt=-1,Wn=null==qt?0:qt.length;++Gt<Wn;)if(!an(qt[Gt],Gt,qt))return!1;return!0}function Rr(qt,an){for(var Gt=-1,Wn=null==qt?0:qt.length,Qi=0,xo=[];++Gt<Wn;){var lr=qt[Gt];an(lr,Gt,qt)&&(xo[Qi++]=lr)}return xo}function ws(qt,an){return!(null==qt||!qt.length)&&Ua(qt,an,0)>-1}function Po(qt,an,Gt){for(var Wn=-1,Qi=null==qt?0:qt.length;++Wn<Qi;)if(Gt(an,qt[Wn]))return!0;return!1}function yo(qt,an){for(var Gt=-1,Wn=null==qt?0:qt.length,Qi=Array(Wn);++Gt<Wn;)Qi[Gt]=an(qt[Gt],Gt,qt);return Qi}function ua(qt,an){for(var Gt=-1,Wn=an.length,Qi=qt.length;++Gt<Wn;)qt[Qi+Gt]=an[Gt];return qt}function Os(qt,an,Gt,Wn){var Qi=-1,xo=null==qt?0:qt.length;for(Wn&&xo&&(Gt=qt[++Qi]);++Qi<xo;)Gt=an(Gt,qt[Qi],Qi,qt);return Gt}function ks(qt,an,Gt,Wn){var Qi=null==qt?0:qt.length;for(Wn&&Qi&&(Gt=qt[--Qi]);Qi--;)Gt=an(Gt,qt[Qi],Qi,qt);return Gt}function ho(qt,an){for(var Gt=-1,Wn=null==qt?0:qt.length;++Gt<Wn;)if(an(qt[Gt],Gt,qt))return!0;return!1}var Kr=Ms("length");function Ml(qt,an,Gt){var Wn;return Gt(qt,function(Qi,xo,lr){if(an(Qi,xo,lr))return Wn=xo,!1}),Wn}function Yo(qt,an,Gt,Wn){for(var Qi=qt.length,xo=Gt+(Wn?1:-1);Wn?xo--:++xo<Qi;)if(an(qt[xo],xo,qt))return xo;return-1}function Ua(qt,an,Gt){return an==an?function Dr(qt,an,Gt){for(var Wn=Gt-1,Qi=qt.length;++Wn<Qi;)if(qt[Wn]===an)return Wn;return-1}(qt,an,Gt):Yo(qt,dl,Gt)}function Ul(qt,an,Gt,Wn){for(var Qi=Gt-1,xo=qt.length;++Qi<xo;)if(Wn(qt[Qi],an))return Qi;return-1}function dl(qt){return qt!=qt}function tr(qt,an){var Gt=null==qt?0:qt.length;return Gt?ns(qt,an)/Gt:xt}function Ms(qt){return function(an){return null==an?K:an[qt]}}function Dn(qt){return function(an){return null==qt?K:qt[an]}}function ts(qt,an,Gt,Wn,Qi){return Qi(qt,function(xo,lr,ue){Gt=Wn?(Wn=!1,xo):an(Gt,xo,lr,ue)}),Gt}function ns(qt,an){for(var Gt,Wn=-1,Qi=qt.length;++Wn<Qi;){var xo=an(qt[Wn]);xo!==K&&(Gt=Gt===K?xo:Gt+xo)}return Gt}function Pa(qt,an){for(var Gt=-1,Wn=Array(qt);++Gt<qt;)Wn[Gt]=an(Gt);return Wn}function ma(qt){return qt&&qt.slice(0,Za(qt)+1).replace(ja,"")}function wo(qt){return function(an){return qt(an)}}function Us(qt,an){return yo(an,function(Gt){return qt[Gt]})}function is(qt,an){return qt.has(an)}function _l(qt,an){for(var Gt=-1,Wn=qt.length;++Gt<Wn&&Ua(an,qt[Gt],0)>-1;);return Gt}function Fs(qt,an){for(var Gt=qt.length;Gt--&&Ua(an,qt[Gt],0)>-1;);return Gt}var Qs=Dn({\u00c0:"A",\u00c1:"A",\u00c2:"A",\u00c3:"A",\u00c4:"A",\u00c5:"A",\u00e0:"a",\u00e1:"a",\u00e2:"a",\u00e3:"a",\u00e4:"a",\u00e5:"a",\u00c7:"C",\u00e7:"c",\u00d0:"D",\u00f0:"d",\u00c8:"E",\u00c9:"E",\u00ca:"E",\u00cb:"E",\u00e8:"e",\u00e9:"e",\u00ea:"e",\u00eb:"e",\u00cc:"I",\u00cd:"I",\u00ce:"I",\u00cf:"I",\u00ec:"i",\u00ed:"i",\u00ee:"i",\u00ef:"i",\u00d1:"N",\u00f1:"n",\u00d2:"O",\u00d3:"O",\u00d4:"O",\u00d5:"O",\u00d6:"O",\u00d8:"O",\u00f2:"o",\u00f3:"o",\u00f4:"o",\u00f5:"o",\u00f6:"o",\u00f8:"o",\u00d9:"U",\u00da:"U",\u00db:"U",\u00dc:"U",\u00f9:"u",\u00fa:"u",\u00fb:"u",\u00fc:"u",\u00dd:"Y",\u00fd:"y",\u00ff:"y",\u00c6:"Ae",\u00e6:"ae",\u00de:"Th",\u00fe:"th",\u00df:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010a:"C",\u010c:"C",\u0107:"c",\u0109:"c",\u010b:"c",\u010d:"c",\u010e:"D",\u0110:"D",\u010f:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011a:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011b:"e",\u011c:"G",\u011e:"G",\u0120:"G",\u0122:"G",\u011d:"g",\u011f:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012a:"I",\u012c:"I",\u012e:"I",\u0130:"I",\u0129:"i",\u012b:"i",\u012d:"i",\u012f:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013b:"L",\u013d:"L",\u013f:"L",\u0141:"L",\u013a:"l",\u013c:"l",\u013e:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014a:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014b:"n",\u014c:"O",\u014e:"O",\u0150:"O",\u014d:"o",\u014f:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015a:"S",\u015c:"S",\u015e:"S",\u0160:"S",\u015b:"s",\u015d:"s",\u015f:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016a:"U",\u016c:"U",\u016e:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016b:"u",\u016d:"u",\u016f:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017b:"Z",\u017d:"Z",\u017a:"z",\u017c:"z",\u017e:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017f:"s"}),Ql=Dn({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function pl(qt){return"\\"+ll[qt]}function Ce(qt){return Dl.test(qt)}function _t(qt){var an=-1,Gt=Array(qt.size);return qt.forEach(function(Wn,Qi){Gt[++an]=[Qi,Wn]}),Gt}function yt(qt,an){return function(Gt){return qt(an(Gt))}}function rn(qt,an){for(var Gt=-1,Wn=qt.length,Qi=0,xo=[];++Gt<Wn;){var lr=qt[Gt];(lr===an||lr===o)&&(qt[Gt]=o,xo[Qi++]=Gt)}return xo}function eo(qt){var an=-1,Gt=Array(qt.size);return qt.forEach(function(Wn){Gt[++an]=Wn}),Gt}function Or(qt){return Ce(qt)?function fl(qt){for(var an=rl.lastIndex=0;rl.test(qt);)++an;return an}(qt):Kr(qt)}function pr(qt){return Ce(qt)?function Js(qt){return qt.match(rl)||[]}(qt):function es(qt){return qt.split("")}(qt)}function Za(qt){for(var an=qt.length;an--&&el.test(qt.charAt(an)););return an}var os=Dn({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),Wo=function qt(an){var x,Gt=(an=null==an?Do:Wo.defaults(Do.Object(),an,Wo.pick(Do,Er))).Array,Wn=an.Date,Qi=an.Error,xo=an.Function,lr=an.Math,ue=an.Object,je=an.RegExp,z=an.String,ge=an.TypeError,we=Gt.prototype,st=ue.prototype,Tn=an["__core-js_shared__"],Qo=xo.prototype.toString,li=st.hasOwnProperty,To=0,Mo=(x=/[^.]+$/.exec(Tn&&Tn.keys&&Tn.keys.IE_PROTO||""))?"Symbol(src)_1."+x:"",Zo=st.toString,Wl=Qo.call(ue),eu=Do._,Tc=je("^"+Qo.call(li).replace(Ra,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Uo=cl?an.Buffer:K,Ls=an.Symbol,sc=an.Uint8Array,Yc=Uo?Uo.allocUnsafe:K,Go=yt(ue.getPrototypeOf,ue),yi=ue.create,Wr=st.propertyIsEnumerable,Li=we.splice,so=Ls?Ls.isConcatSpreadable:K,Ll=Ls?Ls.iterator:K,kr=Ls?Ls.toStringTag:K,Sa=function(){try{var x=Tu(ue,"defineProperty");return x({},"",{}),x}catch{}}(),Bo=an.clearTimeout!==Do.clearTimeout&&an.clearTimeout,Oo=Wn&&Wn.now!==Do.Date.now&&Wn.now,da=an.setTimeout!==Do.setTimeout&&an.setTimeout,Ni=lr.ceil,Bi=lr.floor,Cr=ue.getOwnPropertySymbols,tu=Uo?Uo.isBuffer:K,Gc=an.isFinite,bc=we.join,yu=yt(ue.keys,ue),xr=lr.max,Mr=lr.min,_a=Wn.now,gl=an.parseInt,se=lr.random,He=we.reverse,Y=Tu(an,"DataView"),Ee=Tu(an,"Map"),Ye=Tu(an,"Promise"),Ct=Tu(an,"Set"),sn=Tu(an,"WeakMap"),Pn=Tu(ue,"create"),fn=sn&&new sn,ui={},bi=Il(Y),to=Il(Ee),fo=Il(Ye),Xo=Il(Ct),Ur=Il(sn),fi=Ls?Ls.prototype:K,Ki=fi?fi.valueOf:K,br=fi?fi.toString:K;function De(x){if(oa(x)&&!po(x)&&!(x instanceof Co)){if(x instanceof ya)return x;if(li.call(x,"__wrapped__"))return Xc(x)}return new ya(x)}var lc=function(){function x(){}return function(P){if(!Jr(P))return{};if(yi)return yi(P);x.prototype=P;var F=new x;return x.prototype=K,F}}();function Bc(){}function ya(x,P){this.__wrapped__=x,this.__actions__=[],this.__chain__=!!P,this.__index__=0,this.__values__=K}function Co(x){this.__wrapped__=x,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=ht,this.__views__=[]}function Ys(x){var P=-1,F=null==x?0:x.length;for(this.clear();++P<F;){var ce=x[P];this.set(ce[0],ce[1])}}function hl(x){var P=-1,F=null==x?0:x.length;for(this.clear();++P<F;){var ce=x[P];this.set(ce[0],ce[1])}}function xl(x){var P=-1,F=null==x?0:x.length;for(this.clear();++P<F;){var ce=x[P];this.set(ce[0],ce[1])}}function Xl(x){var P=-1,F=null==x?0:x.length;for(this.__data__=new xl;++P<F;)this.add(x[P])}function Fa(x){var P=this.__data__=new hl(x);this.size=P.size}function ji(x,P){var F=po(x),ce=!F&&Im(x),Ie=!F&&!ce&&Pu(x),Je=!F&&!ce&&!Ie&&ic(x),dt=F||ce||Ie||Je,At=dt?Pa(x.length,z):[],kt=At.length;for(var Zn in x)(P||li.call(x,Zn))&&(!dt||!("length"==Zn||Ie&&("offset"==Zn||"parent"==Zn)||Je&&("buffer"==Zn||"byteLength"==Zn||"byteOffset"==Zn)||zs(Zn,kt)))&&At.push(Zn);return At}function uc(x){var P=x.length;return P?x[Zl(0,P-1)]:K}function Zc(x,P){return Pm(Jo(x),Fr(P,0,x.length))}function mc(x){return Pm(Jo(x))}function No(x,P,F){(F!==K&&!Uc(x[P],F)||F===K&&!(P in x))&&Al(x,P,F)}function qc(x,P,F){var ce=x[P];(!li.call(x,P)||!Uc(ce,F)||F===K&&!(P in x))&&Al(x,P,F)}function Vc(x,P){for(var F=x.length;F--;)if(Uc(x[F][0],P))return F;return-1}function lm(x,P,F,ce){return Tl(x,function(Ie,Je,dt){P(ce,Ie,F(Ie),dt)}),ce}function lu(x,P){return x&&Ii(P,Hs(P),x)}function Al(x,P,F){"__proto__"==P&&Sa?Sa(x,P,{configurable:!0,enumerable:!0,value:F,writable:!0}):x[P]=F}function cu(x,P){for(var F=-1,ce=P.length,Ie=Gt(ce),Je=null==x;++F<ce;)Ie[F]=Je?K:Ya(x,P[F]);return Ie}function Fr(x,P,F){return x==x&&(F!==K&&(x=x<=F?x:F),P!==K&&(x=x>=P?x:P)),x}function Qa(x,P,F,ce,Ie,Je){var dt,At=P&e,kt=P&xe,Zn=P&n;if(F&&(dt=Ie?F(x,ce,Ie,Je):F(x)),dt!==K)return dt;if(!Jr(x))return x;var qn=po(x);if(qn){if(dt=function w_(x){var P=x.length,F=new x.constructor(P);return P&&"string"==typeof x[0]&&li.call(x,"index")&&(F.index=x.index,F.input=x.input),F}(x),!At)return Jo(x,dt)}else{var Rn=Ja(x),oi=Rn==Sn||Rn==vt;if(Pu(x))return Pt(x,At);if(Rn==Gn||Rn==Qn||oi&&!Ie){if(dt=kt||oi?{}:Yd(x),!At)return kt?function io(x,P){return Ii(x,Jd(x),P)}(x,function cm(x,P){return x&&Ii(P,hc(P),x)}(dt,x)):function ci(x,P){return Ii(x,ud(x),P)}(x,lu(dt,x))}else{if(!zi[Rn])return Ie?x:{};dt=function O_(x,P,F){var ce=x.constructor;switch(P){case Mn:return ft(x);case tn:case Kt:return new ce(+x);case Nn:return function St(x,P){var F=P?ft(x.buffer):x.buffer;return new x.constructor(F,x.byteOffset,x.byteLength)}(x,F);case vn:case Et:case mo:case mr:case zr:case Eo:case ra:case aa:case Ba:return hn(x,F);case $e:return new ce;case bn:case oe:return new ce(x);case uo:return function Nt(x){var P=new x.constructor(x.source,As.exec(x));return P.lastIndex=x.lastIndex,P}(x);case bo:return new ce;case pn:return function Bn(x){return Ki?ue(Ki.call(x)):{}}(x)}}(x,Rn,At)}}Je||(Je=new Fa);var Si=Je.get(x);if(Si)return Si;Je.set(x,dt),Kp(x)?x.forEach(function(Xi){dt.add(Qa(Xi,P,F,Xi,x,Je))}):$p(x)&&x.forEach(function(Xi,Lo){dt.set(Lo,Qa(Xi,P,F,Lo,x,Je))});var Io=qn?K:(Zn?kt?Jm:ld:kt?hc:Hs)(x);return ar(Io||x,function(Xi,Lo){Io&&(Xi=x[Lo=Xi]),qc(dt,Lo,Qa(Xi,P,F,Lo,x,Je))}),dt}function jc(x,P,F){var ce=F.length;if(null==x)return!ce;for(x=ue(x);ce--;){var Ie=F[ce],dt=x[Ie];if(dt===K&&!(Ie in x)||!(0,P[Ie])(dt))return!1}return!0}function tc(x,P,F){if("function"!=typeof x)throw new ge(me);return bm(function(){x.apply(K,F)},P)}function as(x,P,F,ce){var Ie=-1,Je=ws,dt=!0,At=x.length,kt=[],Zn=P.length;if(!At)return kt;F&&(P=yo(P,wo(F))),ce?(Je=Po,dt=!1):P.length>=h&&(Je=is,dt=!1,P=new Xl(P));e:for(;++Ie<At;){var qn=x[Ie],Rn=null==F?qn:F(qn);if(qn=ce||0!==qn?qn:0,dt&&Rn==Rn){for(var oi=Zn;oi--;)if(P[oi]===Rn)continue e;kt.push(qn)}else Je(P,Rn,ce)||kt.push(qn)}return kt}De.templateSettings={escape:Ws,evaluate:Xs,interpolate:dr,variable:"",imports:{_:De}},(De.prototype=Bc.prototype).constructor=De,(ya.prototype=lc(Bc.prototype)).constructor=ya,(Co.prototype=lc(Bc.prototype)).constructor=Co,Ys.prototype.clear=function Nu(){this.__data__=Pn?Pn(null):{},this.size=0},Ys.prototype.delete=function Pc(x){var P=this.has(x)&&delete this.__data__[x];return this.size-=P?1:0,P},Ys.prototype.get=function Iu(x){var P=this.__data__;if(Pn){var F=P[x];return F===Q?K:F}return li.call(P,x)?P[x]:K},Ys.prototype.has=function cc(x){var P=this.__data__;return Pn?P[x]!==K:li.call(P,x)},Ys.prototype.set=function rm(x,P){var F=this.__data__;return this.size+=this.has(x)?0:1,F[x]=Pn&&P===K?Q:P,this},hl.prototype.clear=function km(){this.__data__=[],this.size=0},hl.prototype.delete=function Yl(x){var P=this.__data__,F=Vc(P,x);return!(F<0||(F==P.length-1?P.pop():Li.call(P,F,1),--this.size,0))},hl.prototype.get=function Cl(x){var P=this.__data__,F=Vc(P,x);return F<0?K:P[F][1]},hl.prototype.has=function Sr(x){return Vc(this.__data__,x)>-1},hl.prototype.set=function Eu(x,P){var F=this.__data__,ce=Vc(F,x);return ce<0?(++this.size,F.push([x,P])):F[ce][1]=P,this},xl.prototype.clear=function iu(){this.size=0,this.__data__={hash:new Ys,map:new(Ee||hl),string:new Ys}},xl.prototype.delete=function ou(x){var P=Tm(this,x).delete(x);return this.size-=P?1:0,P},xl.prototype.get=function Ru(x){return Tm(this,x).get(x)},xl.prototype.has=function am(x){return Tm(this,x).has(x)},xl.prototype.set=function ru(x,P){var F=Tm(this,x),ce=F.size;return F.set(x,P),this.size+=F.size==ce?0:1,this},Xl.prototype.add=Xl.prototype.push=function ec(x){return this.__data__.set(x,Q),this},Xl.prototype.has=function vl(x){return this.__data__.has(x)},Fa.prototype.clear=function au(){this.__data__=new hl,this.size=0},Fa.prototype.delete=function zc(x){var P=this.__data__,F=P.delete(x);return this.size=P.size,F},Fa.prototype.get=function su(x){return this.__data__.get(x)},Fa.prototype.has=function sm(x){return this.__data__.has(x)},Fa.prototype.set=function Du(x,P){var F=this.__data__;if(F instanceof hl){var ce=F.__data__;if(!Ee||ce.length<h-1)return ce.push([x,P]),this.size=++F.size,this;F=this.__data__=new xl(ce)}return F.set(x,P),this.size=F.size,this};var Tl=nc(Gs),uu=nc(mu,!0);function um(x,P){var F=!0;return Tl(x,function(ce,Ie,Je){return F=!!P(ce,Ie,Je)}),F}function Sc(x,P,F){for(var ce=-1,Ie=x.length;++ce<Ie;){var Je=x[ce],dt=P(Je);if(null!=dt&&(At===K?dt==dt&&!Ko(dt):F(dt,At)))var At=dt,kt=Je}return kt}function wu(x,P){var F=[];return Tl(x,function(ce,Ie,Je){P(ce,Ie,Je)&&F.push(ce)}),F}function Qr(x,P,F,ce,Ie){var Je=-1,dt=x.length;for(F||(F=k_),Ie||(Ie=[]);++Je<dt;){var At=x[Je];P>0&&F(At)?P>1?Qr(At,P-1,F,ce,Ie):ua(Ie,At):ce||(Ie[Ie.length]=At)}return Ie}var yc=Rd(),Hc=Rd(!0);function Gs(x,P){return x&&yc(x,P,Hs)}function mu(x,P){return x&&Hc(x,P,Hs)}function $c(x,P){return Rr(P,function(F){return Zu(x[F])})}function bl(x,P){for(var F=0,ce=(P=te(P,x)).length;null!=x&&F<ce;)x=x[ls(P[F++])];return F&&F==ce?x:K}function Ou(x,P,F){var ce=P(x);return po(x)?ce:ua(ce,F(x))}function Xr(x){return null==x?x===K?Zi:Vt:kr&&kr in ue(x)?function E_(x){var P=li.call(x,kr),F=x[kr];try{x[kr]=K;var ce=!0}catch{}var Ie=Zo.call(x);return ce&&(P?x[kr]=F:delete x[kr]),Ie}(x):function J_(x){return Zo.call(x)}(x)}function Kc(x,P){return x>P}function ku(x,P){return null!=x&&li.call(x,P)}function du(x,P){return null!=x&&P in ue(x)}function _u(x,P,F){for(var ce=F?Po:ws,Ie=x[0].length,Je=x.length,dt=Je,At=Gt(Je),kt=1/0,Zn=[];dt--;){var qn=x[dt];dt&&P&&(qn=yo(qn,wo(P))),kt=Mr(qn.length,kt),At[dt]=!F&&(P||Ie>=120&&qn.length>=120)?new Xl(dt&&qn):K}qn=x[0];var Rn=-1,oi=At[0];e:for(;++Rn<Ie&&Zn.length<kt;){var Si=qn[Rn],Wi=P?P(Si):Si;if(Si=F||0!==Si?Si:0,!(oi?is(oi,Wi):ce(Zn,Wi,F))){for(dt=Je;--dt;){var Io=At[dt];if(!(Io?is(Io,Wi):ce(x[dt],Wi,F)))continue e}oi&&oi.push(Wi),Zn.push(Si)}}return Zn}function Nc(x,P,F){var ce=null==(x=Vd(x,P=te(P,x)))?x:x[ls(Bl(P))];return null==ce?K:Vi(ce,x,F)}function Mu(x){return oa(x)&&Xr(x)==Qn}function Ic(x,P,F,ce,Ie){return x===P||(null==x||null==P||!oa(x)&&!oa(P)?x!=x&&P!=P:function Ec(x,P,F,ce,Ie,Je){var dt=po(x),At=po(P),kt=dt?Kn:Ja(x),Zn=At?Kn:Ja(P),qn=(kt=kt==Qn?Gn:kt)==Gn,Rn=(Zn=Zn==Qn?Gn:Zn)==Gn,oi=kt==Zn;if(oi&&Pu(x)){if(!Pu(P))return!1;dt=!0,qn=!1}if(oi&&!qn)return Je||(Je=new Fa),dt||ic(x)?Fd(x,P,F,ce,Ie,Je):function Qd(x,P,F,ce,Ie,Je,dt){switch(F){case Nn:if(x.byteLength!=P.byteLength||x.byteOffset!=P.byteOffset)return!1;x=x.buffer,P=P.buffer;case Mn:return!(x.byteLength!=P.byteLength||!Je(new sc(x),new sc(P)));case tn:case Kt:case bn:return Uc(+x,+P);case $i:return x.name==P.name&&x.message==P.message;case uo:case oe:return x==P+"";case $e:var At=_t;case bo:if(At||(At=eo),x.size!=P.size&&!(ce&i))return!1;var Zn=dt.get(x);if(Zn)return Zn==P;ce|=Z,dt.set(x,P);var qn=Fd(At(x),At(P),ce,Ie,Je,dt);return dt.delete(x),qn;case pn:if(Ki)return Ki.call(x)==Ki.call(P)}return!1}(x,P,kt,F,ce,Ie,Je);if(!(F&i)){var Si=qn&&li.call(x,"__wrapped__"),Wi=Rn&&li.call(P,"__wrapped__");if(Si||Wi){var Io=Si?x.value():x,Xi=Wi?P.value():P;return Je||(Je=new Fa),Ie(Io,Xi,F,ce,Je)}}return!!oi&&(Je||(Je=new Fa),function I_(x,P,F,ce,Ie,Je){var dt=F&i,At=ld(x),kt=At.length;if(kt!=ld(P).length&&!dt)return!1;for(var Rn=kt;Rn--;){var oi=At[Rn];if(!(dt?oi in P:li.call(P,oi)))return!1}var Si=Je.get(x),Wi=Je.get(P);if(Si&&Wi)return Si==P&&Wi==x;var Io=!0;Je.set(x,P),Je.set(P,x);for(var Xi=dt;++Rn<kt;){var Lo=x[oi=At[Rn]],jo=P[oi];if(ce)var Qc=dt?ce(jo,Lo,oi,P,x,Je):ce(Lo,jo,oi,x,P,Je);if(!(Qc===K?Lo===jo||Ie(Lo,jo,F,ce,Je):Qc)){Io=!1;break}Xi||(Xi="constructor"==oi)}if(Io&&!Xi){var cs=x.constructor,Jc=P.constructor;cs!=Jc&&"constructor"in x&&"constructor"in P&&!("function"==typeof cs&&cs instanceof cs&&"function"==typeof Jc&&Jc instanceof Jc)&&(Io=!1)}return Je.delete(x),Je.delete(P),Io}(x,P,F,ce,Ie,Je))}(x,P,F,ce,Ic,Ie))}function Rc(x,P,F,ce){var Ie=F.length,Je=Ie,dt=!ce;if(null==x)return!Je;for(x=ue(x);Ie--;){var At=F[Ie];if(dt&&At[2]?At[1]!==x[At[0]]:!(At[0]in x))return!1}for(;++Ie<Je;){var kt=(At=F[Ie])[0],Zn=x[kt],qn=At[1];if(dt&&At[2]){if(Zn===K&&!(kt in x))return!1}else{var Rn=new Fa;if(ce)var oi=ce(Zn,qn,kt,x,P,Rn);if(!(oi===K?Ic(qn,Zn,i|Z,ce,Rn):oi))return!1}}return!0}function pu(x){return!(!Jr(x)||function M_(x){return!!Mo&&Mo in x}(x))&&(Zu(x)?Tc:il).test(Il(x))}function fu(x){return"function"==typeof x?x:null==x?oc:"object"==typeof x?po(x)?$o(x[0],x[1]):ea(x):Sg(x)}function Bs(x){if(!$u(x))return yu(x);var P=[];for(var F in ue(x))li.call(x,F)&&"constructor"!=F&&P.push(F);return P}function gu(x,P){return x<P}function fr(x,P){var F=-1,ce=El(x)?Gt(x.length):[];return Tl(x,function(Ie,Je,dt){ce[++F]=P(Ie,Je,dt)}),ce}function ea(x){var P=cd(x);return 1==P.length&&P[0][2]?Bd(P[0][0],P[0][1]):function(F){return F===x||Rc(F,x,P)}}function $o(x,P){return Gm(x)&&dd(P)?Bd(ls(x),P):function(F){var ce=Ya(F,x);return ce===K&&ce===P?g_(F,x):Ic(P,ce,i|Z)}}function pa(x,P,F,ce,Ie){x!==P&&yc(P,function(Je,dt){if(Ie||(Ie=new Fa),Jr(Je))!function Lu(x,P,F,ce,Ie,Je,dt){var At=_d(x,F),kt=_d(P,F),Zn=dt.get(kt);if(Zn)No(x,F,Zn);else{var qn=Je?Je(At,kt,F+"",x,P,dt):K,Rn=qn===K;if(Rn){var oi=po(kt),Si=!oi&&Pu(kt),Wi=!oi&&!Si&&ic(kt);qn=kt,oi||Si||Wi?po(At)?qn=At:ia(At)?qn=Jo(At):Si?(Rn=!1,qn=Pt(kt,!0)):Wi?(Rn=!1,qn=hn(kt,!0)):qn=[]:Rm(kt)||Im(kt)?(qn=At,Im(At)?qn=of(At):(!Jr(At)||Zu(At))&&(qn=Yd(kt))):Rn=!1}Rn&&(dt.set(kt,qn),Ie(qn,kt,ce,Je,dt),dt.delete(kt)),No(x,F,qn)}}(x,P,dt,F,pa,ce,Ie);else{var At=ce?ce(_d(x,dt),Je,dt+"",x,P,Ie):K;At===K&&(At=Je),No(x,dt,At)}},hc)}function hu(x,P){var F=x.length;if(F)return zs(P+=P<0?F:0,F)?x[P]:K}function Cu(x,P,F){P=P.length?yo(P,function(Je){return po(Je)?function(dt){return bl(dt,1===Je.length?Je[0]:Je)}:Je}):[oc];var ce=-1;return P=yo(P,wo(Yi())),function Kl(qt,an){var Gt=qt.length;for(qt.sort(an);Gt--;)qt[Gt]=qt[Gt].value;return qt}(fr(x,function(Je,dt,At){return{criteria:yo(P,function(Zn){return Zn(Je)}),index:++ce,value:Je}}),function(Je,dt){return function kn(x,P,F){for(var ce=-1,Ie=x.criteria,Je=P.criteria,dt=Ie.length,At=F.length;++ce<dt;){var kt=no(Ie[ce],Je[ce]);if(kt)return ce>=At?kt:kt*("desc"==F[ce]?-1:1)}return x.index-P.index}(Je,dt,F)})}function Yu(x,P,F){for(var ce=-1,Ie=P.length,Je={};++ce<Ie;){var dt=P[ce],At=bl(x,dt);F(At,dt)&&Gl(Je,te(dt,x),At)}return Je}function Pl(x,P,F,ce){var Ie=ce?Ul:Ua,Je=-1,dt=P.length,At=x;for(x===P&&(P=Jo(P)),F&&(At=yo(x,wo(F)));++Je<dt;)for(var kt=0,Zn=P[Je],qn=F?F(Zn):Zn;(kt=Ie(At,qn,kt,ce))>-1;)At!==x&&Li.call(At,kt,1),Li.call(x,kt,1);return x}function dc(x,P){for(var F=x?P.length:0,ce=F-1;F--;){var Ie=P[F];if(F==ce||Ie!==Je){var Je=Ie;zs(Ie)?Li.call(x,Ie,1):Au(x,Ie)}}return x}function Zl(x,P){return x+Bi(se()*(P-x+1))}function xu(x,P){var F="";if(!x||P<1||P>Mt)return F;do{P%2&&(F+=x),(P=Bi(P/2))&&(x+=x)}while(P);return F}function lo(x,P){return pd(zd(x,P,oc),x+"")}function hm(x){return uc(h_(x))}function Cm(x,P){var F=h_(x);return Pm(F,Fr(P,0,F.length))}function Gl(x,P,F,ce){if(!Jr(x))return x;for(var Ie=-1,Je=(P=te(P,x)).length,dt=Je-1,At=x;null!=At&&++Ie<Je;){var kt=ls(P[Ie]),Zn=F;if("__proto__"===kt||"constructor"===kt||"prototype"===kt)return x;if(Ie!=dt){var qn=At[kt];(Zn=ce?ce(qn,kt,At):K)===K&&(Zn=Jr(qn)?qn:zs(P[Ie+1])?[]:{})}qc(At,kt,Zn),At=At[kt]}return x}var vu=fn?function(x,P){return fn.set(x,P),x}:oc,xm=Sa?function(x,P){return Sa(x,"toString",{configurable:!0,enumerable:!1,value:Yf(P),writable:!0})}:oc;function vm(x){return Pm(h_(x))}function Na(x,P,F){var ce=-1,Ie=x.length;P<0&&(P=-P>Ie?0:Ie+P),(F=F>Ie?Ie:F)<0&&(F+=Ie),Ie=P>F?0:F-P>>>0,P>>>=0;for(var Je=Gt(Ie);++ce<Ie;)Je[ce]=x[ce+P];return Je}function Bu(x,P){var F;return Tl(x,function(ce,Ie,Je){return!(F=P(ce,Ie,Je))}),!!F}function Ia(x,P,F){var ce=0,Ie=null==x?ce:x.length;if("number"==typeof P&&P==P&&Ie<=Jn){for(;ce<Ie;){var Je=ce+Ie>>>1,dt=x[Je];null!==dt&&!Ko(dt)&&(F?dt<=P:dt<P)?ce=Je+1:Ie=Je}return Ie}return ql(x,P,oc,F)}function ql(x,P,F,ce){var Ie=0,Je=null==x?0:x.length;if(0===Je)return 0;for(var dt=(P=F(P))!=P,At=null===P,kt=Ko(P),Zn=P===K;Ie<Je;){var qn=Bi((Ie+Je)/2),Rn=F(x[qn]),oi=Rn!==K,Si=null===Rn,Wi=Rn==Rn,Io=Ko(Rn);if(dt)var Xi=ce||Wi;else Xi=Zn?Wi&&(ce||oi):At?Wi&&oi&&(ce||!Si):kt?Wi&&oi&&!Si&&(ce||!Io):!Si&&!Io&&(ce?Rn<=P:Rn<P);Xi?Ie=qn+1:Je=qn}return Mr(Je,Yn)}function _c(x,P){for(var F=-1,ce=x.length,Ie=0,Je=[];++F<ce;){var dt=x[F],At=P?P(dt):dt;if(!F||!Uc(At,kt)){var kt=At;Je[Ie++]=0===dt?0:dt}}return Je}function zu(x){return"number"==typeof x?x:Ko(x)?xt:+x}function Ea(x){if("string"==typeof x)return x;if(po(x))return yo(x,Ea)+"";if(Ko(x))return br?br.call(x):"";var P=x+"";return"0"==P&&1/x==-Xn?"-0":P}function Sl(x,P,F){var ce=-1,Ie=ws,Je=x.length,dt=!0,At=[],kt=At;if(F)dt=!1,Ie=Po;else if(Je>=h){var Zn=P?null:Oc(x);if(Zn)return eo(Zn);dt=!1,Ie=is,kt=new Xl}else kt=P?[]:At;e:for(;++ce<Je;){var qn=x[ce],Rn=P?P(qn):qn;if(qn=F||0!==qn?qn:0,dt&&Rn==Rn){for(var oi=kt.length;oi--;)if(kt[oi]===Rn)continue e;P&&kt.push(Rn),At.push(qn)}else Ie(kt,Rn,F)||(kt!==At&&kt.push(Rn),At.push(qn))}return At}function Au(x,P){return null==(x=Vd(x,P=te(P,x)))||delete x[ls(Bl(P))]}function wc(x,P,F,ce){return Gl(x,P,F(bl(x,P)),ce)}function U(x,P,F,ce){for(var Ie=x.length,Je=ce?Ie:-1;(ce?Je--:++Je<Ie)&&P(x[Je],Je,x););return F?Na(x,ce?0:Je,ce?Je+1:Ie):Na(x,ce?Je+1:0,ce?Ie:Je)}function Te(x,P){var F=x;return F instanceof Co&&(F=F.value()),Os(P,function(ce,Ie){return Ie.func.apply(Ie.thisArg,ua([ce],Ie.args))},F)}function N(x,P,F){var ce=x.length;if(ce<2)return ce?Sl(x[0]):[];for(var Ie=-1,Je=Gt(ce);++Ie<ce;)for(var dt=x[Ie],At=-1;++At<ce;)At!=Ie&&(Je[Ie]=as(Je[Ie]||dt,x[At],P,F));return Sl(Qr(Je,1),P,F)}function q(x,P,F){for(var ce=-1,Ie=x.length,Je=P.length,dt={};++ce<Ie;)F(dt,x[ce],ce<Je?P[ce]:K);return dt}function G(x){return ia(x)?x:[]}function b(x){return"function"==typeof x?x:oc}function te(x,P){return po(x)?x:Gm(x,P)?[x]:fd(nr(x))}var _e=lo;function ye(x,P,F){var ce=x.length;return F=F===K?ce:F,!P&&F>=ce?x:Na(x,P,F)}var Ke=Bo||function(x){return Do.clearTimeout(x)};function Pt(x,P){if(P)return x.slice();var F=x.length,ce=Yc?Yc(F):new x.constructor(F);return x.copy(ce),ce}function ft(x){var P=new x.constructor(x.byteLength);return new sc(P).set(new sc(x)),P}function hn(x,P){var F=P?ft(x.buffer):x.buffer;return new x.constructor(F,x.byteOffset,x.length)}function no(x,P){if(x!==P){var F=x!==K,ce=null===x,Ie=x==x,Je=Ko(x),dt=P!==K,At=null===P,kt=P==P,Zn=Ko(P);if(!At&&!Zn&&!Je&&x>P||Je&&dt&&kt&&!At&&!Zn||ce&&dt&&kt||!F&&kt||!Ie)return 1;if(!ce&&!Je&&!Zn&&x<P||Zn&&F&&Ie&&!ce&&!Je||At&&F&&Ie||!dt&&Ie||!kt)return-1}return 0}function Gi(x,P,F,ce){for(var Ie=-1,Je=x.length,dt=F.length,At=-1,kt=P.length,Zn=xr(Je-dt,0),qn=Gt(kt+Zn),Rn=!ce;++At<kt;)qn[At]=P[At];for(;++Ie<dt;)(Rn||Ie<Je)&&(qn[F[Ie]]=x[Ie]);for(;Zn--;)qn[At++]=x[Ie++];return qn}function vo(x,P,F,ce){for(var Ie=-1,Je=x.length,dt=-1,At=F.length,kt=-1,Zn=P.length,qn=xr(Je-At,0),Rn=Gt(qn+Zn),oi=!ce;++Ie<qn;)Rn[Ie]=x[Ie];for(var Si=Ie;++kt<Zn;)Rn[Si+kt]=P[kt];for(;++dt<At;)(oi||Ie<Je)&&(Rn[Si+F[dt]]=x[Ie++]);return Rn}function Jo(x,P){var F=-1,ce=x.length;for(P||(P=Gt(ce));++F<ce;)P[F]=x[F];return P}function Ii(x,P,F,ce){var Ie=!F;F||(F={});for(var Je=-1,dt=P.length;++Je<dt;){var At=P[Je],kt=ce?ce(F[At],x[At],At,F,x):K;kt===K&&(kt=x[At]),Ie?Al(F,At,kt):qc(F,At,kt)}return F}function yl(x,P){return function(F,ce){var Ie=po(F)?Ma:lm,Je=P?P():{};return Ie(F,x,Yi(ce,2),Je)}}function go(x){return lo(function(P,F){var ce=-1,Ie=F.length,Je=Ie>1?F[Ie-1]:K,dt=Ie>2?F[2]:K;for(Je=x.length>3&&"function"==typeof Je?(Ie--,Je):K,dt&&ss(F[0],F[1],dt)&&(Je=Ie<3?K:Je,Ie=1),P=ue(P);++ce<Ie;){var At=F[ce];At&&x(P,At,ce,Je)}return P})}function nc(x,P){return function(F,ce){if(null==F)return F;if(!El(F))return x(F,ce);for(var Ie=F.length,Je=P?Ie:-1,dt=ue(F);(P?Je--:++Je<Ie)&&!1!==ce(dt[Je],Je,dt););return F}}function Rd(x){return function(P,F,ce){for(var Ie=-1,Je=ue(P),dt=ce(P),At=dt.length;At--;){var kt=dt[x?At:++Ie];if(!1===F(Je[kt],kt,Je))break}return P}}function Dd(x){return function(P){var F=Ce(P=nr(P))?pr(P):K,ce=F?F[0]:P.charAt(0),Ie=F?ye(F,1).join(""):P.slice(1);return ce[x]()+Ie}}function Vu(x){return function(P){return Os(bg(pg(P).replace(Rl,"")),x,"")}}function Am(x){return function(){var P=arguments;switch(P.length){case 0:return new x;case 1:return new x(P[0]);case 2:return new x(P[0],P[1]);case 3:return new x(P[0],P[1],P[2]);case 4:return new x(P[0],P[1],P[2],P[3]);case 5:return new x(P[0],P[1],P[2],P[3],P[4]);case 6:return new x(P[0],P[1],P[2],P[3],P[4],P[5]);case 7:return new x(P[0],P[1],P[2],P[3],P[4],P[5],P[6])}var F=lc(x.prototype),ce=x.apply(F,P);return Jr(ce)?ce:F}}function wd(x){return function(P,F,ce){var Ie=ue(P);if(!El(P)){var Je=Yi(F,3);P=Hs(P),F=function(At){return Je(Ie[At],At,Ie)}}var dt=x(P,F,ce);return dt>-1?Ie[Je?P[dt]:dt]:K}}function Od(x){return pc(function(P){var F=P.length,ce=F,Ie=ya.prototype.thru;for(x&&P.reverse();ce--;){var Je=P[ce];if("function"!=typeof Je)throw new ge(me);if(Ie&&!dt&&"wrapper"==Ym(Je))var dt=new ya([],!0)}for(ce=dt?ce:F;++ce<F;){var At=Ym(Je=P[ce]),kt="wrapper"==At?Lm(Je):K;dt=kt&&md(kt[0])&&kt[1]==(ln|Ze|t|ut)&&!kt[4].length&&1==kt[9]?dt[Ym(kt[0])].apply(dt,kt[3]):1==Je.length&&md(Je)?dt[At]():dt.thru(Je)}return function(){var Zn=arguments,qn=Zn[0];if(dt&&1==Zn.length&&po(qn))return dt.plant(qn).value();for(var Rn=0,oi=F?P[Rn].apply(this,Zn):qn;++Rn<F;)oi=P[Rn].call(this,oi);return oi}})}function Mm(x,P,F,ce,Ie,Je,dt,At,kt,Zn){var qn=P&ln,Rn=P&O,oi=P&J,Si=P&(Ze|l),Wi=P&ot,Io=oi?K:Am(x);return function Xi(){for(var Lo=arguments.length,jo=Gt(Lo),Qc=Lo;Qc--;)jo[Qc]=arguments[Qc];if(Si)var cs=Nl(Xi),Jc=function Fl(qt,an){for(var Gt=qt.length,Wn=0;Gt--;)qt[Gt]===an&&++Wn;return Wn}(jo,cs);if(ce&&(jo=Gi(jo,ce,Ie,Si)),Je&&(jo=vo(jo,Je,dt,Si)),Lo-=Jc,Si&&Lo<Zn){var yr=rn(jo,cs);return ad(x,P,Mm,Xi.placeholder,F,jo,yr,At,kt,Zn-Lo)}var Su=Rn?F:this,Dm=oi?Su[x]:x;return Lo=jo.length,At?jo=function L_(x,P){for(var F=x.length,ce=Mr(P.length,F),Ie=Jo(x);ce--;){var Je=P[ce];x[ce]=zs(Je,F)?Ie[Je]:K}return x}(jo,At):Wi&&Lo>1&&jo.reverse(),qn&&kt<Lo&&(jo.length=kt),this&&this!==Do&&this instanceof Xi&&(Dm=Io||Am(Dm)),Dm.apply(Su,jo)}}function kd(x,P){return function(F,ce){return function _m(x,P,F,ce){return Gs(x,function(Ie,Je,dt){P(ce,F(Ie),Je,dt)}),ce}(F,x,P(ce),{})}}function ju(x,P){return function(F,ce){var Ie;if(F===K&&ce===K)return P;if(F!==K&&(Ie=F),ce!==K){if(Ie===K)return ce;"string"==typeof F||"string"==typeof ce?(F=Ea(F),ce=Ea(ce)):(F=zu(F),ce=zu(ce)),Ie=x(F,ce)}return Ie}}function Um(x){return pc(function(P){return P=yo(P,wo(Yi())),lo(function(F){var ce=this;return x(P,function(Ie){return Vi(Ie,ce,F)})})})}function Fm(x,P){var F=(P=P===K?" ":Ea(P)).length;if(F<2)return F?xu(P,x):P;var ce=xu(P,Ni(x/Or(P)));return Ce(P)?ye(pr(ce),0,x).join(""):ce.slice(0,x)}function rd(x){return function(P,F,ce){return ce&&"number"!=typeof ce&&ss(P,F,ce)&&(F=ce=K),P=qu(P),F===K?(F=P,P=0):F=qu(F),function Gu(x,P,F,ce){for(var Ie=-1,Je=xr(Ni((P-x)/(F||1)),0),dt=Gt(Je);Je--;)dt[ce?Je:++Ie]=x,x+=F;return dt}(P,F,ce=ce===K?P<F?1:-1:qu(ce),x)}}function Hu(x){return function(P,F){return"string"==typeof P&&"string"==typeof F||(P=gc(P),F=gc(F)),x(P,F)}}function ad(x,P,F,ce,Ie,Je,dt,At,kt,Zn){var qn=P&Ze;P|=qn?t:Ft,(P&=~(qn?Ft:t))&he||(P&=~(O|J));var Io=[x,P,Ie,qn?Je:K,qn?dt:K,qn?K:Je,qn?K:dt,At,kt,Zn],Xi=F.apply(K,Io);return md(x)&&jd(Xi,Io),Xi.placeholder=ce,Hd(Xi,x,P)}function Qm(x){var P=lr[x];return function(F,ce){if(F=gc(F),(ce=null==ce?0:Mr(Ao(ce),292))&&Gc(F)){var Ie=(nr(F)+"e").split("e");return+((Ie=(nr(P(Ie[0]+"e"+(+Ie[1]+ce)))+"e").split("e"))[0]+"e"+(+Ie[1]-ce))}return P(F)}}var Oc=Ct&&1/eo(new Ct([,-0]))[1]==Xn?function(x){return new Ct(x)}:v_;function Md(x){return function(P){var F=Ja(P);return F==$e?_t(P):F==bo?function sr(qt){var an=-1,Gt=Array(qt.size);return qt.forEach(function(Wn){Gt[++an]=[Wn,Wn]}),Gt}(P):function Ho(qt,an){return yo(an,function(Gt){return[Gt,qt[Gt]]})}(P,x(P))}}function kc(x,P,F,ce,Ie,Je,dt,At){var kt=P&J;if(!kt&&"function"!=typeof x)throw new ge(me);var Zn=ce?ce.length:0;if(Zn||(P&=~(t|Ft),ce=Ie=K),dt=dt===K?dt:xr(Ao(dt),0),At=At===K?At:Ao(At),Zn-=Ie?Ie.length:0,P&Ft){var qn=ce,Rn=Ie;ce=Ie=K}var oi=kt?K:Lm(x),Si=[x,P,F,ce,Ie,qn,Rn,Je,dt,At];if(oi&&function fc(x,P){var F=x[1],ce=P[1],Ie=F|ce;if(!(Ie<(O|J|ln))&&!(ce==ln&&F==Ze||ce==ln&&F==ut&&x[7].length<=P[8]||ce==(ln|ut)&&P[7].length<=P[8]&&F==Ze))return x;ce&O&&(x[2]=P[2],Ie|=F&O?0:he);var At=P[3];if(At){var kt=x[3];x[3]=kt?Gi(kt,At,P[4]):At,x[4]=kt?rn(x[3],o):P[4]}(At=P[5])&&(x[5]=(kt=x[5])?vo(kt,At,P[6]):At,x[6]=kt?rn(x[5],o):P[6]),(At=P[7])&&(x[7]=At),ce&ln&&(x[8]=null==x[8]?P[8]:Mr(x[8],P[8])),null==x[9]&&(x[9]=P[9]),x[0]=P[0],x[1]=Ie}(Si,oi),x=Si[0],P=Si[1],F=Si[2],ce=Si[3],Ie=Si[4],!(At=Si[9]=Si[9]===K?kt?0:x.length:xr(Si[9]-Zn,0))&&P&(Ze|l)&&(P&=~(Ze|l)),P&&P!=O)Wi=P==Ze||P==l?function S_(x,P,F){var ce=Am(x);return function Ie(){for(var Je=arguments.length,dt=Gt(Je),At=Je,kt=Nl(Ie);At--;)dt[At]=arguments[At];var Zn=Je<3&&dt[0]!==kt&&dt[Je-1]!==kt?[]:rn(dt,kt);return(Je-=Zn.length)<F?ad(x,P,Mm,Ie.placeholder,K,dt,Zn,K,K,F-Je):Vi(this&&this!==Do&&this instanceof Ie?ce:x,this,dt)}}(x,P,At):P!=t&&P!=(O|t)||Ie.length?Mm.apply(K,Si):function y_(x,P,F,ce){var Ie=P&O,Je=Am(x);return function dt(){for(var At=-1,kt=arguments.length,Zn=-1,qn=ce.length,Rn=Gt(qn+kt),oi=this&&this!==Do&&this instanceof dt?Je:x;++Zn<qn;)Rn[Zn]=ce[Zn];for(;kt--;)Rn[Zn++]=arguments[++At];return Vi(oi,Ie?F:this,Rn)}}(x,P,F,ce);else var Wi=function q_(x,P,F){var ce=P&O,Ie=Am(x);return function Je(){return(this&&this!==Do&&this instanceof Je?Ie:x).apply(ce?F:this,arguments)}}(x,P,F);return Hd((oi?vu:jd)(Wi,Si),x,P)}function sd(x,P,F,ce){return x===K||Uc(x,st[F])&&!li.call(ce,F)?P:x}function Ud(x,P,F,ce,Ie,Je){return Jr(x)&&Jr(P)&&(Je.set(P,x),pa(x,P,K,Ud,Je),Je.delete(P)),x}function N_(x){return Rm(x)?K:x}function Fd(x,P,F,ce,Ie,Je){var dt=F&i,At=x.length,kt=P.length;if(At!=kt&&!(dt&&kt>At))return!1;var Zn=Je.get(x),qn=Je.get(P);if(Zn&&qn)return Zn==P&&qn==x;var Rn=-1,oi=!0,Si=F&Z?new Xl:K;for(Je.set(x,P),Je.set(P,x);++Rn<At;){var Wi=x[Rn],Io=P[Rn];if(ce)var Xi=dt?ce(Io,Wi,Rn,P,x,Je):ce(Wi,Io,Rn,x,P,Je);if(Xi!==K){if(Xi)continue;oi=!1;break}if(Si){if(!ho(P,function(Lo,jo){if(!is(Si,jo)&&(Wi===Lo||Ie(Wi,Lo,F,ce,Je)))return Si.push(jo)})){oi=!1;break}}else if(Wi!==Io&&!Ie(Wi,Io,F,ce,Je)){oi=!1;break}}return Je.delete(x),Je.delete(P),oi}function pc(x){return pd(zd(x,K,Kd),x+"")}function ld(x){return Ou(x,Hs,ud)}function Jm(x){return Ou(x,hc,Jd)}var Lm=fn?function(x){return fn.get(x)}:v_;function Ym(x){for(var P=x.name+"",F=ui[P],ce=li.call(ui,P)?F.length:0;ce--;){var Ie=F[ce],Je=Ie.func;if(null==Je||Je==x)return Ie.name}return P}function Nl(x){return(li.call(De,"placeholder")?De:x).placeholder}function Yi(){var x=De.iteratee||Zg;return x=x===Zg?fu:x,arguments.length?x(arguments[0],arguments[1]):x}function Tm(x,P){var F=x.__data__;return function va(x){var P=typeof x;return"string"==P||"number"==P||"symbol"==P||"boolean"==P?"__proto__"!==x:null===x}(P)?F["string"==typeof P?"string":"hash"]:F.map}function cd(x){for(var P=Hs(x),F=P.length;F--;){var ce=P[F],Ie=x[ce];P[F]=[ce,Ie,dd(Ie)]}return P}function Tu(x,P){var F=function Jl(qt,an){return null==qt?K:qt[an]}(x,P);return pu(F)?F:K}var ud=Cr?function(x){return null==x?[]:(x=ue(x),Rr(Cr(x),function(P){return Wr.call(x,P)}))}:zf,Jd=Cr?function(x){for(var P=[];x;)ua(P,ud(x)),x=Go(x);return P}:zf,Ja=Xr;function Ld(x,P,F){for(var ce=-1,Ie=(P=te(P,x)).length,Je=!1;++ce<Ie;){var dt=ls(P[ce]);if(!(Je=null!=x&&F(x,dt)))break;x=x[dt]}return Je||++ce!=Ie?Je:!!(Ie=null==x?0:x.length)&&__(Ie)&&zs(dt,Ie)&&(po(x)||Im(x))}function Yd(x){return"function"!=typeof x.constructor||$u(x)?{}:lc(Go(x))}function k_(x){return po(x)||Im(x)||!!(so&&x&&x[so])}function zs(x,P){var F=typeof x;return!!(P=P??Mt)&&("number"==F||"symbol"!=F&&Nr.test(x))&&x>-1&&x%1==0&&x<P}function ss(x,P,F){if(!Jr(F))return!1;var ce=typeof P;return!!("number"==ce?El(F)&&zs(P,F.length):"string"==ce&&P in F)&&Uc(F[P],x)}function Gm(x,P){if(po(x))return!1;var F=typeof x;return!("number"!=F&&"symbol"!=F&&"boolean"!=F&&null!=x&&!Ko(x))||ps.test(x)||!Va.test(x)||null!=P&&x in ue(P)}function md(x){var P=Ym(x),F=De[P];if("function"!=typeof F||!(P in Co.prototype))return!1;if(x===F)return!0;var ce=Lm(F);return!!ce&&x===ce[0]}(Y&&Ja(new Y(new ArrayBuffer(1)))!=Nn||Ee&&Ja(new Ee)!=$e||Ye&&Ja(Ye.resolve())!=ei||Ct&&Ja(new Ct)!=bo||sn&&Ja(new sn)!=Ai)&&(Ja=function(x){var P=Xr(x),F=P==Gn?x.constructor:K,ce=F?Il(F):"";if(ce)switch(ce){case bi:return Nn;case to:return $e;case fo:return ei;case Xo:return bo;case Ur:return Ai}return P});var U_=Tn?Zu:Vf;function $u(x){var P=x&&x.constructor;return x===("function"==typeof P&&P.prototype||st)}function dd(x){return x==x&&!Jr(x)}function Bd(x,P){return function(F){return null!=F&&F[x]===P&&(P!==K||x in ue(F))}}function zd(x,P,F){return P=xr(P===K?x.length-1:P,0),function(){for(var ce=arguments,Ie=-1,Je=xr(ce.length-P,0),dt=Gt(Je);++Ie<Je;)dt[Ie]=ce[P+Ie];Ie=-1;for(var At=Gt(P+1);++Ie<P;)At[Ie]=ce[Ie];return At[P]=F(dt),Vi(x,this,At)}}function Vd(x,P){return P.length<2?x:bl(x,Na(P,0,-1))}function _d(x,P){if(("constructor"!==P||"function"!=typeof x[P])&&"__proto__"!=P)return x[P]}var jd=Bm(vu),bm=da||function(x,P){return Do.setTimeout(x,P)},pd=Bm(xm);function Hd(x,P,F){var ce=P+"";return pd(x,function Gd(x,P){var F=P.length;if(!F)return x;var ce=F-1;return P[ce]=(F>1?"& ":"")+P[ce],P=P.join(F>2?", ":" "),x.replace(la,"{\n/* [wrapped with "+P+"] */\n")}(ce,function er(x,P){return ar(pi,function(F){var ce="_."+F[0];P&F[1]&&!ws(x,ce)&&x.push(ce)}),x.sort()}(function D_(x){var P=x.match(hs);return P?P[1].split(Cs):[]}(ce),F)))}function Bm(x){var P=0,F=0;return function(){var ce=_a(),Ie=_n-(ce-F);if(F=ce,Ie>0){if(++P>=nn)return arguments[0]}else P=0;return x.apply(K,arguments)}}function Pm(x,P){var F=-1,ce=x.length,Ie=ce-1;for(P=P===K?ce:P;++F<P;){var Je=Zl(F,Ie),dt=x[Je];x[Je]=x[F],x[F]=dt}return x.length=P,x}var fd=function F_(x){var P=Vl(x,function(ce){return 500===F.size&&F.clear(),ce}),F=P.cache;return P}(function(x){var P=[];return 46===x.charCodeAt(0)&&P.push(""),x.replace(fs,function(F,ce,Ie,Je){P.push(Ie?Je.replace(vs,"$1"):ce||F)}),P});function ls(x){if("string"==typeof x||Ko(x))return x;var P=x+"";return"0"==P&&1/x==-Xn?"-0":P}function Il(x){if(null!=x){try{return Qo.call(x)}catch{}try{return x+""}catch{}}return""}function Xc(x){if(x instanceof Co)return x.clone();var P=new ya(x.__wrapped__,x.__chain__);return P.__actions__=Jo(x.__actions__),P.__index__=x.__index__,P.__values__=x.__values__,P}var G_=lo(function(x,P){return ia(x)?as(x,Qr(P,1,ia,!0)):[]}),B_=lo(function(x,P){var F=Bl(P);return ia(F)&&(F=K),ia(x)?as(x,Qr(P,1,ia,!0),Yi(F,2)):[]}),z_=lo(function(x,P){var F=Bl(P);return ia(F)&&(F=K),ia(x)?as(x,Qr(P,1,ia,!0),K,F):[]});function $d(x,P,F){var ce=null==x?0:x.length;if(!ce)return-1;var Ie=null==F?0:Ao(F);return Ie<0&&(Ie=xr(ce+Ie,0)),Yo(x,Yi(P,3),Ie)}function xd(x,P,F){var ce=null==x?0:x.length;if(!ce)return-1;var Ie=ce-1;return F!==K&&(Ie=Ao(F),Ie=F<0?xr(ce+Ie,0):Mr(Ie,ce-1)),Yo(x,Yi(P,3),Ie,!0)}function Kd(x){return null!=x&&x.length?Qr(x,1):[]}function Wd(x){return x&&x.length?x[0]:K}var ep=lo(function(x){var P=yo(x,G);return P.length&&P[0]===x[0]?_u(P):[]}),tp=lo(function(x){var P=Bl(x),F=yo(x,G);return P===Bl(F)?P=K:F.pop(),F.length&&F[0]===x[0]?_u(F,Yi(P,2)):[]}),np=lo(function(x){var P=Bl(x),F=yo(x,G);return(P="function"==typeof P?P:K)&&F.pop(),F.length&&F[0]===x[0]?_u(F,K,P):[]});function Bl(x){var P=null==x?0:x.length;return P?x[P-1]:K}var t_=lo(n_);function n_(x,P){return x&&x.length&&P&&P.length?Pl(x,P):x}var sp=pc(function(x,P){var F=null==x?0:x.length,ce=cu(x,P);return dc(x,yo(P,function(Ie){return zs(Ie,F)?+Ie:Ie}).sort(no)),ce});function vd(x){return null==x?x:He.call(x)}var hp=lo(function(x){return Sl(Qr(x,1,ia,!0))}),Cp=lo(function(x){var P=Bl(x);return ia(P)&&(P=K),Sl(Qr(x,1,ia,!0),Yi(P,2))}),La=lo(function(x){var P=Bl(x);return P="function"==typeof P?P:K,Sl(Qr(x,1,ia,!0),K,P)});function ym(x){if(!x||!x.length)return[];var P=0;return x=Rr(x,function(F){if(ia(F))return P=xr(F.length,P),!0}),Pa(P,function(F){return yo(x,Ms(F))})}function Ku(x,P){if(!x||!x.length)return[];var F=ym(x);return null==P?F:yo(F,function(ce){return Vi(P,K,ce)})}var bu=lo(function(x,P){return ia(x)?as(x,P):[]}),xp=lo(function(x){return N(Rr(x,ia))}),a_=lo(function(x){var P=Bl(x);return ia(P)&&(P=K),N(Rr(x,ia),Yi(P,2))}),Nm=lo(function(x){var P=Bl(x);return P="function"==typeof P?P:K,N(Rr(x,ia),K,P)}),Wu=lo(ym),Tp=lo(function(x){var P=x.length,F=P>1?x[P-1]:K;return F="function"==typeof F?(x.pop(),F):K,Ku(x,F)});function s_(x){var P=De(x);return P.__chain__=!0,P}function jm(x,P){return P(x)}var Hm=pc(function(x){var P=x.length,F=P?x[0]:0,ce=this.__wrapped__,Ie=function(Je){return cu(Je,x)};return!(P>1||this.__actions__.length)&&ce instanceof Co&&zs(F)?((ce=ce.slice(F,+F+(P?1:0))).__actions__.push({func:jm,args:[Ie],thisArg:K}),new ya(ce,this.__chain__).thru(function(Je){return P&&!Je.length&&Je.push(K),Je})):this.thru(Ie)}),Np=yl(function(x,P,F){li.call(x,F)?++x[F]:Al(x,F,1)}),Td=wd($d),Rp=wd(xd);function Xu(x,P){return(po(x)?ar:Tl)(x,Yi(P,3))}function m_(x,P){return(po(x)?Ds:uu)(x,Yi(P,3))}var wp=yl(function(x,P,F){li.call(x,F)?x[F].push(P):Al(x,F,[P])}),kp=lo(function(x,P,F){var ce=-1,Ie="function"==typeof P,Je=El(x)?Gt(x.length):[];return Tl(x,function(dt){Je[++ce]=Ie?Vi(P,dt,F):Nc(dt,P,F)}),Je}),Mp=yl(function(x,P,F){Al(x,F,P)});function Km(x,P){return(po(x)?yo:fr)(x,Yi(P,3))}var y=yl(function(x,P,F){x[F?0:1].push(P)},function(){return[[],[]]}),ke=lo(function(x,P){if(null==x)return[];var F=P.length;return F>1&&ss(x,P[0],P[1])?P=[]:F>2&&ss(P[0],P[1],P[2])&&(P=[P[0]]),Cu(x,Qr(P,1),[])}),Qe=Oo||function(){return Do.Date.now()};function Yt(x,P,F){return P=F?K:P,kc(x,ln,K,K,K,K,P=x&&null==P?x.length:P)}function dn(x,P){var F;if("function"!=typeof P)throw new ge(me);return x=Ao(x),function(){return--x>0&&(F=P.apply(this,arguments)),x<=1&&(P=K),F}}var Ut=lo(function(x,P,F){var ce=O;if(F.length){var Ie=rn(F,Nl(Ut));ce|=t}return kc(x,ce,P,F,Ie)}),gn=lo(function(x,P,F){var ce=O|J;if(F.length){var Ie=rn(F,Nl(gn));ce|=t}return kc(P,ce,x,F,Ie)});function ki(x,P,F){var ce,Ie,Je,dt,At,kt,Zn=0,qn=!1,Rn=!1,oi=!0;if("function"!=typeof x)throw new ge(me);function Si(yr){var Su=ce,Dm=Ie;return ce=Ie=K,Zn=yr,dt=x.apply(Dm,Su)}function Xi(yr){var Su=yr-kt;return kt===K||Su>=P||Su<0||Rn&&yr-Zn>=Je}function Lo(){var yr=Qe();if(Xi(yr))return jo(yr);At=bm(Lo,function Io(yr){var Ng=P-(yr-kt);return Rn?Mr(Ng,Je-(yr-Zn)):Ng}(yr))}function jo(yr){return At=K,oi&&ce?Si(yr):(ce=Ie=K,dt)}function Jc(){var yr=Qe(),Su=Xi(yr);if(ce=arguments,Ie=this,kt=yr,Su){if(At===K)return function Wi(yr){return Zn=yr,At=bm(Lo,P),qn?Si(yr):dt}(kt);if(Rn)return Ke(At),At=bm(Lo,P),Si(kt)}return At===K&&(At=bm(Lo,P)),dt}return P=gc(P)||0,Jr(F)&&(qn=!!F.leading,Je=(Rn="maxWait"in F)?xr(gc(F.maxWait)||0,P):Je,oi="trailing"in F?!!F.trailing:oi),Jc.cancel=function Qc(){At!==K&&Ke(At),Zn=0,ce=kt=Ie=At=K},Jc.flush=function cs(){return At===K?dt:jo(Qe())},Jc}var ta=lo(function(x,P){return tc(x,1,P)}),zl=lo(function(x,P,F){return tc(x,gc(P)||0,F)});function Vl(x,P){if("function"!=typeof x||null!=P&&"function"!=typeof P)throw new ge(me);var F=function(){var ce=arguments,Ie=P?P.apply(this,ce):ce[0],Je=F.cache;if(Je.has(Ie))return Je.get(Ie);var dt=x.apply(this,ce);return F.cache=Je.set(Ie,dt)||Je,dt};return F.cache=new(Vl.Cache||xl),F}function d_(x){if("function"!=typeof x)throw new ge(me);return function(){var P=arguments;switch(P.length){case 0:return!x.call(this);case 1:return!x.call(this,P[0]);case 2:return!x.call(this,P[0],P[1]);case 3:return!x.call(this,P[0],P[1],P[2])}return!x.apply(this,P)}}Vl.Cache=xl;var df=_e(function(x,P){var F=(P=1==P.length&&po(P[0])?yo(P[0],wo(Yi())):yo(Qr(P,1),wo(Yi()))).length;return lo(function(ce){for(var Ie=-1,Je=Mr(ce.length,F);++Ie<Je;)ce[Ie]=P[Ie].call(this,ce[Ie]);return Vi(x,this,ce)})}),bd=lo(function(x,P){var F=rn(P,Nl(bd));return kc(x,t,K,P,F)}),Vp=lo(function(x,P){var F=rn(P,Nl(Vp));return kc(x,Ft,K,P,F)}),_f=pc(function(x,P){return kc(x,ut,K,K,K,P)});function Uc(x,P){return x===P||x!=x&&P!=P}var bf=Hu(Kc),sg=Hu(function(x,P){return x>=P}),Im=Mu(function(){return arguments}())?Mu:function(x){return oa(x)&&li.call(x,"callee")&&!Wr.call(x,"callee")},po=Gt.isArray,Em=Gr?wo(Gr):function Uu(x){return oa(x)&&Xr(x)==Mn};function El(x){return null!=x&&__(x.length)&&!Zu(x)}function ia(x){return oa(x)&&El(x)}var Pu=tu||Vf,Zf=ml?wo(ml):function Fu(x){return oa(x)&&Xr(x)==Kt};function Fp(x){if(!oa(x))return!1;var P=Xr(x);return P==$i||P==hi||"string"==typeof x.message&&"string"==typeof x.name&&!Rm(x)}function Zu(x){if(!Jr(x))return!1;var P=Xr(x);return P==Sn||P==vt||P==xi||P==vi}function Qp(x){return"number"==typeof x&&x==Ao(x)}function __(x){return"number"==typeof x&&x>-1&&x%1==0&&x<=Mt}function Jr(x){var P=typeof x;return null!=x&&("object"==P||"function"==P)}function oa(x){return null!=x&&"object"==typeof x}var $p=Es?wo(Es):function Qu(x){return oa(x)&&Ja(x)==$e};function p_(x){return"number"==typeof x||oa(x)&&Xr(x)==bn}function Rm(x){if(!oa(x)||Xr(x)!=Gn)return!1;var P=Go(x);if(null===P)return!0;var F=li.call(P,"constructor")&&P.constructor;return"function"==typeof F&&F instanceof F&&Qo.call(F)==Wl}var Pd=ao?wo(ao):function pm(x){return oa(x)&&Xr(x)==uo},Kp=Rs?wo(Rs):function Ju(x){return oa(x)&&Ja(x)==bo};function Zd(x){return"string"==typeof x||!po(x)&&oa(x)&&Xr(x)==oe}function Ko(x){return"symbol"==typeof x||oa(x)&&Xr(x)==pn}var ic=Ol?wo(Ol):function Wc(x){return oa(x)&&__(x.length)&&!!Oi[Xr(x)]},ef=Hu(gu),Mf=Hu(function(x,P){return x<=P});function tf(x){if(!x)return[];if(El(x))return Zd(x)?pr(x):Jo(x);if(Ll&&x[Ll])return function Pe(qt){for(var an,Gt=[];!(an=qt.next()).done;)Gt.push(an.value);return Gt}(x[Ll]());var P=Ja(x);return(P==$e?_t:P==bo?eo:h_)(x)}function qu(x){return x?(x=gc(x))===Xn||x===-Xn?(x<0?-1:1)*Lt:x==x?x:0:0===x?x:0}function Ao(x){var P=qu(x),F=P%1;return P==P?F?P-F:P:0}function nf(x){return x?Fr(Ao(x),0,ht):0}function gc(x){if("number"==typeof x)return x;if(Ko(x))return xt;if(Jr(x)){var P="function"==typeof x.valueOf?x.valueOf():x;x=Jr(P)?P+"":P}if("string"!=typeof x)return 0===x?x:+x;x=ma(x);var F=nl.test(x);return F||Ts.test(x)?Tr(x.slice(2),F?2:8):Ar.test(x)?xt:+x}function of(x){return Ii(x,hc(x))}function nr(x){return null==x?"":Ea(x)}var Ff=go(function(x,P){if($u(P)||El(P))Ii(P,Hs(P),x);else for(var F in P)li.call(P,F)&&qc(x,F,P[F])}),Lp=go(function(x,P){Ii(P,hc(P),x)}),f_=go(function(x,P,F,ce){Ii(P,hc(P),x,ce)}),rf=go(function(x,P,F,ce){Ii(P,Hs(P),x,ce)}),af=pc(cu),cg=lo(function(x,P){x=ue(x);var F=-1,ce=P.length,Ie=ce>2?P[2]:K;for(Ie&&ss(P[0],P[1],Ie)&&(ce=1);++F<ce;)for(var Je=P[F],dt=hc(Je),At=-1,kt=dt.length;++At<kt;){var Zn=dt[At],qn=x[Zn];(qn===K||Uc(qn,st[Zn])&&!li.call(x,Zn))&&(x[Zn]=Je[Zn])}return x}),v=lo(function(x){return x.push(K,Ud),Vi(ug,K,x)});function Ya(x,P,F){var ce=null==x?K:bl(x,P);return ce===K?F:ce}function g_(x,P){return null!=x&&Ld(x,P,du)}var Qf=kd(function(x,P,F){null!=P&&"function"!=typeof P.toString&&(P=Zo.call(P)),x[P]=F},Yf(oc)),js=kd(function(x,P,F){null!=P&&"function"!=typeof P.toString&&(P=Zo.call(P)),li.call(x,P)?x[P].push(F):x[P]=[F]},Yi),em=lo(Nc);function Hs(x){return El(x)?ji(x):Bs(x)}function hc(x){return El(x)?ji(x,!0):function fm(x){if(!Jr(x))return function Q_(x){var P=[];if(null!=x)for(var F in ue(x))P.push(F);return P}(x);var P=$u(x),F=[];for(var ce in x)"constructor"==ce&&(P||!li.call(x,ce))||F.push(ce);return F}(x)}var Qg=go(function(x,P,F){pa(x,P,F)}),ug=go(function(x,P,F,ce){pa(x,P,F,ce)}),Jg=pc(function(x,P){var F={};if(null==x)return F;var ce=!1;P=yo(P,function(Je){return Je=te(Je,x),ce||(ce=Je.length>1),Je}),Ii(x,Jm(x),F),ce&&(F=Qa(F,e|xe|n,N_));for(var Ie=P.length;Ie--;)Au(F,P[Ie]);return F}),Yg=pc(function(x,P){return null==x?{}:function Dc(x,P){return Yu(x,P,function(F,ce){return g_(x,ce)})}(x,P)});function mg(x,P){if(null==x)return{};var F=yo(Jm(x),function(ce){return[ce]});return P=Yi(P),Yu(x,F,function(ce,Ie){return P(ce,Ie[0])})}var Jf=Md(Hs),Xm=Md(hc);function h_(x){return null==x?[]:Us(x,Hs(x))}var Xg=Vu(function(x,P,F){return P=P.toLowerCase(),x+(F?_g(P):P)});function _g(x){return C_(nr(x).toLowerCase())}function pg(x){return(x=nr(x))&&x.replace(Lr,Qs).replace(ka,"")}var gg=Vu(function(x,P,F){return x+(F?"-":"")+P.toLowerCase()}),hg=Vu(function(x,P,F){return x+(F?" ":"")+P.toLowerCase()}),n1=Dd("toLowerCase"),qd=Vu(function(x,P,F){return x+(F?"_":"")+P.toLowerCase()}),l1=Vu(function(x,P,F){return x+(F?" ":"")+C_(P)}),Tg=Vu(function(x,P,F){return x+(F?" ":"")+P.toUpperCase()}),C_=Dd("toUpperCase");function bg(x,P,F){return x=nr(x),(P=F?K:P)===K?function mt(qt){return $l.test(qt)}(x)?function qa(qt){return qt.match(Is)||[]}(x):function kl(qt){return qt.match(rr)||[]}(x):x.match(P)||[]}var Gp=lo(function(x,P){try{return Vi(x,K,P)}catch(F){return Fp(F)?F:new Qi(F)}}),p1=pc(function(x,P){return ar(P,function(F){F=ls(F),Al(x,F,Ut(x[F],x))}),x});function Yf(x){return function(){return x}}var Pg=Od(),h1=Od(!0);function oc(x){return x}function Zg(x){return fu("function"==typeof x?x:Qa(x,e))}var Bp=lo(function(x,P){return function(F){return Nc(F,x,P)}}),x_=lo(function(x,P){return function(F){return Nc(x,F,P)}});function Sd(x,P,F){var ce=Hs(P),Ie=$c(P,ce);null==F&&(!Jr(P)||!Ie.length&&ce.length)&&(F=P,P=x,x=this,Ie=$c(P,Hs(P)));var Je=!(Jr(F)&&"chain"in F&&!F.chain),dt=Zu(x);return ar(Ie,function(At){var kt=P[At];x[At]=kt,dt&&(x.prototype[At]=function(){var Zn=this.__chain__;if(Je||Zn){var qn=x(this.__wrapped__);return(qn.__actions__=Jo(this.__actions__)).push({func:kt,args:arguments,thisArg:x}),qn.__chain__=Zn,qn}return kt.apply(x,ua([this.value()],arguments))})}),x}function v_(){}var ed=Um(yo),qg=Um(Br),C1=Um(ho);function Sg(x){return Gm(x)?Ms(ls(x)):function gm(x){return function(P){return bl(P,x)}}(x)}var v1=rd(),A1=rd(!0);function zf(){return[]}function Vf(){return!1}var S1=ju(function(x,P){return x+P},0),jf=Qm("ceil"),y1=ju(function(x,P){return x/P},1),N1=Qm("floor"),k1=ju(function(x,P){return x*P},1),M1=Qm("round"),U1=ju(function(x,P){return x-P},0);return De.after=function Bt(x,P){if("function"!=typeof P)throw new ge(me);return x=Ao(x),function(){if(--x<1)return P.apply(this,arguments)}},De.ary=Yt,De.assign=Ff,De.assignIn=Lp,De.assignInWith=f_,De.assignWith=rf,De.at=af,De.before=dn,De.bind=Ut,De.bindAll=p1,De.bindKey=gn,De.castArray=function xf(){if(!arguments.length)return[];var x=arguments[0];return po(x)?x:[x]},De.chain=s_,De.chunk=function gd(x,P,F){P=(F?ss(x,P,F):P===K)?1:xr(Ao(P),0);var ce=null==x?0:x.length;if(!ce||P<1)return[];for(var Ie=0,Je=0,dt=Gt(Ni(ce/P));Ie<ce;)dt[Je++]=Na(x,Ie,Ie+=P);return dt},De.compact=function hd(x){for(var P=-1,F=null==x?0:x.length,ce=0,Ie=[];++P<F;){var Je=x[P];Je&&(Ie[ce++]=Je)}return Ie},De.concat=function Y_(){var x=arguments.length;if(!x)return[];for(var P=Gt(x-1),F=arguments[0],ce=x;ce--;)P[ce-1]=arguments[ce];return ua(po(F)?Jo(F):[F],Qr(P,1))},De.cond=function sf(x){var P=null==x?0:x.length,F=Yi();return x=P?yo(x,function(ce){if("function"!=typeof ce[1])throw new ge(me);return[F(ce[0]),ce[1]]}):[],lo(function(ce){for(var Ie=-1;++Ie<P;){var Je=x[Ie];if(Vi(Je[0],this,ce))return Vi(Je[1],this,ce)}})},De.conforms=function f1(x){return function rs(x){var P=Hs(x);return function(F){return jc(F,x,P)}}(Qa(x,e))},De.constant=Yf,De.countBy=Np,De.create=function lg(x,P){var F=lc(x);return null==P?F:lu(F,P)},De.curry=function Fn(x,P,F){var ce=kc(x,Ze,K,K,K,K,K,P=F?K:P);return ce.placeholder=Fn.placeholder,ce},De.curryRight=function Pi(x,P,F){var ce=kc(x,l,K,K,K,K,K,P=F?K:P);return ce.placeholder=Pi.placeholder,ce},De.debounce=ki,De.defaults=cg,De.defaultsDeep=v,De.defer=ta,De.delay=zl,De.difference=G_,De.differenceBy=B_,De.differenceWith=z_,De.drop=function Cd(x,P,F){var ce=null==x?0:x.length;return ce?Na(x,(P=F||P===K?1:Ao(P))<0?0:P,ce):[]},De.dropRight=function V_(x,P,F){var ce=null==x?0:x.length;return ce?Na(x,0,(P=ce-(P=F||P===K?1:Ao(P)))<0?0:P):[]},De.dropRightWhile=function j_(x,P){return x&&x.length?U(x,Yi(P,3),!0,!0):[]},De.dropWhile=function H_(x,P){return x&&x.length?U(x,Yi(P,3),!0):[]},De.fill=function $_(x,P,F,ce){var Ie=null==x?0:x.length;return Ie?(F&&"number"!=typeof F&&ss(x,P,F)&&(F=0,ce=Ie),function mm(x,P,F,ce){var Ie=x.length;for((F=Ao(F))<0&&(F=-F>Ie?0:Ie+F),(ce=ce===K||ce>Ie?Ie:Ao(ce))<0&&(ce+=Ie),ce=F>ce?0:nf(ce);F<ce;)x[F++]=P;return x}(x,P,F,ce)):[]},De.filter=function Ep(x,P){return(po(x)?Rr:wu)(x,Yi(P,3))},De.flatMap=function c_(x,P){return Qr(Km(x,P),1)},De.flatMapDeep=function Dp(x,P){return Qr(Km(x,P),Xn)},De.flatMapDepth=function u_(x,P,F){return F=F===K?1:Ao(F),Qr(Km(x,P),F)},De.flatten=Kd,De.flattenDeep=function K_(x){return null!=x&&x.length?Qr(x,Xn):[]},De.flattenDepth=function W_(x,P){return null!=x&&x.length?Qr(x,P=P===K?1:Ao(P)):[]},De.flip=function na(x){return kc(x,ot)},De.flow=Pg,De.flowRight=h1,De.fromPairs=function X_(x){for(var P=-1,F=null==x?0:x.length,ce={};++P<F;){var Ie=x[P];ce[Ie[0]]=Ie[1]}return ce},De.functions=function qo(x){return null==x?[]:$c(x,Hs(x))},De.functionsIn=function Vs(x){return null==x?[]:$c(x,hc(x))},De.groupBy=wp,De.initial=function Mc(x){return null!=x&&x.length?Na(x,0,-1):[]},De.intersection=ep,De.intersectionBy=tp,De.intersectionWith=np,De.invert=Qf,De.invertBy=js,De.invokeMap=kp,De.iteratee=Zg,De.keyBy=Mp,De.keys=Hs,De.keysIn=hc,De.map=Km,De.mapKeys=function Ug(x,P){var F={};return P=Yi(P,3),Gs(x,function(ce,Ie,Je){Al(F,P(ce,Ie,Je),ce)}),F},De.mapValues=function Fg(x,P){var F={};return P=Yi(P,3),Gs(x,function(ce,Ie,Je){Al(F,Ie,P(ce,Ie,Je))}),F},De.matches=function Gf(x){return ea(Qa(x,e))},De.matchesProperty=function W1(x,P){return $o(x,Qa(P,e))},De.memoize=Vl,De.merge=Qg,De.mergeWith=ug,De.method=Bp,De.methodOf=x_,De.mixin=Sd,De.negate=d_,De.nthArg=function yd(x){return x=Ao(x),lo(function(P){return hu(P,x)})},De.omit=Jg,De.omitBy=function Lg(x,P){return mg(x,d_(Yi(P)))},De.once=function mf(x){return dn(2,x)},De.orderBy=function Up(x,P,F,ce){return null==x?[]:(po(P)||(P=null==P?[]:[P]),po(F=ce?K:F)||(F=null==F?[]:[F]),Cu(x,P,F))},De.over=ed,De.overArgs=df,De.overEvery=qg,De.overSome=C1,De.partial=bd,De.partialRight=Vp,De.partition=y,De.pick=Yg,De.pickBy=mg,De.property=Sg,De.propertyOf=function x1(x){return function(P){return null==x?K:bl(x,P)}},De.pull=t_,De.pullAll=n_,De.pullAllBy=function rp(x,P,F){return x&&x.length&&P&&P.length?Pl(x,P,Yi(F,2)):x},De.pullAllWith=function ap(x,P,F){return x&&x.length&&P&&P.length?Pl(x,P,K,F):x},De.pullAt=sp,De.range=v1,De.rangeRight=A1,De.rearg=_f,De.reject=function M(x,P){return(po(x)?Rr:wu)(x,d_(Yi(P,3)))},De.remove=function lp(x,P){var F=[];if(!x||!x.length)return F;var ce=-1,Ie=[],Je=x.length;for(P=Yi(P,3);++ce<Je;){var dt=x[ce];P(dt,ce,x)&&(F.push(dt),Ie.push(ce))}return dc(x,Ie),F},De.rest=function pf(x,P){if("function"!=typeof x)throw new ge(me);return lo(x,P=P===K?P:Ao(P))},De.reverse=vd,De.sampleSize=function ie(x,P,F){return P=(F?ss(x,P,F):P===K)?1:Ao(P),(po(x)?Zc:Cm)(x,P)},De.set=function Bg(x,P,F){return null==x?x:Gl(x,P,F)},De.setWith=function zg(x,P,F,ce){return ce="function"==typeof ce?ce:K,null==x?x:Gl(x,P,F,ce)},De.shuffle=function ve(x){return(po(x)?mc:vm)(x)},De.slice=function Ad(x,P,F){var ce=null==x?0:x.length;return ce?(F&&"number"!=typeof F&&ss(x,P,F)?(P=0,F=ce):(P=null==P?0:Ao(P),F=F===K?ce:Ao(F)),Na(x,P,F)):[]},De.sortBy=ke,De.sortedUniq=function o_(x){return x&&x.length?_c(x):[]},De.sortedUniqBy=function pp(x,P){return x&&x.length?_c(x,Yi(P,2)):[]},De.split=function s1(x,P,F){return F&&"number"!=typeof F&&ss(x,P,F)&&(P=F=K),(F=F===K?ht:F>>>0)?(x=nr(x))&&("string"==typeof P||null!=P&&!Pd(P))&&!(P=Ea(P))&&Ce(x)?ye(pr(x),0,F):x.split(P,F):[]},De.spread=function ff(x,P){if("function"!=typeof x)throw new ge(me);return P=null==P?0:xr(Ao(P),0),lo(function(F){var ce=F[P],Ie=ye(F,0,P);return ce&&ua(Ie,ce),Vi(x,this,Ie)})},De.tail=function Zm(x){var P=null==x?0:x.length;return P?Na(x,1,P):[]},De.take=function fp(x,P,F){return x&&x.length?Na(x,0,(P=F||P===K?1:Ao(P))<0?0:P):[]},De.takeRight=function gp(x,P,F){var ce=null==x?0:x.length;return ce?Na(x,(P=ce-(P=F||P===K?1:Ao(P)))<0?0:P,ce):[]},De.takeRightWhile=function zm(x,P){return x&&x.length?U(x,Yi(P,3),!1,!0):[]},De.takeWhile=function r_(x,P){return x&&x.length?U(x,Yi(P,3)):[]},De.tap=function bp(x,P){return P(x),x},De.throttle=function gf(x,P,F){var ce=!0,Ie=!0;if("function"!=typeof x)throw new ge(me);return Jr(F)&&(ce="leading"in F?!!F.leading:ce,Ie="trailing"in F?!!F.trailing:Ie),ki(x,P,{leading:ce,maxWait:P,trailing:Ie})},De.thru=jm,De.toArray=tf,De.toPairs=Jf,De.toPairsIn=Xm,De.toPath=function Z1(x){return po(x)?yo(x,ls):Ko(x)?[x]:Jo(fd(nr(x)))},De.toPlainObject=of,De.transform=function Lf(x,P,F){var ce=po(x),Ie=ce||Pu(x)||ic(x);if(P=Yi(P,4),null==F){var Je=x&&x.constructor;F=Ie?ce?new Je:[]:Jr(x)&&Zu(Je)?lc(Go(x)):{}}return(Ie?ar:Gs)(x,function(dt,At,kt){return P(F,dt,At,kt)}),F},De.unary=function hf(x){return Yt(x,1)},De.union=hp,De.unionBy=Cp,De.unionWith=La,De.uniq=function qm(x){return x&&x.length?Sl(x):[]},De.uniqBy=function Sm(x,P){return x&&x.length?Sl(x,Yi(P,2)):[]},De.uniqWith=function Vm(x,P){return P="function"==typeof P?P:K,x&&x.length?Sl(x,K,P):[]},De.unset=function Vg(x,P){return null==x||Au(x,P)},De.unzip=ym,De.unzipWith=Ku,De.update=function jg(x,P,F){return null==x?x:wc(x,P,b(F))},De.updateWith=function Hg(x,P,F,ce){return ce="function"==typeof ce?ce:K,null==x?x:wc(x,P,b(F),ce)},De.values=h_,De.valuesIn=function dg(x){return null==x?[]:Us(x,hc(x))},De.without=bu,De.words=bg,De.wrap=function Cf(x,P){return bd(b(P),x)},De.xor=xp,De.xorBy=a_,De.xorWith=Nm,De.zip=Wu,De.zipObject=function vp(x,P){return q(x||[],P||[],qc)},De.zipObjectDeep=function Ap(x,P){return q(x||[],P||[],Gl)},De.zipWith=Tp,De.entries=Jf,De.entriesIn=Xm,De.extend=Lp,De.extendWith=f_,Sd(De,De),De.add=S1,De.attempt=Gp,De.camelCase=Xg,De.capitalize=_g,De.ceil=jf,De.clamp=function $g(x,P,F){return F===K&&(F=P,P=K),F!==K&&(F=(F=gc(F))==F?F:0),P!==K&&(P=(P=gc(P))==P?P:0),Fr(gc(x),P,F)},De.clone=function jp(x){return Qa(x,n)},De.cloneDeep=function Af(x){return Qa(x,e|n)},De.cloneDeepWith=function Hp(x,P){return Qa(x,e|n,P="function"==typeof P?P:K)},De.cloneWith=function vf(x,P){return Qa(x,n,P="function"==typeof P?P:K)},De.conformsTo=function Tf(x,P){return null==P||jc(x,P,Hs(P))},De.deburr=pg,De.defaultTo=function g1(x,P){return null==x||x!=x?P:x},De.divide=y1,De.endsWith=function e1(x,P,F){x=nr(x),P=Ea(P);var ce=x.length,Ie=F=F===K?ce:Fr(Ao(F),0,ce);return(F-=P.length)>=0&&x.slice(F,Ie)==P},De.eq=Uc,De.escape=function t1(x){return(x=nr(x))&&sa.test(x)?x.replace(_s,Ql):x},De.escapeRegExp=function fg(x){return(x=nr(x))&&gs.test(x)?x.replace(Ra,"\\$&"):x},De.every=function Ip(x,P,F){var ce=po(x)?Br:um;return F&&ss(x,P,F)&&(P=K),ce(x,Yi(P,3))},De.find=Td,De.findIndex=$d,De.findKey=function H(x,P){return Ml(x,Yi(P,3),Gs)},De.findLast=Rp,De.findLastIndex=xd,De.findLastKey=function C(x,P){return Ml(x,Yi(P,3),mu)},De.floor=N1,De.forEach=Xu,De.forEachRight=m_,De.forIn=function le(x,P){return null==x?x:yc(x,Yi(P,3),hc)},De.forInRight=function re(x,P){return null==x?x:Hc(x,Yi(P,3),hc)},De.forOwn=function Fe(x,P){return x&&Gs(x,Yi(P,3))},De.forOwnRight=function ti(x,P){return x&&mu(x,Yi(P,3))},De.get=Ya,De.gt=bf,De.gte=sg,De.has=function Fc(x,P){return null!=x&&Ld(x,P,ku)},De.hasIn=g_,De.head=Wd,De.identity=oc,De.includes=function Op(x,P,F,ce){x=El(x)?x:h_(x),F=F&&!ce?Ao(F):0;var Ie=x.length;return F<0&&(F=xr(Ie+F,0)),Zd(x)?F<=Ie&&x.indexOf(P,F)>-1:!!Ie&&Ua(x,P,F)>-1},De.indexOf=function Xd(x,P,F){var ce=null==x?0:x.length;if(!ce)return-1;var Ie=null==F?0:Ao(F);return Ie<0&&(Ie=xr(ce+Ie,0)),Ua(x,P,Ie)},De.inRange=function Kg(x,P,F){return P=qu(P),F===K?(F=P,P=0):F=qu(F),function dm(x,P,F){return x>=Mr(P,F)&&x<xr(P,F)}(x=gc(x),P,F)},De.invoke=em,De.isArguments=Im,De.isArray=po,De.isArrayBuffer=Em,De.isArrayLike=El,De.isArrayLikeObject=ia,De.isBoolean=function Pf(x){return!0===x||!1===x||oa(x)&&Xr(x)==tn},De.isBuffer=Pu,De.isDate=Zf,De.isElement=function qf(x){return oa(x)&&1===x.nodeType&&!Rm(x)},De.isEmpty=function Sf(x){if(null==x)return!0;if(El(x)&&(po(x)||"string"==typeof x||"function"==typeof x.splice||Pu(x)||ic(x)||Im(x)))return!x.length;var P=Ja(x);if(P==$e||P==bo)return!x.size;if($u(x))return!Bs(x).length;for(var F in x)if(li.call(x,F))return!1;return!0},De.isEqual=function yf(x,P){return Ic(x,P)},De.isEqualWith=function Nf(x,P,F){var ce=(F="function"==typeof F?F:K)?F(x,P):K;return ce===K?Ic(x,P,K,F):!!ce},De.isError=Fp,De.isFinite=function If(x){return"number"==typeof x&&Gc(x)},De.isFunction=Zu,De.isInteger=Qp,De.isLength=__,De.isMap=$p,De.isMatch=function Jp(x,P){return x===P||Rc(x,P,cd(P))},De.isMatchWith=function Ef(x,P,F){return F="function"==typeof F?F:K,Rc(x,P,cd(P),F)},De.isNaN=function Rf(x){return p_(x)&&x!=+x},De.isNative=function Df(x){if(U_(x))throw new Qi("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return pu(x)},De.isNil=function Wm(x){return null==x},De.isNull=function wf(x){return null===x},De.isNumber=p_,De.isObject=Jr,De.isObjectLike=oa,De.isPlainObject=Rm,De.isRegExp=Pd,De.isSafeInteger=function Of(x){return Qp(x)&&x>=-Mt&&x<=Mt},De.isSet=Kp,De.isString=Zd,De.isSymbol=Ko,De.isTypedArray=ic,De.isUndefined=function Wp(x){return x===K},De.isWeakMap=function Xp(x){return oa(x)&&Ja(x)==Ai},De.isWeakSet=function kf(x){return oa(x)&&"[object WeakSet]"==Xr(x)},De.join=function ip(x,P){return null==x?"":bc.call(x,P)},De.kebabCase=gg,De.last=Bl,De.lastIndexOf=function op(x,P,F){var ce=null==x?0:x.length;if(!ce)return-1;var Ie=ce;return F!==K&&(Ie=(Ie=Ao(F))<0?xr(ce+Ie,0):Mr(Ie,ce-1)),P==P?function wr(qt,an,Gt){for(var Wn=Gt+1;Wn--;)if(qt[Wn]===an)return Wn;return Wn}(x,P,Ie):Yo(x,dl,Ie,!0)},De.lowerCase=hg,De.lowerFirst=n1,De.lt=ef,De.lte=Mf,De.max=function I1(x){return x&&x.length?Sc(x,oc,Kc):K},De.maxBy=function E1(x,P){return x&&x.length?Sc(x,Yi(P,2),Kc):K},De.mean=function R1(x){return tr(x,oc)},De.meanBy=function D1(x,P){return tr(x,Yi(P,2))},De.min=function w1(x){return x&&x.length?Sc(x,oc,gu):K},De.minBy=function O1(x,P){return x&&x.length?Sc(x,Yi(P,2),gu):K},De.stubArray=zf,De.stubFalse=Vf,De.stubObject=function T1(){return{}},De.stubString=function b1(){return""},De.stubTrue=function yg(){return!0},De.multiply=k1,De.nth=function e_(x,P){return x&&x.length?hu(x,Ao(P)):K},De.noConflict=function Bf(){return Do._===this&&(Do._=eu),this},De.noop=v_,De.now=Qe,De.pad=function i1(x,P,F){x=nr(x);var ce=(P=Ao(P))?Or(x):0;if(!P||ce>=P)return x;var Ie=(P-ce)/2;return Fm(Bi(Ie),F)+x+Fm(Ni(Ie),F)},De.padEnd=function Cg(x,P,F){x=nr(x);var ce=(P=Ao(P))?Or(x):0;return P&&ce<P?x+Fm(P-ce,F):x},De.padStart=function o1(x,P,F){x=nr(x);var ce=(P=Ao(P))?Or(x):0;return P&&ce<P?Fm(P-ce,F)+x:x},De.parseInt=function r1(x,P,F){return F||null==P?P=0:P&&(P=+P),gl(nr(x).replace(ja,""),P||0)},De.random=function Wg(x,P,F){if(F&&"boolean"!=typeof F&&ss(x,P,F)&&(P=F=K),F===K&&("boolean"==typeof P?(F=P,P=K):"boolean"==typeof x&&(F=x,x=K)),x===K&&P===K?(x=0,P=1):(x=qu(x),P===K?(P=x,x=0):P=qu(P)),x>P){var ce=x;x=P,P=ce}if(F||x%1||P%1){var Ie=se();return Mr(x+Ie*(P-x+Wa("1e-"+((Ie+"").length-1))),P)}return Zl(x,P)},De.reduce=function ne(x,P,F){var ce=po(x)?Os:ts,Ie=arguments.length<3;return ce(x,Yi(P,4),F,Ie,Tl)},De.reduceRight=function u(x,P,F){var ce=po(x)?ks:ts,Ie=arguments.length<3;return ce(x,Yi(P,4),F,Ie,uu)},De.repeat=function a1(x,P,F){return P=(F?ss(x,P,F):P===K)?1:Ao(P),xu(nr(x),P)},De.replace=function Yp(){var x=arguments,P=nr(x[0]);return x.length<3?P:P.replace(x[1],x[2])},De.result=function Gg(x,P,F){var ce=-1,Ie=(P=te(P,x)).length;for(Ie||(Ie=1,x=K);++ce<Ie;){var Je=null==x?K:x[ls(P[ce])];Je===K&&(ce=Ie,Je=F),x=Zu(Je)?Je.call(x):Je}return x},De.round=M1,De.runInContext=qt,De.sample=function W(x){return(po(x)?uc:hm)(x)},De.size=function Re(x){if(null==x)return 0;if(El(x))return Zd(x)?Or(x):x.length;var P=Ja(x);return P==$e||P==bo?x.size:Bs(x).length},De.snakeCase=qd,De.some=function Oe(x,P,F){var ce=po(x)?ho:Bu;return F&&ss(x,P,F)&&(P=K),ce(x,Yi(P,3))},De.sortedIndex=function i_(x,P){return Ia(x,P)},De.sortedIndexBy=function cp(x,P,F){return ql(x,P,Yi(F,2))},De.sortedIndexOf=function up(x,P){var F=null==x?0:x.length;if(F){var ce=Ia(x,P);if(ce<F&&Uc(x[ce],P))return ce}return-1},De.sortedLastIndex=function mp(x,P){return Ia(x,P,!0)},De.sortedLastIndexBy=function dp(x,P,F){return ql(x,P,Yi(F,2),!0)},De.sortedLastIndexOf=function _p(x,P){if(null!=x&&x.length){var ce=Ia(x,P,!0)-1;if(Uc(x[ce],P))return ce}return-1},De.startCase=l1,De.startsWith=function c1(x,P,F){return x=nr(x),F=null==F?0:Fr(Ao(F),0,x.length),P=Ea(P),x.slice(F,F+P.length)==P},De.subtract=U1,De.sum=function F1(x){return x&&x.length?ns(x,oc):0},De.sumBy=function Q1(x,P){return x&&x.length?ns(x,Yi(P,2)):0},De.template=function xg(x,P,F){var ce=De.templateSettings;F&&ss(x,P,F)&&(P=K),x=nr(x),P=f_({},P,ce,sd);var At,kt,Ie=f_({},P.imports,ce.imports,sd),Je=Hs(Ie),dt=Us(Ie,Je),Zn=0,qn=P.interpolate||Da,Rn="__p += '",oi=je((P.escape||Da).source+"|"+qn.source+"|"+(qn===dr?tl:Da).source+"|"+(P.evaluate||Da).source+"|$","g"),Si="//# sourceURL="+(li.call(P,"sourceURL")?(P.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++al+"]")+"\n";x.replace(oi,function(Xi,Lo,jo,Qc,cs,Jc){return jo||(jo=Qc),Rn+=x.slice(Zn,Jc).replace(bs,pl),Lo&&(At=!0,Rn+="' +\n__e("+Lo+") +\n'"),cs&&(kt=!0,Rn+="';\n"+cs+";\n__p += '"),jo&&(Rn+="' +\n((__t = ("+jo+")) == null ? '' : __t) +\n'"),Zn=Jc+Xi.length,Xi}),Rn+="';\n";var Wi=li.call(P,"variable")&&P.variable;if(Wi){if(xs.test(Wi))throw new Qi("Invalid `variable` option passed into `_.template`")}else Rn="with (obj) {\n"+Rn+"\n}\n";Rn=(kt?Rn.replace(za,""):Rn).replace(Aa,"$1").replace(Ks,"$1;"),Rn="function("+(Wi||"obj")+") {\n"+(Wi?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(At?", __e = _.escape":"")+(kt?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+Rn+"return __p\n}";var Io=Gp(function(){return xo(Je,Si+"return "+Rn).apply(K,dt)});if(Io.source=Rn,Fp(Io))throw Io;return Io},De.times=function P1(x,P){if((x=Ao(x))<1||x>Mt)return[];var F=ht,ce=Mr(x,ht);P=Yi(P),x-=ht;for(var Ie=Pa(ce,P);++F<x;)P(F);return Ie},De.toFinite=qu,De.toInteger=Ao,De.toLength=nf,De.toLower=function vg(x){return nr(x).toLowerCase()},De.toNumber=gc,De.toSafeInteger=function Uf(x){return x?Fr(Ao(x),-Mt,Mt):0===x?x:0},De.toString=nr,De.toUpper=function jl(x){return nr(x).toUpperCase()},De.trim=function u1(x,P,F){if((x=nr(x))&&(F||P===K))return ma(x);if(!x||!(P=Ea(P)))return x;var ce=pr(x),Ie=pr(P);return ye(ce,_l(ce,Ie),Fs(ce,Ie)+1).join("")},De.trimEnd=function m1(x,P,F){if((x=nr(x))&&(F||P===K))return x.slice(0,Za(x)+1);if(!x||!(P=Ea(P)))return x;var ce=pr(x);return ye(ce,0,Fs(ce,pr(P))+1).join("")},De.trimStart=function d1(x,P,F){if((x=nr(x))&&(F||P===K))return x.replace(ja,"");if(!x||!(P=Ea(P)))return x;var ce=pr(x);return ye(ce,_l(ce,pr(P))).join("")},De.truncate=function _1(x,P){var F=30,ce="...";if(Jr(P)){var Ie="separator"in P?P.separator:Ie;F="length"in P?Ao(P.length):F,ce="omission"in P?Ea(P.omission):ce}var Je=(x=nr(x)).length;if(Ce(x)){var dt=pr(x);Je=dt.length}if(F>=Je)return x;var At=F-Or(ce);if(At<1)return ce;var kt=dt?ye(dt,0,At).join(""):x.slice(0,At);if(Ie===K)return kt+ce;if(dt&&(At+=kt.length-At),Pd(Ie)){if(x.slice(At).search(Ie)){var Zn,qn=kt;for(Ie.global||(Ie=je(Ie.source,nr(As.exec(Ie))+"g")),Ie.lastIndex=0;Zn=Ie.exec(qn);)var Rn=Zn.index;kt=kt.slice(0,Rn===K?At:Rn)}}else if(x.indexOf(Ea(Ie),At)!=At){var oi=kt.lastIndexOf(Ie);oi>-1&&(kt=kt.slice(0,oi))}return kt+ce},De.unescape=function Ag(x){return(x=nr(x))&&Ta.test(x)?x.replace(ds,os):x},De.uniqueId=function q1(x){var P=++To;return nr(x)+P},De.upperCase=Tg,De.upperFirst=C_,De.each=Xu,De.eachRight=m_,De.first=Wd,Sd(De,function(){var x={};return Gs(De,function(P,F){li.call(De.prototype,F)||(x[F]=P)}),x}(),{chain:!1}),De.VERSION="4.17.21",ar(["bind","bindKey","curry","curryRight","partial","partialRight"],function(x){De[x].placeholder=De}),ar(["drop","take"],function(x,P){Co.prototype[x]=function(F){F=F===K?1:xr(Ao(F),0);var ce=this.__filtered__&&!P?new Co(this):this.clone();return ce.__filtered__?ce.__takeCount__=Mr(F,ce.__takeCount__):ce.__views__.push({size:Mr(F,ht),type:x+(ce.__dir__<0?"Right":"")}),ce},Co.prototype[x+"Right"]=function(F){return this.reverse()[x](F).reverse()}}),ar(["filter","map","takeWhile"],function(x,P){var F=P+1,ce=1==F||3==F;Co.prototype[x]=function(Ie){var Je=this.clone();return Je.__iteratees__.push({iteratee:Yi(Ie,3),type:F}),Je.__filtered__=Je.__filtered__||ce,Je}}),ar(["head","last"],function(x,P){var F="take"+(P?"Right":"");Co.prototype[x]=function(){return this[F](1).value()[0]}}),ar(["initial","tail"],function(x,P){var F="drop"+(P?"":"Right");Co.prototype[x]=function(){return this.__filtered__?new Co(this):this[F](1)}}),Co.prototype.compact=function(){return this.filter(oc)},Co.prototype.find=function(x){return this.filter(x).head()},Co.prototype.findLast=function(x){return this.reverse().find(x)},Co.prototype.invokeMap=lo(function(x,P){return"function"==typeof x?new Co(this):this.map(function(F){return Nc(F,x,P)})}),Co.prototype.reject=function(x){return this.filter(d_(Yi(x)))},Co.prototype.slice=function(x,P){x=Ao(x);var F=this;return F.__filtered__&&(x>0||P<0)?new Co(F):(x<0?F=F.takeRight(-x):x&&(F=F.drop(x)),P!==K&&(F=(P=Ao(P))<0?F.dropRight(-P):F.take(P-x)),F)},Co.prototype.takeRightWhile=function(x){return this.reverse().takeWhile(x).reverse()},Co.prototype.toArray=function(){return this.take(ht)},Gs(Co.prototype,function(x,P){var F=/^(?:filter|find|map|reject)|While$/.test(P),ce=/^(?:head|last)$/.test(P),Ie=De[ce?"take"+("last"==P?"Right":""):P],Je=ce||/^find/.test(P);Ie&&(De.prototype[P]=function(){var dt=this.__wrapped__,At=ce?[1]:arguments,kt=dt instanceof Co,Zn=At[0],qn=kt||po(dt),Rn=function(Lo){var jo=Ie.apply(De,ua([Lo],At));return ce&&oi?jo[0]:jo};qn&&F&&"function"==typeof Zn&&1!=Zn.length&&(kt=qn=!1);var oi=this.__chain__,Wi=Je&&!oi,Io=kt&&!this.__actions__.length;if(!Je&&qn){dt=Io?dt:new Co(this);var Xi=x.apply(dt,At);return Xi.__actions__.push({func:jm,args:[Rn],thisArg:K}),new ya(Xi,oi)}return Wi&&Io?x.apply(this,At):(Xi=this.thru(Rn),Wi?ce?Xi.value()[0]:Xi.value():Xi)})}),ar(["pop","push","shift","sort","splice","unshift"],function(x){var P=we[x],F=/^(?:push|sort|unshift)$/.test(x)?"tap":"thru",ce=/^(?:pop|shift)$/.test(x);De.prototype[x]=function(){var Ie=arguments;if(ce&&!this.__chain__){var Je=this.value();return P.apply(po(Je)?Je:[],Ie)}return this[F](function(dt){return P.apply(po(dt)?dt:[],Ie)})}}),Gs(Co.prototype,function(x,P){var F=De[P];if(F){var ce=F.name+"";li.call(ui,ce)||(ui[ce]=[]),ui[ce].push({name:P,func:F})}}),ui[Mm(K,J).name]=[{name:"wrapper",func:K}],Co.prototype.clone=function om(){var x=new Co(this.__wrapped__);return x.__actions__=Jo(this.__actions__),x.__dir__=this.__dir__,x.__filtered__=this.__filtered__,x.__iteratees__=Jo(this.__iteratees__),x.__takeCount__=this.__takeCount__,x.__views__=Jo(this.__views__),x},Co.prototype.reverse=function nu(){if(this.__filtered__){var x=new Co(this);x.__dir__=-1,x.__filtered__=!0}else(x=this.clone()).__dir__*=-1;return x},Co.prototype.value=function xa(){var x=this.__wrapped__.value(),P=this.__dir__,F=po(x),ce=P<0,Ie=F?x.length:0,Je=function R_(x,P,F){for(var ce=-1,Ie=F.length;++ce<Ie;){var Je=F[ce],dt=Je.size;switch(Je.type){case"drop":x+=dt;break;case"dropRight":P-=dt;break;case"take":P=Mr(P,x+dt);break;case"takeRight":x=xr(x,P-dt)}}return{start:x,end:P}}(0,Ie,this.__views__),dt=Je.start,At=Je.end,kt=At-dt,Zn=ce?At:dt-1,qn=this.__iteratees__,Rn=qn.length,oi=0,Si=Mr(kt,this.__takeCount__);if(!F||!ce&&Ie==kt&&Si==kt)return Te(x,this.__actions__);var Wi=[];e:for(;kt--&&oi<Si;){for(var Io=-1,Xi=x[Zn+=P];++Io<Rn;){var Lo=qn[Io],Qc=Lo.type,cs=(0,Lo.iteratee)(Xi);if(2==Qc)Xi=cs;else if(!cs){if(1==Qc)continue e;break e}}Wi[oi++]=Xi}return Wi},De.prototype.at=Hm,De.prototype.chain=function $m(){return s_(this)},De.prototype.commit=function Pp(){return new ya(this.value(),this.__chain__)},De.prototype.next=function Zp(){this.__values__===K&&(this.__values__=tf(this.value()));var x=this.__index__>=this.__values__.length;return{done:x,value:x?K:this.__values__[this.__index__++]}},De.prototype.plant=function l_(x){for(var P,F=this;F instanceof Bc;){var ce=Xc(F);ce.__index__=0,ce.__values__=K,P?Ie.__wrapped__=ce:P=ce;var Ie=ce;F=F.__wrapped__}return Ie.__wrapped__=x,P},De.prototype.reverse=function Sp(){var x=this.__wrapped__;if(x instanceof Co){var P=x;return this.__actions__.length&&(P=new Co(this)),(P=P.reverse()).__actions__.push({func:jm,args:[vd],thisArg:K}),new ya(P,this.__chain__)}return this.thru(vd)},De.prototype.toJSON=De.prototype.valueOf=De.prototype.value=function yp(){return Te(this.__wrapped__,this.__actions__)},De.prototype.first=De.prototype.head,Ll&&(De.prototype[Ll]=function qp(){return this}),De}();Do._=Wo,(Se=function(){return Wo}.call(wn,B,wn,co))!==K&&(co.exports=Se)}.call(this)},6838:(co,wn,B)=>{"use strict";B.d(wn,{FF:()=>xe,Fq:()=>e});var Se=B(4650),K=B(4006),Ge=B(9521),h=B(1572),ee=B(6895);const me=["input"];function Le(n,i){1&n&&Se._UZ(0,"mat-spinner",5)}function Q(n,i){if(1&n&&(Se.TgZ(0,"div",6),Se._uU(1),Se.qZA()),2&n){const Z=Se.oxw();Se.xp6(1),Se.hij(" ",Z.noResultsMessage,"\n")}}const w=function(n){return{"background-color":n}};let e=(()=>{class n{constructor(Z){this.showSpinner=!0,this.noResultsMessage="No results",this.noResults=!1,this.localSpinner=!1,this.filteredReturn=new Se.vpe,this.filteredItems=[],this.searchForm=Z.group({value:""})}ngOnInit(){this.searchFormValueChangesSubscription=this.searchForm.valueChanges.subscribe(Z=>{this.showSpinner&&(this.localSpinner=!0),Z.value?(this.filteredItems=null==this.displayMember?this.array.filter(O=>O.toLowerCase().includes(Z.value.toLowerCase())):this.hasGroup&&this.groupArrayName&&this.displayMember?this.array.map(O=>{const J=Object.assign({},O);return J[this.groupArrayName]=J[this.groupArrayName].filter(he=>he[this.displayMember].toLowerCase().includes(Z.value.toLowerCase())),J}).filter(O=>O[this.groupArrayName].length>0):this.array.filter(O=>O[this.displayMember].toLowerCase().includes(Z.value.toLowerCase())),this.noResults=null==this.filteredItems||0===this.filteredItems.length):(this.filteredItems=this.array.slice(),this.noResults=!1),this.filteredReturn.emit(this.filteredItems),setTimeout(()=>{this.showSpinner&&(this.localSpinner=!1)},2e3)}),setTimeout(()=>{this.input.nativeElement.focus()},500),this.placeholder||(this.placeholder="Search...")}handleKeydown(Z){(Z.key&&1===Z.key.length||Z.keyCode>=Ge.A&&Z.keyCode<=Ge.Z||Z.keyCode>=Ge.xE&&Z.keyCode<=Ge.aO||Z.keyCode===Ge.L_)&&Z.stopPropagation()}ngOnDestroy(){this.filteredReturn.emit(this.array),this.searchFormValueChangesSubscription.unsubscribe()}}return n.\u0275fac=function(Z){return new(Z||n)(Se.Y36(K.qu))},n.\u0275cmp=Se.Xpm({type:n,selectors:[["mat-select-filter"]],viewQuery:function(Z,O){if(1&Z&&Se.Gf(me,7),2&Z){let J;Se.iGM(J=Se.CRH())&&(O.input=J.first)}},inputs:{showSpinner:"showSpinner",noResultsMessage:"noResultsMessage",placeholder:"placeholder",array:"array",color:"color",displayMember:"displayMember",hasGroup:"hasGroup",groupArrayName:"groupArrayName"},outputs:{filteredReturn:"filteredReturn"},decls:6,vars:7,consts:[[1,"mat-filter",3,"formGroup","ngStyle"],["matInput","","formControlName","value",1,"mat-filter-input",3,"placeholder","keydown"],["input",""],["class","spinner","diameter","16",4,"ngIf"],["class","noResultsMessage",4,"ngIf"],["diameter","16",1,"spinner"],[1,"noResultsMessage"]],template:function(Z,O){1&Z&&(Se.TgZ(0,"form",0)(1,"div")(2,"input",1,2),Se.NdJ("keydown",function(he){return O.handleKeydown(he)}),Se.qZA(),Se.YNc(4,Le,1,0,"mat-spinner",3),Se.qZA(),Se.YNc(5,Q,2,1,"div",4),Se.qZA()),2&Z&&(Se.Q6J("formGroup",O.searchForm)("ngStyle",Se.VKq(5,w,O.color?O.color:"white")),Se.xp6(2),Se.s9C("placeholder",O.placeholder),Se.xp6(2),Se.Q6J("ngIf",O.localSpinner),Se.xp6(1),Se.Q6J("ngIf",O.noResults))},dependencies:[ee.O5,ee.PC,K._Y,K.Fj,K.JJ,K.JL,K.sg,K.u,h.Ou],styles:[".mat-filter[_ngcontent-%COMP%]{border-bottom:1px solid grey;border-radius:0;box-shadow:none;box-sizing:border-box;font-size:inherit;padding:16px;position:-webkit-sticky;position:sticky;top:0;z-index:100}.mat-filter-input[_ngcontent-%COMP%]{-moz-appearance:none;-webkit-appearance:none;appearance:none;background-color:unset;border:0;color:grey;outline:none;width:100%}.spinner[_ngcontent-%COMP%]{position:absolute;right:16px;top:calc(50% - 8px)}.noResultsMessage[_ngcontent-%COMP%]{font-family:Roboto,Helvetica Neue,sans-serif;font-size:16px;margin-top:10px}"]}),n})(),xe=(()=>{class n{}return n.\u0275fac=function(Z){return new(Z||n)},n.\u0275mod=Se.oAB({type:n}),n.\u0275inj=Se.cJS({imports:[ee.ez,K.u5,K.UX,h.Cq]}),n})()},6308:(co,wn,B)=>{"use strict";B.d(wn,{YE:()=>Z});var Se=B(4650),K=B(1281),Ge=B(3238),h=B(7579);B(7340);const n=new Se.OlP("MAT_SORT_DEFAULT_OPTIONS"),i=(0,Ge.dB)((0,Ge.Id)(class{}));let Z=(()=>{class ot extends i{constructor(Zt){super(),this._defaultOptions=Zt,this.sortables=new Map,this._stateChanges=new h.x,this.start="asc",this._direction="",this.sortChange=new Se.vpe}get direction(){return this._direction}set direction(Zt){this._direction=Zt}get disableClear(){return this._disableClear}set disableClear(Zt){this._disableClear=(0,K.Ig)(Zt)}register(Zt){this.sortables.set(Zt.id,Zt)}deregister(Zt){this.sortables.delete(Zt.id)}sort(Zt){this.active!=Zt.id?(this.active=Zt.id,this.direction=Zt.start?Zt.start:this.start):this.direction=this.getNextSortDirection(Zt),this.sortChange.emit({active:this.active,direction:this.direction})}getNextSortDirection(Zt){if(!Zt)return"";let _n=function O(ot,tt){let Zt=["asc","desc"];return"desc"==ot&&Zt.reverse(),tt||Zt.push(""),Zt}(Zt.start||this.start,Zt?.disableClear??this.disableClear??!!this._defaultOptions?.disableClear),xn=_n.indexOf(this.direction)+1;return xn>=_n.length&&(xn=0),_n[xn]}ngOnInit(){this._markInitialized()}ngOnChanges(){this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}}return ot.\u0275fac=function(Zt){return new(Zt||ot)(Se.Y36(n,8))},ot.\u0275dir=Se.lG2({type:ot,selectors:[["","matSort",""]],hostAttrs:[1,"mat-sort"],inputs:{disabled:["matSortDisabled","disabled"],active:["matSortActive","active"],start:["matSortStart","start"],direction:["matSortDirection","direction"],disableClear:["matSortDisableClear","disableClear"]},outputs:{sortChange:"matSortChange"},exportAs:["matSort"],features:[Se.qOj,Se.TTD]}),ot})()}}]);