
<div mat-dialog-title class="dialog-header">
    <span class="heading">Ajouter documents</span>

    <!-- <mat-icon class="btn btn-cross" mat-dialog-close>close</mat-icon> -->
</div>
<mat-divider></mat-divider>
    <mat-dialog-content class="mat-typography">
        <form #formDirective="ngForm" [formGroup]="formAddDoc"  (ngSubmit)="addDocument()"
        class="row form">    
        <!--typeInstance -->
        <mat-form-field class="col-md-5"
            appearance="outline">
            <mat-label>Type instance</mat-label>
            <mat-select formControlName="typeInstance"
                (selectionChange)="getDocumentList($event.value)">
                <ng-container *ngFor="let type of typeInstancesArray">
                    <mat-option [value]="type.idParam">{{type.description}}</mat-option>
                </ng-container>
            </mat-select>
            <mat-error
                *ngIf="formAddDoc.controls.typeInstance.errors"
                class="invalid-feedback">
                <div
                    *ngIf="formAddDoc.controls.typeInstance.errors.required">
                    ce champs est obligatoire</div>
            </mat-error>
        </mat-form-field>

        <mat-form-field class="col-md-5"
            appearance="outline">
            <mat-label>type document</mat-label>
            <mat-select formControlName="typeDocumentList">
                <ng-container *ngFor="let type of documentArray">
                    <mat-option [value]="type">{{type.description}}</mat-option>
                </ng-container>
            </mat-select>
            <mat-error
                *ngIf="formAddDoc.controls.typeDocumentList.errors"
                class="invalid-feedback">
                <div
                    *ngIf="formAddDoc.controls.typeDocumentList.errors.required">
                    ce champs est obligatoire</div>
            </mat-error>
        </mat-form-field>
        <mat-form-field class="col-md-5"
            appearance="outline">
            <mat-label>Statut document</mat-label>
            <mat-select formControlName="statut">
                <ng-container *ngFor="let type of statuDocumentArray">
                    <mat-option [value]="type.idParam">{{type.description}}</mat-option>
                </ng-container>
            </mat-select>
            <!-- <mat-error
                *ngIf="formInstance.controls.statutDocument.errors"
                class="invalid-feedback">
                <div
                    *ngIf="formInstance.controls.statutDocument.errors.required">
                    ce champs est obligatoire</div>
            </mat-error> -->
        </mat-form-field>
        <!--description -->
        <mat-form-field class="col-md-5"
            appearance="outline">
            <mat-label>description</mat-label>
            <textarea formControlName="description"
                matInput
                cdkTextareaAutosize
                #autosize="cdkTextareaAutosize"
                cdkAutosizeMinRows="1"
                cdkAutosizeMaxRows="10"></textarea>
            <!-- <mat-error
                *ngIf="formInstance.controls.description.errors"
                class="invalid-feedback">
                <div
                    *ngIf="formInstance.controls.description.errors.required">
                    ce champs est obligatoire</div>
            </mat-error> -->
        </mat-form-field>
    
        <div class="row-button">
            <button class="btn btn-cancel" mat-dialog-close type="button">Retour</button>
            <button class="btn btn-action col-button-add" type="submit">Enregistrer</button>
        </div>
    </form>
</mat-dialog-content>
<mat-dialog-content class="mat-typography" *ngIf="data.typeDialog=='edit'">
    <form #formDirective="ngForm" [formGroup]="formEditDoc"
        class="row form">
        <!--typeDocument -->
        <mat-form-field class="col-md-4"
            appearance="outline">
            <mat-label>type document</mat-label>
            <input type="text"
                matInput
                formControlName=typeDocument>
            <mat-error
                *ngIf="formEditDoc.controls.typeDocument.errors"
                class="invalid-feedback">
                <div
                    *ngIf="formEditDoc.controls.typeDocument.errors.required">
                    ce champs est obligatoire</div>
            </mat-error>
        </mat-form-field>
        <mat-form-field class="col-md-4"
            appearance="outline">
            <mat-label>Statut document</mat-label>
            <mat-select formControlName="statut">
                <ng-container *ngFor="let type of statuDocumentArray">
                    <mat-option [value]="type.idParam">{{type.description}}</mat-option>
                </ng-container>
            </mat-select>
            <mat-error
                *ngIf="formEditDoc.controls.statut.errors"
                class="invalid-feedback">
                <div
                    *ngIf="formEditDoc.controls.statut.errors.required">
                    ce champs est obligatoire</div>
            </mat-error>
        </mat-form-field>
        <!--description -->
        <mat-form-field class="col-md-4"
            appearance="outline">
            <mat-label>description</mat-label>
            <textarea formControlName="description"
                matInput
                cdkTextareaAutosize
                #autosize="cdkTextareaAutosize"
                cdkAutosizeMinRows="1"
                cdkAutosizeMaxRows="10"></textarea>
            <mat-error
                *ngIf="formEditDoc.controls.description.errors"
                class="invalid-feedback">
                <div
                    *ngIf="formEditDoc.controls.description.errors.required">
                    ce champs est obligatoire</div>
            </mat-error>
        </mat-form-field>

        <div class="row-button">
            <button class="btn btn-cancel" mat-dialog-close type="button">Retour</button>
            <button class="btn btn-action col-button-add" type="submit">Enregistrer</button>
        </div>
    </form>
</mat-dialog-content>