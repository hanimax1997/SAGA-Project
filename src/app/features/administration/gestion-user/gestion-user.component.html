<div class="container">
    <div class="header">

        <h2 class="title-table">Liste des utilisateurs</h2>

        <button class="btn btn-secondary" style="display: flex;
            align-items: center;" (click)="navigateToCreation()">

            <mat-icon aria-hidden="false" aria-label="ajouter une reduction "
                class="material-symbols-outlined">add_circle</mat-icon>

            Ajouter un nouvel utilisateur
        </button>
    </div>
    <mat-divider></mat-divider>

    <form #formDirective="ngForm" [formGroup]="formFilter" class="form row"
    (ngSubmit)="submitFilter()">
    <!--codeConvention -->
    <mat-form-field class="col-md-5"
        appearance="outline">
        <mat-label>Email User</mat-label>
        <input type="text" matInput placeholder=""
            formControlName="emailUser">
    </mat-form-field>
    <!--nomConvention-->
    <mat-form-field class="col-md-5"
        appearance="outline">
        <mat-label>Nom User</mat-label>
        <input type="text" matInput placeholder=""
            formControlName="nomUser">
    </mat-form-field>
  
    <div class="col-md-12 button-row">
        <mat-icon class="material-symbols-outlined"
            (click)="resetTable()"
            matTooltip="Reset" matTooltipPosition="left">restart_alt</mat-icon>
        <button class="btn btn-action">Filtrer</button>
    </div>
     


</form>
    <table mat-table [dataSource]="dataSource" class="gestion-table">
        <!-- idUser Column -->
        <ng-container matColumnDef="userid">
            <th mat-header-cell *matHeaderCellDef> # </th>
            <td mat-cell *matCellDef="let element"> {{element.userid}}
            </td>
        </ng-container>
        <!-- nomUser Column -->
        <ng-container matColumnDef="nom">
            <th mat-header-cell *matHeaderCellDef> Nom </th>
            <td mat-cell *matCellDef="let element"> {{element.nom}}
            </td>
        </ng-container>
           <!-- prenomUser Column -->
           <ng-container matColumnDef="prenom">
            <th mat-header-cell *matHeaderCellDef> Pr√©nom </th>
            <td mat-cell *matCellDef="let element"> {{element.prenom}}
            </td>
        </ng-container>
           <!-- emailUser Column -->
        <ng-container matColumnDef="email">
            <th mat-header-cell *matHeaderCellDef> E-mail </th>
            <td mat-cell *matCellDef="let element"> {{element.email}}
            </td>
        </ng-container>
        <!-- Action Column -->
     <ng-container matColumnDef="action">
        <th mat-header-cell *matHeaderCellDef> Action </th>
        <td mat-cell *matCellDef="let element">

            <button mat-icon-button
                type="button"
                [matMenuTriggerFor]="menu"
                aria-label="menu reduction list">
                <mat-icon>more_vert</mat-icon>
            </button>
            <mat-menu #menu="matMenu"
            xPosition="after">
            <button mat-menu-item
                (click)="updateUser(element.userid)"
                type="button">
                <mat-icon>zoom_in</mat-icon>
                <span>Modifier Utilisateur</span>
            </button>
            <!--button mat-menu-item
                (click)="updatePassword(element.email)"
                type="button">
                <mat-icon>delete</mat-icon>
                <span>Modifier mot de passe</span>
            </button-->
        </mat-menu>
        </td>
     </ng-container>
        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>


        <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
       
    </table>
    <mat-paginator [pageSize]="10" [pageSizeOptions]="[5, 10]"
    aria-label="Select page of users"></mat-paginator>


</div>
    
