<mat-sidenav-container fullscreen>
    <mat-sidenav
        #sidenav
        mode="side"
        class="example-sidenav"
        opened="true">
        <div class="logomain">
            <img src="../../../assets/img/logo/logo-side.png">
        </div>

        <mat-nav-list>
            <div *ngFor="let menuItem of menuItems">
                <a *ngIf="menuItem.children.length> 0">
                    <mat-accordion>
                        <mat-expansion-panel>
                            <mat-expansion-panel-header
                                class="mat-expansion-toggle-indicator-before">
                                <mat-panel-title>

                                    <div class="nav-item">

                                        <mat-icon
                                            class="material-symbols-outlined">
                                            {{menuItem.icon}}
                                        </mat-icon>
                                        <span>{{menuItem.title}}</span>
                                    </div>
                                </mat-panel-title>
                            </mat-expansion-panel-header>
                            <span *ngFor="let child of menuItem.children">
                                <mat-list-item mat-button
                                    [matMenuTriggerFor]="sidenav">

                                    <div class="nav-item">
                                        <mat-icon
                                            class="material-symbols-outlined">{{child.icon}}</mat-icon>
                                        {{child.title}}
                                    </div>

                                    <mat-menu #sidenav="matMenu" #aboveMenu="matMenu" yPosition="above" xPosition="before">
                                        <span *ngFor="let subchild of
                                        child.children">
                                        <div class="nav-item">
                                            <mat-icon
                                                class="material-symbols-outlined">{{subchild.icon}}</mat-icon>
                                            {{subchild.title}}
                                        </div>
                                        </span>
                                    </mat-menu>
                                </mat-list-item>
                            </span>
                        </mat-expansion-panel>
                    </mat-accordion>
                </a>
                <a *ngIf="!menuItem.children || menuItem.children.length ===0">
                    <mat-list-item routerLink="[item.route]">

                        <div class="nav-item">
                            <mat-icon class="material-symbols-outlined">{{menuItem.icon}}</mat-icon>
                            <span>{{menuItem.title}}</span>
                        </div>
                    </mat-list-item>
                </a>
            </div>
        </mat-nav-list>
    </mat-sidenav>
    <!-- <ul class="navbar-nav">
        <li *ngFor="let menuItem of menuItems" class="{{menuItem.class}}
            nav-item">
            <a *ngIf="menuItem.children.length==0" routerLinkActive="active"
                [routerLink]="[menuItem.path]"
                class="nav-link">
                <i class="ni {{menuItem.icon}}"></i>
                {{menuItem.title}}
            </a>
            <a *ngIf="menuItem.children.length!=0" class="nav-link"
                data-toggle="collapse" routerlinkactive="active"
                href="#{{menuItem.title}}">
                <i class="ni {{menuItem.icon}}"></i>
                {{menuItem.title}}
            </a>
            <div class="collapse" id="{{menuItem.title}}">
                <ul class="nav nav-sm flex-column ">

                    <li class="nav-item" *ngFor="let children of
                        menuItem.children">
                        <a class="nav-link second-level"
                            routerlinkactive="active"[routerLink]="[children.path]">
                            <i class="ni {{children.icon}}"></i>
                            {{children.title}} </a>

                    </li>

                </ul>
            </div>
        </li>
    </ul> -->
    <!-- <div class="example-sidenav-content">
        <router-outlet></router-outlet> -->
    <!-- <mat-icon (click)="sidenav.toggle()" class="sidenav-menu">menu</mat-icon> 
    </div> -->
</mat-sidenav-container>


import { Component, OnInit } from '@angular/core';

declare interface navInfo {
  path: string;
  title: string;
  icon: string;
  class: string;
  children: any
}
export const NAV: navInfo[] = [
  { path: '/dashboard', title: 'Dashboard', icon: 'space_dashboard', class: '', children: [] },
  {
    path: '/', title: 'Produit', icon: '', class: '', children: [
      { path: '/', title: 'Véhircules', icon: 'directions_car', class: '', children: [
        { path: '/', title: 'Automobile mono', icon: 'directions_car', class: '' },
        { path: '/', title: 'Automobile flotte', icon: 'directions_car', class: '' },
        { path: '/', title: 'Automobile leasing', icon: 'directions_car', class: '' },
 
      ] },
      { path: '/', title: 'Accidents individuels', icon: 'emergency', class: '' },
      { path: '/', title: 'Santé', icon: 'nightlight', class: '' },
      { path: '/', title: 'Entreprises et professionnels', icon: 'apartment', class: '' },
      { path: '/', title: 'Habitations', icon: 'other_houses', class: '' },
      { path: '/', title: 'Prévoyance', icon: 'account_balance', class: '' },
    ]
  },

  {
    path: '/', title: 'CRM', icon: '', class: '', children: [
      { path: '/', title: 'Clients', icon: 'group', class: '' },
      { path: '/', title: 'Agences', icon: 'store', class: '' },
    ]
  },
  {
    path: '/', title: 'Administration', icon: '', class: '', children: [
      { path: '/', title: 'Utilisateurs', icon: 'assignment_ind', class: '' },
      { path: '/', title: 'Produit', icon: 'shopping_cart', class: '' },
      { path: '/', title: 'Référentiels', icon: 'health_and_safety', class: '' },
      { path: '/', title: 'Agences', icon: 'store', class: '' },
    ]
  },
];

@Component({
  selector: 'app-sidebar',
  templateUrl: './sidebar.component.html',
  styleUrls: ['./sidebar.component.scss']
})
export class SidebarComponent implements OnInit {

  menuItems: any[] = [];
  sidebarState: string ='';
  isExpanded = true;
  showSubmenu: boolean = false;
  isShowing = false;
  showSubSubMenu: boolean = false;
  constructor() { }

  ngOnInit(): void {
    this.menuItems = NAV.filter(menuItem => menuItem);
  }

}




        <!-- Dropdown-->
        <li class="panel panel-default" id="dropdown">
            <a data-toggle="collapse" href="#dropdown-lvl1">
              <i class="fa fa-diamond"></i> Apps
              <span class="caret"></span>
            </a>
            <!-- Dropdown level 1 -->
            <div id="dropdown-lvl1" class="panel-collapse collapse">
              <div class="panel-body">
                <ul class="nav navbar-nav">
                  <li><a href="#">Mail</a></li>
                  <li><a href="#">Calendar</a></li>
                  <li><a href="#">Ecommerce</a></li>
                  <li><a href="#">User</a></li>
                  <li><a href="#">Social</a></li>
  
                  <!-- Dropdown level 2 -->
                  <li class="panel panel-default" id="dropdown">
                    <a data-toggle="collapse" href="#dropdown-lvl2">
                      <i class="glyphicon glyphicon-off"></i> Sub Level <span
                        class="caret"></span>
                    </a>
                    <div id="dropdown-lvl2" class="panel-collapse collapse">
                      <div class="panel-body">
                        <ul class="nav navbar-nav">
                          <li><a href="#">Link</a></li>
                          <li><a href="#">Link</a></li>
                          <li><a href="#">Link</a></li>
                        </ul>
                      </div>
                    </div>
                  </li>
                </ul>
              </div>
            </div>
          </li>
          <li><a href="#"><span class="glyphicon glyphicon-signal"></span> Link</a></li>